graph TD
    subgraph Events ["System Events"]
        %% Red Phase Events
        EventGreen["Node Verified (Red to Green)"]
        EventGray["Node Contradictory (Red to Gray)"]
        EventDelete["Node Rejected (Red to Deleted)"]
        
        %% Yellow Phase Events
        EventFix["Flag Resolved: Fixed/Edited"]
        EventFalse["Flag Resolved: False Alarm"]
        
        %% Formal Deduplication/Integrity Events
        EventFlagGray["Flag Resolved: Found Contradiction (to Gray)"]
        EventMerge["Flag Resolved: Axiom Merged (Registry)"]
        EventDeprecate["Flag Resolved: Branch Duplicated (to Zombie)"]
    end

    subgraph OwnerRewards ["Owner Rewards"]
        ownerCreation[/"Owner: +1 Creation Score"/]
        ownerContrib[/"Owner: +2 Contributor Score"/]
    end

    subgraph PublicRewards ["Contributor Rewards"]
        VoteGSuccess[/"Green Voter: +1"/]
        VoteGFail[/"Green Voter: -1"/]
        
        VoteBSuccess[/"Black Voter: +1"/]
        VoteBFail[/"Black Voter: -1"/]
        
        FlagSuccess[/"Flagger: +1 (Fix Accepted)"/]
        FlagFail[/"Flagger: -1 (False Alarm)"/]
        
        FlagBigWin[/"Flagger: +2 (Found Contradiction)"/]
        flagLibrarian[/"Librarian Bonus: +1 (Duplicate/Merge)"/]
    end

    %% -- Owner Rewards --
    EventGreen --> ownerCreation
    EventGray --> ownerCreation
    EventGreen --> ownerContrib
    EventGray --> ownerContrib

    %% -- Voting Rewards --
    EventGreen -->|"Voted Green (Right)"| VoteGSuccess
    EventGreen -->|"Voted Black (Wrong)"| VoteBFail
    
    EventGray -->|"Voted Green (Right)"| VoteGSuccess
    EventGray -->|"Voted Black (Wrong)"| VoteBFail
    
    EventDelete -->|"Voted Black (Right)"| VoteBSuccess
    EventDelete -->|"Voted Green (Wrong)"| VoteGFail

    %% -- Flagging & Librarian Rewards --
    EventFix -->|"Flag Resolved: Fixed/Edited"| FlagSuccess
    EventFalse -->|"Flag Resolved: False Alarm"| FlagFail
    
    EventFlagGray -->|"Flag Resolved: Found Contradiction"| FlagBigWin
    
    EventDeprecate -->|"Flag Resolved: Branch Duplicated"| flagLibrarian
    EventMerge -->|"Flag Resolved: Axiom Merged"| flagLibrarian
    
    %% Styling
    style ownerCreation fill:#ccffcc,stroke:#006400
    style ownerContrib fill:#ccffcc,stroke:#006400
    
    style VoteGSuccess fill:#e1f5fe,stroke:#01579b
    style VoteBSuccess fill:#e1f5fe,stroke:#01579b
    style FlagSuccess fill:#e1f5fe,stroke:#01579b
    style FlagBigWin fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    style flagLibrarian fill:#e1f5fe,stroke:#01579b
    
    style VoteGFail fill:#ffcccc,stroke:#b71c1c
    style VoteBFail fill:#ffcccc,stroke:#b71c1c
    style FlagFail fill:#ffcccc,stroke:#b71c1c