graph TD
    subgraph events ["System Events"]
        %% Red Phase Events
        eventGreen["Node Verified (Red to Green)"]
        eventGray["Node Contradictory (Red to Gray)"]
        eventDelete["Node Rejected (Red to Deleted)"]
        
        %% Yellow Phase Events
        eventFix["Flag Resolved: Fixed/Edited"]
        eventFalse["Flag Resolved: False Alarm"]
        
        %% Formal Deduplication/Integrity Events
        eventFlagGray["Flag Resolved: Found Contradiction (to Gray)"]
        eventMerge["Flag Resolved: Axiom Merged (Registry)"]
        eventDeprecate["Flag Resolved: Branch Duplicated (to Zombie)"]
    end

    subgraph ownerRewards ["Owner Rewards"]
        ownerCreation[/"Owner: +1 Creation Score"/]
        ownerContrib[/"Owner: +2 Contributor Score"/]
    end

    subgraph publicRewards ["Contributor Rewards"]
        voteGSuccess[/"Green Voter: +1"/]
        voteGFail[/"Green Voter: -1"/]
        
        voteBSuccess[/"Black Voter: +1"/]
        voteBFail[/"Black Voter: -1"/]
        
        flagSuccess[/"Flagger: +1 (Fix Accepted)"/]
        flagFail[/"Flagger: -1 (False Alarm)"/]
        
        flagBigWin[/"Flagger: +2 (Found Contradiction)"/]
        flagLibrarian[/"Librarian Bonus: +1 (Duplicate/Merge)"/]
    end

    %% -- Owner Rewards --
    eventGreen --> ownerCreation
    eventGray --> ownerCreation
    eventGreen --> ownerContrib
    eventGray --> ownerContrib

    %% -- Voting Rewards --
    eventGreen -->|"Voted Green (Right)"| voteGSuccess
    eventGreen -->|"Voted Black (Wrong)"| voteBFail
    
    eventGray -->|"Voted Green (Right)"| voteGSuccess
    eventGray -->|"Voted Black (Wrong)"| voteBFail
    
    eventDelete -->|"Voted Black (Right)"| voteBSuccess
    eventDelete -->|"Voted Green (Wrong)"| voteGFail

    %% -- Flagging & Librarian Rewards --
    eventFix -->|"Flag Resolved: Fixed/Edited"| flagSuccess
    eventFalse -->|"Flag Resolved: False Alarm"| flagFail
    
    eventFlagGray -->|"Flag Resolved: Found Contradiction"| flagBigWin
    
    eventDeprecate -->|"Flag Resolved: Branch Duplicated"| flagLibrarian
    eventMerge -->|"Flag Resolved: Axiom Merged"| flagLibrarian
    
    %% Styling
    style ownerCreation fill:#ccffcc,stroke:#006400
    style ownerContrib fill:#ccffcc,stroke:#006400
    
    style voteGSuccess fill:#e1f5fe,stroke:#01579b
    style voteBSuccess fill:#e1f5fe,stroke:#01579b
    style flagSuccess fill:#e1f5fe,stroke:#01579b
    style flagBigWin fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    style flagLibrarian fill:#e1f5fe,stroke:#01579b
    
    style voteGFail fill:#ffcccc,stroke:#b71c1c
    style voteBFail fill:#ffcccc,stroke:#b71c1c
    style flagFail fill:#ffcccc,stroke:#b71c1c