(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dg={exports:{}},w0={};var o9;function UV(){if(o9)return w0;o9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return w0.Fragment=e,w0.jsx=n,w0.jsxs=n,w0}var l9;function HV(){return l9||(l9=1,Dg.exports=UV()),Dg.exports}var k=HV(),Og={exports:{}},at={};var u9;function FV(){if(u9)return at;u9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(Y,W,me){this.props=Y,this.context=W,this.refs=E,this.updater=me||x}C.prototype.isReactComponent={},C.prototype.setState=function(Y,W){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,W,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function O(){}O.prototype=C.prototype;function A(Y,W,me){this.props=Y,this.context=W,this.refs=E,this.updater=me||x}var z=A.prototype=new O;z.constructor=A,S(z,C.prototype),z.isPureReactComponent=!0;var U=Array.isArray;function q(){}var R={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(Y,W,me){var Q=me.ref;return{$$typeof:t,type:Y,key:W,ref:Q!==void 0?Q:null,props:me}}function H(Y,W){return D(Y.type,W,Y.props)}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function j(Y){var W={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(me){return W[me]})}var B=/\/+/g;function K(Y,W){return typeof Y=="object"&&Y!==null&&Y.key!=null?j(""+Y.key):W.toString(36)}function ne(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(q,q):(Y.status="pending",Y.then(function(W){Y.status==="pending"&&(Y.status="fulfilled",Y.value=W)},function(W){Y.status==="pending"&&(Y.status="rejected",Y.reason=W)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function $(Y,W,me,Q,ie){var le=typeof Y;(le==="undefined"||le==="boolean")&&(Y=null);var he=!1;if(Y===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(Y.$$typeof){case t:case e:he=!0;break;case m:return he=Y._init,$(he(Y._payload),W,me,Q,ie)}}if(he)return ie=ie(Y),he=Q===""?"."+K(Y,0):Q,U(ie)?(me="",he!=null&&(me=he.replace(B,"$&/")+"/"),$(ie,W,me,"",function(Le){return Le})):ie!=null&&(V(ie)&&(ie=H(ie,me+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(B,"$&/")+"/")+he)),W.push(ie)),1;he=0;var _e=Q===""?".":Q+":";if(U(Y))for(var Ce=0;Ce<Y.length;Ce++)Q=Y[Ce],le=_e+K(Q,Ce),he+=$(Q,W,me,le,ie);else if(Ce=b(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(Q=Y.next()).done;)Q=Q.value,le=_e+K(Q,Ce++),he+=$(Q,W,me,le,ie);else if(le==="object"){if(typeof Y.then=="function")return $(ne(Y),W,me,Q,ie);throw W=String(Y),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return he}function ee(Y,W,me){if(Y==null)return Y;var Q=[],ie=0;return $(Y,Q,"","",function(le){return W.call(me,le,ie++)}),Q}function re(Y){if(Y._status===-1){var W=Y._result;W=W(),W.then(function(me){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=me)},function(me){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=me)}),Y._status===-1&&(Y._status=0,Y._result=W)}if(Y._status===1)return Y._result.default;throw Y._result}var ce=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},de={map:ee,forEach:function(Y,W,me){ee(Y,function(){W.apply(this,arguments)},me)},count:function(Y){var W=0;return ee(Y,function(){W++}),W},toArray:function(Y){return ee(Y,function(W){return W})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return at.Activity=p,at.Children=de,at.Component=C,at.Fragment=n,at.Profiler=i,at.PureComponent=A,at.StrictMode=r,at.Suspense=h,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,at.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return R.H.useMemoCache(Y)}},at.cache=function(Y){return function(){return Y.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(Y,W,me){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Q=S({},Y.props),ie=Y.key;if(W!=null)for(le in W.key!==void 0&&(ie=""+W.key),W)!M.call(W,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&W.ref===void 0||(Q[le]=W[le]);var le=arguments.length-2;if(le===1)Q.children=me;else if(1<le){for(var he=Array(le),_e=0;_e<le;_e++)he[_e]=arguments[_e+2];Q.children=he}return D(Y.type,ie,Q)},at.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},at.createElement=function(Y,W,me){var Q,ie={},le=null;if(W!=null)for(Q in W.key!==void 0&&(le=""+W.key),W)M.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=W[Q]);var he=arguments.length-2;if(he===1)ie.children=me;else if(1<he){for(var _e=Array(he),Ce=0;Ce<he;Ce++)_e[Ce]=arguments[Ce+2];ie.children=_e}if(Y&&Y.defaultProps)for(Q in he=Y.defaultProps,he)ie[Q]===void 0&&(ie[Q]=he[Q]);return D(Y,le,ie)},at.createRef=function(){return{current:null}},at.forwardRef=function(Y){return{$$typeof:c,render:Y}},at.isValidElement=V,at.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},at.memo=function(Y,W){return{$$typeof:f,type:Y,compare:W===void 0?null:W}},at.startTransition=function(Y){var W=R.T,me={};R.T=me;try{var Q=Y(),ie=R.S;ie!==null&&ie(me,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(q,ce)}catch(le){ce(le)}finally{W!==null&&me.types!==null&&(W.types=me.types),R.T=W}},at.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},at.use=function(Y){return R.H.use(Y)},at.useActionState=function(Y,W,me){return R.H.useActionState(Y,W,me)},at.useCallback=function(Y,W){return R.H.useCallback(Y,W)},at.useContext=function(Y){return R.H.useContext(Y)},at.useDebugValue=function(){},at.useDeferredValue=function(Y,W){return R.H.useDeferredValue(Y,W)},at.useEffect=function(Y,W){return R.H.useEffect(Y,W)},at.useEffectEvent=function(Y){return R.H.useEffectEvent(Y)},at.useId=function(){return R.H.useId()},at.useImperativeHandle=function(Y,W,me){return R.H.useImperativeHandle(Y,W,me)},at.useInsertionEffect=function(Y,W){return R.H.useInsertionEffect(Y,W)},at.useLayoutEffect=function(Y,W){return R.H.useLayoutEffect(Y,W)},at.useMemo=function(Y,W){return R.H.useMemo(Y,W)},at.useOptimistic=function(Y,W){return R.H.useOptimistic(Y,W)},at.useReducer=function(Y,W,me){return R.H.useReducer(Y,W,me)},at.useRef=function(Y){return R.H.useRef(Y)},at.useState=function(Y){return R.H.useState(Y)},at.useSyncExternalStore=function(Y,W,me){return R.H.useSyncExternalStore(Y,W,me)},at.useTransition=function(){return R.H.useTransition()},at.version="19.2.3",at}var c9;function dh(){return c9||(c9=1,Og.exports=FV()),Og.exports}var oe=dh();const JI=Om(oe);var zg={exports:{}},x0={},Lg={exports:{}},Vg={};var h9;function GV(){return h9||(h9=1,(function(t){function e($,ee){var re=$.length;$.push(ee);e:for(;0<re;){var ce=re-1>>>1,de=$[ce];if(0<i(de,ee))$[ce]=ee,$[re]=de,re=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],re=$.pop();if(re!==ee){$[0]=re;e:for(var ce=0,de=$.length,Y=de>>>1;ce<Y;){var W=2*(ce+1)-1,me=$[W],Q=W+1,ie=$[Q];if(0>i(me,re))Q<de&&0>i(ie,me)?($[ce]=ie,$[Q]=re,ce=Q):($[ce]=me,$[W]=re,ce=W);else if(Q<de&&0>i(ie,re))$[ce]=ie,$[Q]=re,ce=Q;else break e}}return ee}function i($,ee){var re=$.sortIndex-ee.sortIndex;return re!==0?re:$.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,p=null,v=3,b=!1,x=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z($){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=$)r(f),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(f)}}function U($){if(S=!1,z($),!x)if(n(h)!==null)x=!0,q||(q=!0,j());else{var ee=n(f);ee!==null&&ne(U,ee.startTime-$)}}var q=!1,R=-1,M=5,D=-1;function H(){return E?!0:!(t.unstable_now()-D<M)}function V(){if(E=!1,q){var $=t.unstable_now();D=$;var ee=!0;try{e:{x=!1,S&&(S=!1,O(R),R=-1),b=!0;var re=v;try{t:{for(z($),p=n(h);p!==null&&!(p.expirationTime>$&&H());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,v=p.priorityLevel;var de=ce(p.expirationTime<=$);if($=t.unstable_now(),typeof de=="function"){p.callback=de,z($),ee=!0;break t}p===n(h)&&r(h),z($)}else r(h);p=n(h)}if(p!==null)ee=!0;else{var Y=n(f);Y!==null&&ne(U,Y.startTime-$),ee=!1}}break e}finally{p=null,v=re,b=!1}ee=void 0}}finally{ee?j():q=!1}}}var j;if(typeof A=="function")j=function(){A(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=V,j=function(){K.postMessage(null)}}else j=function(){C(V,0)};function ne($,ee){R=C(function(){$(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var re=v;v=ee;try{return $()}finally{v=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=v;v=$;try{return ee()}finally{v=re}},t.unstable_scheduleCallback=function($,ee,re){var ce=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ce+re:ce):re=ce,$){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=re+de,$={id:m++,callback:ee,priorityLevel:$,startTime:re,expirationTime:de,sortIndex:-1},re>ce?($.sortIndex=re,e(f,$),n(h)===null&&$===n(f)&&(S?(O(R),R=-1):S=!0,ne(U,re-ce))):($.sortIndex=de,e(h,$),x||b||(x=!0,q||(q=!0,j()))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var ee=v;return function(){var re=v;v=ee;try{return $.apply(this,arguments)}finally{v=re}}}})(Vg)),Vg}var f9;function $V(){return f9||(f9=1,Lg.exports=GV()),Lg.exports}var qg={exports:{}},ar={};var d9;function YV(){if(d9)return ar;d9=1;var t=dh();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ar.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},ar.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},ar.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},ar.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ar.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ar.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},ar.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ar.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},ar.requestFormReset=function(h){r.d.r(h)},ar.unstable_batchedUpdates=function(h,f){return h(f)},ar.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},ar.useFormStatus=function(){return l.H.useHostTransitionStatus()},ar.version="19.2.3",ar}var m9;function eN(){if(m9)return qg.exports;m9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qg.exports=YV(),qg.exports}var p9;function XV(){if(p9)return x0;p9=1;var t=$V(),e=dh(),n=eN();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return h(y),a;if(_===d)return h(y),o;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=_;else{for(var N=!1,F=y.child;F;){if(F===u){N=!0,u=y,d=_;break}if(F===d){N=!0,d=y,u=_;break}F=F.sibling}if(!N){for(F=_.child;F;){if(F===u){N=!0,u=_,d=y;break}if(F===d){N=!0,d=_,u=y;break}F=F.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case q:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case A:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case z:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:K(a.type)||"Memo";case M:o=a._payload,a=a._init;try{return K(a(o))}catch{}}return null}var ne=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ce=[],de=-1;function Y(a){return{current:a}}function W(a){0>de||(a.current=ce[de],ce[de]=null,de--)}function me(a,o){de++,ce[de]=a.current,a.current=o}var Q=Y(null),ie=Y(null),le=Y(null),he=Y(null);function _e(a,o){switch(me(le,o),me(ie,a),me(Q,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Nw(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Nw(o),a=Mw(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(Q),me(Q,a)}function Ce(){W(Q),W(ie),W(le)}function Le(a){a.memoizedState!==null&&me(he,a);var o=Q.current,u=Mw(o,a.type);o!==u&&(me(ie,a),me(Q,u))}function He(a){ie.current===a&&(W(Q),W(ie)),he.current===a&&(W(he),v0._currentValue=re)}var Ue,Pe;function Ge(a){if(Ue===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ue=o&&o[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+a+Pe}var Be=!1;function it(a,o){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(we){var ye=we}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(we){ye=we}a.call(Te.prototype)}}else{try{throw Error()}catch(we){ye=we}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(we){if(we&&ye&&typeof we.stack=="string")return[we.stack,ye.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),N=_[0],F=_[1];if(N&&F){var te=N.split(`
`),ve=F.split(`
`);for(y=d=0;d<te.length&&!te[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ve.length&&!ve[y].includes("DetermineComponentFrameRoot");)y++;if(d===te.length||y===ve.length)for(d=te.length-1,y=ve.length-1;1<=d&&0<=y&&te[d]!==ve[y];)y--;for(;1<=d&&0<=y;d--,y--)if(te[d]!==ve[y]){if(d!==1||y!==1)do if(d--,y--,0>y||te[d]!==ve[y]){var xe=`
`+te[d].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=d&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function $e(a,o){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return it(a.type,!1);case 11:return it(a.type.render,!1);case 1:return it(a.type,!0);case 31:return Ge("Activity");default:return""}}function Gt(a){try{var o="",u=null;do o+=$e(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var st=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,Vn=t.unstable_cancelCallback,jn=t.unstable_shouldYield,Yt=t.unstable_requestPaint,Zt=t.unstable_now,$n=t.unstable_getCurrentPriorityLevel,yr=t.unstable_ImmediatePriority,_r=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,ws=t.unstable_LowPriority,Ti=t.unstable_IdlePriority,xs=t.log,Aa=t.unstable_setDisableYieldValue,hn=null,Ut=null;function br(a){if(typeof xs=="function"&&Aa(a),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(hn,a)}catch{}}var sn=Math.clz32?Math.clz32:Hl,Ul=Math.log,Ss=Math.LN2;function Hl(a){return a>>>=0,a===0?32:31-(Ul(a)/Ss|0)|0}var ei=256,Ca=262144,fn=4194304;function ti(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ni(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var F=d&134217727;return F!==0?(d=F&~_,d!==0?y=ti(d):(N&=F,N!==0?y=ti(N):u||(u=F&~a,u!==0&&(y=ti(u))))):(F=d&~_,F!==0?y=ti(F):N!==0?y=ti(N):u||(u=d&~a,u!==0&&(y=ti(u)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:y}function Or(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Ic(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var a=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),a}function ri(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ra(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Nc(a,o,u,d,y,_){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var F=a.entanglements,te=a.expirationTimes,ve=a.hiddenUpdates;for(u=N&~u;0<u;){var xe=31-sn(u),Te=1<<xe;F[xe]=0,te[xe]=-1;var ye=ve[xe];if(ye!==null)for(ve[xe]=null,xe=0;xe<ye.length;xe++){var we=ye[xe];we!==null&&(we.lane&=-536870913)}u&=~Te}d!==0&&Ia(a,d,0),_!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~o))}function Ia(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-sn(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function zo(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-sn(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function Lo(a,o){var u=o&-o;return u=(u&42)!==0?1:Na(u),(u&(a.suspendedLanes|o))!==0?0:u}function Na(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ai(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Gl(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:e9(a.type))}function zr(a,o){var u=ee.p;try{return ee.p=a,o()}finally{ee.p=u}}var Lr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Lr,En="__reactProps$"+Lr,Vr="__reactContainer$"+Lr,Ma="__reactEvents$"+Lr,$l="__reactListeners$"+Lr,Yl="__reactHandles$"+Lr,Xl="__reactResources$"+Lr,ii="__reactMarker$"+Lr;function Es(a){delete a[dn],delete a[En],delete a[Ma],delete a[$l],delete a[Yl]}function ai(a){var o=a[dn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Vr]||u[dn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=qw(a);a!==null;){if(u=a[dn])return u;a=qw(a)}return o}a=u,u=a.parentNode}return null}function wr(a){if(a=a[dn]||a[Vr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function rr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function si(a){var o=a[Xl];return o||(o=a[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mn(a){a[ii]=!0}var Vo=new Set,qo={};function oi(a,o){li(a,o),li(a+"Capture",o)}function li(a,o){for(qo[a]=o,a=0;a<o.length;a++)Vo.add(o[a])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ts={},Bo={};function Kl(a){return st.call(Bo,a)?!0:st.call(Ts,a)?!1:Po.test(a)?Bo[a]=!0:(Ts[a]=!0,!1)}function As(a,o,u){if(Kl(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function cr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function pn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Tn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ki(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jo(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function At(a){if(!a._valueTracker){var o=Ki(a)?"checked":"value";a._valueTracker=jo(a,o,""+a[o])}}function ka(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=Ki(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function qr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Da=/[\n"\\]/g;function ir(a){return a.replace(Da,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qi(a,o,u,d,y,_,N,F){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Tn(o)):a.value!==""+Tn(o)&&(a.value=""+Tn(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?Uo(a,N,Tn(o)):u!=null?Uo(a,N,Tn(u)):d!=null&&a.removeAttribute("value"),y==null&&_!=null&&(a.defaultChecked=!!_),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+Tn(F):a.removeAttribute("name")}function Ql(a,o,u,d,y,_,N,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){At(a);return}u=u!=null?""+Tn(u):"",o=o!=null?""+Tn(o):u,F||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=F?a.checked:!!d,a.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),At(a)}function Uo(a,o,u){o==="number"&&qr(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ci(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Tn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Uh(a,o,u){if(o!=null&&(o=""+Tn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Tn(u):""}function Cs(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(ne(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Tn(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),At(a)}function xr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||Hh.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function kc(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&Mc(a,y,d)}else for(var _ in o)o.hasOwnProperty(_)&&Mc(a,_,o[_])}function Zl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(a){return Rs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ri(){}var Dc=null;function ui(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Is=null,Zi=null;function Ho(a){var o=wr(a);if(o&&(a=o.stateNode)){var u=a[En]||null;e:switch(a=o.stateNode,o.type){case"input":if(Qi(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ir(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[En]||null;if(!y)throw Error(r(90));Qi(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&ka(d)}break e;case"textarea":Uh(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ci(a,!!u.multiple,o,!1)}}}var Jl=!1;function Ns(a,o,u){if(Jl)return a(o,u);Jl=!0;try{var d=a(o);return d}finally{if(Jl=!1,(Is!==null||Zi!==null)&&(qf(),Is&&(o=Is,a=Zi,Zi=Is=null,Ho(o),a)))for(o=0;o<a.length;o++)Ho(a[o])}}function Ii(a,o){var u=a.stateNode;if(u===null)return null;var d=u[En]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(ci)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Fo=!1}var Wi=null,Oc=null,Go=null;function zc(){if(Go)return Go;var a,o=Oc,u=o.length,d,y="value"in Wi?Wi.value:Wi.textContent,_=y.length;for(a=0;a<u&&o[a]===y[a];a++);var N=u-a;for(d=1;d<=N&&o[u-d]===y[_-d];d++);return Go=y.slice(a,1<d?1-d:void 0)}function $o(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Oa(){return!0}function Ni(){return!1}function Yn(a){function o(u,d,y,_,N){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(u=a[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Oa:Ni,this.isPropagationStopped=Ni,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),o}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Yn(za),Ms=p({},za,{view:0,detail:0}),Lc=Yn(Ms),ks,eu,ea,tu=p({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ea&&(ea&&a.type==="mousemove"?(ks=a.screenX-ea.screenX,eu=a.screenY-ea.screenY):eu=ks=0,ea=a),ks)},movementY:function(a){return"movementY"in a?a.movementY:eu}}),Vc=Yn(tu),Yo=p({},tu,{dataTransfer:0}),Gh=Yn(Yo),$h=p({},Ms,{relatedTarget:0}),Xo=Yn($h),qc=p({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Yh=Yn(qc),nu=p({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xh=Yn(nu),Kh=p({},za,{data:0}),ta=Yn(Kh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jh(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Wh[a])?!!o[a]:!1}function Ds(){return Jh}var hr=p({},Ms,{key:function(a){if(a.key){var o=Qh[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=$o(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(a){return a.type==="keypress"?$o(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?$o(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ef=Yn(hr),tf=p({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=Yn(tf),g=p({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),T=Yn(g),L=p({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Yn(L),fe=p({},tu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Yn(fe),Me=p({},za,{newState:0,oldState:0}),ot=Yn(Me),_n=[9,13,27,32],Nt=ci&&"CompositionEvent"in window,Wt=null;ci&&"documentMode"in document&&(Wt=document.documentMode);var hi=ci&&"TextEvent"in window&&!Wt,na=ci&&(!Nt||Wt&&8<Wt&&11>=Wt),Mi=" ",ki=!1;function Ko(a,o){switch(a){case"keyup":return _n.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var iu=!1;function fL(a,o){switch(a){case"compositionend":return ru(o);case"keypress":return o.which!==32?null:(ki=!0,Mi);case"textInput":return a=o.data,a===Mi&&ki?null:a;default:return null}}function dL(a,o){if(iu)return a==="compositionend"||!Nt&&Ko(a,o)?(a=zc(),Go=Oc=Wi=null,iu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return na&&o.locale!=="ko"?null:o.data;default:return null}}var mL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j7(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!mL[a.type]:o==="textarea"}function U7(a,o,u,d){Is?Zi?Zi.push(d):Zi=[d]:Is=d,o=Gf(o,"onChange"),0<o.length&&(u=new Ji("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var Pc=null,Bc=null;function pL(a){Ew(a,0)}function nf(a){var o=rr(a);if(ka(o))return a}function H7(a,o){if(a==="change")return o}var F7=!1;if(ci){var B1;if(ci){var j1="oninput"in document;if(!j1){var G7=document.createElement("div");G7.setAttribute("oninput","return;"),j1=typeof G7.oninput=="function"}B1=j1}else B1=!1;F7=B1&&(!document.documentMode||9<document.documentMode)}function $7(){Pc&&(Pc.detachEvent("onpropertychange",Y7),Bc=Pc=null)}function Y7(a){if(a.propertyName==="value"&&nf(Bc)){var o=[];U7(o,Bc,a,ui(a)),Ns(pL,o)}}function gL(a,o,u){a==="focusin"?($7(),Pc=o,Bc=u,Pc.attachEvent("onpropertychange",Y7)):a==="focusout"&&$7()}function vL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return nf(Bc)}function yL(a,o){if(a==="click")return nf(o)}function _L(a,o){if(a==="input"||a==="change")return nf(o)}function bL(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Pr=typeof Object.is=="function"?Object.is:bL;function jc(a,o){if(Pr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!st.call(o,y)||!Pr(a[y],o[y]))return!1}return!0}function X7(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function K7(a,o){var u=X7(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=X7(u)}}function Q7(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Q7(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Z7(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=qr(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=qr(a.document)}return o}function U1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var wL=ci&&"documentMode"in document&&11>=document.documentMode,au=null,H1=null,Uc=null,F1=!1;function W7(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;F1||au==null||au!==qr(d)||(d=au,"selectionStart"in d&&U1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Uc&&jc(Uc,d)||(Uc=d,d=Gf(H1,"onSelect"),0<d.length&&(o=new Ji("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=au)))}function Qo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var su={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionrun:Qo("Transition","TransitionRun"),transitionstart:Qo("Transition","TransitionStart"),transitioncancel:Qo("Transition","TransitionCancel"),transitionend:Qo("Transition","TransitionEnd")},G1={},J7={};ci&&(J7=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Zo(a){if(G1[a])return G1[a];if(!su[a])return a;var o=su[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in J7)return G1[a]=o[u];return a}var eb=Zo("animationend"),tb=Zo("animationiteration"),nb=Zo("animationstart"),xL=Zo("transitionrun"),SL=Zo("transitionstart"),EL=Zo("transitioncancel"),rb=Zo("transitionend"),ib=new Map,$1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$1.push("scrollEnd");function Di(a,o){ib.set(a,o),oi(o,[a])}var rf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},fi=[],ou=0,Y1=0;function af(){for(var a=ou,o=Y1=ou=0;o<a;){var u=fi[o];fi[o++]=null;var d=fi[o];fi[o++]=null;var y=fi[o];fi[o++]=null;var _=fi[o];if(fi[o++]=null,d!==null&&y!==null){var N=d.pending;N===null?y.next=y:(y.next=N.next,N.next=y),d.pending=y}_!==0&&ab(u,y,_)}}function sf(a,o,u,d){fi[ou++]=a,fi[ou++]=o,fi[ou++]=u,fi[ou++]=d,Y1|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function X1(a,o,u,d){return sf(a,o,u,d),of(a)}function Wo(a,o){return sf(a,null,null,o),of(a)}function ab(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,_=a.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(y=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,y&&o!==null&&(y=31-sn(u),a=_.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),_):null}function of(a){if(50<c0)throw c0=0,rg=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var lu={};function TL(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(a,o,u,d){return new TL(a,o,u,d)}function K1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Va(a,o){var u=a.alternate;return u===null?(u=Br(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function sb(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function lf(a,o,u,d,y,_){var N=0;if(d=a,typeof a=="function")K1(a)&&(N=1);else if(typeof a=="string")N=NV(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=Br(31,u,o,y),a.elementType=D,a.lanes=_,a;case S:return Jo(u.children,y,_,o);case E:N=8,y|=24;break;case C:return a=Br(12,u,o,y|2),a.elementType=C,a.lanes=_,a;case U:return a=Br(13,u,o,y),a.elementType=U,a.lanes=_,a;case q:return a=Br(19,u,o,y),a.elementType=q,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:N=10;break e;case O:N=9;break e;case z:N=11;break e;case R:N=14;break e;case M:N=16,d=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=Br(N,u,o,y),o.elementType=a,o.type=d,o.lanes=_,o}function Jo(a,o,u,d){return a=Br(7,a,d,o),a.lanes=u,a}function Q1(a,o,u){return a=Br(6,a,null,o),a.lanes=u,a}function ob(a){var o=Br(18,null,null,0);return o.stateNode=a,o}function Z1(a,o,u){return o=Br(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var lb=new WeakMap;function di(a,o){if(typeof a=="object"&&a!==null){var u=lb.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Gt(o)},lb.set(a,o),o)}return{value:a,source:o,stack:Gt(o)}}var uu=[],cu=0,uf=null,Hc=0,mi=[],pi=0,Os=null,ra=1,ia="";function qa(a,o){uu[cu++]=Hc,uu[cu++]=uf,uf=a,Hc=o}function ub(a,o,u){mi[pi++]=ra,mi[pi++]=ia,mi[pi++]=Os,Os=a;var d=ra;a=ia;var y=32-sn(d)-1;d&=~(1<<y),u+=1;var _=32-sn(o)+y;if(30<_){var N=y-y%5;_=(d&(1<<N)-1).toString(32),d>>=N,y-=N,ra=1<<32-sn(o)+y|u<<y|d,ia=_+a}else ra=1<<_|u<<y|d,ia=a}function W1(a){a.return!==null&&(qa(a,1),ub(a,1,0))}function J1(a){for(;a===uf;)uf=uu[--cu],uu[cu]=null,Hc=uu[--cu],uu[cu]=null;for(;a===Os;)Os=mi[--pi],mi[pi]=null,ia=mi[--pi],mi[pi]=null,ra=mi[--pi],mi[pi]=null}function cb(a,o){mi[pi++]=ra,mi[pi++]=ia,mi[pi++]=Os,ra=o.id,ia=o.overflow,Os=a}var Xn=null,Xt=null,bt=!1,zs=null,gi=!1,ep=Error(r(519));function Ls(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc(di(o,a)),ep}function hb(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[dn]=a,o[En]=d,u){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(u=0;u<f0.length;u++)mt(f0[u],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":mt("invalid",o),Ql(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":mt("invalid",o);break;case"textarea":mt("invalid",o),Cs(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||Rw(o.textContent,u)?(d.popover!=null&&(mt("beforetoggle",o),mt("toggle",o)),d.onScroll!=null&&mt("scroll",o),d.onScrollEnd!=null&&mt("scrollend",o),d.onClick!=null&&(o.onclick=Ri),o=!0):o=!1,o||Ls(a,!0)}function fb(a){for(Xn=a.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:Xn=Xn.return}}function hu(a){if(a!==Xn)return!1;if(!bt)return fb(a),bt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||yg(a.type,a.memoizedProps)),u=!u),u&&Xt&&Ls(a),fb(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Xt=Vw(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Xt=Vw(a)}else o===27?(o=Xt,Qs(a.type)?(a=Sg,Sg=null,Xt=a):Xt=o):Xt=Xn?yi(a.stateNode.nextSibling):null;return!0}function el(){Xt=Xn=null,bt=!1}function tp(){var a=zs;return a!==null&&(Ar===null?Ar=a:Ar.push.apply(Ar,a),zs=null),a}function Fc(a){zs===null?zs=[a]:zs.push(a)}var np=Y(null),tl=null,Pa=null;function Vs(a,o,u){me(np,o._currentValue),o._currentValue=u}function Ba(a){a._currentValue=np.current,W(np)}function rp(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function ip(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){var N=y.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=y;for(var te=0;te<o.length;te++)if(F.context===o[te]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),rp(_.return,u,a),d||(N=null);break e}_=F.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),rp(N,u,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function fu(a,o,u,d){a=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var F=y.type;Pr(y.pendingProps.value,N.value)||(a!==null?a.push(F):a=[F])}}else if(y===he.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(v0):a=[v0])}y=y.return}a!==null&&ip(o,a,u,d),o.flags|=262144}function cf(a){for(a=a.firstContext;a!==null;){if(!Pr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function nl(a){tl=a,Pa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kn(a){return db(tl,a)}function hf(a,o){return tl===null&&nl(a),db(a,o)}function db(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Pa===null){if(a===null)throw Error(r(308));Pa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Pa=Pa.next=o;return u}var AL=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},CL=t.unstable_scheduleCallback,RL=t.unstable_NormalPriority,An={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new AL,data:new Map,refCount:0}}function Gc(a){a.refCount--,a.refCount===0&&CL(RL,function(){a.controller.abort()})}var $c=null,sp=0,du=0,mu=null;function IL(a,o){if($c===null){var u=$c=[];sp=0,du=ug(),mu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return sp++,o.then(mb,mb),o}function mb(){if(--sp===0&&$c!==null){mu!==null&&(mu.status="fulfilled");var a=$c;$c=null,du=0,mu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function NL(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var pb=$.S;$.S=function(a,o){W8=Zt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&IL(a,o),pb!==null&&pb(a,o)};var rl=Y(null);function op(){var a=rl.current;return a!==null?a:Ht.pooledCache}function ff(a,o){o===null?me(rl,rl.current):me(rl,o.pool)}function gb(){var a=op();return a===null?null:{parent:An._currentValue,pool:a}}var pu=Error(r(460)),lp=Error(r(474)),df=Error(r(542)),mf={then:function(){}};function vb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function yb(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ri,Ri),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,bb(a),a;default:if(typeof o.status=="string")o.then(Ri,Ri);else{if(a=Ht,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,bb(a),a}throw al=o,pu}}function il(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(al=u,pu):u}}var al=null;function _b(){if(al===null)throw Error(r(459));var a=al;return al=null,a}function bb(a){if(a===pu||a===df)throw Error(r(483))}var gu=null,Yc=0;function pf(a){var o=Yc;return Yc+=1,gu===null&&(gu=[]),yb(gu,a,o)}function Xc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function gf(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function wb(a){function o(ue,ae){if(a){var pe=ue.deletions;pe===null?(ue.deletions=[ae],ue.flags|=16):pe.push(ae)}}function u(ue,ae){if(!a)return null;for(;ae!==null;)o(ue,ae),ae=ae.sibling;return null}function d(ue){for(var ae=new Map;ue!==null;)ue.key!==null?ae.set(ue.key,ue):ae.set(ue.index,ue),ue=ue.sibling;return ae}function y(ue,ae){return ue=Va(ue,ae),ue.index=0,ue.sibling=null,ue}function _(ue,ae,pe){return ue.index=pe,a?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<ae?(ue.flags|=67108866,ae):pe):(ue.flags|=67108866,ae)):(ue.flags|=1048576,ae)}function N(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function F(ue,ae,pe,Ee){return ae===null||ae.tag!==6?(ae=Q1(pe,ue.mode,Ee),ae.return=ue,ae):(ae=y(ae,pe),ae.return=ue,ae)}function te(ue,ae,pe,Ee){var Ke=pe.type;return Ke===S?xe(ue,ae,pe.props.children,Ee,pe.key):ae!==null&&(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&il(Ke)===ae.type)?(ae=y(ae,pe.props),Xc(ae,pe),ae.return=ue,ae):(ae=lf(pe.type,pe.key,pe.props,null,ue.mode,Ee),Xc(ae,pe),ae.return=ue,ae)}function ve(ue,ae,pe,Ee){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Z1(pe,ue.mode,Ee),ae.return=ue,ae):(ae=y(ae,pe.children||[]),ae.return=ue,ae)}function xe(ue,ae,pe,Ee,Ke){return ae===null||ae.tag!==7?(ae=Jo(pe,ue.mode,Ee,Ke),ae.return=ue,ae):(ae=y(ae,pe),ae.return=ue,ae)}function Te(ue,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Q1(""+ae,ue.mode,pe),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return pe=lf(ae.type,ae.key,ae.props,null,ue.mode,pe),Xc(pe,ae),pe.return=ue,pe;case x:return ae=Z1(ae,ue.mode,pe),ae.return=ue,ae;case M:return ae=il(ae),Te(ue,ae,pe)}if(ne(ae)||j(ae))return ae=Jo(ae,ue.mode,pe,null),ae.return=ue,ae;if(typeof ae.then=="function")return Te(ue,pf(ae),pe);if(ae.$$typeof===A)return Te(ue,hf(ue,ae),pe);gf(ue,ae)}return null}function ye(ue,ae,pe,Ee){var Ke=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ke!==null?null:F(ue,ae,""+pe,Ee);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return pe.key===Ke?te(ue,ae,pe,Ee):null;case x:return pe.key===Ke?ve(ue,ae,pe,Ee):null;case M:return pe=il(pe),ye(ue,ae,pe,Ee)}if(ne(pe)||j(pe))return Ke!==null?null:xe(ue,ae,pe,Ee,null);if(typeof pe.then=="function")return ye(ue,ae,pf(pe),Ee);if(pe.$$typeof===A)return ye(ue,ae,hf(ue,pe),Ee);gf(ue,pe)}return null}function we(ue,ae,pe,Ee,Ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ue=ue.get(pe)||null,F(ae,ue,""+Ee,Ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return ue=ue.get(Ee.key===null?pe:Ee.key)||null,te(ae,ue,Ee,Ke);case x:return ue=ue.get(Ee.key===null?pe:Ee.key)||null,ve(ae,ue,Ee,Ke);case M:return Ee=il(Ee),we(ue,ae,pe,Ee,Ke)}if(ne(Ee)||j(Ee))return ue=ue.get(pe)||null,xe(ae,ue,Ee,Ke,null);if(typeof Ee.then=="function")return we(ue,ae,pe,pf(Ee),Ke);if(Ee.$$typeof===A)return we(ue,ae,pe,hf(ae,Ee),Ke);gf(ae,Ee)}return null}function je(ue,ae,pe,Ee){for(var Ke=null,Ct=null,Fe=ae,ut=ae=0,gt=null;Fe!==null&&ut<pe.length;ut++){Fe.index>ut?(gt=Fe,Fe=null):gt=Fe.sibling;var Rt=ye(ue,Fe,pe[ut],Ee);if(Rt===null){Fe===null&&(Fe=gt);break}a&&Fe&&Rt.alternate===null&&o(ue,Fe),ae=_(Rt,ae,ut),Ct===null?Ke=Rt:Ct.sibling=Rt,Ct=Rt,Fe=gt}if(ut===pe.length)return u(ue,Fe),bt&&qa(ue,ut),Ke;if(Fe===null){for(;ut<pe.length;ut++)Fe=Te(ue,pe[ut],Ee),Fe!==null&&(ae=_(Fe,ae,ut),Ct===null?Ke=Fe:Ct.sibling=Fe,Ct=Fe);return bt&&qa(ue,ut),Ke}for(Fe=d(Fe);ut<pe.length;ut++)gt=we(Fe,ue,ut,pe[ut],Ee),gt!==null&&(a&&gt.alternate!==null&&Fe.delete(gt.key===null?ut:gt.key),ae=_(gt,ae,ut),Ct===null?Ke=gt:Ct.sibling=gt,Ct=gt);return a&&Fe.forEach(function(to){return o(ue,to)}),bt&&qa(ue,ut),Ke}function Je(ue,ae,pe,Ee){if(pe==null)throw Error(r(151));for(var Ke=null,Ct=null,Fe=ae,ut=ae=0,gt=null,Rt=pe.next();Fe!==null&&!Rt.done;ut++,Rt=pe.next()){Fe.index>ut?(gt=Fe,Fe=null):gt=Fe.sibling;var to=ye(ue,Fe,Rt.value,Ee);if(to===null){Fe===null&&(Fe=gt);break}a&&Fe&&to.alternate===null&&o(ue,Fe),ae=_(to,ae,ut),Ct===null?Ke=to:Ct.sibling=to,Ct=to,Fe=gt}if(Rt.done)return u(ue,Fe),bt&&qa(ue,ut),Ke;if(Fe===null){for(;!Rt.done;ut++,Rt=pe.next())Rt=Te(ue,Rt.value,Ee),Rt!==null&&(ae=_(Rt,ae,ut),Ct===null?Ke=Rt:Ct.sibling=Rt,Ct=Rt);return bt&&qa(ue,ut),Ke}for(Fe=d(Fe);!Rt.done;ut++,Rt=pe.next())Rt=we(Fe,ue,ut,Rt.value,Ee),Rt!==null&&(a&&Rt.alternate!==null&&Fe.delete(Rt.key===null?ut:Rt.key),ae=_(Rt,ae,ut),Ct===null?Ke=Rt:Ct.sibling=Rt,Ct=Rt);return a&&Fe.forEach(function(jV){return o(ue,jV)}),bt&&qa(ue,ut),Ke}function Pt(ue,ae,pe,Ee){if(typeof pe=="object"&&pe!==null&&pe.type===S&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:e:{for(var Ke=pe.key;ae!==null;){if(ae.key===Ke){if(Ke=pe.type,Ke===S){if(ae.tag===7){u(ue,ae.sibling),Ee=y(ae,pe.props.children),Ee.return=ue,ue=Ee;break e}}else if(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&il(Ke)===ae.type){u(ue,ae.sibling),Ee=y(ae,pe.props),Xc(Ee,pe),Ee.return=ue,ue=Ee;break e}u(ue,ae);break}else o(ue,ae);ae=ae.sibling}pe.type===S?(Ee=Jo(pe.props.children,ue.mode,Ee,pe.key),Ee.return=ue,ue=Ee):(Ee=lf(pe.type,pe.key,pe.props,null,ue.mode,Ee),Xc(Ee,pe),Ee.return=ue,ue=Ee)}return N(ue);case x:e:{for(Ke=pe.key;ae!==null;){if(ae.key===Ke)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){u(ue,ae.sibling),Ee=y(ae,pe.children||[]),Ee.return=ue,ue=Ee;break e}else{u(ue,ae);break}else o(ue,ae);ae=ae.sibling}Ee=Z1(pe,ue.mode,Ee),Ee.return=ue,ue=Ee}return N(ue);case M:return pe=il(pe),Pt(ue,ae,pe,Ee)}if(ne(pe))return je(ue,ae,pe,Ee);if(j(pe)){if(Ke=j(pe),typeof Ke!="function")throw Error(r(150));return pe=Ke.call(pe),Je(ue,ae,pe,Ee)}if(typeof pe.then=="function")return Pt(ue,ae,pf(pe),Ee);if(pe.$$typeof===A)return Pt(ue,ae,hf(ue,pe),Ee);gf(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(u(ue,ae.sibling),Ee=y(ae,pe),Ee.return=ue,ue=Ee):(u(ue,ae),Ee=Q1(pe,ue.mode,Ee),Ee.return=ue,ue=Ee),N(ue)):u(ue,ae)}return function(ue,ae,pe,Ee){try{Yc=0;var Ke=Pt(ue,ae,pe,Ee);return gu=null,Ke}catch(Fe){if(Fe===pu||Fe===df)throw Fe;var Ct=Br(29,Fe,null,ue.mode);return Ct.lanes=Ee,Ct.return=ue,Ct}}}var sl=wb(!0),xb=wb(!1),qs=!1;function up(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ps(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bs(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Mt&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=of(a),ab(a,null,u),o}return sf(a,d,o,u),of(a)}function Kc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,zo(a,u)}}function hp(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?y=_=o:_=_.next=o}else y=_=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var fp=!1;function Qc(){if(fp){var a=mu;if(a!==null)throw a}}function Zc(a,o,u,d){fp=!1;var y=a.updateQueue;qs=!1;var _=y.firstBaseUpdate,N=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var te=F,ve=te.next;te.next=null,N===null?_=ve:N.next=ve,N=te;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,F=xe.lastBaseUpdate,F!==N&&(F===null?xe.firstBaseUpdate=ve:F.next=ve,xe.lastBaseUpdate=te))}if(_!==null){var Te=y.baseState;N=0,xe=ve=te=null,F=_;do{var ye=F.lane&-536870913,we=ye!==F.lane;if(we?(pt&ye)===ye:(d&ye)===ye){ye!==0&&ye===du&&(fp=!0),xe!==null&&(xe=xe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var je=a,Je=F;ye=o;var Pt=u;switch(Je.tag){case 1:if(je=Je.payload,typeof je=="function"){Te=je.call(Pt,Te,ye);break e}Te=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Je.payload,ye=typeof je=="function"?je.call(Pt,Te,ye):je,ye==null)break e;Te=p({},Te,ye);break e;case 2:qs=!0}}ye=F.callback,ye!==null&&(a.flags|=64,we&&(a.flags|=8192),we=y.callbacks,we===null?y.callbacks=[ye]:we.push(ye))}else we={lane:ye,tag:F.tag,payload:F.payload,callback:F.callback,next:null},xe===null?(ve=xe=we,te=Te):xe=xe.next=we,N|=ye;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;we=F,F=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);xe===null&&(te=Te),y.baseState=te,y.firstBaseUpdate=ve,y.lastBaseUpdate=xe,_===null&&(y.shared.lanes=0),Gs|=N,a.lanes=N,a.memoizedState=Te}}function Sb(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Eb(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Sb(u[a],o)}var vu=Y(null),vf=Y(0);function Tb(a,o){a=Ka,me(vf,a),me(vu,o),Ka=a|o.baseLanes}function dp(){me(vf,Ka),me(vu,vu.current)}function mp(){Ka=vf.current,W(vu),W(vf)}var jr=Y(null),vi=null;function js(a){var o=a.alternate;me(bn,bn.current&1),me(jr,a),vi===null&&(o===null||vu.current!==null||o.memoizedState!==null)&&(vi=a)}function pp(a){me(bn,bn.current),me(jr,a),vi===null&&(vi=a)}function Ab(a){a.tag===22?(me(bn,bn.current),me(jr,a),vi===null&&(vi=a)):Us()}function Us(){me(bn,bn.current),me(jr,jr.current)}function Ur(a){W(jr),vi===a&&(vi=null),W(bn)}var bn=Y(0);function yf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||wg(u)||xg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ja=0,lt=null,Vt=null,Cn=null,_f=!1,yu=!1,ol=!1,bf=0,Wc=0,_u=null,ML=0;function gn(){throw Error(r(321))}function gp(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Pr(a[u],o[u]))return!1;return!0}function vp(a,o,u,d,y,_){return ja=_,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=a===null||a.memoizedState===null?u8:kp,ol=!1,_=u(d,y),ol=!1,yu&&(_=Rb(o,u,d,y)),Cb(a),_}function Cb(a){$.H=t0;var o=Vt!==null&&Vt.next!==null;if(ja=0,Cn=Vt=lt=null,_f=!1,Wc=0,_u=null,o)throw Error(r(300));a===null||Rn||(a=a.dependencies,a!==null&&cf(a)&&(Rn=!0))}function Rb(a,o,u,d){lt=a;var y=0;do{if(yu&&(_u=null),Wc=0,yu=!1,25<=y)throw Error(r(301));if(y+=1,Cn=Vt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=c8,_=o(u,d)}while(yu);return _}function kL(){var a=$.H,o=a.useState()[0];return o=typeof o.then=="function"?Jc(o):o,a=a.useState()[0],(Vt!==null?Vt.memoizedState:null)!==a&&(lt.flags|=1024),o}function yp(){var a=bf!==0;return bf=0,a}function _p(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function bp(a){if(_f){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}_f=!1}ja=0,Cn=Vt=lt=null,yu=!1,Wc=bf=0,_u=null}function fr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?lt.memoizedState=Cn=a:Cn=Cn.next=a,Cn}function wn(){if(Vt===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=Vt.next;var o=Cn===null?lt.memoizedState:Cn.next;if(o!==null)Cn=o,Vt=a;else{if(a===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Vt=a,a={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Cn===null?lt.memoizedState=Cn=a:Cn=Cn.next=a}return Cn}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(a){var o=Wc;return Wc+=1,_u===null&&(_u=[]),a=yb(_u,a,o),o=lt,(Cn===null?o.memoizedState:Cn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?u8:kp),a}function xf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Jc(a);if(a.$$typeof===A)return Kn(a)}throw Error(r(438,String(a)))}function wp(a){var o=null,u=lt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=wf(),lt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=H;return o.index++,u}function Ua(a,o){return typeof o=="function"?o(a):o}function Sf(a){var o=wn();return xp(o,Vt,a)}function xp(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,_=d.pending;if(_!==null){if(y!==null){var N=y.next;y.next=_.next,_.next=N}o.baseQueue=y=_,d.pending=null}if(_=a.baseState,y===null)a.memoizedState=_;else{o=y.next;var F=N=null,te=null,ve=o,xe=!1;do{var Te=ve.lane&-536870913;if(Te!==ve.lane?(pt&Te)===Te:(ja&Te)===Te){var ye=ve.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Te===du&&(xe=!0);else if((ja&ye)===ye){ve=ve.next,ye===du&&(xe=!0);continue}else Te={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(F=te=Te,N=_):te=te.next=Te,lt.lanes|=ye,Gs|=ye;Te=ve.action,ol&&u(_,Te),_=ve.hasEagerState?ve.eagerState:u(_,Te)}else ye={lane:Te,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(F=te=ye,N=_):te=te.next=ye,lt.lanes|=Te,Gs|=Te;ve=ve.next}while(ve!==null&&ve!==o);if(te===null?N=_:te.next=F,!Pr(_,a.memoizedState)&&(Rn=!0,xe&&(u=mu,u!==null)))throw u;a.memoizedState=_,a.baseState=N,a.baseQueue=te,d.lastRenderedState=_}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Sp(a){var o=wn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,_=o.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do _=a(_,N.action),N=N.next;while(N!==y);Pr(_,o.memoizedState)||(Rn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function Ib(a,o,u){var d=lt,y=wn(),_=bt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!Pr((Vt||y).memoizedState,u);if(N&&(y.memoizedState=u,Rn=!0),y=y.queue,Ap(kb.bind(null,d,y,a),[a]),y.getSnapshot!==o||N||Cn!==null&&Cn.memoizedState.tag&1){if(d.flags|=2048,bu(9,{destroy:void 0},Mb.bind(null,d,y,u,o),null),Ht===null)throw Error(r(349));_||(ja&127)!==0||Nb(d,o,u)}return u}function Nb(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o=wf(),lt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Mb(a,o,u,d){o.value=u,o.getSnapshot=d,Db(o)&&Ob(a)}function kb(a,o,u){return u(function(){Db(o)&&Ob(a)})}function Db(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Pr(a,u)}catch{return!0}}function Ob(a){var o=Wo(a,2);o!==null&&Cr(o,a,2)}function Ep(a){var o=fr();if(typeof a=="function"){var u=a;if(a=u(),ol){br(!0);try{u()}finally{br(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:a},o}function zb(a,o,u,d){return a.baseState=u,xp(a,Vt,typeof d=="function"?d:Ua)}function DL(a,o,u,d,y){if(Af(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};$.T!==null?u(!0):_.isTransition=!1,d(_),u=o.pending,u===null?(_.next=o.pending=_,Lb(o,_)):(_.next=u.next,o.pending=u.next=_)}}function Lb(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var _=$.T,N={};$.T=N;try{var F=u(y,d),te=$.S;te!==null&&te(N,F),Vb(a,o,F)}catch(ve){Tp(a,o,ve)}finally{_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}else try{_=u(y,d),Vb(a,o,_)}catch(ve){Tp(a,o,ve)}}function Vb(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){qb(a,o,d)},function(d){return Tp(a,o,d)}):qb(a,o,u)}function qb(a,o,u){o.status="fulfilled",o.value=u,Pb(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Lb(a,u)))}function Tp(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Pb(o),o=o.next;while(o!==d)}a.action=null}function Pb(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Bb(a,o){return o}function jb(a,o){if(bt){var u=Ht.formState;if(u!==null){e:{var d=lt;if(bt){if(Xt){t:{for(var y=Xt,_=gi;y.nodeType!==8;){if(!_){y=null;break t}if(y=yi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Xt=yi(y.nextSibling),d=y.data==="F!";break e}}Ls(d)}d=!1}d&&(o=u[0])}}return u=fr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bb,lastRenderedState:o},u.queue=d,u=s8.bind(null,lt,d),d.dispatch=u,d=Ep(!1),_=Mp.bind(null,lt,!1,d.queue),d=fr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=DL.bind(null,lt,y,_,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function Ub(a){var o=wn();return Hb(o,Vt,a)}function Hb(a,o,u){if(o=xp(a,o,Bb)[0],a=Sf(Ua)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Jc(o)}catch(N){throw N===pu?df:N}else d=o;o=wn();var y=o.queue,_=y.dispatch;return u!==o.memoizedState&&(lt.flags|=2048,bu(9,{destroy:void 0},OL.bind(null,y,u),null)),[d,_,a]}function OL(a,o){a.action=o}function Fb(a){var o=wn(),u=Vt;if(u!==null)return Hb(o,u,a);wn(),o=o.memoizedState,u=wn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function bu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=lt.updateQueue,o===null&&(o=wf(),lt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function Gb(){return wn().memoizedState}function Ef(a,o,u,d){var y=fr();lt.flags|=a,y.memoizedState=bu(1|o,{destroy:void 0},u,d===void 0?null:d)}function Tf(a,o,u,d){var y=wn();d=d===void 0?null:d;var _=y.memoizedState.inst;Vt!==null&&d!==null&&gp(d,Vt.memoizedState.deps)?y.memoizedState=bu(o,_,u,d):(lt.flags|=a,y.memoizedState=bu(1|o,_,u,d))}function $b(a,o){Ef(8390656,8,a,o)}function Ap(a,o){Tf(2048,8,a,o)}function zL(a){lt.flags|=4;var o=lt.updateQueue;if(o===null)o=wf(),lt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Yb(a){var o=wn().memoizedState;return zL({ref:o,nextImpl:a}),function(){if((Mt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Xb(a,o){return Tf(4,2,a,o)}function Kb(a,o){return Tf(4,4,a,o)}function Qb(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Zb(a,o,u){u=u!=null?u.concat([a]):null,Tf(4,4,Qb.bind(null,o,a),u)}function Cp(){}function Wb(a,o){var u=wn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&gp(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function Jb(a,o){var u=wn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&gp(o,d[1]))return d[0];if(d=a(),ol){br(!0);try{a()}finally{br(!1)}}return u.memoizedState=[d,o],d}function Rp(a,o,u){return u===void 0||(ja&1073741824)!==0&&(pt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=ew(),lt.lanes|=a,Gs|=a,u)}function e8(a,o,u,d){return Pr(u,o)?u:vu.current!==null?(a=Rp(a,u,d),Pr(a,o)||(Rn=!0),a):(ja&42)===0||(ja&1073741824)!==0&&(pt&261930)===0?(Rn=!0,a.memoizedState=u):(a=ew(),lt.lanes|=a,Gs|=a,o)}function t8(a,o,u,d,y){var _=ee.p;ee.p=_!==0&&8>_?_:8;var N=$.T,F={};$.T=F,Mp(a,!1,o,u);try{var te=y(),ve=$.S;if(ve!==null&&ve(F,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var xe=NL(te,d);e0(a,o,xe,Gr(a))}else e0(a,o,d,Gr(a))}catch(Te){e0(a,o,{then:function(){},status:"rejected",reason:Te},Gr())}finally{ee.p=_,N!==null&&F.types!==null&&(N.types=F.types),$.T=N}}function LL(){}function Ip(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=n8(a).queue;t8(a,y,o,re,u===null?LL:function(){return r8(a),u(d)})}function n8(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function r8(a){var o=n8(a);o.next===null&&(o=a.alternate.memoizedState),e0(a,o.next.queue,{},Gr())}function Np(){return Kn(v0)}function i8(){return wn().memoizedState}function a8(){return wn().memoizedState}function VL(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Gr();a=Ps(u);var d=Bs(o,a,u);d!==null&&(Cr(d,o,u),Kc(d,o,u)),o={cache:ap()},a.payload=o;return}o=o.return}}function qL(a,o,u){var d=Gr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Af(a)?o8(o,u):(u=X1(a,o,u,d),u!==null&&(Cr(u,a,d),l8(u,o,d)))}function s8(a,o,u){var d=Gr();e0(a,o,u,d)}function e0(a,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Af(a))o8(o,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var N=o.lastRenderedState,F=_(N,u);if(y.hasEagerState=!0,y.eagerState=F,Pr(F,N))return sf(a,o,y,0),Ht===null&&af(),!1}catch{}if(u=X1(a,o,y,d),u!==null)return Cr(u,a,d),l8(u,o,d),!0}return!1}function Mp(a,o,u,d){if(d={lane:2,revertLane:ug(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Af(a)){if(o)throw Error(r(479))}else o=X1(a,u,d,2),o!==null&&Cr(o,a,2)}function Af(a){var o=a.alternate;return a===lt||o!==null&&o===lt}function o8(a,o){yu=_f=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function l8(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,zo(a,u)}}var t0={readContext:Kn,use:xf,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};t0.useEffectEvent=gn;var u8={readContext:Kn,use:xf,useCallback:function(a,o){return fr().memoizedState=[a,o===void 0?null:o],a},useContext:Kn,useEffect:$b,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ef(4194308,4,Qb.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ef(4194308,4,a,o)},useInsertionEffect:function(a,o){Ef(4,2,a,o)},useMemo:function(a,o){var u=fr();o=o===void 0?null:o;var d=a();if(ol){br(!0);try{a()}finally{br(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=fr();if(u!==void 0){var y=u(o);if(ol){br(!0);try{u(o)}finally{br(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=qL.bind(null,lt,a),[d.memoizedState,a]},useRef:function(a){var o=fr();return a={current:a},o.memoizedState=a},useState:function(a){a=Ep(a);var o=a.queue,u=s8.bind(null,lt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Cp,useDeferredValue:function(a,o){var u=fr();return Rp(u,a,o)},useTransition:function(){var a=Ep(!1);return a=t8.bind(null,lt,a.queue,!0,!1),fr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=lt,y=fr();if(bt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Ht===null)throw Error(r(349));(pt&127)!==0||Nb(d,o,u)}y.memoizedState=u;var _={value:u,getSnapshot:o};return y.queue=_,$b(kb.bind(null,d,_,a),[a]),d.flags|=2048,bu(9,{destroy:void 0},Mb.bind(null,d,_,u,o),null),u},useId:function(){var a=fr(),o=Ht.identifierPrefix;if(bt){var u=ia,d=ra;u=(d&~(1<<32-sn(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=bf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=ML++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Np,useFormState:jb,useActionState:jb,useOptimistic:function(a){var o=fr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Mp.bind(null,lt,!0,u),u.dispatch=o,[a,o]},useMemoCache:wp,useCacheRefresh:function(){return fr().memoizedState=VL.bind(null,lt)},useEffectEvent:function(a){var o=fr(),u={impl:a};return o.memoizedState=u,function(){if((Mt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},kp={readContext:Kn,use:xf,useCallback:Wb,useContext:Kn,useEffect:Ap,useImperativeHandle:Zb,useInsertionEffect:Xb,useLayoutEffect:Kb,useMemo:Jb,useReducer:Sf,useRef:Gb,useState:function(){return Sf(Ua)},useDebugValue:Cp,useDeferredValue:function(a,o){var u=wn();return e8(u,Vt.memoizedState,a,o)},useTransition:function(){var a=Sf(Ua)[0],o=wn().memoizedState;return[typeof a=="boolean"?a:Jc(a),o]},useSyncExternalStore:Ib,useId:i8,useHostTransitionStatus:Np,useFormState:Ub,useActionState:Ub,useOptimistic:function(a,o){var u=wn();return zb(u,Vt,a,o)},useMemoCache:wp,useCacheRefresh:a8};kp.useEffectEvent=Yb;var c8={readContext:Kn,use:xf,useCallback:Wb,useContext:Kn,useEffect:Ap,useImperativeHandle:Zb,useInsertionEffect:Xb,useLayoutEffect:Kb,useMemo:Jb,useReducer:Sp,useRef:Gb,useState:function(){return Sp(Ua)},useDebugValue:Cp,useDeferredValue:function(a,o){var u=wn();return Vt===null?Rp(u,a,o):e8(u,Vt.memoizedState,a,o)},useTransition:function(){var a=Sp(Ua)[0],o=wn().memoizedState;return[typeof a=="boolean"?a:Jc(a),o]},useSyncExternalStore:Ib,useId:i8,useHostTransitionStatus:Np,useFormState:Fb,useActionState:Fb,useOptimistic:function(a,o){var u=wn();return Vt!==null?zb(u,Vt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:wp,useCacheRefresh:a8};c8.useEffectEvent=Yb;function Dp(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Op={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=Gr(),y=Ps(d);y.payload=o,u!=null&&(y.callback=u),o=Bs(a,y,d),o!==null&&(Cr(o,a,d),Kc(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=Gr(),y=Ps(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Bs(a,y,d),o!==null&&(Cr(o,a,d),Kc(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Gr(),d=Ps(u);d.tag=2,o!=null&&(d.callback=o),o=Bs(a,d,u),o!==null&&(Cr(o,a,u),Kc(o,a,u))}};function h8(a,o,u,d,y,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,_,N):o.prototype&&o.prototype.isPureReactComponent?!jc(u,d)||!jc(y,_):!0}function f8(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&Op.enqueueReplaceState(o,o.state,null)}function ll(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function d8(a){rf(a)}function m8(a){console.error(a)}function p8(a){rf(a)}function Cf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function g8(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function zp(a,o,u){return u=Ps(u),u.tag=3,u.payload={element:null},u.callback=function(){Cf(a,o)},u}function v8(a){return a=Ps(a),a.tag=3,a}function y8(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;a.payload=function(){return y(_)},a.callback=function(){g8(o,u,d)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){g8(o,u,d),typeof y!="function"&&($s===null?$s=new Set([this]):$s.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function PL(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&fu(o,u,y,!0),u=jr.current,u!==null){switch(u.tag){case 31:case 13:return vi===null?Pf():u.alternate===null&&vn===0&&(vn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===mf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),sg(a,d,y)),!1;case 22:return u.flags|=65536,d===mf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),sg(a,d,y)),!1}throw Error(r(435,u.tag))}return sg(a,d,y),Pf(),!1}if(bt)return o=jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==ep&&(a=Error(r(422),{cause:d}),Fc(di(a,u)))):(d!==ep&&(o=Error(r(423),{cause:d}),Fc(di(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=di(d,u),y=zp(a.stateNode,d,y),hp(a,y),vn!==4&&(vn=2)),!1;var _=Error(r(520),{cause:d});if(_=di(_,u),u0===null?u0=[_]:u0.push(_),vn!==4&&(vn=2),o===null)return!0;d=di(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=zp(u.stateNode,d,a),hp(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&($s===null||!$s.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=v8(y),y8(y,a,u,d),hp(u,y),!1}u=u.return}while(u!==null);return!1}var Lp=Error(r(461)),Rn=!1;function Qn(a,o,u,d){o.child=a===null?xb(o,null,u,d):sl(o,a.child,u,d)}function _8(a,o,u,d,y){u=u.render;var _=o.ref;if("ref"in d){var N={};for(var F in d)F!=="ref"&&(N[F]=d[F])}else N=d;return nl(o),d=vp(a,o,u,N,_,y),F=yp(),a!==null&&!Rn?(_p(a,o,y),Ha(a,o,y)):(bt&&F&&W1(o),o.flags|=1,Qn(a,o,d,y),o.child)}function b8(a,o,u,d,y){if(a===null){var _=u.type;return typeof _=="function"&&!K1(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,w8(a,o,_,d,y)):(a=lf(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Fp(a,y)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:jc,u(N,d)&&a.ref===o.ref)return Ha(a,o,y)}return o.flags|=1,a=Va(_,d),a.ref=o.ref,a.return=o,o.child=a}function w8(a,o,u,d,y){if(a!==null){var _=a.memoizedProps;if(jc(_,d)&&a.ref===o.ref)if(Rn=!1,o.pendingProps=d=_,Fp(a,y))(a.flags&131072)!==0&&(Rn=!0);else return o.lanes=a.lanes,Ha(a,o,y)}return Vp(a,o,u,d,y)}function x8(a,o,u,d){var y=d.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(d=o.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~_}else d=0,o.child=null;return S8(a,o,_,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ff(o,_!==null?_.cachePool:null),_!==null?Tb(o,_):dp(),Ab(o);else return d=o.lanes=536870912,S8(a,o,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(ff(o,_.cachePool),Tb(o,_),Us(),o.memoizedState=null):(a!==null&&ff(o,null),dp(),Us());return Qn(a,o,y,u),o.child}function n0(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function S8(a,o,u,d,y){var _=op();return _=_===null?null:{parent:An._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&ff(o,null),dp(),Ab(o),a!==null&&fu(a,o,d,!0),o.childLanes=y,null}function Rf(a,o){return o=Nf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function E8(a,o,u){return sl(o,a.child,null,u),a=Rf(o,o.pendingProps),a.flags|=2,Ur(o),o.memoizedState=null,a}function BL(a,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(bt){if(d.mode==="hidden")return a=Rf(o,d),o.lanes=536870912,n0(null,a);if(pp(o),(a=Xt)?(a=Lw(a,gi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Os!==null?{id:ra,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},u=ob(a),u.return=o,o.child=u,Xn=o,Xt=null)):a=null,a===null)throw Ls(o);return o.lanes=536870912,null}return Rf(o,d)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(pp(o),y)if(o.flags&256)o.flags&=-257,o=E8(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Rn||fu(a,o,u,!1),y=(u&a.childLanes)!==0,Rn||y){if(d=Ht,d!==null&&(N=Lo(d,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,Wo(a,N),Cr(d,a,N),Lp;Pf(),o=E8(a,o,u)}else a=_.treeContext,Xt=yi(N.nextSibling),Xn=o,bt=!0,zs=null,gi=!1,a!==null&&cb(o,a),o=Rf(o,d),o.flags|=4096;return o}return a=Va(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function If(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Vp(a,o,u,d,y){return nl(o),u=vp(a,o,u,d,void 0,y),d=yp(),a!==null&&!Rn?(_p(a,o,y),Ha(a,o,y)):(bt&&d&&W1(o),o.flags|=1,Qn(a,o,u,y),o.child)}function T8(a,o,u,d,y,_){return nl(o),o.updateQueue=null,u=Rb(o,d,u,y),Cb(a),d=yp(),a!==null&&!Rn?(_p(a,o,_),Ha(a,o,_)):(bt&&d&&W1(o),o.flags|=1,Qn(a,o,u,_),o.child)}function A8(a,o,u,d,y){if(nl(o),o.stateNode===null){var _=lu,N=u.contextType;typeof N=="object"&&N!==null&&(_=Kn(N)),_=new u(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Op,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},up(o),N=u.contextType,_.context=typeof N=="object"&&N!==null?Kn(N):lu,_.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Dp(o,u,N,d),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Op.enqueueReplaceState(_,_.state,null),Zc(o,d,_,y),Qc(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){_=o.stateNode;var F=o.memoizedProps,te=ll(u,F);_.props=te;var ve=_.context,xe=u.contextType;N=lu,typeof xe=="object"&&xe!==null&&(N=Kn(xe));var Te=u.getDerivedStateFromProps;xe=typeof Te=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,xe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||ve!==N)&&f8(o,_,d,N),qs=!1;var ye=o.memoizedState;_.state=ye,Zc(o,d,_,y),Qc(),ve=o.memoizedState,F||ye!==ve||qs?(typeof Te=="function"&&(Dp(o,u,Te,d),ve=o.memoizedState),(te=qs||h8(o,u,te,d,ye,ve,N))?(xe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ve),_.props=d,_.state=ve,_.context=N,d=te):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,cp(a,o),N=o.memoizedProps,xe=ll(u,N),_.props=xe,Te=o.pendingProps,ye=_.context,ve=u.contextType,te=lu,typeof ve=="object"&&ve!==null&&(te=Kn(ve)),F=u.getDerivedStateFromProps,(ve=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==Te||ye!==te)&&f8(o,_,d,te),qs=!1,ye=o.memoizedState,_.state=ye,Zc(o,d,_,y),Qc();var we=o.memoizedState;N!==Te||ye!==we||qs||a!==null&&a.dependencies!==null&&cf(a.dependencies)?(typeof F=="function"&&(Dp(o,u,F,d),we=o.memoizedState),(xe=qs||h8(o,u,xe,d,ye,we,te)||a!==null&&a.dependencies!==null&&cf(a.dependencies))?(ve||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,we,te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,we,te)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),_.props=d,_.state=we,_.context=te,d=xe):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=1024),d=!1)}return _=d,If(a,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&d?(o.child=sl(o,a.child,null,y),o.child=sl(o,null,u,y)):Qn(a,o,u,y),o.memoizedState=_.state,a=o.child):a=Ha(a,o,y),a}function C8(a,o,u,d){return el(),o.flags|=256,Qn(a,o,u,d),o.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(a){return{baseLanes:a,cachePool:gb()}}function Bp(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Fr),a}function R8(a,o,u){var d=o.pendingProps,y=!1,_=(o.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(bn.current&2)!==0),N&&(y=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(bt){if(y?js(o):Us(),(a=Xt)?(a=Lw(a,gi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Os!==null?{id:ra,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},u=ob(a),u.return=o,o.child=u,Xn=o,Xt=null)):a=null,a===null)throw Ls(o);return xg(a)?o.lanes=32:o.lanes=536870912,null}var F=d.children;return d=d.fallback,y?(Us(),y=o.mode,F=Nf({mode:"hidden",children:F},y),d=Jo(d,y,u,null),F.return=o,d.return=o,F.sibling=d,o.child=F,d=o.child,d.memoizedState=Pp(u),d.childLanes=Bp(a,N,u),o.memoizedState=qp,n0(null,d)):(js(o),jp(o,F))}var te=a.memoizedState;if(te!==null&&(F=te.dehydrated,F!==null)){if(_)o.flags&256?(js(o),o.flags&=-257,o=Up(a,o,u)):o.memoizedState!==null?(Us(),o.child=a.child,o.flags|=128,o=null):(Us(),F=d.fallback,y=o.mode,d=Nf({mode:"visible",children:d.children},y),F=Jo(F,y,u,null),F.flags|=2,d.return=o,F.return=o,d.sibling=F,o.child=d,sl(o,a.child,null,u),d=o.child,d.memoizedState=Pp(u),d.childLanes=Bp(a,N,u),o.memoizedState=qp,o=n0(null,d));else if(js(o),xg(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var ve=N.dgst;N=ve,d=Error(r(419)),d.stack="",d.digest=N,Fc({value:d,source:null,stack:null}),o=Up(a,o,u)}else if(Rn||fu(a,o,u,!1),N=(u&a.childLanes)!==0,Rn||N){if(N=Ht,N!==null&&(d=Lo(N,u),d!==0&&d!==te.retryLane))throw te.retryLane=d,Wo(a,d),Cr(N,a,d),Lp;wg(F)||Pf(),o=Up(a,o,u)}else wg(F)?(o.flags|=192,o.child=a.child,o=null):(a=te.treeContext,Xt=yi(F.nextSibling),Xn=o,bt=!0,zs=null,gi=!1,a!==null&&cb(o,a),o=jp(o,d.children),o.flags|=4096);return o}return y?(Us(),F=d.fallback,y=o.mode,te=a.child,ve=te.sibling,d=Va(te,{mode:"hidden",children:d.children}),d.subtreeFlags=te.subtreeFlags&65011712,ve!==null?F=Va(ve,F):(F=Jo(F,y,u,null),F.flags|=2),F.return=o,d.return=o,d.sibling=F,o.child=d,n0(null,d),d=o.child,F=a.child.memoizedState,F===null?F=Pp(u):(y=F.cachePool,y!==null?(te=An._currentValue,y=y.parent!==te?{parent:te,pool:te}:y):y=gb(),F={baseLanes:F.baseLanes|u,cachePool:y}),d.memoizedState=F,d.childLanes=Bp(a,N,u),o.memoizedState=qp,n0(a.child,d)):(js(o),u=a.child,a=u.sibling,u=Va(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function jp(a,o){return o=Nf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Nf(a,o){return a=Br(22,a,null,o),a.lanes=0,a}function Up(a,o,u){return sl(o,a.child,null,u),a=jp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function I8(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),rp(a.return,o,u)}function Hp(a,o,u,d,y,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:_}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=u,N.tailMode=y,N.treeForkCount=_)}function N8(a,o,u){var d=o.pendingProps,y=d.revealOrder,_=d.tail;d=d.children;var N=bn.current,F=(N&2)!==0;if(F?(N=N&1|2,o.flags|=128):N&=1,me(bn,N),Qn(a,o,d,u),d=bt?Hc:0,!F&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&I8(a,u,o);else if(a.tag===19)I8(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&yf(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Hp(o,!1,y,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&yf(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Hp(o,!0,u,null,_,d);break;case"together":Hp(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ha(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Gs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(fu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Va(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Va(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Fp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&cf(a)))}function jL(a,o,u){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),Vs(o,An,a.memoizedState.cache),el();break;case 27:case 5:Le(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:Vs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,pp(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(js(o),o.flags|=128,null):(u&o.child.childLanes)!==0?R8(a,o,u):(js(o),a=Ha(a,o,u),a!==null?a.sibling:null);js(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(fu(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return N8(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(bn,bn.current),d)break;return null;case 22:return o.lanes=0,x8(a,o,u,o.pendingProps);case 24:Vs(o,An,a.memoizedState.cache)}return Ha(a,o,u)}function M8(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Rn=!0;else{if(!Fp(a,u)&&(o.flags&128)===0)return Rn=!1,jL(a,o,u);Rn=(a.flags&131072)!==0}else Rn=!1,bt&&(o.flags&1048576)!==0&&ub(o,Hc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=il(o.elementType),o.type=a,typeof a=="function")K1(a)?(d=ll(a,d),o.tag=1,o=A8(null,o,a,d,u)):(o.tag=0,o=Vp(null,o,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===z){o.tag=11,o=_8(null,o,a,d,u);break e}else if(y===R){o.tag=14,o=b8(null,o,a,d,u);break e}}throw o=K(a)||a,Error(r(306,o,""))}}return o;case 0:return Vp(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=ll(d,o.pendingProps),A8(a,o,d,y,u);case 3:e:{if(_e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;y=_.element,cp(a,o),Zc(o,d,null,u);var N=o.memoizedState;if(d=N.cache,Vs(o,An,d),d!==_.cache&&ip(o,[An],u,!0),Qc(),d=N.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=C8(a,o,d,u);break e}else if(d!==y){y=di(Error(r(424)),o),Fc(y),o=C8(a,o,d,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Xt=yi(a.firstChild),Xn=o,bt=!0,zs=null,gi=!0,u=xb(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(el(),d===y){o=Ha(a,o,u);break e}Qn(a,o,d,u)}o=o.child}return o;case 26:return If(a,o),a===null?(u=Uw(o.type,null,o.pendingProps,null))?o.memoizedState=u:bt||(u=o.type,a=o.pendingProps,d=$f(le.current).createElement(u),d[dn]=o,d[En]=a,Zn(d,u,a),mn(d),o.stateNode=d):o.memoizedState=Uw(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Le(o),a===null&&bt&&(d=o.stateNode=Pw(o.type,o.pendingProps,le.current),Xn=o,gi=!0,y=Xt,Qs(o.type)?(Sg=y,Xt=yi(d.firstChild)):Xt=y),Qn(a,o,o.pendingProps.children,u),If(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&bt&&((y=d=Xt)&&(d=vV(d,o.type,o.pendingProps,gi),d!==null?(o.stateNode=d,Xn=o,Xt=yi(d.firstChild),gi=!1,y=!0):y=!1),y||Ls(o)),Le(o),y=o.type,_=o.pendingProps,N=a!==null?a.memoizedProps:null,d=_.children,yg(y,_)?d=null:N!==null&&yg(y,N)&&(o.flags|=32),o.memoizedState!==null&&(y=vp(a,o,kL,null,null,u),v0._currentValue=y),If(a,o),Qn(a,o,d,u),o.child;case 6:return a===null&&bt&&((a=u=Xt)&&(u=yV(u,o.pendingProps,gi),u!==null?(o.stateNode=u,Xn=o,Xt=null,a=!0):a=!1),a||Ls(o)),null;case 13:return R8(a,o,u);case 4:return _e(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=sl(o,null,d,u):Qn(a,o,d,u),o.child;case 11:return _8(a,o,o.type,o.pendingProps,u);case 7:return Qn(a,o,o.pendingProps,u),o.child;case 8:return Qn(a,o,o.pendingProps.children,u),o.child;case 12:return Qn(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Vs(o,o.type,d.value),Qn(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,nl(o),y=Kn(y),d=d(y),o.flags|=1,Qn(a,o,d,u),o.child;case 14:return b8(a,o,o.type,o.pendingProps,u);case 15:return w8(a,o,o.type,o.pendingProps,u);case 19:return N8(a,o,u);case 31:return BL(a,o,u);case 22:return x8(a,o,u,o.pendingProps);case 24:return nl(o),d=Kn(An),a===null?(y=op(),y===null&&(y=Ht,_=ap(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),o.memoizedState={parent:d,cache:y},up(o),Vs(o,An,y)):((a.lanes&u)!==0&&(cp(a,o),Zc(o,null,null,u),Qc()),y=a.memoizedState,_=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Vs(o,An,d)):(d=_.cache,Vs(o,An,d),d!==y.cache&&ip(o,[An],u,!0))),Qn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Fa(a){a.flags|=4}function Gp(a,o,u,d,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(iw())a.flags|=8192;else throw al=mf,lp}else a.flags&=-16777217}function k8(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Yw(o))if(iw())a.flags|=8192;else throw al=mf,lp}function Mf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Fl():536870912,a.lanes|=o,Eu|=o)}function r0(a,o){if(!bt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Kt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function UL(a,o,u){var d=o.pendingProps;switch(J1(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ba(An),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(hu(o)?Fa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tp())),Kt(o),null;case 26:var y=o.type,_=o.memoizedState;return a===null?(Fa(o),_!==null?(Kt(o),k8(o,_)):(Kt(o),Gp(o,y,null,d,u))):_?_!==a.memoizedState?(Fa(o),Kt(o),k8(o,_)):(Kt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Fa(o),Kt(o),Gp(o,y,a,d,u)),null;case 27:if(He(o),u=le.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Fa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}a=Q.current,hu(o)?hb(o):(a=Pw(y,d,u),o.stateNode=a,Fa(o))}return Kt(o),null;case 5:if(He(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Fa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}if(_=Q.current,hu(o))hb(o);else{var N=$f(le.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?N.createElement(y,{is:d.is}):N.createElement(y)}}_[dn]=o,_[En]=d;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=_;e:switch(Zn(_,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Fa(o)}}return Kt(o),Gp(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Fa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=le.current,hu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=Xn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[dn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||Rw(a.nodeValue,u)),a||Ls(o,!0)}else a=$f(a).createTextNode(d),a[dn]=o,o.stateNode=a}return Kt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=hu(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[dn]=o}else el(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),a=!1}else u=tp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Ur(o),o):(Ur(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Kt(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=hu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[dn]=o}else el(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),y=!1}else y=tp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ur(o),o):(Ur(o),null)}return Ur(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Mf(o,o.updateQueue),Kt(o),null);case 4:return Ce(),a===null&&dg(o.stateNode.containerInfo),Kt(o),null;case 10:return Ba(o.type),Kt(o),null;case 19:if(W(bn),d=o.memoizedState,d===null)return Kt(o),null;if(y=(o.flags&128)!==0,_=d.rendering,_===null)if(y)r0(d,!1);else{if(vn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=yf(a),_!==null){for(o.flags|=128,r0(d,!1),a=_.updateQueue,o.updateQueue=a,Mf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)sb(u,a),u=u.sibling;return me(bn,bn.current&1|2),bt&&qa(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&Zt()>Lf&&(o.flags|=128,y=!0,r0(d,!1),o.lanes=4194304)}else{if(!y)if(a=yf(_),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Mf(o,a),r0(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!bt)return Kt(o),null}else 2*Zt()-d.renderingStartTime>Lf&&u!==536870912&&(o.flags|=128,y=!0,r0(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(a=d.last,a!==null?a.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Zt(),a.sibling=null,u=bn.current,me(bn,y?u&1|2:u&1),bt&&qa(o,d.treeForkCount),a):(Kt(o),null);case 22:case 23:return Ur(o),mp(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),u=o.updateQueue,u!==null&&Mf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&W(rl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ba(An),Kt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function HL(a,o){switch(J1(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ba(An),Ce(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(Ur(o),o.alternate===null)throw Error(r(340));el()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Ur(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));el()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return W(bn),null;case 4:return Ce(),null;case 10:return Ba(o.type),null;case 22:case 23:return Ur(o),mp(),a!==null&&W(rl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ba(An),null;case 25:return null;default:return null}}function D8(a,o){switch(J1(o),o.tag){case 3:Ba(An),Ce();break;case 26:case 27:case 5:He(o);break;case 4:Ce();break;case 31:o.memoizedState!==null&&Ur(o);break;case 13:Ur(o);break;case 19:W(bn);break;case 10:Ba(o.type);break;case 22:case 23:Ur(o),mp(),a!==null&&W(rl);break;case 24:Ba(An)}}function i0(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var _=u.create,N=u.inst;d=_(),N.destroy=d}u=u.next}while(u!==y)}}catch(F){Ot(o,o.return,F)}}function Hs(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&a)===a){var N=d.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,y=o;var te=u,ve=F;try{ve()}catch(xe){Ot(y,te,xe)}}}d=d.next}while(d!==_)}}catch(xe){Ot(o,o.return,xe)}}function O8(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Eb(o,u)}catch(d){Ot(a,a.return,d)}}}function z8(a,o,u){u.props=ll(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Ot(a,o,d)}}function a0(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Ot(a,o,y)}}function aa(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Ot(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ot(a,o,y)}else u.current=null}function L8(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Ot(a,a.return,y)}}function $p(a,o,u){try{var d=a.stateNode;hV(d,a.type,u,o),d[En]=o}catch(y){Ot(a,a.return,y)}}function V8(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qs(a.type)||a.tag===4}function Yp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||V8(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xp(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ri));else if(d!==4&&(d===27&&Qs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Xp(a,o,u),a=a.sibling;a!==null;)Xp(a,o,u),a=a.sibling}function kf(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&Qs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(kf(a,o,u),a=a.sibling;a!==null;)kf(a,o,u),a=a.sibling}function q8(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Zn(o,d,u),o[dn]=a,o[En]=u}catch(_){Ot(a,a.return,_)}}var Ga=!1,In=!1,Kp=!1,P8=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function FL(a,o){if(a=a.containerInfo,gg=Jf,a=Z7(a),U1(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,F=-1,te=-1,ve=0,xe=0,Te=a,ye=null;t:for(;;){for(var we;Te!==u||y!==0&&Te.nodeType!==3||(F=N+y),Te!==_||d!==0&&Te.nodeType!==3||(te=N+d),Te.nodeType===3&&(N+=Te.nodeValue.length),(we=Te.firstChild)!==null;)ye=Te,Te=we;for(;;){if(Te===a)break t;if(ye===u&&++ve===y&&(F=N),ye===_&&++xe===d&&(te=N),(we=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=we}u=F===-1||te===-1?null:{start:F,end:te}}else u=null}u=u||{start:0,end:0}}else u=null;for(vg={focusedElem:a,selectionRange:u},Jf=!1,Hn=o;Hn!==null;)if(o=Hn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Hn=a;else for(;Hn!==null;){switch(o=Hn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,y=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var je=ll(u.type,y);a=d.getSnapshotBeforeUpdate(je,_),d.__reactInternalSnapshotBeforeUpdate=a}catch(Je){Ot(u,u.return,Je)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)bg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":bg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Hn=a;break}Hn=o.return}}function B8(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ya(a,u),d&4&&i0(5,u);break;case 1:if(Ya(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){Ot(u,u.return,N)}else{var y=ll(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Ot(u,u.return,N)}}d&64&&O8(u),d&512&&a0(u,u.return);break;case 3:if(Ya(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Eb(a,o)}catch(N){Ot(u,u.return,N)}}break;case 27:o===null&&d&4&&q8(u);case 26:case 5:Ya(a,u),o===null&&d&4&&L8(u),d&512&&a0(u,u.return);break;case 12:Ya(a,u);break;case 31:Ya(a,u),d&4&&H8(a,u);break;case 13:Ya(a,u),d&4&&F8(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=JL.bind(null,u),_V(a,u))));break;case 22:if(d=u.memoizedState!==null||Ga,!d){o=o!==null&&o.memoizedState!==null||In,y=Ga;var _=In;Ga=d,(In=o)&&!_?Xa(a,u,(u.subtreeFlags&8772)!==0):Ya(a,u),Ga=y,In=_}break;case 30:break;default:Ya(a,u)}}function j8(a){var o=a.alternate;o!==null&&(a.alternate=null,j8(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Es(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jt=null,Sr=!1;function $a(a,o,u){for(u=u.child;u!==null;)U8(a,o,u),u=u.sibling}function U8(a,o,u){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(hn,u)}catch{}switch(u.tag){case 26:In||aa(u,o),$a(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:In||aa(u,o);var d=Jt,y=Sr;Qs(u.type)&&(Jt=u.stateNode,Sr=!1),$a(a,o,u),m0(u.stateNode),Jt=d,Sr=y;break;case 5:In||aa(u,o);case 6:if(d=Jt,y=Sr,Jt=null,$a(a,o,u),Jt=d,Sr=y,Jt!==null)if(Sr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(_){Ot(u,o,_)}else try{Jt.removeChild(u.stateNode)}catch(_){Ot(u,o,_)}break;case 18:Jt!==null&&(Sr?(a=Jt,Ow(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ku(a)):Ow(Jt,u.stateNode));break;case 4:d=Jt,y=Sr,Jt=u.stateNode.containerInfo,Sr=!0,$a(a,o,u),Jt=d,Sr=y;break;case 0:case 11:case 14:case 15:Hs(2,u,o),In||Hs(4,u,o),$a(a,o,u);break;case 1:In||(aa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&z8(u,o,d)),$a(a,o,u);break;case 21:$a(a,o,u);break;case 22:In=(d=In)||u.memoizedState!==null,$a(a,o,u),In=d;break;default:$a(a,o,u)}}function H8(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ku(a)}catch(u){Ot(o,o.return,u)}}}function F8(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ku(a)}catch(u){Ot(o,o.return,u)}}function GL(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new P8),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new P8),o;default:throw Error(r(435,a.tag))}}function Df(a,o){var u=GL(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=eV.bind(null,a,d);d.then(y,y)}})}function Er(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],_=a,N=o,F=N;e:for(;F!==null;){switch(F.tag){case 27:if(Qs(F.type)){Jt=F.stateNode,Sr=!1;break e}break;case 5:Jt=F.stateNode,Sr=!1;break e;case 3:case 4:Jt=F.stateNode.containerInfo,Sr=!0;break e}F=F.return}if(Jt===null)throw Error(r(160));U8(_,N,y),Jt=null,Sr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)G8(o,a),o=o.sibling}var Oi=null;function G8(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Er(o,a),Tr(a),d&4&&(Hs(3,a,a.return),i0(3,a),Hs(5,a,a.return));break;case 1:Er(o,a),Tr(a),d&512&&(In||u===null||aa(u,u.return)),d&64&&Ga&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Oi;if(Er(o,a),Tr(a),d&512&&(In||u===null||aa(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[ii]||_[dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),Zn(_,d,u),_[dn]=a,mn(_),d=_;break e;case"link":var N=Gw("link","href",y).get(d+(u.href||""));if(N){for(var F=0;F<N.length;F++)if(_=N[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(F,1);break t}}_=y.createElement(d),Zn(_,d,u),y.head.appendChild(_);break;case"meta":if(N=Gw("meta","content",y).get(d+(u.content||""))){for(F=0;F<N.length;F++)if(_=N[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(F,1);break t}}_=y.createElement(d),Zn(_,d,u),y.head.appendChild(_);break;default:throw Error(r(468,d))}_[dn]=a,mn(_),d=_}a.stateNode=d}else $w(y,a.type,a.stateNode);else a.stateNode=Fw(y,d,a.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?$w(y,a.type,a.stateNode):Fw(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&$p(a,a.memoizedProps,u.memoizedProps)}break;case 27:Er(o,a),Tr(a),d&512&&(In||u===null||aa(u,u.return)),u!==null&&d&4&&$p(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Er(o,a),Tr(a),d&512&&(In||u===null||aa(u,u.return)),a.flags&32){y=a.stateNode;try{xr(y,"")}catch(je){Ot(a,a.return,je)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,$p(a,y,u!==null?u.memoizedProps:y)),d&1024&&(Kp=!0);break;case 6:if(Er(o,a),Tr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(je){Ot(a,a.return,je)}}break;case 3:if(Kf=null,y=Oi,Oi=Yf(o.containerInfo),Er(o,a),Oi=y,Tr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ku(o.containerInfo)}catch(je){Ot(a,a.return,je)}Kp&&(Kp=!1,$8(a));break;case 4:d=Oi,Oi=Yf(a.stateNode.containerInfo),Er(o,a),Tr(a),Oi=d;break;case 12:Er(o,a),Tr(a);break;case 31:Er(o,a),Tr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Df(a,d)));break;case 13:Er(o,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(zf=Zt()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Df(a,d)));break;case 22:y=a.memoizedState!==null;var te=u!==null&&u.memoizedState!==null,ve=Ga,xe=In;if(Ga=ve||y,In=xe||te,Er(o,a),In=xe,Ga=ve,Tr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||te||Ga||In||ul(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){te=u=o;try{if(_=te.stateNode,y)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(je){Ot(te,te.return,je)}}}else if(o.tag===6){if(u===null){te=o;try{te.stateNode.nodeValue=y?"":te.memoizedProps}catch(je){Ot(te,te.return,je)}}}else if(o.tag===18){if(u===null){te=o;try{var we=te.stateNode;y?zw(we,!0):zw(te.stateNode,!1)}catch(je){Ot(te,te.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Df(a,u))));break;case 19:Er(o,a),Tr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Df(a,d)));break;case 30:break;case 21:break;default:Er(o,a),Tr(a)}}function Tr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(V8(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,_=Yp(a);kf(a,_,y);break;case 5:var N=u.stateNode;u.flags&32&&(xr(N,""),u.flags&=-33);var F=Yp(a);kf(a,F,N);break;case 3:case 4:var te=u.stateNode.containerInfo,ve=Yp(a);Xp(a,ve,te);break;default:throw Error(r(161))}}catch(xe){Ot(a,a.return,xe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function $8(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;$8(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ya(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)B8(a,o.alternate,o),o=o.sibling}function ul(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Hs(4,o,o.return),ul(o);break;case 1:aa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&z8(o,o.return,u),ul(o);break;case 27:m0(o.stateNode);case 26:case 5:aa(o,o.return),ul(o);break;case 22:o.memoizedState===null&&ul(o);break;case 30:ul(o);break;default:ul(o)}a=a.sibling}}function Xa(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,_=o,N=_.flags;switch(_.tag){case 0:case 11:case 15:Xa(y,_,u),i0(4,_);break;case 1:if(Xa(y,_,u),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ve){Ot(d,d.return,ve)}if(d=_,y=d.updateQueue,y!==null){var F=d.stateNode;try{var te=y.shared.hiddenCallbacks;if(te!==null)for(y.shared.hiddenCallbacks=null,y=0;y<te.length;y++)Sb(te[y],F)}catch(ve){Ot(d,d.return,ve)}}u&&N&64&&O8(_),a0(_,_.return);break;case 27:q8(_);case 26:case 5:Xa(y,_,u),u&&d===null&&N&4&&L8(_),a0(_,_.return);break;case 12:Xa(y,_,u);break;case 31:Xa(y,_,u),u&&N&4&&H8(y,_);break;case 13:Xa(y,_,u),u&&N&4&&F8(y,_);break;case 22:_.memoizedState===null&&Xa(y,_,u),a0(_,_.return);break;case 30:break;default:Xa(y,_,u)}o=o.sibling}}function Qp(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Gc(u))}function Zp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Gc(a))}function zi(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Y8(a,o,u,d),o=o.sibling}function Y8(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:zi(a,o,u,d),y&2048&&i0(9,o);break;case 1:zi(a,o,u,d);break;case 3:zi(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Gc(a)));break;case 12:if(y&2048){zi(a,o,u,d),a=o.stateNode;try{var _=o.memoizedProps,N=_.id,F=_.onPostCommit;typeof F=="function"&&F(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(te){Ot(o,o.return,te)}}else zi(a,o,u,d);break;case 31:zi(a,o,u,d);break;case 13:zi(a,o,u,d);break;case 23:break;case 22:_=o.stateNode,N=o.alternate,o.memoizedState!==null?_._visibility&2?zi(a,o,u,d):s0(a,o):_._visibility&2?zi(a,o,u,d):(_._visibility|=2,wu(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Qp(N,o);break;case 24:zi(a,o,u,d),y&2048&&Zp(o.alternate,o);break;default:zi(a,o,u,d)}}function wu(a,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,N=o,F=u,te=d,ve=N.flags;switch(N.tag){case 0:case 11:case 15:wu(_,N,F,te,y),i0(8,N);break;case 23:break;case 22:var xe=N.stateNode;N.memoizedState!==null?xe._visibility&2?wu(_,N,F,te,y):s0(_,N):(xe._visibility|=2,wu(_,N,F,te,y)),y&&ve&2048&&Qp(N.alternate,N);break;case 24:wu(_,N,F,te,y),y&&ve&2048&&Zp(N.alternate,N);break;default:wu(_,N,F,te,y)}o=o.sibling}}function s0(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:s0(u,d),y&2048&&Qp(d.alternate,d);break;case 24:s0(u,d),y&2048&&Zp(d.alternate,d);break;default:s0(u,d)}o=o.sibling}}var o0=8192;function xu(a,o,u){if(a.subtreeFlags&o0)for(a=a.child;a!==null;)X8(a,o,u),a=a.sibling}function X8(a,o,u){switch(a.tag){case 26:xu(a,o,u),a.flags&o0&&a.memoizedState!==null&&MV(u,Oi,a.memoizedState,a.memoizedProps);break;case 5:xu(a,o,u);break;case 3:case 4:var d=Oi;Oi=Yf(a.stateNode.containerInfo),xu(a,o,u),Oi=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=o0,o0=16777216,xu(a,o,u),o0=d):xu(a,o,u));break;default:xu(a,o,u)}}function K8(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function l0(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Hn=d,Z8(d,a)}K8(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Q8(a),a=a.sibling}function Q8(a){switch(a.tag){case 0:case 11:case 15:l0(a),a.flags&2048&&Hs(9,a,a.return);break;case 3:l0(a);break;case 12:l0(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Of(a)):l0(a);break;default:l0(a)}}function Of(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Hn=d,Z8(d,a)}K8(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Hs(8,o,o.return),Of(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Of(o));break;default:Of(o)}a=a.sibling}}function Z8(a,o){for(;Hn!==null;){var u=Hn;switch(u.tag){case 0:case 11:case 15:Hs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Hn=d;else e:for(u=a;Hn!==null;){d=Hn;var y=d.sibling,_=d.return;if(j8(d),d===u){Hn=null;break e}if(y!==null){y.return=_,Hn=y;break e}Hn=_}}}var $L={getCacheForType:function(a){var o=Kn(An),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Kn(An).controller.signal}},YL=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Ht=null,dt=null,pt=0,Dt=0,Hr=null,Fs=!1,Su=!1,Wp=!1,Ka=0,vn=0,Gs=0,cl=0,Jp=0,Fr=0,Eu=0,u0=null,Ar=null,eg=!1,zf=0,W8=0,Lf=1/0,Vf=null,$s=null,qn=0,Ys=null,Tu=null,Qa=0,tg=0,ng=null,J8=null,c0=0,rg=null;function Gr(){return(Mt&2)!==0&&pt!==0?pt&-pt:$.T!==null?ug():Gl()}function ew(){if(Fr===0)if((pt&536870912)===0||bt){var a=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),Fr=a}else Fr=536870912;return a=jr.current,a!==null&&(a.flags|=32),Fr}function Cr(a,o,u){(a===Ht&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)&&(Au(a,0),Xs(a,pt,Fr,!1)),Ra(a,u),((Mt&2)===0||a!==Ht)&&(a===Ht&&((Mt&2)===0&&(cl|=u),vn===4&&Xs(a,pt,Fr,!1)),sa(a))}function tw(a,o,u){if((Mt&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Or(a,o),y=d?QL(a,o):ag(a,o,!0),_=d;do{if(y===0){Su&&!d&&Xs(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!XL(u)){y=ag(a,o,!1),_=!1;continue}if(y===2){if(_=o,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var F=a;y=u0;var te=F.current.memoizedState.isDehydrated;if(te&&(Au(F,N).flags|=256),N=ag(F,N,!1),N!==2){if(Wp&&!te){F.errorRecoveryDisabledLanes|=_,cl|=_,y=4;break e}_=Ar,Ar=y,_!==null&&(Ar===null?Ar=_:Ar.push.apply(Ar,_))}y=N}if(_=!1,y!==2)continue}}if(y===1){Au(a,0),Xs(a,o,0,!0);break}e:{switch(d=a,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Xs(d,o,Fr,!Fs);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=zf+300-Zt(),10<y)){if(Xs(d,o,Fr,!Fs),ni(d,0,!0)!==0)break e;Qa=o,d.timeoutHandle=kw(nw.bind(null,d,u,Ar,Vf,eg,o,Fr,cl,Eu,Fs,_,"Throttled",-0,0),y);break e}nw(d,u,Ar,Vf,eg,o,Fr,cl,Eu,Fs,_,null,-0,0)}}break}while(!0);sa(a)}function nw(a,o,u,d,y,_,N,F,te,ve,xe,Te,ye,we){if(a.timeoutHandle=-1,Te=o.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},X8(o,_,Te);var je=(_&62914560)===_?zf-Zt():(_&4194048)===_?W8-Zt():0;if(je=kV(Te,je),je!==null){Qa=_,a.cancelPendingCommit=je(cw.bind(null,a,o,_,u,d,y,N,F,te,xe,Te,null,ye,we)),Xs(a,_,N,!ve);return}}cw(a,o,_,u,d,y,N,F,te)}function XL(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],_=y.getSnapshot;y=y.value;try{if(!Pr(_(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xs(a,o,u,d){o&=~Jp,o&=~cl,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var _=31-sn(y),N=1<<_;d[_]=-1,y&=~N}u!==0&&Ia(a,u,o)}function qf(){return(Mt&6)===0?(h0(0),!1):!0}function ig(){if(dt!==null){if(Dt===0)var a=dt.return;else a=dt,Pa=tl=null,bp(a),gu=null,Yc=0,a=dt;for(;a!==null;)D8(a.alternate,a),a=a.return;dt=null}}function Au(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,mV(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Qa=0,ig(),Ht=a,dt=u=Va(a.current,null),pt=o,Dt=0,Hr=null,Fs=!1,Su=Or(a,o),Wp=!1,Eu=Fr=Jp=cl=Gs=vn=0,Ar=u0=null,eg=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-sn(d),_=1<<y;o|=a[y],d&=~_}return Ka=o,af(),u}function rw(a,o){lt=null,$.H=t0,o===pu||o===df?(o=_b(),Dt=3):o===lp?(o=_b(),Dt=4):Dt=o===Lp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Hr=o,dt===null&&(vn=1,Cf(a,di(o,a.current)))}function iw(){var a=jr.current;return a===null?!0:(pt&4194048)===pt?vi===null:(pt&62914560)===pt||(pt&536870912)!==0?a===vi:!1}function aw(){var a=$.H;return $.H=t0,a===null?t0:a}function sw(){var a=$.A;return $.A=$L,a}function Pf(){vn=4,Fs||(pt&4194048)!==pt&&jr.current!==null||(Su=!0),(Gs&134217727)===0&&(cl&134217727)===0||Ht===null||Xs(Ht,pt,Fr,!1)}function ag(a,o,u){var d=Mt;Mt|=2;var y=aw(),_=sw();(Ht!==a||pt!==o)&&(Vf=null,Au(a,o)),o=!1;var N=vn;e:do try{if(Dt!==0&&dt!==null){var F=dt,te=Hr;switch(Dt){case 8:ig(),N=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(o=!0);var ve=Dt;if(Dt=0,Hr=null,Cu(a,F,te,ve),u&&Su){N=0;break e}break;default:ve=Dt,Dt=0,Hr=null,Cu(a,F,te,ve)}}KL(),N=vn;break}catch(xe){rw(a,xe)}while(!0);return o&&a.shellSuspendCounter++,Pa=tl=null,Mt=d,$.H=y,$.A=_,dt===null&&(Ht=null,pt=0,af()),N}function KL(){for(;dt!==null;)ow(dt)}function QL(a,o){var u=Mt;Mt|=2;var d=aw(),y=sw();Ht!==a||pt!==o?(Vf=null,Lf=Zt()+500,Au(a,o)):Su=Or(a,o);e:do try{if(Dt!==0&&dt!==null){o=dt;var _=Hr;t:switch(Dt){case 1:Dt=0,Hr=null,Cu(a,o,_,1);break;case 2:case 9:if(vb(_)){Dt=0,Hr=null,lw(o);break}o=function(){Dt!==2&&Dt!==9||Ht!==a||(Dt=7),sa(a)},_.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:vb(_)?(Dt=0,Hr=null,lw(o)):(Dt=0,Hr=null,Cu(a,o,_,7));break;case 5:var N=null;switch(dt.tag){case 26:N=dt.memoizedState;case 5:case 27:var F=dt;if(N?Yw(N):F.stateNode.complete){Dt=0,Hr=null;var te=F.sibling;if(te!==null)dt=te;else{var ve=F.return;ve!==null?(dt=ve,Bf(ve)):dt=null}break t}}Dt=0,Hr=null,Cu(a,o,_,5);break;case 6:Dt=0,Hr=null,Cu(a,o,_,6);break;case 8:ig(),vn=6;break e;default:throw Error(r(462))}}ZL();break}catch(xe){rw(a,xe)}while(!0);return Pa=tl=null,$.H=d,$.A=y,Mt=u,dt!==null?0:(Ht=null,pt=0,af(),vn)}function ZL(){for(;dt!==null&&!jn();)ow(dt)}function ow(a){var o=M8(a.alternate,a,Ka);a.memoizedProps=a.pendingProps,o===null?Bf(a):dt=o}function lw(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=T8(u,o,o.pendingProps,o.type,void 0,pt);break;case 11:o=T8(u,o,o.pendingProps,o.type.render,o.ref,pt);break;case 5:bp(o);default:D8(u,o),o=dt=sb(o,Ka),o=M8(u,o,Ka)}a.memoizedProps=a.pendingProps,o===null?Bf(a):dt=o}function Cu(a,o,u,d){Pa=tl=null,bp(o),gu=null,Yc=0;var y=o.return;try{if(PL(a,y,o,u,pt)){vn=1,Cf(a,di(u,a.current)),dt=null;return}}catch(_){if(y!==null)throw dt=y,_;vn=1,Cf(a,di(u,a.current)),dt=null;return}o.flags&32768?(bt||d===1?a=!0:Su||(pt&536870912)!==0?a=!1:(Fs=a=!0,(d===2||d===9||d===3||d===6)&&(d=jr.current,d!==null&&d.tag===13&&(d.flags|=16384))),uw(o,a)):Bf(o)}function Bf(a){var o=a;do{if((o.flags&32768)!==0){uw(o,Fs);return}a=o.return;var u=UL(o.alternate,o,Ka);if(u!==null){dt=u;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=a}while(o!==null);vn===0&&(vn=5)}function uw(a,o){do{var u=HL(a.alternate,a);if(u!==null){u.flags&=32767,dt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){dt=a;return}dt=a=u}while(a!==null);vn=6,dt=null}function cw(a,o,u,d,y,_,N,F,te){a.cancelPendingCommit=null;do jf();while(qn!==0);if((Mt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=Y1,Nc(a,u,_,N,F,te),a===Ht&&(dt=Ht=null,pt=0),Tu=o,Ys=a,Qa=u,tg=_,ng=y,J8=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,tV(Un,function(){return pw(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=ee.p,ee.p=2,N=Mt,Mt|=4;try{FL(a,o,u)}finally{Mt=N,ee.p=y,$.T=d}}qn=1,hw(),fw(),dw()}}function hw(){if(qn===1){qn=0;var a=Ys,o=Tu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=ee.p;ee.p=2;var y=Mt;Mt|=4;try{G8(o,a);var _=vg,N=Z7(a.containerInfo),F=_.focusedElem,te=_.selectionRange;if(N!==F&&F&&F.ownerDocument&&Q7(F.ownerDocument.documentElement,F)){if(te!==null&&U1(F)){var ve=te.start,xe=te.end;if(xe===void 0&&(xe=ve),"selectionStart"in F)F.selectionStart=ve,F.selectionEnd=Math.min(xe,F.value.length);else{var Te=F.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var we=ye.getSelection(),je=F.textContent.length,Je=Math.min(te.start,je),Pt=te.end===void 0?Je:Math.min(te.end,je);!we.extend&&Je>Pt&&(N=Pt,Pt=Je,Je=N);var ue=K7(F,Je),ae=K7(F,Pt);if(ue&&ae&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var pe=Te.createRange();pe.setStart(ue.node,ue.offset),we.removeAllRanges(),Je>Pt?(we.addRange(pe),we.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),we.addRange(pe))}}}}for(Te=[],we=F;we=we.parentNode;)we.nodeType===1&&Te.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Ee=Te[F];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Jf=!!gg,vg=gg=null}finally{Mt=y,ee.p=d,$.T=u}}a.current=o,qn=2}}function fw(){if(qn===2){qn=0;var a=Ys,o=Tu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=ee.p;ee.p=2;var y=Mt;Mt|=4;try{B8(a,o.alternate,o)}finally{Mt=y,ee.p=d,$.T=u}}qn=3}}function dw(){if(qn===4||qn===3){qn=0,Yt();var a=Ys,o=Tu,u=Qa,d=J8;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?qn=5:(qn=0,Tu=Ys=null,mw(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&($s=null),Ai(u),o=o.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(hn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,y=ee.p,ee.p=2,$.T=null;try{for(var _=a.onRecoverableError,N=0;N<d.length;N++){var F=d[N];_(F.value,{componentStack:F.stack})}}finally{$.T=o,ee.p=y}}(Qa&3)!==0&&jf(),sa(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===rg?c0++:(c0=0,rg=a):c0=0,h0(0)}}function mw(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Gc(o)))}function jf(){return hw(),fw(),dw(),pw()}function pw(){if(qn!==5)return!1;var a=Ys,o=tg;tg=0;var u=Ai(Qa),d=$.T,y=ee.p;try{ee.p=32>u?32:u,$.T=null,u=ng,ng=null;var _=Ys,N=Qa;if(qn=0,Tu=Ys=null,Qa=0,(Mt&6)!==0)throw Error(r(331));var F=Mt;if(Mt|=4,Q8(_.current),Y8(_,_.current,N,u),Mt=F,h0(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(hn,_)}catch{}return!0}finally{ee.p=y,$.T=d,mw(a,o)}}function gw(a,o,u){o=di(u,o),o=zp(a.stateNode,o,2),a=Bs(a,o,2),a!==null&&(Ra(a,2),sa(a))}function Ot(a,o,u){if(a.tag===3)gw(a,a,u);else for(;o!==null;){if(o.tag===3){gw(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))){a=di(u,a),u=v8(2),d=Bs(o,u,2),d!==null&&(y8(u,d,o,a),Ra(d,2),sa(d));break}}o=o.return}}function sg(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new YL;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(Wp=!0,y.add(u),a=WL.bind(null,a,o,u),o.then(a,a))}function WL(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Ht===a&&(pt&u)===u&&(vn===4||vn===3&&(pt&62914560)===pt&&300>Zt()-zf?(Mt&2)===0&&Au(a,0):Jp|=u,Eu===pt&&(Eu=0)),sa(a)}function vw(a,o){o===0&&(o=Fl()),a=Wo(a,o),a!==null&&(Ra(a,o),sa(a))}function JL(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),vw(a,u)}function eV(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),vw(a,u)}function tV(a,o){return kt(a,o)}var Uf=null,Ru=null,og=!1,Hf=!1,lg=!1,Ks=0;function sa(a){a!==Ru&&a.next===null&&(Ru===null?Uf=Ru=a:Ru=Ru.next=a),Hf=!0,og||(og=!0,rV())}function h0(a,o){if(!lg&&Hf){lg=!0;do for(var u=!1,d=Uf;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var N=d.suspendedLanes,F=d.pingedLanes;_=(1<<31-sn(42|a)+1)-1,_&=y&~(N&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,ww(d,_))}else _=pt,_=ni(d,d===Ht?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Or(d,_)||(u=!0,ww(d,_));d=d.next}while(u);lg=!1}}function nV(){yw()}function yw(){Hf=og=!1;var a=0;Ks!==0&&dV()&&(a=Ks);for(var o=Zt(),u=null,d=Uf;d!==null;){var y=d.next,_=_w(d,o);_===0?(d.next=null,u===null?Uf=y:u.next=y,y===null&&(Ru=u)):(u=d,(a!==0||(_&3)!==0)&&(Hf=!0)),d=y}qn!==0&&qn!==5||h0(a),Ks!==0&&(Ks=0)}function _w(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-sn(_),F=1<<N,te=y[N];te===-1?((F&u)===0||(F&d)!==0)&&(y[N]=Ic(F,o)):te<=o&&(a.expiredLanes|=F),_&=~F}if(o=Ht,u=pt,u=ni(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Vn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Or(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&Vn(d),Ai(u)){case 2:case 8:u=_r;break;case 32:u=Un;break;case 268435456:u=Ti;break;default:u=Un}return d=bw.bind(null,a),u=kt(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&Vn(d),a.callbackPriority=2,a.callbackNode=null,2}function bw(a,o){if(qn!==0&&qn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(jf()&&a.callbackNode!==u)return null;var d=pt;return d=ni(a,a===Ht?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(tw(a,d,o),_w(a,Zt()),a.callbackNode!=null&&a.callbackNode===u?bw.bind(null,a):null)}function ww(a,o){if(jf())return null;tw(a,o,!0)}function rV(){pV(function(){(Mt&6)!==0?kt(yr,nV):yw()})}function ug(){if(Ks===0){var a=du;a===0&&(a=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ks=a}return Ks}function xw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Wl(""+a)}function Sw(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function iV(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var _=xw((y[En]||null).action),N=d.submitter;N&&(o=(o=N[En]||null)?xw(o.formAction):N.getAttribute("formAction"),o!==null&&(_=o,N=null));var F=new Ji("action","action",null,d,y);a.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ks!==0){var te=N?Sw(y,N):new FormData(y);Ip(u,{pending:!0,data:te,method:y.method,action:_},null,te)}}else typeof _=="function"&&(F.preventDefault(),te=N?Sw(y,N):new FormData(y),Ip(u,{pending:!0,data:te,method:y.method,action:_},_,te))},currentTarget:y}]})}}for(var cg=0;cg<$1.length;cg++){var hg=$1[cg],aV=hg.toLowerCase(),sV=hg[0].toUpperCase()+hg.slice(1);Di(aV,"on"+sV)}Di(eb,"onAnimationEnd"),Di(tb,"onAnimationIteration"),Di(nb,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(xL,"onTransitionRun"),Di(SL,"onTransitionStart"),Di(EL,"onTransitionCancel"),Di(rb,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(f0));function Ew(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var N=d.length-1;0<=N;N--){var F=d[N],te=F.instance,ve=F.currentTarget;if(F=F.listener,te!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=ve;try{_(y)}catch(xe){rf(xe)}y.currentTarget=null,_=te}else for(N=0;N<d.length;N++){if(F=d[N],te=F.instance,ve=F.currentTarget,F=F.listener,te!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=ve;try{_(y)}catch(xe){rf(xe)}y.currentTarget=null,_=te}}}}function mt(a,o){var u=o[Ma];u===void 0&&(u=o[Ma]=new Set);var d=a+"__bubble";u.has(d)||(Tw(o,a,2,!1),u.add(d))}function fg(a,o,u){var d=0;o&&(d|=4),Tw(u,a,d,o)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function dg(a){if(!a[Ff]){a[Ff]=!0,Vo.forEach(function(u){u!=="selectionchange"&&(oV.has(u)||fg(u,!1,a),fg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ff]||(o[Ff]=!0,fg("selectionchange",!1,o))}}function Tw(a,o,u,d){switch(e9(o)){case 2:var y=zV;break;case 8:y=LV;break;default:y=Rg}u=y.bind(null,o,u,a),y=void 0,!Fo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function mg(a,o,u,d,y){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var F=d.stateNode.containerInfo;if(F===y)break;if(N===4)for(N=d.return;N!==null;){var te=N.tag;if((te===3||te===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;F!==null;){if(N=ai(F),N===null)return;if(te=N.tag,te===5||te===6||te===26||te===27){d=_=N;continue e}F=F.parentNode}}d=d.return}Ns(function(){var ve=_,xe=ui(u),Te=[];e:{var ye=ib.get(a);if(ye!==void 0){var we=Ji,je=a;switch(a){case"keypress":if($o(u)===0)break e;case"keydown":case"keyup":we=ef;break;case"focusin":je="focus",we=Xo;break;case"focusout":je="blur",we=Xo;break;case"beforeblur":case"afterblur":we=Xo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=T;break;case eb:case tb:case nb:we=Yh;break;case rb:we=X;break;case"scroll":case"scrollend":we=Lc;break;case"wheel":we=be;break;case"copy":case"cut":case"paste":we=Xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=La;break;case"toggle":case"beforetoggle":we=ot}var Je=(o&4)!==0,Pt=!Je&&(a==="scroll"||a==="scrollend"),ue=Je?ye!==null?ye+"Capture":null:ye;Je=[];for(var ae=ve,pe;ae!==null;){var Ee=ae;if(pe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||pe===null||ue===null||(Ee=Ii(ae,ue),Ee!=null&&Je.push(d0(ae,Ee,pe))),Pt)break;ae=ae.return}0<Je.length&&(ye=new we(ye,je,null,u,xe),Te.push({event:ye,listeners:Je}))}}if((o&7)===0){e:{if(ye=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ye&&u!==Dc&&(je=u.relatedTarget||u.fromElement)&&(ai(je)||je[Vr]))break e;if((we||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,we?(je=u.relatedTarget||u.toElement,we=ve,je=je?ai(je):null,je!==null&&(Pt=s(je),Je=je.tag,je!==Pt||Je!==5&&Je!==27&&Je!==6)&&(je=null)):(we=null,je=ve),we!==je)){if(Je=Vc,Ee="onMouseLeave",ue="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(Je=La,Ee="onPointerLeave",ue="onPointerEnter",ae="pointer"),Pt=we==null?ye:rr(we),pe=je==null?ye:rr(je),ye=new Je(Ee,ae+"leave",we,u,xe),ye.target=Pt,ye.relatedTarget=pe,Ee=null,ai(xe)===ve&&(Je=new Je(ue,ae+"enter",je,u,xe),Je.target=pe,Je.relatedTarget=Pt,Ee=Je),Pt=Ee,we&&je)t:{for(Je=lV,ue=we,ae=je,pe=0,Ee=ue;Ee;Ee=Je(Ee))pe++;Ee=0;for(var Ke=ae;Ke;Ke=Je(Ke))Ee++;for(;0<pe-Ee;)ue=Je(ue),pe--;for(;0<Ee-pe;)ae=Je(ae),Ee--;for(;pe--;){if(ue===ae||ae!==null&&ue===ae.alternate){Je=ue;break t}ue=Je(ue),ae=Je(ae)}Je=null}else Je=null;we!==null&&Aw(Te,ye,we,Je,!1),je!==null&&Pt!==null&&Aw(Te,Pt,je,Je,!0)}}e:{if(ye=ve?rr(ve):window,we=ye.nodeName&&ye.nodeName.toLowerCase(),we==="select"||we==="input"&&ye.type==="file")var Ct=H7;else if(j7(ye))if(F7)Ct=_L;else{Ct=vL;var Fe=gL}else we=ye.nodeName,!we||we.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ve&&Zl(ve.elementType)&&(Ct=H7):Ct=yL;if(Ct&&(Ct=Ct(a,ve))){U7(Te,Ct,u,xe);break e}Fe&&Fe(a,ye,ve),a==="focusout"&&ve&&ye.type==="number"&&ve.memoizedProps.value!=null&&Uo(ye,"number",ye.value)}switch(Fe=ve?rr(ve):window,a){case"focusin":(j7(Fe)||Fe.contentEditable==="true")&&(au=Fe,H1=ve,Uc=null);break;case"focusout":Uc=H1=au=null;break;case"mousedown":F1=!0;break;case"contextmenu":case"mouseup":case"dragend":F1=!1,W7(Te,u,xe);break;case"selectionchange":if(wL)break;case"keydown":case"keyup":W7(Te,u,xe)}var ut;if(Nt)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else iu?Ko(a,u)&&(gt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(na&&u.locale!=="ko"&&(iu||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&iu&&(ut=zc()):(Wi=xe,Oc="value"in Wi?Wi.value:Wi.textContent,iu=!0)),Fe=Gf(ve,gt),0<Fe.length&&(gt=new ta(gt,a,null,u,xe),Te.push({event:gt,listeners:Fe}),ut?gt.data=ut:(ut=ru(u),ut!==null&&(gt.data=ut)))),(ut=hi?fL(a,u):dL(a,u))&&(gt=Gf(ve,"onBeforeInput"),0<gt.length&&(Fe=new ta("onBeforeInput","beforeinput",null,u,xe),Te.push({event:Fe,listeners:gt}),Fe.data=ut)),iV(Te,a,ve,u,xe)}Ew(Te,o)})}function d0(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Gf(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Ii(a,u),y!=null&&d.unshift(d0(a,y,_)),y=Ii(a,o),y!=null&&d.push(d0(a,y,_))),a.tag===3)return d;a=a.return}return[]}function lV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Aw(a,o,u,d,y){for(var _=o._reactName,N=[];u!==null&&u!==d;){var F=u,te=F.alternate,ve=F.stateNode;if(F=F.tag,te!==null&&te===d)break;F!==5&&F!==26&&F!==27||ve===null||(te=ve,y?(ve=Ii(u,_),ve!=null&&N.unshift(d0(u,ve,te))):y||(ve=Ii(u,_),ve!=null&&N.push(d0(u,ve,te)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var uV=/\r\n?/g,cV=/\u0000|\uFFFD/g;function Cw(a){return(typeof a=="string"?a:""+a).replace(uV,`
`).replace(cV,"")}function Rw(a,o){return o=Cw(o),Cw(a)===o}function qt(a,o,u,d,y,_){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||xr(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&xr(a,""+d);break;case"className":cr(a,"class",d);break;case"tabIndex":cr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(a,u,d);break;case"style":kc(a,d,_);break;case"data":if(o!=="object"){cr(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Wl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&qt(a,o,"name",y.name,y,null),qt(a,o,"formEncType",y.formEncType,y,null),qt(a,o,"formMethod",y.formMethod,y,null),qt(a,o,"formTarget",y.formTarget,y,null)):(qt(a,o,"encType",y.encType,y,null),qt(a,o,"method",y.method,y,null),qt(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Wl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ri);break;case"onScroll":d!=null&&mt("scroll",a);break;case"onScrollEnd":d!=null&&mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=Wl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":mt("beforetoggle",a),mt("toggle",a),As(a,"popover",d);break;case"xlinkActuate":pn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":pn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":pn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":pn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":pn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":pn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":pn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":pn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":pn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":As(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fh.get(u)||u,As(a,u,d))}}function pg(a,o,u,d,y,_){switch(u){case"style":kc(a,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?xr(a,d):(typeof d=="number"||typeof d=="bigint")&&xr(a,""+d);break;case"onScroll":d!=null&&mt("scroll",a);break;case"onScrollEnd":d!=null&&mt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),_=a[En]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):As(a,u,d)}}}function Zn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",a),mt("load",a);var d=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(a,o,_,N,u,null)}}y&&qt(a,o,"srcSet",u.srcSet,u,null),d&&qt(a,o,"src",u.src,u,null);return;case"input":mt("invalid",a);var F=_=N=y=null,te=null,ve=null;for(d in u)if(u.hasOwnProperty(d)){var xe=u[d];if(xe!=null)switch(d){case"name":y=xe;break;case"type":N=xe;break;case"checked":te=xe;break;case"defaultChecked":ve=xe;break;case"value":_=xe;break;case"defaultValue":F=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:qt(a,o,d,xe,u,null)}}Ql(a,_,F,te,ve,N,y,!1);return;case"select":mt("invalid",a),d=N=_=null;for(y in u)if(u.hasOwnProperty(y)&&(F=u[y],F!=null))switch(y){case"value":_=F;break;case"defaultValue":N=F;break;case"multiple":d=F;default:qt(a,o,y,F,u,null)}o=_,u=N,a.multiple=!!d,o!=null?Ci(a,!!d,o,!1):u!=null&&Ci(a,!!d,u,!0);return;case"textarea":mt("invalid",a),_=y=d=null;for(N in u)if(u.hasOwnProperty(N)&&(F=u[N],F!=null))switch(N){case"value":d=F;break;case"defaultValue":y=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:qt(a,o,N,F,u,null)}Cs(a,d,y,_);return;case"option":for(te in u)u.hasOwnProperty(te)&&(d=u[te],d!=null)&&(te==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":qt(a,o,te,d,u,null));return;case"dialog":mt("beforetoggle",a),mt("toggle",a),mt("cancel",a),mt("close",a);break;case"iframe":case"object":mt("load",a);break;case"video":case"audio":for(d=0;d<f0.length;d++)mt(f0[d],a);break;case"image":mt("error",a),mt("load",a);break;case"details":mt("toggle",a);break;case"embed":case"source":case"link":mt("error",a),mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in u)if(u.hasOwnProperty(ve)&&(d=u[ve],d!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(a,o,ve,d,u,null)}return;default:if(Zl(o)){for(xe in u)u.hasOwnProperty(xe)&&(d=u[xe],d!==void 0&&pg(a,o,xe,d,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(d=u[F],d!=null&&qt(a,o,F,d,u,null))}function hV(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,N=null,F=null,te=null,ve=null,xe=null;for(we in u){var Te=u[we];if(u.hasOwnProperty(we)&&Te!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":te=Te;default:d.hasOwnProperty(we)||qt(a,o,we,null,d,Te)}}for(var ye in d){var we=d[ye];if(Te=u[ye],d.hasOwnProperty(ye)&&(we!=null||Te!=null))switch(ye){case"type":_=we;break;case"name":y=we;break;case"checked":ve=we;break;case"defaultChecked":xe=we;break;case"value":N=we;break;case"defaultValue":F=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:we!==Te&&qt(a,o,ye,we,d,Te)}}Qi(a,N,F,te,ve,xe,_,y);return;case"select":we=N=F=ye=null;for(_ in u)if(te=u[_],u.hasOwnProperty(_)&&te!=null)switch(_){case"value":break;case"multiple":we=te;default:d.hasOwnProperty(_)||qt(a,o,_,null,d,te)}for(y in d)if(_=d[y],te=u[y],d.hasOwnProperty(y)&&(_!=null||te!=null))switch(y){case"value":ye=_;break;case"defaultValue":F=_;break;case"multiple":N=_;default:_!==te&&qt(a,o,y,_,d,te)}o=F,u=N,d=we,ye!=null?Ci(a,!!u,ye,!1):!!d!=!!u&&(o!=null?Ci(a,!!u,o,!0):Ci(a,!!u,u?[]:"",!1));return;case"textarea":we=ye=null;for(F in u)if(y=u[F],u.hasOwnProperty(F)&&y!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:qt(a,o,F,null,d,y)}for(N in d)if(y=d[N],_=u[N],d.hasOwnProperty(N)&&(y!=null||_!=null))switch(N){case"value":ye=y;break;case"defaultValue":we=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&qt(a,o,N,y,d,_)}Uh(a,ye,we);return;case"option":for(var je in u)ye=u[je],u.hasOwnProperty(je)&&ye!=null&&!d.hasOwnProperty(je)&&(je==="selected"?a.selected=!1:qt(a,o,je,null,d,ye));for(te in d)ye=d[te],we=u[te],d.hasOwnProperty(te)&&ye!==we&&(ye!=null||we!=null)&&(te==="selected"?a.selected=ye&&typeof ye!="function"&&typeof ye!="symbol":qt(a,o,te,ye,d,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in u)ye=u[Je],u.hasOwnProperty(Je)&&ye!=null&&!d.hasOwnProperty(Je)&&qt(a,o,Je,null,d,ye);for(ve in d)if(ye=d[ve],we=u[ve],d.hasOwnProperty(ve)&&ye!==we&&(ye!=null||we!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:qt(a,o,ve,ye,d,we)}return;default:if(Zl(o)){for(var Pt in u)ye=u[Pt],u.hasOwnProperty(Pt)&&ye!==void 0&&!d.hasOwnProperty(Pt)&&pg(a,o,Pt,void 0,d,ye);for(xe in d)ye=d[xe],we=u[xe],!d.hasOwnProperty(xe)||ye===we||ye===void 0&&we===void 0||pg(a,o,xe,ye,d,we);return}}for(var ue in u)ye=u[ue],u.hasOwnProperty(ue)&&ye!=null&&!d.hasOwnProperty(ue)&&qt(a,o,ue,null,d,ye);for(Te in d)ye=d[Te],we=u[Te],!d.hasOwnProperty(Te)||ye===we||ye==null&&we==null||qt(a,o,Te,ye,d,we)}function Iw(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],_=y.transferSize,N=y.initiatorType,F=y.duration;if(_&&F&&Iw(N)){for(N=0,F=y.responseEnd,d+=1;d<u.length;d++){var te=u[d],ve=te.startTime;if(ve>F)break;var xe=te.transferSize,Te=te.initiatorType;xe&&Iw(Te)&&(te=te.responseEnd,N+=xe*(te<F?1:(F-ve)/(te-ve)))}if(--d,o+=8*(_+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gg=null,vg=null;function $f(a){return a.nodeType===9?a:a.ownerDocument}function Nw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mw(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function yg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _g=null;function dV(){var a=window.event;return a&&a.type==="popstate"?a===_g?!1:(_g=a,!0):(_g=null,!1)}var kw=typeof setTimeout=="function"?setTimeout:void 0,mV=typeof clearTimeout=="function"?clearTimeout:void 0,Dw=typeof Promise=="function"?Promise:void 0,pV=typeof queueMicrotask=="function"?queueMicrotask:typeof Dw<"u"?function(a){return Dw.resolve(null).then(a).catch(gV)}:kw;function gV(a){setTimeout(function(){throw a})}function Qs(a){return a==="head"}function Ow(a,o){var u=o,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),ku(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")m0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,m0(u);for(var _=u.firstChild;_;){var N=_.nextSibling,F=_.nodeName;_[ii]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&m0(a.ownerDocument.body);u=y}while(u);ku(o)}function zw(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function bg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":bg(u),Es(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function vV(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ii])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=yi(a.nextSibling),a===null)break}return null}function yV(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=yi(a.nextSibling),a===null))return null;return a}function Lw(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=yi(a.nextSibling),a===null))return null;return a}function wg(a){return a.data==="$?"||a.data==="$~"}function xg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function _V(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function yi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Sg=null;function Vw(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return yi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function qw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function Pw(a,o,u){switch(o=$f(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function m0(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Es(a)}var _i=new Map,Bw=new Set;function Yf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Za=ee.d;ee.d={f:bV,r:wV,D:xV,C:SV,L:EV,m:TV,X:CV,S:AV,M:RV};function bV(){var a=Za.f(),o=qf();return a||o}function wV(a){var o=wr(a);o!==null&&o.tag===5&&o.type==="form"?r8(o):Za.r(a)}var Iu=typeof document>"u"?null:document;function jw(a,o,u){var d=Iu;if(d&&typeof o=="string"&&o){var y=ir(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Bw.has(y)||(Bw.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Zn(o,"link",a),mn(o),d.head.appendChild(o)))}}function xV(a){Za.D(a),jw("dns-prefetch",a,null)}function SV(a,o){Za.C(a,o),jw("preconnect",a,o)}function EV(a,o,u){Za.L(a,o,u);var d=Iu;if(d&&a&&o){var y='link[rel="preload"][as="'+ir(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ir(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ir(u.imageSizes)+'"]')):y+='[href="'+ir(a)+'"]';var _=y;switch(o){case"style":_=Nu(a);break;case"script":_=Mu(a)}_i.has(_)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),_i.set(_,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(p0(_))||o==="script"&&d.querySelector(g0(_))||(o=d.createElement("link"),Zn(o,"link",a),mn(o),d.head.appendChild(o)))}}function TV(a,o){Za.m(a,o);var u=Iu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+ir(d)+'"][href="'+ir(a)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Mu(a)}if(!_i.has(_)&&(a=p({rel:"modulepreload",href:a},o),_i.set(_,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(g0(_)))return}d=u.createElement("link"),Zn(d,"link",a),mn(d),u.head.appendChild(d)}}}function AV(a,o,u){Za.S(a,o,u);var d=Iu;if(d&&a){var y=si(d).hoistableStyles,_=Nu(a);o=o||"default";var N=y.get(_);if(!N){var F={loading:0,preload:null};if(N=d.querySelector(p0(_)))F.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=_i.get(_))&&Eg(a,u);var te=N=d.createElement("link");mn(te),Zn(te,"link",a),te._p=new Promise(function(ve,xe){te.onload=ve,te.onerror=xe}),te.addEventListener("load",function(){F.loading|=1}),te.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Xf(N,o,d)}N={type:"stylesheet",instance:N,count:1,state:F},y.set(_,N)}}}function CV(a,o){Za.X(a,o);var u=Iu;if(u&&a){var d=si(u).hoistableScripts,y=Mu(a),_=d.get(y);_||(_=u.querySelector(g0(y)),_||(a=p({src:a,async:!0},o),(o=_i.get(y))&&Tg(a,o),_=u.createElement("script"),mn(_),Zn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function RV(a,o){Za.M(a,o);var u=Iu;if(u&&a){var d=si(u).hoistableScripts,y=Mu(a),_=d.get(y);_||(_=u.querySelector(g0(y)),_||(a=p({src:a,async:!0,type:"module"},o),(o=_i.get(y))&&Tg(a,o),_=u.createElement("script"),mn(_),Zn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function Uw(a,o,u,d){var y=(y=le.current)?Yf(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Nu(u.href),u=si(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Nu(u.href);var _=si(y).hoistableStyles,N=_.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=y.querySelector(p0(a)))&&!_._p&&(N.instance=_,N.state.loading=5),_i.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},_i.set(a,u),_||IV(y,a,u,N.state))),o&&d===null)throw Error(r(528,""));return N}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mu(u),u=si(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Nu(a){return'href="'+ir(a)+'"'}function p0(a){return'link[rel="stylesheet"]['+a+"]"}function Hw(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function IV(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Zn(o,"link",u),mn(o),a.head.appendChild(o))}function Mu(a){return'[src="'+ir(a)+'"]'}function g0(a){return"script[async]"+a}function Fw(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+ir(u.href)+'"]');if(d)return o.instance=d,mn(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),mn(d),Zn(d,"style",y),Xf(d,u.precedence,a),o.instance=d;case"stylesheet":y=Nu(u.href);var _=a.querySelector(p0(y));if(_)return o.state.loading|=4,o.instance=_,mn(_),_;d=Hw(u),(y=_i.get(y))&&Eg(d,y),_=(a.ownerDocument||a).createElement("link"),mn(_);var N=_;return N._p=new Promise(function(F,te){N.onload=F,N.onerror=te}),Zn(_,"link",d),o.state.loading|=4,Xf(_,u.precedence,a),o.instance=_;case"script":return _=Mu(u.src),(y=a.querySelector(g0(_)))?(o.instance=y,mn(y),y):(d=u,(y=_i.get(_))&&(d=p({},u),Tg(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),mn(y),Zn(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Xf(d,u.precedence,a));return o.instance}function Xf(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,N=0;N<d.length;N++){var F=d[N];if(F.dataset.precedence===o)_=F;else if(_!==y)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Eg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Tg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Kf=null;function Gw(a,o,u){if(Kf===null){var d=new Map,y=Kf=new Map;y.set(u,d)}else y=Kf,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var _=u[y];if(!(_[ii]||_[dn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(o)||"";N=a+N;var F=d.get(N);F?F.push(_):d.set(N,[_])}}return d}function $w(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function NV(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Yw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function MV(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Nu(d.href),_=o.querySelector(p0(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Qf.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,mn(_);return}_=o.ownerDocument||o,d=Hw(d),(y=_i.get(y))&&Eg(d,y),_=_.createElement("link"),mn(_);var N=_;N._p=new Promise(function(F,te){N.onload=F,N.onerror=te}),Zn(_,"link",d),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Qf.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Ag=0;function kV(a,o){return a.stylesheets&&a.count===0&&Wf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Wf(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&Ag===0&&(Ag=62500*fV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Wf(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>Ag?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Zf=null;function Wf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Zf=new Map,o.forEach(DV,a),Zf=null,Qf.call(a))}function DV(a,o){if(!(o.state.loading&4)){var u=Zf.get(a);if(u)var d=u.get(null);else{u=new Map,Zf.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var N=y[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),d=N)}d&&u.set(null,d)}y=o.instance,N=y.getAttribute("data-precedence"),_=u.get(N)||d,_===d&&u.set(null,y),u.set(N,y),this.count++,d=Qf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var v0={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function OV(a,o,u,d,y,_,N,F,te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function Xw(a,o,u,d,y,_,N,F,te,ve,xe,Te){return a=new OV(a,o,u,N,te,ve,xe,Te,F),o=1,_===!0&&(o|=24),_=Br(3,null,null,o),a.current=_,_.stateNode=a,o=ap(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:o},up(_),a}function Kw(a){return a?(a=lu,a):lu}function Qw(a,o,u,d,y,_){y=Kw(y),d.context===null?d.context=y:d.pendingContext=y,d=Ps(o),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=Bs(a,d,o),u!==null&&(Cr(u,a,o),Kc(u,a,o))}function Zw(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Cg(a,o){Zw(a,o),(a=a.alternate)&&Zw(a,o)}function Ww(a){if(a.tag===13||a.tag===31){var o=Wo(a,67108864);o!==null&&Cr(o,a,67108864),Cg(a,67108864)}}function Jw(a){if(a.tag===13||a.tag===31){var o=Gr();o=Na(o);var u=Wo(a,o);u!==null&&Cr(u,a,o),Cg(a,o)}}var Jf=!0;function zV(a,o,u,d){var y=$.T;$.T=null;var _=ee.p;try{ee.p=2,Rg(a,o,u,d)}finally{ee.p=_,$.T=y}}function LV(a,o,u,d){var y=$.T;$.T=null;var _=ee.p;try{ee.p=8,Rg(a,o,u,d)}finally{ee.p=_,$.T=y}}function Rg(a,o,u,d){if(Jf){var y=Ig(d);if(y===null)mg(a,o,d,ed,u),t9(a,d);else if(qV(y,a,o,u,d))d.stopPropagation();else if(t9(a,d),o&4&&-1<VV.indexOf(a)){for(;y!==null;){var _=wr(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=ti(_.pendingLanes);if(N!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var te=1<<31-sn(N);F.entanglements[1]|=te,N&=~te}sa(_),(Mt&6)===0&&(Lf=Zt()+500,h0(0))}}break;case 31:case 13:F=Wo(_,2),F!==null&&Cr(F,_,2),qf(),Cg(_,2)}if(_=Ig(d),_===null&&mg(a,o,d,ed,u),_===y)break;y=_}y!==null&&d.stopPropagation()}else mg(a,o,d,null,u)}}function Ig(a){return a=ui(a),Ng(a)}var ed=null;function Ng(a){if(ed=null,a=ai(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return ed=a,null}function e9(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case yr:return 2;case _r:return 8;case Un:case ws:return 32;case Ti:return 268435456;default:return 32}default:return 32}}var Mg=!1,Zs=null,Ws=null,Js=null,y0=new Map,_0=new Map,eo=[],VV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t9(a,o){switch(a){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":y0.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(o.pointerId)}}function b0(a,o,u,d,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},o!==null&&(o=wr(o),o!==null&&Ww(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function qV(a,o,u,d,y){switch(o){case"focusin":return Zs=b0(Zs,a,o,u,d,y),!0;case"dragenter":return Ws=b0(Ws,a,o,u,d,y),!0;case"mouseover":return Js=b0(Js,a,o,u,d,y),!0;case"pointerover":var _=y.pointerId;return y0.set(_,b0(y0.get(_)||null,a,o,u,d,y)),!0;case"gotpointercapture":return _=y.pointerId,_0.set(_,b0(_0.get(_)||null,a,o,u,d,y)),!0}return!1}function n9(a){var o=ai(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,zr(a.priority,function(){Jw(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,zr(a.priority,function(){Jw(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function td(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Ig(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Dc=d,u.target.dispatchEvent(d),Dc=null}else return o=wr(u),o!==null&&Ww(o),a.blockedOn=u,!1;o.shift()}return!0}function r9(a,o,u){td(a)&&u.delete(o)}function PV(){Mg=!1,Zs!==null&&td(Zs)&&(Zs=null),Ws!==null&&td(Ws)&&(Ws=null),Js!==null&&td(Js)&&(Js=null),y0.forEach(r9),_0.forEach(r9)}function nd(a,o){a.blockedOn===o&&(a.blockedOn=null,Mg||(Mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PV)))}var rd=null;function i9(a){rd!==a&&(rd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rd===a&&(rd=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if(Ng(d||u)===null)continue;break}var _=wr(u);_!==null&&(a.splice(o,3),o-=3,Ip(_,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function ku(a){function o(te){return nd(te,a)}Zs!==null&&nd(Zs,a),Ws!==null&&nd(Ws,a),Js!==null&&nd(Js,a),y0.forEach(o),_0.forEach(o);for(var u=0;u<eo.length;u++){var d=eo[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<eo.length&&(u=eo[0],u.blockedOn===null);)n9(u),u.blockedOn===null&&eo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],_=u[d+1],N=y[En]||null;if(typeof _=="function")N||i9(u);else if(N){var F=null;if(_&&_.hasAttribute("formAction")){if(y=_,N=_[En]||null)F=N.formAction;else if(Ng(y)!==null)continue}else F=N.action;typeof F=="function"?u[d+1]=F:(u.splice(d,3),d-=3),i9(u)}}}function a9(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function kg(a){this._internalRoot=a}id.prototype.render=kg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Gr();Qw(u,d,a,o,null,null)},id.prototype.unmount=kg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Qw(a.current,2,null,a,null,null),qf(),o[Vr]=null}};function id(a){this._internalRoot=a}id.prototype.unstable_scheduleHydration=function(a){if(a){var o=Gl();a={blockedOn:null,target:a,priority:o};for(var u=0;u<eo.length&&o!==0&&o<eo[u].priority;u++);eo.splice(u,0,a),u===0&&n9(a)}};var s9=e.version;if(s9!=="19.2.3")throw Error(r(527,s9,"19.2.3"));ee.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var BV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{hn=ad.inject(BV),Ut=ad}catch{}}return x0.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=d8,_=m8,N=p8;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=Xw(a,1,!1,null,null,u,d,null,y,_,N,a9),a[Vr]=o.current,dg(a),new kg(o)},x0.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",_=d8,N=m8,F=p8,te=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(te=u.formState)),o=Xw(a,1,!0,o,u??null,d,y,te,_,N,F,a9),o.context=Kw(null),u=o.current,d=Gr(),d=Na(d),y=Ps(d),y.callback=null,Bs(u,y,d),u=d,o.current.lanes=u,Ra(o,u),sa(o),a[Vr]=o.current,dg(a),new id(o)},x0.version="19.2.3",x0}var g9;function KV(){if(g9)return zg.exports;g9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zg.exports=XV(),zg.exports}var QV=KV();const ZV=Om(QV);function On(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=On(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var WV={value:()=>{}};function zm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Md(n)}function Md(t){this._=t}function JV(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Md.prototype=zm.prototype={constructor:Md,on:function(t,e){var n=this._,r=JV(t+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(t=r[s]).type)&&(i=eq(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(i=(t=r[s]).type)n[i]=v9(n[i],t.name,e);else if(e==null)for(i in n)n[i]=v9(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Md(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function eq(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function v9(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=WV,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var G5="http://www.w3.org/1999/xhtml";const y9={svg:"http://www.w3.org/2000/svg",xhtml:G5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),y9.hasOwnProperty(e)?{space:y9[e],local:t}:t}function tq(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===G5&&e.documentElement.namespaceURI===G5?e.createElement(t):e.createElementNS(n,t)}}function nq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tN(t){var e=Lm(t);return(e.local?nq:tq)(e)}function rq(){}function q6(t){return t==null?rq:function(){return this.querySelector(t)}}function iq(t){typeof t!="function"&&(t=q6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=new Array(l),h,f,m=0;m<l;++m)(h=s[m])&&(f=t.call(h,h.__data__,m,s))&&("__data__"in h&&(f.__data__=h.__data__),c[m]=f);return new Wr(r,this._parents)}function aq(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sq(){return[]}function nN(t){return t==null?sq:function(){return this.querySelectorAll(t)}}function oq(t){return function(){return aq(t.apply(this,arguments))}}function lq(t){typeof t=="function"?t=oq(t):t=nN(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var l=e[s],c=l.length,h,f=0;f<c;++f)(h=l[f])&&(r.push(t.call(h,h.__data__,f,l)),i.push(h));return new Wr(r,i)}function rN(t){return function(){return this.matches(t)}}function iN(t){return function(e){return e.matches(t)}}var uq=Array.prototype.find;function cq(t){return function(){return uq.call(this.children,t)}}function hq(){return this.firstElementChild}function fq(t){return this.select(t==null?hq:cq(typeof t=="function"?t:iN(t)))}var dq=Array.prototype.filter;function mq(){return Array.from(this.children)}function pq(t){return function(){return dq.call(this.children,t)}}function gq(t){return this.selectAll(t==null?mq:pq(typeof t=="function"?t:iN(t)))}function vq(t){typeof t!="function"&&(t=rN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],h,f=0;f<l;++f)(h=s[f])&&t.call(h,h.__data__,f,s)&&c.push(h);return new Wr(r,this._parents)}function aN(t){return new Array(t.length)}function yq(){return new Wr(this._enter||this._groups.map(aN),this._parents)}function Qd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Qd.prototype={constructor:Qd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _q(t){return function(){return t}}function bq(t,e,n,r,i,s){for(var l=0,c,h=e.length,f=s.length;l<f;++l)(c=e[l])?(c.__data__=s[l],r[l]=c):n[l]=new Qd(t,s[l]);for(;l<h;++l)(c=e[l])&&(i[l]=c)}function wq(t,e,n,r,i,s,l){var c,h,f=new Map,m=e.length,p=s.length,v=new Array(m),b;for(c=0;c<m;++c)(h=e[c])&&(v[c]=b=l.call(h,h.__data__,c,e)+"",f.has(b)?i[c]=h:f.set(b,h));for(c=0;c<p;++c)b=l.call(t,s[c],c,s)+"",(h=f.get(b))?(r[c]=h,h.__data__=s[c],f.delete(b)):n[c]=new Qd(t,s[c]);for(c=0;c<m;++c)(h=e[c])&&f.get(v[c])===h&&(i[c]=h)}function xq(t){return t.__data__}function Sq(t,e){if(!arguments.length)return Array.from(this,xq);var n=e?wq:bq,r=this._parents,i=this._groups;typeof t!="function"&&(t=_q(t));for(var s=i.length,l=new Array(s),c=new Array(s),h=new Array(s),f=0;f<s;++f){var m=r[f],p=i[f],v=p.length,b=Eq(t.call(m,m&&m.__data__,f,r)),x=b.length,S=c[f]=new Array(x),E=l[f]=new Array(x),C=h[f]=new Array(v);n(m,p,S,E,C,b,e);for(var O=0,A=0,z,U;O<x;++O)if(z=S[O]){for(O>=A&&(A=O+1);!(U=E[A])&&++A<x;);z._next=U||null}}return l=new Wr(l,r),l._enter=c,l._exit=h,l}function Eq(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tq(){return new Wr(this._exit||this._groups.map(aN),this._parents)}function Aq(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Cq(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,l=Math.min(i,s),c=new Array(i),h=0;h<l;++h)for(var f=n[h],m=r[h],p=f.length,v=c[h]=new Array(p),b,x=0;x<p;++x)(b=f[x]||m[x])&&(v[x]=b);for(;h<i;++h)c[h]=n[h];return new Wr(c,this._parents)}function Rq(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Iq(t){t||(t=Nq);function e(p,v){return p&&v?t(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],c=l.length,h=i[s]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(h[m]=f);h.sort(e)}return new Wr(i,this._parents).order()}function Nq(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mq(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function kq(){return Array.from(this)}function Dq(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function Oq(){let t=0;for(const e of this)++t;return t}function zq(){return!this.node()}function Lq(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,l=i.length,c;s<l;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function Vq(t){return function(){this.removeAttribute(t)}}function qq(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pq(t,e){return function(){this.setAttribute(t,e)}}function Bq(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jq(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Uq(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Hq(t,e){var n=Lm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?qq:Vq:typeof e=="function"?n.local?Uq:jq:n.local?Bq:Pq)(n,e))}function sN(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fq(t){return function(){this.style.removeProperty(t)}}function Gq(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $q(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yq(t,e,n){return arguments.length>1?this.each((e==null?Fq:typeof e=="function"?$q:Gq)(t,e,n??"")):Qu(this.node(),t)}function Qu(t,e){return t.style.getPropertyValue(e)||sN(t).getComputedStyle(t,null).getPropertyValue(e)}function Xq(t){return function(){delete this[t]}}function Kq(t,e){return function(){this[t]=e}}function Qq(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Zq(t,e){return arguments.length>1?this.each((e==null?Xq:typeof e=="function"?Qq:Kq)(t,e)):this.node()[t]}function oN(t){return t.trim().split(/^|\s+/)}function P6(t){return t.classList||new lN(t)}function lN(t){this._node=t,this._names=oN(t.getAttribute("class")||"")}lN.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function uN(t,e){for(var n=P6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function cN(t,e){for(var n=P6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wq(t){return function(){uN(this,t)}}function Jq(t){return function(){cN(this,t)}}function eP(t,e){return function(){(e.apply(this,arguments)?uN:cN)(this,t)}}function tP(t,e){var n=oN(t+"");if(arguments.length<2){for(var r=P6(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?eP:e?Wq:Jq)(n,e))}function nP(){this.textContent=""}function rP(t){return function(){this.textContent=t}}function iP(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function aP(t){return arguments.length?this.each(t==null?nP:(typeof t=="function"?iP:rP)(t)):this.node().textContent}function sP(){this.innerHTML=""}function oP(t){return function(){this.innerHTML=t}}function lP(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function uP(t){return arguments.length?this.each(t==null?sP:(typeof t=="function"?lP:oP)(t)):this.node().innerHTML}function cP(){this.nextSibling&&this.parentNode.appendChild(this)}function hP(){return this.each(cP)}function fP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dP(){return this.each(fP)}function mP(t){var e=typeof t=="function"?t:tN(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pP(){return null}function gP(t,e){var n=typeof t=="function"?t:tN(t),r=e==null?pP:typeof e=="function"?e:q6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function vP(){var t=this.parentNode;t&&t.removeChild(this)}function yP(){return this.each(vP)}function _P(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bP(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wP(t){return this.select(t?bP:_P)}function xP(t){return arguments.length?this.property("__data__",t):this.node().__data__}function SP(t){return function(e){t.call(this,e,this.__data__)}}function EP(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function TP(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function AP(t,e,n){return function(){var r=this.__on,i,s=SP(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function CP(t,e,n){var r=EP(t+""),i,s=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,f=c.length,m;h<f;++h)for(i=0,m=c[h];i<s;++i)if((l=r[i]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?AP:TP,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function hN(t,e,n){var r=sN(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function RP(t,e){return function(){return hN(this,t,e)}}function IP(t,e){return function(){return hN(this,t,e.apply(this,arguments))}}function NP(t,e){return this.each((typeof e=="function"?IP:RP)(t,e))}function*MP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var fN=[null];function Wr(t,e){this._groups=t,this._parents=e}function mh(){return new Wr([[document.documentElement]],fN)}function kP(){return this}Wr.prototype=mh.prototype={constructor:Wr,select:iq,selectAll:lq,selectChild:fq,selectChildren:gq,filter:vq,data:Sq,enter:yq,exit:Tq,join:Aq,merge:Cq,selection:kP,order:Rq,sort:Iq,call:Mq,nodes:kq,node:Dq,size:Oq,empty:zq,each:Lq,attr:Hq,style:Yq,property:Zq,classed:tP,text:aP,html:uP,raise:hP,lower:dP,append:mP,insert:gP,remove:yP,clone:wP,datum:xP,on:CP,dispatch:NP,[Symbol.iterator]:MP};function $r(t){return typeof t=="string"?new Wr([[document.querySelector(t)]],[document.documentElement]):new Wr([[t]],fN)}function DP(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Li(t,e){if(t=DP(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const OP={passive:!1},G0={capture:!0,passive:!1};function Pg(t){t.stopImmediatePropagation()}function Uu(t){t.preventDefault(),t.stopImmediatePropagation()}function dN(t){var e=t.document.documentElement,n=$r(t).on("dragstart.drag",Uu,G0);"onselectstart"in e?n.on("selectstart.drag",Uu,G0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mN(t,e){var n=t.document.documentElement,r=$r(t).on("dragstart.drag",null);e&&(r.on("click.drag",Uu,G0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const od=t=>()=>t;function $5(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:l,y:c,dx:h,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}$5.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function zP(t){return!t.ctrlKey&&!t.button}function LP(){return this.parentNode}function VP(t,e){return e??{x:t.x,y:t.y}}function qP(){return navigator.maxTouchPoints||"ontouchstart"in this}function pN(){var t=zP,e=LP,n=VP,r=qP,i={},s=zm("start","drag","end"),l=0,c,h,f,m,p=0;function v(z){z.on("mousedown.drag",b).filter(r).on("touchstart.drag",E).on("touchmove.drag",C,OP).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(z,U){if(!(m||!t.call(this,z,U))){var q=A(this,e.call(this,z,U),z,U,"mouse");q&&($r(z.view).on("mousemove.drag",x,G0).on("mouseup.drag",S,G0),dN(z.view),Pg(z),f=!1,c=z.clientX,h=z.clientY,q("start",z))}}function x(z){if(Uu(z),!f){var U=z.clientX-c,q=z.clientY-h;f=U*U+q*q>p}i.mouse("drag",z)}function S(z){$r(z.view).on("mousemove.drag mouseup.drag",null),mN(z.view,f),Uu(z),i.mouse("end",z)}function E(z,U){if(t.call(this,z,U)){var q=z.changedTouches,R=e.call(this,z,U),M=q.length,D,H;for(D=0;D<M;++D)(H=A(this,R,z,U,q[D].identifier,q[D]))&&(Pg(z),H("start",z,q[D]))}}function C(z){var U=z.changedTouches,q=U.length,R,M;for(R=0;R<q;++R)(M=i[U[R].identifier])&&(Uu(z),M("drag",z,U[R]))}function O(z){var U=z.changedTouches,q=U.length,R,M;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<q;++R)(M=i[U[R].identifier])&&(Pg(z),M("end",z,U[R]))}function A(z,U,q,R,M,D){var H=s.copy(),V=Li(D||q,U),j,B,K;if((K=n.call(z,new $5("beforestart",{sourceEvent:q,target:v,identifier:M,active:l,x:V[0],y:V[1],dx:0,dy:0,dispatch:H}),R))!=null)return j=K.x-V[0]||0,B=K.y-V[1]||0,function ne($,ee,re){var ce=V,de;switch($){case"start":i[M]=ne,de=l++;break;case"end":delete i[M],--l;case"drag":V=Li(re||ee,U),de=l;break}H.call($,z,new $5($,{sourceEvent:ee,subject:K,target:v,identifier:M,active:de,x:V[0]+j,y:V[1]+B,dx:V[0]-ce[0],dy:V[1]-ce[1],dispatch:H}),R)}}return v.filter=function(z){return arguments.length?(t=typeof z=="function"?z:od(!!z),v):t},v.container=function(z){return arguments.length?(e=typeof z=="function"?z:od(z),v):e},v.subject=function(z){return arguments.length?(n=typeof z=="function"?z:od(z),v):n},v.touchable=function(z){return arguments.length?(r=typeof z=="function"?z:od(!!z),v):r},v.on=function(){var z=s.on.apply(s,arguments);return z===s?v:z},v.clickDistance=function(z){return arguments.length?(p=(z=+z)*z,v):Math.sqrt(p)},v}function B6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ph(){}var $0=.7,Zd=1/$0,Hu="\\s*([+-]?\\d+)\\s*",Y0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PP=/^#([0-9a-f]{3,8})$/,BP=new RegExp(`^rgb\\(${Hu},${Hu},${Hu}\\)$`),jP=new RegExp(`^rgb\\(${fa},${fa},${fa}\\)$`),UP=new RegExp(`^rgba\\(${Hu},${Hu},${Hu},${Y0}\\)$`),HP=new RegExp(`^rgba\\(${fa},${fa},${fa},${Y0}\\)$`),FP=new RegExp(`^hsl\\(${Y0},${fa},${fa}\\)$`),GP=new RegExp(`^hsla\\(${Y0},${fa},${fa},${Y0}\\)$`),_9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B6(ph,Tl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:b9,formatHex:b9,formatHex8:$P,formatHsl:YP,formatRgb:w9,toString:w9});function b9(){return this.rgb().formatHex()}function $P(){return this.rgb().formatHex8()}function YP(){return vN(this).formatHsl()}function w9(){return this.rgb().formatRgb()}function Tl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=PP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?x9(e):n===3?new Mr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ld(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ld(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BP.exec(t))?new Mr(e[1],e[2],e[3],1):(e=jP.exec(t))?new Mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UP.exec(t))?ld(e[1],e[2],e[3],e[4]):(e=HP.exec(t))?ld(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FP.exec(t))?T9(e[1],e[2]/100,e[3]/100,1):(e=GP.exec(t))?T9(e[1],e[2]/100,e[3]/100,e[4]):_9.hasOwnProperty(t)?x9(_9[t]):t==="transparent"?new Mr(NaN,NaN,NaN,0):null}function x9(t){return new Mr(t>>16&255,t>>8&255,t&255,1)}function ld(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mr(t,e,n,r)}function XP(t){return t instanceof ph||(t=Tl(t)),t?(t=t.rgb(),new Mr(t.r,t.g,t.b,t.opacity)):new Mr}function Y5(t,e,n,r){return arguments.length===1?XP(t):new Mr(t,e,n,r??1)}function Mr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B6(Mr,Y5,gN(ph,{brighter(t){return t=t==null?Zd:Math.pow(Zd,t),new Mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$0:Math.pow($0,t),new Mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mr(bl(this.r),bl(this.g),bl(this.b),Wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S9,formatHex:S9,formatHex8:KP,formatRgb:E9,toString:E9}));function S9(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}`}function KP(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}${vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function E9(){const t=Wd(this.opacity);return`${t===1?"rgb(":"rgba("}${bl(this.r)}, ${bl(this.g)}, ${bl(this.b)}${t===1?")":`, ${t})`}`}function Wd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vl(t){return t=bl(t),(t<16?"0":"")+t.toString(16)}function T9(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qi(t,e,n,r)}function vN(t){if(t instanceof qi)return new qi(t.h,t.s,t.l,t.opacity);if(t instanceof ph||(t=Tl(t)),!t)return new qi;if(t instanceof qi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,h=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?s+i:2-s-i,l*=60):c=h>0&&h<1?0:l,new qi(l,c,h,t.opacity)}function QP(t,e,n,r){return arguments.length===1?vN(t):new qi(t,e,n,r??1)}function qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B6(qi,QP,gN(ph,{brighter(t){return t=t==null?Zd:Math.pow(Zd,t),new qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$0:Math.pow($0,t),new qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mr(Bg(t>=240?t-240:t+120,i,r),Bg(t,i,r),Bg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qi(A9(this.h),ud(this.s),ud(this.l),Wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wd(this.opacity);return`${t===1?"hsl(":"hsla("}${A9(this.h)}, ${ud(this.s)*100}%, ${ud(this.l)*100}%${t===1?")":`, ${t})`}`}}));function A9(t){return t=(t||0)%360,t<0?t+360:t}function ud(t){return Math.max(0,Math.min(1,t||0))}function Bg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const j6=t=>()=>t;function ZP(t,e){return function(n){return t+n*e}}function WP(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JP(t){return(t=+t)==1?yN:function(e,n){return n-e?WP(e,n,t):j6(isNaN(e)?n:e)}}function yN(t,e){var n=e-t;return n?ZP(t,n):j6(isNaN(t)?e:t)}const Jd=(function t(e){var n=JP(e);function r(i,s){var l=n((i=Y5(i)).r,(s=Y5(s)).r),c=n(i.g,s.g),h=n(i.b,s.b),f=yN(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function eB(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function tB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nB(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=z0(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function rB(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function la(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iB(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=z0(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var X5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jg=new RegExp(X5.source,"g");function aB(t){return function(){return t}}function sB(t){return function(e){return t(e)+""}}function _N(t,e){var n=X5.lastIndex=jg.lastIndex=0,r,i,s,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=X5.exec(t))&&(i=jg.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:la(r,i)})),n=jg.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?sB(h[0].x):aB(e):(e=h.length,function(f){for(var m=0,p;m<e;++m)c[(p=h[m]).i]=p.x(f);return c.join("")})}function z0(t,e){var n=typeof e,r;return e==null||n==="boolean"?j6(e):(n==="number"?la:n==="string"?(r=Tl(e))?(e=r,Jd):_N:e instanceof Tl?Jd:e instanceof Date?rB:tB(e)?eB:Array.isArray(e)?nB:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iB:la)(t,e)}var C9=180/Math.PI,K5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bN(t,e,n,r,i,s){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*C9,skewX:Math.atan(h)*C9,scaleX:l,scaleY:c}}var cd;function oB(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?K5:bN(e.a,e.b,e.c,e.d,e.e,e.f)}function lB(t){return t==null||(cd||(cd=document.createElementNS("http://www.w3.org/2000/svg","g")),cd.setAttribute("transform",t),!(t=cd.transform.baseVal.consolidate()))?K5:(t=t.matrix,bN(t.a,t.b,t.c,t.d,t.e,t.f))}function wN(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,m,p,v,b,x){if(f!==p||m!==v){var S=b.push("translate(",null,e,null,n);x.push({i:S-4,x:la(f,p)},{i:S-2,x:la(m,v)})}else(p||v)&&b.push("translate("+p+e+v+n)}function l(f,m,p,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:p.push(i(p)+"rotate(",null,r)-2,x:la(f,m)})):m&&p.push(i(p)+"rotate("+m+r)}function c(f,m,p,v){f!==m?v.push({i:p.push(i(p)+"skewX(",null,r)-2,x:la(f,m)}):m&&p.push(i(p)+"skewX("+m+r)}function h(f,m,p,v,b,x){if(f!==p||m!==v){var S=b.push(i(b)+"scale(",null,",",null,")");x.push({i:S-4,x:la(f,p)},{i:S-2,x:la(m,v)})}else(p!==1||v!==1)&&b.push(i(b)+"scale("+p+","+v+")")}return function(f,m){var p=[],v=[];return f=t(f),m=t(m),s(f.translateX,f.translateY,m.translateX,m.translateY,p,v),l(f.rotate,m.rotate,p,v),c(f.skewX,m.skewX,p,v),h(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,v),f=m=null,function(b){for(var x=-1,S=v.length,E;++x<S;)p[(E=v[x]).i]=E.x(b);return p.join("")}}}var uB=wN(oB,"px, ","px)","deg)"),cB=wN(lB,", ",")",")"),hB=1e-12;function R9(t){return((t=Math.exp(t))+1/t)/2}function fB(t){return((t=Math.exp(t))-1/t)/2}function dB(t){return((t=Math.exp(2*t))-1)/(t+1)}const kd=(function t(e,n,r){function i(s,l){var c=s[0],h=s[1],f=s[2],m=l[0],p=l[1],v=l[2],b=m-c,x=p-h,S=b*b+x*x,E,C;if(S<hB)C=Math.log(v/f)/e,E=function(R){return[c+R*b,h+R*x,f*Math.exp(e*R*C)]};else{var O=Math.sqrt(S),A=(v*v-f*f+r*S)/(2*f*n*O),z=(v*v-f*f-r*S)/(2*v*n*O),U=Math.log(Math.sqrt(A*A+1)-A),q=Math.log(Math.sqrt(z*z+1)-z);C=(q-U)/e,E=function(R){var M=R*C,D=R9(U),H=f/(n*O)*(D*dB(e*M+U)-fB(U));return[c+H*b,h+H*x,f*D/R9(e*M+U)]}}return E.duration=C*1e3*e/Math.SQRT2,E}return i.rho=function(s){var l=Math.max(.001,+s),c=l*l,h=c*c;return t(l,c,h)},i})(Math.SQRT2,2,4);var Zu=0,T0=0,S0=0,xN=1e3,em,A0,tm=0,Al=0,Vm=0,X0=typeof performance=="object"&&performance.now?performance:Date,SN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function U6(){return Al||(SN(mB),Al=X0.now()+Vm)}function mB(){Al=0}function nm(){this._call=this._time=this._next=null}nm.prototype=EN.prototype={constructor:nm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?U6():+n)+(e==null?0:+e),!this._next&&A0!==this&&(A0?A0._next=this:em=this,A0=this),this._call=t,this._time=n,Q5()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q5())}};function EN(t,e,n){var r=new nm;return r.restart(t,e,n),r}function pB(){U6(),++Zu;for(var t=em,e;t;)(e=Al-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Zu}function I9(){Al=(tm=X0.now())+Vm,Zu=T0=0;try{pB()}finally{Zu=0,vB(),Al=0}}function gB(){var t=X0.now(),e=t-tm;e>xN&&(Vm-=e,tm=t)}function vB(){for(var t,e=em,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:em=n);A0=t,Q5(r)}function Q5(t){if(!Zu){T0&&(T0=clearTimeout(T0));var e=t-Al;e>24?(t<1/0&&(T0=setTimeout(I9,t-X0.now()-Vm)),S0&&(S0=clearInterval(S0))):(S0||(tm=X0.now(),S0=setInterval(gB,xN)),Zu=1,SN(I9))}}function N9(t,e,n){var r=new nm;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var yB=zm("start","end","cancel","interrupt"),_B=[],TN=0,M9=1,Z5=2,Dd=3,k9=4,W5=5,Od=6;function qm(t,e,n,r,i,s){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;bB(t,n,{name:e,index:r,group:i,on:yB,tween:_B,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:TN})}function H6(t,e){var n=Yi(t,e);if(n.state>TN)throw new Error("too late; already scheduled");return n}function wa(t,e){var n=Yi(t,e);if(n.state>Dd)throw new Error("too late; already running");return n}function Yi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bB(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=EN(s,0,n.time);function s(f){n.state=M9,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,v,b;if(n.state!==M9)return h();for(m in r)if(b=r[m],b.name===n.name){if(b.state===Dd)return N9(l);b.state===k9?(b.state=Od,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Od,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(N9(function(){n.state===Dd&&(n.state=k9,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=Z5,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Z5){for(n.state=Dd,i=new Array(v=n.tween.length),m=0,p=-1;m<v;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=b);i.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(h),n.state=W5,1),p=-1,v=i.length;++p<v;)i[p].call(t,m);n.state===W5&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Od,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function zd(t,e){var n=t.__transition,r,i,s=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){s=!1;continue}i=r.state>Z5&&r.state<W5,r.state=Od,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}s&&delete t.__transition}}function wB(t){return this.each(function(){zd(this,t)})}function xB(t,e){var n,r;return function(){var i=wa(this,t),s=i.tween;if(s!==n){r=n=s;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function SB(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=wa(this,t),l=s.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},h=0,f=i.length;h<f;++h)if(i[h].name===e){i[h]=c;break}h===f&&i.push(c)}s.tween=i}}function EB(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Yi(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?xB:SB)(n,t,e))}function F6(t,e,n){var r=t._id;return t.each(function(){var i=wa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Yi(i,r).value[e]}}function AN(t,e){var n;return(typeof e=="number"?la:e instanceof Tl?Jd:(n=Tl(e))?(e=n,Jd):_N)(t,e)}function TB(t){return function(){this.removeAttribute(t)}}function AB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function CB(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttribute(t);return l===i?null:l===r?s:s=e(r=l,n)}}function RB(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?s:s=e(r=l,n)}}function IB(t,e,n){var r,i,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c)))}}function NB(t,e,n){var r,i,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c)))}}function MB(t,e){var n=Lm(t),r=n==="transform"?cB:AN;return this.attrTween(t,typeof e=="function"?(n.local?NB:IB)(n,r,F6(this,"attr."+t,e)):e==null?(n.local?AB:TB)(n):(n.local?RB:CB)(n,r,e))}function kB(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function DB(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function OB(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&DB(t,s)),n}return i._value=e,i}function zB(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&kB(t,s)),n}return i._value=e,i}function LB(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Lm(t);return this.tween(n,(r.local?OB:zB)(r,e))}function VB(t,e){return function(){H6(this,t).delay=+e.apply(this,arguments)}}function qB(t,e){return e=+e,function(){H6(this,t).delay=e}}function PB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?VB:qB)(e,t)):Yi(this.node(),e).delay}function BB(t,e){return function(){wa(this,t).duration=+e.apply(this,arguments)}}function jB(t,e){return e=+e,function(){wa(this,t).duration=e}}function UB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?BB:jB)(e,t)):Yi(this.node(),e).duration}function HB(t,e){if(typeof e!="function")throw new Error;return function(){wa(this,t).ease=e}}function FB(t){var e=this._id;return arguments.length?this.each(HB(e,t)):Yi(this.node(),e).ease}function GB(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wa(this,t).ease=n}}function $B(t){if(typeof t!="function")throw new Error;return this.each(GB(this._id,t))}function YB(t){typeof t!="function"&&(t=rN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],h,f=0;f<l;++f)(h=s[f])&&t.call(h,h.__data__,f,s)&&c.push(h);return new os(r,this._parents,this._name,this._id)}function XB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),l=new Array(r),c=0;c<s;++c)for(var h=e[c],f=n[c],m=h.length,p=l[c]=new Array(m),v,b=0;b<m;++b)(v=h[b]||f[b])&&(p[b]=v);for(;c<r;++c)l[c]=e[c];return new os(l,this._parents,this._name,this._id)}function KB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function QB(t,e,n){var r,i,s=KB(e)?H6:wa;return function(){var l=s(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function ZB(t,e){var n=this._id;return arguments.length<2?Yi(this.node(),n).on.on(t):this.each(QB(n,t,e))}function WB(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function JB(){return this.on("end.remove",WB(this._id))}function ej(t){var e=this._name,n=this._id;typeof t!="function"&&(t=q6(t));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var c=r[l],h=c.length,f=s[l]=new Array(h),m,p,v=0;v<h;++v)(m=c[v])&&(p=t.call(m,m.__data__,v,c))&&("__data__"in m&&(p.__data__=m.__data__),f[v]=p,qm(f[v],e,n,v,f,Yi(m,n)));return new os(s,this._parents,e,n)}function tj(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nN(t));for(var r=this._groups,i=r.length,s=[],l=[],c=0;c<i;++c)for(var h=r[c],f=h.length,m,p=0;p<f;++p)if(m=h[p]){for(var v=t.call(m,m.__data__,p,h),b,x=Yi(m,n),S=0,E=v.length;S<E;++S)(b=v[S])&&qm(b,e,n,S,v,x);s.push(v),l.push(m)}return new os(s,l,e,n)}var nj=mh.prototype.constructor;function rj(){return new nj(this._groups,this._parents)}function ij(t,e){var n,r,i;return function(){var s=Qu(this,t),l=(this.style.removeProperty(t),Qu(this,t));return s===l?null:s===n&&l===r?i:i=e(n=s,r=l)}}function CN(t){return function(){this.style.removeProperty(t)}}function aj(t,e,n){var r,i=n+"",s;return function(){var l=Qu(this,t);return l===i?null:l===r?s:s=e(r=l,n)}}function sj(t,e,n){var r,i,s;return function(){var l=Qu(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),Qu(this,t))),l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c))}}function oj(t,e){var n,r,i,s="style."+e,l="end."+s,c;return function(){var h=wa(this,t),f=h.on,m=h.value[s]==null?c||(c=CN(e)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(l,i=m),h.on=r}}function lj(t,e,n){var r=(t+="")=="transform"?uB:AN;return e==null?this.styleTween(t,ij(t,r)).on("end.style."+t,CN(t)):typeof e=="function"?this.styleTween(t,sj(t,r,F6(this,"style."+t,e))).each(oj(this._id,t)):this.styleTween(t,aj(t,r,e),n).on("end.style."+t,null)}function uj(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function cj(t,e,n){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&uj(t,l,n)),r}return s._value=e,s}function hj(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,cj(t,e,n??""))}function fj(t){return function(){this.textContent=t}}function dj(t){return function(){var e=t(this);this.textContent=e??""}}function mj(t){return this.tween("text",typeof t=="function"?dj(F6(this,"text",t)):fj(t==null?"":t+""))}function pj(t){return function(e){this.textContent=t.call(this,e)}}function gj(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&pj(i)),e}return r._value=t,r}function vj(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,gj(t))}function yj(){for(var t=this._name,e=this._id,n=RN(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,h,f=0;f<c;++f)if(h=l[f]){var m=Yi(h,e);qm(h,t,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new os(r,this._parents,t,n)}function _j(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var c={value:l},h={value:function(){--i===0&&s()}};n.each(function(){var f=wa(this,r),m=f.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),f.on=e}),i===0&&s()})}var bj=0;function os(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function RN(){return++bj}var Wa=mh.prototype;os.prototype={constructor:os,select:ej,selectAll:tj,selectChild:Wa.selectChild,selectChildren:Wa.selectChildren,filter:YB,merge:XB,selection:rj,transition:yj,call:Wa.call,nodes:Wa.nodes,node:Wa.node,size:Wa.size,empty:Wa.empty,each:Wa.each,on:ZB,attr:MB,attrTween:LB,style:lj,styleTween:hj,text:mj,textTween:vj,remove:JB,tween:EB,delay:PB,duration:UB,ease:FB,easeVarying:$B,end:_j,[Symbol.iterator]:Wa[Symbol.iterator]};function wj(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xj={time:null,delay:0,duration:250,ease:wj};function Sj(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ej(t){var e,n;t instanceof os?(e=t._id,t=t._name):(e=RN(),(n=xj).time=U6(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,h,f=0;f<c;++f)(h=l[f])&&qm(h,t,e,f,l,n||Sj(h,e));return new os(r,this._parents,t,e)}mh.prototype.interrupt=wB;mh.prototype.transition=Ej;const hd=t=>()=>t;function Tj(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ns(t,e,n){this.k=t,this.x=e,this.y=n}ns.prototype={constructor:ns,scale:function(t){return t===1?this:new ns(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ns(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pm=new ns(1,0,0);IN.prototype=ns.prototype;function IN(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Pm;return t.__zoom}function Ug(t){t.stopImmediatePropagation()}function E0(t){t.preventDefault(),t.stopImmediatePropagation()}function Aj(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Cj(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function D9(){return this.__zoom||Pm}function Rj(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ij(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nj(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function NN(){var t=Aj,e=Cj,n=Nj,r=Rj,i=Ij,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=kd,f=zm("start","zoom","end"),m,p,v,b=500,x=150,S=0,E=10;function C(K){K.property("__zoom",D9).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(K,ne,$,ee){var re=K.selection?K.selection():K;re.property("__zoom",D9),K!==re?U(K,ne,$,ee):re.interrupt().each(function(){q(this,arguments).event(ee).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},C.scaleBy=function(K,ne,$,ee){C.scaleTo(K,function(){var re=this.__zoom.k,ce=typeof ne=="function"?ne.apply(this,arguments):ne;return re*ce},$,ee)},C.scaleTo=function(K,ne,$,ee){C.transform(K,function(){var re=e.apply(this,arguments),ce=this.__zoom,de=$==null?z(re):typeof $=="function"?$.apply(this,arguments):$,Y=ce.invert(de),W=typeof ne=="function"?ne.apply(this,arguments):ne;return n(A(O(ce,W),de,Y),re,l)},$,ee)},C.translateBy=function(K,ne,$,ee){C.transform(K,function(){return n(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),l)},null,ee)},C.translateTo=function(K,ne,$,ee,re){C.transform(K,function(){var ce=e.apply(this,arguments),de=this.__zoom,Y=ee==null?z(ce):typeof ee=="function"?ee.apply(this,arguments):ee;return n(Pm.translate(Y[0],Y[1]).scale(de.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof $=="function"?-$.apply(this,arguments):-$),ce,l)},ee,re)};function O(K,ne){return ne=Math.max(s[0],Math.min(s[1],ne)),ne===K.k?K:new ns(ne,K.x,K.y)}function A(K,ne,$){var ee=ne[0]-$[0]*K.k,re=ne[1]-$[1]*K.k;return ee===K.x&&re===K.y?K:new ns(K.k,ee,re)}function z(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function U(K,ne,$,ee){K.on("start.zoom",function(){q(this,arguments).event(ee).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(ee).end()}).tween("zoom",function(){var re=this,ce=arguments,de=q(re,ce).event(ee),Y=e.apply(re,ce),W=$==null?z(Y):typeof $=="function"?$.apply(re,ce):$,me=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=re.__zoom,ie=typeof ne=="function"?ne.apply(re,ce):ne,le=h(Q.invert(W).concat(me/Q.k),ie.invert(W).concat(me/ie.k));return function(he){if(he===1)he=ie;else{var _e=le(he),Ce=me/_e[2];he=new ns(Ce,W[0]-_e[0]*Ce,W[1]-_e[1]*Ce)}de.zoom(null,he)}})}function q(K,ne,$){return!$&&K.__zooming||new R(K,ne)}function R(K,ne){this.that=K,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,ne),this.taps=0}R.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,ne){return this.mouse&&K!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var ne=$r(this.that).datum();f.call(K,this.that,new Tj(K,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),ne)}};function M(K,...ne){if(!t.apply(this,arguments))return;var $=q(this,ne).event(K),ee=this.__zoom,re=Math.max(s[0],Math.min(s[1],ee.k*Math.pow(2,r.apply(this,arguments)))),ce=Li(K);if($.wheel)($.mouse[0][0]!==ce[0]||$.mouse[0][1]!==ce[1])&&($.mouse[1]=ee.invert($.mouse[0]=ce)),clearTimeout($.wheel);else{if(ee.k===re)return;$.mouse=[ce,ee.invert(ce)],zd(this),$.start()}E0(K),$.wheel=setTimeout(de,x),$.zoom("mouse",n(A(O(ee,re),$.mouse[0],$.mouse[1]),$.extent,l));function de(){$.wheel=null,$.end()}}function D(K,...ne){if(v||!t.apply(this,arguments))return;var $=K.currentTarget,ee=q(this,ne,!0).event(K),re=$r(K.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",me,!0),ce=Li(K,$),de=K.clientX,Y=K.clientY;dN(K.view),Ug(K),ee.mouse=[ce,this.__zoom.invert(ce)],zd(this),ee.start();function W(Q){if(E0(Q),!ee.moved){var ie=Q.clientX-de,le=Q.clientY-Y;ee.moved=ie*ie+le*le>S}ee.event(Q).zoom("mouse",n(A(ee.that.__zoom,ee.mouse[0]=Li(Q,$),ee.mouse[1]),ee.extent,l))}function me(Q){re.on("mousemove.zoom mouseup.zoom",null),mN(Q.view,ee.moved),E0(Q),ee.event(Q).end()}}function H(K,...ne){if(t.apply(this,arguments)){var $=this.__zoom,ee=Li(K.changedTouches?K.changedTouches[0]:K,this),re=$.invert(ee),ce=$.k*(K.shiftKey?.5:2),de=n(A(O($,ce),ee,re),e.apply(this,ne),l);E0(K),c>0?$r(this).transition().duration(c).call(U,de,ee,K):$r(this).call(C.transform,de,ee,K)}}function V(K,...ne){if(t.apply(this,arguments)){var $=K.touches,ee=$.length,re=q(this,ne,K.changedTouches.length===ee).event(K),ce,de,Y,W;for(Ug(K),de=0;de<ee;++de)Y=$[de],W=Li(Y,this),W=[W,this.__zoom.invert(W),Y.identifier],re.touch0?!re.touch1&&re.touch0[2]!==W[2]&&(re.touch1=W,re.taps=0):(re.touch0=W,ce=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),ce&&(re.taps<2&&(p=W[0],m=setTimeout(function(){m=null},b)),zd(this),re.start())}}function j(K,...ne){if(this.__zooming){var $=q(this,ne).event(K),ee=K.changedTouches,re=ee.length,ce,de,Y,W;for(E0(K),ce=0;ce<re;++ce)de=ee[ce],Y=Li(de,this),$.touch0&&$.touch0[2]===de.identifier?$.touch0[0]=Y:$.touch1&&$.touch1[2]===de.identifier&&($.touch1[0]=Y);if(de=$.that.__zoom,$.touch1){var me=$.touch0[0],Q=$.touch0[1],ie=$.touch1[0],le=$.touch1[1],he=(he=ie[0]-me[0])*he+(he=ie[1]-me[1])*he,_e=(_e=le[0]-Q[0])*_e+(_e=le[1]-Q[1])*_e;de=O(de,Math.sqrt(he/_e)),Y=[(me[0]+ie[0])/2,(me[1]+ie[1])/2],W=[(Q[0]+le[0])/2,(Q[1]+le[1])/2]}else if($.touch0)Y=$.touch0[0],W=$.touch0[1];else return;$.zoom("touch",n(A(de,Y,W),$.extent,l))}}function B(K,...ne){if(this.__zooming){var $=q(this,ne).event(K),ee=K.changedTouches,re=ee.length,ce,de;for(Ug(K),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),ce=0;ce<re;++ce)de=ee[ce],$.touch0&&$.touch0[2]===de.identifier?delete $.touch0:$.touch1&&$.touch1[2]===de.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(de=Li(de,this),Math.hypot(p[0]-de[0],p[1]-de[1])<E)){var Y=$r(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return C.wheelDelta=function(K){return arguments.length?(r=typeof K=="function"?K:hd(+K),C):r},C.filter=function(K){return arguments.length?(t=typeof K=="function"?K:hd(!!K),C):t},C.touchable=function(K){return arguments.length?(i=typeof K=="function"?K:hd(!!K),C):i},C.extent=function(K){return arguments.length?(e=typeof K=="function"?K:hd([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),C):e},C.scaleExtent=function(K){return arguments.length?(s[0]=+K[0],s[1]=+K[1],C):[s[0],s[1]]},C.translateExtent=function(K){return arguments.length?(l[0][0]=+K[0][0],l[1][0]=+K[1][0],l[0][1]=+K[0][1],l[1][1]=+K[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(K){return arguments.length?(n=K,C):n},C.duration=function(K){return arguments.length?(c=+K,C):c},C.interpolate=function(K){return arguments.length?(h=K,C):h},C.on=function(){var K=f.on.apply(f,arguments);return K===f?C:K},C.clickDistance=function(K){return arguments.length?(S=(K=+K)*K,C):Math.sqrt(S)},C.tapDistance=function(K){return arguments.length?(E=+K,C):E},C}const va={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},K0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],MN=["Enter"," ","Escape"],kN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Wu;(function(t){t.Strict="strict",t.Loose="loose"})(Wu||(Wu={}));var wl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(wl||(wl={}));var Q0;(function(t){t.Partial="partial",t.Full="full"})(Q0||(Q0={}));const DN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var oo;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(oo||(oo={}));var Z0;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Z0||(Z0={}));var Ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ye||(Ye={}));const O9={[Ye.Left]:Ye.Right,[Ye.Right]:Ye.Left,[Ye.Top]:Ye.Bottom,[Ye.Bottom]:Ye.Top};function ON(t){return t===null?null:t?"valid":"invalid"}const zN=t=>"id"in t&&"source"in t&&"target"in t,Mj=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),G6=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),gh=(t,e=[0,0])=>{const{width:n,height:r}=ps(t),i=t.origin??e,s=n*i[0],l=r*i[1];return{x:t.position.x-s,y:t.position.y-l}},kj=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let l=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(l=s?e.nodeLookup.get(i):G6(i)?i:e.nodeLookup.get(i.id));const c=l?rm(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Bm(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return jm(n)},vh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=Bm(n,rm(i)),r=!0)}),r?jm(n):{x:0,y:0,width:0,height:0}},$6=(t,e,[n,r,i]=[0,0,1],s=!1,l=!1)=>{const c={..._h(e,[n,r,i]),width:e.width/i,height:e.height/i},h=[];for(const f of t.values()){const{measured:m,selectable:p=!0,hidden:v=!1}=f;if(l&&!p||v)continue;const b=m.width??f.width??f.initialWidth??null,x=m.height??f.height??f.initialHeight??null,S=W0(c,ec(f)),E=(b??0)*(x??0),C=s&&S>0;(!f.internals.handleBounds||C||S>=E||f.dragging)&&h.push(f)}return h},Dj=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function Oj(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function zj({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},l){if(t.size===0)return Promise.resolve(!0);const c=Oj(t,l),h=vh(c),f=Y6(h,e,n,l?.minZoom??i,l?.maxZoom??s,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function LN({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:h,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)s?.("005",va.error005());else{const b=c.measured.width,x=c.measured.height;b&&x&&(p=[[h,f],[h+b,f+x]])}else c&&tc(l.extent)&&(p=[[l.extent[0][0]+h,l.extent[0][1]+f],[l.extent[1][0]+h,l.extent[1][1]+f]]);const v=tc(p)?Cl(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",va.error015()),{position:{x:v.x-h+(l.measured.width??0)*m[0],y:v.y-f+(l.measured.height??0)*m[1]},positionAbsolute:v}}async function Lj({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(v=>v.id)),l=[];for(const v of n){if(v.deletable===!1)continue;const b=s.has(v.id),x=!b&&v.parentId&&l.find(S=>S.id===v.parentId);(b||x)&&l.push(v)}const c=new Set(e.map(v=>v.id)),h=r.filter(v=>v.deletable!==!1),m=Dj(l,h);for(const v of h)c.has(v.id)&&!m.find(x=>x.id===v.id)&&m.push(v);if(!i)return{edges:m,nodes:l};const p=await i({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Ju=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Cl=(t={x:0,y:0},e,n)=>({x:Ju(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Ju(t.y,e[0][1],e[1][1]-(n?.height??0))});function VN(t,e,n){const{width:r,height:i}=ps(n),{x:s,y:l}=n.internals.positionAbsolute;return Cl(t,[[s,l],[s+r,l+i]],e)}const z9=(t,e,n)=>t<e?Ju(Math.abs(t-e),1,e)/e:t>n?-Ju(Math.abs(t-n),1,e)/e:0,qN=(t,e,n=15,r=40)=>{const i=z9(t.x,r,e.width-r)*n,s=z9(t.y,r,e.height-r)*n;return[i,s]},Bm=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),J5=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),jm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),ec=(t,e=[0,0])=>{const{x:n,y:r}=G6(t)?t.internals.positionAbsolute:gh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},rm=(t,e=[0,0])=>{const{x:n,y:r}=G6(t)?t.internals.positionAbsolute:gh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},PN=(t,e)=>jm(Bm(J5(t),J5(e))),W0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},L9=t=>Bi(t.width)&&Bi(t.height)&&Bi(t.x)&&Bi(t.y),Bi=t=>!isNaN(t)&&isFinite(t),Vj=(t,e)=>{},yh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),_h=({x:t,y:e},[n,r,i],s=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return s?yh(c,l):c},im=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Du(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function qj(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Du(t,n),i=Du(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Du(t.top??t.y??0,n),i=Du(t.bottom??t.y??0,n),s=Du(t.left??t.x??0,e),l=Du(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:s,x:s+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Pj(t,e,n,r,i,s){const{x:l,y:c}=im(t,[e,n,r]),{x:h,y:f}=im({x:t.x+t.width,y:t.y+t.height},[e,n,r]),m=i-h,p=s-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const Y6=(t,e,n,r,i,s)=>{const l=qj(s,e,n),c=(e-l.x)/t.width,h=(n-l.y)/t.height,f=Math.min(c,h),m=Ju(f,r,i),p=t.x+t.width/2,v=t.y+t.height/2,b=e/2-p*m,x=n/2-v*m,S=Pj(t,b,x,m,e,n),E={left:Math.min(S.left-l.left,0),top:Math.min(S.top-l.top,0),right:Math.min(S.right-l.right,0),bottom:Math.min(S.bottom-l.bottom,0)};return{x:b-E.left+E.right,y:x-E.top+E.bottom,zoom:m}},J0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function tc(t){return t!=null&&t!=="parent"}function ps(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function BN(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function jN(t,e={width:0,height:0},n,r,i){const s={...t},l=r.get(n);if(l){const c=l.origin||i;s.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return s}function V9(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Bj(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function jj(t){return{...kN,...t||{}}}function L0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:l}=ji(t),c=_h({x:s-(i?.left??0),y:l-(i?.top??0)},r),{x:h,y:f}=n?yh(c,e):c;return{xSnapped:h,ySnapped:f,...c}}const X6=t=>({width:t.offsetWidth,height:t.offsetHeight}),UN=t=>t?.getRootNode?.()||window?.document,Uj=["INPUT","SELECT","TEXTAREA"];function HN(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:Uj.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const FN=t=>"clientX"in t,ji=(t,e)=>{const n=FN(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},q9=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...X6(l)}})};function GN({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c}){const h=t*.125+i*.375+l*.375+n*.125,f=e*.125+s*.375+c*.375+r*.125,m=Math.abs(h-t),p=Math.abs(f-e);return[h,f,m,p]}function fd(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function P9({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Ye.Left:return[e-fd(e-r,s),n];case Ye.Right:return[e+fd(r-e,s),n];case Ye.Top:return[e,n-fd(n-i,s)];case Ye.Bottom:return[e,n+fd(i-n,s)]}}function $N({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top,curvature:l=.25}){const[c,h]=P9({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[f,m]=P9({pos:s,x1:r,y1:i,x2:t,y2:e,c:l}),[p,v,b,x]=GN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:h,targetControlX:f,targetControlY:m});return[`M${t},${e} C${c},${h} ${f},${m} ${r},${i}`,p,v,b,x]}function YN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[s,c,i,l]}function Hj({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function Fj({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Bm(rm(t),rm(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return W0(l,jm(s))>0}const Gj=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,$j=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Yj=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||Gj;let i;return zN(t)?i={...t}:i={...t,id:r(t)},$j(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function XN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,l,c]=YN({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,l,c]}const B9={[Ye.Left]:{x:-1,y:0},[Ye.Right]:{x:1,y:0},[Ye.Top]:{x:0,y:-1},[Ye.Bottom]:{x:0,y:1}},Xj=({source:t,sourcePosition:e=Ye.Bottom,target:n})=>e===Ye.Left||e===Ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},j9=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Kj({source:t,sourcePosition:e=Ye.Bottom,target:n,targetPosition:r=Ye.Top,center:i,offset:s,stepPosition:l}){const c=B9[e],h=B9[r],f={x:t.x+c.x*s,y:t.y+c.y*s},m={x:n.x+h.x*s,y:n.y+h.y*s},p=Xj({source:f,sourcePosition:e,target:m}),v=p.x!==0?"x":"y",b=p[v];let x=[],S,E;const C={x:0,y:0},O={x:0,y:0},[,,A,z]=YN({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[v]*h[v]===-1){v==="x"?(S=i.x??f.x+(m.x-f.x)*l,E=i.y??(f.y+m.y)/2):(S=i.x??(f.x+m.x)/2,E=i.y??f.y+(m.y-f.y)*l);const q=[{x:S,y:f.y},{x:S,y:m.y}],R=[{x:f.x,y:E},{x:m.x,y:E}];c[v]===b?x=v==="x"?q:R:x=v==="x"?R:q}else{const q=[{x:f.x,y:m.y}],R=[{x:m.x,y:f.y}];if(v==="x"?x=c.x===b?R:q:x=c.y===b?q:R,e===r){const j=Math.abs(t[v]-n[v]);if(j<=s){const B=Math.min(s-1,s-j);c[v]===b?C[v]=(f[v]>t[v]?-1:1)*B:O[v]=(m[v]>n[v]?-1:1)*B}}if(e!==r){const j=v==="x"?"y":"x",B=c[v]===h[j],K=f[j]>m[j],ne=f[j]<m[j];(c[v]===1&&(!B&&K||B&&ne)||c[v]!==1&&(!B&&ne||B&&K))&&(x=v==="x"?q:R)}const M={x:f.x+C.x,y:f.y+C.y},D={x:m.x+O.x,y:m.y+O.y},H=Math.max(Math.abs(M.x-x[0].x),Math.abs(D.x-x[0].x)),V=Math.max(Math.abs(M.y-x[0].y),Math.abs(D.y-x[0].y));H>=V?(S=(M.x+D.x)/2,E=x[0].y):(S=x[0].x,E=(M.y+D.y)/2)}return[[t,{x:f.x+C.x,y:f.y+C.y},...x,{x:m.x+O.x,y:m.y+O.y},n],S,E,A,z]}function Qj(t,e,n,r){const i=Math.min(j9(t,e)/2,j9(e,n)/2,r),{x:s,y:l}=e;if(t.x===s&&s===n.x||t.y===l&&l===n.y)return`L${s} ${l}`;if(t.y===l){const f=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${s+i*f},${l}Q ${s},${l} ${s},${l+i*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${s},${l+i*h}Q ${s},${l} ${s+i*c},${l}`}function e6({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top,borderRadius:l=5,centerX:c,centerY:h,offset:f=20,stepPosition:m=.5}){const[p,v,b,x,S]=Kj({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:h},offset:f,stepPosition:m});return[p.reduce((C,O,A)=>{let z="";return A>0&&A<p.length-1?z=Qj(p[A-1],O,p[A+1],l):z=`${A===0?"M":"L"}${O.x} ${O.y}`,C+=z,C},""),v,b,x,S]}function U9(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Zj(t){const{sourceNode:e,targetNode:n}=t;if(!U9(e)||!U9(n))return null;const r=e.internals.handleBounds||H9(e.handles),i=n.internals.handleBounds||H9(n.handles),s=F9(r?.source??[],t.sourceHandle),l=F9(t.connectionMode===Wu.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!l)return t.onError?.("008",va.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=s?.position||Ye.Bottom,h=l?.position||Ye.Top,f=Rl(e,s,c),m=Rl(n,l,h);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:h}}function H9(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Rl(t,e,n=Ye.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??ps(t);if(r)return{x:i+l/2,y:s+c/2};switch(e?.position??n){case Ye.Top:return{x:i+l/2,y:s};case Ye.Right:return{x:i+l,y:s+c/2};case Ye.Bottom:return{x:i+l/2,y:s+c};case Ye.Left:return{x:i,y:s+c/2}}}function F9(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function t6(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function Wj(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(h=>{if(h&&typeof h=="object"){const f=t6(h,e);s.has(f)||(l.push({id:f,color:h.color||n,...h}),s.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const KN=1e3,Jj=10,K6={nodeOrigin:[0,0],nodeExtent:K0,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},eU={...K6,checkEquality:!0};function Q6(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function tU(t,e,n){const r=Q6(K6,n);for(const i of t.values())if(i.parentId)W6(i,t,e,r);else{const s=gh(i,r.nodeOrigin),l=tc(i.extent)?i.extent:r.nodeExtent,c=Cl(s,l,ps(i));i.internals.positionAbsolute=c}}function nU(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function Z6(t){return t==="manual"}function n6(t,e,n,r={}){const i=Q6(eU,r),s={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!Z6(i.zIndexMode)?KN:0;let h=t.length>0;e.clear(),n.clear();for(const f of t){let m=l.get(f.id);if(i.checkEquality&&f===m?.internals.userNode)e.set(f.id,m);else{const p=gh(f,i.nodeOrigin),v=tc(f.extent)?f.extent:i.nodeExtent,b=Cl(p,v,ps(f));m={...i.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:b,handleBounds:nU(f,m),z:QN(f,c,i.zIndexMode),userNode:f}},e.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),f.parentId&&W6(m,e,n,r,s)}return h}function rU(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function W6(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:c,zIndexMode:h}=Q6(K6,r),f=t.parentId,m=e.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}rU(t,n),i&&!m.parentId&&m.internals.rootParentIndex===void 0&&h==="auto"&&(m.internals.rootParentIndex=++i.i,m.internals.z=m.internals.z+i.i*Jj),i&&m.internals.rootParentIndex!==void 0&&(i.i=m.internals.rootParentIndex);const p=s&&!Z6(h)?KN:0,{x:v,y:b,z:x}=iU(t,m,l,c,p,h),{positionAbsolute:S}=t.internals,E=v!==S.x||b!==S.y;(E||x!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:E?{x:v,y:b}:S,z:x}})}function QN(t,e,n){const r=Bi(t.zIndex)?t.zIndex:0;return Z6(n)?r:r+(t.selected?e:0)}function iU(t,e,n,r,i,s){const{x:l,y:c}=e.internals.positionAbsolute,h=ps(t),f=gh(t,n),m=tc(t.extent)?Cl(f,t.extent,h):f;let p=Cl({x:l+m.x,y:c+m.y},r,h);t.extent==="parent"&&(p=VN(p,h,e));const v=QN(t,i,s),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>=v?b+1:v}}function J6(t,e,n,r=[0,0]){const i=[],s=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const h=s.get(l.parentId)?.expandedRect??ec(c),f=PN(h,l.rect);s.set(l.parentId,{expandedRect:f,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},h)=>{const f=c.internals.positionAbsolute,m=ps(c),p=c.origin??r,v=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,b=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,x=Math.max(m.width,Math.round(l.width)),S=Math.max(m.height,Math.round(l.height)),E=(x-m.width)*p[0],C=(S-m.height)*p[1];(v>0||b>0||E||C)&&(i.push({id:h,type:"position",position:{x:c.position.x-v+E,y:c.position.y-b+C}}),n.get(h)?.forEach(O=>{t.some(A=>A.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+v,y:O.position.y+b}})})),(m.width<l.width||m.height<l.height||v||b)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:x+(v?p[0]*v-E:0),height:S+(b?p[1]*b-C:0)}})}),i}function aU(t,e,n,r,i,s,l){const c=r?.querySelector(".xyflow__viewport");let h=!1;if(!c)return{changes:[],updatedInternals:h};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const b of t.values()){const x=e.get(b.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),h=!0;continue}const S=X6(b.nodeElement),E=x.measured.width!==S.width||x.measured.height!==S.height;if(!!(S.width&&S.height&&(E||!x.internals.handleBounds||b.force))){const O=b.nodeElement.getBoundingClientRect(),A=tc(x.extent)?x.extent:s;let{positionAbsolute:z}=x.internals;x.parentId&&x.extent==="parent"?z=VN(z,S,e.get(x.parentId)):A&&(z=Cl(z,A,S));const U={...x,measured:S,internals:{...x.internals,positionAbsolute:z,handleBounds:{source:q9("source",b.nodeElement,O,p,x.id),target:q9("target",b.nodeElement,O,p,x.id)}}};e.set(x.id,U),x.parentId&&W6(U,e,n,{nodeOrigin:i,zIndexMode:l}),h=!0,E&&(f.push({id:x.id,type:"dimensions",dimensions:S}),x.expandParent&&x.parentId&&v.push({id:x.id,parentId:x.parentId,rect:ec(U,i)}))}}if(v.length>0){const b=J6(v,e,n,i);f.push(...b)}return{changes:f,updatedInternals:h}}async function sU({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function G9(t,e,n,r,i,s){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const h=r.get(l)||new Map;if(r.set(l,h.set(n,e)),s){l=`${i}-${t}-${s}`;const f=r.get(l)||new Map;r.set(l,f.set(n,e))}}function ZN(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:l=null,targetHandle:c=null}=r,h={edgeId:r.id,source:i,target:s,sourceHandle:l,targetHandle:c},f=`${i}-${l}--${s}-${c}`,m=`${s}-${c}--${i}-${l}`;G9("source",h,m,t,i,l),G9("target",h,f,t,s,c),e.set(r.id,r)}}function WN(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:WN(n,e):!1}function $9(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function oU(t,e,n,r){const i=new Map;for(const[s,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!WN(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(s);c&&i.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function Hg({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const h=n.get(l)?.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function lU({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},l=yh(s,e);return{x:l.x-s.x,y:l.y-s.y}}function uU({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},l=0,c=new Map,h=!1,f={x:0,y:0},m=null,p=!1,v=null,b=!1,x=!1,S=null;function E({noDragClassName:O,handleSelector:A,domNode:z,isSelectable:U,nodeId:q,nodeClickDistance:R=0}){v=$r(z);function M({x:j,y:B}){const{nodeLookup:K,nodeExtent:ne,snapGrid:$,snapToGrid:ee,nodeOrigin:re,onNodeDrag:ce,onSelectionDrag:de,onError:Y,updateNodePositions:W}=e();s={x:j,y:B};let me=!1;const Q=c.size>1,ie=Q&&ne?J5(vh(c)):null,le=Q&&ee?lU({dragItems:c,snapGrid:$,x:j,y:B}):null;for(const[he,_e]of c){if(!K.has(he))continue;let Ce={x:j-_e.distance.x,y:B-_e.distance.y};ee&&(Ce=le?{x:Math.round(Ce.x+le.x),y:Math.round(Ce.y+le.y)}:yh(Ce,$));let Le=null;if(Q&&ne&&!_e.extent&&ie){const{positionAbsolute:Pe}=_e.internals,Ge=Pe.x-ie.x+ne[0][0],Be=Pe.x+_e.measured.width-ie.x2+ne[1][0],it=Pe.y-ie.y+ne[0][1],$e=Pe.y+_e.measured.height-ie.y2+ne[1][1];Le=[[Ge,it],[Be,$e]]}const{position:He,positionAbsolute:Ue}=LN({nodeId:he,nextPosition:Ce,nodeLookup:K,nodeExtent:Le||ne,nodeOrigin:re,onError:Y});me=me||_e.position.x!==He.x||_e.position.y!==He.y,_e.position=He,_e.internals.positionAbsolute=Ue}if(x=x||me,!!me&&(W(c,!0),S&&(r||ce||!q&&de))){const[he,_e]=Hg({nodeId:q,dragItems:c,nodeLookup:K});r?.(S,c,he,_e),ce?.(S,he,_e),q||de?.(S,_e)}}async function D(){if(!m)return;const{transform:j,panBy:B,autoPanSpeed:K,autoPanOnNodeDrag:ne}=e();if(!ne){h=!1,cancelAnimationFrame(l);return}const[$,ee]=qN(f,m,K);($!==0||ee!==0)&&(s.x=(s.x??0)-$/j[2],s.y=(s.y??0)-ee/j[2],await B({x:$,y:ee})&&M(s)),l=requestAnimationFrame(D)}function H(j){const{nodeLookup:B,multiSelectionActive:K,nodesDraggable:ne,transform:$,snapGrid:ee,snapToGrid:re,selectNodesOnDrag:ce,onNodeDragStart:de,onSelectionDragStart:Y,unselectNodesAndEdges:W}=e();p=!0,(!ce||!U)&&!K&&q&&(B.get(q)?.selected||W()),U&&ce&&q&&t?.(q);const me=L0(j.sourceEvent,{transform:$,snapGrid:ee,snapToGrid:re,containerBounds:m});if(s=me,c=oU(B,ne,me,q),c.size>0&&(n||de||!q&&Y)){const[Q,ie]=Hg({nodeId:q,dragItems:c,nodeLookup:B});n?.(j.sourceEvent,c,Q,ie),de?.(j.sourceEvent,Q,ie),q||Y?.(j.sourceEvent,ie)}}const V=pN().clickDistance(R).on("start",j=>{const{domNode:B,nodeDragThreshold:K,transform:ne,snapGrid:$,snapToGrid:ee}=e();m=B?.getBoundingClientRect()||null,b=!1,x=!1,S=j.sourceEvent,K===0&&H(j),s=L0(j.sourceEvent,{transform:ne,snapGrid:$,snapToGrid:ee,containerBounds:m}),f=ji(j.sourceEvent,m)}).on("drag",j=>{const{autoPanOnNodeDrag:B,transform:K,snapGrid:ne,snapToGrid:$,nodeDragThreshold:ee,nodeLookup:re}=e(),ce=L0(j.sourceEvent,{transform:K,snapGrid:ne,snapToGrid:$,containerBounds:m});if(S=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||q&&!re.has(q))&&(b=!0),!b){if(!h&&B&&p&&(h=!0,D()),!p){const de=ji(j.sourceEvent,m),Y=de.x-f.x,W=de.y-f.y;Math.sqrt(Y*Y+W*W)>ee&&H(j)}(s.x!==ce.xSnapped||s.y!==ce.ySnapped)&&c&&p&&(f=ji(j.sourceEvent,m),M(ce))}}).on("end",j=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:B,updateNodePositions:K,onNodeDragStop:ne,onSelectionDragStop:$}=e();if(x&&(K(c,!1),x=!1),i||ne||!q&&$){const[ee,re]=Hg({nodeId:q,dragItems:c,nodeLookup:B,dragging:!1});i?.(j.sourceEvent,c,ee,re),ne?.(j.sourceEvent,ee,re),q||$?.(j.sourceEvent,re)}}}).filter(j=>{const B=j.target;return!j.button&&(!O||!$9(B,`.${O}`,z))&&(!A||$9(B,A,z))});v.call(V)}function C(){v?.on(".drag",null)}return{update:E,destroy:C}}function cU(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())W0(i,ec(s))>0&&r.push(s);return r}const hU=250;function fU(t,e,n,r){let i=[],s=1/0;const l=cU(t,n,e+hU);for(const c of l){const h=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:m,y:p}=Rl(c,f,f.position,!0),v=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(p-t.y,2));v>e||(v<s?(i=[{...f,x:m,y:p}],s=v):v===s&&i.push({...f,x:m,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(h=>h.type===c)??i[0]}return i[0]}function JN(t,e,n,r,i,s=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],h=(n?c?.find(f=>f.id===n):c?.[0])??null;return h&&s?{...h,...Rl(l,h,h.position,!0)}:h}function eM(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function dU(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const tM=()=>!0;function mU(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:l,domNode:c,nodeLookup:h,lib:f,autoPanOnConnect:m,flowId:p,panBy:v,cancelConnection:b,onConnectStart:x,onConnect:S,onConnectEnd:E,isValidConnection:C=tM,onReconnectEnd:O,updateConnection:A,getTransform:z,getFromHandle:U,autoPanSpeed:q,dragThreshold:R=1,handleDomNode:M}){const D=UN(t.target);let H=0,V;const{x:j,y:B}=ji(t),K=eM(s,M),ne=c?.getBoundingClientRect();let $=!1;if(!ne||!K)return;const ee=JN(i,K,r,h,e);if(!ee)return;let re=ji(t,ne),ce=!1,de=null,Y=!1,W=null;function me(){if(!m||!ne)return;const[He,Ue]=qN(re,ne,q);v({x:He,y:Ue}),H=requestAnimationFrame(me)}const Q={...ee,nodeId:i,type:K,position:ee.position},ie=h.get(i);let he={inProgress:!0,isValid:null,from:Rl(ie,Q,Ye.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:re,toHandle:null,toPosition:O9[Q.position],toNode:null,pointer:re};function _e(){$=!0,A(he),x?.(t,{nodeId:i,handleId:r,handleType:K})}R===0&&_e();function Ce(He){if(!$){const{x:$e,y:Gt}=ji(He),st=$e-j,kt=Gt-B;if(!(st*st+kt*kt>R*R))return;_e()}if(!U()||!Q){Le(He);return}const Ue=z();re=ji(He,ne),V=fU(_h(re,Ue,!1,[1,1]),n,h,Q),ce||(me(),ce=!0);const Pe=nM(He,{handle:V,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:C,doc:D,lib:f,flowId:p,nodeLookup:h});W=Pe.handleDomNode,de=Pe.connection,Y=dU(!!V,Pe.isValid);const Ge=h.get(i),Be=Ge?Rl(Ge,Q,Ye.Left,!0):he.from,it={...he,from:Be,isValid:Y,to:Pe.toHandle&&Y?im({x:Pe.toHandle.x,y:Pe.toHandle.y},Ue):re,toHandle:Pe.toHandle,toPosition:Y&&Pe.toHandle?Pe.toHandle.position:O9[Q.position],toNode:Pe.toHandle?h.get(Pe.toHandle.nodeId):null,pointer:re};A(it),he=it}function Le(He){if(!("touches"in He&&He.touches.length>0)){if($){(V||W)&&de&&Y&&S?.(de);const{inProgress:Ue,...Pe}=he,Ge={...Pe,toPosition:he.toHandle?he.toPosition:null};E?.(He,Ge),s&&O?.(He,Ge)}b(),cancelAnimationFrame(H),ce=!1,Y=!1,de=null,W=null,D.removeEventListener("mousemove",Ce),D.removeEventListener("mouseup",Le),D.removeEventListener("touchmove",Ce),D.removeEventListener("touchend",Le)}}D.addEventListener("mousemove",Ce),D.addEventListener("mouseup",Le),D.addEventListener("touchmove",Ce),D.addEventListener("touchend",Le)}function nM(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:l,lib:c,flowId:h,isValidConnection:f=tM,nodeLookup:m}){const p=s==="target",v=e?l.querySelector(`.${c}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:b,y:x}=ji(t),S=l.elementFromPoint(b,x),E=S?.classList.contains(`${c}-flow__handle`)?S:v,C={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const O=eM(void 0,E),A=E.getAttribute("data-nodeid"),z=E.getAttribute("data-handleid"),U=E.classList.contains("connectable"),q=E.classList.contains("connectableend");if(!A||!O)return C;const R={source:p?A:r,sourceHandle:p?z:i,target:p?r:A,targetHandle:p?i:z};C.connection=R;const D=U&&q&&(n===Wu.Strict?p&&O==="source"||!p&&O==="target":A!==r||z!==i);C.isValid=D&&f(R),C.toHandle=JN(A,O,z,m,n,!0)}return C}const r6={onPointerDown:mU,isValid:nM};function pU({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=$r(t);function s({translateExtent:c,width:h,height:f,zoomStep:m=1,pannable:p=!0,zoomable:v=!0,inversePan:b=!1}){const x=A=>{if(A.sourceEvent.type!=="wheel"||!e)return;const z=n(),U=A.sourceEvent.ctrlKey&&J0()?10:1,q=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*m,R=z[2]*Math.pow(2,q*U);e.scaleTo(R)};let S=[0,0];const E=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(S=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const z=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!e)return;const U=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],q=[U[0]-S[0],U[1]-S[1]];S=U;const R=r()*Math.max(z[2],Math.log(z[2]))*(b?-1:1),M={x:z[0]-q[0]*R,y:z[1]-q[1]*R},D=[[0,0],[h,f]];e.setViewportConstrained({x:M.x,y:M.y,zoom:z[2]},D,c)},O=NN().on("start",E).on("zoom",p?C:null).on("zoom.wheel",v?x:null);i.call(O,{})}function l(){i.on("zoom",null)}return{update:s,destroy:l,pointer:Li}}const Um=t=>({x:t.x,y:t.y,zoom:t.k}),Fg=({x:t,y:e,zoom:n})=>Pm.translate(t,e).scale(n),qu=(t,e)=>t.target.closest(`.${e}`),rM=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),gU=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Gg=(t,e=0,n=gU,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},iM=t=>{const e=t.ctrlKey&&J0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function vU({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:h,onPanZoomEnd:f}){return m=>{if(qu(m,e))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const E=Li(m),C=iM(m),O=p*Math.pow(2,C);r.scaleTo(n,O,E,m);return}const v=m.deltaMode===1?20:1;let b=i===wl.Vertical?0:m.deltaX*v,x=i===wl.Horizontal?0:m.deltaY*v;!J0()&&m.shiftKey&&i!==wl.Vertical&&(b=m.deltaY*v,x=0),r.translateBy(n,-(b/p)*s,-(x/p)*s,{internal:!0});const S=Um(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(m,S),t.panScrollTimeout=setTimeout(()=>{f?.(m,S),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(m,S))}}function yU({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",l=!e&&s&&!r.ctrlKey,c=qu(r,t);if(r.ctrlKey&&s&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function _U({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Um(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function bU({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&rM(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Um(s.transform))}}function wU({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&rM(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=Um(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function xU({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:c,noPanClassName:h,lib:f,connectionInProgress:m}){return p=>{const v=t||e,b=n&&p.ctrlKey,x=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(qu(p,`${f}-flow__node`)||qu(p,`${f}-flow__edge`)))return!0;if(!r&&!v&&!i&&!s&&!n||l||m&&!x||qu(p,c)&&x||qu(p,h)&&(!x||i&&x&&!t)||!n&&p.ctrlKey&&x)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!v&&!i&&!b&&x||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const S=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||x)&&S}}function SU({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:h}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=NN().scaleExtent([e,n]).translateExtent(r),v=$r(t).call(p);O({x:i.x,y:i.y,zoom:Ju(i.zoom,e,n)},[[0,0],[m.width,m.height]],r);const b=v.on("wheel.zoom"),x=v.on("dblclick.zoom");p.wheelDelta(iM);function S(V,j){return v?new Promise(B=>{p?.interpolate(j?.interpolate==="linear"?z0:kd).transform(Gg(v,j?.duration,j?.ease,()=>B(!0)),V)}):Promise.resolve(!1)}function E({noWheelClassName:V,noPanClassName:j,onPaneContextMenu:B,userSelectionActive:K,panOnScroll:ne,panOnDrag:$,panOnScrollMode:ee,panOnScrollSpeed:re,preventScrolling:ce,zoomOnPinch:de,zoomOnScroll:Y,zoomOnDoubleClick:W,zoomActivationKeyPressed:me,lib:Q,onTransformChange:ie,connectionInProgress:le,paneClickDistance:he,selectionOnDrag:_e}){K&&!f.isZoomingOrPanning&&C();const Ce=ne&&!me&&!K;p.clickDistance(_e?1/0:!Bi(he)||he<0?0:he);const Le=Ce?vU({zoomPanValues:f,noWheelClassName:V,d3Selection:v,d3Zoom:p,panOnScrollMode:ee,panOnScrollSpeed:re,zoomOnPinch:de,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:c}):yU({noWheelClassName:V,preventScrolling:ce,d3ZoomHandler:b});if(v.on("wheel.zoom",Le,{passive:!1}),!K){const Ue=_U({zoomPanValues:f,onDraggingChange:h,onPanZoomStart:l});p.on("start",Ue);const Pe=bU({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!B,onPanZoom:s,onTransformChange:ie});p.on("zoom",Pe);const Ge=wU({zoomPanValues:f,panOnDrag:$,panOnScroll:ne,onPaneContextMenu:B,onPanZoomEnd:c,onDraggingChange:h});p.on("end",Ge)}const He=xU({zoomActivationKeyPressed:me,panOnDrag:$,zoomOnScroll:Y,panOnScroll:ne,zoomOnDoubleClick:W,zoomOnPinch:de,userSelectionActive:K,noPanClassName:j,noWheelClassName:V,lib:Q,connectionInProgress:le});p.filter(He),W?v.on("dblclick.zoom",x):v.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function O(V,j,B){const K=Fg(V),ne=p?.constrain()(K,j,B);return ne&&await S(ne),new Promise($=>$(ne))}async function A(V,j){const B=Fg(V);return await S(B,j),new Promise(K=>K(B))}function z(V){if(v){const j=Fg(V),B=v.property("__zoom");(B.k!==V.zoom||B.x!==V.x||B.y!==V.y)&&p?.transform(v,j,null,{sync:!0})}}function U(){const V=v?IN(v.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function q(V,j){return v?new Promise(B=>{p?.interpolate(j?.interpolate==="linear"?z0:kd).scaleTo(Gg(v,j?.duration,j?.ease,()=>B(!0)),V)}):Promise.resolve(!1)}function R(V,j){return v?new Promise(B=>{p?.interpolate(j?.interpolate==="linear"?z0:kd).scaleBy(Gg(v,j?.duration,j?.ease,()=>B(!0)),V)}):Promise.resolve(!1)}function M(V){p?.scaleExtent(V)}function D(V){p?.translateExtent(V)}function H(V){const j=!Bi(V)||V<0?0:V;p?.clickDistance(j)}return{update:E,destroy:C,setViewport:A,setViewportConstrained:O,getViewport:U,scaleTo:q,scaleBy:R,setScaleExtent:M,setTranslateExtent:D,syncViewport:z,setClickDistance:H}}var nc;(function(t){t.Line="line",t.Handle="handle"})(nc||(nc={}));function EU({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const l=t-e,c=n-r,h=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(h[0]=h[0]*-1),c&&s&&(h[1]=h[1]*-1),h}function Y9(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function no(t,e){return Math.max(0,e-t)}function ro(t,e){return Math.max(0,t-e)}function dd(t,e,n){return Math.max(0,e-t,t-n)}function X9(t,e){return t?!e:e}function TU(t,e,n,r,i,s,l,c){let{affectsX:h,affectsY:f}=e;const{isHorizontal:m,isVertical:p}=e,v=m&&p,{xSnapped:b,ySnapped:x}=n,{minWidth:S,maxWidth:E,minHeight:C,maxHeight:O}=r,{x:A,y:z,width:U,height:q,aspectRatio:R}=t;let M=Math.floor(m?b-t.pointerX:0),D=Math.floor(p?x-t.pointerY:0);const H=U+(h?-M:M),V=q+(f?-D:D),j=-s[0]*U,B=-s[1]*q;let K=dd(H,S,E),ne=dd(V,C,O);if(l){let re=0,ce=0;h&&M<0?re=no(A+M+j,l[0][0]):!h&&M>0&&(re=ro(A+H+j,l[1][0])),f&&D<0?ce=no(z+D+B,l[0][1]):!f&&D>0&&(ce=ro(z+V+B,l[1][1])),K=Math.max(K,re),ne=Math.max(ne,ce)}if(c){let re=0,ce=0;h&&M>0?re=ro(A+M,c[0][0]):!h&&M<0&&(re=no(A+H,c[1][0])),f&&D>0?ce=ro(z+D,c[0][1]):!f&&D<0&&(ce=no(z+V,c[1][1])),K=Math.max(K,re),ne=Math.max(ne,ce)}if(i){if(m){const re=dd(H/R,C,O)*R;if(K=Math.max(K,re),l){let ce=0;!h&&!f||h&&!f&&v?ce=ro(z+B+H/R,l[1][1])*R:ce=no(z+B+(h?M:-M)/R,l[0][1])*R,K=Math.max(K,ce)}if(c){let ce=0;!h&&!f||h&&!f&&v?ce=no(z+H/R,c[1][1])*R:ce=ro(z+(h?M:-M)/R,c[0][1])*R,K=Math.max(K,ce)}}if(p){const re=dd(V*R,S,E)/R;if(ne=Math.max(ne,re),l){let ce=0;!h&&!f||f&&!h&&v?ce=ro(A+V*R+j,l[1][0])/R:ce=no(A+(f?D:-D)*R+j,l[0][0])/R,ne=Math.max(ne,ce)}if(c){let ce=0;!h&&!f||f&&!h&&v?ce=no(A+V*R,c[1][0])/R:ce=ro(A+(f?D:-D)*R,c[0][0])/R,ne=Math.max(ne,ce)}}}D=D+(D<0?ne:-ne),M=M+(M<0?K:-K),i&&(v?H>V*R?D=(X9(h,f)?-M:M)/R:M=(X9(h,f)?-D:D)*R:m?(D=M/R,f=h):(M=D*R,h=f));const $=h?A+M:A,ee=f?z+D:z;return{width:U+(h?-M:M),height:q+(f?-D:D),x:s[0]*M*(h?-1:1)+$,y:s[1]*D*(f?-1:1)+ee}}const aM={width:0,height:0,x:0,y:0},AU={...aM,pointerX:0,pointerY:0,aspectRatio:1};function CU(t){return[[0,0],[t.measured.width,t.measured.height]]}function RU(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,l=t.measured.height??0,c=n[0]*s,h=n[1]*l;return[[r-c,i-h],[r+s-c,i+l-h]]}function IU({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=$r(t);let l={controlDirection:Y9("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:v,onResizeStart:b,onResize:x,onResizeEnd:S,shouldResize:E}){let C={...aM},O={...AU};l={boundaries:m,resizeDirection:v,keepAspectRatio:p,controlDirection:Y9(f)};let A,z=null,U=[],q,R,M,D=!1;const H=pN().on("start",V=>{const{nodeLookup:j,transform:B,snapGrid:K,snapToGrid:ne,nodeOrigin:$,paneDomNode:ee}=n();if(A=j.get(e),!A)return;z=ee?.getBoundingClientRect()??null;const{xSnapped:re,ySnapped:ce}=L0(V.sourceEvent,{transform:B,snapGrid:K,snapToGrid:ne,containerBounds:z});C={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},O={...C,pointerX:re,pointerY:ce,aspectRatio:C.width/C.height},q=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(q=j.get(A.parentId),R=q&&A.extent==="parent"?CU(q):void 0),U=[],M=void 0;for(const[de,Y]of j)if(Y.parentId===e&&(U.push({id:de,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const W=RU(Y,A,Y.origin??$);M?M=[[Math.min(W[0][0],M[0][0]),Math.min(W[0][1],M[0][1])],[Math.max(W[1][0],M[1][0]),Math.max(W[1][1],M[1][1])]]:M=W}b?.(V,{...C})}).on("drag",V=>{const{transform:j,snapGrid:B,snapToGrid:K,nodeOrigin:ne}=n(),$=L0(V.sourceEvent,{transform:j,snapGrid:B,snapToGrid:K,containerBounds:z}),ee=[];if(!A)return;const{x:re,y:ce,width:de,height:Y}=C,W={},me=A.origin??ne,{width:Q,height:ie,x:le,y:he}=TU(O,l.controlDirection,$,l.boundaries,l.keepAspectRatio,me,R,M),_e=Q!==de,Ce=ie!==Y,Le=le!==re&&_e,He=he!==ce&&Ce;if(!Le&&!He&&!_e&&!Ce)return;if((Le||He||me[0]===1||me[1]===1)&&(W.x=Le?le:C.x,W.y=He?he:C.y,C.x=W.x,C.y=W.y,U.length>0)){const Be=le-re,it=he-ce;for(const $e of U)$e.position={x:$e.position.x-Be+me[0]*(Q-de),y:$e.position.y-it+me[1]*(ie-Y)},ee.push($e)}if((_e||Ce)&&(W.width=_e&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Q:C.width,W.height=Ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ie:C.height,C.width=W.width,C.height=W.height),q&&A.expandParent){const Be=me[0]*(W.width??0);W.x&&W.x<Be&&(C.x=Be,O.x=O.x-(W.x-Be));const it=me[1]*(W.height??0);W.y&&W.y<it&&(C.y=it,O.y=O.y-(W.y-it))}const Ue=EU({width:C.width,prevWidth:de,height:C.height,prevHeight:Y,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Pe={...C,direction:Ue};E?.(V,Pe)!==!1&&(D=!0,x?.(V,Pe),r(W,ee))}).on("end",V=>{D&&(S?.(V,{...C}),i?.({...C}),D=!1)});s.call(H)}function h(){s.on(".drag",null)}return{update:c,destroy:h}}var $g={exports:{}},Yg={},Xg={exports:{}},Kg={};var K9;function NU(){if(K9)return Kg;K9=1;var t=dh();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,v){var b=v(),x=r({inst:{value:b,getSnapshot:v}}),S=x[0].inst,E=x[1];return s(function(){S.value=b,S.getSnapshot=v,h(S)&&E({inst:S})},[p,b,v]),i(function(){return h(S)&&E({inst:S}),p(function(){h(S)&&E({inst:S})})},[p]),l(b),b}function h(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Kg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Kg}var Q9;function MU(){return Q9||(Q9=1,Xg.exports=NU()),Xg.exports}var Z9;function kU(){if(Z9)return Yg;Z9=1;var t=dh(),e=MU();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(f,m,p,v,b){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function C(q){if(!O){if(O=!0,A=q,q=v(q),b!==void 0&&S.hasValue){var R=S.value;if(b(R,q))return z=R}return z=q}if(R=z,r(A,q))return R;var M=v(q);return b!==void 0&&b(R,M)?(A=q,R):(A=q,z=M)}var O=!1,A,z,U=p===void 0?null:p;return[function(){return C(m())},U===null?void 0:function(){return C(U())}]},[m,p,v,b]);var E=i(f,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),h(E),E},Yg}var W9;function DU(){return W9||(W9=1,$g.exports=kU()),$g.exports}var OU=DU();const zU=Om(OU),LU={},J9=t=>{let e;const n=new Set,r=(m,p)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const b=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,b))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(LU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,i,h);return h},VU=t=>t?J9(t):J9,{useDebugValue:qU}=JI,{useSyncExternalStoreWithSelector:PU}=zU,BU=t=>t;function sM(t,e=BU,n){const r=PU(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return qU(r),r}const ex=(t,e)=>{const n=VU(t),r=(i,s=e)=>sM(n,i,s);return Object.assign(r,n),r},jU=(t,e)=>t?ex(t,e):ex;function tn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}eN();const Hm=oe.createContext(null),UU=Hm.Provider,oM=va.error001();function Et(t,e){const n=oe.useContext(Hm);if(n===null)throw new Error(oM);return sM(n,t,e)}function nn(){const t=oe.useContext(Hm);if(t===null)throw new Error(oM);return oe.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const tx={display:"none"},HU={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},lM="react-flow__node-desc",uM="react-flow__edge-desc",FU="react-flow__aria-live",GU=t=>t.ariaLiveMessage,$U=t=>t.ariaLabelConfig;function YU({rfId:t}){const e=Et(GU);return k.jsx("div",{id:`${FU}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:HU,children:e})}function XU({rfId:t,disableKeyboardA11y:e}){const n=Et($U);return k.jsxs(k.Fragment,{children:[k.jsx("div",{id:`${lM}-${t}`,style:tx,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),k.jsx("div",{id:`${uM}-${t}`,style:tx,children:n["edge.a11yDescription.default"]}),!e&&k.jsx(YU,{rfId:t})]})}const Fm=oe.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const l=`${t}`.split("-");return k.jsx("div",{className:On(["react-flow__panel",n,...l]),style:r,ref:s,...i,children:e})});Fm.displayName="Panel";function KU({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:k.jsx(Fm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const QU=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},md=t=>t.id;function ZU(t,e){return tn(t.selectedNodes.map(md),e.selectedNodes.map(md))&&tn(t.selectedEdges.map(md),e.selectedEdges.map(md))}function WU({onSelectionChange:t}){const e=nn(),{selectedNodes:n,selectedEdges:r}=Et(QU,ZU);return oe.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const JU=t=>!!t.onSelectionChangeHandlers;function eH({onSelectionChange:t}){const e=Et(JU);return t||e?k.jsx(WU,{onSelectionChange:t}):null}const cM=[0,0],tH={x:0,y:0,zoom:1},nH=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],nx=[...nH,"rfId"],rH=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),rx={translateExtent:K0,nodeOrigin:cM,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function iH(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:h}=Et(rH,tn),f=nn();oe.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{m.current=rx,c()}),[]);const m=oe.useRef(rx);return oe.useEffect(()=>{for(const p of nx){const v=t[p],b=m.current[p];v!==b&&(typeof t[p]>"u"||(p==="nodes"?e(v):p==="edges"?n(v):p==="minZoom"?r(v):p==="maxZoom"?i(v):p==="translateExtent"?s(v):p==="nodeExtent"?l(v):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:jj(v)}):p==="fitView"?f.setState({fitViewQueued:v}):p==="fitViewOptions"?f.setState({fitViewOptions:v}):f.setState({[p]:v})))}m.current=t},nx.map(p=>t[p])),null}function ix(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function aH(t){const[e,n]=oe.useState(t==="system"?null:t);return oe.useEffect(()=>{if(t!=="system"){n(t);return}const r=ix(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:ix()?.matches?"dark":"light"}const ax=typeof document<"u"?document:null;function eh(t=null,e={target:ax,actInsideInputWithModifier:!0}){const[n,r]=oe.useState(!1),i=oe.useRef(!1),s=oe.useRef(new Set([])),[l,c]=oe.useMemo(()=>{if(t!==null){const f=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,v)=>p.concat(...v),[]);return[f,m]}return[[],[]]},[t]);return oe.useEffect(()=>{const h=e?.target??ax,f=e?.actInsideInputWithModifier??!0;if(t!==null){const m=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!f)&&HN(b))return!1;const S=ox(b.code,c);if(s.current.add(b[S]),sx(l,s.current,!1)){const E=b.composedPath?.()?.[0]||b.target,C=E?.nodeName==="BUTTON"||E?.nodeName==="A";e.preventDefault!==!1&&(i.current||!C)&&b.preventDefault(),r(!0)}},p=b=>{const x=ox(b.code,c);sx(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[x]),b.key==="Meta"&&s.current.clear(),i.current=!1},v=()=>{s.current.clear(),r(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",p),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",p),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,r]),n}function sx(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function ox(t,e){return e.includes(t)?"code":"key"}const sH=()=>{const t=nn();return oe.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:l,panZoom:c}=t.getState(),h=Y6(e,r,i,s,l,n?.padding??.1);return c?(await c.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:l}=t.getState();if(!l)return e;const{x:c,y:h}=l.getBoundingClientRect(),f={x:e.x-c,y:e.y-h},m=n.snapGrid??i,p=n.snapToGrid??s;return _h(f,r,p,m)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),l=im(e,n);return{x:l.x+i,y:l.y+s}}}),[])};function hM(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const l=r.get(s.id);l?l.push(s):r.set(s.id,[s])}for(const s of e){const l=r.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...s};for(const h of l)oH(h,c);n.push(c)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function oH(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function fM(t,e){return hM(t,e)}function dM(t,e){return hM(t,e)}function pl(t,e){return{id:t,type:"select",selected:e}}function Pu(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const l=e.has(i);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),r.push(pl(s.id,l)))}return r}function lx({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const l=e.get(s.id),c=l?.internals?.userNode??l;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function ux(t){return{id:t.id,type:"remove"}}const cx=t=>Mj(t),lH=t=>zN(t);function mM(t){return oe.forwardRef(t)}const uH=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function hx(t){const[e,n]=oe.useState(BigInt(0)),[r]=oe.useState(()=>cH(()=>n(i=>i+BigInt(1))));return uH(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function cH(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const pM=oe.createContext(null);function hH({children:t}){const e=nn(),n=oe.useCallback(c=>{const{nodes:h=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:x}=e.getState();let S=h;for(const C of c)S=typeof C=="function"?C(S):C;let E=lx({items:S,lookup:v});for(const C of x.values())E=C(E);m&&f(S),E.length>0?p?.(E):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:O,setNodes:A}=e.getState();C&&A(O)})},[]),r=hx(n),i=oe.useCallback(c=>{const{edges:h=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:v}=e.getState();let b=h;for(const x of c)b=typeof x=="function"?x(b):x;m?f(b):p&&p(lx({items:b,lookup:v}))},[]),s=hx(i),l=oe.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return k.jsx(pM.Provider,{value:l,children:t})}function fH(){const t=oe.useContext(pM);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const dH=t=>!!t.panZoom;function e_(){const t=sH(),e=nn(),n=fH(),r=Et(dH),i=oe.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},h=p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState(),x=cx(p)?p:v.get(p.id),S=x.parentId?jN(x.position,x.measured,x.parentId,v,b):x.position,E={...x,position:S,width:x.measured?.width??x.width,height:x.measured?.height??x.height};return ec(E)},f=(p,v,b={replace:!1})=>{l(x=>x.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&cx(E)?E:{...S,...E}}return S}))},m=(p,v,b={replace:!1})=>{c(x=>x.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&lH(E)?E:{...S,...E}}return S}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(v=>({...v}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const v=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...v])},addEdges:p=>{const v=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:p=[],edges:v=[],transform:b}=e.getState(),[x,S,E]=b;return{nodes:p.map(C=>({...C})),edges:v.map(C=>({...C})),viewport:{x,y:S,zoom:E}}},deleteElements:async({nodes:p=[],edges:v=[]})=>{const{nodes:b,edges:x,onNodesDelete:S,onEdgesDelete:E,triggerNodeChanges:C,triggerEdgeChanges:O,onDelete:A,onBeforeDelete:z}=e.getState(),{nodes:U,edges:q}=await Lj({nodesToRemove:p,edgesToRemove:v,nodes:b,edges:x,onBeforeDelete:z}),R=q.length>0,M=U.length>0;if(R){const D=q.map(ux);E?.(q),O(D)}if(M){const D=U.map(ux);S?.(U),C(D)}return(M||R)&&A?.({nodes:U,edges:q}),{deletedNodes:U,deletedEdges:q}},getIntersectingNodes:(p,v=!0,b)=>{const x=L9(p),S=x?p:h(p),E=b!==void 0;return S?(b||e.getState().nodes).filter(C=>{const O=e.getState().nodeLookup.get(C.id);if(O&&!x&&(C.id===p.id||!O.internals.positionAbsolute))return!1;const A=ec(E?C:O),z=W0(A,S);return v&&z>0||z>=A.width*A.height||z>=S.width*S.height}):[]},isNodeIntersecting:(p,v,b=!0)=>{const S=L9(p)?p:h(p);if(!S)return!1;const E=W0(S,v);return b&&E>0||E>=v.width*v.height||E>=S.width*S.height},updateNode:f,updateNodeData:(p,v,b={replace:!1})=>{f(p,x=>{const S=typeof v=="function"?v(x):v;return b.replace?{...x,data:S}:{...x,data:{...x.data,...S}}},b)},updateEdge:m,updateEdgeData:(p,v,b={replace:!1})=>{m(p,x=>{const S=typeof v=="function"?v(x):v;return b.replace?{...x,data:S}:{...x,data:{...x.data,...S}}},b)},getNodesBounds:p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState();return kj(p,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:p,id:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}-${p}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}${p?v?`-${p}-${v}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const v=e.getState().fitViewResolver??Bj();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:v}),n.nodeQueue.push(b=>[...b]),v.promise}}},[]);return oe.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const fx=t=>t.selected,mH=typeof window<"u"?window:void 0;function pH({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=nn(),{deleteElements:r}=e_(),i=eh(t,{actInsideInputWithModifier:!1}),s=eh(e,{target:mH});oe.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(fx),edges:l.filter(fx)}),n.setState({nodesSelectionActive:!1})}},[i]),oe.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function gH(t){const e=nn();oe.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=X6(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",va.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Gm={position:"absolute",width:"100%",height:"100%",top:0,left:0},vH=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function yH({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=wl.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:h,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:b=!0,children:x,noWheelClassName:S,noPanClassName:E,onViewportChange:C,isControlledViewport:O,paneClickDistance:A,selectionOnDrag:z}){const U=nn(),q=oe.useRef(null),{userSelectionActive:R,lib:M,connectionInProgress:D}=Et(vH,tn),H=eh(v),V=oe.useRef();gH(q);const j=oe.useCallback(B=>{C?.({x:B[0],y:B[1],zoom:B[2]}),O||U.setState({transform:B})},[C,O]);return oe.useEffect(()=>{if(q.current){V.current=SU({domNode:q.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:h,onDraggingChange:$=>U.setState({paneDragging:$}),onPanZoomStart:($,ee)=>{const{onViewportChangeStart:re,onMoveStart:ce}=U.getState();ce?.($,ee),re?.(ee)},onPanZoom:($,ee)=>{const{onViewportChange:re,onMove:ce}=U.getState();ce?.($,ee),re?.(ee)},onPanZoomEnd:($,ee)=>{const{onViewportChangeEnd:re,onMoveEnd:ce}=U.getState();ce?.($,ee),re?.(ee)}});const{x:B,y:K,zoom:ne}=V.current.getViewport();return U.setState({panZoom:V.current,transform:[B,K,ne],domNode:q.current.closest(".react-flow")}),()=>{V.current?.destroy()}}},[]),oe.useEffect(()=>{V.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:E,userSelectionActive:R,noWheelClassName:S,lib:M,onTransformChange:j,connectionInProgress:D,selectionOnDrag:z,paneClickDistance:A})},[t,e,n,r,i,s,l,c,H,b,E,R,S,M,j,D,z,A]),k.jsx("div",{className:"react-flow__renderer",ref:q,style:Gm,children:x})}const _H=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function bH(){const{userSelectionActive:t,userSelectionRect:e}=Et(_H,tn);return t&&e?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Qg=(t,e)=>n=>{n.target===e.current&&t?.(n)},wH=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function xH({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Q0.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:c,onPaneClick:h,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:b,children:x}){const S=nn(),{userSelectionActive:E,elementsSelectable:C,dragging:O,connectionInProgress:A}=Et(wH,tn),z=C&&(t||E),U=oe.useRef(null),q=oe.useRef(),R=oe.useRef(new Set),M=oe.useRef(new Set),D=oe.useRef(!1),H=re=>{if(D.current||A){D.current=!1;return}h?.(re),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},V=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}f?.(re)},j=m?re=>m(re):void 0,B=re=>{D.current&&(re.stopPropagation(),D.current=!1)},K=re=>{const{domNode:ce}=S.getState();if(q.current=ce?.getBoundingClientRect(),!q.current)return;const de=re.target===U.current;if(!de&&!!re.target.closest(".nokey")||!t||!(s&&de||e)||re.button!==0||!re.isPrimary)return;re.target?.setPointerCapture?.(re.pointerId),D.current=!1;const{x:me,y:Q}=ji(re.nativeEvent,q.current);S.setState({userSelectionRect:{width:0,height:0,startX:me,startY:Q,x:me,y:Q}}),de||(re.stopPropagation(),re.preventDefault())},ne=re=>{const{userSelectionRect:ce,transform:de,nodeLookup:Y,edgeLookup:W,connectionLookup:me,triggerNodeChanges:Q,triggerEdgeChanges:ie,defaultEdgeOptions:le,resetSelectedElements:he}=S.getState();if(!q.current||!ce)return;const{x:_e,y:Ce}=ji(re.nativeEvent,q.current),{startX:Le,startY:He}=ce;if(!D.current){const it=e?0:i;if(Math.hypot(_e-Le,Ce-He)<=it)return;he(),l?.(re)}D.current=!0;const Ue={startX:Le,startY:He,x:_e<Le?_e:Le,y:Ce<He?Ce:He,width:Math.abs(_e-Le),height:Math.abs(Ce-He)},Pe=R.current,Ge=M.current;R.current=new Set($6(Y,Ue,de,n===Q0.Partial,!0).map(it=>it.id)),M.current=new Set;const Be=le?.selectable??!0;for(const it of R.current){const $e=me.get(it);if($e)for(const{edgeId:Gt}of $e.values()){const st=W.get(Gt);st&&(st.selectable??Be)&&M.current.add(Gt)}}if(!V9(Pe,R.current)){const it=Pu(Y,R.current,!0);Q(it)}if(!V9(Ge,M.current)){const it=Pu(W,M.current);ie(it)}S.setState({userSelectionRect:Ue,userSelectionActive:!0,nodesSelectionActive:!1})},$=re=>{re.button===0&&(re.target?.releasePointerCapture?.(re.pointerId),!E&&re.target===U.current&&S.getState().userSelectionRect&&H?.(re),S.setState({userSelectionActive:!1,userSelectionRect:null}),D.current&&(c?.(re),S.setState({nodesSelectionActive:R.current.size>0})))},ee=r===!0||Array.isArray(r)&&r.includes(0);return k.jsxs("div",{className:On(["react-flow__pane",{draggable:ee,dragging:O,selection:t}]),onClick:z?void 0:Qg(H,U),onContextMenu:Qg(V,U),onWheel:Qg(j,U),onPointerEnter:z?void 0:p,onPointerMove:z?ne:v,onPointerUp:z?$:void 0,onPointerDownCapture:z?K:void 0,onClickCapture:z?B:void 0,onPointerLeave:b,ref:U,style:Gm,children:[x,k.jsx(bH,{})]})}function i6({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:c,onError:h}=e.getState(),f=c.get(t);if(!f){h?.("012",va.error012(t));return}e.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(s({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function gM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:l}){const c=nn(),[h,f]=oe.useState(!1),m=oe.useRef();return oe.useEffect(()=>{m.current=uU({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{i6({id:p,store:c,nodeRef:t})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),oe.useEffect(()=>{if(e)m.current?.destroy();else if(t.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,e,s,t,i]),h}const SH=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function vM(){const t=nn();return oe.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:l,onError:c,updateNodePositions:h,nodeLookup:f,nodeOrigin:m}=t.getState(),p=new Map,v=SH(l),b=i?s[0]:5,x=i?s[1]:5,S=n.direction.x*b*n.factor,E=n.direction.y*x*n.factor;for(const[,C]of f){if(!v(C))continue;let O={x:C.internals.positionAbsolute.x+S,y:C.internals.positionAbsolute.y+E};i&&(O=yh(O,s));const{position:A,positionAbsolute:z}=LN({nodeId:C.id,nextPosition:O,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});C.position=A,C.internals.positionAbsolute=z,p.set(C.id,C)}h(p)},[])}const t_=oe.createContext(null),EH=t_.Provider;t_.Consumer;const yM=()=>oe.useContext(t_),TH=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),AH=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:l}=r,{fromHandle:c,toHandle:h,isValid:f}=l,m=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:m,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Wu.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:m&&f}};function CH({type:t="source",position:e=Ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:l,onConnect:c,children:h,className:f,onMouseDown:m,onTouchStart:p,...v},b){const x=l||null,S=t==="target",E=nn(),C=yM(),{connectOnClick:O,noPanClassName:A,rfId:z}=Et(TH,tn),{connectingFrom:U,connectingTo:q,clickConnecting:R,isPossibleEndHandle:M,connectionInProcess:D,clickConnectionInProcess:H,valid:V}=Et(AH(C,x,t),tn);C||E.getState().onError?.("010",va.error010());const j=ne=>{const{defaultEdgeOptions:$,onConnect:ee,hasDefaultEdges:re}=E.getState(),ce={...$,...ne};if(re){const{edges:de,setEdges:Y}=E.getState();Y(Yj(ce,de))}ee?.(ce),c?.(ce)},B=ne=>{if(!C)return;const $=FN(ne.nativeEvent);if(i&&($&&ne.button===0||!$)){const ee=E.getState();r6.onPointerDown(ne.nativeEvent,{handleDomNode:ne.currentTarget,autoPanOnConnect:ee.autoPanOnConnect,connectionMode:ee.connectionMode,connectionRadius:ee.connectionRadius,domNode:ee.domNode,nodeLookup:ee.nodeLookup,lib:ee.lib,isTarget:S,handleId:x,nodeId:C,flowId:ee.rfId,panBy:ee.panBy,cancelConnection:ee.cancelConnection,onConnectStart:ee.onConnectStart,onConnectEnd:ee.onConnectEnd,updateConnection:ee.updateConnection,onConnect:j,isValidConnection:n||ee.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:ee.autoPanSpeed,dragThreshold:ee.connectionDragThreshold})}$?m?.(ne):p?.(ne)},K=ne=>{const{onClickConnectStart:$,onClickConnectEnd:ee,connectionClickStartHandle:re,connectionMode:ce,isValidConnection:de,lib:Y,rfId:W,nodeLookup:me,connection:Q}=E.getState();if(!C||!re&&!i)return;if(!re){$?.(ne.nativeEvent,{nodeId:C,handleId:x,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:C,type:t,id:x}});return}const ie=UN(ne.target),le=n||de,{connection:he,isValid:_e}=r6.isValid(ne.nativeEvent,{handle:{nodeId:C,id:x,type:t},connectionMode:ce,fromNodeId:re.nodeId,fromHandleId:re.id||null,fromType:re.type,isValidConnection:le,flowId:W,doc:ie,lib:Y,nodeLookup:me});_e&&he&&j(he);const Ce=structuredClone(Q);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,ee?.(ne,Ce),E.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":x,"data-nodeid":C,"data-handlepos":e,"data-id":`${z}-${C}-${x}-${t}`,className:On(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,f,{source:!S,target:S,connectable:r,connectablestart:i,connectableend:s,clickconnecting:R,connectingfrom:U,connectingto:q,valid:V,connectionindicator:r&&(!D||M)&&(D||H?s:i)}]),onMouseDown:B,onTouchStart:B,onClick:O?K:void 0,ref:b,...v,children:h})}const rc=oe.memo(mM(CH));function RH({data:t,isConnectable:e,sourcePosition:n=Ye.Bottom}){return k.jsxs(k.Fragment,{children:[t?.label,k.jsx(rc,{type:"source",position:n,isConnectable:e})]})}function IH({data:t,isConnectable:e,targetPosition:n=Ye.Top,sourcePosition:r=Ye.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(rc,{type:"target",position:n,isConnectable:e}),t?.label,k.jsx(rc,{type:"source",position:r,isConnectable:e})]})}function NH(){return null}function MH({data:t,isConnectable:e,targetPosition:n=Ye.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(rc,{type:"target",position:n,isConnectable:e}),t?.label]})}const am={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},dx={input:RH,default:IH,output:MH,group:NH};function kH(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const DH=t=>{const{width:e,height:n,x:r,y:i}=vh(t.nodeLookup,{filter:s=>!!s.selected});return{width:Bi(e)?e:null,height:Bi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function OH({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=nn(),{width:i,height:s,transformString:l,userSelectionActive:c}=Et(DH,tn),h=vM(),f=oe.useRef(null);if(oe.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),gM({nodeRef:f}),c||!i||!s)return null;const m=t?v=>{const b=r.getState().nodes.filter(x=>x.selected);t(v,b)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(am,v.key)&&(v.preventDefault(),h({direction:am[v.key],factor:v.shiftKey?4:1}))};return k.jsx("div",{className:On(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:k.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const mx=typeof window<"u"?window:void 0,zH=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function _M({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:x,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:C,zoomOnScroll:O,zoomOnPinch:A,panOnScroll:z,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:R,panOnDrag:M,defaultViewport:D,translateExtent:H,minZoom:V,maxZoom:j,preventScrolling:B,onSelectionContextMenu:K,noWheelClassName:ne,noPanClassName:$,disableKeyboardA11y:ee,onViewportChange:re,isControlledViewport:ce}){const{nodesSelectionActive:de,userSelectionActive:Y}=Et(zH,tn),W=eh(f,{target:mx}),me=eh(S,{target:mx}),Q=me||M,ie=me||z,le=m&&Q!==!0,he=W||Y||le;return pH({deleteKeyCode:h,multiSelectionKeyCode:x}),k.jsx(yH,{onPaneContextMenu:s,elementsSelectable:C,zoomOnScroll:O,zoomOnPinch:A,panOnScroll:ie,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:R,panOnDrag:!W&&Q,defaultViewport:D,translateExtent:H,minZoom:V,maxZoom:j,zoomActivationKeyCode:E,preventScrolling:B,noWheelClassName:ne,noPanClassName:$,onViewportChange:re,isControlledViewport:ce,paneClickDistance:c,selectionOnDrag:le,children:k.jsxs(xH,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:Q,isSelecting:!!he,selectionMode:p,selectionKeyPressed:W,paneClickDistance:c,selectionOnDrag:le,children:[t,de&&k.jsx(OH,{onSelectionContextMenu:K,noPanClassName:$,disableKeyboardA11y:ee})]})})}_M.displayName="FlowRenderer";const LH=oe.memo(_M),VH=t=>e=>t?$6(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function qH(t){return Et(oe.useCallback(VH(t),[t]),tn)}const PH=t=>t.updateNodeInternals;function BH(){const t=Et(PH),[e]=oe.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return oe.useEffect(()=>()=>{e?.disconnect()},[e]),e}function jH({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=nn(),s=oe.useRef(null),l=oe.useRef(null),c=oe.useRef(t.sourcePosition),h=oe.useRef(t.targetPosition),f=oe.useRef(e),m=n&&!!t.internals.handleBounds;return oe.useEffect(()=>{s.current&&!t.hidden&&(!m||l.current!==s.current)&&(l.current&&r?.unobserve(l.current),r?.observe(s.current),l.current=s.current)},[m,t.hidden]),oe.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),oe.useEffect(()=>{if(s.current){const p=f.current!==e,v=c.current!==t.sourcePosition,b=h.current!==t.targetPosition;(p||v||b)&&(f.current=e,c.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function UH({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:l,nodesDraggable:c,elementsSelectable:h,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:x,rfId:S,nodeTypes:E,nodeClickDistance:C,onError:O}){const{node:A,internals:z,isParent:U}=Et(_e=>{const Ce=_e.nodeLookup.get(t),Le=_e.parentLookup.has(t);return{node:Ce,internals:Ce.internals,isParent:Le}},tn);let q=A.type||"default",R=E?.[q]||dx[q];R===void 0&&(O?.("003",va.error003(q)),q="default",R=E?.default||dx.default);const M=!!(A.draggable||c&&typeof A.draggable>"u"),D=!!(A.selectable||h&&typeof A.selectable>"u"),H=!!(A.connectable||f&&typeof A.connectable>"u"),V=!!(A.focusable||m&&typeof A.focusable>"u"),j=nn(),B=BN(A),K=jH({node:A,nodeType:q,hasDimensions:B,resizeObserver:p}),ne=gM({nodeRef:K,disabled:A.hidden||!M,noDragClassName:v,handleSelector:A.dragHandle,nodeId:t,isSelectable:D,nodeClickDistance:C}),$=vM();if(A.hidden)return null;const ee=ps(A),re=kH(A),ce=D||M||e||n||r||i,de=n?_e=>n(_e,{...z.userNode}):void 0,Y=r?_e=>r(_e,{...z.userNode}):void 0,W=i?_e=>i(_e,{...z.userNode}):void 0,me=s?_e=>s(_e,{...z.userNode}):void 0,Q=l?_e=>l(_e,{...z.userNode}):void 0,ie=_e=>{const{selectNodesOnDrag:Ce,nodeDragThreshold:Le}=j.getState();D&&(!Ce||!M||Le>0)&&i6({id:t,store:j,nodeRef:K}),e&&e(_e,{...z.userNode})},le=_e=>{if(!(HN(_e.nativeEvent)||x)){if(MN.includes(_e.key)&&D){const Ce=_e.key==="Escape";i6({id:t,store:j,unselect:Ce,nodeRef:K})}else if(M&&A.selected&&Object.prototype.hasOwnProperty.call(am,_e.key)){_e.preventDefault();const{ariaLabelConfig:Ce}=j.getState();j.setState({ariaLiveMessage:Ce["node.a11yDescription.ariaLiveMessage"]({direction:_e.key.replace("Arrow","").toLowerCase(),x:~~z.positionAbsolute.x,y:~~z.positionAbsolute.y})}),$({direction:am[_e.key],factor:_e.shiftKey?4:1})}}},he=()=>{if(x||!K.current?.matches(":focus-visible"))return;const{transform:_e,width:Ce,height:Le,autoPanOnNodeFocus:He,setCenter:Ue}=j.getState();if(!He)return;$6(new Map([[t,A]]),{x:0,y:0,width:Ce,height:Le},_e,!0).length>0||Ue(A.position.x+ee.width/2,A.position.y+ee.height/2,{zoom:_e[2]})};return k.jsx("div",{className:On(["react-flow__node",`react-flow__node-${q}`,{[b]:M},A.className,{selected:A.selected,selectable:D,parent:U,draggable:M,dragging:ne}]),ref:K,style:{zIndex:z.z,transform:`translate(${z.positionAbsolute.x}px,${z.positionAbsolute.y}px)`,pointerEvents:ce?"all":"none",visibility:B?"visible":"hidden",...A.style,...re},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:de,onMouseMove:Y,onMouseLeave:W,onContextMenu:me,onClick:ie,onDoubleClick:Q,onKeyDown:V?le:void 0,tabIndex:V?0:void 0,onFocus:V?he:void 0,role:A.ariaRole??(V?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${lM}-${S}`,"aria-label":A.ariaLabel,...A.domAttributes,children:k.jsx(EH,{value:t,children:k.jsx(R,{id:t,data:A.data,type:q,positionAbsoluteX:z.positionAbsolute.x,positionAbsoluteY:z.positionAbsolute.y,selected:A.selected??!1,selectable:D,draggable:M,deletable:A.deletable??!0,isConnectable:H,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:ne,dragHandle:A.dragHandle,zIndex:z.z,parentId:A.parentId,...ee})})})}var HH=oe.memo(UH);const FH=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function bM(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Et(FH,tn),l=qH(t.onlyRenderVisibleElements),c=BH();return k.jsx("div",{className:"react-flow__nodes",style:Gm,children:l.map(h=>k.jsx(HH,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},h))})}bM.displayName="NodeRenderer";const GH=oe.memo(bM);function $H(t){return Et(oe.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);s&&l&&Fj({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),tn)}const YH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return k.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},XH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return k.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},px={[Z0.Arrow]:YH,[Z0.ArrowClosed]:XH};function KH(t){const e=nn();return oe.useMemo(()=>Object.prototype.hasOwnProperty.call(px,t)?px[t]:(e.getState().onError?.("009",va.error009(t)),null),[t])}const QH=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const h=KH(e);return h?k.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:k.jsx(h,{color:n,strokeWidth:l})}):null},wM=({defaultColor:t,rfId:e})=>{const n=Et(s=>s.edges),r=Et(s=>s.defaultEdgeOptions),i=oe.useMemo(()=>Wj(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?k.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:k.jsx("defs",{children:i.map(s=>k.jsx(QH,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};wM.displayName="MarkerDefinitions";var ZH=oe.memo(wM);function xM({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:f,...m}){const[p,v]=oe.useState({x:1,y:0,width:0,height:0}),b=On(["react-flow__edge-textwrapper",f]),x=oe.useRef(null);return oe.useEffect(()=>{if(x.current){const S=x.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),n?k.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...m,children:[i&&k.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),k.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),h]}):null}xM.displayName="EdgeText";const WH=oe.memo(xM);function $m({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h,interactionWidth:f=20,...m}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...m,d:t,fill:"none",className:On(["react-flow__edge-path",m.className])}),f?k.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Bi(e)&&Bi(n)?k.jsx(WH,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h}):null]})}function gx({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ye.Left||t===Ye.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function SM({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top}){const[l,c]=gx({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,f]=gx({pos:s,x1:r,y1:i,x2:t,y2:e}),[m,p,v,b]=GN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:h,targetControlY:f});return[`M${t},${e} C${l},${c} ${h},${f} ${r},${i}`,m,p,v,b]}function EM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:c,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:C})=>{const[O,A,z]=SM({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c}),U=t.isInternal?void 0:e;return k.jsx($m,{id:U,path:O,labelX:A,labelY:z,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:C})})}const JH=EM({isInternal:!1}),TM=EM({isInternal:!0});JH.displayName="SimpleBezierEdge";TM.displayName="SimpleBezierEdgeInternal";function AM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,sourcePosition:b=Ye.Bottom,targetPosition:x=Ye.Top,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:O})=>{const[A,z,U]=e6({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:s,targetPosition:x,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),q=t.isInternal?void 0:e;return k.jsx($m,{id:q,path:A,labelX:z,labelY:U,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:S,markerStart:E,interactionWidth:O})})}const CM=AM({isInternal:!1}),RM=AM({isInternal:!0});CM.displayName="SmoothStepEdge";RM.displayName="SmoothStepEdgeInternal";function IM(t){return oe.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return k.jsx(CM,{...n,id:r,pathOptions:oe.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const eF=IM({isInternal:!1}),NM=IM({isInternal:!0});eF.displayName="StepEdge";NM.displayName="StepEdgeInternal";function MM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:x,interactionWidth:S})=>{const[E,C,O]=XN({sourceX:n,sourceY:r,targetX:i,targetY:s}),A=t.isInternal?void 0:e;return k.jsx($m,{id:A,path:E,labelX:C,labelY:O,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:x,interactionWidth:S})})}const tF=MM({isInternal:!1}),kM=MM({isInternal:!0});tF.displayName="StraightEdge";kM.displayName="StraightEdgeInternal";function DM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l=Ye.Bottom,targetPosition:c=Ye.Top,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:O})=>{const[A,z,U]=$N({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c,curvature:C?.curvature}),q=t.isInternal?void 0:e;return k.jsx($m,{id:q,path:A,labelX:z,labelY:U,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:O})})}const nF=DM({isInternal:!1}),OM=DM({isInternal:!0});nF.displayName="BezierEdge";OM.displayName="BezierEdgeInternal";const vx={default:OM,straight:kM,step:NM,smoothstep:RM,simplebezier:TM},yx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},rF=(t,e,n)=>n===Ye.Left?t-e:n===Ye.Right?t+e:t,iF=(t,e,n)=>n===Ye.Top?t-e:n===Ye.Bottom?t+e:t,_x="react-flow__edgeupdater";function bx({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}){return k.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:On([_x,`${_x}-${c}`]),cx:rF(e,r,t),cy:iF(n,r,t),r,stroke:"transparent",fill:"transparent"})}function aF({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:l,sourcePosition:c,targetPosition:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:v,setUpdateHover:b}){const x=nn(),S=(z,U)=>{if(z.button!==0)return;const{autoPanOnConnect:q,domNode:R,isValidConnection:M,connectionMode:D,connectionRadius:H,lib:V,onConnectStart:j,onConnectEnd:B,cancelConnection:K,nodeLookup:ne,rfId:$,panBy:ee,updateConnection:re}=x.getState(),ce=U.type==="target",de=(me,Q)=>{v(!1),p?.(me,n,U.type,Q)},Y=me=>f?.(n,me),W=(me,Q)=>{v(!0),m?.(z,n,U.type),j?.(me,Q)};r6.onPointerDown(z.nativeEvent,{autoPanOnConnect:q,connectionMode:D,connectionRadius:H,domNode:R,handleId:U.id,nodeId:U.nodeId,nodeLookup:ne,isTarget:ce,edgeUpdaterType:U.type,lib:V,flowId:$,cancelConnection:K,panBy:ee,isValidConnection:M,onConnect:Y,onConnectStart:W,onConnectEnd:B,onReconnectEnd:de,updateConnection:re,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:z.currentTarget})},E=z=>S(z,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=z=>S(z,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>b(!0),A=()=>b(!1);return k.jsxs(k.Fragment,{children:[(t===!0||t==="source")&&k.jsx(bx,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:O,onMouseOut:A,type:"source"}),(t===!0||t==="target")&&k.jsx(bx,{position:h,centerX:s,centerY:l,radius:e,onMouseDown:C,onMouseEnter:O,onMouseOut:A,type:"target"})]})}function sF({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,rfId:x,edgeTypes:S,noPanClassName:E,onError:C,disableKeyboardA11y:O}){let A=Et(Ue=>Ue.edgeLookup.get(t));const z=Et(Ue=>Ue.defaultEdgeOptions);A=z?{...z,...A}:A;let U=A.type||"default",q=S?.[U]||vx[U];q===void 0&&(C?.("011",va.error011(U)),U="default",q=S?.default||vx.default);const R=!!(A.focusable||e&&typeof A.focusable>"u"),M=typeof p<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),D=!!(A.selectable||r&&typeof A.selectable>"u"),H=oe.useRef(null),[V,j]=oe.useState(!1),[B,K]=oe.useState(!1),ne=nn(),{zIndex:$,sourceX:ee,sourceY:re,targetX:ce,targetY:de,sourcePosition:Y,targetPosition:W}=Et(oe.useCallback(Ue=>{const Pe=Ue.nodeLookup.get(A.source),Ge=Ue.nodeLookup.get(A.target);if(!Pe||!Ge)return{zIndex:A.zIndex,...yx};const Be=Zj({id:t,sourceNode:Pe,targetNode:Ge,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:Ue.connectionMode,onError:C});return{zIndex:Hj({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ge,elevateOnSelect:Ue.elevateEdgesOnSelect,zIndexMode:Ue.zIndexMode}),...Be||yx}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),tn),me=oe.useMemo(()=>A.markerStart?`url('#${t6(A.markerStart,x)}')`:void 0,[A.markerStart,x]),Q=oe.useMemo(()=>A.markerEnd?`url('#${t6(A.markerEnd,x)}')`:void 0,[A.markerEnd,x]);if(A.hidden||ee===null||re===null||ce===null||de===null)return null;const ie=Ue=>{const{addSelectedEdges:Pe,unselectNodesAndEdges:Ge,multiSelectionActive:Be}=ne.getState();D&&(ne.setState({nodesSelectionActive:!1}),A.selected&&Be?(Ge({nodes:[],edges:[A]}),H.current?.blur()):Pe([t])),i&&i(Ue,A)},le=s?Ue=>{s(Ue,{...A})}:void 0,he=l?Ue=>{l(Ue,{...A})}:void 0,_e=c?Ue=>{c(Ue,{...A})}:void 0,Ce=h?Ue=>{h(Ue,{...A})}:void 0,Le=f?Ue=>{f(Ue,{...A})}:void 0,He=Ue=>{if(!O&&MN.includes(Ue.key)&&D){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ge}=ne.getState();Ue.key==="Escape"?(H.current?.blur(),Pe({edges:[A]})):Ge([t])}};return k.jsx("svg",{style:{zIndex:$},children:k.jsxs("g",{className:On(["react-flow__edge",`react-flow__edge-${U}`,A.className,E,{selected:A.selected,animated:A.animated,inactive:!D&&!i,updating:V,selectable:D}]),onClick:ie,onDoubleClick:le,onContextMenu:he,onMouseEnter:_e,onMouseMove:Ce,onMouseLeave:Le,onKeyDown:R?He:void 0,tabIndex:R?0:void 0,role:A.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":R?`${uM}-${x}`:void 0,ref:H,...A.domAttributes,children:[!B&&k.jsx(q,{id:t,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:D,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:ee,sourceY:re,targetX:ce,targetY:de,sourcePosition:Y,targetPosition:W,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:me,markerEnd:Q,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),M&&k.jsx(aF,{edge:A,isReconnectable:M,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,sourceX:ee,sourceY:re,targetX:ce,targetY:de,sourcePosition:Y,targetPosition:W,setUpdateHover:j,setReconnecting:K})]})})}var oF=oe.memo(sF);const lF=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function zM({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:x,disableKeyboardA11y:S}){const{edgesFocusable:E,edgesReconnectable:C,elementsSelectable:O,onError:A}=Et(lF,tn),z=$H(e);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(ZH,{defaultColor:t,rfId:n}),z.map(U=>k.jsx(oF,{id:U,edgesFocusable:E,edgesReconnectable:C,elementsSelectable:O,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:x,rfId:n,onError:A,edgeTypes:r,disableKeyboardA11y:S},U))]})}zM.displayName="EdgeRenderer";const uF=oe.memo(zM),cF=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function hF({children:t}){const e=Et(cF);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function fF(t){const e=e_(),n=oe.useRef(!1);oe.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const dF=t=>t.panZoom?.syncViewport;function mF(t){const e=Et(dF),n=nn();return oe.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function pF(t){return t.connection.inProgress?{...t.connection,to:_h(t.connection.to,t.transform)}:{...t.connection}}function gF(t){return pF}function vF(t){const e=gF();return Et(e,tn)}const yF=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function _F({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:l,isValid:c,inProgress:h}=Et(yF,tn);return!(s&&i&&h)?null:k.jsx("svg",{style:t,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:On(["react-flow__connection",ON(c)]),children:k.jsx(LM,{style:e,type:n,CustomComponent:r,isValid:c})})})}const LM=({style:t,type:e=oo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:l,fromHandle:c,fromPosition:h,to:f,toNode:m,toHandle:p,toPosition:v,pointer:b}=vF();if(!i)return;if(n)return k.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:h,toPosition:v,connectionStatus:ON(r),toNode:m,toHandle:p,pointer:b});let x="";const S={sourceX:s.x,sourceY:s.y,sourcePosition:h,targetX:f.x,targetY:f.y,targetPosition:v};switch(e){case oo.Bezier:[x]=$N(S);break;case oo.SimpleBezier:[x]=SM(S);break;case oo.Step:[x]=e6({...S,borderRadius:0});break;case oo.SmoothStep:[x]=e6(S);break;default:[x]=XN(S)}return k.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};LM.displayName="ConnectionLine";const bF={};function wx(t=bF){oe.useRef(t),nn(),oe.useEffect(()=>{},[t])}function wF(){nn(),oe.useRef(!1),oe.useEffect(()=>{},[])}function VM({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:S,connectionLineComponent:E,connectionLineContainerStyle:C,selectionKeyCode:O,selectionOnDrag:A,selectionMode:z,multiSelectionKeyCode:U,panActivationKeyCode:q,zoomActivationKeyCode:R,deleteKeyCode:M,onlyRenderVisibleElements:D,elementsSelectable:H,defaultViewport:V,translateExtent:j,minZoom:B,maxZoom:K,preventScrolling:ne,defaultMarkerColor:$,zoomOnScroll:ee,zoomOnPinch:re,panOnScroll:ce,panOnScrollSpeed:de,panOnScrollMode:Y,zoomOnDoubleClick:W,panOnDrag:me,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:le,onPaneMouseLeave:he,onPaneScroll:_e,onPaneContextMenu:Ce,paneClickDistance:Le,nodeClickDistance:He,onEdgeContextMenu:Ue,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,onReconnect:$e,onReconnectStart:Gt,onReconnectEnd:st,noDragClassName:kt,noWheelClassName:Vn,noPanClassName:jn,disableKeyboardA11y:Yt,nodeExtent:Zt,rfId:$n,viewport:yr,onViewportChange:_r}){return wx(t),wx(e),wF(),fF(n),mF(yr),k.jsx(LH,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:le,onPaneMouseLeave:he,onPaneContextMenu:Ce,onPaneScroll:_e,paneClickDistance:Le,deleteKeyCode:M,selectionKeyCode:O,selectionOnDrag:A,selectionMode:z,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:U,panActivationKeyCode:q,zoomActivationKeyCode:R,elementsSelectable:H,zoomOnScroll:ee,zoomOnPinch:re,zoomOnDoubleClick:W,panOnScroll:ce,panOnScrollSpeed:de,panOnScrollMode:Y,panOnDrag:me,defaultViewport:V,translateExtent:j,minZoom:B,maxZoom:K,onSelectionContextMenu:p,preventScrolling:ne,noDragClassName:kt,noWheelClassName:Vn,noPanClassName:jn,disableKeyboardA11y:Yt,onViewportChange:_r,isControlledViewport:!!yr,children:k.jsxs(hF,{children:[k.jsx(uF,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:$e,onReconnectStart:Gt,onReconnectEnd:st,onlyRenderVisibleElements:D,onEdgeContextMenu:Ue,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,defaultMarkerColor:$,noPanClassName:jn,disableKeyboardA11y:Yt,rfId:$n}),k.jsx(_F,{style:S,type:x,component:E,containerStyle:C}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(GH,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:He,onlyRenderVisibleElements:D,noPanClassName:jn,noDragClassName:kt,disableKeyboardA11y:Yt,nodeExtent:Zt,rfId:$n}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}VM.displayName="GraphView";const xF=oe.memo(VM),xx=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:v="basic"}={})=>{const b=new Map,x=new Map,S=new Map,E=new Map,C=r??e??[],O=n??t??[],A=m??[0,0],z=p??K0;ZN(S,E,C);const U=n6(O,b,x,{nodeOrigin:A,nodeExtent:z,zIndexMode:v});let q=[0,0,1];if(l&&i&&s){const R=vh(b,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:M,y:D,zoom:H}=Y6(R,i,s,h,f,c?.padding??.1);q=[M,D,H]}return{rfId:"1",width:i??0,height:s??0,transform:q,nodes:O,nodesInitialized:U,nodeLookup:b,parentLookup:x,edges:C,edgeLookup:E,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:h,maxZoom:f,translateExtent:K0,nodeExtent:z,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Wu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...DN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Vj,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:kN,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},SF=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v})=>jU((b,x)=>{async function S(){const{nodeLookup:E,panZoom:C,fitViewOptions:O,fitViewResolver:A,width:z,height:U,minZoom:q,maxZoom:R}=x();C&&(await zj({nodes:E,width:z,height:U,panZoom:C,minZoom:q,maxZoom:R},O),A?.resolve(!0),b({fitViewResolver:null}))}return{...xx({nodes:t,edges:e,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:v}),setNodes:E=>{const{nodeLookup:C,parentLookup:O,nodeOrigin:A,elevateNodesOnSelect:z,fitViewQueued:U,zIndexMode:q}=x(),R=n6(E,C,O,{nodeOrigin:A,nodeExtent:p,elevateNodesOnSelect:z,checkEquality:!0,zIndexMode:q});U&&R?(S(),b({nodes:E,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:E,nodesInitialized:R})},setEdges:E=>{const{connectionLookup:C,edgeLookup:O}=x();ZN(C,O,E),b({edges:E})},setDefaultNodesAndEdges:(E,C)=>{if(E){const{setNodes:O}=x();O(E),b({hasDefaultNodes:!0})}if(C){const{setEdges:O}=x();O(C),b({hasDefaultEdges:!0})}},updateNodeInternals:E=>{const{triggerNodeChanges:C,nodeLookup:O,parentLookup:A,domNode:z,nodeOrigin:U,nodeExtent:q,debug:R,fitViewQueued:M,zIndexMode:D}=x(),{changes:H,updatedInternals:V}=aU(E,O,A,z,U,q,D);V&&(tU(O,A,{nodeOrigin:U,nodeExtent:q,zIndexMode:D}),M?(S(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),H?.length>0&&(R&&console.log("React Flow: trigger node changes",H),C?.(H)))},updateNodePositions:(E,C=!1)=>{const O=[];let A=[];const{nodeLookup:z,triggerNodeChanges:U,connection:q,updateConnection:R,onNodesChangeMiddlewareMap:M}=x();for(const[D,H]of E){const V=z.get(D),j=!!(V?.expandParent&&V?.parentId&&H?.position),B={id:D,type:"position",position:j?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:C};if(V&&q.inProgress&&q.fromNode.id===V.id){const K=Rl(V,q.fromHandle,Ye.Left,!0);R({...q,from:K})}j&&V.parentId&&O.push({id:D,parentId:V.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),A.push(B)}if(O.length>0){const{parentLookup:D,nodeOrigin:H}=x(),V=J6(O,z,D,H);A.push(...V)}for(const D of M.values())A=D(A);U(A)},triggerNodeChanges:E=>{const{onNodesChange:C,setNodes:O,nodes:A,hasDefaultNodes:z,debug:U}=x();if(E?.length){if(z){const q=fM(E,A);O(q)}U&&console.log("React Flow: trigger node changes",E),C?.(E)}},triggerEdgeChanges:E=>{const{onEdgesChange:C,setEdges:O,edges:A,hasDefaultEdges:z,debug:U}=x();if(E?.length){if(z){const q=dM(E,A);O(q)}U&&console.log("React Flow: trigger edge changes",E),C?.(E)}},addSelectedNodes:E=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:A,triggerNodeChanges:z,triggerEdgeChanges:U}=x();if(C){const q=E.map(R=>pl(R,!0));z(q);return}z(Pu(A,new Set([...E]),!0)),U(Pu(O))},addSelectedEdges:E=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:A,triggerNodeChanges:z,triggerEdgeChanges:U}=x();if(C){const q=E.map(R=>pl(R,!0));U(q);return}U(Pu(O,new Set([...E]))),z(Pu(A,new Set,!0))},unselectNodesAndEdges:({nodes:E,edges:C}={})=>{const{edges:O,nodes:A,nodeLookup:z,triggerNodeChanges:U,triggerEdgeChanges:q}=x(),R=E||A,M=C||O,D=R.map(V=>{const j=z.get(V.id);return j&&(j.selected=!1),pl(V.id,!1)}),H=M.map(V=>pl(V.id,!1));U(D),q(H)},setMinZoom:E=>{const{panZoom:C,maxZoom:O}=x();C?.setScaleExtent([E,O]),b({minZoom:E})},setMaxZoom:E=>{const{panZoom:C,minZoom:O}=x();C?.setScaleExtent([O,E]),b({maxZoom:E})},setTranslateExtent:E=>{x().panZoom?.setTranslateExtent(E),b({translateExtent:E})},resetSelectedElements:()=>{const{edges:E,nodes:C,triggerNodeChanges:O,triggerEdgeChanges:A,elementsSelectable:z}=x();if(!z)return;const U=C.reduce((R,M)=>M.selected?[...R,pl(M.id,!1)]:R,[]),q=E.reduce((R,M)=>M.selected?[...R,pl(M.id,!1)]:R,[]);O(U),A(q)},setNodeExtent:E=>{const{nodes:C,nodeLookup:O,parentLookup:A,nodeOrigin:z,elevateNodesOnSelect:U,nodeExtent:q,zIndexMode:R}=x();E[0][0]===q[0][0]&&E[0][1]===q[0][1]&&E[1][0]===q[1][0]&&E[1][1]===q[1][1]||(n6(C,O,A,{nodeOrigin:z,nodeExtent:E,elevateNodesOnSelect:U,checkEquality:!1,zIndexMode:R}),b({nodeExtent:E}))},panBy:E=>{const{transform:C,width:O,height:A,panZoom:z,translateExtent:U}=x();return sU({delta:E,panZoom:z,transform:C,translateExtent:U,width:O,height:A})},setCenter:async(E,C,O)=>{const{width:A,height:z,maxZoom:U,panZoom:q}=x();if(!q)return Promise.resolve(!1);const R=typeof O?.zoom<"u"?O.zoom:U;return await q.setViewport({x:A/2-E*R,y:z/2-C*R,zoom:R},{duration:O?.duration,ease:O?.ease,interpolate:O?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...DN}})},updateConnection:E=>{b({connection:E})},reset:()=>b({...xx()})}},Object.is);function EF({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:h,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v,children:b}){const[x]=oe.useState(()=>SF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:h,nodeOrigin:m,nodeExtent:p,zIndexMode:v}));return k.jsx(UU,{value:x,children:k.jsx(hH,{children:b})})}function TF({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:l,fitView:c,fitViewOptions:h,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b}){return oe.useContext(Hm)?k.jsx(k.Fragment,{children:t}):k.jsx(EF,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:h,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b,children:t})}const AF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function CF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:l,onNodeClick:c,onEdgeClick:h,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:v,onConnect:b,onConnectStart:x,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,onNodeMouseEnter:O,onNodeMouseMove:A,onNodeMouseLeave:z,onNodeContextMenu:U,onNodeDoubleClick:q,onNodeDragStart:R,onNodeDrag:M,onNodeDragStop:D,onNodesDelete:H,onEdgesDelete:V,onDelete:j,onSelectionChange:B,onSelectionDragStart:K,onSelectionDrag:ne,onSelectionDragStop:$,onSelectionContextMenu:ee,onSelectionStart:re,onSelectionEnd:ce,onBeforeDelete:de,connectionMode:Y,connectionLineType:W=oo.Bezier,connectionLineStyle:me,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:le="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:_e=!1,selectionMode:Ce=Q0.Full,panActivationKeyCode:Le="Space",multiSelectionKeyCode:He=J0()?"Meta":"Control",zoomActivationKeyCode:Ue=J0()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ge,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:it,nodesDraggable:$e,autoPanOnNodeFocus:Gt,nodesConnectable:st,nodesFocusable:kt,nodeOrigin:Vn=cM,edgesFocusable:jn,edgesReconnectable:Yt,elementsSelectable:Zt=!0,defaultViewport:$n=tH,minZoom:yr=.5,maxZoom:_r=2,translateExtent:Un=K0,preventScrolling:ws=!0,nodeExtent:Ti,defaultMarkerColor:xs="#b1b1b7",zoomOnScroll:Aa=!0,zoomOnPinch:hn=!0,panOnScroll:Ut=!1,panOnScrollSpeed:br=.5,panOnScrollMode:sn=wl.Free,zoomOnDoubleClick:Ul=!0,panOnDrag:Ss=!0,onPaneClick:Hl,onPaneMouseEnter:ei,onPaneMouseMove:Ca,onPaneMouseLeave:fn,onPaneScroll:ti,onPaneContextMenu:ni,paneClickDistance:Or=1,nodeClickDistance:Ic=0,children:Fl,onReconnect:ri,onReconnectStart:Ra,onReconnectEnd:Nc,onEdgeContextMenu:Ia,onEdgeDoubleClick:zo,onEdgeMouseEnter:Lo,onEdgeMouseMove:Na,onEdgeMouseLeave:Ai,reconnectRadius:Gl=10,onNodesChange:zr,onEdgesChange:Lr,noDragClassName:dn="nodrag",noWheelClassName:En="nowheel",noPanClassName:Vr="nopan",fitView:Ma,fitViewOptions:$l,connectOnClick:Yl,attributionPosition:Xl,proOptions:ii,defaultEdgeOptions:Es,elevateNodesOnSelect:ai=!0,elevateEdgesOnSelect:wr=!1,disableKeyboardA11y:rr=!1,autoPanOnConnect:si,autoPanOnNodeDrag:mn,autoPanSpeed:Vo,connectionRadius:qo,isValidConnection:oi,onError:li,style:Po,id:Ts,nodeDragThreshold:Bo,connectionDragThreshold:Kl,viewport:As,onViewportChange:cr,width:pn,height:Tn,colorMode:Ki="light",debug:jo,onScroll:At,ariaLabelConfig:ka,zIndexMode:qr="basic",...Da},ir){const Qi=Ts||"1",Ql=aH(Ki),Uo=oe.useCallback(Ci=>{Ci.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),At?.(Ci)},[At]);return k.jsx("div",{"data-testid":"rf__wrapper",...Da,onScroll:Uo,style:{...Po,...AF},ref:ir,className:On(["react-flow",i,Ql]),id:Ts,role:"application",children:k.jsxs(TF,{nodes:t,edges:e,width:pn,height:Tn,fitView:Ma,fitViewOptions:$l,minZoom:yr,maxZoom:_r,nodeOrigin:Vn,nodeExtent:Ti,zIndexMode:qr,children:[k.jsx(xF,{onInit:f,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:O,onNodeMouseMove:A,onNodeMouseLeave:z,onNodeContextMenu:U,onNodeDoubleClick:q,nodeTypes:s,edgeTypes:l,connectionLineType:W,connectionLineStyle:me,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:he,selectionOnDrag:_e,selectionMode:Ce,deleteKeyCode:le,multiSelectionKeyCode:He,panActivationKeyCode:Le,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Be,defaultViewport:$n,translateExtent:Un,minZoom:yr,maxZoom:_r,preventScrolling:ws,zoomOnScroll:Aa,zoomOnPinch:hn,zoomOnDoubleClick:Ul,panOnScroll:Ut,panOnScrollSpeed:br,panOnScrollMode:sn,panOnDrag:Ss,onPaneClick:Hl,onPaneMouseEnter:ei,onPaneMouseMove:Ca,onPaneMouseLeave:fn,onPaneScroll:ti,onPaneContextMenu:ni,paneClickDistance:Or,nodeClickDistance:Ic,onSelectionContextMenu:ee,onSelectionStart:re,onSelectionEnd:ce,onReconnect:ri,onReconnectStart:Ra,onReconnectEnd:Nc,onEdgeContextMenu:Ia,onEdgeDoubleClick:zo,onEdgeMouseEnter:Lo,onEdgeMouseMove:Na,onEdgeMouseLeave:Ai,reconnectRadius:Gl,defaultMarkerColor:xs,noDragClassName:dn,noWheelClassName:En,noPanClassName:Vr,rfId:Qi,disableKeyboardA11y:rr,nodeExtent:Ti,viewport:As,onViewportChange:cr}),k.jsx(iH,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:x,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,nodesDraggable:$e,autoPanOnNodeFocus:Gt,nodesConnectable:st,nodesFocusable:kt,edgesFocusable:jn,edgesReconnectable:Yt,elementsSelectable:Zt,elevateNodesOnSelect:ai,elevateEdgesOnSelect:wr,minZoom:yr,maxZoom:_r,nodeExtent:Ti,onNodesChange:zr,onEdgesChange:Lr,snapToGrid:Pe,snapGrid:Ge,connectionMode:Y,translateExtent:Un,connectOnClick:Yl,defaultEdgeOptions:Es,fitView:Ma,fitViewOptions:$l,onNodesDelete:H,onEdgesDelete:V,onDelete:j,onNodeDragStart:R,onNodeDrag:M,onNodeDragStop:D,onSelectionDrag:ne,onSelectionDragStart:K,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:v,noPanClassName:Vr,nodeOrigin:Vn,rfId:Qi,autoPanOnConnect:si,autoPanOnNodeDrag:mn,autoPanSpeed:Vo,onError:li,connectionRadius:qo,isValidConnection:oi,selectNodesOnDrag:it,nodeDragThreshold:Bo,connectionDragThreshold:Kl,onBeforeDelete:de,debug:jo,ariaLabelConfig:ka,zIndexMode:qr}),k.jsx(eH,{onSelectionChange:B}),Fl,k.jsx(KU,{proOptions:ii,position:Xl}),k.jsx(XU,{rfId:Qi,disableKeyboardA11y:rr})]})})}var RF=mM(CF);function IF(t){const[e,n]=oe.useState(t),r=oe.useCallback(i=>n(s=>fM(i,s)),[]);return[e,n,r]}function NF(t){const[e,n]=oe.useState(t),r=oe.useCallback(i=>n(s=>dM(i,s)),[]);return[e,n,r]}function MF({dimensions:t,lineWidth:e,variant:n,className:r}){return k.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:On(["react-flow__background-pattern",n,r])})}function kF({radius:t,className:e}){return k.jsx("circle",{cx:t,cy:t,r:t,className:On(["react-flow__background-pattern","dots",e])})}var po;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(po||(po={}));const DF={[po.Dots]:1,[po.Lines]:1,[po.Cross]:6},OF=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function qM({id:t,variant:e=po.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:l,bgColor:c,style:h,className:f,patternClassName:m}){const p=oe.useRef(null),{transform:v,patternId:b}=Et(OF,tn),x=r||DF[e],S=e===po.Dots,E=e===po.Cross,C=Array.isArray(n)?n:[n,n],O=[C[0]*v[2]||1,C[1]*v[2]||1],A=x*v[2],z=Array.isArray(s)?s:[s,s],U=E?[A,A]:O,q=[z[0]*v[2]||1+U[0]/2,z[1]*v[2]||1+U[1]/2],R=`${b}${t||""}`;return k.jsxs("svg",{className:On(["react-flow__background",f]),style:{...h,...Gm,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[k.jsx("pattern",{id:R,x:v[0]%O[0],y:v[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${q[0]},-${q[1]})`,children:S?k.jsx(kF,{radius:A/2,className:m}):k.jsx(MF,{dimensions:U,lineWidth:i,variant:e,className:m})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}qM.displayName="Background";const zF=oe.memo(qM);function LF(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function VF(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function qF(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function PF(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function BF(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function pd({children:t,className:e,...n}){return k.jsx("button",{type:"button",className:On(["react-flow__controls-button",e]),...n,children:t})}const jF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function PM({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:h,className:f,children:m,position:p="bottom-left",orientation:v="vertical","aria-label":b}){const x=nn(),{isInteractive:S,minZoomReached:E,maxZoomReached:C,ariaLabelConfig:O}=Et(jF,tn),{zoomIn:A,zoomOut:z,fitView:U}=e_(),q=()=>{A(),s?.()},R=()=>{z(),l?.()},M=()=>{U(i),c?.()},D=()=>{x.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),h?.(!S)},H=v==="horizontal"?"horizontal":"vertical";return k.jsxs(Fm,{className:On(["react-flow__controls",H,f]),position:p,style:t,"data-testid":"rf__controls","aria-label":b??O["controls.ariaLabel"],children:[e&&k.jsxs(k.Fragment,{children:[k.jsx(pd,{onClick:q,className:"react-flow__controls-zoomin",title:O["controls.zoomIn.ariaLabel"],"aria-label":O["controls.zoomIn.ariaLabel"],disabled:C,children:k.jsx(LF,{})}),k.jsx(pd,{onClick:R,className:"react-flow__controls-zoomout",title:O["controls.zoomOut.ariaLabel"],"aria-label":O["controls.zoomOut.ariaLabel"],disabled:E,children:k.jsx(VF,{})})]}),n&&k.jsx(pd,{className:"react-flow__controls-fitview",onClick:M,title:O["controls.fitView.ariaLabel"],"aria-label":O["controls.fitView.ariaLabel"],children:k.jsx(qF,{})}),r&&k.jsx(pd,{className:"react-flow__controls-interactive",onClick:D,title:O["controls.interactive.ariaLabel"],"aria-label":O["controls.interactive.ariaLabel"],children:S?k.jsx(BF,{}):k.jsx(PF,{})}),m]})}PM.displayName="Controls";const UF=oe.memo(PM);function HF({id:t,x:e,y:n,width:r,height:i,style:s,color:l,strokeColor:c,strokeWidth:h,className:f,borderRadius:m,shapeRendering:p,selected:v,onClick:b}){const{background:x,backgroundColor:S}=s||{},E=l||x||S;return k.jsx("rect",{className:On(["react-flow__minimap-node",{selected:v},f]),x:e,y:n,rx:m,ry:m,width:r,height:i,style:{fill:E,stroke:c,strokeWidth:h},shapeRendering:p,onClick:b?C=>b(C,t):void 0})}const FF=oe.memo(HF),GF=t=>t.nodes.map(e=>e.id),Zg=t=>t instanceof Function?t:()=>t;function $F({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=FF,onClick:l}){const c=Et(GF,tn),h=Zg(e),f=Zg(t),m=Zg(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:c.map(v=>k.jsx(XF,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:l,shapeRendering:p},v))})}function YF({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:c,onClick:h}){const{node:f,x:m,y:p,width:v,height:b}=Et(x=>{const{internals:S}=x.nodeLookup.get(t),E=S.userNode,{x:C,y:O}=S.positionAbsolute,{width:A,height:z}=ps(E);return{node:E,x:C,y:O,width:A,height:z}},tn);return!f||f.hidden||!BN(f)?null:k.jsx(c,{x:m,y:p,width:v,height:b,style:f.style,selected:!!f.selected,className:r(f),color:e(f),borderRadius:i,strokeColor:n(f),strokeWidth:s,shapeRendering:l,onClick:h,id:f.id})}const XF=oe.memo(YF);var KF=oe.memo($F);const QF=200,ZF=150,WF=t=>!t.hidden,JF=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?PN(vh(t.nodeLookup,{filter:WF}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},eG="react-flow__minimap-desc";function BM({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:h,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:v="bottom-right",onClick:b,onNodeClick:x,pannable:S=!1,zoomable:E=!1,ariaLabel:C,inversePan:O,zoomStep:A=1,offsetScale:z=5}){const U=nn(),q=oe.useRef(null),{boundingRect:R,viewBB:M,rfId:D,panZoom:H,translateExtent:V,flowWidth:j,flowHeight:B,ariaLabelConfig:K}=Et(JF,tn),ne=t?.width??QF,$=t?.height??ZF,ee=R.width/ne,re=R.height/$,ce=Math.max(ee,re),de=ce*ne,Y=ce*$,W=z*ce,me=R.x-(de-R.width)/2-W,Q=R.y-(Y-R.height)/2-W,ie=de+W*2,le=Y+W*2,he=`${eG}-${D}`,_e=oe.useRef(0),Ce=oe.useRef();_e.current=ce,oe.useEffect(()=>{if(q.current&&H)return Ce.current=pU({domNode:q.current,panZoom:H,getTransform:()=>U.getState().transform,getViewScale:()=>_e.current}),()=>{Ce.current?.destroy()}},[H]),oe.useEffect(()=>{Ce.current?.update({translateExtent:V,width:j,height:B,inversePan:O,pannable:S,zoomStep:A,zoomable:E})},[S,E,O,A,V,j,B]);const Le=b?Pe=>{const[Ge,Be]=Ce.current?.pointer(Pe)||[0,0];b(Pe,{x:Ge,y:Be})}:void 0,He=x?oe.useCallback((Pe,Ge)=>{const Be=U.getState().nodeLookup.get(Ge).internals.userNode;x(Pe,Be)},[]):void 0,Ue=C??K["minimap.ariaLabel"];return k.jsx(Fm,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*ce:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:On(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:ne,height:$,viewBox:`${me} ${Q} ${ie} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":he,ref:q,onClick:Le,children:[Ue&&k.jsx("title",{id:he,children:Ue}),k.jsx(KF,{onClick:He,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${me-W},${Q-W}h${ie+W*2}v${le+W*2}h${-ie-W*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}BM.displayName="MiniMap";const tG=oe.memo(BM),nG=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,rG={[nc.Line]:"right",[nc.Handle]:"bottom-right"};function iG({nodeId:t,position:e,variant:n=nc.Handle,className:r,style:i=void 0,children:s,color:l,minWidth:c=10,minHeight:h=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:v,autoScale:b=!0,shouldResize:x,onResizeStart:S,onResize:E,onResizeEnd:C}){const O=yM(),A=typeof t=="string"?t:O,z=nn(),U=oe.useRef(null),q=n===nc.Handle,R=Et(oe.useCallback(nG(q&&b),[q,b]),tn),M=oe.useRef(null),D=e??rG[n];oe.useEffect(()=>{if(!(!U.current||!A))return M.current||(M.current=IU({domNode:U.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:V,transform:j,snapGrid:B,snapToGrid:K,nodeOrigin:ne,domNode:$}=z.getState();return{nodeLookup:V,transform:j,snapGrid:B,snapToGrid:K,nodeOrigin:ne,paneDomNode:$}},onChange:(V,j)=>{const{triggerNodeChanges:B,nodeLookup:K,parentLookup:ne,nodeOrigin:$}=z.getState(),ee=[],re={x:V.x,y:V.y},ce=K.get(A);if(ce&&ce.expandParent&&ce.parentId){const de=ce.origin??$,Y=V.width??ce.measured.width??0,W=V.height??ce.measured.height??0,me={id:ce.id,parentId:ce.parentId,rect:{width:Y,height:W,...jN({x:V.x??ce.position.x,y:V.y??ce.position.y},{width:Y,height:W},ce.parentId,K,de)}},Q=J6([me],K,ne,$);ee.push(...Q),re.x=V.x?Math.max(de[0]*Y,V.x):void 0,re.y=V.y?Math.max(de[1]*W,V.y):void 0}if(re.x!==void 0&&re.y!==void 0){const de={id:A,type:"position",position:{...re}};ee.push(de)}if(V.width!==void 0&&V.height!==void 0){const Y={id:A,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:V.width,height:V.height}};ee.push(Y)}for(const de of j){const Y={...de,type:"position"};ee.push(Y)}B(ee)},onEnd:({width:V,height:j})=>{const B={id:A,type:"dimensions",resizing:!1,dimensions:{width:V,height:j}};z.getState().triggerNodeChanges([B])}})),M.current.update({controlPosition:D,boundaries:{minWidth:c,minHeight:h,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:v,onResizeStart:S,onResize:E,onResizeEnd:C,shouldResize:x}),()=>{M.current?.destroy()}},[D,c,h,f,m,p,S,E,C,x]);const H=D.split("-");return k.jsx("div",{className:On(["react-flow__resize-control","nodrag",...H,n,r]),ref:U,style:{...i,scale:R,...l&&{[q?"backgroundColor":"borderColor"]:l}},children:s})}oe.memo(iG);const aG=()=>{};var Sx={};const jM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},UM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(v=64)),r.push(n[m],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new oG;const v=s<<2|c>>4;if(r.push(v),f!==64){const b=c<<4&240|f>>2;if(r.push(b),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lG=function(t){const e=jM(t);return UM.encodeByteArray(e,!0)},sm=function(t){return lG(t).replace(/\./g,"")},HM=function(t){try{return UM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cG=()=>uG().__FIREBASE_DEFAULTS__,hG=()=>{if(typeof process>"u"||typeof Sx>"u")return;const t=Sx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HM(t[1]);return e&&JSON.parse(e)},Ym=()=>{try{return aG()||cG()||hG()||fG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FM=t=>Ym()?.emulatorHosts?.[t],dG=t=>{const e=FM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GM=()=>Ym()?.config,$M=t=>Ym()?.[`_${t}`];class mG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function dc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YM(t){return(await fetch(t,{credentials:"include"})).ok}function pG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sm(JSON.stringify(n)),sm(JSON.stringify(l)),""].join(".")}const V0={};function gG(){const t={prod:[],emulator:[]};for(const e of Object.keys(V0))V0[e]?t.emulator.push(e):t.prod.push(e);return t}function vG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ex=!1;function XM(t,e){if(typeof window>"u"||typeof document>"u"||!dc(window.location.host)||V0[t]===e||V0[t]||Ex)return;V0[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=gG().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Ex=!0,l()},v}function m(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=vG(r),b=n("text"),x=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const A=v.element;c(A),m(E,S);const z=f();h(O,C),A.append(O,x,E,z),document.body.appendChild(A)}s?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function _G(){const t=Ym()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SG(){const t=ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EG(){return!_G()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TG(){try{return typeof indexedDB=="object"}catch{return!1}}function AG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const CG="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CG,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bh.prototype.create)}}class bh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?RG(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new gs(i,c,r)}}function RG(t,e){return t.replace(IG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IG=/\{\$([^}]+)}/g;function NG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(Tx(s)&&Tx(l)){if(!Il(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tx(t){return t!==null&&typeof t=="object"}function wh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MG(t,e){const n=new kG(t,e);return n.subscribe.bind(n)}class kG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wg),i.error===void 0&&(i.error=Wg),i.complete===void 0&&(i.complete=Wg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wg(){}function Dn(t){return t&&t._delegate?t._delegate:t}class Nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gl="[DEFAULT]";class OG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LG(e))try{this.getOrInitializeService({instanceIdentifier:gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gl){return this.instances.has(e)}getOptions(e=gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gl){return this.component?this.component.multipleInstances?e:gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zG(t){return t===gl?void 0:t}function LG(t){return t.instantiationMode==="EAGER"}class VG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const qG={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},PG=vt.INFO,BG={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},jG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=PG,this._logHandler=jG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const UG=(t,e)=>e.some(n=>t instanceof n);let Ax,Cx;function HG(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FG(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KM=new WeakMap,a6=new WeakMap,QM=new WeakMap,Jg=new WeakMap,r_=new WeakMap;function GG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(go(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&KM.set(n,t)}).catch(()=>{}),r_.set(e,t),e}function $G(t){if(a6.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});a6.set(t,e)}let s6={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a6.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YG(t){s6=t(s6)}function XG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ev(this),e,...n);return QM.set(r,e.sort?e.sort():[e]),go(r)}:FG().includes(t)?function(...e){return t.apply(ev(this),e),go(KM.get(this))}:function(...e){return go(t.apply(ev(this),e))}}function KG(t){return typeof t=="function"?XG(t):(t instanceof IDBTransaction&&$G(t),UG(t,HG())?new Proxy(t,s6):t)}function go(t){if(t instanceof IDBRequest)return GG(t);if(Jg.has(t))return Jg.get(t);const e=KG(t);return e!==t&&(Jg.set(t,e),r_.set(e,t)),e}const ev=t=>r_.get(t);function QG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=go(l);return r&&l.addEventListener("upgradeneeded",h=>{r(go(l.result),h.oldVersion,h.newVersion,go(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const ZG=["get","getKey","getAll","getAllKeys","count"],WG=["put","add","delete","clear"],tv=new Map;function Rx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZG.includes(n)))return;const s=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return tv.set(e,s),s}YG(t=>({...t,get:(e,n,r)=>Rx(e,n)||t.get(e,n,r),has:(e,n)=>!!Rx(e,n)||t.has(e,n)}));class JG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e$(t){return t.getComponent()?.type==="VERSION"}const o6="@firebase/app",Ix="0.14.6";const ls=new n_("@firebase/app"),t$="@firebase/app-compat",n$="@firebase/analytics-compat",r$="@firebase/analytics",i$="@firebase/app-check-compat",a$="@firebase/app-check",s$="@firebase/auth",o$="@firebase/auth-compat",l$="@firebase/database",u$="@firebase/data-connect",c$="@firebase/database-compat",h$="@firebase/functions",f$="@firebase/functions-compat",d$="@firebase/installations",m$="@firebase/installations-compat",p$="@firebase/messaging",g$="@firebase/messaging-compat",v$="@firebase/performance",y$="@firebase/performance-compat",_$="@firebase/remote-config",b$="@firebase/remote-config-compat",w$="@firebase/storage",x$="@firebase/storage-compat",S$="@firebase/firestore",E$="@firebase/ai",T$="@firebase/firestore-compat",A$="firebase",C$="12.6.0";const l6="[DEFAULT]",R$={[o6]:"fire-core",[t$]:"fire-core-compat",[r$]:"fire-analytics",[n$]:"fire-analytics-compat",[a$]:"fire-app-check",[i$]:"fire-app-check-compat",[s$]:"fire-auth",[o$]:"fire-auth-compat",[l$]:"fire-rtdb",[u$]:"fire-data-connect",[c$]:"fire-rtdb-compat",[h$]:"fire-fn",[f$]:"fire-fn-compat",[d$]:"fire-iid",[m$]:"fire-iid-compat",[p$]:"fire-fcm",[g$]:"fire-fcm-compat",[v$]:"fire-perf",[y$]:"fire-perf-compat",[_$]:"fire-rc",[b$]:"fire-rc-compat",[w$]:"fire-gcs",[x$]:"fire-gcs-compat",[S$]:"fire-fst",[T$]:"fire-fst-compat",[E$]:"fire-vertex","fire-js":"fire-js",[A$]:"fire-js-all"};const om=new Map,I$=new Map,u6=new Map;function Nx(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ic(t){const e=t.name;if(u6.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;u6.set(e,t);for(const n of om.values())Nx(n,t);for(const n of I$.values())Nx(n,t);return!0}function i_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}const N$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new bh("app","Firebase",N$);class M${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}const mc=C$;function ZM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:l6,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=GM()),!n)throw vo.create("no-options");const s=om.get(i);if(s){if(Il(n,s.options)&&Il(r,s.config))return s;throw vo.create("duplicate-app",{appName:i})}const l=new VG(i);for(const h of u6.values())l.addComponent(h);const c=new M$(n,r,l);return om.set(i,c),c}function WM(t=l6){const e=om.get(t);if(!e&&t===l6&&GM())return ZM();if(!e)throw vo.create("no-app",{appName:t});return e}function yo(t,e,n){let r=R$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(l.join(" "));return}ic(new Nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const k$="firebase-heartbeat-database",D$=1,th="firebase-heartbeat-store";let nv=null;function JM(){return nv||(nv=QG(k$,D$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),nv}async function O$(t){try{const n=(await JM()).transaction(th),r=await n.objectStore(th).get(ek(t));return await n.done,r}catch(e){if(e instanceof gs)ls.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e?.message});ls.warn(n.message)}}}async function Mx(t,e){try{const r=(await JM()).transaction(th,"readwrite");await r.objectStore(th).put(e,ek(t)),await r.done}catch(n){if(n instanceof gs)ls.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n?.message});ls.warn(r.message)}}}function ek(t){return`${t.name}!${t.options.appId}`}const z$=1024,L$=30;class V${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>L$){const i=B$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kx(),{heartbeatsToSend:n,unsentEntries:r}=q$(this._heartbeatsCache.heartbeats),i=sm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ls.warn(e),""}}}function kx(){return new Date().toISOString().substring(0,10)}function q$(t,e=z$){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Dx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TG()?AG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dx(t){return sm(JSON.stringify({version:2,heartbeats:t})).length}function B$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function j$(t){ic(new Nl("platform-logger",e=>new JG(e),"PRIVATE")),ic(new Nl("heartbeat",e=>new V$(e),"PRIVATE")),yo(o6,Ix,t),yo(o6,Ix,"esm2020"),yo("fire-js","")}j$("");var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _o,tk;(function(){var t;function e(R,M){function D(){}D.prototype=M.prototype,R.F=M.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(H,V,j){for(var B=Array(arguments.length-2),K=2;K<arguments.length;K++)B[K-2]=arguments[K];return M.prototype[V].apply(H,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,M,D){D||(D=0);const H=Array(16);if(typeof M=="string")for(var V=0;V<16;++V)H[V]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(V=0;V<16;++V)H[V]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=R.g[0],D=R.g[1],V=R.g[2];let j=R.g[3],B;B=M+(j^D&(V^j))+H[0]+3614090360&4294967295,M=D+(B<<7&4294967295|B>>>25),B=j+(V^M&(D^V))+H[1]+3905402710&4294967295,j=M+(B<<12&4294967295|B>>>20),B=V+(D^j&(M^D))+H[2]+606105819&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(M^V&(j^M))+H[3]+3250441966&4294967295,D=V+(B<<22&4294967295|B>>>10),B=M+(j^D&(V^j))+H[4]+4118548399&4294967295,M=D+(B<<7&4294967295|B>>>25),B=j+(V^M&(D^V))+H[5]+1200080426&4294967295,j=M+(B<<12&4294967295|B>>>20),B=V+(D^j&(M^D))+H[6]+2821735955&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(M^V&(j^M))+H[7]+4249261313&4294967295,D=V+(B<<22&4294967295|B>>>10),B=M+(j^D&(V^j))+H[8]+1770035416&4294967295,M=D+(B<<7&4294967295|B>>>25),B=j+(V^M&(D^V))+H[9]+2336552879&4294967295,j=M+(B<<12&4294967295|B>>>20),B=V+(D^j&(M^D))+H[10]+4294925233&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(M^V&(j^M))+H[11]+2304563134&4294967295,D=V+(B<<22&4294967295|B>>>10),B=M+(j^D&(V^j))+H[12]+1804603682&4294967295,M=D+(B<<7&4294967295|B>>>25),B=j+(V^M&(D^V))+H[13]+4254626195&4294967295,j=M+(B<<12&4294967295|B>>>20),B=V+(D^j&(M^D))+H[14]+2792965006&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(M^V&(j^M))+H[15]+1236535329&4294967295,D=V+(B<<22&4294967295|B>>>10),B=M+(V^j&(D^V))+H[1]+4129170786&4294967295,M=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(M^D))+H[6]+3225465664&4294967295,j=M+(B<<9&4294967295|B>>>23),B=V+(M^D&(j^M))+H[11]+643717713&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^M&(V^j))+H[0]+3921069994&4294967295,D=V+(B<<20&4294967295|B>>>12),B=M+(V^j&(D^V))+H[5]+3593408605&4294967295,M=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(M^D))+H[10]+38016083&4294967295,j=M+(B<<9&4294967295|B>>>23),B=V+(M^D&(j^M))+H[15]+3634488961&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^M&(V^j))+H[4]+3889429448&4294967295,D=V+(B<<20&4294967295|B>>>12),B=M+(V^j&(D^V))+H[9]+568446438&4294967295,M=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(M^D))+H[14]+3275163606&4294967295,j=M+(B<<9&4294967295|B>>>23),B=V+(M^D&(j^M))+H[3]+4107603335&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^M&(V^j))+H[8]+1163531501&4294967295,D=V+(B<<20&4294967295|B>>>12),B=M+(V^j&(D^V))+H[13]+2850285829&4294967295,M=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(M^D))+H[2]+4243563512&4294967295,j=M+(B<<9&4294967295|B>>>23),B=V+(M^D&(j^M))+H[7]+1735328473&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^M&(V^j))+H[12]+2368359562&4294967295,D=V+(B<<20&4294967295|B>>>12),B=M+(D^V^j)+H[5]+4294588738&4294967295,M=D+(B<<4&4294967295|B>>>28),B=j+(M^D^V)+H[8]+2272392833&4294967295,j=M+(B<<11&4294967295|B>>>21),B=V+(j^M^D)+H[11]+1839030562&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^M)+H[14]+4259657740&4294967295,D=V+(B<<23&4294967295|B>>>9),B=M+(D^V^j)+H[1]+2763975236&4294967295,M=D+(B<<4&4294967295|B>>>28),B=j+(M^D^V)+H[4]+1272893353&4294967295,j=M+(B<<11&4294967295|B>>>21),B=V+(j^M^D)+H[7]+4139469664&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^M)+H[10]+3200236656&4294967295,D=V+(B<<23&4294967295|B>>>9),B=M+(D^V^j)+H[13]+681279174&4294967295,M=D+(B<<4&4294967295|B>>>28),B=j+(M^D^V)+H[0]+3936430074&4294967295,j=M+(B<<11&4294967295|B>>>21),B=V+(j^M^D)+H[3]+3572445317&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^M)+H[6]+76029189&4294967295,D=V+(B<<23&4294967295|B>>>9),B=M+(D^V^j)+H[9]+3654602809&4294967295,M=D+(B<<4&4294967295|B>>>28),B=j+(M^D^V)+H[12]+3873151461&4294967295,j=M+(B<<11&4294967295|B>>>21),B=V+(j^M^D)+H[15]+530742520&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^M)+H[2]+3299628645&4294967295,D=V+(B<<23&4294967295|B>>>9),B=M+(V^(D|~j))+H[0]+4096336452&4294967295,M=D+(B<<6&4294967295|B>>>26),B=j+(D^(M|~V))+H[7]+1126891415&4294967295,j=M+(B<<10&4294967295|B>>>22),B=V+(M^(j|~D))+H[14]+2878612391&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~M))+H[5]+4237533241&4294967295,D=V+(B<<21&4294967295|B>>>11),B=M+(V^(D|~j))+H[12]+1700485571&4294967295,M=D+(B<<6&4294967295|B>>>26),B=j+(D^(M|~V))+H[3]+2399980690&4294967295,j=M+(B<<10&4294967295|B>>>22),B=V+(M^(j|~D))+H[10]+4293915773&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~M))+H[1]+2240044497&4294967295,D=V+(B<<21&4294967295|B>>>11),B=M+(V^(D|~j))+H[8]+1873313359&4294967295,M=D+(B<<6&4294967295|B>>>26),B=j+(D^(M|~V))+H[15]+4264355552&4294967295,j=M+(B<<10&4294967295|B>>>22),B=V+(M^(j|~D))+H[6]+2734768916&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~M))+H[13]+1309151649&4294967295,D=V+(B<<21&4294967295|B>>>11),B=M+(V^(D|~j))+H[4]+4149444226&4294967295,M=D+(B<<6&4294967295|B>>>26),B=j+(D^(M|~V))+H[11]+3174756917&4294967295,j=M+(B<<10&4294967295|B>>>22),B=V+(M^(j|~D))+H[2]+718787259&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~M))+H[9]+3951481745&4294967295,R.g[0]=R.g[0]+M&4294967295,R.g[1]=R.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,M){M===void 0&&(M=R.length);const D=M-this.blockSize,H=this.C;let V=this.h,j=0;for(;j<M;){if(V==0)for(;j<=D;)i(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<M;)if(H[V++]=R.charCodeAt(j++),V==this.blockSize){i(this,H),V=0;break}}else for(;j<M;)if(H[V++]=R[j++],V==this.blockSize){i(this,H),V=0;break}}this.h=V,this.o+=M},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var M=1;M<R.length-8;++M)R[M]=0;M=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=M&255,M/=256;for(this.v(R),R=Array(16),M=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)R[M++]=this.g[D]>>>H&255;return R};function s(R,M){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=M(R)}function l(R,M){this.h=M;const D=[];let H=!0;for(let V=R.length-1;V>=0;V--){const j=R[V]|0;H&&j==M||(D[V]=j,H=!1)}this.g=D}var c={};function h(R){return-128<=R&&R<128?s(R,function(M){return new l([M|0],M<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return E(f(-R));const M=[];let D=1;for(let H=0;R>=D;H++)M[H]=R/D|0,D*=4294967296;return new l(M,0)}function m(R,M){if(R.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(R.charAt(0)=="-")return E(m(R.substring(1),M));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(M,8));let H=p;for(let j=0;j<R.length;j+=8){var V=Math.min(8,R.length-j);const B=parseInt(R.substring(j,j+V),M);V<8?(V=f(Math.pow(M,V)),H=H.j(V).add(f(B))):(H=H.j(D),H=H.add(f(B)))}return H}var p=h(0),v=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let R=0,M=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);R+=(H>=0?H:4294967296+H)*M,M*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(S(this))return"-"+E(this).toString(R);const M=f(Math.pow(R,6));var D=this;let H="";for(;;){const V=z(D,M).g;D=C(D,V.j(M));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=V,x(D))return j+H;for(;j.length<6;)j="0"+j;H=j+H}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(let M=0;M<R.g.length;M++)if(R.g[M]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=C(this,R),S(R)?-1:x(R)?0:1};function E(R){const M=R.g.length,D=[];for(let H=0;H<M;H++)D[H]=~R.g[H];return new l(D,~R.h).add(v)}t.abs=function(){return S(this)?E(this):this},t.add=function(R){const M=Math.max(this.g.length,R.g.length),D=[];let H=0;for(let V=0;V<=M;V++){let j=H+(this.i(V)&65535)+(R.i(V)&65535),B=(j>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);H=B>>>16,j&=65535,B&=65535,D[V]=B<<16|j}return new l(D,D[D.length-1]&-2147483648?-1:0)};function C(R,M){return R.add(E(M))}t.j=function(R){if(x(this)||x(R))return p;if(S(this))return S(R)?E(this).j(E(R)):E(E(this).j(R));if(S(R))return E(this.j(E(R)));if(this.l(b)<0&&R.l(b)<0)return f(this.m()*R.m());const M=this.g.length+R.g.length,D=[];for(var H=0;H<2*M;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let V=0;V<R.g.length;V++){const j=this.i(H)>>>16,B=this.i(H)&65535,K=R.i(V)>>>16,ne=R.i(V)&65535;D[2*H+2*V]+=B*ne,O(D,2*H+2*V),D[2*H+2*V+1]+=j*ne,O(D,2*H+2*V+1),D[2*H+2*V+1]+=B*K,O(D,2*H+2*V+1),D[2*H+2*V+2]+=j*K,O(D,2*H+2*V+2)}for(R=0;R<M;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=M;R<2*M;R++)D[R]=0;return new l(D,0)};function O(R,M){for(;(R[M]&65535)!=R[M];)R[M+1]+=R[M]>>>16,R[M]&=65535,M++}function A(R,M){this.g=R,this.h=M}function z(R,M){if(x(M))throw Error("division by zero");if(x(R))return new A(p,p);if(S(R))return M=z(E(R),M),new A(E(M.g),E(M.h));if(S(M))return M=z(R,E(M)),new A(E(M.g),M.h);if(R.g.length>30){if(S(R)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var D=v,H=M;H.l(R)<=0;)D=U(D),H=U(H);var V=q(D,1),j=q(H,1);for(H=q(H,2),D=q(D,2);!x(H);){var B=j.add(H);B.l(R)<=0&&(V=V.add(D),j=B),H=q(H,1),D=q(D,1)}return M=C(R,V.j(M)),new A(V,M)}for(V=p;R.l(M)>=0;){for(D=Math.max(1,Math.floor(R.m()/M.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),j=f(D),B=j.j(M);S(B)||B.l(R)>0;)D-=H,j=f(D),B=j.j(M);x(j)&&(j=v),V=V.add(j),R=C(R,B)}return new A(V,R)}t.B=function(R){return z(this,R).h},t.and=function(R){const M=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)&R.i(H);return new l(D,this.h&R.h)},t.or=function(R){const M=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)|R.i(H);return new l(D,this.h|R.h)},t.xor=function(R){const M=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)^R.i(H);return new l(D,this.h^R.h)};function U(R){const M=R.g.length+1,D=[];for(let H=0;H<M;H++)D[H]=R.i(H)<<1|R.i(H-1)>>>31;return new l(D,R.h)}function q(R,M){const D=M>>5;M%=32;const H=R.g.length-D,V=[];for(let j=0;j<H;j++)V[j]=M>0?R.i(j+D)>>>M|R.i(j+D+1)<<32-M:R.i(j+D);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,_o=l}).apply(typeof Ox<"u"?Ox:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nk,C0,rk,Ld,c6,ik,ak,sk;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var T=0;T<g.length;++T){var L=g[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var L=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var fe=g[X];if(!(fe in L))break e;L=L[fe]}g=g[g.length-1],X=L[g],T=T(X),T!=X&&T!=null&&e(L,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var L=[],X;for(X in T)Object.prototype.hasOwnProperty.call(T,X)&&L.push([X,T[X]]);return L}});var s=s||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function h(g,T,L){return g.call.apply(g.bind,arguments)}function f(g,T,L){return f=h,f.apply(null,arguments)}function m(g,T){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function p(g,T){function L(){}L.prototype=T.prototype,g.Z=T.prototype,g.prototype=new L,g.prototype.constructor=g,g.Ob=function(X,fe,be){for(var Me=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Me[ot-2]=arguments[ot];return T.prototype[fe].apply(X,Me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const T=g.length;if(T>0){const L=Array(T);for(let X=0;X<T;X++)L[X]=g[X];return L}return[]}function x(g,T){for(let X=1;X<arguments.length;X++){const fe=arguments[X];var L=typeof fe;if(L=L!="object"?L:fe?Array.isArray(fe)?"array":L:"null",L=="array"||L=="object"&&typeof fe.length=="number"){L=g.length||0;const be=fe.length||0;g.length=L+be;for(let Me=0;Me<be;Me++)g[L+Me]=fe[Me]}else g.push(fe)}}class S{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(g){l.setTimeout(()=>{throw g},0)}function C(){var g=R;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class O{constructor(){this.h=this.g=null}add(T,L){const X=A.get();X.set(T,L),this.h?this.h.next=X:this.g=X,this.h=X}}var A=new S(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let U,q=!1,R=new O,M=()=>{const g=Promise.resolve(void 0);U=()=>{g.then(D)}};function D(){for(var g;g=C();){try{g.h.call(g.g)}catch(L){E(L)}var T=A;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}q=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};l.addEventListener("test",L,T),l.removeEventListener("test",L,T)}catch{}return g})();function B(g){return/^[\s\xa0]*$/.test(g)}function K(g,T){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(K,V),K.prototype.init=function(g,T){const L=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(L=="mouseover"?T=g.fromElement:L=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),$=0;function ee(g,T,L,X,fe){this.listener=g,this.proxy=null,this.src=T,this.type=L,this.capture=!!X,this.ha=fe,this.key=++$,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ce(g,T,L){for(const X in g)T.call(L,g[X],X,g)}function de(g,T){for(const L in g)T.call(void 0,g[L],L,g)}function Y(g){const T={};for(const L in g)T[L]=g[L];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(g,T){let L,X;for(let fe=1;fe<arguments.length;fe++){X=arguments[fe];for(L in X)g[L]=X[L];for(let be=0;be<W.length;be++)L=W[be],Object.prototype.hasOwnProperty.call(X,L)&&(g[L]=X[L])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,T,L,X,fe){const be=g.toString();g=this.g[be],g||(g=this.g[be]=[],this.h++);const Me=le(g,T,X,fe);return Me>-1?(T=g[Me],L||(T.fa=!1)):(T=new ee(T,this.src,be,!!X,fe),T.fa=L,g.push(T)),T};function ie(g,T){const L=T.type;if(L in g.g){var X=g.g[L],fe=Array.prototype.indexOf.call(X,T,void 0),be;(be=fe>=0)&&Array.prototype.splice.call(X,fe,1),be&&(re(T),g.g[L].length==0&&(delete g.g[L],g.h--))}}function le(g,T,L,X){for(let fe=0;fe<g.length;++fe){const be=g[fe];if(!be.da&&be.listener==T&&be.capture==!!L&&be.ha==X)return fe}return-1}var he="closure_lm_"+(Math.random()*1e6|0),_e={};function Ce(g,T,L,X,fe){if(Array.isArray(T)){for(let be=0;be<T.length;be++)Ce(g,T[be],L,X,fe);return null}return L=Gt(L),g&&g[ne]?g.J(T,L,c(X)?!!X.capture:!1,fe):Le(g,T,L,!1,X,fe)}function Le(g,T,L,X,fe,be){if(!T)throw Error("Invalid event type");const Me=c(fe)?!!fe.capture:!!fe;let ot=it(g);if(ot||(g[he]=ot=new Q(g)),L=ot.add(T,L,X,Me,be),L.proxy)return L;if(X=He(),L.proxy=X,X.src=g,X.listener=L,g.addEventListener)j||(fe=Me),fe===void 0&&(fe=!1),g.addEventListener(T.toString(),X,fe);else if(g.attachEvent)g.attachEvent(Ge(T.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function He(){function g(L){return T.call(g.src,g.listener,L)}const T=Be;return g}function Ue(g,T,L,X,fe){if(Array.isArray(T))for(var be=0;be<T.length;be++)Ue(g,T[be],L,X,fe);else X=c(X)?!!X.capture:!!X,L=Gt(L),g&&g[ne]?(g=g.i,be=String(T).toString(),be in g.g&&(T=g.g[be],L=le(T,L,X,fe),L>-1&&(re(T[L]),Array.prototype.splice.call(T,L,1),T.length==0&&(delete g.g[be],g.h--)))):g&&(g=it(g))&&(T=g.g[T.toString()],g=-1,T&&(g=le(T,L,X,fe)),(L=g>-1?T[g]:null)&&Pe(L))}function Pe(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[ne])ie(T.i,g);else{var L=g.type,X=g.proxy;T.removeEventListener?T.removeEventListener(L,X,g.capture):T.detachEvent?T.detachEvent(Ge(L),X):T.addListener&&T.removeListener&&T.removeListener(X),(L=it(T))?(ie(L,g),L.h==0&&(L.src=null,T[he]=null)):re(g)}}}function Ge(g){return g in _e?_e[g]:_e[g]="on"+g}function Be(g,T){if(g.da)g=!0;else{T=new K(T,this);const L=g.listener,X=g.ha||g.src;g.fa&&Pe(g),g=L.call(X,T)}return g}function it(g){return g=g[he],g instanceof Q?g:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gt(g){return typeof g=="function"?g:(g[$e]||(g[$e]=function(T){return g.handleEvent(T)}),g[$e])}function st(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}p(st,H),st.prototype[ne]=!0,st.prototype.removeEventListener=function(g,T,L,X){Ue(this,g,T,L,X)};function kt(g,T){var L,X=g.G;if(X)for(L=[];X;X=X.G)L.push(X);if(g=g.M,X=T.type||T,typeof T=="string")T=new V(T,g);else if(T instanceof V)T.target=T.target||g;else{var fe=T;T=new V(X,g),me(T,fe)}fe=!0;let be,Me;if(L)for(Me=L.length-1;Me>=0;Me--)be=T.g=L[Me],fe=Vn(be,X,!0,T)&&fe;if(be=T.g=g,fe=Vn(be,X,!0,T)&&fe,fe=Vn(be,X,!1,T)&&fe,L)for(Me=0;Me<L.length;Me++)be=T.g=L[Me],fe=Vn(be,X,!1,T)&&fe}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const L=g.g[T];for(let X=0;X<L.length;X++)re(L[X]);delete g.g[T],g.h--}}this.G=null},st.prototype.J=function(g,T,L,X){return this.i.add(String(g),T,!1,L,X)},st.prototype.K=function(g,T,L,X){return this.i.add(String(g),T,!0,L,X)};function Vn(g,T,L,X){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let fe=!0;for(let be=0;be<T.length;++be){const Me=T[be];if(Me&&!Me.da&&Me.capture==L){const ot=Me.listener,_n=Me.ha||Me.src;Me.fa&&ie(g.i,Me),fe=ot.call(_n,X)!==!1&&fe}}return fe&&!X.defaultPrevented}function jn(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Yt(g){g.g=jn(()=>{g.g=null,g.i&&(g.i=!1,Yt(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Zt extends H{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Yt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(g){H.call(this),this.h=g,this.g={}}p($n,H);var yr=[];function _r(g){ce(g.g,function(T,L){this.g.hasOwnProperty(L)&&Pe(T)},g),g.g={}}$n.prototype.N=function(){$n.Z.N.call(this),_r(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=l.JSON.stringify,ws=l.JSON.parse,Ti=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function xs(){}function Aa(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){V.call(this,"d")}p(Ut,V);function br(){V.call(this,"c")}p(br,V);var sn={},Ul=null;function Ss(){return Ul=Ul||new st}sn.Ia="serverreachability";function Hl(g){V.call(this,sn.Ia,g)}p(Hl,V);function ei(g){const T=Ss();kt(T,new Hl(T))}sn.STAT_EVENT="statevent";function Ca(g,T){V.call(this,sn.STAT_EVENT,g),this.stat=T}p(Ca,V);function fn(g){const T=Ss();kt(T,new Ca(T,g))}sn.Ja="timingevent";function ti(g,T){V.call(this,sn.Ja,g),this.size=T}p(ti,V);function ni(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Or(){this.g=!0}Or.prototype.ua=function(){this.g=!1};function Ic(g,T,L,X,fe,be){g.info(function(){if(g.g)if(be){var Me="",ot=be.split("&");for(let Nt=0;Nt<ot.length;Nt++){var _n=ot[Nt].split("=");if(_n.length>1){const Wt=_n[0];_n=_n[1];const hi=Wt.split("_");Me=hi.length>=2&&hi[1]=="type"?Me+(Wt+"="+_n+"&"):Me+(Wt+"=redacted&")}}}else Me=null;else Me=be;return"XMLHTTP REQ ("+X+") [attempt "+fe+"]: "+T+`
`+L+`
`+Me})}function Fl(g,T,L,X,fe,be,Me){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+fe+"]: "+T+`
`+L+`
`+be+" "+Me})}function ri(g,T,L,X){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Nc(g,L)+(X?" "+X:"")})}function Ra(g,T){g.info(function(){return"TIMEOUT: "+T})}Or.prototype.info=function(){};function Nc(g,T){if(!g.g)return T;if(!T)return null;try{const be=JSON.parse(T);if(be){for(g=0;g<be.length;g++)if(Array.isArray(be[g])){var L=be[g];if(!(L.length<2)){var X=L[1];if(Array.isArray(X)&&!(X.length<1)){var fe=X[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(let Me=1;Me<X.length;Me++)X[Me]=""}}}}return Un(be)}catch{return T}}var Ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Na(){}p(Na,xs),Na.prototype.g=function(){return new XMLHttpRequest},Lo=new Na;function Ai(g){return encodeURIComponent(String(g))}function Gl(g){var T=1;g=g.split(":");const L=[];for(;T>0&&g.length;)L.push(g.shift()),T--;return g.length&&L.push(g.join(":")),L}function zr(g,T,L,X){this.j=g,this.i=T,this.l=L,this.S=X||1,this.V=new $n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lr}function Lr(){this.i=null,this.g="",this.h=!1}var dn={},En={};function Vr(g,T,L){g.M=1,g.A=ka(pn(T)),g.u=L,g.R=!0,Ma(g,null)}function Ma(g,T){g.F=Date.now(),ii(g),g.B=pn(g.A);var L=g.B,X=g.S;Array.isArray(X)||(X=[String(X)]),Zl(L.i,"t",X),g.C=0,L=g.j.L,g.h=new Lr,g.g=Wh(g.j,L?T:null,!g.u),g.P>0&&(g.O=new Zt(f(g.Y,g,g.g),g.P)),T=g.V,L=g.g,X=g.ba;var fe="readystatechange";Array.isArray(fe)||(fe&&(yr[0]=fe.toString()),fe=yr);for(let be=0;be<fe.length;be++){const Me=Ce(L,fe[be],X||T.handleEvent,!1,T.h||T);if(!Me)break;T.g[Me.key]=Me}T=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),ei(),Ic(g.i,g.v,g.B,g.l,g.S,g.u)}zr.prototype.ba=function(g){g=g.target;const T=this.O;T&&Ni(g)==3?T.j():this.Y(g)},zr.prototype.Y=function(g){try{if(g==this.g)e:{const ot=Ni(this.g),_n=this.g.ya(),Nt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||Yn(this.g)))){this.K||ot!=4||_n==7||(_n==8||Nt<=0?ei(3):ei(2)),ai(this);var T=this.g.ca();this.X=T;var L=$l(this);if(this.o=T==200,Fl(this.i,this.v,this.B,this.l,this.S,ot,T),this.o){if(this.U&&!this.L){t:{if(this.g){var X,fe=this.g;if((X=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(X)){var be=X;break t}}be=null}if(g=be)ri(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,g);else{this.o=!1,this.m=3,fn(12),rr(this),wr(this);break e}}if(this.R){g=!0;let Wt;for(;!this.K&&this.C<L.length;)if(Wt=Xl(this,L),Wt==En){ot==4&&(this.m=4,fn(14),g=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==dn){this.m=4,fn(15),ri(this.i,this.l,L,"[Invalid Chunk]"),g=!1;break}else ri(this.i,this.l,Wt,null),si(this,Wt);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||L.length!=0||this.h.h||(this.m=1,fn(16),g=!1),this.o=this.o&&g,!g)ri(this.i,this.l,L,"[Invalid Chunked Response]"),rr(this),wr(this);else if(L.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),qc(Me),Me.P=!0,fn(11))}}else ri(this.i,this.l,L,null),si(this,L);ot==4&&rr(this),this.o&&!this.K&&(ot==4?Xh(this.j,this):(this.o=!1,ii(this)))}else za(this.g),T==400&&L.indexOf("Unknown SID")>0?(this.m=3,fn(12)):(this.m=0,fn(13)),rr(this),wr(this)}}}catch{}};function $l(g){if(!Yl(g))return g.g.la();const T=Yn(g.g);if(T==="")return"";let L="";const X=T.length,fe=Ni(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return rr(g),wr(g),"";g.h.i=new l.TextDecoder}for(let be=0;be<X;be++)g.h.h=!0,L+=g.h.i.decode(T[be],{stream:!(fe&&be==X-1)});return T.length=0,g.h.g+=L,g.C=0,g.h.g}function Yl(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Xl(g,T){var L=g.C,X=T.indexOf(`
`,L);return X==-1?En:(L=Number(T.substring(L,X)),isNaN(L)?dn:(X+=1,X+L>T.length?En:(T=T.slice(X,X+L),g.C=X+L,T)))}zr.prototype.cancel=function(){this.K=!0,rr(this)};function ii(g){g.T=Date.now()+g.H,Es(g,g.H)}function Es(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ni(f(g.aa,g),T)}function ai(g){g.D&&(l.clearTimeout(g.D),g.D=null)}zr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ra(this.i,this.B),this.M!=2&&(ei(),fn(17)),rr(this),this.m=2,wr(this)):Es(this,this.T-g)};function wr(g){g.j.I==0||g.K||Xh(g.j,g)}function rr(g){ai(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,_r(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function si(g,T){try{var L=g.j;if(L.I!=0&&(L.g==g||li(L.h,g))){if(!g.L&&li(L.h,g)&&L.I==3){try{var X=L.Ba.g.parse(T)}catch{X=null}if(Array.isArray(X)&&X.length==3){var fe=X;if(fe[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<g.F)nu(L),ks(L);else break e;Xo(L),fn(18)}}else L.xa=fe[1],0<L.xa-L.K&&fe[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=ni(f(L.Va,L),6e3));oi(L.h)<=1&&L.ta&&(L.ta=void 0)}else ta(L,11)}else if((g.L||L.g==g)&&nu(L),!B(T))for(fe=L.Ba.g.parse(T),T=0;T<fe.length;T++){let Nt=fe[T];const Wt=Nt[0];if(!(Wt<=L.K))if(L.K=Wt,Nt=Nt[1],L.I==2)if(Nt[0]=="c"){L.M=Nt[1],L.ba=Nt[2];const hi=Nt[3];hi!=null&&(L.ka=hi,L.j.info("VER="+L.ka));const na=Nt[4];na!=null&&(L.za=na,L.j.info("SVER="+L.za));const Mi=Nt[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(X=1.5*Mi,L.O=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const ki=g.g;if(ki){const Ko=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ko){var be=X.h;be.g||Ko.indexOf("spdy")==-1&&Ko.indexOf("quic")==-1&&Ko.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Po(be,be.h),be.h=null))}if(X.G){const ru=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(X.wa=ru,At(X.J,X.G,ru))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-g.F,L.j.info("Handshake RTT: "+L.T+"ms")),X=L;var Me=g;if(X.na=Zh(X,X.L?X.ba:null,X.W),Me.L){Ts(X.h,Me);var ot=Me,_n=X.O;_n&&(ot.H=_n),ot.D&&(ai(ot),ii(ot)),X.g=Me}else $h(X);L.i.length>0&&ea(L)}else Nt[0]!="stop"&&Nt[0]!="close"||ta(L,7);else L.I==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?ta(L,7):Lc(L):Nt[0]!="noop"&&L.l&&L.l.qa(Nt),L.A=0)}}ei(4)}catch{}}var mn=class{constructor(g,T){this.g=g,this.map=T}};function Vo(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function oi(g){return g.h?1:g.g?g.g.size:0}function li(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Po(g,T){g.g?g.g.add(T):g.h=T}function Ts(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Vo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Bo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const L of g.g.values())T=T.concat(L.G);return T}return b(g.i)}var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(g,T){if(g){g=g.split("&");for(let L=0;L<g.length;L++){const X=g[L].indexOf("=");let fe,be=null;X>=0?(fe=g[L].substring(0,X),be=g[L].substring(X+1)):fe=g[L],T(fe,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function cr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof cr?(this.l=g.l,Tn(this,g.j),this.o=g.o,this.g=g.g,Ki(this,g.u),this.h=g.h,jo(this,Fh(g.i)),this.m=g.m):g&&(T=String(g).match(Kl))?(this.l=!1,Tn(this,T[1]||"",!0),this.o=qr(T[2]||""),this.g=qr(T[3]||"",!0),Ki(this,T[4]),this.h=qr(T[5]||"",!0),jo(this,T[6]||"",!0),this.m=qr(T[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}cr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Da(T,Qi,!0),":");var L=this.g;return(L||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Da(T,Qi,!0),"@"),g.push(Ai(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&g.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(Da(L,L.charAt(0)=="/"?Uo:Ql,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",Da(L,Uh)),g.join("")},cr.prototype.resolve=function(g){const T=pn(this);let L=!!g.j;L?Tn(T,g.j):L=!!g.o,L?T.o=g.o:L=!!g.g,L?T.g=g.g:L=g.u!=null;var X=g.h;if(L)Ki(T,g.u);else if(L=!!g.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var fe=T.h.lastIndexOf("/");fe!=-1&&(X=T.h.slice(0,fe+1)+X)}if(fe=X,fe==".."||fe==".")X="";else if(fe.indexOf("./")!=-1||fe.indexOf("/.")!=-1){X=fe.lastIndexOf("/",0)==0,fe=fe.split("/");const be=[];for(let Me=0;Me<fe.length;){const ot=fe[Me++];ot=="."?X&&Me==fe.length&&be.push(""):ot==".."?((be.length>1||be.length==1&&be[0]!="")&&be.pop(),X&&Me==fe.length&&be.push("")):(be.push(ot),X=!0)}X=be.join("/")}else X=fe}return L?T.h=X:L=g.i.toString()!=="",L?jo(T,Fh(g.i)):L=!!g.m,L&&(T.m=g.m),T};function pn(g){return new cr(g)}function Tn(g,T,L){g.j=L?qr(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Ki(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function jo(g,T,L){T instanceof Cs?(g.i=T,Wl(g.i,g.l)):(L||(T=Da(T,Ci)),g.i=new Cs(T,g.l))}function At(g,T,L){g.i.set(T,L)}function ka(g){return At(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function qr(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Da(g,T,L){return typeof g=="string"?(g=encodeURI(g).replace(T,ir),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ir(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Qi=/[#\/\?@]/g,Ql=/[#\?:]/g,Uo=/[#\?]/g,Ci=/[#\?@]/g,Uh=/#/g;function Cs(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function xr(g){g.g||(g.g=new Map,g.h=0,g.i&&As(g.i,function(T,L){g.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}t=Cs.prototype,t.add=function(g,T){xr(this),this.i=null,g=Rs(this,g);let L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(T),this.h+=1,this};function Hh(g,T){xr(g),T=Rs(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function Mc(g,T){return xr(g),T=Rs(g,T),g.g.has(T)}t.forEach=function(g,T){xr(this),this.g.forEach(function(L,X){L.forEach(function(fe){g.call(T,fe,X,this)},this)},this)};function kc(g,T){xr(g);let L=[];if(typeof T=="string")Mc(g,T)&&(L=L.concat(g.g.get(Rs(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)L=L.concat(g[T]);return L}t.set=function(g,T){return xr(this),this.i=null,g=Rs(this,g),Mc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=kc(this,g),g.length>0?String(g[0]):T):T};function Zl(g,T,L){Hh(g,T),L.length>0&&(g.i=null,g.g.set(Rs(g,T),b(L)),g.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let X=0;X<T.length;X++){var L=T[X];const fe=Ai(L);L=kc(this,L);for(let be=0;be<L.length;be++){let Me=fe;L[be]!==""&&(Me+="="+Ai(L[be])),g.push(Me)}}return this.i=g.join("&")};function Fh(g){const T=new Cs;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Rs(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Wl(g,T){T&&!g.j&&(xr(g),g.i=null,g.g.forEach(function(L,X){const fe=X.toLowerCase();X!=fe&&(Hh(this,X),Zl(this,fe,L))},g)),g.j=T}function Ri(g,T){const L=new Or;if(l.Image){const X=new Image;X.onload=m(ui,L,"TestLoadImage: loaded",!0,T,X),X.onerror=m(ui,L,"TestLoadImage: error",!1,T,X),X.onabort=m(ui,L,"TestLoadImage: abort",!1,T,X),X.ontimeout=m(ui,L,"TestLoadImage: timeout",!1,T,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else T(!1)}function Dc(g,T){const L=new Or,X=new AbortController,fe=setTimeout(()=>{X.abort(),ui(L,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:X.signal}).then(be=>{clearTimeout(fe),be.ok?ui(L,"TestPingServer: ok",!0,T):ui(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(fe),ui(L,"TestPingServer: error",!1,T)})}function ui(g,T,L,X,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),X(L)}catch{}}function Is(){this.g=new Ti}function Zi(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Zi,xs),Zi.prototype.g=function(){return new Ho(this.i,this.h)};function Ho(g,T){st.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ho,st),t=Ho.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Ii(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Ns(this):Ii(this),this.readyState==3&&Jl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ns(this))},t.Na=function(g){this.g&&(this.response=g,Ns(this))},t.ga=function(){this.g&&Ns(this)};function Ns(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ii(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=T.next();return g.join(`\r
`)};function Ii(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ci(g){let T="";return ce(g,function(L,X){T+=X,T+=":",T+=L,T+=`\r
`}),T}function Fo(g,T,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=ci(L),typeof g=="string"?L!=null&&Ai(L):At(g,T,L))}function Lt(g){st.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Lt,st);var Wi=/^https?$/i,Oc=["POST","PUT"];t=Lt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(be){Go(this,be);return}if(g=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var fe in X)L.set(fe,X[fe]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const be of X.keys())L.set(be,X.get(be));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(be=>be.toLowerCase()=="content-type"),fe=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Oc,T,void 0)>=0)||X||fe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Me]of L)this.g.setRequestHeader(be,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(be){Go(this,be)}};function Go(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,zc(g),Oa(g)}function zc(g){g.A||(g.A=!0,kt(g,"complete"),kt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,kt(this,"complete"),kt(this,"abort"),Oa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oa(this,!0)),Lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$o(this):this.Xa())},t.Xa=function(){$o(this)};function $o(g){if(g.h&&typeof s<"u"){if(g.v&&Ni(g)==4)setTimeout(g.Ca.bind(g),0);else if(kt(g,"readystatechange"),Ni(g)==4){g.h=!1;try{const be=g.ca();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var X;if(X=be===0){let Me=String(g.D).match(Kl)[1]||null;!Me&&l.self&&l.self.location&&(Me=l.self.location.protocol.slice(0,-1)),X=!Wi.test(Me?Me.toLowerCase():"")}L=X}if(L)kt(g,"complete"),kt(g,"success");else{g.o=6;try{var fe=Ni(g)>2?g.g.statusText:""}catch{fe=""}g.l=fe+" ["+g.ca()+"]",zc(g)}}finally{Oa(g)}}}}function Oa(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const L=g.g;g.g=null,T||kt(g,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),ws(T)}};function Yn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function za(g){const T={};g=(g.g&&Ni(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(B(g[X]))continue;var L=Gl(g[X]);const fe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const be=T[fe]||[];T[fe]=be,be.push(L)}de(T,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(g,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||T}function Ms(g){this.za=0,this.i=[],this.j=new Or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,g),this.Za=Ji("retryDelaySeedMs",1e4,g),this.Ta=Ji("forwardChannelMaxRetries",2,g),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(g&&g.concurrentRequestLimit),this.Ba=new Is,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ms.prototype,t.ka=8,t.I=1,t.connect=function(g,T,L,X){fn(0),this.W=g,this.H=T||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.J=Zh(this,null,this.W),ea(this)};function Lc(g){if(eu(g),g.I==3){var T=g.V++,L=pn(g.J);if(At(L,"SID",g.M),At(L,"RID",T),At(L,"TYPE","terminate"),Yo(g,L),T=new zr(g,g.j,T),T.M=2,T.A=ka(pn(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!L&&l.Image&&(new Image().src=T.A,L=!0),L||(T.g=Wh(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ii(T)}Qh(g)}function ks(g){g.g&&(qc(g),g.g.cancel(),g.g=null)}function eu(g){ks(g),g.v&&(l.clearTimeout(g.v),g.v=null),nu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function ea(g){if(!qo(g.h)&&!g.m){g.m=!0;var T=g.Ea;U||M(),q||(U(),q=!0),R.add(T,g),g.D=0}}function tu(g,T){return oi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ni(f(g.Ea,g,T),Kh(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const fe=new zr(this,this.j,g);let be=this.o;if(this.U&&(be?(be=Y(be),me(be,this.U)):be=this.U),this.u!==null||this.R||(fe.J=be,be=null),this.S)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(T+=X,T>4096){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=Gh(this,fe,T),L=pn(this.J),At(L,"RID",g),At(L,"CVER",22),this.G&&At(L,"X-HTTP-Session-Id",this.G),Yo(this,L),be&&(this.R?T="headers="+Ai(ci(be))+"&"+T:this.u&&Fo(L,this.u,be)),Po(this.h,fe),this.Ra&&At(L,"TYPE","init"),this.S?(At(L,"$req",T),At(L,"SID","null"),fe.U=!0,Vr(fe,L,null)):Vr(fe,L,T),this.I=2}}else this.I==3&&(g?Vc(this,g):this.i.length==0||qo(this.h)||Vc(this))};function Vc(g,T){var L;T?L=T.l:L=g.V++;const X=pn(g.J);At(X,"SID",g.M),At(X,"RID",L),At(X,"AID",g.K),Yo(g,X),g.u&&g.o&&Fo(X,g.u,g.o),L=new zr(g,g.j,L,g.D+1),g.u===null&&(L.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Gh(g,L,1e3),L.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Po(g.h,L),Vr(L,X,T)}function Yo(g,T){g.H&&ce(g.H,function(L,X){At(T,X,L)}),g.l&&ce({},function(L,X){At(T,X,L)})}function Gh(g,T,L){L=Math.min(g.i.length,L);const X=g.l?f(g.l.Ka,g.l,g):null;e:{var fe=g.i;let ot=-1;for(;;){const _n=["count="+L];ot==-1?L>0?(ot=fe[0].g,_n.push("ofs="+ot)):ot=0:_n.push("ofs="+ot);let Nt=!0;for(let Wt=0;Wt<L;Wt++){var be=fe[Wt].g;const hi=fe[Wt].map;if(be-=ot,be<0)ot=Math.max(0,fe[Wt].g-100),Nt=!1;else try{be="req"+be+"_"||"";try{var Me=hi instanceof Map?hi:Object.entries(hi);for(const[na,Mi]of Me){let ki=Mi;c(Mi)&&(ki=Un(Mi)),_n.push(be+na+"="+encodeURIComponent(ki))}}catch(na){throw _n.push(be+"type="+encodeURIComponent("_badmap")),na}}catch{X&&X(hi)}}if(Nt){Me=_n.join("&");break e}}Me=void 0}return g=g.i.splice(0,L),T.G=g,Me}function $h(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;U||M(),q||(U(),q=!0),R.add(T,g),g.A=0}}function Xo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ni(f(g.Da,g),Kh(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Yh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ni(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fn(10),ks(this),Yh(this))};function qc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Yh(g){g.g=new zr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=pn(g.na);At(T,"RID","rpc"),At(T,"SID",g.M),At(T,"AID",g.K),At(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&At(T,"TO",g.ia),At(T,"TYPE","xmlhttp"),Yo(g,T),g.u&&g.o&&Fo(T,g.u,g.o),g.O&&(g.g.H=g.O);var L=g.g;g=g.ba,L.M=1,L.A=ka(pn(T)),L.u=null,L.R=!0,Ma(L,g)}t.Va=function(){this.C!=null&&(this.C=null,ks(this),Xo(this),fn(19))};function nu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Xh(g,T){var L=null;if(g.g==T){nu(g),qc(g),g.g=null;var X=2}else if(li(g.h,T))L=T.G,Ts(g.h,T),X=1;else return;if(g.I!=0){if(T.o)if(X==1){L=T.u?T.u.length:0,T=Date.now()-T.F;var fe=g.D;X=Ss(),kt(X,new ti(X,L)),ea(g)}else $h(g);else if(fe=T.m,fe==3||fe==0&&T.X>0||!(X==1&&tu(g,T)||X==2&&Xo(g)))switch(L&&L.length>0&&(T=g.h,T.i=T.i.concat(L)),fe){case 1:ta(g,5);break;case 4:ta(g,10);break;case 3:ta(g,6);break;default:ta(g,2)}}}function Kh(g,T){let L=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(L*=2),L*T}function ta(g,T){if(g.j.info("Error code "+T),T==2){var L=f(g.bb,g),X=g.Ua;const fe=!X;X=new cr(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Tn(X,"https"),ka(X),fe?Ri(X.toString(),L):Dc(X.toString(),L)}else fn(2);g.I=0,g.l&&g.l.pa(T),Qh(g),eu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Qh(g){if(g.I=0,g.ja=[],g.l){const T=Bo(g.h);(T.length!=0||g.i.length!=0)&&(x(g.ja,T),x(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Zh(g,T,L){var X=L instanceof cr?pn(L):new cr(L);if(X.g!="")T&&(X.g=T+"."+X.g),Ki(X,X.u);else{var fe=l.location;X=fe.protocol,T=T?T+"."+fe.hostname:fe.hostname,fe=+fe.port;const be=new cr(null);X&&Tn(be,X),T&&(be.g=T),fe&&Ki(be,fe),L&&(be.h=L),X=be}return L=g.G,T=g.wa,L&&T&&At(X,L,T),At(X,"VER",g.ka),Yo(g,X),X}function Wh(g,T,L){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Lt(new Zi({ab:L})):new Lt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jh(){}t=Jh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ds(){}Ds.prototype.g=function(g,T){return new hr(g,T)};function hr(g,T){st.call(this),this.g=new Ms(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!B(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new La(this)}p(hr,st),hr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){Lc(this.g)},hr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.v&&(L={},L.__data__=Un(g),g=L);T.i.push(new mn(T.Ya++,g)),T.I==3&&ea(T)},hr.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,hr.Z.N.call(this)};function ef(g){Ut.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const L in T){g=L;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(ef,Ut);function tf(){br.call(this),this.status=1}p(tf,br);function La(g){this.g=g}p(La,Jh),La.prototype.ra=function(){kt(this.g,"a")},La.prototype.qa=function(g){kt(this.g,new ef(g))},La.prototype.pa=function(g){kt(this.g,new tf)},La.prototype.oa=function(){kt(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,sk=function(){return new Ds},ak=function(){return Ss()},ik=sn,c6={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ia.NO_ERROR=0,Ia.TIMEOUT=8,Ia.HTTP_ERROR=6,Ld=Ia,zo.COMPLETE="complete",rk=zo,Aa.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",st.prototype.listen=st.prototype.J,C0=Aa,Lt.prototype.listenOnce=Lt.prototype.K,Lt.prototype.getLastError=Lt.prototype.Ha,Lt.prototype.getLastErrorCode=Lt.prototype.ya,Lt.prototype.getStatus=Lt.prototype.ca,Lt.prototype.getResponseJson=Lt.prototype.La,Lt.prototype.getResponseText=Lt.prototype.la,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Fa,nk=Lt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const zx="@firebase/firestore",Lx="4.9.3";class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");let pc="12.7.0";const Ml=new n_("@firebase/firestore");function zu(){return Ml.logLevel}function qe(t,...e){if(Ml.logLevel<=vt.DEBUG){const n=e.map(a_);Ml.debug(`Firestore (${pc}): ${t}`,...n)}}function us(t,...e){if(Ml.logLevel<=vt.ERROR){const n=e.map(a_);Ml.error(`Firestore (${pc}): ${t}`,...n)}}function ac(t,...e){if(Ml.logLevel<=vt.WARN){const n=e.map(a_);Ml.warn(`Firestore (${pc}): ${t}`,...n)}}function a_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ok(t,r,n)}function ok(t,e,n){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ok(e,i,r)}function nt(t,e){return t}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(or.UNAUTHENTICATED)))}shutdown(){}}class H${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class F${constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new lk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new or(e)}}class G${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new G$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(or.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class s_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function h6(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return rv(i)===rv(s)?yt(i,s):rv(i)?1:-1}return yt(t.length,e.length)}const K$=55296,Q$=57343;function rv(t){const e=t.charCodeAt(0);return e>=K$&&e<=Q$}function sc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const qx="__name__";class oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=oa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return yt(e.length,n.length)}static compareSegments(e,n){const r=oa.isNumericId(e),i=oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oa.extractNumericId(e).compare(oa.extractNumericId(n)):h6(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class jt extends oa{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends oa{construct(e,n,r){return new er(e,n,r)}static isValidIdentifier(e){return Z$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qx}static keyField(){return new er([qx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new De(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new De(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(n)}static emptyPath(){return new er([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(jt.fromString(e))}static fromName(e){return new Xe(jt.fromString(e).popFirst(5))}static empty(){return new Xe(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new jt(e.slice()))}}function uk(t,e,n){if(!n)throw new De(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W$(t,e,n,r){if(e===!0&&r===!0)throw new De(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Px(t){if(!Xe.isDocumentKey(t))throw new De(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bx(t){if(Xe.isDocumentKey(t))throw new De(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ck(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new De(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function xh(t,e){if(!ck(t))throw new De(Se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new De(Se.INVALID_ARGUMENT,n);return!0}const jx=-62135596800,Ux=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ux);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jx)throw new De(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ux}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xh(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:kn("string",Qt._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Qt(0,0))}static max(){return new et(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nh=-1;function J$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new xo(i,Xe.empty(),e)}function eY(t){return new xo(t.readTime,t.key,nh)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(et.min(),Xe.empty(),nh)}static max(){return new xo(et.max(),Xe.empty(),nh)}}function tY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}const nY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gc(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==nY)throw t;qe("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(h=>r(h)))})),l=!0,s===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function iY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vc(t){return t.name==="IndexedDbTransactionError"}class Km{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Km.ce=-1;const o_=-1;function Sh(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function aY(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const hk="";function sY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hx(e)),e=oY(t.get(n),e);return Hx(e)}function oY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case hk:n+="";break;default:n+=s}}return n}function Hx(t){return t+hk+""}function Fx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lY(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function fk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class cn{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wn.RED,this.left=i??Wn.EMPTY,this.right=s??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gx(this.data.getIterator())}getIteratorFrom(e){return new Gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class Gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kr{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new Pn(er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class dk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dk("Invalid base64 string: "+s):s}})(e);return new nr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const uY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=uY.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}const mk="server_timestamp",pk="__type__",gk="__previous_value__",vk="__local_write_time__";function l_(t){return(t?.mapValue?.fields||{})[pk]?.stringValue===mk}function Qm(t){const e=t.mapValue.fields[gk];return l_(e)?Qm(e):e}function rh(t){const e=So(t.mapValue.fields[vk].timestampValue);return new Qt(e.seconds,e.nanos)}class cY{constructor(e,n,r,i,s,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const um="(default)";class ih{constructor(e,n){this.projectId=e,this.database=n||um}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===um}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}const yk="__type__",hY="__max__",yd={mapValue:{}},_k="__vector__",cm="value";function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l_(t)?4:dY(t)?9007199254740991:fY(t)?10:11:Qe(28295,{value:t})}function ya(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rh(t).isEqual(rh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=So(i.timestampValue),c=So(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Eo(i.bytesValue).isEqual(Eo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return xn(i.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(i.geoPointValue.longitude)===xn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return xn(i.integerValue)===xn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=xn(i.doubleValue),c=xn(s.doubleValue);return l===c?lm(l)===lm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return sc(t.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Fx(l)!==Fx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ya(l[h],c[h])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function ah(t,e){return(t.values||[]).find((n=>ya(n,e)))!==void 0}function oc(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=xn(s.integerValue||s.doubleValue),h=xn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return $x(t.timestampValue,e.timestampValue);case 4:return $x(rh(t),rh(e));case 5:return h6(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Eo(s),h=Eo(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=yt(c[f],h[f]);if(m!==0)return m}return yt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=yt(xn(s.latitude),xn(l.latitude));return c!==0?c:yt(xn(s.longitude),xn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Yx(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},h=l.fields||{},f=c[cm]?.arrayValue,m=h[cm]?.arrayValue,p=yt(f?.values?.length||0,m?.values?.length||0);return p!==0?p:Yx(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===yd.mapValue&&l===yd.mapValue)return 0;if(s===yd.mapValue)return 1;if(l===yd.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const v=h6(h[p],m[p]);if(v!==0)return v;const b=oc(c[h[p]],f[m[p]]);if(b!==0)return b}return yt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function $x(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=So(t),r=So(e),i=yt(n.seconds,r.seconds);return i!==0?i:yt(n.nanos,r.nanos)}function Yx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oc(n[i],r[i]);if(s)return s}return yt(n.length,r.length)}function lc(t){return f6(t)}function f6(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=f6(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${f6(n.fields[l])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Vd(t){switch(To(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qm(t);return e?16+Vd(e):16;case 5:return 2*t.stringValue.length;case 6:return Eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Vd(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Mo(r.fields,((s,l)=>{i+=s.length+Vd(l)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function Xx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d6(t){return!!t&&"integerValue"in t}function u_(t){return!!t&&"arrayValue"in t}function Kx(t){return!!t&&"nullValue"in t}function Qx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function fY(t){return(t?.mapValue?.fields||{})[yk]?.stringValue===_k}function q0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=q0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=q0(t.arrayValue.values[n]);return e}return{...t}}function dY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hY}class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=q0(n)}setAll(e){let n=er.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=q0(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new mr(q0(this.value))}}function bk(t){const e=[];return Mo(t.fields,((n,r)=>{const i=new er([n]);if(qd(r)){const s=bk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Kr(e)}class Gn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Gn(e,0,et.min(),et.min(),et.min(),mr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,et.min(),et.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,et.min(),et.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hm{constructor(e,n){this.position=e,this.inclusive=n}}function Zx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=oc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ya(t.position[n],e.position[n]))return!1;return!0}class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function mY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class wk{}class Mn extends wk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gY(e,n,r):n==="array-contains"?new _Y(e,r):n==="in"?new bY(e,r):n==="not-in"?new wY(e,r):n==="array-contains-any"?new xY(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vY(e,r):new yY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oc(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends wk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gi(e,n)}matches(e){return xk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xk(t){return t.op==="and"}function Sk(t){return pY(t)&&xk(t)}function pY(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function m6(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+lc(t.value);if(Sk(t))return t.filters.map((e=>m6(e))).join(",");{const e=t.filters.map((n=>m6(n))).join(",");return`${t.op}(${e})`}}function Ek(t,e){return t instanceof Mn?(function(r,i){return i instanceof Mn&&r.op===i.op&&r.field.isEqual(i.field)&&ya(r.value,i.value)})(t,e):t instanceof Gi?(function(r,i){return i instanceof Gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&Ek(l,i.filters[c])),!0):!1})(t,e):void Qe(19439)}function Tk(t){return t instanceof Mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${lc(n.value)}`})(t):t instanceof Gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tk).join(" ,")+"}"})(t):"Filter"}class gY extends Mn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class vY extends Mn{constructor(e,n){super(e,"in",n),this.keys=Ak("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yY extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=Ak("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ak(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class _Y extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u_(n)&&ah(n.arrayValue,this.value)}}class bY extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ah(this.value.arrayValue,n)}}class wY extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ah(this.value.arrayValue,n)}}class xY extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ah(this.value.arrayValue,r)))}}class SY{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function Jx(t,e=null,n=[],r=[],i=null,s=null,l=null){return new SY(t,e,n,r,i,s,l)}function c_(t){const e=nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>m6(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>lc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>lc(r))).join(",")),e.Te=n}return e.Te}function h_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ek(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wx(t.startAt,e.startAt)&&Wx(t.endAt,e.endAt)}function p6(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class yc{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EY(t,e,n,r,i,s,l,c){return new yc(t,e,n,r,i,s,l,c)}function Zm(t){return new yc(t)}function eS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ck(t){return t.collectionGroup!==null}function P0(t){const e=nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Pn(er.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sh(s,r))})),n.has(er.keyField().canonicalString())||e.Ie.push(new sh(er.keyField(),r))}return e.Ie}function da(t){const e=nt(t);return e.Ee||(e.Ee=Rk(e,P0(t))),e.Ee}function TY(t){const e=nt(t);return e.de||(e.de=Rk(e,t.explicitOrderBy)),e.de}function Rk(t,e){if(t.limitType==="F")return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new sh(i.field,s)}));const n=t.endAt?new hm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hm(t.startAt.position,t.startAt.inclusive):null;return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g6(t,e){const n=t.filters.concat([e]);return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fm(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return h_(da(t),da(e))&&t.limitType===e.limitType}function Ik(t){return`${c_(da(t))}|lt:${t.limitType}`}function Lu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Tk(i))).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>lc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>lc(i))).join(",")),`Target(${r})`})(da(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of P0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=Zx(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,P0(r),i)||r.endAt&&!(function(l,c,h){const f=Zx(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,P0(r),i))})(t,e)}function AY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nk(t){return(e,n)=>{let r=!1;for(const i of P0(t)){const s=CY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CY(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(s,l,c){const h=l.data.field(s),f=c.data.field(s);return h!==null&&f!==null?oc(h,f):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return fk(this.inner)}size(){return this.innerSize}}const RY=new cn(Xe.comparator);function cs(){return RY}const Mk=new cn(Xe.comparator);function R0(...t){let e=Mk;for(const n of t)e=e.insert(n.key,n);return e}function kk(t){let e=Mk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yl(){return B0()}function Dk(){return B0()}function B0(){return new Ol((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IY=new cn(Xe.comparator),NY=new Pn(Xe.comparator);function _t(...t){let e=NY;for(const n of t)e=e.add(n);return e}const MY=new Pn(yt);function kY(){return MY}function f_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function Ok(t){return{integerValue:""+t}}function DY(t,e){return aY(e)?Ok(e):f_(t,e)}class e1{constructor(){this._=void 0}}function OY(t,e,n){return t instanceof oh?(function(i,s){const l={fields:{[pk]:{stringValue:mk},[vk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&l_(s)&&(s=Qm(s)),s&&(l.fields[gk]=s),{mapValue:l}})(n,e):t instanceof lh?Lk(t,e):t instanceof uh?Vk(t,e):(function(i,s){const l=zk(i,s),c=tS(l)+tS(i.Ae);return d6(l)&&d6(i.Ae)?Ok(c):f_(i.serializer,c)})(t,e)}function zY(t,e,n){return t instanceof lh?Lk(t,e):t instanceof uh?Vk(t,e):n}function zk(t,e){return t instanceof dm?(function(r){return d6(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class oh extends e1{}class lh extends e1{constructor(e){super(),this.elements=e}}function Lk(t,e){const n=qk(e);for(const r of t.elements)n.some((i=>ya(i,r)))||n.push(r);return{arrayValue:{values:n}}}class uh extends e1{constructor(e){super(),this.elements=e}}function Vk(t,e){let n=qk(e);for(const r of t.elements)n=n.filter((i=>!ya(i,r)));return{arrayValue:{values:n}}}class dm extends e1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tS(t){return xn(t.integerValue||t.doubleValue)}function qk(t){return u_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class LY{constructor(e,n){this.field=e,this.transform=n}}function VY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof lh&&i instanceof lh||r instanceof uh&&i instanceof uh?sc(r.elements,i.elements,ya):r instanceof dm&&i instanceof dm?ya(r.Ae,i.Ae):r instanceof oh&&i instanceof oh})(t.transform,e.transform)}class qY{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class t1{}function Pk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n1(t.key,lr.none()):new Eh(t.key,t.data,lr.none());{const n=t.data,r=mr.empty();let i=new Pn(er.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new ko(t.key,r,new Kr(i.toArray()),lr.none())}}function PY(t,e,n){t instanceof Eh?(function(i,s,l){const c=i.value.clone(),h=rS(i.fieldTransforms,s,l.transformResults);c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ko?(function(i,s,l){if(!Pd(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=rS(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(Bk(i)),h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function j0(t,e,n,r){return t instanceof Eh?(function(s,l,c,h){if(!Pd(s.precondition,l))return c;const f=s.value.clone(),m=iS(s.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof ko?(function(s,l,c,h){if(!Pd(s.precondition,l))return c;const f=iS(s.fieldTransforms,h,l),m=l.data;return m.setAll(Bk(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return Pd(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function BY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zk(r.transform,i||null);s!=null&&(n===null&&(n=mr.empty()),n.set(r.field,s))}return n||null}function nS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sc(r,i,((s,l)=>VY(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends t1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends t1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Bk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rS(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,zY(l,c,n[i]))}return r}function iS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,OY(s,l,e))}return r}class n1 extends t1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jk extends t1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=j0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=j0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dk();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const h=Pk(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),_t())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,((n,r)=>nS(n,r)))&&sc(this.baseMutations,e.baseMutations,((n,r)=>nS(n,r)))}}class d_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return IY})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new d_(e,n,r,i)}}let UY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class HY{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class FY{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nn,St;function Uk(t){switch(t){case Se.OK:return Qe(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function Hk(t){if(t===void 0)return us("GRPC error has no .code"),Se.UNKNOWN;switch(t){case Nn.OK:return Se.OK;case Nn.CANCELLED:return Se.CANCELLED;case Nn.UNKNOWN:return Se.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return Se.INTERNAL;case Nn.UNAVAILABLE:return Se.UNAVAILABLE;case Nn.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Nn.NOT_FOUND:return Se.NOT_FOUND;case Nn.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Nn.ABORTED:return Se.ABORTED;case Nn.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Nn.DATA_LOSS:return Se.DATA_LOSS;default:return Qe(39323,{code:t})}}(St=Nn||(Nn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";function GY(){return new TextEncoder}const $Y=new _o([4294967295,4294967295],0);function aS(t){const e=GY().encode(t),n=new tk;return n.update(e),new Uint8Array(n.digest())}function sS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,s],0)]}class m_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new I0(`Invalid padding: ${n}`);if(r<0)throw new I0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new I0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new I0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_o.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare($Y)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aS(e),[r,i]=sS(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new m_(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=aS(e),[r,i]=sS(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class I0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class r1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new r1(et.min(),i,new cn(yt),cs(),_t())}}class Th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,_t(),_t(),_t())}}class Bd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Fk{constructor(e,n){this.targetId=e,this.Ce=n}}class Gk{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oS{constructor(){this.ve=0,this.Fe=lS(),this.Me=nr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_t(),n=_t(),r=_t();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:s})}})),new Th(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YY{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=_d(),this.He=_d(),this.Ye=new cn(yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(p6(s))if(r===0){const l=new Xe(s.path);this.et(n,l,Gn.newNoDocument(l,et.min()))}else xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Eo(r).toUint8Array()}catch(h){if(h instanceof dk)return ac("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new m_(l,i,s)}catch(h){return ac(h instanceof I0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&p6(c.target)){const h=new Xe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Gn.newNoDocument(h,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=_t();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new r1(e,n,this.Ye,this.je,r);return this.je=cs(),this.Je=_d(),this.He=_d(),this.Ye=new cn(yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pn(yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pn(yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _d(){return new cn(Xe.comparator)}function lS(){return new cn(Xe.comparator)}const XY={asc:"ASCENDING",desc:"DESCENDING"},KY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QY={and:"AND",or:"OR"};class ZY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v6(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $k(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WY(t,e){return mm(t,e.toTimestamp())}function Qr(t){return xt(!!t,49232),et.fromTimestamp((function(n){const r=So(n);return new Qt(r.seconds,r.nanos)})(t))}function p_(t,e){return y6(t,e).canonicalString()}function y6(t,e){const n=(function(i){return new jt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Yk(t){const e=jt.fromString(t);return xt(eD(e),10190,{key:e.toString()}),e}function pm(t,e){return p_(t.databaseId,e.path)}function U0(t,e){const n=Yk(e);if(n.get(1)!==t.databaseId.projectId)throw new De(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(Kk(n))}function Xk(t,e){return p_(t.databaseId,e)}function JY(t){const e=Yk(t);return e.length===4?jt.emptyPath():Kk(e)}function _6(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kk(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uS(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function eX(t,e){return"found"in e?(function(r,i){xt(!!i.found,43571),i.found.name,i.found.updateTime;const s=U0(r,i.found.name),l=Qr(i.found.updateTime),c=i.found.createTime?Qr(i.found.createTime):et.min(),h=new mr({mapValue:{fields:i.found.fields}});return Gn.newFoundDocument(s,l,c,h)})(t,e):"missing"in e?(function(r,i){xt(!!i.missing,3894),xt(!!i.readTime,22933);const s=U0(r,i.missing),l=Qr(i.readTime);return Gn.newNoDocument(s,l)})(t,e):Qe(7234,{result:e})}function tX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(xt(m===void 0||typeof m=="string",58123),nr.fromBase64String(m||"")):(xt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),nr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?Se.UNKNOWN:Hk(f.code);return new De(m,f.message||"")})(l);n=new Gk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=U0(t,r.document.name),s=Qr(r.document.updateTime),l=r.document.createTime?Qr(r.document.createTime):et.min(),c=new mr({mapValue:{fields:r.document.fields}}),h=Gn.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Bd(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=U0(t,r.document),s=r.readTime?Qr(r.readTime):et.min(),l=Gn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Bd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=U0(t,r.document),s=r.removedTargetIds||[];n=new Bd([],s,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new FY(i,s),c=r.targetId;n=new Fk(c,l)}}return n}function Qk(t,e){let n;if(e instanceof Eh)n={update:uS(t,e.key,e.value)};else if(e instanceof n1)n={delete:pm(t,e.key)};else if(e instanceof ko)n={update:uS(t,e.key,e.data),updateMask:cX(e.fieldMask)};else{if(!(e instanceof jk))return Qe(16599,{Vt:e.type});n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof oh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof lh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof uh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:WY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Qe(27497)})(t,e.precondition)),n}function nX(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Qr(i.updateTime):Qr(s);return l.isEqual(et.min())&&(l=Qr(s)),new qY(l,i.transformResults||[])})(n,e)))):[]}function rX(t,e){return{documents:[Xk(t,e.path)]}}function Zk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xk(t,i);const s=(function(f){if(f.length!==0)return Jk(Gi.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:lo(v.field),direction:oX(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=v6(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function iX(t,e,n,r){const{ft:i,parent:s}=Zk(t,e),l={},c=[];let h=0;return n.forEach((f=>{const m="aggregate_"+h++;l[m]=f.alias,f.aggregateType==="count"?c.push({alias:m,count:{}}):f.aggregateType==="avg"?c.push({alias:m,avg:{field:lo(f.fieldPath)}}):f.aggregateType==="sum"&&c.push({alias:m,sum:{field:lo(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},gt:l,parent:s}}function aX(t){let e=JY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const v=Wk(p);return v instanceof Gi&&Sk(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(x){return new sh(Vu(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,Sh(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(p){const v=!!p.before,b=p.values||[];return new hm(b,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,b=p.values||[];return new hm(b,v)})(n.endAt)),EY(e,i,l,s,c,"F",h,f)}function sX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(n.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vu(n.unaryFilter.field);return Mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vu(n.unaryFilter.field);return Mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mn.create(Vu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gi.create(n.compositeFilter.filters.map((r=>Wk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function oX(t){return XY[t]}function lX(t){return KY[t]}function uX(t){return QY[t]}function lo(t){return{fieldPath:t.canonicalString()}}function Vu(t){return er.fromServerFormat(t.fieldPath)}function Jk(t){return t instanceof Mn?(function(n){if(n.op==="=="){if(Qx(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(Kx(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qx(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(Kx(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:lX(n.op),value:n.value}}})(t):t instanceof Gi?(function(n){const r=n.getFilters().map((i=>Jk(i)));return r.length===1?r[0]:{compositeFilter:{op:uX(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function cX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class fo{constructor(e,n,r,i,s=et.min(),l=et.min(),c=nr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hX{constructor(e){this.yt=e}}function fX(t){const e=aX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fm(e,e.limit,"L"):e}class dX{constructor(){this.Cn=new mX}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(xo.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class mX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(jt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(jt.comparator)).toArray()}}const cS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tD=41943040;class Ir{static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(tD,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);class uc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uc(0)}static cr(){return new uc(-1)}}const hS="LruGarbageCollector",pX=1048576;function fS([t,e],[n,r]){const i=yt(t,n);return i===0?yt(e,r):i}class gX{constructor(e){this.Ir=e,this.buffer=new Pn(fS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){qe(hS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vc(n)?qe(hS,"Ignoring IndexedDB error during garbage collection: ",n):await gc(n)}await this.Vr(3e5)}))}}class yX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(Km.ce);const r=new gX(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(cS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),zu()<=vt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function _X(t,e){return new yX(t,e)}class bX{constructor(){this.changes=new Ol((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&j0(r.mutation,i,Kr.empty(),Qt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,_t()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=_t()){const i=yl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=R0();return s.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=yl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,_t())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=cs();const l=B0(),c=(function(){return B0()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof ko)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),j0(m.mutation,f,m.mutation.getFieldMask(),Qt.now())):l.set(f.key,Kr.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new wX(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=B0();let i=new cn(((l,c)=>l-c)),s=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Kr.empty();m=c.applyToLocalView(f,m),r.set(h,m);const p=(i.get(c.batchId)||_t()).add(h);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,p=Dk();m.forEach((v=>{if(!s.has(v)){const b=Pk(n.get(v),r.get(v));b!==null&&p.set(v,b),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ck(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ae.resolve(yl());let c=nh,h=s;return l.next((f=>Ae.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,h,f,_t()))).next((m=>({batchId:c,changes:kk(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let i=R0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=R0();return this.indexManager.getCollectionParents(e,s).next((c=>Ae.forEach(c,(h=>{const f=(function(p,v){return new yc(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Gn.newInvalidDocument(m)))}));let c=R0();return l.forEach(((h,f)=>{const m=s.get(h);m!==void 0&&j0(m.mutation,f,Kr.empty(),Qt.now()),Jm(n,f)&&(c=c.insert(h,f))})),c}))}}class SX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:fX(i.bundledQuery),readTime:Qr(i.readTime)}})(n)),Ae.resolve()}}class EX{constructor(){this.overlays=new cn(Xe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yl();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=yl(),s=n.length+1,l=new Xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new cn(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=yl(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=yl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Ae.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new UY(n,r));let s=this.qr.get(n);s===void 0&&(s=_t(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class TX{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class g_{constructor(){this.Qr=new Pn(Fn.$r),this.Ur=new Pn(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new jt([])),r=new Fn(n,e),i=new Fn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new jt([])),r=new Fn(n,e),i=new Fn(n,e+1);let s=_t();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||yt(e.Yr,n.Yr)}static Kr(e,n){return yt(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}class AX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pn(Fn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jY(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Fn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?o_:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(yt);return n.forEach((i=>{const s=new Fn(i,0),l=new Fn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Xe.isDocumentKey(s)||(s=s.child(""));const l=new Fn(new Xe(s),0);let c=new Pn(yt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const s=new Fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CX{constructor(e){this.ri=e,this.docs=(function(){return new cn(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cs();const l=n.path,c=new Xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||tY(eY(m),r)<=0||(i.has(m.key)||Jm(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new RX(this)}getSize(e){return Ae.resolve(this.size)}}class RX extends bX{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class IX{constructor(e){this.persistence=e,this.si=new Ol((n=>c_(n)),h_),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new g_,this.targetCount=0,this.ai=uc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(s).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class nD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Km(0),this.li=!1,this.li=!0,this.hi=new TX,this.referenceDelegate=e(this),this.Pi=new IX(this),this.indexManager=new dX,this.remoteDocumentCache=(function(i){return new CX(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hX(n),this.Ii=new SX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new AX(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new NX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class NX extends rY{constructor(e){super(),this.currentSequenceNumber=e}}class v_{constructor(e){this.persistence=e,this.Ri=new g_,this.Vi=null}static mi(e){return new v_(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=Xe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gm{constructor(e,n){this.persistence=e,this.pi=new Ol((r=>sY(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=_X(this,n)}static mi(e,n){return new gm(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,et.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vd(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=_t(),i=_t();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y_(e,n.fromCache,r,i)}}class MX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EG()?8:iY(ur())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new MX;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(zu()<=vt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(zu()<=vt.DEBUG&&qe("QueryEngine","Query:",Lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zu()<=vt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(n))):Ae.resolve())}ys(e,n){if(eS(n))return Ae.resolve(null);let r=da(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=fm(n,null,"F"),r=da(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=_t(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,fm(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return eS(n)||i.isEqual(et.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Ae.resolve(null):(zu()<=vt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lu(n)),this.vs(e,l,n,J$(i,nh)).next((c=>c)))}))}Ds(e,n){let r=new Pn(Nk(e));return n.forEach(((i,s)=>{Jm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return zu()<=vt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Lu(n)),this.ps.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const __="LocalStore",DX=3e8;class OX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new cn(yt),this.xs=new Ol((s=>c_(s)),h_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zX(t,e,n,r){return new OX(t,e,n,r)}async function rD(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let h=_t();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function LX(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const p=f.batch,v=p.keys();let b=Ae.resolve();return v.forEach((x=>{b=b.next((()=>m.getEntry(h,x))).next((S=>{const E=f.docVersions.get(x);xt(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=_t();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function iD(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VX(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(nr.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=DX?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,b,m)&&c.push(n.Pi.updateTargetData(s,b))}));let h=cs(),f=_t();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(qX(s,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(et.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,h,f))).next((()=>h))})).then((s=>(n.Ms=i,s)))}function qX(t,e,n){let r=_t(),i=_t();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=cs();return n.forEach(((c,h)=>{const f=s.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(et.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):qe(__,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function PX(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=o_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function BX(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new fo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function b6(t,e,n){const r=nt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!vc(l))throw l;qe(__,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function dS(t,e,n){const r=nt(t);let i=et.min(),s=_t();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const p=nt(h),v=p.xs.get(m);return v!==void 0?Ae.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,m)})(r,l,da(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:et.min(),n?s:_t()))).next((c=>(jX(r,AY(e),c),{documents:c,Qs:s})))))}function jX(t,e,n){let r=t.Os.get(e)||et.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mS{constructor(){this.activeTargetIds=kY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UX{constructor(){this.Mo=new mS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HX{Oo(e){}shutdown(){}}const pS="ConnectivityMonitor";class gS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qe(pS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){qe(pS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bd=null;function w6(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}const iv="RestConnection",FX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===um?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=w6(),c=this.zo(e,n.toUriEncodedString());qe(iv,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,s);const{host:f}=new URL(c),m=dc(f);return this.Jo(e,c,h,r,m).then((p=>(qe(iv,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw ac(iv,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=FX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class $X{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sr="WebChannelConnection";class YX extends GX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=w6();return new Promise(((c,h)=>{const f=new nk;f.setWithCredentials(!0),f.listenOnce(rk.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Ld.NO_ERROR:const p=f.getResponseJson();qe(sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Ld.TIMEOUT:qe(sr,`RPC '${e}' ${l} timed out`),h(new De(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const v=f.getStatus();if(qe(sr,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b?.error;if(x&&x.status&&x.message){const S=(function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(O)>=0?O:Se.UNKNOWN})(x.status);h(new De(S,x.message))}else h(new De(Se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new De(Se.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{qe(sr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);qe(sr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=w6(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sk(),c=ak(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");qe(sr,`Creating RPC '${e}' stream ${i}: ${m}`,h);const p=l.createWebChannel(m,h);this.I_(p);let v=!1,b=!1;const x=new $X({Yo:E=>{b?qe(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(qe(sr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),qe(sr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),S=(E,C,O)=>{E.listen(C,(A=>{try{O(A)}catch(z){setTimeout((()=>{throw z}),0)}}))};return S(p,C0.EventType.OPEN,(()=>{b||(qe(sr,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),S(p,C0.EventType.CLOSE,(()=>{b||(b=!0,qe(sr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),S(p,C0.EventType.ERROR,(E=>{b||(b=!0,ac(sr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),x.a_(new De(Se.UNAVAILABLE,"The operation could not be completed")))})),S(p,C0.EventType.MESSAGE,(E=>{if(!b){const C=E.data[0];xt(!!C,16349);const O=C,A=O?.error||O[0]?.error;if(A){qe(sr,`RPC '${e}' stream ${i} received error:`,A);const z=A.status;let U=(function(M){const D=Nn[M];if(D!==void 0)return Hk(D)})(z),q=A.message;U===void 0&&(U=Se.INTERNAL,q="Unknown error status: "+z+" with message "+A.message),b=!0,x.a_(new De(U,q)),p.close()}else qe(sr,`RPC '${e}' stream ${i} received:`,C),x.u_(C)}})),S(c,ik.STAT_EVENT,(E=>{E.stat===c6.PROXY?qe(sr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===c6.NOPROXY&&qe(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function av(){return typeof document<"u"?document:null}function i1(t){return new ZY(t,!0)}class b_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vS="PersistentStream";class aD{constructor(e,n,r,i,s,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return qe(vS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(qe(vS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XX extends aD{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tX(this.serializer,e),r=(function(s){if(!("targetChange"in s))return et.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?et.min():l.readTime?Qr(l.readTime):et.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_6(this.serializer),n.addTarget=(function(s,l){let c;const h=l.target;if(c=p6(h)?{documents:rX(s,h)}:{query:Zk(s,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=$k(s,l.resumeToken);const f=v6(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(et.min())>0){c.readTime=mm(s,l.snapshotVersion.toTimestamp());const f=v6(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=sX(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_6(this.serializer),n.removeTarget=e,this.q_(n)}}class KX extends aD{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nX(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_6(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Qk(this.serializer,r)))};this.q_(n)}}class QX{}class ZX extends QX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,y6(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(Se.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,y6(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(Se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const kl="RemoteStore";class JX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{zl(this)&&(qe(kl,"Restarting streams for network reachability change."),await(async function(h){const f=nt(h);f.Ea.add(4),await Ah(f),f.Ra.set("Unknown"),f.Ea.delete(4),await a1(f)})(this))}))})),this.Ra=new WX(r,i)}}async function a1(t){if(zl(t))for(const e of t.da)await e(!0)}async function Ah(t){for(const e of t.da)await e(!1)}function sD(t,e){const n=nt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),E_(n)?S_(n):_c(n).O_()&&x_(n,e))}function w_(t,e){const n=nt(t),r=_c(n);n.Ia.delete(e),r.O_()&&oD(n,e),n.Ia.size===0&&(r.O_()?r.L_():zl(n)&&n.Ra.set("Unknown"))}function x_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).Y_(e)}function oD(t,e){t.Va.Ue(e),_c(t).Z_(e)}function S_(t){t.Va=new YY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.Ra.ua()}function E_(t){return zl(t)&&!_c(t).x_()&&t.Ia.size>0}function zl(t){return nt(t).Ea.size===0}function lD(t){t.Va=void 0}async function eK(t){t.Ra.set("Online")}async function tK(t){t.Ia.forEach(((e,n)=>{x_(t,e)}))}async function nK(t,e){lD(t),E_(t)?(t.Ra.ha(e),S_(t)):t.Ra.set("Unknown")}async function rK(t,e,n){if(t.Ra.set("Online"),e instanceof Gk&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){qe(kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vm(t,r)}else if(e instanceof Bd?t.Va.Ze(e):e instanceof Fk?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await iD(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(nr.EMPTY_BYTE_STRING,m.snapshotVersion)),oD(s,h);const p=new fo(m.target,h,f,m.sequenceNumber);x_(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){qe(kl,"Failed to raise snapshot:",r),await vm(t,r)}}async function vm(t,e,n){if(!vc(e))throw e;t.Ea.add(1),await Ah(t),t.Ra.set("Offline"),n||(n=()=>iD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe(kl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await a1(t)}))}function uD(t,e){return e().catch((n=>vm(t,n,e)))}async function s1(t){const e=nt(t),n=Ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:o_;for(;iK(e);)try{const i=await PX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,aK(e,i)}catch(i){await vm(e,i)}cD(e)&&hD(e)}function iK(t){return zl(t)&&t.Ta.length<10}function aK(t,e){t.Ta.push(e);const n=Ao(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cD(t){return zl(t)&&!Ao(t).x_()&&t.Ta.length>0}function hD(t){Ao(t).start()}async function sK(t){Ao(t).ra()}async function oK(t){const e=Ao(t);for(const n of t.Ta)e.ea(n.mutations)}async function lK(t,e,n){const r=t.Ta.shift(),i=d_.from(r,e,n);await uD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await s1(t)}async function uK(t,e){e&&Ao(t).X_&&await(async function(r,i){if((function(l){return Uk(l)&&l!==Se.ABORTED})(i.code)){const s=r.Ta.shift();Ao(r).B_(),await uD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await s1(r)}})(t,e),cD(t)&&hD(t)}async function yS(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),qe(kl,"RemoteStore received new credentials");const r=zl(n);n.Ea.add(3),await Ah(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await a1(n)}async function cK(t,e){const n=nt(t);e?(n.Ea.delete(2),await a1(n)):e||(n.Ea.add(2),await Ah(n),n.Ra.set("Unknown"))}function _c(t){return t.ma||(t.ma=(function(n,r,i){const s=nt(n);return s.sa(),new XX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:eK.bind(null,t),t_:tK.bind(null,t),r_:nK.bind(null,t),H_:rK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),E_(t)?S_(t):t.Ra.set("Unknown")):(await t.ma.stop(),lD(t))}))),t.ma}function Ao(t){return t.fa||(t.fa=(function(n,r,i){const s=nt(n);return s.sa(),new KX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sK.bind(null,t),r_:uK.bind(null,t),ta:oK.bind(null,t),na:lK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await s1(t)):(await t.fa.stop(),t.Ta.length>0&&(qe(kl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class T_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new T_(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(us("AsyncQueue",`${e}: ${t}`),vc(t))return new De(Se.UNAVAILABLE,`${e}: ${t}`);throw t}class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=R0(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _S{constructor(){this.ga=new cn(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class cc{constructor(e,n,r,i,s,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new cc(e,n,Fu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fK{constructor(){this.queries=bS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=nt(n),s=i.queries;i.queries=bS(),s.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new De(Se.ABORTED,"Firestore shutting down"))}}function bS(){return new Ol((t=>Ik(t)),Wm)}async function C_(t,e){const n=nt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new hK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=A_(l,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&I_(n)}async function R_(t,e){const n=nt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dK(t,e){const n=nt(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&I_(n)}function mK(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function I_(t){t.Ca.forEach((e=>{e.next()}))}var x6,wS;(wS=x6||(x6={})).Ma="default",wS.Cache="cache";class N_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x6.Cache}}class fD{constructor(e){this.key=e}}class dD{constructor(e){this.key=e}}class pK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_t(),this.mutatedKeys=_t(),this.eu=Nk(e),this.tu=new Fu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _S,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),b=Jm(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?x!==S&&(r.track({type:3,doc:b}),E=!0):this.su(v,b)||(r.track({type:2,doc:b}),E=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(c=!0)):!v&&b?(r.track({type:0,doc:b}),E=!0):v&&!b&&(r.track({type:1,doc:v}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,x){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:E})}};return S(b)-S(x)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new cc(this.query,e.tu,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _S,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_t(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new dD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new fD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=_t();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M_="SyncEngine";class gK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vK{constructor(e){this.key=e,this.hu=!1}}class yK{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ol((c=>Ik(c)),Wm),this.Iu=new Map,this.Eu=new Set,this.du=new cn(Xe.comparator),this.Au=new Map,this.Ru=new g_,this.Vu={},this.mu=new Map,this.fu=uc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _K(t,e,n=!0){const r=_D(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await mD(r,e,n,!0),i}async function bK(t,e){const n=_D(t);await mD(n,e,!0,!1)}async function mD(t,e,n,r){const i=await BX(t.localStore,da(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await wK(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&sD(t.remoteStore,i),c}async function wK(t,e,n,r,i){t.pu=(p,v,b)=>(async function(S,E,C,O){let A=E.view.ru(C);A.Cs&&(A=await dS(S.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,A))));const z=O&&O.targetChanges.get(E.targetId),U=O&&O.targetMismatches.get(E.targetId)!=null,q=E.view.applyChanges(A,S.isPrimaryClient,z,U);return SS(S,E.targetId,q.au),q.snapshot})(t,p,v,b);const s=await dS(t.localStore,e,!0),l=new pK(e,s.Qs),c=l.ru(s.documents),h=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);SS(t,n,f.au);const m=new gK(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function xK(t,e,n){const r=nt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Wm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await b6(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&w_(r.remoteStore,i.targetId),S6(r,i.targetId)})).catch(gc)):(S6(r,i.targetId),await b6(r.localStore,i.targetId,!0))}async function SK(t,e){const n=nt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),w_(n.remoteStore,r.targetId))}async function EK(t,e,n){const r=MK(t);try{const i=await(function(l,c){const h=nt(l),f=Qt.now(),m=c.reduce(((b,x)=>b.add(x.key)),_t());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let x=cs(),S=_t();return h.Ns.getEntries(b,m).next((E=>{x=E,x.forEach(((C,O)=>{O.isValidDocument()||(S=S.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,x))).next((E=>{p=E;const C=[];for(const O of c){const A=BY(O,p.get(O.key).overlayedDocument);A!=null&&C.push(new ko(O.key,A,bk(A.value.mapValue),lr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)})).next((E=>{v=E;const C=E.applyToLocalDocumentSet(p,S);return h.documentOverlayCache.saveOverlays(b,E.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:kk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new cn(yt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Ch(r,i.changes),await s1(r.remoteStore)}catch(i){const s=A_(i,"Failed to persist write");n.reject(s)}}async function pD(t,e){const n=nt(t);try{const r=await VX(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?xt(l.hu,14607):i.removedDocuments.size>0&&(xt(l.hu,42227),l.hu=!1))})),await Ch(n,r,e)}catch(r){await gc(r)}}function xS(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=nt(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(c)&&(f=!0)})),f&&I_(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TK(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new cn(Xe.comparator);l=l.insert(s,Gn.newNoDocument(s,et.min()));const c=_t().add(s),h=new r1(et.min(),new Map,new cn(yt),l,c);await pD(r,h),r.du=r.du.remove(s),r.Au.delete(e),k_(r)}else await b6(r.localStore,e,!1).then((()=>S6(r,e,n))).catch(gc)}async function AK(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await LX(n.localStore,e);vD(n,r,null),gD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ch(n,i)}catch(i){await gc(i)}}async function CK(t,e,n){const r=nt(t);try{const i=await(function(l,c){const h=nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((p=>(xt(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);vD(r,e,n),gD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ch(r,i)}catch(i){await gc(i)}}function gD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vD(t,e,n){const r=nt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function S6(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yD(t,r)}))}function yD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(w_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),k_(t))}function SS(t,e,n){for(const r of n)r instanceof fD?(t.Ru.addReference(r.key,e),RK(t,r)):r instanceof dD?(qe(M_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yD(t,r.key)):Qe(19791,{wu:r})}function RK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(qe(M_,"New document in limbo: "+n),t.Eu.add(r),k_(t))}function k_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(jt.fromString(e)),r=t.fu.next();t.Au.set(r,new vK(n)),t.du=t.du.insert(n,r),sD(t.remoteStore,new fo(da(Zm(n.path)),r,"TargetPurposeLimboResolution",Km.ce))}}async function Ch(t,e,n){const r=nt(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=y_.As(h.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=nt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(f,(v=>Ae.forEach(v.Es,(b=>m.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Ae.forEach(v.ds,(b=>m.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!vc(p))throw p;qe(__,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=m.Ms.get(v),x=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(x);m.Ms=m.Ms.insert(v,S)}}})(r.localStore,s))}async function IK(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){qe(M_,"User change. New user:",e.toKey());const r=await rD(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((h=>{h.reject(new De(Se.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ch(n,r.Ls)}}function NK(t,e){const n=nt(t),r=n.Au.get(e);if(r&&r.hu)return _t().add(r.key);{let i=_t();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function _D(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TK.bind(null,e),e.Pu.H_=dK.bind(null,e.eventManager),e.Pu.yu=mK.bind(null,e.eventManager),e}function MK(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CK.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=i1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zX(this.persistence,new kX,e.initialUser,this.serializer)}Cu(e){return new nD(v_.mi,this.serializer)}Du(e){return new UX}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class kK extends ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof gm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new nD((r=>gm.mi(r,n)),this.serializer)}}class E6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IK.bind(null,this.syncEngine),await cK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fK})()}createDatastore(e){const n=i1(e.databaseInfo.databaseId),r=(function(s){return new YX(s)})(e.databaseInfo);return(function(s,l,c,h){return new ZX(s,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new JX(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>xS(this.syncEngine,n,0)),(function(){return gS.v()?new gS:new HX})())}createSyncEngine(e,n){return(function(i,s,l,c,h,f,m){const p=new yK(i,s,l,c,h,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=nt(n);qe(kl,"RemoteStore shutting down."),r.Ea.add(5),await Ah(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}E6.provider={build:()=>new E6};class D_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class DK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new De(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const l=nt(i),c={documents:s.map((p=>pm(l.serializer,p)))},h=await l.Ho("BatchGetDocuments",l.serializer.databaseId,jt.emptyPath(),c,s.length),f=new Map;h.forEach((p=>{const v=eX(l.serializer,p);f.set(v.key.toString(),v)}));const m=[];return s.forEach((p=>{const v=f.get(p.toString());xt(!!v,55234,{key:p}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new n1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Xe.fromPath(r);this.mutations.push(new jk(i,this.precondition(i)))})),await(async function(r,i){const s=nt(r),l={writes:i.map((c=>Qk(s.serializer,c)))};await s.Go("Commit",s.serializer.databaseId,jt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Qe(50498,{Gu:e.constructor.name});n=et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new De(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(et.min())?lr.exists(!1):lr.updateTime(n):lr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new De(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(n)}return lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OK{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new b_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new DK(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Sh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Uk(n)}return!1}}const Co="FirestoreClient";class zK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=or.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{qe(Co,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(qe(Co,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sv(t,e){t.asyncQueue.verifyOperationInProgress(),qe(Co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ES(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LK(t);qe(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>yS(e.remoteStore,i))),t._onlineComponents=e}async function LK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(Co,"Using user provided OfflineComponentProvider");try{await sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ac("Error using user provided cache. Falling back to memory cache: "+n),await sv(t,new ym)}}else qe(Co,"Using default OfflineComponentProvider"),await sv(t,new kK(void 0));return t._offlineComponents}async function O_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(Co,"Using user provided OnlineComponentProvider"),await ES(t,t._uninitializedComponentsProvider._online)):(qe(Co,"Using default OnlineComponentProvider"),await ES(t,new E6))),t._onlineComponents}function VK(t){return O_(t).then((e=>e.syncEngine))}function bD(t){return O_(t).then((e=>e.datastore))}async function _m(t){const e=await O_(t),n=e.eventManager;return n.onListen=_K.bind(null,e.syncEngine),n.onUnlisten=xK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SK.bind(null,e.syncEngine),n}function qK(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,h,f){const m=new D_({next:v=>{m.Nu(),l.enqueueAndForget((()=>R_(s,p)));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new De(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new De(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new N_(Zm(c.path),m,{includeMetadataChanges:!0,qa:!0});return C_(s,p)})(await _m(t),t.asyncQueue,e,n,r))),r.promise}function PK(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,h,f){const m=new D_({next:v=>{m.Nu(),l.enqueueAndForget((()=>R_(s,p))),v.fromCache&&h.source==="server"?f.reject(new De(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new N_(c,m,{includeMetadataChanges:!0,qa:!0});return C_(s,p)})(await _m(t),t.asyncQueue,e,n,r))),r.promise}function BK(t,e,n){const r=new Hi;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await bD(t);r.resolve((async function(l,c,h){const f=nt(l),{request:m,gt:p,parent:v}=iX(f.serializer,TY(c),h);f.connection.$o||delete m.parent;const b=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,v,m,1)).filter((S=>!!S.result));xt(b.length===1,64727);const x=b[0].result?.aggregateFields;return Object.keys(x).reduce(((S,E)=>(S[p[E]]=x[E],S)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function wD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const TS=new Map;const xD="firestore.googleapis.com",AS=!0;class CS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xD,this.ssl=AS}else this.host=e.host,this.ssl=e.ssl??AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pX)throw new De(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new U$;switch(r.type){case"firstParty":return new $$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=TS.get(n);r&&(qe("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())})(this),Promise.resolve()}}function jK(t,e,n,r={}){t=gr(t,o1);const i=dc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(YM(`https://${c}`),XM("Firestore",!0)),s.host!==xD&&s.host!==c&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:c,ssl:i,emulatorOptions:r};if(!Il(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=or.MOCK_USER;else{f=pG(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new or(p)}t._authCredentials=new H$(new lk(f,m))}}class vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xh(n,un._jsonSchema))return new un(e,r||null,new Xe(jt.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:kn("string",un._jsonSchemaVersion),referencePath:kn("string")};class bo extends vs{constructor(e,n,r){super(e,n,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Xe(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function Gu(t,e,...n){if(t=Dn(t),uk("collection","path",e),t instanceof o1){const r=jt.fromString(e,...n);return Bx(r),new bo(t,null,r)}{if(!(t instanceof un||t instanceof bo))throw new De(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return Bx(r),new bo(t.firestore,null,r)}}function Jn(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=s_.newId()),uk("doc","path",e),t instanceof o1){const r=jt.fromString(e,...n);return Px(r),new un(t,null,new Xe(r))}{if(!(t instanceof un||t instanceof bo))throw new De(Se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return Px(r),new un(t.firestore,t instanceof bo?t.converter:null,new Xe(r))}}const RS="AsyncQueue";class IS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b_(this,"async_queue_retry"),this._c=()=>{const r=av();r&&qe(RS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;qe(RS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",NS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=T_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:NS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function MS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class _a extends o1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IS(e),this._firestoreClient=void 0,await e}}}function UK(t,e){const n=typeof t=="object"?t:WM(),r=typeof t=="string"?t:um,i=i_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dG("firestore");s&&jK(i,...s)}return i}function bc(t){if(t._terminated)throw new De(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HK(t),t._firestoreClient}function HK(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new cY(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class FK{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class GK{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(nr.fromBase64String(e))}catch(n){throw new De(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xh(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:kn("string",Yr._jsonSchemaVersion),bytes:kn("string")};class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l1{constructor(e){this._methodName=e}}class ma{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ma._jsonSchemaVersion}}static fromJSON(e){if(xh(e,ma._jsonSchema))return new ma(e.latitude,e.longitude)}}ma._jsonSchemaVersion="firestore/geoPoint/1.0",ma._jsonSchema={type:kn("string",ma._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};class pa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xh(e,pa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pa(e.vectorValues);throw new De(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pa._jsonSchemaVersion="firestore/vectorValue/1.0",pa._jsonSchema={type:kn("string",pa._jsonSchemaVersion),vectorValues:kn("object")};const $K=/^__.*__$/;class YK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}class SD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ED(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class z_{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ED(this.Ac)&&$K.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||i1(e)}Cc(e,n,r,i=!1){return new z_({Ac:e,methodName:n,Dc:r,path:er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(t){const e=t._freezeSettings(),n=i1(t._databaseId);return new XK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TD(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);V_("Data must be an object, but it was:",l,r);const c=RD(r,l);let h,f;if(s.merge)h=new Kr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const v=T6(e,p,n);if(!l.contains(v))throw new De(Se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ND(m,v)||m.push(v)}h=new Kr(m),f=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=l.fieldTransforms;return new YK(new mr(c),h,f)}class c1 extends l1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c1}}class L_ extends l1{_toFieldTransform(e){return new LY(e.path,new oh)}isEqual(e){return e instanceof L_}}function AD(t,e,n,r){const i=t.Cc(1,e,n);V_("Data must be an object, but it was:",i,r);const s=[],l=mr.empty();Mo(r,((h,f)=>{const m=q_(e,h,n);f=Dn(f);const p=i.yc(m);if(f instanceof c1)s.push(m);else{const v=Ih(f,p);v!=null&&(s.push(m),l.set(m,v))}}));const c=new Kr(s);return new SD(l,c,i.fieldTransforms)}function CD(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[T6(e,r,n)],h=[i];if(s.length%2!=0)throw new De(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(T6(e,s[v])),h.push(s[v+1]);const f=[],m=mr.empty();for(let v=c.length-1;v>=0;--v)if(!ND(f,c[v])){const b=c[v];let x=h[v];x=Dn(x);const S=l.yc(b);if(x instanceof c1)f.push(b);else{const E=Ih(x,S);E!=null&&(f.push(b),m.set(b,E))}}const p=new Kr(f);return new SD(m,p,l.fieldTransforms)}function KK(t,e,n,r=!1){return Ih(n,t.Cc(r?4:3,e))}function Ih(t,e){if(ID(t=Dn(t)))return V_("Unsupported field value:",e,t),RD(t,e);if(t instanceof l1)return(function(r,i){if(!ED(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let h=Ih(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:mm(i.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(i.serializer,s)}}if(r instanceof ma)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:$k(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pa)return(function(l,c){return{mapValue:{fields:{[yk]:{stringValue:_k},[cm]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return f_(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Xm(r)}`)})(t,e)}function RD(t,e){const n={};return fk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,((r,i)=>{const s=Ih(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function ID(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof ma||t instanceof Yr||t instanceof un||t instanceof l1||t instanceof pa)}function V_(t,e,n){if(!ID(n)||!ck(n)){const r=Xm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function T6(t,e,n){if((e=Dn(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return q_(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const QK=new RegExp("[~\\*/\\[\\]]");function q_(t,e,n){if(e.search(QK)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new De(Se.INVALID_ARGUMENT,c+t+h)}function ND(t,e){return t.some((n=>n.isEqual(e)))}class wm{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(h1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZK extends wm{data(){return super.data()}}function h1(t,e){return typeof e=="string"?q_(t,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}function MD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class B_ extends P_{}function j_(t,e,...n){let r=[];e instanceof P_&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((h=>h instanceof U_)).length,c=s.filter((h=>h instanceof f1)).length;if(l>1||l>0&&c>0)throw new De(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class f1 extends B_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new f1(e,n,r)}_apply(e){const n=this._parse(e);return DD(e._query,n),new vs(e.firestore,e.converter,g6(e._query,n))}_parse(e){const n=u1(e.firestore);return(function(s,l,c,h,f,m,p){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new De(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){DS(p,m);const x=[];for(const S of p)x.push(kS(h,s,S));v={arrayValue:{values:x}}}else v=kS(h,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||DS(p,m),v=KK(c,l,p,m==="in"||m==="not-in");return Mn.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kD(t,e,n){const r=e,i=h1("where",t);return f1._create(i,r,n)}class U_ extends P_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const h of c)DD(l,h),l=g6(l,h)})(e._query,n),new vs(e.firestore,e.converter,g6(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class H_ extends B_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new H_(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new De(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sh(s,l)})(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new yc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function WK(t,e="asc"){const n=e,r=h1("orderBy",t);return H_._create(r,n)}class F_ extends B_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new F_(e,n,r)}_apply(e){return new vs(e.firestore,e.converter,fm(e._query,this._limit,this._limitType))}}function JK(t){return F_._create("limit",t,"F")}function kS(t,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new De(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ck(e)&&n.indexOf("/")!==-1)throw new De(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jt.fromString(n));if(!Xe.isDocumentKey(r))throw new De(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xx(t,new Xe(r))}if(n instanceof un)return Xx(t,n._key);throw new De(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function DS(t,e){if(!Array.isArray(t)||t.length===0)throw new De(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DD(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OD{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[cm].arrayValue?.values?.map((r=>xn(r.doubleValue)));return new pa(n)}convertGeoPoint(e){return new ma(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){const n=So(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);xt(eD(r),9688,{name:e});const i=new ih(r.get(1),r.get(3)),s=new Xe(r.popFirst(5));return i.isEqual(n)||us(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function zD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class eQ extends OD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function tQ(){return new FK("count")}class Bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends wm{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(h1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:kn("string",wo._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class jd extends wo{data(e={}){return super.data(e)}}class xl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new jd(this._firestore,this._userDataWriter,r.key,r,new Bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new jd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const h=new jd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:nQ(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=s_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}function rQ(t){t=gr(t,un);const e=gr(t.firestore,_a);return qK(bc(e),t._key).then((n=>VD(e,t,n)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:kn("string",xl._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class Nh extends OD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function iQ(t){t=gr(t,vs);const e=gr(t.firestore,_a),n=bc(e),r=new Nh(e);return MD(t._query),PK(n,t._query).then((i=>new xl(e,r,t,i)))}function Sl(t,e,n){t=gr(t,un);const r=gr(t.firestore,_a),i=zD(t.converter,e,n);return G_(r,[TD(u1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lr.none())])}function LD(t,e,n,...r){t=gr(t,un);const i=gr(t.firestore,_a),s=u1(i);let l;return l=typeof(e=Dn(e))=="string"||e instanceof Rh?CD(s,"updateDoc",t._key,e,n,r):AD(s,"updateDoc",t._key,e),G_(i,[l.toMutation(t._key,lr.exists(!0))])}function Ud(t){return G_(gr(t.firestore,_a),[new n1(t._key,lr.none())])}function ju(t,...e){t=Dn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||MS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(MS(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let s,l,c;if(t instanceof un)l=gr(t.firestore,_a),c=Zm(t._key.path),s={next:h=>{e[r]&&e[r](VD(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=gr(t,vs);l=gr(h.firestore,_a),c=h._query;const f=new Nh(l);s={next:m=>{e[r]&&e[r](new xl(l,f,h,m))},error:e[r+1],complete:e[r+2]},MD(t._query)}return(function(f,m,p,v){const b=new D_(v),x=new N_(m,b,p);return f.asyncQueue.enqueueAndForget((async()=>C_(await _m(f),x))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>R_(await _m(f),x)))}})(bc(l),c,i,s)}function G_(t,e){return(function(r,i){const s=new Hi;return r.asyncQueue.enqueueAndForget((async()=>EK(await VK(r),i,s))),s.promise})(bc(t),e)}function VD(t,e,n){const r=n.docs.get(e._key),i=new Nh(t);return new wo(t,i,e._key,r,new Bu(n.hasPendingWrites,n.fromCache),e.converter)}function aQ(t){return sQ(t,{count:tQ()})}function sQ(t,e){const n=gr(t.firestore,_a),r=bc(n),i=lY(e,((s,l)=>new HY(l,s.aggregateType,s._internalFieldPath)));return BK(r,t._query,i).then((s=>(function(c,h,f){const m=new Nh(c);return new GK(h,m,f)})(n,t,s)))}const oQ={maxAttempts:5};function N0(t,e){if((t=Dn(t)).firestore!==e)throw new De(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class lQ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=u1(e)}get(e){const n=N0(e,this._firestore),r=new eQ(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Qe(24041);const s=i[0];if(s.isFoundDocument())return new wm(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new wm(this._firestore,r,n._key,null,n.converter);throw Qe(18433,{doc:s})}))}set(e,n,r){const i=N0(e,this._firestore),s=zD(i.converter,n,r),l=TD(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const s=N0(e,this._firestore);let l;return l=typeof(n=Dn(n))=="string"||n instanceof Rh?CD(this._dataReader,"Transaction.update",s._key,n,r,i):AD(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,l),this}delete(e){const n=N0(e,this._firestore);return this._transaction.delete(n._key),this}}class uQ extends lQ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=N0(e,this._firestore),r=new Nh(this._firestore);return super.get(e).then((i=>new wo(this._firestore,r,n._key,i._document,new Bu(!1,!1),n.converter)))}}function cQ(t,e,n){t=gr(t,_a);const r={...oQ,...n};return(function(s){if(s.maxAttempts<1)throw new De(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,l,c){const h=new Hi;return s.asyncQueue.enqueueAndForget((async()=>{const f=await bD(s);new OK(s.asyncQueue,f,c,l,h).ju()})),h.promise})(bc(t),(i=>e(new uQ(t,i))),r)}function hQ(){return new L_("serverTimestamp")}(function(e,n=!0){(function(i){pc=i})(mc),ic(new Nl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new _a(new F$(r.getProvider("auth-internal")),new Y$(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),yo(zx,Lx,e),yo(zx,Lx,"esm2020")})();var fQ="firebase",dQ="12.7.0";yo(fQ,dQ,"app");function qD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mQ=qD,PD=new bh("auth","Firebase",qD());const xm=new n_("@firebase/auth");function pQ(t,...e){xm.logLevel<=vt.WARN&&xm.warn(`Auth (${mc}): ${t}`,...e)}function Hd(t,...e){xm.logLevel<=vt.ERROR&&xm.error(`Auth (${mc}): ${t}`,...e)}function ba(t,...e){throw Y_(t,...e)}function Fi(t,...e){return Y_(t,...e)}function $_(t,e,n){const r={...mQ(),[e]:n};return new bh("auth","Firebase",r).create(e,{appName:t.name})}function El(t){return $_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gQ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ba(t,"argument-error"),$_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PD.create(t,...e)}function rt(t,e,...n){if(!t)throw Y_(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function hs(t,e){t||rs(e)}function A6(){return typeof self<"u"&&self.location?.href||""}function vQ(){return OS()==="http:"||OS()==="https:"}function OS(){return typeof self<"u"&&self.location?.protocol||null}function yQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vQ()||wG()||"connection"in navigator)?navigator.onLine:!0}function _Q(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Mh{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=yG()||xG()}get(){return yQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function X_(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class BD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xQ=new Mh(3e4,6e4);function K_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wc(t,e,n,r,i={}){return jD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=wh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...s};return bG()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&dc(t.emulatorConfig.host)&&(f.credentials="include"),BD.fetch()(await UD(t,t.config.apiHost,n,c),f)})}async function jD(t,e,n){t._canInitEmulator=!1;const r={...bQ,...e};try{const i=new EQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw wd(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw wd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $_(t,m,f);ba(t,m)}}catch(i){if(i instanceof gs)throw i;ba(t,"network-request-failed",{message:String(i)})}}async function SQ(t,e,n,r,i={}){const s=await wc(t,e,n,r,i);return"mfaPendingCredential"in s&&ba(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function UD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?X_(t.config,i):`${t.config.apiScheme}://${i}`;return wQ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class EQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),xQ.get())})}}function wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fi(t,e,r);return i.customData._tokenResponse=n,i}async function TQ(t,e){return wc(t,"POST","/v1/accounts:delete",e)}async function Sm(t,e){return wc(t,"POST","/v1/accounts:lookup",e)}function H0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AQ(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=Q_(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:H0(ov(i.auth_time)),issuedAtTime:H0(ov(i.iat)),expirationTime:H0(ov(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ov(t){return Number(t)*1e3}function Q_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=HM(n);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zS(t){const e=Q_(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&CQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class RQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class C6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=H0(this.lastLoginAt),this.creationTime=H0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Em(t){const e=t.auth,n=await t.getIdToken(),r=await ch(t,Sm(e,{idToken:n}));rt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?HD(i.providerUserInfo):[],l=NQ(t.providerData,s),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new C6(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function IQ(t){const e=Dn(t);await Em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MQ(t,e){const n=await jD(t,{},async()=>{const r=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await UD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&dc(t.emulatorConfig.host)&&(h.credentials="include"),BD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kQ(t,e){return wc(t,"POST","/v2/accounts:revokeToken",K_(t,e))}class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=zS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new $u;return r&&(rt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(rt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return rs("not implemented")}}function io(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new RQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new C6(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ch(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AQ(this,e)}reload(){return IQ(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Em(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(El(this.auth));const e=await this.getIdToken();return await ch(this,TQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:x,stsTokenManager:S}=n;rt(p&&S,e,"internal-error");const E=$u.fromJSON(this.name,S);rt(typeof p=="string",e,"internal-error"),io(r,e.name),io(i,e.name),rt(typeof v=="boolean",e,"internal-error"),rt(typeof b=="boolean",e,"internal-error"),io(s,e.name),io(l,e.name),io(c,e.name),io(h,e.name),io(f,e.name),io(m,e.name);const C=new Ui({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:E,createdAt:f,lastLoginAt:m});return x&&Array.isArray(x)&&(C.providerData=x.map(O=>({...O}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new $u;i.updateFromServerResponse(n);const s=new Ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Em(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?HD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new $u;c.updateFromIdToken(r);const h=new Ui({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new C6(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,f),h}}const LS=new Map;function is(t){hs(t instanceof Function,"Expected a class definition");let e=LS.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LS.set(t,e),e)}class FD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FD.type="NONE";const VS=FD;function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Yu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sm(this.auth,{idToken:e}).catch(()=>{});return n?Ui._fromGetAccountInfoResponse(this.auth,n,e):null}return Ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yu(is(VS),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||is(VS);const l=Fd(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const v=await Sm(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Ui._fromGetAccountInfoResponse(e,v,m)}else p=Ui._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Yu(s,e,r):(s=h[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Yu(s,e,r))}}function qS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QD(e))return"Blackberry";if(ZD(e))return"Webos";if($D(e))return"Safari";if((e.includes("chrome/")||YD(e))&&!e.includes("edge/"))return"Chrome";if(KD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GD(t=ur()){return/firefox\//i.test(t)}function $D(t=ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YD(t=ur()){return/crios\//i.test(t)}function XD(t=ur()){return/iemobile/i.test(t)}function KD(t=ur()){return/android/i.test(t)}function QD(t=ur()){return/blackberry/i.test(t)}function ZD(t=ur()){return/webos/i.test(t)}function Z_(t=ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DQ(t=ur()){return Z_(t)&&!!window.navigator?.standalone}function OQ(){return SG()&&document.documentMode===10}function WD(t=ur()){return Z_(t)||KD(t)||ZD(t)||QD(t)||/windows phone/i.test(t)||XD(t)}function JD(t,e=[]){let n;switch(t){case"Browser":n=qS(ur());break;case"Worker":n=`${qS(ur())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mc}/${r}`}class zQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const h=e(s);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function LQ(t,e={}){return wc(t,"GET","/v2/passwordPolicy",K_(t,e))}const VQ=6;class qQ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class PQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PS(this),this.idTokenSubscription=new PS(this),this.beforeStateQueue=new zQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sm(this,{idToken:e}),r=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Em(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_Q()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(El(this));const n=e?Dn(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(El(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(El(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LQ(this),n=new qQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kQ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Yu.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pQ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function d1(t){return Dn(t)}class PS{constructor(e){this.auth=e,this.observer=null,this.addObserver=MG(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let W_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BQ(t){W_=t}function jQ(t){return W_.loadJS(t)}function UQ(){return W_.gapiScript}function HQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function FQ(t,e){const n=i_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Il(s,e??{}))return i;ba(i,"already-initialized")}return n.initialize({options:e})}function GQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $Q(t,e,n){const r=d1(t);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=eO(e),{host:l,port:c}=YQ(e),h=c===null?"":`:${c}`,f={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Il(f,r.config.emulator)&&Il(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,dc(l)?(YM(`${s}//${l}${h}`),XM("Auth",!0)):XQ()}function eO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YQ(t){const e=eO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:BS(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:BS(l)}}}function BS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class tO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function Xu(t,e){return SQ(t,"POST","/v1/accounts:signInWithIdp",K_(t,e))}const KQ="http://localhost";class Dl extends tO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ba("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Dl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Xu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xu(e,n)}buildRequest(){const e={requestUri:KQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wh(n)}return e}}class J_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kh extends J_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uo extends kh{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";class ts extends kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dl._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class co extends kh{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";class ho extends kh{constructor(){super("twitter.com")}static credential(e,n){return Dl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";class hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ui._fromIdTokenResponse(e,r,i),l=jS(r);return new hc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jS(r);return new hc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Tm extends gs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tm(e,n,r,i)}}function nO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(t,s,e,r):s})}async function QQ(t,e,n=!1){const r=await ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hc._forOperation(t,"link",r)}async function ZQ(t,e,n=!1){const{auth:r}=t;if(Pi(r.app))return Promise.reject(El(r));const i="reauthenticate";try{const s=await ch(t,nO(r,i,e,t),n);rt(s.idToken,r,"internal-error");const l=Q_(s.idToken);rt(l,r,"internal-error");const{sub:c}=l;return rt(t.uid===c,r,"user-mismatch"),hc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ba(r,"user-mismatch"),s}}async function WQ(t,e,n=!1){if(Pi(t.app))return Promise.reject(El(t));const r="signIn",i=await nO(t,r,e),s=await hc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function JQ(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function eZ(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}function tZ(t,e,n,r){return Dn(t).onAuthStateChanged(e,n,r)}function nZ(t){return Dn(t).signOut()}const Am="__sak";class rO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Am,"1"),this.storage.removeItem(Am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rZ=1e3,iZ=10;class iO extends rO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);OQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iO.type="LOCAL";const aZ=iO;class aO extends rO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aO.type="SESSION";const sO=aO;function sZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class m1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new m1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),h=await sZ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m1.receivers=[];function e7(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class oZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,h)=>{const f=e7("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ga(){return window}function lZ(t){ga().location.href=t}function oO(){return typeof ga().WorkerGlobalScope<"u"&&typeof ga().importScripts=="function"}async function uZ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cZ(){return navigator?.serviceWorker?.controller||null}function hZ(){return oO()?self:null}const lO="firebaseLocalStorageDb",fZ=1,Cm="firebaseLocalStorage",uO="fbase_key";class Dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function p1(t,e){return t.transaction([Cm],e?"readwrite":"readonly").objectStore(Cm)}function dZ(){const t=indexedDB.deleteDatabase(lO);return new Dh(t).toPromise()}function R6(){const t=indexedDB.open(lO,fZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cm,{keyPath:uO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cm)?e(r):(r.close(),await dZ(),e(await R6()))})})}async function US(t,e,n){const r=p1(t,!0).put({[uO]:e,value:n});return new Dh(r).toPromise()}async function mZ(t,e){const n=p1(t,!1).get(e),r=await new Dh(n).toPromise();return r===void 0?null:r.value}function HS(t,e){const n=p1(t,!0).delete(e);return new Dh(n).toPromise()}const pZ=800,gZ=3;class cO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R6(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m1._getInstance(hZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uZ(),!this.activeServiceWorker)return;this.sender=new oZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R6();return await US(e,Am,"1"),await HS(e,Am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>US(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=p1(i,!1).getAll();return new Dh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cO.type="LOCAL";const vZ=cO;new Mh(3e4,6e4);function hO(t,e){return e?is(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class t7 extends tO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yZ(t){return WQ(t.auth,new t7(t),t.bypassAuthState)}function _Z(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),ZQ(n,new t7(t),t.bypassAuthState)}async function bZ(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),QQ(n,new t7(t),t.bypassAuthState)}class fO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yZ;case"linkViaPopup":case"linkViaRedirect":return bZ;case"reauthViaPopup":case"reauthViaRedirect":return _Z;default:ba(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wZ=new Mh(2e3,1e4);async function xZ(t,e,n){if(Pi(t.app))return Promise.reject(Fi(t,"operation-not-supported-in-this-environment"));const r=d1(t);gQ(t,e,J_);const i=hO(r,n);return new _l(r,"signInViaPopup",e,i).executeNotNull()}class _l extends fO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=e7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wZ.get())};e()}}_l.currentPopupAction=null;const SZ="pendingRedirect",Gd=new Map;class EZ extends fO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await TZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TZ(t,e){const n=RZ(e),r=CZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AZ(t,e){Gd.set(t._key(),e)}function CZ(t){return is(t._redirectPersistence)}function RZ(t){return Fd(SZ,t.config.apiKey,t.name)}async function IZ(t,e,n=!1){if(Pi(t.app))return Promise.reject(El(t));const r=d1(t),i=hO(r,e),l=await new EZ(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const NZ=600*1e3;class MZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dO(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(e))}saveEventToCache(e){this.cachedEventUids.add(FS(e)),this.lastProcessedEventTime=Date.now()}}function FS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dO(t);default:return!1}}async function DZ(t,e={}){return wc(t,"GET","/v1/projects",e)}const OZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zZ=/^https?/;async function LZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DZ(t);for(const n of e)try{if(VZ(n))return}catch{}ba(t,"unauthorized-domain")}function VZ(t){const e=A6(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!zZ.test(n))return!1;if(OZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const qZ=new Mh(3e4,6e4);function GS(){const t=ga().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PZ(t){return new Promise((e,n)=>{function r(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),n(Fi(t,"network-request-failed"))},timeout:qZ.get()})}if(ga().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ga().gapi?.load)r();else{const i=HQ("iframefcb");return ga()[i]=()=>{gapi.load?r():n(Fi(t,"network-request-failed"))},jQ(`${UQ()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw $d=null,e})}let $d=null;function BZ(t){return $d=$d||PZ(t),$d}const jZ=new Mh(5e3,15e3),UZ="__/auth/iframe",HZ="emulator/auth/iframe",FZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $Z(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X_(e,HZ):`https://${t.config.authDomain}/${UZ}`,r={apiKey:e.apiKey,appName:t.name,v:mc},i=GZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wh(r).slice(1)}`}async function YZ(t){const e=await BZ(t),n=ga().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:$Z(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Fi(t,"network-request-failed"),c=ga().setTimeout(()=>{s(l)},jZ.get());function h(){ga().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(l)})}))}const XZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KZ=500,QZ=600,ZZ="_blank",WZ="http://localhost";class $S{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JZ(t,e,n,r=KZ,i=QZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...XZ,width:r.toString(),height:i.toString(),top:s,left:l},f=ur().toLowerCase();n&&(c=YD(f)?ZZ:n),GD(f)&&(e=e||WZ,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[b,x])=>`${v}${b}=${x},`,"");if(DQ(f)&&c!=="_self")return eW(e||"",c),new $S(null);const p=window.open(e||"",c,m);rt(p,t,"popup-blocked");try{p.focus()}catch{}return new $S(p)}function eW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const tW="__/auth/handler",nW="emulator/auth/handler",rW=encodeURIComponent("fac");async function YS(t,e,n,r,i,s){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mc,eventId:i};if(e instanceof J_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",NG(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof kh){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${rW}=${encodeURIComponent(h)}`:"";return`${iW(t)}?${wh(c).slice(1)}${f}`}function iW({config:t}){return t.emulator?X_(t,nW):`https://${t.authDomain}/${tW}`}const lv="webStorageSupport";class aW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sO,this._completeRedirectFn=IZ,this._overrideRedirectResult=AZ}async _openPopup(e,n,r,i){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await YS(e,n,r,A6(),i);return JZ(e,s,e7())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await YS(e,n,r,A6(),i);return lZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YZ(e),r=new MZ(e);return n.register("authEvent",i=>(rt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lv,{type:lv},i=>{const s=i?.[0]?.[lv];s!==void 0&&n(!!s),ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WD()||$D()||Z_()}}const sW=aW;var XS="@firebase/auth",KS="1.12.0";class oW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uW(t){ic(new Nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;rt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JD(t)},f=new PQ(r,i,s,h);return GQ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ic(new Nl("auth-internal",e=>{const n=d1(e.getProvider("auth").getImmediate());return(r=>new oW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(XS,KS,lW(t)),yo(XS,KS,"esm2020")}const cW=300,hW=$M("authIdTokenMaxAge")||cW;let QS=null;const fW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hW)return;const i=n?.token;QS!==i&&(QS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dW(t=WM()){const e=i_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FQ(t,{popupRedirectResolver:sW,persistence:[vZ,aZ,sO]}),r=$M("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=fW(s.toString());eZ(n,l,()=>l(n.currentUser)),JQ(n,c=>l(c))}}const i=FM("auth");return i&&$Q(n,`http://${i}`),n}function mW(){return document.getElementsByTagName("head")?.[0]??document}BQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uW("Browser");const pW={apiKey:"AIzaSyAIyve7JZp_0E3MNutgFkX0cAm9DqzfqC4",authDomain:"algebraic-structure-explorer.firebaseapp.com",projectId:"algebraic-structure-explorer",storageBucket:"algebraic-structure-explorer.firebasestorage.app",messagingSenderId:"195740710356",appId:"1:195740710356:web:132e427e9790fdc2705241",measurementId:"G-J5YLN1TFLL"},mO=ZM(pW),en=UK(mO),uv=dW(mO),gW=new ts,n7={verified:"#ccffcc",unverified:"#ffcccc",deprecated:"#ffff00",deadEnd:"#eeeeee",duplicateLine:"#0000FF",parentLine:"#555",text:"#000"},cv={verified:{label:"Verified"},unverified:{label:"Unverified"},deprecated:{label:"Duplicate Branch (Deprecated)"}},vW="_overlay_1pykk_1",yW="_legend_1pykk_20",ZS={overlay:vW,legend:yW};class Nr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Nr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Zr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Zr(n,Nr.range(this,e))}}class Ne{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,s=l.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var h=c.slice(i,s).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;s+15<c.length?m=c.slice(s,s+15)+"":m=c.slice(s),r+=f+h+m}var p=new Error(r);return p.name="ParseError",p.__proto__=Ne.prototype,p.position=i,i!=null&&s!=null&&(p.length=s-i),p.rawMessage=e,p}}Ne.prototype.__proto__=Error.prototype;var _W=function(e,n){return e===void 0?n:e},bW=/([A-Z])/g,wW=function(e){return e.replace(bW,"-$1").toLowerCase()},xW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},SW=/[&><"']/g;function EW(t){return String(t).replace(SW,e=>xW[e])}var pO=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},TW=function(e){var n=pO(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},AW=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},CW=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},It={deflt:_W,escape:EW,hyphenate:wW,getBaseElem:pO,isCharacterBox:TW,protocolFromUrl:CW},Yd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function RW(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class r7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Yd)if(Yd.hasOwnProperty(n)){var r=Yd[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:RW(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=It.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class ao{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return ua[IW[this.id]]}sub(){return ua[NW[this.id]]}fracNum(){return ua[MW[this.id]]}fracDen(){return ua[kW[this.id]]}cramp(){return ua[DW[this.id]]}text(){return ua[OW[this.id]]}isTight(){return this.size>=2}}var i7=0,Rm=1,Ku=2,as=3,hh=4,bi=5,fc=6,pr=7,ua=[new ao(i7,0,!1),new ao(Rm,0,!0),new ao(Ku,1,!1),new ao(as,1,!0),new ao(hh,2,!1),new ao(bi,2,!0),new ao(fc,3,!1),new ao(pr,3,!0)],IW=[hh,bi,hh,bi,fc,pr,fc,pr],NW=[bi,bi,bi,bi,pr,pr,pr,pr],MW=[Ku,as,hh,bi,fc,pr,fc,pr],kW=[as,as,bi,bi,pr,pr,pr,pr],DW=[Rm,Rm,as,as,bi,bi,pr,pr],OW=[i7,Rm,Ku,as,Ku,as,Ku,as],We={DISPLAY:ua[i7],TEXT:ua[Ku],SCRIPT:ua[hh],SCRIPTSCRIPT:ua[fc]},I6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function zW(t){for(var e=0;e<I6.length;e++)for(var n=I6[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Xd=[];I6.forEach(t=>t.blocks.forEach(e=>Xd.push(...e)));function gO(t){for(var e=0;e<Xd.length;e+=2)if(t>=Xd[e]&&t<=Xd[e+1])return!0;return!1}var Ou=80,LW=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},VW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},qW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},PW=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},BW=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},jW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},UW=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},HW=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=LW(n,Ou);break;case"sqrtSize1":i=VW(n,Ou);break;case"sqrtSize2":i=qW(n,Ou);break;case"sqrtSize3":i=PW(n,Ou);break;case"sqrtSize4":i=BW(n,Ou);break;case"sqrtTall":i=UW(n,Ou,r)}return i},FW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},WS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},GW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Oh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var ca={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},xd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},JS={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function $W(t,e){ca[t]=e}function a7(t,e,n){if(!ca[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=ca[e][r];if(!i&&t[0]in JS&&(r=JS[t[0]].charCodeAt(0),i=ca[e][r]),!i&&n==="text"&&gO(r)&&(i=ca[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var hv={};function YW(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!hv[e]){var n=hv[e]={cssEmPerMu:xd.quad[e]/18};for(var r in xd)xd.hasOwnProperty(r)&&(n[r]=xd[r][e])}return hv[e]}var XW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],eE=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],tE=function(e,n){return n.size<2?e:XW[e-1][n.size-1]};class es{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||es.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=eE[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new es(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:tE(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:eE[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=tE(es.BASESIZE,e);return this.size===n&&this.textSize===es.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==es.BASESIZE?["sizing","reset-size"+this.size,"size"+es.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=YW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}es.BASESIZE=6;var N6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},KW={ex:!0,em:!0,mu:!0},vO=function(e){return typeof e!="string"&&(e=e.unit),e in N6||e in KW||e==="ex"},ln=function(e,n){var r;if(e.unit in N6)r=N6[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},Ro=function(e){return e.filter(n=>n).join(" ")},yO=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},_O=function(e){var n=document.createElement(e);n.className=Ro(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},QW=/[\s"'>/=\x00-\x1f]/,bO=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+It.escape(Ro(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=It.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+It.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(QW.test(s))throw new Ne("Invalid attribute name '"+s+"'");n+=" "+s+'="'+It.escape(this.attributes[s])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class zh{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yO.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return _O.call(this,"span")}toMarkup(){return bO.call(this,"span")}}class s7{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yO.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return _O.call(this,"a")}toMarkup(){return bO.call(this,"a")}}class ZW{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+It.escape(this.src)+'"'+(' alt="'+It.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=It.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+It.escape(n)+'"'),e+="'/>",e}}var WW={:"",:"",:"",:""};class wi{constructor(e,n,r,i,s,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var f=zW(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=WW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Ro(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=It.escape(Ro(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=It.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+It.escape(r)+'"');var s=It.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class fs{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+It.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Io{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",WS[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+It.escape(this.alternate)+'"/>':'<path d="'+It.escape(WS[this.pathName])+'"/>'}}class M6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+It.escape(this.attributes[n])+'"');return e+="/>",e}}function nE(t){if(t instanceof wi)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function JW(t){if(t instanceof zh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var eJ={bin:1,close:1,inner:1,open:1,punct:1,rel:1},tJ={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},$t={math:{},text:{}};function w(t,e,n,r,i,s){$t[t][i]={font:e,group:n,replace:r},s&&r&&($t[t][r]=$t[t][i])}var I="math",Re="text",P="main",Z="ams",rn="accent-token",Ve="bin",vr="close",xc="inner",Ze="mathord",zn="op-token",Jr="open",g1="punct",J="rel",ys="spacing",se="textord";w(I,P,J,"","\\equiv",!0);w(I,P,J,"","\\prec",!0);w(I,P,J,"","\\succ",!0);w(I,P,J,"","\\sim",!0);w(I,P,J,"","\\perp");w(I,P,J,"","\\preceq",!0);w(I,P,J,"","\\succeq",!0);w(I,P,J,"","\\simeq",!0);w(I,P,J,"","\\mid",!0);w(I,P,J,"","\\ll",!0);w(I,P,J,"","\\gg",!0);w(I,P,J,"","\\asymp",!0);w(I,P,J,"","\\parallel");w(I,P,J,"","\\bowtie",!0);w(I,P,J,"","\\smile",!0);w(I,P,J,"","\\sqsubseteq",!0);w(I,P,J,"","\\sqsupseteq",!0);w(I,P,J,"","\\doteq",!0);w(I,P,J,"","\\frown",!0);w(I,P,J,"","\\ni",!0);w(I,P,J,"","\\propto",!0);w(I,P,J,"","\\vdash",!0);w(I,P,J,"","\\dashv",!0);w(I,P,J,"","\\owns");w(I,P,g1,".","\\ldotp");w(I,P,g1,"","\\cdotp");w(I,P,se,"#","\\#");w(Re,P,se,"#","\\#");w(I,P,se,"&","\\&");w(Re,P,se,"&","\\&");w(I,P,se,"","\\aleph",!0);w(I,P,se,"","\\forall",!0);w(I,P,se,"","\\hbar",!0);w(I,P,se,"","\\exists",!0);w(I,P,se,"","\\nabla",!0);w(I,P,se,"","\\flat",!0);w(I,P,se,"","\\ell",!0);w(I,P,se,"","\\natural",!0);w(I,P,se,"","\\clubsuit",!0);w(I,P,se,"","\\wp",!0);w(I,P,se,"","\\sharp",!0);w(I,P,se,"","\\diamondsuit",!0);w(I,P,se,"","\\Re",!0);w(I,P,se,"","\\heartsuit",!0);w(I,P,se,"","\\Im",!0);w(I,P,se,"","\\spadesuit",!0);w(I,P,se,"","\\S",!0);w(Re,P,se,"","\\S");w(I,P,se,"","\\P",!0);w(Re,P,se,"","\\P");w(I,P,se,"","\\dag");w(Re,P,se,"","\\dag");w(Re,P,se,"","\\textdagger");w(I,P,se,"","\\ddag");w(Re,P,se,"","\\ddag");w(Re,P,se,"","\\textdaggerdbl");w(I,P,vr,"","\\rmoustache",!0);w(I,P,Jr,"","\\lmoustache",!0);w(I,P,vr,"","\\rgroup",!0);w(I,P,Jr,"","\\lgroup",!0);w(I,P,Ve,"","\\mp",!0);w(I,P,Ve,"","\\ominus",!0);w(I,P,Ve,"","\\uplus",!0);w(I,P,Ve,"","\\sqcap",!0);w(I,P,Ve,"","\\ast");w(I,P,Ve,"","\\sqcup",!0);w(I,P,Ve,"","\\bigcirc",!0);w(I,P,Ve,"","\\bullet",!0);w(I,P,Ve,"","\\ddagger");w(I,P,Ve,"","\\wr",!0);w(I,P,Ve,"","\\amalg");w(I,P,Ve,"&","\\And");w(I,P,J,"","\\longleftarrow",!0);w(I,P,J,"","\\Leftarrow",!0);w(I,P,J,"","\\Longleftarrow",!0);w(I,P,J,"","\\longrightarrow",!0);w(I,P,J,"","\\Rightarrow",!0);w(I,P,J,"","\\Longrightarrow",!0);w(I,P,J,"","\\leftrightarrow",!0);w(I,P,J,"","\\longleftrightarrow",!0);w(I,P,J,"","\\Leftrightarrow",!0);w(I,P,J,"","\\Longleftrightarrow",!0);w(I,P,J,"","\\mapsto",!0);w(I,P,J,"","\\longmapsto",!0);w(I,P,J,"","\\nearrow",!0);w(I,P,J,"","\\hookleftarrow",!0);w(I,P,J,"","\\hookrightarrow",!0);w(I,P,J,"","\\searrow",!0);w(I,P,J,"","\\leftharpoonup",!0);w(I,P,J,"","\\rightharpoonup",!0);w(I,P,J,"","\\swarrow",!0);w(I,P,J,"","\\leftharpoondown",!0);w(I,P,J,"","\\rightharpoondown",!0);w(I,P,J,"","\\nwarrow",!0);w(I,P,J,"","\\rightleftharpoons",!0);w(I,Z,J,"","\\nless",!0);w(I,Z,J,"","\\@nleqslant");w(I,Z,J,"","\\@nleqq");w(I,Z,J,"","\\lneq",!0);w(I,Z,J,"","\\lneqq",!0);w(I,Z,J,"","\\@lvertneqq");w(I,Z,J,"","\\lnsim",!0);w(I,Z,J,"","\\lnapprox",!0);w(I,Z,J,"","\\nprec",!0);w(I,Z,J,"","\\npreceq",!0);w(I,Z,J,"","\\precnsim",!0);w(I,Z,J,"","\\precnapprox",!0);w(I,Z,J,"","\\nsim",!0);w(I,Z,J,"","\\@nshortmid");w(I,Z,J,"","\\nmid",!0);w(I,Z,J,"","\\nvdash",!0);w(I,Z,J,"","\\nvDash",!0);w(I,Z,J,"","\\ntriangleleft");w(I,Z,J,"","\\ntrianglelefteq",!0);w(I,Z,J,"","\\subsetneq",!0);w(I,Z,J,"","\\@varsubsetneq");w(I,Z,J,"","\\subsetneqq",!0);w(I,Z,J,"","\\@varsubsetneqq");w(I,Z,J,"","\\ngtr",!0);w(I,Z,J,"","\\@ngeqslant");w(I,Z,J,"","\\@ngeqq");w(I,Z,J,"","\\gneq",!0);w(I,Z,J,"","\\gneqq",!0);w(I,Z,J,"","\\@gvertneqq");w(I,Z,J,"","\\gnsim",!0);w(I,Z,J,"","\\gnapprox",!0);w(I,Z,J,"","\\nsucc",!0);w(I,Z,J,"","\\nsucceq",!0);w(I,Z,J,"","\\succnsim",!0);w(I,Z,J,"","\\succnapprox",!0);w(I,Z,J,"","\\ncong",!0);w(I,Z,J,"","\\@nshortparallel");w(I,Z,J,"","\\nparallel",!0);w(I,Z,J,"","\\nVDash",!0);w(I,Z,J,"","\\ntriangleright");w(I,Z,J,"","\\ntrianglerighteq",!0);w(I,Z,J,"","\\@nsupseteqq");w(I,Z,J,"","\\supsetneq",!0);w(I,Z,J,"","\\@varsupsetneq");w(I,Z,J,"","\\supsetneqq",!0);w(I,Z,J,"","\\@varsupsetneqq");w(I,Z,J,"","\\nVdash",!0);w(I,Z,J,"","\\precneqq",!0);w(I,Z,J,"","\\succneqq",!0);w(I,Z,J,"","\\@nsubseteqq");w(I,Z,Ve,"","\\unlhd");w(I,Z,Ve,"","\\unrhd");w(I,Z,J,"","\\nleftarrow",!0);w(I,Z,J,"","\\nrightarrow",!0);w(I,Z,J,"","\\nLeftarrow",!0);w(I,Z,J,"","\\nRightarrow",!0);w(I,Z,J,"","\\nleftrightarrow",!0);w(I,Z,J,"","\\nLeftrightarrow",!0);w(I,Z,J,"","\\vartriangle");w(I,Z,se,"","\\hslash");w(I,Z,se,"","\\triangledown");w(I,Z,se,"","\\lozenge");w(I,Z,se,"","\\circledS");w(I,Z,se,"","\\circledR");w(Re,Z,se,"","\\circledR");w(I,Z,se,"","\\measuredangle",!0);w(I,Z,se,"","\\nexists");w(I,Z,se,"","\\mho");w(I,Z,se,"","\\Finv",!0);w(I,Z,se,"","\\Game",!0);w(I,Z,se,"","\\backprime");w(I,Z,se,"","\\blacktriangle");w(I,Z,se,"","\\blacktriangledown");w(I,Z,se,"","\\blacksquare");w(I,Z,se,"","\\blacklozenge");w(I,Z,se,"","\\bigstar");w(I,Z,se,"","\\sphericalangle",!0);w(I,Z,se,"","\\complement",!0);w(I,Z,se,"","\\eth",!0);w(Re,P,se,"","");w(I,Z,se,"","\\diagup");w(I,Z,se,"","\\diagdown");w(I,Z,se,"","\\square");w(I,Z,se,"","\\Box");w(I,Z,se,"","\\Diamond");w(I,Z,se,"","\\yen",!0);w(Re,Z,se,"","\\yen",!0);w(I,Z,se,"","\\checkmark",!0);w(Re,Z,se,"","\\checkmark");w(I,Z,se,"","\\beth",!0);w(I,Z,se,"","\\daleth",!0);w(I,Z,se,"","\\gimel",!0);w(I,Z,se,"","\\digamma",!0);w(I,Z,se,"","\\varkappa");w(I,Z,Jr,"","\\@ulcorner",!0);w(I,Z,vr,"","\\@urcorner",!0);w(I,Z,Jr,"","\\@llcorner",!0);w(I,Z,vr,"","\\@lrcorner",!0);w(I,Z,J,"","\\leqq",!0);w(I,Z,J,"","\\leqslant",!0);w(I,Z,J,"","\\eqslantless",!0);w(I,Z,J,"","\\lesssim",!0);w(I,Z,J,"","\\lessapprox",!0);w(I,Z,J,"","\\approxeq",!0);w(I,Z,Ve,"","\\lessdot");w(I,Z,J,"","\\lll",!0);w(I,Z,J,"","\\lessgtr",!0);w(I,Z,J,"","\\lesseqgtr",!0);w(I,Z,J,"","\\lesseqqgtr",!0);w(I,Z,J,"","\\doteqdot");w(I,Z,J,"","\\risingdotseq",!0);w(I,Z,J,"","\\fallingdotseq",!0);w(I,Z,J,"","\\backsim",!0);w(I,Z,J,"","\\backsimeq",!0);w(I,Z,J,"","\\subseteqq",!0);w(I,Z,J,"","\\Subset",!0);w(I,Z,J,"","\\sqsubset",!0);w(I,Z,J,"","\\preccurlyeq",!0);w(I,Z,J,"","\\curlyeqprec",!0);w(I,Z,J,"","\\precsim",!0);w(I,Z,J,"","\\precapprox",!0);w(I,Z,J,"","\\vartriangleleft");w(I,Z,J,"","\\trianglelefteq");w(I,Z,J,"","\\vDash",!0);w(I,Z,J,"","\\Vvdash",!0);w(I,Z,J,"","\\smallsmile");w(I,Z,J,"","\\smallfrown");w(I,Z,J,"","\\bumpeq",!0);w(I,Z,J,"","\\Bumpeq",!0);w(I,Z,J,"","\\geqq",!0);w(I,Z,J,"","\\geqslant",!0);w(I,Z,J,"","\\eqslantgtr",!0);w(I,Z,J,"","\\gtrsim",!0);w(I,Z,J,"","\\gtrapprox",!0);w(I,Z,Ve,"","\\gtrdot");w(I,Z,J,"","\\ggg",!0);w(I,Z,J,"","\\gtrless",!0);w(I,Z,J,"","\\gtreqless",!0);w(I,Z,J,"","\\gtreqqless",!0);w(I,Z,J,"","\\eqcirc",!0);w(I,Z,J,"","\\circeq",!0);w(I,Z,J,"","\\triangleq",!0);w(I,Z,J,"","\\thicksim");w(I,Z,J,"","\\thickapprox");w(I,Z,J,"","\\supseteqq",!0);w(I,Z,J,"","\\Supset",!0);w(I,Z,J,"","\\sqsupset",!0);w(I,Z,J,"","\\succcurlyeq",!0);w(I,Z,J,"","\\curlyeqsucc",!0);w(I,Z,J,"","\\succsim",!0);w(I,Z,J,"","\\succapprox",!0);w(I,Z,J,"","\\vartriangleright");w(I,Z,J,"","\\trianglerighteq");w(I,Z,J,"","\\Vdash",!0);w(I,Z,J,"","\\shortmid");w(I,Z,J,"","\\shortparallel");w(I,Z,J,"","\\between",!0);w(I,Z,J,"","\\pitchfork",!0);w(I,Z,J,"","\\varpropto");w(I,Z,J,"","\\blacktriangleleft");w(I,Z,J,"","\\therefore",!0);w(I,Z,J,"","\\backepsilon");w(I,Z,J,"","\\blacktriangleright");w(I,Z,J,"","\\because",!0);w(I,Z,J,"","\\llless");w(I,Z,J,"","\\gggtr");w(I,Z,Ve,"","\\lhd");w(I,Z,Ve,"","\\rhd");w(I,Z,J,"","\\eqsim",!0);w(I,P,J,"","\\Join");w(I,Z,J,"","\\Doteq",!0);w(I,Z,Ve,"","\\dotplus",!0);w(I,Z,Ve,"","\\smallsetminus");w(I,Z,Ve,"","\\Cap",!0);w(I,Z,Ve,"","\\Cup",!0);w(I,Z,Ve,"","\\doublebarwedge",!0);w(I,Z,Ve,"","\\boxminus",!0);w(I,Z,Ve,"","\\boxplus",!0);w(I,Z,Ve,"","\\divideontimes",!0);w(I,Z,Ve,"","\\ltimes",!0);w(I,Z,Ve,"","\\rtimes",!0);w(I,Z,Ve,"","\\leftthreetimes",!0);w(I,Z,Ve,"","\\rightthreetimes",!0);w(I,Z,Ve,"","\\curlywedge",!0);w(I,Z,Ve,"","\\curlyvee",!0);w(I,Z,Ve,"","\\circleddash",!0);w(I,Z,Ve,"","\\circledast",!0);w(I,Z,Ve,"","\\centerdot");w(I,Z,Ve,"","\\intercal",!0);w(I,Z,Ve,"","\\doublecap");w(I,Z,Ve,"","\\doublecup");w(I,Z,Ve,"","\\boxtimes",!0);w(I,Z,J,"","\\dashrightarrow",!0);w(I,Z,J,"","\\dashleftarrow",!0);w(I,Z,J,"","\\leftleftarrows",!0);w(I,Z,J,"","\\leftrightarrows",!0);w(I,Z,J,"","\\Lleftarrow",!0);w(I,Z,J,"","\\twoheadleftarrow",!0);w(I,Z,J,"","\\leftarrowtail",!0);w(I,Z,J,"","\\looparrowleft",!0);w(I,Z,J,"","\\leftrightharpoons",!0);w(I,Z,J,"","\\curvearrowleft",!0);w(I,Z,J,"","\\circlearrowleft",!0);w(I,Z,J,"","\\Lsh",!0);w(I,Z,J,"","\\upuparrows",!0);w(I,Z,J,"","\\upharpoonleft",!0);w(I,Z,J,"","\\downharpoonleft",!0);w(I,P,J,"","\\origof",!0);w(I,P,J,"","\\imageof",!0);w(I,Z,J,"","\\multimap",!0);w(I,Z,J,"","\\leftrightsquigarrow",!0);w(I,Z,J,"","\\rightrightarrows",!0);w(I,Z,J,"","\\rightleftarrows",!0);w(I,Z,J,"","\\twoheadrightarrow",!0);w(I,Z,J,"","\\rightarrowtail",!0);w(I,Z,J,"","\\looparrowright",!0);w(I,Z,J,"","\\curvearrowright",!0);w(I,Z,J,"","\\circlearrowright",!0);w(I,Z,J,"","\\Rsh",!0);w(I,Z,J,"","\\downdownarrows",!0);w(I,Z,J,"","\\upharpoonright",!0);w(I,Z,J,"","\\downharpoonright",!0);w(I,Z,J,"","\\rightsquigarrow",!0);w(I,Z,J,"","\\leadsto");w(I,Z,J,"","\\Rrightarrow",!0);w(I,Z,J,"","\\restriction");w(I,P,se,"","`");w(I,P,se,"$","\\$");w(Re,P,se,"$","\\$");w(Re,P,se,"$","\\textdollar");w(I,P,se,"%","\\%");w(Re,P,se,"%","\\%");w(I,P,se,"_","\\_");w(Re,P,se,"_","\\_");w(Re,P,se,"_","\\textunderscore");w(I,P,se,"","\\angle",!0);w(I,P,se,"","\\infty",!0);w(I,P,se,"","\\prime");w(I,P,se,"","\\triangle");w(I,P,se,"","\\Gamma",!0);w(I,P,se,"","\\Delta",!0);w(I,P,se,"","\\Theta",!0);w(I,P,se,"","\\Lambda",!0);w(I,P,se,"","\\Xi",!0);w(I,P,se,"","\\Pi",!0);w(I,P,se,"","\\Sigma",!0);w(I,P,se,"","\\Upsilon",!0);w(I,P,se,"","\\Phi",!0);w(I,P,se,"","\\Psi",!0);w(I,P,se,"","\\Omega",!0);w(I,P,se,"A","");w(I,P,se,"B","");w(I,P,se,"E","");w(I,P,se,"Z","");w(I,P,se,"H","");w(I,P,se,"I","");w(I,P,se,"K","");w(I,P,se,"M","");w(I,P,se,"N","");w(I,P,se,"O","");w(I,P,se,"P","");w(I,P,se,"T","");w(I,P,se,"X","");w(I,P,se,"","\\neg",!0);w(I,P,se,"","\\lnot");w(I,P,se,"","\\top");w(I,P,se,"","\\bot");w(I,P,se,"","\\emptyset");w(I,Z,se,"","\\varnothing");w(I,P,Ze,"","\\alpha",!0);w(I,P,Ze,"","\\beta",!0);w(I,P,Ze,"","\\gamma",!0);w(I,P,Ze,"","\\delta",!0);w(I,P,Ze,"","\\epsilon",!0);w(I,P,Ze,"","\\zeta",!0);w(I,P,Ze,"","\\eta",!0);w(I,P,Ze,"","\\theta",!0);w(I,P,Ze,"","\\iota",!0);w(I,P,Ze,"","\\kappa",!0);w(I,P,Ze,"","\\lambda",!0);w(I,P,Ze,"","\\mu",!0);w(I,P,Ze,"","\\nu",!0);w(I,P,Ze,"","\\xi",!0);w(I,P,Ze,"","\\omicron",!0);w(I,P,Ze,"","\\pi",!0);w(I,P,Ze,"","\\rho",!0);w(I,P,Ze,"","\\sigma",!0);w(I,P,Ze,"","\\tau",!0);w(I,P,Ze,"","\\upsilon",!0);w(I,P,Ze,"","\\phi",!0);w(I,P,Ze,"","\\chi",!0);w(I,P,Ze,"","\\psi",!0);w(I,P,Ze,"","\\omega",!0);w(I,P,Ze,"","\\varepsilon",!0);w(I,P,Ze,"","\\vartheta",!0);w(I,P,Ze,"","\\varpi",!0);w(I,P,Ze,"","\\varrho",!0);w(I,P,Ze,"","\\varsigma",!0);w(I,P,Ze,"","\\varphi",!0);w(I,P,Ve,"","*",!0);w(I,P,Ve,"+","+");w(I,P,Ve,"","-",!0);w(I,P,Ve,"","\\cdot",!0);w(I,P,Ve,"","\\circ",!0);w(I,P,Ve,"","\\div",!0);w(I,P,Ve,"","\\pm",!0);w(I,P,Ve,"","\\times",!0);w(I,P,Ve,"","\\cap",!0);w(I,P,Ve,"","\\cup",!0);w(I,P,Ve,"","\\setminus",!0);w(I,P,Ve,"","\\land");w(I,P,Ve,"","\\lor");w(I,P,Ve,"","\\wedge",!0);w(I,P,Ve,"","\\vee",!0);w(I,P,se,"","\\surd");w(I,P,Jr,"","\\langle",!0);w(I,P,Jr,"","\\lvert");w(I,P,Jr,"","\\lVert");w(I,P,vr,"?","?");w(I,P,vr,"!","!");w(I,P,vr,"","\\rangle",!0);w(I,P,vr,"","\\rvert");w(I,P,vr,"","\\rVert");w(I,P,J,"=","=");w(I,P,J,":",":");w(I,P,J,"","\\approx",!0);w(I,P,J,"","\\cong",!0);w(I,P,J,"","\\ge");w(I,P,J,"","\\geq",!0);w(I,P,J,"","\\gets");w(I,P,J,">","\\gt",!0);w(I,P,J,"","\\in",!0);w(I,P,J,"","\\@not");w(I,P,J,"","\\subset",!0);w(I,P,J,"","\\supset",!0);w(I,P,J,"","\\subseteq",!0);w(I,P,J,"","\\supseteq",!0);w(I,Z,J,"","\\nsubseteq",!0);w(I,Z,J,"","\\nsupseteq",!0);w(I,P,J,"","\\models");w(I,P,J,"","\\leftarrow",!0);w(I,P,J,"","\\le");w(I,P,J,"","\\leq",!0);w(I,P,J,"<","\\lt",!0);w(I,P,J,"","\\rightarrow",!0);w(I,P,J,"","\\to");w(I,Z,J,"","\\ngeq",!0);w(I,Z,J,"","\\nleq",!0);w(I,P,ys,"","\\ ");w(I,P,ys,"","\\space");w(I,P,ys,"","\\nobreakspace");w(Re,P,ys,"","\\ ");w(Re,P,ys,""," ");w(Re,P,ys,"","\\space");w(Re,P,ys,"","\\nobreakspace");w(I,P,ys,null,"\\nobreak");w(I,P,ys,null,"\\allowbreak");w(I,P,g1,",",",");w(I,P,g1,";",";");w(I,Z,Ve,"","\\barwedge",!0);w(I,Z,Ve,"","\\veebar",!0);w(I,P,Ve,"","\\odot",!0);w(I,P,Ve,"","\\oplus",!0);w(I,P,Ve,"","\\otimes",!0);w(I,P,se,"","\\partial",!0);w(I,P,Ve,"","\\oslash",!0);w(I,Z,Ve,"","\\circledcirc",!0);w(I,Z,Ve,"","\\boxdot",!0);w(I,P,Ve,"","\\bigtriangleup");w(I,P,Ve,"","\\bigtriangledown");w(I,P,Ve,"","\\dagger");w(I,P,Ve,"","\\diamond");w(I,P,Ve,"","\\star");w(I,P,Ve,"","\\triangleleft");w(I,P,Ve,"","\\triangleright");w(I,P,Jr,"{","\\{");w(Re,P,se,"{","\\{");w(Re,P,se,"{","\\textbraceleft");w(I,P,vr,"}","\\}");w(Re,P,se,"}","\\}");w(Re,P,se,"}","\\textbraceright");w(I,P,Jr,"{","\\lbrace");w(I,P,vr,"}","\\rbrace");w(I,P,Jr,"[","\\lbrack",!0);w(Re,P,se,"[","\\lbrack",!0);w(I,P,vr,"]","\\rbrack",!0);w(Re,P,se,"]","\\rbrack",!0);w(I,P,Jr,"(","\\lparen",!0);w(I,P,vr,")","\\rparen",!0);w(Re,P,se,"<","\\textless",!0);w(Re,P,se,">","\\textgreater",!0);w(I,P,Jr,"","\\lfloor",!0);w(I,P,vr,"","\\rfloor",!0);w(I,P,Jr,"","\\lceil",!0);w(I,P,vr,"","\\rceil",!0);w(I,P,se,"\\","\\backslash");w(I,P,se,"","|");w(I,P,se,"","\\vert");w(Re,P,se,"|","\\textbar",!0);w(I,P,se,"","\\|");w(I,P,se,"","\\Vert");w(Re,P,se,"","\\textbardbl");w(Re,P,se,"~","\\textasciitilde");w(Re,P,se,"\\","\\textbackslash");w(Re,P,se,"^","\\textasciicircum");w(I,P,J,"","\\uparrow",!0);w(I,P,J,"","\\Uparrow",!0);w(I,P,J,"","\\downarrow",!0);w(I,P,J,"","\\Downarrow",!0);w(I,P,J,"","\\updownarrow",!0);w(I,P,J,"","\\Updownarrow",!0);w(I,P,zn,"","\\coprod");w(I,P,zn,"","\\bigvee");w(I,P,zn,"","\\bigwedge");w(I,P,zn,"","\\biguplus");w(I,P,zn,"","\\bigcap");w(I,P,zn,"","\\bigcup");w(I,P,zn,"","\\int");w(I,P,zn,"","\\intop");w(I,P,zn,"","\\iint");w(I,P,zn,"","\\iiint");w(I,P,zn,"","\\prod");w(I,P,zn,"","\\sum");w(I,P,zn,"","\\bigotimes");w(I,P,zn,"","\\bigoplus");w(I,P,zn,"","\\bigodot");w(I,P,zn,"","\\oint");w(I,P,zn,"","\\oiint");w(I,P,zn,"","\\oiiint");w(I,P,zn,"","\\bigsqcup");w(I,P,zn,"","\\smallint");w(Re,P,xc,"","\\textellipsis");w(I,P,xc,"","\\mathellipsis");w(Re,P,xc,"","\\ldots",!0);w(I,P,xc,"","\\ldots",!0);w(I,P,xc,"","\\@cdots",!0);w(I,P,xc,"","\\ddots",!0);w(I,P,se,"","\\varvdots");w(Re,P,se,"","\\varvdots");w(I,P,rn,"","\\acute");w(I,P,rn,"","\\grave");w(I,P,rn,"","\\ddot");w(I,P,rn,"~","\\tilde");w(I,P,rn,"","\\bar");w(I,P,rn,"","\\breve");w(I,P,rn,"","\\check");w(I,P,rn,"^","\\hat");w(I,P,rn,"","\\vec");w(I,P,rn,"","\\dot");w(I,P,rn,"","\\mathring");w(I,P,Ze,"","\\@imath");w(I,P,Ze,"","\\@jmath");w(I,P,se,"","");w(I,P,se,"","");w(Re,P,se,"","\\i",!0);w(Re,P,se,"","\\j",!0);w(Re,P,se,"","\\ss",!0);w(Re,P,se,"","\\ae",!0);w(Re,P,se,"","\\oe",!0);w(Re,P,se,"","\\o",!0);w(Re,P,se,"","\\AE",!0);w(Re,P,se,"","\\OE",!0);w(Re,P,se,"","\\O",!0);w(Re,P,rn,"","\\'");w(Re,P,rn,"","\\`");w(Re,P,rn,"","\\^");w(Re,P,rn,"","\\~");w(Re,P,rn,"","\\=");w(Re,P,rn,"","\\u");w(Re,P,rn,"","\\.");w(Re,P,rn,"","\\c");w(Re,P,rn,"","\\r");w(Re,P,rn,"","\\v");w(Re,P,rn,"",'\\"');w(Re,P,rn,"","\\H");w(Re,P,rn,"","\\textcircled");var wO={"--":!0,"---":!0,"``":!0,"''":!0};w(Re,P,se,"","--",!0);w(Re,P,se,"","\\textendash");w(Re,P,se,"","---",!0);w(Re,P,se,"","\\textemdash");w(Re,P,se,"","`",!0);w(Re,P,se,"","\\textquoteleft");w(Re,P,se,"","'",!0);w(Re,P,se,"","\\textquoteright");w(Re,P,se,"","``",!0);w(Re,P,se,"","\\textquotedblleft");w(Re,P,se,"","''",!0);w(Re,P,se,"","\\textquotedblright");w(I,P,se,"","\\degree",!0);w(Re,P,se,"","\\degree");w(Re,P,se,"","\\textdegree",!0);w(I,P,se,"","\\pounds");w(I,P,se,"","\\mathsterling",!0);w(Re,P,se,"","\\pounds");w(Re,P,se,"","\\textsterling",!0);w(I,Z,se,"","\\maltese");w(Re,Z,se,"","\\maltese");var rE='0123456789/@."';for(var fv=0;fv<rE.length;fv++){var iE=rE.charAt(fv);w(I,P,se,iE,iE)}var aE='0123456789!@*()-=+";:?/.,';for(var dv=0;dv<aE.length;dv++){var sE=aE.charAt(dv);w(Re,P,se,sE,sE)}var Im="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var mv=0;mv<Im.length;mv++){var Sd=Im.charAt(mv);w(I,P,Ze,Sd,Sd),w(Re,P,se,Sd,Sd)}w(I,Z,se,"C","");w(Re,Z,se,"C","");w(I,Z,se,"H","");w(Re,Z,se,"H","");w(I,Z,se,"N","");w(Re,Z,se,"N","");w(I,Z,se,"P","");w(Re,Z,se,"P","");w(I,Z,se,"Q","");w(Re,Z,se,"Q","");w(I,Z,se,"R","");w(Re,Z,se,"R","");w(I,Z,se,"Z","");w(Re,Z,se,"Z","");w(I,P,Ze,"h","");w(Re,P,Ze,"h","");var tt="";for(var dr=0;dr<Im.length;dr++){var yn=Im.charAt(dr);tt=String.fromCharCode(55349,56320+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56372+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56424+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56580+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56684+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56736+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56788+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56840+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56944+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),dr<26&&(tt=String.fromCharCode(55349,56632+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt),tt=String.fromCharCode(55349,56476+dr),w(I,P,Ze,yn,tt),w(Re,P,se,yn,tt))}tt="";w(I,P,Ze,"k",tt);w(Re,P,se,"k",tt);for(var hl=0;hl<10;hl++){var so=hl.toString();tt=String.fromCharCode(55349,57294+hl),w(I,P,Ze,so,tt),w(Re,P,se,so,tt),tt=String.fromCharCode(55349,57314+hl),w(I,P,Ze,so,tt),w(Re,P,se,so,tt),tt=String.fromCharCode(55349,57324+hl),w(I,P,Ze,so,tt),w(Re,P,se,so,tt),tt=String.fromCharCode(55349,57334+hl),w(I,P,Ze,so,tt),w(Re,P,se,so,tt)}var k6="";for(var pv=0;pv<k6.length;pv++){var Ed=k6.charAt(pv);w(I,P,Ze,Ed,Ed),w(Re,P,se,Ed,Ed)}var Td=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],oE=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],nJ=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=s&&s<120484){var c=Math.floor((s-119808)/26);return[Td[c][2],Td[c][l]]}else if(120782<=s&&s<=120831){var h=Math.floor((s-120782)/10);return[oE[h][2],oE[h][l]]}else{if(s===120485||s===120486)return[Td[0][2],Td[0][l]];if(120486<s&&s<120782)return["",""];throw new Ne("Unsupported character: "+e)}},v1=function(e,n,r){return $t[r][e]&&$t[r][e].replace&&(e=$t[r][e].replace),{value:e,metrics:a7(e,n,r)}},Vi=function(e,n,r,i,s){var l=v1(e,n,r),c=l.metrics;e=l.value;var h;if(c){var f=c.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),h=new wi(e,c.height,c.depth,f,c.skew,c.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),h=new wi(e,0,0,0,0,0,s);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},rJ=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&v1(e,"Main-Bold",n).metrics?Vi(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||$t[n][e].font==="main"?Vi(e,"Main-Regular",n,r,i):Vi(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},iJ=function(e,n,r,i,s){return s!=="textord"&&v1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},aJ=function(e,n,r){var i=e.mode,s=e.text,l=["mord"],c=i==="math"||i==="text"&&n.font,h=c?n.font:n.fontFamily,f="",m="";if(s.charCodeAt(0)===55349&&([f,m]=nJ(s,i)),f.length>0)return Vi(s,f,i,n,l.concat(m));if(h){var p,v;if(h==="boldsymbol"){var b=iJ(s,i,n,l,r);p=b.fontName,v=[b.fontClass]}else c?(p=EO[h].fontName,v=[h]):(p=Ad(h,n.fontWeight,n.fontShape),v=[h,n.fontWeight,n.fontShape]);if(v1(s,p,i).metrics)return Vi(s,p,i,n,l.concat(v));if(wO.hasOwnProperty(s)&&p.slice(0,10)==="Typewriter"){for(var x=[],S=0;S<s.length;S++)x.push(Vi(s[S],p,i,n,l.concat(v)));return SO(x)}}if(r==="mathord")return Vi(s,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var E=$t[i][s]&&$t[i][s].font;if(E==="ams"){var C=Ad("amsrm",n.fontWeight,n.fontShape);return Vi(s,C,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(E==="main"||!E){var O=Ad("textrm",n.fontWeight,n.fontShape);return Vi(s,O,i,n,l.concat(n.fontWeight,n.fontShape))}else{var A=Ad(E,n.fontWeight,n.fontShape);return Vi(s,A,i,n,l.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},sJ=(t,e)=>{if(Ro(t.classes)!==Ro(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},oJ=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof wi&&r instanceof wi&&sJ(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},o7=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var l=e.children[s];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Rr=function(e,n,r,i){var s=new zh(e,n,r,i);return o7(s),s},xO=(t,e,n,r)=>new zh(t,e,n,r),lJ=function(e,n,r){var i=Rr([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},uJ=function(e,n,r,i){var s=new s7(e,n,r,i);return o7(s),s},SO=function(e){var n=new Oh(e);return o7(n),n},cJ=function(e,n){return e instanceof Oh?Rr([],[e],n):e},hJ=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,l=1;l<n.length;l++){var c=-n[l].shift-s-n[l].elem.depth,h=c-(n[l-1].elem.height+n[l-1].elem.depth);s=s+c,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var v=e.children[p];m-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},fJ=function(e,n){for(var{children:r,depth:i}=hJ(e),s=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var h=c.elem;s=Math.max(s,h.maxFontSize,h.height)}}s+=2;var f=Rr(["pstrut"],[]);f.style.height=ke(s);for(var m=[],p=i,v=i,b=i,x=0;x<r.length;x++){var S=r[x];if(S.type==="kern")b+=S.size;else{var E=S.elem,C=S.wrapperClasses||[],O=S.wrapperStyle||{},A=Rr(C,[f,E],void 0,O);A.style.top=ke(-s-b-E.depth),S.marginLeft&&(A.style.marginLeft=S.marginLeft),S.marginRight&&(A.style.marginRight=S.marginRight),m.push(A),b+=E.height+E.depth}p=Math.min(p,b),v=Math.max(v,b)}var z=Rr(["vlist"],m);z.style.height=ke(v);var U;if(p<0){var q=Rr([],[]),R=Rr(["vlist"],[q]);R.style.height=ke(-p);var M=Rr(["vlist-s"],[new wi("")]);U=[Rr(["vlist-r"],[z,M]),Rr(["vlist-r"],[R])]}else U=[Rr(["vlist-r"],[z])];var D=Rr(["vlist-t"],U);return U.length===2&&D.classes.push("vlist-t2"),D.height=v,D.depth=-p,D},dJ=(t,e)=>{var n=Rr(["mspace"],[],e),r=ln(t,e);return n.style.marginRight=ke(r),n},Ad=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},EO={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},TO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},mJ=function(e,n){var[r,i,s]=TO[e],l=new Io(r),c=new fs([l],{width:ke(i),height:ke(s),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),h=xO(["overlay"],[c],n);return h.height=s,h.style.height=ke(s),h.style.width=ke(i),h},ge={fontMap:EO,makeSymbol:Vi,mathsym:rJ,makeSpan:Rr,makeSvgSpan:xO,makeLineSpan:lJ,makeAnchor:uJ,makeFragment:SO,wrapFragment:cJ,makeVList:fJ,makeOrd:aJ,makeGlue:dJ,staticSvg:mJ,svgData:TO,tryCombineChars:oJ},on={number:3,unit:"mu"},fl={number:4,unit:"mu"},Ja={number:5,unit:"mu"},pJ={mord:{mop:on,mbin:fl,mrel:Ja,minner:on},mop:{mord:on,mop:on,mrel:Ja,minner:on},mbin:{mord:fl,mop:fl,mopen:fl,minner:fl},mrel:{mord:Ja,mop:Ja,mopen:Ja,minner:Ja},mopen:{},mclose:{mop:on,mbin:fl,mrel:Ja,minner:on},mpunct:{mord:on,mop:on,mrel:Ja,mopen:on,mclose:on,mpunct:on,minner:on},minner:{mord:on,mop:on,mbin:fl,mrel:Ja,mopen:on,mpunct:on,minner:on}},gJ={mord:{mop:on},mop:{mord:on,mop:on},mbin:{},mrel:{},mopen:{},mclose:{mop:on},mpunct:{},minner:{mop:on}},AO={},Nm={},Mm={};function ze(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},h=0;h<n.length;++h)AO[n[h]]=c;e&&(s&&(Nm[e]=s),l&&(Mm[e]=l))}function Ll(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var km=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Sn=function(e){return e.type==="ordgroup"?e.body:[e]},ds=ge.makeSpan,vJ=["leftmost","mbin","mopen","mrel","mop","mpunct"],yJ=["rightmost","mrel","mclose","mpunct"],_J={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},bJ={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Bn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],l=0;l<e.length;l++){var c=Tt(e[l],n);if(c instanceof Oh){var h=c.children;s.push(...h)}else s.push(c)}if(ge.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var m=e[0];m.type==="sizing"?f=n.havingSize(m.size):m.type==="styling"&&(f=n.havingStyle(_J[m.style]))}var p=ds([i[0]||"leftmost"],[],n),v=ds([i[1]||"rightmost"],[],n),b=r==="root";return lE(s,(x,S)=>{var E=S.classes[0],C=x.classes[0];E==="mbin"&&yJ.includes(C)?S.classes[0]="mord":C==="mbin"&&vJ.includes(E)&&(x.classes[0]="mord")},{node:p},v,b),lE(s,(x,S)=>{var E=D6(S),C=D6(x),O=E&&C?x.hasClass("mtight")?gJ[E][C]:pJ[E][C]:null;if(O)return ge.makeGlue(O,f)},{node:p},v,b),s},lE=function t(e,n,r,i,s){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=CO(c);if(h){t(h.children,n,r,null,s);continue}var f=!c.hasClass("mspace");if(f){var m=n(c,r.node);m&&(r.insertAfter?r.insertAfter(m):(e.unshift(m),l++))}f?r.node=c:s&&c.hasClass("newline")&&(r.node=ds(["leftmost"])),r.insertAfter=(p=>v=>{e.splice(p+1,0,v),l++})(l)}i&&e.pop()},CO=function(e){return e instanceof Oh||e instanceof s7||e instanceof zh&&e.hasClass("enclosing")?e:null},wJ=function t(e,n){var r=CO(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},D6=function(e,n){return e?(n&&(e=wJ(e,n)),bJ[e.classes[0]]||null):null},fh=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ds(n.concat(r))},Tt=function(e,n,r){if(!e)return ds();if(Nm[e.type]){var i=Nm[e.type](e,n);if(r&&n.size!==r.size){i=ds(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function Cd(t,e){var n=ds(["base"],t,e),r=ds(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function O6(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Bn(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var h=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(h=!0);h||(s.push(Cd(l,e)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(s.push(Cd(l,e)),l=[]),s.push(r[c]));l.length>0&&s.push(Cd(l,e));var f;n?(f=Cd(Bn(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var m=ds(["katex-html"],s);if(m.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=ke(m.height+m.depth),m.depth&&(p.style.verticalAlign=ke(-m.depth))}return m}function RO(t){return new Oh(t)}let Xr=class{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Ro(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ha&&this.children[r+1]instanceof ha){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ha;)i+=this.children[++r].toText();e.appendChild(new ha(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=It.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+It.escape(Ro(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}};class ha{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return It.escape(this.toText())}toText(){return this.text}}class xJ{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:Xr,TextNode:ha,SpaceNode:xJ,newDocumentFragment:RO},xi=function(e,n,r){return $t[n][e]&&$t[n][e].replace&&e.charCodeAt(0)!==55349&&!(wO.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=$t[n][e].replace),new Ie.TextNode(e)},l7=function(e){return e.length===1?e[0]:new Ie.MathNode("mrow",e)},u7=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;$t[i][s]&&$t[i][s].replace&&(s=$t[i][s].replace);var l=ge.fontMap[r].fontName;return a7(s,l,i)?ge.fontMap[r].variant:null};function gv(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ha&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof ha&&n.text===","}else return!1}var Dr=function(e,n,r){if(e.length===1){var i=Ft(e[0],n);return r&&i instanceof Xr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],l,c=0;c<e.length;c++){var h=Ft(e[c],n);if(h instanceof Xr&&l instanceof Xr){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(gv(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&gv(l))h.children=[...l.children,...h.children],s.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||gv(l))){var f=h.children[0];f instanceof Xr&&f.type==="mn"&&(f.children=[...l.children,...f.children],s.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof ha&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof ha&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),s.pop())}}}s.push(h),l=h}return s},No=function(e,n,r){return l7(Dr(e,n,r))},Ft=function(e,n){if(!e)return new Ie.MathNode("mrow");if(Mm[e.type]){var r=Mm[e.type](e,n);return r}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function uE(t,e,n,r,i){var s=Dr(t,n),l;s.length===1&&s[0]instanceof Xr&&["mrow","mtable"].includes(s[0].type)?l=s[0]:l=new Ie.MathNode("mrow",s);var c=new Ie.MathNode("annotation",[new Ie.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ie.MathNode("semantics",[l,c]),f=new Ie.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return ge.makeSpan([m],[f])}var IO=function(e){return new es({style:e.displayMode?We.DISPLAY:We.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},NO=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=ge.makeSpan(r,[e])}return e},SJ=function(e,n,r){var i=IO(r),s;if(r.output==="mathml")return uE(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=O6(e,i);s=ge.makeSpan(["katex"],[l])}else{var c=uE(e,n,i,r.displayMode,!1),h=O6(e,i);s=ge.makeSpan(["katex"],[c,h])}return NO(s,r)},EJ=function(e,n,r){var i=IO(r),s=O6(e,i),l=ge.makeSpan(["katex"],[s]);return NO(l,r)},TJ={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},AJ=function(e){var n=new Ie.MathNode("mo",[new Ie.TextNode(TJ[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},CJ={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},RJ=function(e){return e.type==="ordgroup"?e.body.length:1},IJ=function(e,n){function r(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var f=e,m=RJ(f.base),p,v,b;if(m>5)h==="widehat"||h==="widecheck"?(p=420,c=2364,b=.42,v=h+"4"):(p=312,c=2340,b=.34,v="tilde4");else{var x=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][x],p=[0,239,300,360,420][x],b=[0,.24,.3,.3,.36,.42][x],v=h+x):(c=[0,600,1033,2339,2340][x],p=[0,260,286,306,312][x],b=[0,.26,.286,.3,.306,.34][x],v="tilde"+x)}var S=new Io(v),E=new fs([S],{width:"100%",height:ke(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:ge.makeSvgSpan([],[E],n),minWidth:0,height:b}}else{var C=[],O=CJ[h],[A,z,U]=O,q=U/1e3,R=A.length,M,D;if(R===1){var H=O[3];M=["hide-tail"],D=[H]}else if(R===2)M=["halfarrow-left","halfarrow-right"],D=["xMinYMin","xMaxYMin"];else if(R===3)M=["brace-left","brace-center","brace-right"],D=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var V=0;V<R;V++){var j=new Io(A[V]),B=new fs([j],{width:"400em",height:ke(q),viewBox:"0 0 "+c+" "+U,preserveAspectRatio:D[V]+" slice"}),K=ge.makeSvgSpan([M[V]],[B],n);if(R===1)return{span:K,minWidth:z,height:q};K.style.height=ke(q),C.push(K)}return{span:ge.makeSpan(["stretchy"],C,n),minWidth:z,height:q}}}var{span:i,minWidth:s,height:l}=r();return i.height=l,i.style.height=ke(l),s>0&&(i.style.minWidth=ke(s)),i},NJ=function(e,n,r,i,s){var l,c=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=ge.makeSpan(["stretchy",n],[],s),n==="fbox"){var h=s.color&&s.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new M6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new M6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new fs(f,{width:"100%",height:ke(c)});l=ge.makeSvgSpan([],[m],s)}return l.height=c,l.style.height=ke(c),l},ms={encloseSpan:NJ,mathMLnode:AJ,svgSpan:IJ};function ct(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function c7(t){var e=y1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function y1(t){return t&&(t.type==="atom"||tJ.hasOwnProperty(t.type))?t:null}var h7=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=ct(t.base,"accent"),n=r.base,t.base=n,i=JW(Tt(t,e)),t.base=r):(r=ct(t,"accent"),n=r.base);var s=Tt(n,e.havingCrampedStyle()),l=r.isShifty&&It.isCharacterBox(n),c=0;if(l){var h=It.getBaseElem(n),f=Tt(h,e.havingCrampedStyle());c=nE(f).skew}var m=r.label==="\\c",p=m?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),v;if(r.isStretchy)v=ms.svgSpan(r,e),v=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},e);else{var b,x;r.label==="\\vec"?(b=ge.staticSvg("vec",e),x=ge.svgData.vec[1]):(b=ge.makeOrd({mode:r.mode,text:r.label},e,"textord"),b=nE(b),b.italic=0,x=b.width,m&&(p+=b.depth)),v=ge.makeSpan(["accent-body"],[b]);var S=r.label==="\\textcircled";S&&(v.classes.push("accent-full"),p=s.height);var E=c;S||(E-=x/2),v.style.left=ke(E),r.label==="\\textcircled"&&(v.style.top=".2em"),v=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-p},{type:"elem",elem:v}]},e)}var C=ge.makeSpan(["mord","accent"],[v],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},MO=(t,e)=>{var n=t.isStretchy?ms.mathMLnode(t.label):new Ie.MathNode("mo",[xi(t.label,t.mode)]),r=new Ie.MathNode("mover",[Ft(t.base,e),n]);return r.setAttribute("accent","true"),r},MJ=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=km(e[0]),r=!MJ.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:h7,mathmlBuilder:MO});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:h7,mathmlBuilder:MO});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Tt(t.base,e),r=ms.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=ge.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return ge.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ms.mathMLnode(t.label),r=new Ie.MathNode("munder",[Ft(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Rd=t=>{var e=new Ie.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=ge.wrapFragment(Tt(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=ge.wrapFragment(Tt(t.below,r,e),e),l.classes.push(s+"-arrow-pad"));var c=ms.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:p}]},e)}else m=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),ge.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=ms.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Rd(Ft(t.body,e));if(t.below){var s=Rd(Ft(t.below,e));r=new Ie.MathNode("munderover",[n,s,i])}else r=new Ie.MathNode("mover",[n,i])}else if(t.below){var l=Rd(Ft(t.below,e));r=new Ie.MathNode("munder",[n,l])}else r=Rd(),r=new Ie.MathNode("mover",[n,r]);return r}});var kJ=ge.makeSpan;function kO(t,e){var n=Bn(t.body,e,!0);return kJ([t.mclass],n,e)}function DO(t,e){var n,r=Dr(t.body,e);return t.mclass==="minner"?n=new Ie.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ie.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ie.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Sn(i),isCharacterBox:It.isCharacterBox(i)}},htmlBuilder:kO,mathmlBuilder:DO});var _1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:_1(e[0]),body:Sn(e[1]),isCharacterBox:It.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],l;r!=="\\stackrel"?l=_1(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Sn(i)},h={type:"supsub",mode:s.mode,base:c,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:It.isCharacterBox(h)}},htmlBuilder:kO,mathmlBuilder:DO});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:_1(e[0]),body:Sn(e[0])}},htmlBuilder(t,e){var n=Bn(t.body,e,!0),r=ge.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Dr(t.body,e),r=new Ie.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var DJ={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},cE=()=>({type:"styling",body:[],mode:"math",style:"display"}),hE=t=>t.type==="textord"&&t.text==="@",OJ=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function zJ(t,e,n){var r=DJ[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[s],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function LJ(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var l=e[s],c=cE(),h=0;h<l.length;h++)if(!hE(l[h]))c.body.push(l[h]);else{r.push(c),h+=1;var f=c7(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var v=!0,b=h+1;b<l.length;b++){if(OJ(l[b],f)){v=!1,h=b;break}if(hE(l[b]))throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(v)throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new Ne('Expected one of "<>AV=|." after @',l[h]);var x=zJ(f,m,t),S={type:"styling",body:[x],mode:"math",style:"display"};r.push(S),c=cE()}s%2===0?r.push(c):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ge.wrapFragment(Tt(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ie.MathNode("mrow",[Ft(t.label,e)]);return n=new Ie.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ie.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ge.wrapFragment(Tt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ie.MathNode("mrow",[Ft(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ct(e[0],"ordgroup"),i=r.body,s="",l=0;l<i.length;l++){var c=ct(i[l],"textord");s+=c.text}var h=parseInt(s),f;if(isNaN(h))throw new Ne("\\@char has non-numeric argument "+s);if(h<0||h>=1114111)throw new Ne("\\@char with invalid code point "+s);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var OO=(t,e)=>{var n=Bn(t.body,e.withColor(t.color),!1);return ge.makeFragment(n)},zO=(t,e)=>{var n=Dr(t.body,e.withColor(t.color)),r=new Ie.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ct(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Sn(i)}},htmlBuilder:OO,mathmlBuilder:zO});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ct(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:OO,mathmlBuilder:zO});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&ct(i,"size").value}},htmlBuilder(t,e){var n=ge.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(ln(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ie.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(ln(t.size,e)))),n}});var z6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},LO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ne("Expected a control sequence",t);return e},VJ=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},VO=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(z6[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=z6[r.text]),ct(e.parseFunction(),"internal");throw new Ne("Invalid token after macro prefix",r)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ne("Expected a control sequence",r);for(var s=0,l,c=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Ne('Argument number "'+r.text+'" out of order');s++,c.push([])}else{if(r.text==="EOF")throw new Ne("Expected a macro definition");c[s].push(r.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:s,delimiters:c},n===z6[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=LO(e.gullet.popToken());e.gullet.consumeSpaces();var i=VJ(e);return VO(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=LO(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return VO(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var M0=function(e,n,r){var i=$t.math[e]&&$t.math[e].replace,s=a7(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},f7=function(e,n,r,i){var s=r.havingBaseStyle(n),l=ge.makeSpan(i.concat(s.sizingClasses(r)),[e],r),c=s.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=s.sizeMultiplier,l},qO=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(s),e.height-=s,e.depth+=s},qJ=function(e,n,r,i,s,l){var c=ge.makeSymbol(e,"Main-Regular",s,i),h=f7(c,n,i,l);return r&&qO(h,i,n),h},PJ=function(e,n,r,i){return ge.makeSymbol(e,"Size"+n+"-Regular",r,i)},PO=function(e,n,r,i,s,l){var c=PJ(e,n,s,i),h=f7(ge.makeSpan(["delimsizing","size"+n],[c],i),We.TEXT,i,l);return r&&qO(h,i,We.TEXT),h},vv=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ge.makeSpan(["delimsizinginner",i],[ge.makeSpan([],[ge.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},yv=function(e,n,r){var i=ca["Size4-Regular"][e.charCodeAt(0)]?ca["Size4-Regular"][e.charCodeAt(0)][4]:ca["Size1-Regular"][e.charCodeAt(0)][4],s=new Io("inner",FW(e,Math.round(1e3*n))),l=new fs([s],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=ge.makeSvgSpan([],[l],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},L6=.008,Id={type:"kern",size:-1*L6},BJ=["|","\\lvert","\\rvert","\\vert"],jJ=["\\|","\\lVert","\\rVert","\\Vert"],BO=function(e,n,r,i,s,l){var c,h,f,m,p="",v=0;c=f=m=e,h=null;var b="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):BJ.includes(e)?(f="",p="vert",v=333):jJ.includes(e)?(f="",p="doublevert",v=556):e==="["||e==="\\lbrack"?(c="",f="",m="",b="Size4-Regular",p="lbrack",v=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",b="Size4-Regular",p="rbrack",v=667):e==="\\lfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="lfloor",v=667):e==="\\lceil"||e===""?(c="",f=m="",b="Size4-Regular",p="lceil",v=667):e==="\\rfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="rfloor",v=667):e==="\\rceil"||e===""?(c="",f=m="",b="Size4-Regular",p="rceil",v=667):e==="("||e==="\\lparen"?(c="",f="",m="",b="Size4-Regular",p="lparen",v=875):e===")"||e==="\\rparen"?(c="",f="",m="",b="Size4-Regular",p="rparen",v=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",b="Size4-Regular");var x=M0(c,b,s),S=x.height+x.depth,E=M0(f,b,s),C=E.height+E.depth,O=M0(m,b,s),A=O.height+O.depth,z=0,U=1;if(h!==null){var q=M0(h,b,s);z=q.height+q.depth,U=2}var R=S+A+z,M=Math.max(0,Math.ceil((n-R)/(U*C))),D=R+M*U*C,H=i.fontMetrics().axisHeight;r&&(H*=i.sizeMultiplier);var V=D/2-H,j=[];if(p.length>0){var B=D-S-A,K=Math.round(D*1e3),ne=GW(p,Math.round(B*1e3)),$=new Io(p,ne),ee=(v/1e3).toFixed(3)+"em",re=(K/1e3).toFixed(3)+"em",ce=new fs([$],{width:ee,height:re,viewBox:"0 0 "+v+" "+K}),de=ge.makeSvgSpan([],[ce],i);de.height=K/1e3,de.style.width=ee,de.style.height=re,j.push({type:"elem",elem:de})}else{if(j.push(vv(m,b,s)),j.push(Id),h===null){var Y=D-S-A+2*L6;j.push(yv(f,Y,i))}else{var W=(D-S-A-z)/2+2*L6;j.push(yv(f,W,i)),j.push(Id),j.push(vv(h,b,s)),j.push(Id),j.push(yv(f,W,i))}j.push(Id),j.push(vv(c,b,s))}var me=i.havingBaseStyle(We.TEXT),Q=ge.makeVList({positionType:"bottom",positionData:V,children:j},me);return f7(ge.makeSpan(["delimsizing","mult"],[Q],me),We.TEXT,i,l)},_v=80,bv=.08,wv=function(e,n,r,i,s){var l=HW(e,i,r),c=new Io(e,l),h=new fs([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ge.makeSvgSpan(["hide-tail"],[h],s)},UJ=function(e,n){var r=n.havingBaseSizing(),i=FO("\\surd",e*r.sizeMultiplier,HO,r),s=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,h=0,f=0,m=0,p;return i.type==="small"?(m=1e3+1e3*l+_v,e<1?s=1:e<1.4&&(s=.7),h=(1+l+bv)/s,f=(1+l)/s,c=wv("sqrtMain",h,m,l,n),c.style.minWidth="0.853em",p=.833/s):i.type==="large"?(m=(1e3+_v)*F0[i.size],f=(F0[i.size]+l)/s,h=(F0[i.size]+l+bv)/s,c=wv("sqrtSize"+i.size,h,m,l,n),c.style.minWidth="1.02em",p=1/s):(h=e+l+bv,f=e+l,m=Math.floor(1e3*e+l)+_v,c=wv("sqrtTall",h,m,l,n),c.style.minWidth="0.742em",p=1.056),c.height=f,c.style.height=ke(h),{span:c,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*s}},jO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],HJ=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],UO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],F0=[0,1.2,1.8,2.4,3],FJ=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),jO.includes(e)||UO.includes(e))return PO(e,n,!1,r,i,s);if(HJ.includes(e))return BO(e,F0[n],!1,r,i,s);throw new Ne("Illegal delimiter: '"+e+"'")},GJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],$J=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],HO=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],YJ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},FO=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),l=s;l<r.length&&r[l].type!=="stack";l++){var c=M0(e,YJ(r[l]),"math"),h=c.height+c.depth;if(r[l].type==="small"){var f=i.havingBaseStyle(r[l].style);h*=f.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},GO=function(e,n,r,i,s,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;UO.includes(e)?c=GJ:jO.includes(e)?c=HO:c=$J;var h=FO(e,n,c,i);return h.type==="small"?qJ(e,h.style,r,i,s,l):h.type==="large"?PO(e,h.size,r,i,s,l):BO(e,n,r,i,s,l)},XJ=function(e,n,r,i,s,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(n-c,r+c),p=Math.max(m/500*h,2*m-f);return GO(e,p,!0,i,s,l)},ss={sqrtImage:UJ,sizedDelim:FJ,sizeToMaxHeight:F0,customSizedDelim:GO,leftRightDelim:XJ},fE={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},KJ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function b1(t,e){var n=y1(t);if(n&&KJ.includes(n.text))return n;throw n?new Ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ne("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=b1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:fE[t.funcName].size,mclass:fE[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ge.makeSpan([t.mclass]):ss.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(xi(t.delim,t.mode));var n=new Ie.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(ss.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function dE(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:b1(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=b1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=ct(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{dE(t);for(var n=Bn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,l=0;l<n.length;l++)n[l].isMiddle?s=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=fh(e,["mopen"]):c=ss.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(c),s)for(var h=1;h<n.length;h++){var f=n[h],m=f.isMiddle;m&&(n[h]=ss.leftRightDelim(m.delim,r,i,m.options,t.mode,[]))}var p;if(t.right===".")p=fh(e,["mclose"]);else{var v=t.rightColor?e.withColor(t.rightColor):e;p=ss.leftRightDelim(t.right,r,i,v,t.mode,["mclose"])}return n.push(p),ge.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{dE(t);var n=Dr(t.body,e);if(t.left!=="."){var r=new Ie.MathNode("mo",[xi(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ie.MathNode("mo",[xi(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return l7(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=b1(e[0],t);if(!t.parser.leftrightDepth)throw new Ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=fh(e,[]);else{n=ss.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?xi("|","text"):xi(t.delim,t.mode),r=new Ie.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var d7=(t,e)=>{var n=ge.wrapFragment(Tt(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,l=0,c=It.isCharacterBox(t.body);if(r==="sout")s=ge.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var h=ln({number:.6,unit:"pt"},e),f=ln({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=n.height+n.depth+h+f;n.style.paddingLeft=ke(p/2+h);var v=Math.floor(1e3*p*i),b=jW(v),x=new fs([new Io("phase",b)],{width:"400em",height:ke(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});s=ge.makeSvgSpan(["hide-tail"],[x],e),s.style.height=ke(p),l=n.depth+h+f}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,E=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),E=S):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*C,E=Math.max(0,.25-n.depth)):(S=c?.2:0,E=S),s=ms.encloseSpan(n,r,S,E,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=ke(C)):r==="angl"&&C!==.049&&(s.style.borderTopWidth=ke(C),s.style.borderRightWidth=ke(C)),l=n.depth+E,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var O;if(t.backgroundColor)O=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];O=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(O.height=n.height,O.depth=n.depth),/cancel/.test(r)&&!c?ge.makeSpan(["mord","cancel-lap"],[O],e):ge.makeSpan(["mord"],[O],e)},m7=(t,e)=>{var n=0,r=new Ie.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ft(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=ct(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:l}},htmlBuilder:d7,mathmlBuilder:m7});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=ct(e[0],"color-token").color,l=ct(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:s,body:c}},htmlBuilder:d7,mathmlBuilder:m7});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:d7,mathmlBuilder:m7});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var $O={};function xa(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<n.length;++h)$O[n[h]]=c;s&&(Nm[e]=s),l&&(Mm[e]=l)}var YO={};function G(t,e){YO[t]=e}function mE(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var w1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ne("{"+t.envName+"} can be used only in display mode.")};function p7(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Do(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:f,emptySingleRow:m,maxNumCols:p,leqno:v}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Ne("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var x=[],S=[x],E=[],C=[],O=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function z(){O&&(t.gullet.macros.get("\\df@tag")?(O.push(t.subparse([new Zr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):O.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),C.push(mE(t));;){var U=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),x.push(U);var q=t.fetch().text;if(q==="&"){if(p&&x.length===p){if(f||c)throw new Ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(q==="\\end"){z(),x.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(S.length>1||!m)&&S.pop(),C.length<S.length+1&&C.push([]);break}else if(q==="\\\\"){t.consume();var R=void 0;t.gullet.future().text!==" "&&(R=t.parseSizeGroup(!0)),E.push(R?R.value:null),z(),C.push(mE(t)),x=[],S.push(x),A()}else throw new Ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:S,cols:s,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:c,tags:O,leqno:v}}function g7(t){return t.slice(0,1)==="d"?"display":"text"}var Sa=function(e,n){var r,i,s=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(s),f=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,v=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(We.SCRIPT).sizeMultiplier;v=.2778*(b/n.sizeMultiplier)}var x=e.colSeparationType==="CD"?ln({number:3,unit:"ex"},n):12*p,S=3*p,E=e.arraystretch*x,C=.7*E,O=.3*E,A=0;function z(Gt){for(var st=0;st<Gt.length;++st)st>0&&(A+=.25),f.push({pos:A,isDashed:Gt[st]})}for(z(l[0]),r=0;r<e.body.length;++r){var U=e.body[r],q=C,R=O;c<U.length&&(c=U.length);var M=new Array(U.length);for(i=0;i<U.length;++i){var D=Tt(U[i],n);R<D.depth&&(R=D.depth),q<D.height&&(q=D.height),M[i]=D}var H=e.rowGaps[r],V=0;H&&(V=ln(H,n),V>0&&(V+=O,R<V&&(R=V),V=0)),e.addJot&&(R+=S),M.height=q,M.depth=R,A+=q,M.pos=A,A+=R+V,h[r]=M,z(l[r+1])}var j=A/2+n.fontMetrics().axisHeight,B=e.cols||[],K=[],ne,$,ee=[];if(e.tags&&e.tags.some(Gt=>Gt))for(r=0;r<s;++r){var re=h[r],ce=re.pos-j,de=e.tags[r],Y=void 0;de===!0?Y=ge.makeSpan(["eqn-num"],[],n):de===!1?Y=ge.makeSpan([],[],n):Y=ge.makeSpan([],Bn(de,n,!0),n),Y.depth=re.depth,Y.height=re.height,ee.push({type:"elem",elem:Y,shift:ce})}for(i=0,$=0;i<c||$<B.length;++i,++$){for(var W=B[$]||{},me=!0;W.type==="separator";){if(me||(ne=ge.makeSpan(["arraycolsep"],[]),ne.style.width=ke(n.fontMetrics().doubleRuleSep),K.push(ne)),W.separator==="|"||W.separator===":"){var Q=W.separator==="|"?"solid":"dashed",ie=ge.makeSpan(["vertical-separator"],[],n);ie.style.height=ke(A),ie.style.borderRightWidth=ke(m),ie.style.borderRightStyle=Q,ie.style.margin="0 "+ke(-m/2);var le=A-j;le&&(ie.style.verticalAlign=ke(-le)),K.push(ie)}else throw new Ne("Invalid separator type: "+W.separator);$++,W=B[$]||{},me=!1}if(!(i>=c)){var he=void 0;(i>0||e.hskipBeforeAndAfter)&&(he=It.deflt(W.pregap,v),he!==0&&(ne=ge.makeSpan(["arraycolsep"],[]),ne.style.width=ke(he),K.push(ne)));var _e=[];for(r=0;r<s;++r){var Ce=h[r],Le=Ce[i];if(Le){var He=Ce.pos-j;Le.depth=Ce.depth,Le.height=Ce.height,_e.push({type:"elem",elem:Le,shift:He})}}_e=ge.makeVList({positionType:"individualShift",children:_e},n),_e=ge.makeSpan(["col-align-"+(W.align||"c")],[_e]),K.push(_e),(i<c-1||e.hskipBeforeAndAfter)&&(he=It.deflt(W.postgap,v),he!==0&&(ne=ge.makeSpan(["arraycolsep"],[]),ne.style.width=ke(he),K.push(ne)))}}if(h=ge.makeSpan(["mtable"],K),f.length>0){for(var Ue=ge.makeLineSpan("hline",n,m),Pe=ge.makeLineSpan("hdashline",n,m),Ge=[{type:"elem",elem:h,shift:0}];f.length>0;){var Be=f.pop(),it=Be.pos-j;Be.isDashed?Ge.push({type:"elem",elem:Pe,shift:it}):Ge.push({type:"elem",elem:Ue,shift:it})}h=ge.makeVList({positionType:"individualShift",children:Ge},n)}if(ee.length===0)return ge.makeSpan(["mord"],[h],n);var $e=ge.makeVList({positionType:"individualShift",children:ee},n);return $e=ge.makeSpan(["tag"],[$e],n),ge.makeFragment([h,$e])},QJ={c:"center ",l:"left ",r:"right "},Ea=function(e,n){for(var r=[],i=new Ie.MathNode("mtd",[],["mtr-glue"]),s=new Ie.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],f=0;f<c.length;f++)h.push(new Ie.MathNode("mtd",[Ft(c[f],n)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(s):h.push(s)),r.push(new Ie.MathNode("mtr",h))}var m=new Ie.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ke(p));var v="",b="";if(e.cols&&e.cols.length>0){var x=e.cols,S="",E=!1,C=0,O=x.length;x[0].type==="separator"&&(v+="top ",C=1),x[x.length-1].type==="separator"&&(v+="bottom ",O-=1);for(var A=C;A<O;A++)x[A].type==="align"?(b+=QJ[x[A].align],E&&(S+="none "),E=!0):x[A].type==="separator"&&E&&(S+=x[A].separator==="|"?"solid ":"dashed ",E=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(S)&&m.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var z=e.cols||[],U="",q=1;q<z.length;q++)U+=q%2?"0em ":"1em ";m.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var R="",M=e.hLinesBeforeRow;v+=M[0].length>0?"left ":"",v+=M[M.length-1].length>0?"right ":"";for(var D=1;D<M.length-1;D++)R+=M[D].length===0?"none ":M[D][0]?"dashed ":"solid ";return/[sd]/.test(R)&&m.setAttribute("rowlines",R.trim()),v!==""&&(m=new Ie.MathNode("menclose",[m]),m.setAttribute("notation",v.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ie.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},XO=function(e,n){e.envName.indexOf("ed")===-1&&w1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",l=Do(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:p7(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",p=0;p<n[0].body.length;p++){var v=ct(n[0].body[p],"textord");m+=v.text}c=Number(m),h=c*2}var b=!h;l.body.forEach(function(C){for(var O=1;O<C.length;O+=2){var A=ct(C[O],"styling"),z=ct(A.body[0],"ordgroup");z.body.unshift(f)}if(b)h<C.length&&(h=C.length);else{var U=C.length/2;if(c<U)throw new Ne("Too many math in a row: "+("expected "+c+", but got "+U),C[0])}});for(var x=0;x<h;++x){var S="r",E=0;x%2===1?S="l":x>0&&b&&(E=1),r[x]={type:"align",align:S,pregap:E,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};xa({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=y1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=c7(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Ne("Unknown column alignment: "+h,l)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Do(t.parser,s,g7(t.envName))},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Do(t.parser,r,g7(t.envName)),l=Math.max(0,...s.body.map(c=>c.length));return s.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Do(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=y1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=c7(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Ne("Unknown column alignment: "+h,l)});if(i.length>1)throw new Ne("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Do(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Ne("{subarray} can contain only one column");return s},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Do(t.parser,e,g7(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:XO,htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&w1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:p7(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Do(t.parser,e,"display")},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:XO,htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){w1(t);var e={autoTag:p7(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Do(t.parser,e,"display")},htmlBuilder:Sa,mathmlBuilder:Ea});xa({type:"array",names:["CD"],props:{numArgs:0},handler(t){return w1(t),LJ(t.parser)},htmlBuilder:Sa,mathmlBuilder:Ea});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ne(t.funcName+" valid only within array environment")}});var pE=$O;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ne("Invalid environment name",i);for(var s="",l=0;l<i.body.length;++l)s+=ct(i.body[l],"textord").text;if(r==="\\begin"){if(!pE.hasOwnProperty(s))throw new Ne("No such environment: "+s,i);var c=pE[s],{args:h,optArgs:f}=n.parseArguments("\\begin{"+s+"}",c),m={mode:n.mode,envName:s,parser:n},p=c.handler(m,h,f);n.expect("\\end",!1);var v=n.nextToken,b=ct(n.parseFunction(),"environment");if(b.name!==s)throw new Ne("Mismatch: \\begin{"+s+"} matched by \\end{"+b.name+"}",v);return p}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var KO=(t,e)=>{var n=t.font,r=e.withFont(n);return Tt(t.body,r)},QO=(t,e)=>{var n=t.font,r=e.withFont(n);return Ft(t.body,r)},gE={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=km(e[0]),s=r;return s in gE&&(s=gE[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:KO,mathmlBuilder:QO});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=It.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:_1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,l=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:s,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:KO,mathmlBuilder:QO});var ZO=(t,e)=>{var n=e;return t==="display"?n=n.id>=We.SCRIPT.id?n.text():We.DISPLAY:t==="text"&&n.size===We.DISPLAY.size?n=We.TEXT:t==="script"?n=We.SCRIPT:t==="scriptscript"&&(n=We.SCRIPTSCRIPT),n},v7=(t,e)=>{var n=ZO(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var l=Tt(t.numer,s,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}s=e.havingStyle(i);var f=Tt(t.denom,s,e),m,p,v;t.hasBarLine?(t.barSize?(p=ln(t.barSize,e),m=ge.makeLineSpan("frac-line",e,p)):m=ge.makeLineSpan("frac-line",e),p=m.height,v=m.height):(m=null,p=0,v=e.fontMetrics().defaultRuleThickness);var b,x,S;n.size===We.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?x=3*v:x=7*v,S=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,x=v):(b=e.fontMetrics().num3,x=3*v),S=e.fontMetrics().denom2);var E;if(m){var O=e.fontMetrics().axisHeight;b-l.depth-(O+.5*p)<x&&(b+=x-(b-l.depth-(O+.5*p))),O-.5*p-(f.height-S)<x&&(S+=x-(O-.5*p-(f.height-S)));var A=-(O-.5*p);E=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var C=b-l.depth-(f.height-S);C<x&&(b+=.5*(x-C),S+=.5*(x-C)),E=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:l,shift:-b}]},e)}s=e.havingStyle(n),E.height*=s.sizeMultiplier/e.sizeMultiplier,E.depth*=s.sizeMultiplier/e.sizeMultiplier;var z;n.size===We.DISPLAY.size?z=e.fontMetrics().delim1:n.size===We.SCRIPTSCRIPT.size?z=e.havingStyle(We.SCRIPT).fontMetrics().delim2:z=e.fontMetrics().delim2;var U,q;return t.leftDelim==null?U=fh(e,["mopen"]):U=ss.customSizedDelim(t.leftDelim,z,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?q=ge.makeSpan([]):t.rightDelim==null?q=fh(e,["mclose"]):q=ss.customSizedDelim(t.rightDelim,z,!0,e.havingStyle(n),t.mode,["mclose"]),ge.makeSpan(["mord"].concat(s.sizingClasses(e)),[U,ge.makeSpan(["mfrac"],[E]),q],e)},y7=(t,e)=>{var n=new Ie.MathNode("mfrac",[Ft(t.numer,e),Ft(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=ln(t.barSize,e);n.setAttribute("linethickness",ke(r))}var i=ZO(t.size,e.style);if(i.size!==e.style.size){n=new Ie.MathNode("mstyle",[n]);var s=i.size===We.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ie.MathNode("mo",[new Ie.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var h=new Ie.MathNode("mo",[new Ie.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return l7(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],l,c=null,h=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:l,leftDelim:c,rightDelim:h,size:f,barSize:null}},htmlBuilder:v7,mathmlBuilder:y7});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var vE=["display","text","script","scriptscript"],yE=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=km(e[0]),l=s.type==="atom"&&s.family==="open"?yE(s.text):null,c=km(e[1]),h=c.type==="atom"&&c.family==="close"?yE(c.text):null,f=ct(e[2],"size"),m,p=null;f.isBlank?m=!0:(p=f.value,m=p.number>0);var v="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var x=ct(b.body[0],"textord");v=vE[Number(x.text)]}}else b=ct(b,"textord"),v=vE[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:h,size:v}},htmlBuilder:v7,mathmlBuilder:y7});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ct(e[0],"size").value,token:i}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=AW(ct(e[1],"infix").size),l=e[2],c=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:v7,mathmlBuilder:y7});var WO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Tt(t.sup,e.havingStyle(n.sup()),e):Tt(t.sub,e.havingStyle(n.sub()),e),i=ct(t.base,"horizBrace")):i=ct(t,"horizBrace");var s=Tt(i.base,e.havingBaseStyle(We.DISPLAY)),l=ms.svgSpan(i,e),c;if(i.isOver?(c=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=ge.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),r){var h=ge.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},e):c=ge.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return ge.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},ZJ=(t,e)=>{var n=ms.mathMLnode(t.label);return new Ie.MathNode(t.isOver?"mover":"munder",[Ft(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:WO,mathmlBuilder:ZJ});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ct(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Sn(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Bn(t.body,e,!1);return ge.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=No(t.body,e);return n instanceof Xr||(n=new Xr("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ct(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var l=r[s];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Sn(c)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Sn(e[0])}},htmlBuilder(t,e){var n=Bn(t.body,e,!1);return ge.makeFragment(n)},mathmlBuilder(t,e){return new Ie.MathNode("mrow",Dr(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=ct(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(r){case"\\htmlClass":h.class=s,c={command:"\\htmlClass",class:s};break;case"\\htmlId":h.id=s,c={command:"\\htmlId",id:s};break;case"\\htmlStyle":h.style=s,c={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),m=0;m<f.length;m++){var p=f[m],v=p.indexOf("=");if(v<0)throw new Ne("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,v),x=p.slice(v+1);h["data-"+b.trim()]=x}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:h,body:Sn(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Bn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=ge.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>No(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Sn(e[0]),mathml:Sn(e[1])}},htmlBuilder:(t,e)=>{var n=Bn(t.html,e,!1);return ge.makeFragment(n)},mathmlBuilder:(t,e)=>No(t.mathml,e)});var xv=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!vO(r))throw new Ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var h=ct(n[0],"raw").string,f=h.split(","),m=0;m<f.length;m++){var p=f[m].split("=");if(p.length===2){var v=p[1].trim();switch(p[0].trim()){case"alt":c=v;break;case"width":i=xv(v);break;case"height":s=xv(v);break;case"totalheight":l=xv(v);break;default:throw new Ne("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=ct(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:s,totalheight:l,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=ln(t.height,e),r=0;t.totalheight.number>0&&(r=ln(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=ln(t.width,e));var s={height:ke(n+r)};i>0&&(s.width=ke(i)),r>0&&(s.verticalAlign=ke(-r));var l=new ZW(t.src,t.alt,s);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=ln(t.height,e),i=0;if(t.totalheight.number>0&&(i=ln(t.totalheight,e)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),t.width.number>0){var s=ln(t.width,e);n.setAttribute("width",ke(s))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ct(e[0],"size");if(n.settings.strict){var s=r[1]==="m",l=i.value.unit==="mu";s?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return ge.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=ln(t.dimension,e);return new Ie.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ge.makeSpan([],[Tt(t.body,e)]),n=ge.makeSpan(["inner"],[n],e)):n=ge.makeSpan(["inner"],[Tt(t.body,e)]);var r=ge.makeSpan(["fix"],[]),i=ge.makeSpan([t.alignment],[n,r],e),s=ge.makeSpan(["strut"]);return s.style.height=ke(i.height+i.depth),i.depth&&(s.style.verticalAlign=ke(-i.depth)),i.children.unshift(s),i=ge.makeSpan(["thinbox"],[i],e),ge.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Ft(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",l=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ne("Mismatched "+t.funcName)}});var _E=(t,e)=>{switch(e.style.size){case We.DISPLAY.size:return t.display;case We.TEXT.size:return t.text;case We.SCRIPT.size:return t.script;case We.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Sn(e[0]),text:Sn(e[1]),script:Sn(e[2]),scriptscript:Sn(e[3])}},htmlBuilder:(t,e)=>{var n=_E(t,e),r=Bn(n,e,!1);return ge.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=_E(t,e);return No(n,e)}});var JO=(t,e,n,r,i,s,l)=>{t=ge.makeSpan([],[t]);var c=n&&It.isCharacterBox(n),h,f;if(e){var m=Tt(e,r.havingStyle(i.sup()),r);f={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var p=Tt(n,r.havingStyle(i.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var v;if(f&&h){var b=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;v=ge.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-s)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var x=t.height-l;v=ge.makeVList({positionType:"top",positionData:x,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-s)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+l;v=ge.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var E=[v];if(h&&s!==0&&!c){var C=ge.makeSpan(["mspace"],[],r);C.style.marginRight=ke(s),E.unshift(C)}return ge.makeSpan(["mop","op-limits"],E,r)},ez=["\\smallint"],Sc=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=ct(t.base,"op"),i=!0):s=ct(t,"op");var l=e.style,c=!1;l.size===We.DISPLAY.size&&s.symbol&&!ez.includes(s.name)&&(c=!0);var h;if(s.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(m=s.name.slice(1),s.name=m==="oiint"?"\\iint":"\\iiint"),h=ge.makeSymbol(s.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=h.italic,v=ge.staticSvg(m+"Size"+(c?"2":"1"),e);h=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},e),s.name="\\"+m,h.classes.unshift("mop"),h.italic=p}}else if(s.body){var b=Bn(s.body,e,!0);b.length===1&&b[0]instanceof wi?(h=b[0],h.classes[0]="mop"):h=ge.makeSpan(["mop"],b,e)}else{for(var x=[],S=1;S<s.name.length;S++)x.push(ge.mathsym(s.name[S],s.mode,e));h=ge.makeSpan(["mop"],x,e)}var E=0,C=0;return(h instanceof wi||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(E=(h.height-h.depth)/2-e.fontMetrics().axisHeight,C=h.italic),i?JO(h,n,r,e,l,C,E):(E&&(h.style.position="relative",h.style.top=ke(E)),h)},Lh=(t,e)=>{var n;if(t.symbol)n=new Xr("mo",[xi(t.name,t.mode)]),ez.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Xr("mo",Dr(t.body,e));else{n=new Xr("mi",[new ha(t.name.slice(1))]);var r=new Xr("mo",[xi("","text")]);t.parentIsSupSub?n=new Xr("mrow",[n,r]):n=RO([n,r])}return n},WJ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=WJ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Sc,mathmlBuilder:Lh});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Sn(r)}},htmlBuilder:Sc,mathmlBuilder:Lh});var JJ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Sc,mathmlBuilder:Lh});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Sc,mathmlBuilder:Lh});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=JJ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Sc,mathmlBuilder:Lh});var tz=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=ct(t.base,"operatorname"),i=!0):s=ct(t,"operatorname");var l;if(s.body.length>0){for(var c=s.body.map(p=>{var v=p.text;return typeof v=="string"?{type:"textord",mode:p.mode,text:v}:p}),h=Bn(c,e.withFont("mathrm"),!0),f=0;f<h.length;f++){var m=h[f];m instanceof wi&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ge.makeSpan(["mop"],h,e)}else l=ge.makeSpan(["mop"],[],e);return i?JO(l,n,r,e,e.style,0,0):l},eee=(t,e)=>{for(var n=Dr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof Ie.SpaceNode))if(s instanceof Ie.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=s.children[0];s.children.length===1&&l instanceof Ie.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(m=>m.toText()).join("");n=[new Ie.TextNode(c)]}var h=new Ie.MathNode("mi",n);h.setAttribute("mathvariant","normal");var f=new Ie.MathNode("mo",[xi("","text")]);return t.parentIsSupSub?new Ie.MathNode("mrow",[h,f]):Ie.newDocumentFragment([h,f])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Sn(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:tz,mathmlBuilder:eee});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ll({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ge.makeFragment(Bn(t.body,e,!1)):ge.makeSpan(["mord"],Bn(t.body,e,!0),e)},mathmlBuilder(t,e){return No(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Tt(t.body,e.havingCrampedStyle()),r=ge.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ge.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("mover",[Ft(t.body,e),n]);return r.setAttribute("accent","true"),r}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Sn(r)}},htmlBuilder:(t,e)=>{var n=Bn(t.body,e.withPhantom(),!1);return ge.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Dr(t.body,e);return new Ie.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ge.makeSpan([],[Tt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ge.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Dr(Sn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ge.makeSpan(["inner"],[Tt(t.body,e.withPhantom())]),r=ge.makeSpan(["fix"],[]);return ge.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Dr(Sn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ct(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Tt(t.body,e),r=ln(t.dy,e);return ge.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mpadded",[Ft(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=ct(e[0],"size"),l=ct(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ct(i,"size").value,width:s.value,height:l.value}},htmlBuilder(t,e){var n=ge.makeSpan(["mord","rule"],[],e),r=ln(t.width,e),i=ln(t.height,e),s=t.shift?ln(t.shift,e):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=ln(t.width,e),r=ln(t.height,e),i=t.shift?ln(t.shift,e):0,s=e.color&&e.getColor()||"black",l=new Ie.MathNode("mspace");l.setAttribute("mathbackground",s),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(r));var c=new Ie.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function nz(t,e,n){for(var r=Bn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var l=r[s].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[l+1]==="reset-size"+e.size&&(r[s].classes[l+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return ge.makeFragment(r)}var bE=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],tee=(t,e)=>{var n=e.havingSize(t.size);return nz(t.body,n,e)};ze({type:"sizing",names:bE,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:bE.indexOf(r)+1,body:s}},htmlBuilder:tee,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Dr(t.body,n),i=new Ie.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,l=n[0]&&ct(n[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var f=l.body[h];if(c=f.text,c==="t")i=!0;else if(c==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var m=e[0];return{type:"smash",mode:r.mode,body:m,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=ge.makeSpan([],[Tt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ge.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Ft(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Tt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ge.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<We.TEXT.id&&(s=e.fontMetrics().xHeight);var l=i+s/4,c=n.height+n.depth+l+i,{span:h,ruleWidth:f,advanceWidth:m}=ss.sqrtImage(c,e),p=h.height-f;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var v=h.height-n.height-l-f;n.style.paddingLeft=ke(m);var b=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+v)},{type:"elem",elem:h},{type:"kern",size:f}]},e);if(t.index){var x=e.havingStyle(We.SCRIPTSCRIPT),S=Tt(t.index,x,e),E=.6*(b.height-b.depth),C=ge.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:S}]},e),O=ge.makeSpan(["root"],[C]);return ge.makeSpan(["mord","sqrt"],[O,b],e)}else return ge.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ie.MathNode("mroot",[Ft(n,e),Ft(r,e)]):new Ie.MathNode("msqrt",[Ft(n,e)])}});var wE={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:s}},htmlBuilder(t,e){var n=wE[t.style],r=e.havingStyle(n).withFont("");return nz(t.body,r,e)},mathmlBuilder(t,e){var n=wE[t.style],r=e.havingStyle(n),i=Dr(t.body,r),s=new Ie.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return s.setAttribute("scriptlevel",c[0]),s.setAttribute("displaystyle",c[1]),s}});var nee=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===We.DISPLAY.size||r.alwaysHandleSupSub);return i?Sc:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===We.DISPLAY.size||r.limits);return s?tz:null}else{if(r.type==="accent")return It.isCharacterBox(r.base)?h7:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?WO:null}else return null}else return null};Ll({type:"supsub",htmlBuilder(t,e){var n=nee(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,l=Tt(r,e),c,h,f=e.fontMetrics(),m=0,p=0,v=r&&It.isCharacterBox(r);if(i){var b=e.havingStyle(e.style.sup());c=Tt(i,b,e),v||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(s){var x=e.havingStyle(e.style.sub());h=Tt(s,x,e),v||(p=l.depth+x.fontMetrics().subDrop*x.sizeMultiplier/e.sizeMultiplier)}var S;e.style===We.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var E=e.sizeMultiplier,C=ke(.5/f.ptPerEm/E),O=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof wi||A)&&(O=ke(-l.italic))}var z;if(c&&h){m=Math.max(m,S,c.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var U=f.defaultRuleThickness,q=4*U;if(m-c.depth-(h.height-p)<q){p=q-(m-c.depth)+h.height;var R=.8*f.xHeight-(m-c.depth);R>0&&(m+=R,p-=R)}var M=[{type:"elem",elem:h,shift:p,marginRight:C,marginLeft:O},{type:"elem",elem:c,shift:-m,marginRight:C}];z=ge.makeVList({positionType:"individualShift",children:M},e)}else if(h){p=Math.max(p,f.sub1,h.height-.8*f.xHeight);var D=[{type:"elem",elem:h,marginLeft:O,marginRight:C}];z=ge.makeVList({positionType:"shift",positionData:p,children:D},e)}else if(c)m=Math.max(m,S,c.depth+.25*f.xHeight),z=ge.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var H=D6(l,"right")||"mord";return ge.makeSpan([H],[l,ge.makeSpan(["msupsub"],[z])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Ft(t.base,e)];t.sub&&s.push(Ft(t.sub,e)),t.sup&&s.push(Ft(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===We.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===We.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===We.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===We.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===We.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===We.DISPLAY)?l="mover":l="msup"}return new Ie.MathNode(l,s)}});Ll({type:"atom",htmlBuilder(t,e){return ge.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[xi(t.text,t.mode)]);if(t.family==="bin"){var r=u7(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var rz={mi:"italic",mn:"normal",mtext:"normal"};Ll({type:"mathord",htmlBuilder(t,e){return ge.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ie.MathNode("mi",[xi(t.text,t.mode,e)]),r=u7(t,e)||"italic";return r!==rz[n.type]&&n.setAttribute("mathvariant",r),n}});Ll({type:"textord",htmlBuilder(t,e){return ge.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=xi(t.text,t.mode,e),r=u7(t,e)||"normal",i;return t.mode==="text"?i=new Ie.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ie.MathNode("mn",[n]):t.text==="\\prime"?i=new Ie.MathNode("mo",[n]):i=new Ie.MathNode("mi",[n]),r!==rz[i.type]&&i.setAttribute("mathvariant",r),i}});var Sv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Ev={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ll({type:"spacing",htmlBuilder(t,e){if(Ev.hasOwnProperty(t.text)){var n=Ev[t.text].className||"";if(t.mode==="text"){var r=ge.makeOrd(t,e,"textord");return r.classes.push(n),r}else return ge.makeSpan(["mspace",n],[ge.mathsym(t.text,t.mode,e)],e)}else{if(Sv.hasOwnProperty(t.text))return ge.makeSpan(["mspace",Sv[t.text]],[],e);throw new Ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Ev.hasOwnProperty(t.text))n=new Ie.MathNode("mtext",[new Ie.TextNode("")]);else{if(Sv.hasOwnProperty(t.text))return new Ie.MathNode("mspace");throw new Ne('Unknown type of space "'+t.text+'"')}return n}});var xE=()=>{var t=new Ie.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ll({type:"tag",mathmlBuilder(t,e){var n=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[xE(),new Ie.MathNode("mtd",[No(t.body,e)]),xE(),new Ie.MathNode("mtd",[No(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var SE={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},EE={"\\textbf":"textbf","\\textmd":"textmd"},ree={"\\textit":"textit","\\textup":"textup"},TE=(t,e)=>{var n=t.font;if(n){if(SE[n])return e.withTextFontFamily(SE[n]);if(EE[n])return e.withTextFontWeight(EE[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(ree[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Sn(i),font:r}},htmlBuilder(t,e){var n=TE(t,e),r=Bn(t.body,n,!0);return ge.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=TE(t,e);return No(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Tt(t.body,e),r=ge.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ge.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return ge.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("munder",[Ft(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Tt(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return ge.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ie.MathNode("mpadded",[Ft(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=AE(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var l=n[s];l==="~"&&(l="\\textasciitilde"),r.push(ge.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ge.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ge.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ie.TextNode(AE(t)),r=new Ie.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var AE=t=>t.body.replace(/ /g,t.star?"":""),mo=AO,iz=`[ \r
	]`,iee="\\\\[a-zA-Z@]+",aee="\\\\[^\uD800-\uDFFF]",see="("+iee+")"+iz+"*",oee=`\\\\(
|[ \r	]+
?)[ \r	]*`,V6="[-]",lee=new RegExp(V6+"+$"),uee="("+iz+"+)|"+(oee+"|")+"([!-\\[\\]---]"+(V6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(V6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+see)+("|"+aee+")");class CE{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(uee,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Zr("EOF",new Nr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ne("Unexpected character: '"+e[n]+"'",new Zr(e[n],new Nr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Zr(i,new Nr(this,n,this.tokenRegex.lastIndex))}}class cee{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var hee=YO;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var RE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=RE[e.text],r==null||r>=n)throw new Ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=RE[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var _7=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ne("\\newcommand's first argument must be a macro name");var s=i[0].text,l=t.isDefined(s);if(l&&!e)throw new Ne("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!l&&!n)throw new Ne("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Ne("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&r||t.macros.set(s,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>_7(t,!1,!0,!1));G("\\renewcommand",t=>_7(t,!0,!1,!1));G("\\providecommand",t=>_7(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});G("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),mo[n],$t.math[n],$t.text[n]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var IE={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in IE?e=IE[n]:(n.slice(0,4)==="\\not"||n in $t.math&&["bin","rel"].includes($t.math[n].group))&&(e="\\dotsb"),e});var b7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in b7?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in b7&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in b7?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var az=ke(ca["Main-Regular"][84][1]-.7*ca["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+az+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+az+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var sz=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=p=>v=>{t&&(v.macros.set("|",l),i.length&&v.macros.set("\\|",c));var b=p;if(!p&&i.length){var x=v.future();x.text==="|"&&(v.popToken(),b=!0)}return{tokens:b?i:r,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",sz(!1));G("\\bra@set",sz(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var oz={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class fee{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new cee(hee,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new CE(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Zr("EOF",r.loc)),this.pushTokens(i),new Zr("",Nr.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,l=0,c=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++l;else if(s.text==="}"){if(--l,l===-1)throw new Ne("Extra }",s)}else if(s.text==="EOF")throw new Ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[c]:"}")+"'",s);if(e&&r)if((l===0||l===1&&e[c]==="{")&&s.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Ne("Use of the macro doesn't match its definition",s)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ne("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ne("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var c=s.length-1;c>=0;--c){var h=s[c];if(h.text==="#"){if(c===0)throw new Ne("Incomplete placeholder at end of macro body",h);if(h=s[--c],h.text==="#")s.splice(c+1,1);else if(/^[1-9]$/.test(h.text))s.splice(c,2,...l[+h.text-1]);else throw new Ne("Not a valid argument number",h)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Zr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(s+1))!==-1;)++s;for(var c=new CE(i,this.settings),h=[],f=c.lex();f.text!=="EOF";)h.push(f),f=c.lex();h.reverse();var m={tokens:h,numArgs:s};return m}return i}isDefined(e){return this.macros.has(e)||mo.hasOwnProperty(e)||$t.math.hasOwnProperty(e)||$t.text.hasOwnProperty(e)||oz.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:mo.hasOwnProperty(e)&&!mo[e].primitive}}var NE=/^[]/,Nd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Tv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},ME={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class x1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new fee(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Zr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(x1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&mo[i.text]&&mo[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,l,c=e.slice(0,n),h=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],l],[]):f=this.callFunction(r,[s,l],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new Ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var l=s.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new Ne("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Ne("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Ne("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Ne("Double superscript",s);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(Nd[s.text]){var f=NE.test(s.text),m=[];for(m.push(new Zr(Nd[s.text])),this.consume();;){var p=this.fetch().text;if(!Nd[p]||NE.test(p)!==f)break;m.unshift(new Zr(Nd[p])),this.consume()}var v=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=mo[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new Ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Ne("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(i,s);return this.callFunction(i,l,c,r,e)}callFunction(e,n,r,i,s){var l={funcName:e,parser:this,token:i,breakOnTokenText:s},c=mo[e];if(c&&c.handler)return c.handler(l,n,r);throw new Ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&s[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)s.push(f);else if(f!=null)i.push(f);else throw new Ne("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Ne("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Ne("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",l;(l=this.fetch()).text!=="EOF"&&e.test(s+l.text);)i=l,s+=i.text,this.consume();if(s==="")throw new Ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ne("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!vO(s))throw new Ne("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Nr.range(r,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!oz.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ne("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Nr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Nr.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Nr.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}ME.hasOwnProperty(n[0])&&!$t[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=ME[n[0]]+n.slice(1));var s=lee.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var l;if($t[this.mode][n]){this.settings.strict&&this.mode==="math"&&k6.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=$t[this.mode][n].group,h=Nr.range(e),f;if(eJ.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:h,text:n}}else f={type:c,mode:this.mode,loc:h,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(gO(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Nr.range(e),text:n};else return null;if(this.consume(),s)for(var p=0;p<s[0].length;p++){var v=s[0][p];if(!Tv[v])throw new Ne("Unknown accent ' "+v+"'",e);var b=Tv[v][this.mode]||Tv[v].text;if(!b)throw new Ne("Accent "+v+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Nr.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}x1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var w7=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new x1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Zr("\\df@tag")])}]}return i},lz=function(e,n,r){n.textContent="";var i=x7(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),lz=function(){throw new Ne("KaTeX doesn't work in quirks mode.")});var dee=function(e,n){var r=x7(e,n).toMarkup();return r},mee=function(e,n){var r=new r7(n);return w7(e,r)},uz=function(e,n,r){if(r.throwOnError||!(e instanceof Ne))throw e;var i=ge.makeSpan(["katex-error"],[new wi(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},x7=function(e,n){var r=new r7(n);try{var i=w7(e,r);return SJ(i,e,r)}catch(s){return uz(s,e,r)}},pee=function(e,n){var r=new r7(n);try{var i=w7(e,r);return EJ(i,e,r)}catch(s){return uz(s,e,r)}},gee="0.16.27",vee={Span:zh,Anchor:s7,SymbolNode:wi,SvgNode:fs,PathNode:Io,LineNode:M6},yee={version:gee,render:lz,renderToString:dee,ParseError:Ne,SETTINGS_SCHEMA:Yd,__parse:mee,__renderToDomTree:x7,__renderToHTMLTree:pee,__setFontMetrics:$W,__defineSymbol:w,__defineFunction:ze,__defineMacro:G,__domTree:vee};const tr=({latex:t})=>{const e=oe.useRef(null);return oe.useEffect(()=>{if(e.current)try{yee.render(t,e.current,{throwOnError:!1,displayMode:!1})}catch{e.current.innerText="Invalid LaTeX"}},[t]),k.jsx("span",{ref:e})},_ee=({structureName:t="Algebraic Structure (Alpha)"})=>k.jsxs("div",{className:ZS.overlay,children:[k.jsx("h2",{children:k.jsx(tr,{latex:t})}),k.jsxs("div",{className:ZS.legend,children:[k.jsxs("p",{children:[" ",cv.verified.label,": Green"]}),k.jsxs("p",{children:[" ",cv.deprecated.label,": Flashing Yellow"]}),k.jsx("p",{children:" Duplicate Link: Dashed Blue Line"}),k.jsxs("p",{children:[" ",cv.unverified.label,": Red"]})]})]}),bee=({nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:s,nodeTypes:l,title:c="Mathverse Explorer"})=>k.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[k.jsxs(RF,{nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:s,nodeTypes:l,fitView:!0,panOnScroll:!0,selectionOnDrag:!1,panOnDrag:!0,children:[k.jsx(zF,{gap:20,color:"#333"}),k.jsx(UF,{}),k.jsx(tG,{nodeColor:h=>n7[h.data?.status]||"#eee"})]}),k.jsx(_ee,{structureName:c})]}),cz=oe.createContext(void 0),Vl=()=>{const t=oe.useContext(cz);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},wee=({children:t})=>{const[e,n]=oe.useState(null),[r,i]=oe.useState(null),[s,l]=oe.useState(!0);oe.useEffect(()=>tZ(uv,async p=>{if(n(p),p){const v=Jn(en,"users",p.uid);try{const b=await rQ(v);if(b.exists())i(b.data());else{const x={uid:p.uid,email:p.email,displayName:p.displayName,role:"citizen",reputation:{creation:0,contributor:1},createdAt:hQ()};await Sl(v,x),i(x),console.log("New User Profile Created (Dual-Score Schema).")}}catch(b){console.error("Error fetching/creating user profile:",b)}}else i(null);l(!1)}),[]);const f={user:e,profile:r,loading:s,signInWithGoogle:async()=>{try{await xZ(uv,gW)}catch(m){throw console.error("Login Failed:",m),m}},logout:()=>nZ(uv)};return k.jsx(cz.Provider,{value:f,children:!s&&t})},hz=(t,e,n,r)=>{const{user:i}=Vl(),[s,l]=oe.useState({greenVotes:n,blackVotes:r}),[c,h]=oe.useState(null),[f,m]=oe.useState(!1);oe.useEffect(()=>{l({greenVotes:n,blackVotes:r})},[n,r]),oe.useEffect(()=>{if(!i||!t){h(null);return}const v=Jn(en,e,t,"votes",i.uid),b=ju(v,x=>{if(x.exists()){const S=x.data();S.choice==="green"?h("up"):S.choice==="black"&&h("down")}else h(null)});return()=>b()},[i,t,e]);const p=oe.useCallback(async v=>{if(!i){alert("Please sign in to vote!");return}m(!0);const b=Jn(en,e,t),x=Jn(en,e,t,"votes",i.uid);try{await cQ(en,async S=>{const E=await S.get(x),C=await S.get(b);if(!C.exists())throw new Error("Document does not exist!");const O=C.data().stats||{greenVotes:0,blackVotes:0},A=E.exists()?E.data().choice:null,z=v==="up"?"green":"black";let U=O.greenVotes,q=O.blackVotes;A===z?(S.delete(x),z==="green"?U--:q--):(S.set(x,{choice:z,timestamp:Date.now()}),A==="green"&&U--,A==="black"&&q--,z==="green"?U++:q++),S.update(b,{stats:{greenVotes:Math.max(0,U),blackVotes:Math.max(0,q)}})})}catch(S){console.error("Voting Transaction Failed:",S),alert("Vote failed. Please check your connection.")}finally{m(!1)}},[i,t,e]);return{stats:s,userVote:c,handleVote:p,isLoading:f}},xee=10,See=-10,fz=t=>{if(t.status==="deprecated")return"deprecated";if(t.status==="deadend")return"deadend";const e=t.stats?.greenVotes||0,n=t.stats?.blackVotes||0,r=e-n;return r>=xee&&t.status==="unverified"?"verified":r<=See?"trash":t.status},Eee=({data:t})=>{const{stats:e,userVote:n,handleVote:r,isLoading:i}=hz(t.id,"nodes",t.stats?.greenVotes||0,t.stats?.blackVotes||0),l=`math-node-container status-${fz({...t,stats:e})}`,c=`vote-btn ${n==="up"?"active-up":""}`,h=`vote-btn ${n==="down"?"active-down":""}`;return k.jsxs("div",{className:l,children:[k.jsx(rc,{type:"target",position:Ye.Top,style:{bottom:"0px"}}),k.jsx("div",{className:"math-display-area",children:k.jsx(tr,{latex:t.displayLatex})}),k.jsxs("div",{className:"math-node-stats",children:[k.jsxs("button",{className:c,onClick:f=>{f.stopPropagation(),r("up")},disabled:i,title:"Vote Valid (Green)",children:[" ",e.greenVotes]}),k.jsxs("button",{className:h,onClick:f=>{f.stopPropagation(),r("down")},disabled:i,title:"Vote Invalid (Black)",children:[" ",e.blackVotes]})]}),k.jsx(rc,{type:"source",position:Ye.Bottom,style:{bottom:"-25px"}})]})},Tee="_panel_pvnct_4",Aee="_sectionInherited_pvnct_25",Cee="_sectionCurrent_pvnct_32",Ree="_headerRow_pvnct_38",Iee="_headerTitle_pvnct_47",Nee="_closeBtn_pvnct_52",Mee="_sectionTitle_pvnct_67",kee="_localPropHeader_pvnct_75",Dee="_inlineDisplay_pvnct_85",Oee="_editIconBtn_pvnct_91",zee="_inlineEditContainer_pvnct_109",Lee="_inlineInput_pvnct_115",Vee="_saveBtn_pvnct_128",qee="_cancelBtn_pvnct_128",Pee="_proposeBtn_pvnct_157",Bee="_adminZone_pvnct_174",jee="_deleteBtn_pvnct_183",Uee="_toggleContainer_pvnct_201",Hee="_toggleContent_pvnct_205",Fee="_axiomList_pvnct_213",Gee="_axiomItem_pvnct_218",$ee="_emptyState_pvnct_223",Yee="_axiomBox_pvnct_230",Xee="_axiomLabel_pvnct_238",Kee="_latexBold_pvnct_247",Qee="_theoremHeaderRow_pvnct_252",Zee="_theoremName_pvnct_259",Wee="_miniDeleteBtn_pvnct_304",zt={panel:Tee,sectionInherited:Aee,sectionCurrent:Cee,headerRow:Ree,headerTitle:Iee,closeBtn:Nee,sectionTitle:Mee,localPropHeader:kee,inlineDisplay:Dee,editIconBtn:Oee,inlineEditContainer:zee,inlineInput:Lee,saveBtn:Vee,cancelBtn:qee,proposeBtn:Pee,adminZone:Bee,deleteBtn:jee,toggleContainer:Uee,toggleContent:Hee,axiomList:Fee,axiomItem:Gee,emptyState:$ee,axiomBox:Yee,axiomLabel:Xee,latexBold:Kee,theoremHeaderRow:Qee,theoremName:Zee,miniDeleteBtn:Wee},Jee=(t,e,n,r)=>{const i=e.find(c=>c.id===t),s={inheritedAxioms:[],inheritedTheorems:[],localTheorems:r.filter(c=>c.structureNodeId===t),localAxiom:void 0};if(!i)return s;s.localAxiom=n.find(c=>c.id===i.axiomId);let l=i.parentId;for(;l;){const c=e.find(m=>m.id===l);if(!c)break;const h=n.find(m=>m.id===c.axiomId);h&&s.inheritedAxioms.unshift(h);const f=r.filter(m=>m.structureNodeId===c.id);s.inheritedTheorems.unshift(...f),l=c.parentId}return s},ete="_overlay_1snfz_2",tte="_container_1snfz_16",nte="_header_1snfz_28",rte="_closeButton_1snfz_43",ite="_body_1snfz_51",ate="_description_1snfz_61",ste="_contextBox_1snfz_68",ote="_contextLabel_1snfz_76",lte="_separator_1snfz_84",ute="_group_1snfz_93",cte="_label_1snfz_99",hte="_input_1snfz_105",fte="_textarea_1snfz_105",dte="_preview_1snfz_113",mte="_footer_1snfz_125",pte="_cancelBtn_1snfz_134",gte="_submitBtn_1snfz_142",vte="_drawerOverlay_1snfz_158",yte="_drawer_1snfz_158",_te="_drawerHeader_1snfz_184",bte="_drawerSearch_1snfz_199",wte="_drawerBody_1snfz_205",xte="_libraryItem_1snfz_214",Ste="_libraryItemHeader_1snfz_231",Ete="_libraryItemTag_1snfz_240",Tte="_inputGroupRow_1snfz_260",Ate="_browseBtn_1snfz_267",Cte="_inputLocked_1snfz_286",Rte="_suggestionsDropdown_1snfz_298",Ite="_suggestionItem_1snfz_312",Nte="_suggestionDetail_1snfz_328",Oe={overlay:ete,container:tte,header:nte,closeButton:rte,body:ite,description:ate,contextBox:ste,contextLabel:ote,separator:lte,group:ute,label:cte,input:hte,textarea:fte,preview:dte,footer:mte,cancelBtn:pte,submitBtn:gte,drawerOverlay:vte,drawer:yte,drawerHeader:_te,drawerSearch:bte,drawerBody:wte,libraryItem:xte,libraryItemHeader:Ste,libraryItemTag:Ete,inputGroupRow:Tte,browseBtn:Ate,inputLocked:Cte,suggestionsDropdown:Rte,suggestionItem:Ite,suggestionDetail:Nte},Mte=({isOpen:t,onClose:e,onSelect:n,availableTheorems:r})=>{const[i,s]=oe.useState(""),l=oe.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.name.toLowerCase().includes(c)||h.statementLatex.toLowerCase().includes(c))},[r,i]);return t?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Oe.drawerOverlay,onClick:e}),k.jsxs("div",{className:Oe.drawer,children:[k.jsxs("div",{className:Oe.drawerHeader,children:[k.jsx("h3",{children:"Theorem Library"}),k.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),k.jsx("div",{className:Oe.drawerSearch,children:k.jsx("input",{className:Oe.input,placeholder:"Search theorems (e.g. 'Identity')...",value:i,onChange:c=>s(c.target.value),autoFocus:!0})}),k.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>k.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to use this theorem as a template",children:[k.jsxs("div",{className:Oe.libraryItemHeader,children:[k.jsx("strong",{children:c.name}),k.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),k.jsx("div",{className:Oe.preview,style:{marginBottom:"5px"},children:k.jsx(tr,{latex:c.statementLatex})}),k.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Proof: ",c.proofLatex]})]},c.id)):k.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No theorems found matching "',i,'"']})})]})]}):null},kte=({structureName:t,availableTheorems:e,onClose:n,onSubmit:r})=>{const[i,s]=oe.useState(""),[l,c]=oe.useState(""),[h,f]=oe.useState(""),[m,p]=oe.useState(!1),[v,b]=oe.useState(!1),x=oe.useMemo(()=>{if(!i)return[];const C=i.toLowerCase();return e.filter(O=>O.name.toLowerCase().includes(C)).slice(0,5)},[i,e]),S=C=>{s(C.name),c(C.statementLatex),f(C.proofLatex),b(!1),p(!1)},E=()=>{!i||!l||!h||(r({name:i,statementLatex:l,proofLatex:h}),n())};return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Oe.overlay,children:k.jsxs("div",{className:Oe.container,children:[k.jsxs("div",{className:Oe.header,children:[k.jsx("h2",{children:"Propose Theorem"}),k.jsx("button",{className:Oe.closeButton,onClick:n,children:""})]}),k.jsxs("div",{className:Oe.body,children:[k.jsxs("p",{className:Oe.description,children:["Add a new property or theorem to ",k.jsx("strong",{children:t}),"."]}),k.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[k.jsx("label",{className:Oe.label,children:"1. Theorem Name"}),k.jsxs("div",{className:Oe.inputGroupRow,children:[k.jsx("input",{className:Oe.input,placeholder:"e.g. Uniqueness of Identity",value:i,onChange:C=>{s(C.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),autoComplete:"off"}),k.jsx("button",{className:Oe.browseBtn,onClick:()=>p(!0),title:"Browse Theorem Library",children:""})]}),v&&x.length>0&&k.jsx("div",{className:Oe.suggestionsDropdown,children:x.map(C=>k.jsx("div",{className:Oe.suggestionItem,onClick:()=>S(C),children:k.jsx("strong",{children:C.name})},C.id))})]}),k.jsxs("div",{className:Oe.group,children:[k.jsx("label",{className:Oe.label,children:"Statement (LaTeX)"}),k.jsx("textarea",{className:Oe.textarea,rows:2,value:l,onChange:C=>c(C.target.value),placeholder:"\\forall g \\in G, ..."}),k.jsx("div",{className:Oe.preview,children:k.jsx(tr,{latex:l||"Preview..."})})]}),k.jsxs("div",{className:Oe.group,children:[k.jsx("label",{className:Oe.label,children:"Proof (LaTeX)"}),k.jsx("textarea",{className:Oe.textarea,rows:4,value:h,onChange:C=>f(C.target.value),placeholder:"Suppose e and e' are identities..."}),k.jsx("div",{className:Oe.preview,children:k.jsx(tr,{latex:h||"Preview..."})})]})]}),k.jsxs("div",{className:Oe.footer,children:[k.jsx("button",{className:Oe.cancelBtn,onClick:n,children:"Cancel"}),k.jsx("button",{className:Oe.submitBtn,onClick:E,children:"Propose Theorem"})]})]})}),k.jsx(Mte,{isOpen:m,onClose:()=>p(!1),onSelect:S,availableTheorems:e})]})},Kd=({value:t,collectionName:e,docId:n,field:r,isAdmin:i,className:s})=>{const[l,c]=oe.useState(!1),[h,f]=oe.useState(t),m=async v=>{v.stopPropagation();try{await LD(Jn(en,e,n),{[r]:h}),c(!1)}catch(b){console.error("Failed to update:",b),alert("Update failed.")}},p=v=>{v.stopPropagation(),f(t),c(!1)};return l?k.jsxs("div",{className:zt.inlineEditContainer,onClick:v=>v.stopPropagation(),children:[k.jsx("input",{className:zt.inlineInput,value:h,onChange:v=>f(v.target.value),autoFocus:!0}),k.jsx("button",{onClick:m,className:zt.saveBtn,title:"Save",children:""}),k.jsx("button",{onClick:p,className:zt.cancelBtn,title:"Cancel",children:""})]}):k.jsxs("div",{className:`${zt.inlineDisplay} ${s||""}`,children:[t.trim().startsWith("\\")?k.jsx(tr,{latex:t}):t,i&&k.jsx("button",{onClick:v=>{v.stopPropagation(),c(!0)},className:zt.editIconBtn,title:"Edit Name",children:""})]})},Dte=t=>{const{profile:e}=Vl(),n=e?.role==="admin",{node:r,allNodes:i,allAxioms:s,allTheorems:l,onClose:c,onAddTheorem:h,onDelete:f,onDeleteTheorem:m}=t,p=Jee(r.id,i,s,l),[v,b]=oe.useState(!1);return k.jsxs("div",{className:zt.panel,children:[k.jsxs("div",{className:zt.headerRow,children:[k.jsx("h3",{className:zt.headerTitle,children:"Structure Details"}),k.jsx("button",{onClick:c,className:zt.closeBtn,children:"Close "})]}),k.jsxs("section",{className:zt.sectionInherited,children:[k.jsx("h4",{className:zt.sectionTitle,children:"Heritage"}),k.jsx("div",{className:zt.toggleContainer,children:k.jsxs("div",{className:zt.toggleContent,children:[k.jsx("strong",{children:"Inherited Axioms:"}),p.inheritedAxioms.length>0?k.jsx("ul",{className:zt.axiomList,children:p.inheritedAxioms.map(x=>k.jsx("li",{className:zt.axiomItem,children:k.jsx(Kd,{value:x.canonicalName,collectionName:"axioms",docId:x.id,field:"canonicalName",isAdmin:n})},x.id))}):k.jsx("span",{className:zt.emptyState,children:" None"})]})})]}),k.jsxs("section",{className:zt.sectionCurrent,children:[k.jsx("h3",{children:k.jsx(Kd,{value:r.displayLatex,collectionName:"nodes",docId:r.id,field:"displayLatex",isAdmin:n})}),p.localAxiom&&k.jsxs("div",{className:zt.axiomBox,children:[k.jsxs("div",{className:zt.axiomLabel,children:[k.jsx("strong",{children:"Axiom: "}),k.jsx(Kd,{value:p.localAxiom.canonicalName,collectionName:"axioms",docId:p.localAxiom.id,field:"canonicalName",isAdmin:n})]}),k.jsx("span",{className:zt.latexBold,children:k.jsx(tr,{latex:p.localAxiom.defaultLatex})})]}),k.jsxs("div",{className:zt.localPropHeader,children:[k.jsx("h4",{children:"Theorems:"}),k.jsx("button",{onClick:()=>b(!0),className:zt.proposeBtn,children:"+ Add Theorem"})]}),p.localTheorems.length>0?p.localTheorems.map(x=>k.jsx(Ote,{theorem:x,onDelete:m},x.id)):k.jsx("p",{className:zt.emptyState,children:"No properties defined yet."})]}),v&&k.jsx(kte,{structureName:r.displayLatex,availableTheorems:l,onClose:()=>b(!1),onSubmit:h}),n&&k.jsx("div",{className:zt.adminZone,children:k.jsx("button",{onClick:()=>f(r.id),className:zt.deleteBtn,children:"DELETE STRUCTURE"})})]})},Ote=({theorem:t,onDelete:e})=>{const{profile:n}=Vl(),r=n?.role==="admin",{stats:i,userVote:s,handleVote:l,isLoading:c}=hz(t.id,"theorems",t.stats.greenVotes,t.stats.blackVotes),f=`theorem-item status-${fz({...t,stats:i})}`,m=`vote-btn ${s==="up"?"active-up":""}`,p=`vote-btn ${s==="down"?"active-down":""}`;return k.jsxs("div",{className:f,children:[k.jsxs("div",{className:zt.theoremHeaderRow,children:[k.jsx("div",{className:zt.theoremName,children:k.jsx(Kd,{value:t.name,collectionName:"theorems",docId:t.id,field:"name",isAdmin:r})}),k.jsxs("div",{className:"math-node-stats",style:{margin:0,border:"none",padding:0},children:[k.jsxs("button",{className:m,onClick:v=>{v.stopPropagation(),l("up")},disabled:c,title:"Vote Valid",children:[" ",i.greenVotes]}),k.jsxs("button",{className:p,onClick:v=>{v.stopPropagation(),l("down")},disabled:c,title:"Vote Invalid",children:[" ",i.blackVotes]}),r&&e&&k.jsx("button",{onClick:v=>{v.stopPropagation(),e(t.id)},className:zt.miniDeleteBtn,title:"Delete Theorem",children:""})]})]}),k.jsx("div",{style:{marginTop:"5px",fontSize:"0.9rem"},children:k.jsx(tr,{latex:t.statementLatex})})]})};function S7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Av,kE;function zte(){if(kE)return Av;kE=1;function t(){this.__data__=[],this.size=0}return Av=t,Av}var Cv,DE;function Ec(){if(DE)return Cv;DE=1;function t(e,n){return e===n||e!==e&&n!==n}return Cv=t,Cv}var Rv,OE;function S1(){if(OE)return Rv;OE=1;var t=Ec();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Rv=e,Rv}var Iv,zE;function Lte(){if(zE)return Iv;zE=1;var t=S1(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():n.call(s,l,1),--this.size,!0}return Iv=r,Iv}var Nv,LE;function Vte(){if(LE)return Nv;LE=1;var t=S1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Nv=e,Nv}var Mv,VE;function qte(){if(VE)return Mv;VE=1;var t=S1();function e(n){return t(this.__data__,n)>-1}return Mv=e,Mv}var kv,qE;function Pte(){if(qE)return kv;qE=1;var t=S1();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return kv=e,kv}var Dv,PE;function E1(){if(PE)return Dv;PE=1;var t=zte(),e=Lte(),n=Vte(),r=qte(),i=Pte();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Dv=s,Dv}var Ov,BE;function Bte(){if(BE)return Ov;BE=1;var t=E1();function e(){this.__data__=new t,this.size=0}return Ov=e,Ov}var zv,jE;function jte(){if(jE)return zv;jE=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return zv=t,zv}var Lv,UE;function Ute(){if(UE)return Lv;UE=1;function t(e){return this.__data__.get(e)}return Lv=t,Lv}var Vv,HE;function Hte(){if(HE)return Vv;HE=1;function t(e){return this.__data__.has(e)}return Vv=t,Vv}var qv,FE;function dz(){if(FE)return qv;FE=1;var t=typeof sd=="object"&&sd&&sd.Object===Object&&sd;return qv=t,qv}var Pv,GE;function Xi(){if(GE)return Pv;GE=1;var t=dz(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Pv=n,Pv}var Bv,$E;function Tc(){if($E)return Bv;$E=1;var t=Xi(),e=t.Symbol;return Bv=e,Bv}var jv,YE;function Fte(){if(YE)return jv;YE=1;var t=Tc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var c=n.call(l,i),h=l[i];try{l[i]=void 0;var f=!0}catch{}var m=r.call(l);return f&&(c?l[i]=h:delete l[i]),m}return jv=s,jv}var Uv,XE;function Gte(){if(XE)return Uv;XE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Uv=n,Uv}var Hv,KE;function ql(){if(KE)return Hv;KE=1;var t=Tc(),e=Fte(),n=Gte(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:s&&s in Object(c)?e(c):n(c)}return Hv=l,Hv}var Fv,QE;function Si(){if(QE)return Fv;QE=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Fv=t,Fv}var Gv,ZE;function Vh(){if(ZE)return Gv;ZE=1;var t=ql(),e=Si(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var h=t(c);return h==r||h==i||h==n||h==s}return Gv=l,Gv}var $v,WE;function $te(){if(WE)return $v;WE=1;var t=Xi(),e=t["__core-js_shared__"];return $v=e,$v}var Yv,JE;function Yte(){if(JE)return Yv;JE=1;var t=$te(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Yv=n,Yv}var Xv,eT;function mz(){if(eT)return Xv;eT=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Xv=n,Xv}var Kv,tT;function Xte(){if(tT)return Kv;tT=1;var t=Vh(),e=Yte(),n=Si(),r=mz(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,f=c.hasOwnProperty,m=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||e(v))return!1;var b=t(v)?m:s;return b.test(r(v))}return Kv=p,Kv}var Qv,nT;function Kte(){if(nT)return Qv;nT=1;function t(e,n){return e?.[n]}return Qv=t,Qv}var Zv,rT;function Pl(){if(rT)return Zv;rT=1;var t=Xte(),e=Kte();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Zv=n,Zv}var Wv,iT;function E7(){if(iT)return Wv;iT=1;var t=Pl(),e=Xi(),n=t(e,"Map");return Wv=n,Wv}var Jv,aT;function T1(){if(aT)return Jv;aT=1;var t=Pl(),e=t(Object,"create");return Jv=e,Jv}var e4,sT;function Qte(){if(sT)return e4;sT=1;var t=T1();function e(){this.__data__=t?t(null):{},this.size=0}return e4=e,e4}var t4,oT;function Zte(){if(oT)return t4;oT=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return t4=t,t4}var n4,lT;function Wte(){if(lT)return n4;lT=1;var t=T1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return r.call(l,s)?l[s]:void 0}return n4=i,n4}var r4,uT;function Jte(){if(uT)return r4;uT=1;var t=T1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return r4=r,r4}var i4,cT;function ene(){if(cT)return i4;cT=1;var t=T1(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return i4=n,i4}var a4,hT;function tne(){if(hT)return a4;hT=1;var t=Qte(),e=Zte(),n=Wte(),r=Jte(),i=ene();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,a4=s,a4}var s4,fT;function nne(){if(fT)return s4;fT=1;var t=tne(),e=E1(),n=E7();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return s4=r,s4}var o4,dT;function rne(){if(dT)return o4;dT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return o4=t,o4}var l4,mT;function A1(){if(mT)return l4;mT=1;var t=rne();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return l4=e,l4}var u4,pT;function ine(){if(pT)return u4;pT=1;var t=A1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return u4=e,u4}var c4,gT;function ane(){if(gT)return c4;gT=1;var t=A1();function e(n){return t(this,n).get(n)}return c4=e,c4}var h4,vT;function sne(){if(vT)return h4;vT=1;var t=A1();function e(n){return t(this,n).has(n)}return h4=e,h4}var f4,yT;function one(){if(yT)return f4;yT=1;var t=A1();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return f4=e,f4}var d4,_T;function T7(){if(_T)return d4;_T=1;var t=nne(),e=ine(),n=ane(),r=sne(),i=one();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,d4=s,d4}var m4,bT;function lne(){if(bT)return m4;bT=1;var t=E1(),e=E7(),n=T7(),r=200;function i(s,l){var c=this.__data__;if(c instanceof t){var h=c.__data__;if(!e||h.length<r-1)return h.push([s,l]),this.size=++c.size,this;c=this.__data__=new n(h)}return c.set(s,l),this.size=c.size,this}return m4=i,m4}var p4,wT;function C1(){if(wT)return p4;wT=1;var t=E1(),e=Bte(),n=jte(),r=Ute(),i=Hte(),s=lne();function l(c){var h=this.__data__=new t(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,p4=l,p4}var g4,xT;function A7(){if(xT)return g4;xT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return g4=t,g4}var v4,ST;function pz(){if(ST)return v4;ST=1;var t=Pl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return v4=e,v4}var y4,ET;function R1(){if(ET)return y4;ET=1;var t=pz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return y4=e,y4}var _4,TT;function I1(){if(TT)return _4;TT=1;var t=R1(),e=Ec(),n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c){var h=s[l];(!(r.call(s,l)&&e(h,c))||c===void 0&&!(l in s))&&t(s,l,c)}return _4=i,_4}var b4,AT;function qh(){if(AT)return b4;AT=1;var t=I1(),e=R1();function n(r,i,s,l){var c=!s;s||(s={});for(var h=-1,f=i.length;++h<f;){var m=i[h],p=l?l(s[m],r[m],m,s,r):void 0;p===void 0&&(p=r[m]),c?e(s,m,p):t(s,m,p)}return s}return b4=n,b4}var w4,CT;function une(){if(CT)return w4;CT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return w4=t,w4}var x4,RT;function Ta(){if(RT)return x4;RT=1;function t(e){return e!=null&&typeof e=="object"}return x4=t,x4}var S4,IT;function cne(){if(IT)return S4;IT=1;var t=ql(),e=Ta(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return S4=r,S4}var E4,NT;function Ph(){if(NT)return E4;NT=1;var t=cne(),e=Ta(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return E4=s,E4}var T4,MT;function Ln(){if(MT)return T4;MT=1;var t=Array.isArray;return T4=t,T4}var k0={exports:{}},A4,kT;function hne(){if(kT)return A4;kT=1;function t(){return!1}return A4=t,A4}k0.exports;var DT;function Ac(){return DT||(DT=1,(function(t,e){var n=Xi(),r=hne(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,c=l?n.Buffer:void 0,h=c?c.isBuffer:void 0,f=h||r;t.exports=f})(k0,k0.exports)),k0.exports}var C4,OT;function N1(){if(OT)return C4;OT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return C4=n,C4}var R4,zT;function C7(){if(zT)return R4;zT=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return R4=e,R4}var I4,LT;function fne(){if(LT)return I4;LT=1;var t=ql(),e=C7(),n=Ta(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",S="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",z="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",H="[object Uint32Array]",V={};V[O]=V[A]=V[z]=V[U]=V[q]=V[R]=V[M]=V[D]=V[H]=!0,V[r]=V[i]=V[E]=V[s]=V[C]=V[l]=V[c]=V[h]=V[f]=V[m]=V[p]=V[v]=V[b]=V[x]=V[S]=!1;function j(B){return n(B)&&e(B.length)&&!!V[t(B)]}return I4=j,I4}var N4,VT;function M1(){if(VT)return N4;VT=1;function t(e){return function(n){return e(n)}}return N4=t,N4}var D0={exports:{}};D0.exports;var qT;function R7(){return qT||(qT=1,(function(t,e){var n=dz(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,c=(function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(D0,D0.exports)),D0.exports}var M4,PT;function Bh(){if(PT)return M4;PT=1;var t=fne(),e=M1(),n=R7(),r=n&&n.isTypedArray,i=r?e(r):t;return M4=i,M4}var k4,BT;function gz(){if(BT)return k4;BT=1;var t=une(),e=Ph(),n=Ln(),r=Ac(),i=N1(),s=Bh(),l=Object.prototype,c=l.hasOwnProperty;function h(f,m){var p=n(f),v=!p&&e(f),b=!p&&!v&&r(f),x=!p&&!v&&!b&&s(f),S=p||v||b||x,E=S?t(f.length,String):[],C=E.length;for(var O in f)(m||c.call(f,O))&&!(S&&(O=="length"||b&&(O=="offset"||O=="parent")||x&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,C)))&&E.push(O);return E}return k4=h,k4}var D4,jT;function k1(){if(jT)return D4;jT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return D4=e,D4}var O4,UT;function vz(){if(UT)return O4;UT=1;function t(e,n){return function(r){return e(n(r))}}return O4=t,O4}var z4,HT;function dne(){if(HT)return z4;HT=1;var t=vz(),e=t(Object.keys,Object);return z4=e,z4}var L4,FT;function I7(){if(FT)return L4;FT=1;var t=k1(),e=dne(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))r.call(s,c)&&c!="constructor"&&l.push(c);return l}return L4=i,L4}var V4,GT;function _s(){if(GT)return V4;GT=1;var t=Vh(),e=C7();function n(r){return r!=null&&e(r.length)&&!t(r)}return V4=n,V4}var q4,$T;function Oo(){if($T)return q4;$T=1;var t=gz(),e=I7(),n=_s();function r(i){return n(i)?t(i):e(i)}return q4=r,q4}var P4,YT;function mne(){if(YT)return P4;YT=1;var t=qh(),e=Oo();function n(r,i){return r&&t(i,e(i),r)}return P4=n,P4}var B4,XT;function pne(){if(XT)return B4;XT=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return B4=t,B4}var j4,KT;function gne(){if(KT)return j4;KT=1;var t=Si(),e=k1(),n=pne(),r=Object.prototype,i=r.hasOwnProperty;function s(l){if(!t(l))return n(l);var c=e(l),h=[];for(var f in l)f=="constructor"&&(c||!i.call(l,f))||h.push(f);return h}return j4=s,j4}var U4,QT;function Bl(){if(QT)return U4;QT=1;var t=gz(),e=gne(),n=_s();function r(i){return n(i)?t(i,!0):e(i)}return U4=r,U4}var H4,ZT;function vne(){if(ZT)return H4;ZT=1;var t=qh(),e=Bl();function n(r,i){return r&&t(i,e(i),r)}return H4=n,H4}var O0={exports:{}};O0.exports;var WT;function yz(){return WT||(WT=1,(function(t,e){var n=Xi(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function h(f,m){if(m)return f.slice();var p=f.length,v=c?c(p):new f.constructor(p);return f.copy(v),v}t.exports=h})(O0,O0.exports)),O0.exports}var F4,JT;function _z(){if(JT)return F4;JT=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return F4=t,F4}var G4,eA;function bz(){if(eA)return G4;eA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[s++]=c)}return l}return G4=t,G4}var $4,tA;function wz(){if(tA)return $4;tA=1;function t(){return[]}return $4=t,$4}var Y4,nA;function N7(){if(nA)return Y4;nA=1;var t=bz(),e=wz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return Y4=s,Y4}var X4,rA;function yne(){if(rA)return X4;rA=1;var t=qh(),e=N7();function n(r,i){return t(r,e(r),i)}return X4=n,X4}var K4,iA;function M7(){if(iA)return K4;iA=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return K4=t,K4}var Q4,aA;function D1(){if(aA)return Q4;aA=1;var t=vz(),e=t(Object.getPrototypeOf,Object);return Q4=e,Q4}var Z4,sA;function xz(){if(sA)return Z4;sA=1;var t=M7(),e=D1(),n=N7(),r=wz(),i=Object.getOwnPropertySymbols,s=i?function(l){for(var c=[];l;)t(c,n(l)),l=e(l);return c}:r;return Z4=s,Z4}var W4,oA;function _ne(){if(oA)return W4;oA=1;var t=qh(),e=xz();function n(r,i){return t(r,e(r),i)}return W4=n,W4}var J4,lA;function Sz(){if(lA)return J4;lA=1;var t=M7(),e=Ln();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return J4=n,J4}var ey,uA;function Ez(){if(uA)return ey;uA=1;var t=Sz(),e=N7(),n=Oo();function r(i){return t(i,n,e)}return ey=r,ey}var ty,cA;function bne(){if(cA)return ty;cA=1;var t=Sz(),e=xz(),n=Bl();function r(i){return t(i,n,e)}return ty=r,ty}var ny,hA;function wne(){if(hA)return ny;hA=1;var t=Pl(),e=Xi(),n=t(e,"DataView");return ny=n,ny}var ry,fA;function xne(){if(fA)return ry;fA=1;var t=Pl(),e=Xi(),n=t(e,"Promise");return ry=n,ry}var iy,dA;function Tz(){if(dA)return iy;dA=1;var t=Pl(),e=Xi(),n=t(e,"Set");return iy=n,iy}var ay,mA;function Sne(){if(mA)return ay;mA=1;var t=Pl(),e=Xi(),n=t(e,"WeakMap");return ay=n,ay}var sy,pA;function Cc(){if(pA)return sy;pA=1;var t=wne(),e=E7(),n=xne(),r=Tz(),i=Sne(),s=ql(),l=mz(),c="[object Map]",h="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",b=l(t),x=l(e),S=l(n),E=l(r),C=l(i),O=s;return(t&&O(new t(new ArrayBuffer(1)))!=v||e&&O(new e)!=c||n&&O(n.resolve())!=f||r&&O(new r)!=m||i&&O(new i)!=p)&&(O=function(A){var z=s(A),U=z==h?A.constructor:void 0,q=U?l(U):"";if(q)switch(q){case b:return v;case x:return c;case S:return f;case E:return m;case C:return p}return z}),sy=O,sy}var oy,gA;function Ene(){if(gA)return oy;gA=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return oy=n,oy}var ly,vA;function Az(){if(vA)return ly;vA=1;var t=Xi(),e=t.Uint8Array;return ly=e,ly}var uy,yA;function k7(){if(yA)return uy;yA=1;var t=Az();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return uy=e,uy}var cy,_A;function Tne(){if(_A)return cy;_A=1;var t=k7();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return cy=e,cy}var hy,bA;function Ane(){if(bA)return hy;bA=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return hy=e,hy}var fy,wA;function Cne(){if(wA)return fy;wA=1;var t=Tc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return fy=r,fy}var dy,xA;function Cz(){if(xA)return dy;xA=1;var t=k7();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return dy=e,dy}var my,SA;function Rne(){if(SA)return my;SA=1;var t=k7(),e=Tne(),n=Ane(),r=Cne(),i=Cz(),s="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",z="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",R="[object Uint32Array]";function M(D,H,V){var j=D.constructor;switch(H){case b:return t(D);case s:case l:return new j(+D);case x:return e(D,V);case S:case E:case C:case O:case A:case z:case U:case q:case R:return i(D,V);case c:return new j;case h:case p:return new j(D);case f:return n(D);case m:return new j;case v:return r(D)}}return my=M,my}var py,EA;function Rz(){if(EA)return py;EA=1;var t=Si(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return py=n,py}var gy,TA;function Iz(){if(TA)return gy;TA=1;var t=Rz(),e=D1(),n=k1();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return gy=r,gy}var vy,AA;function Ine(){if(AA)return vy;AA=1;var t=Cc(),e=Ta(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return vy=r,vy}var yy,CA;function Nne(){if(CA)return yy;CA=1;var t=Ine(),e=M1(),n=R7(),r=n&&n.isMap,i=r?e(r):t;return yy=i,yy}var _y,RA;function Mne(){if(RA)return _y;RA=1;var t=Cc(),e=Ta(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return _y=r,_y}var by,IA;function kne(){if(IA)return by;IA=1;var t=Mne(),e=M1(),n=R7(),r=n&&n.isSet,i=r?e(r):t;return by=i,by}var wy,NA;function Nz(){if(NA)return wy;NA=1;var t=C1(),e=A7(),n=I1(),r=mne(),i=vne(),s=yz(),l=_z(),c=yne(),h=_ne(),f=Ez(),m=bne(),p=Cc(),v=Ene(),b=Rne(),x=Iz(),S=Ln(),E=Ac(),C=Nne(),O=Si(),A=kne(),z=Oo(),U=Bl(),q=1,R=2,M=4,D="[object Arguments]",H="[object Array]",V="[object Boolean]",j="[object Date]",B="[object Error]",K="[object Function]",ne="[object GeneratorFunction]",$="[object Map]",ee="[object Number]",re="[object Object]",ce="[object RegExp]",de="[object Set]",Y="[object String]",W="[object Symbol]",me="[object WeakMap]",Q="[object ArrayBuffer]",ie="[object DataView]",le="[object Float32Array]",he="[object Float64Array]",_e="[object Int8Array]",Ce="[object Int16Array]",Le="[object Int32Array]",He="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ge="[object Uint32Array]",Be={};Be[D]=Be[H]=Be[Q]=Be[ie]=Be[V]=Be[j]=Be[le]=Be[he]=Be[_e]=Be[Ce]=Be[Le]=Be[$]=Be[ee]=Be[re]=Be[ce]=Be[de]=Be[Y]=Be[W]=Be[He]=Be[Ue]=Be[Pe]=Be[Ge]=!0,Be[B]=Be[K]=Be[me]=!1;function it($e,Gt,st,kt,Vn,jn){var Yt,Zt=Gt&q,$n=Gt&R,yr=Gt&M;if(st&&(Yt=Vn?st($e,kt,Vn,jn):st($e)),Yt!==void 0)return Yt;if(!O($e))return $e;var _r=S($e);if(_r){if(Yt=v($e),!Zt)return l($e,Yt)}else{var Un=p($e),ws=Un==K||Un==ne;if(E($e))return s($e,Zt);if(Un==re||Un==D||ws&&!Vn){if(Yt=$n||ws?{}:x($e),!Zt)return $n?h($e,i(Yt,$e)):c($e,r(Yt,$e))}else{if(!Be[Un])return Vn?$e:{};Yt=b($e,Un,Zt)}}jn||(jn=new t);var Ti=jn.get($e);if(Ti)return Ti;jn.set($e,Yt),A($e)?$e.forEach(function(hn){Yt.add(it(hn,Gt,st,hn,$e,jn))}):C($e)&&$e.forEach(function(hn,Ut){Yt.set(Ut,it(hn,Gt,st,Ut,$e,jn))});var xs=yr?$n?m:f:$n?U:z,Aa=_r?void 0:xs($e);return e(Aa||$e,function(hn,Ut){Aa&&(Ut=hn,hn=$e[Ut]),n(Yt,Ut,it(hn,Gt,st,Ut,$e,jn))}),Yt}return wy=it,wy}var xy,MA;function Dne(){if(MA)return xy;MA=1;var t=Nz(),e=4;function n(r){return t(r,e)}return xy=n,xy}var Sy,kA;function D7(){if(kA)return Sy;kA=1;function t(e){return function(){return e}}return Sy=t,Sy}var Ey,DA;function One(){if(DA)return Ey;DA=1;function t(e){return function(n,r,i){for(var s=-1,l=Object(n),c=i(n),h=c.length;h--;){var f=c[e?h:++s];if(r(l[f],f,l)===!1)break}return n}}return Ey=t,Ey}var Ty,OA;function O7(){if(OA)return Ty;OA=1;var t=One(),e=t();return Ty=e,Ty}var Ay,zA;function z7(){if(zA)return Ay;zA=1;var t=O7(),e=Oo();function n(r,i){return r&&t(r,i,e)}return Ay=n,Ay}var Cy,LA;function zne(){if(LA)return Cy;LA=1;var t=_s();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var l=i.length,c=r?l:-1,h=Object(i);(r?c--:++c<l)&&s(h[c],c,h)!==!1;);return i}}return Cy=e,Cy}var Ry,VA;function O1(){if(VA)return Ry;VA=1;var t=z7(),e=zne(),n=e(t);return Ry=n,Ry}var Iy,qA;function jl(){if(qA)return Iy;qA=1;function t(e){return e}return Iy=t,Iy}var Ny,PA;function Mz(){if(PA)return Ny;PA=1;var t=jl();function e(n){return typeof n=="function"?n:t}return Ny=e,Ny}var My,BA;function kz(){if(BA)return My;BA=1;var t=A7(),e=O1(),n=Mz(),r=Ln();function i(s,l){var c=r(s)?t:e;return c(s,n(l))}return My=i,My}var ky,jA;function Dz(){return jA||(jA=1,ky=kz()),ky}var Dy,UA;function Lne(){if(UA)return Dy;UA=1;var t=O1();function e(n,r){var i=[];return t(n,function(s,l,c){r(s,l,c)&&i.push(s)}),i}return Dy=e,Dy}var Oy,HA;function Vne(){if(HA)return Oy;HA=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Oy=e,Oy}var zy,FA;function qne(){if(FA)return zy;FA=1;function t(e){return this.__data__.has(e)}return zy=t,zy}var Ly,GA;function Oz(){if(GA)return Ly;GA=1;var t=T7(),e=Vne(),n=qne();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new t;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Ly=r,Ly}var Vy,$A;function Pne(){if($A)return Vy;$A=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Vy=t,Vy}var qy,YA;function zz(){if(YA)return qy;YA=1;function t(e,n){return e.has(n)}return qy=t,qy}var Py,XA;function Lz(){if(XA)return Py;XA=1;var t=Oz(),e=Pne(),n=zz(),r=1,i=2;function s(l,c,h,f,m,p){var v=h&r,b=l.length,x=c.length;if(b!=x&&!(v&&x>b))return!1;var S=p.get(l),E=p.get(c);if(S&&E)return S==c&&E==l;var C=-1,O=!0,A=h&i?new t:void 0;for(p.set(l,c),p.set(c,l);++C<b;){var z=l[C],U=c[C];if(f)var q=v?f(U,z,C,c,l,p):f(z,U,C,l,c,p);if(q!==void 0){if(q)continue;O=!1;break}if(A){if(!e(c,function(R,M){if(!n(A,M)&&(z===R||m(z,R,h,f,p)))return A.push(M)})){O=!1;break}}else if(!(z===U||m(z,U,h,f,p))){O=!1;break}}return p.delete(l),p.delete(c),O}return Py=s,Py}var By,KA;function Bne(){if(KA)return By;KA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return By=t,By}var jy,QA;function L7(){if(QA)return jy;QA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return jy=t,jy}var Uy,ZA;function jne(){if(ZA)return Uy;ZA=1;var t=Tc(),e=Az(),n=Ec(),r=Lz(),i=Bne(),s=L7(),l=1,c=2,h="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",x="[object Set]",S="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",A=t?t.prototype:void 0,z=A?A.valueOf:void 0;function U(q,R,M,D,H,V,j){switch(M){case O:if(q.byteLength!=R.byteLength||q.byteOffset!=R.byteOffset)return!1;q=q.buffer,R=R.buffer;case C:return!(q.byteLength!=R.byteLength||!V(new e(q),new e(R)));case h:case f:case v:return n(+q,+R);case m:return q.name==R.name&&q.message==R.message;case b:case S:return q==R+"";case p:var B=i;case x:var K=D&l;if(B||(B=s),q.size!=R.size&&!K)return!1;var ne=j.get(q);if(ne)return ne==R;D|=c,j.set(q,R);var $=r(B(q),B(R),D,H,V,j);return j.delete(q),$;case E:if(z)return z.call(q)==z.call(R)}return!1}return Uy=U,Uy}var Hy,WA;function Une(){if(WA)return Hy;WA=1;var t=Ez(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c,h,f,m){var p=c&e,v=t(s),b=v.length,x=t(l),S=x.length;if(b!=S&&!p)return!1;for(var E=b;E--;){var C=v[E];if(!(p?C in l:r.call(l,C)))return!1}var O=m.get(s),A=m.get(l);if(O&&A)return O==l&&A==s;var z=!0;m.set(s,l),m.set(l,s);for(var U=p;++E<b;){C=v[E];var q=s[C],R=l[C];if(h)var M=p?h(R,q,C,l,s,m):h(q,R,C,s,l,m);if(!(M===void 0?q===R||f(q,R,c,h,m):M)){z=!1;break}U||(U=C=="constructor")}if(z&&!U){var D=s.constructor,H=l.constructor;D!=H&&"constructor"in s&&"constructor"in l&&!(typeof D=="function"&&D instanceof D&&typeof H=="function"&&H instanceof H)&&(z=!1)}return m.delete(s),m.delete(l),z}return Hy=i,Hy}var Fy,JA;function Hne(){if(JA)return Fy;JA=1;var t=C1(),e=Lz(),n=jne(),r=Une(),i=Cc(),s=Ln(),l=Ac(),c=Bh(),h=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function x(S,E,C,O,A,z){var U=s(S),q=s(E),R=U?m:i(S),M=q?m:i(E);R=R==f?p:R,M=M==f?p:M;var D=R==p,H=M==p,V=R==M;if(V&&l(S)){if(!l(E))return!1;U=!0,D=!1}if(V&&!D)return z||(z=new t),U||c(S)?e(S,E,C,O,A,z):n(S,E,R,C,O,A,z);if(!(C&h)){var j=D&&b.call(S,"__wrapped__"),B=H&&b.call(E,"__wrapped__");if(j||B){var K=j?S.value():S,ne=B?E.value():E;return z||(z=new t),A(K,ne,C,O,z)}}return V?(z||(z=new t),r(S,E,C,O,A,z)):!1}return Fy=x,Fy}var Gy,eC;function Vz(){if(eC)return Gy;eC=1;var t=Hne(),e=Ta();function n(r,i,s,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,l,n,c)}return Gy=n,Gy}var $y,tC;function Fne(){if(tC)return $y;tC=1;var t=C1(),e=Vz(),n=1,r=2;function i(s,l,c,h){var f=c.length,m=f,p=!h;if(s==null)return!m;for(s=Object(s);f--;){var v=c[f];if(p&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++f<m;){v=c[f];var b=v[0],x=s[b],S=v[1];if(p&&v[2]){if(x===void 0&&!(b in s))return!1}else{var E=new t;if(h)var C=h(x,S,b,s,l,E);if(!(C===void 0?e(S,x,n|r,h,E):C))return!1}}return!0}return $y=i,$y}var Yy,nC;function qz(){if(nC)return Yy;nC=1;var t=Si();function e(n){return n===n&&!t(n)}return Yy=e,Yy}var Xy,rC;function Gne(){if(rC)return Xy;rC=1;var t=qz(),e=Oo();function n(r){for(var i=e(r),s=i.length;s--;){var l=i[s],c=r[l];i[s]=[l,c,t(c)]}return i}return Xy=n,Xy}var Ky,iC;function Pz(){if(iC)return Ky;iC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Ky=t,Ky}var Qy,aC;function $ne(){if(aC)return Qy;aC=1;var t=Fne(),e=Gne(),n=Pz();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||t(l,i,s)}}return Qy=r,Qy}var Zy,sC;function Rc(){if(sC)return Zy;sC=1;var t=ql(),e=Ta(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Zy=r,Zy}var Wy,oC;function V7(){if(oC)return Wy;oC=1;var t=Ln(),e=Rc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Wy=i,Wy}var Jy,lC;function Yne(){if(lC)return Jy;lC=1;var t=T7(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var l=arguments,c=i?i.apply(this,l):l[0],h=s.cache;if(h.has(c))return h.get(c);var f=r.apply(this,l);return s.cache=h.set(c,f)||h,f};return s.cache=new(n.Cache||t),s}return n.Cache=t,Jy=n,Jy}var e2,uC;function Xne(){if(uC)return e2;uC=1;var t=Yne(),e=500;function n(r){var i=t(r,function(l){return s.size===e&&s.clear(),l}),s=i.cache;return i}return e2=n,e2}var t2,cC;function Kne(){if(cC)return t2;cC=1;var t=Xne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(l,c,h,f){s.push(h?f.replace(n,"$1"):c||l)}),s});return t2=r,t2}var n2,hC;function z1(){if(hC)return n2;hC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return n2=t,n2}var r2,fC;function Qne(){if(fC)return r2;fC=1;var t=Tc(),e=z1(),n=Ln(),r=Rc(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return r2=l,r2}var i2,dC;function Bz(){if(dC)return i2;dC=1;var t=Qne();function e(n){return n==null?"":t(n)}return i2=e,i2}var a2,mC;function L1(){if(mC)return a2;mC=1;var t=Ln(),e=V7(),n=Kne(),r=Bz();function i(s,l){return t(s)?s:e(s,l)?[s]:n(r(s))}return a2=i,a2}var s2,pC;function jh(){if(pC)return s2;pC=1;var t=Rc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return s2=e,s2}var o2,gC;function V1(){if(gC)return o2;gC=1;var t=L1(),e=jh();function n(r,i){i=t(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[e(i[s++])];return s&&s==l?r:void 0}return o2=n,o2}var l2,vC;function Zne(){if(vC)return l2;vC=1;var t=V1();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return l2=e,l2}var u2,yC;function Wne(){if(yC)return u2;yC=1;function t(e,n){return e!=null&&n in Object(e)}return u2=t,u2}var c2,_C;function jz(){if(_C)return c2;_C=1;var t=L1(),e=Ph(),n=Ln(),r=N1(),i=C7(),s=jh();function l(c,h,f){h=t(h,c);for(var m=-1,p=h.length,v=!1;++m<p;){var b=s(h[m]);if(!(v=c!=null&&f(c,b)))break;c=c[b]}return v||++m!=p?v:(p=c==null?0:c.length,!!p&&i(p)&&r(b,p)&&(n(c)||e(c)))}return c2=l,c2}var h2,bC;function Uz(){if(bC)return h2;bC=1;var t=Wne(),e=jz();function n(r,i){return r!=null&&e(r,i,t)}return h2=n,h2}var f2,wC;function Jne(){if(wC)return f2;wC=1;var t=Vz(),e=Zne(),n=Uz(),r=V7(),i=qz(),s=Pz(),l=jh(),c=1,h=2;function f(m,p){return r(m)&&i(p)?s(l(m),p):function(v){var b=e(v,m);return b===void 0&&b===p?n(v,m):t(p,b,c|h)}}return f2=f,f2}var d2,xC;function Hz(){if(xC)return d2;xC=1;function t(e){return function(n){return n?.[e]}}return d2=t,d2}var m2,SC;function ere(){if(SC)return m2;SC=1;var t=V1();function e(n){return function(r){return t(r,n)}}return m2=e,m2}var p2,EC;function tre(){if(EC)return p2;EC=1;var t=Hz(),e=ere(),n=V7(),r=jh();function i(s){return n(s)?t(r(s)):e(s)}return p2=i,p2}var g2,TC;function bs(){if(TC)return g2;TC=1;var t=$ne(),e=Jne(),n=jl(),r=Ln(),i=tre();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return g2=s,g2}var v2,AC;function Fz(){if(AC)return v2;AC=1;var t=bz(),e=Lne(),n=bs(),r=Ln();function i(s,l){var c=r(s)?t:e;return c(s,n(l,3))}return v2=i,v2}var y2,CC;function nre(){if(CC)return y2;CC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return y2=n,y2}var _2,RC;function Gz(){if(RC)return _2;RC=1;var t=nre(),e=jz();function n(r,i){return r!=null&&e(r,i,t)}return _2=n,_2}var b2,IC;function rre(){if(IC)return b2;IC=1;var t=I7(),e=Cc(),n=Ph(),r=Ln(),i=_s(),s=Ac(),l=k1(),c=Bh(),h="[object Map]",f="[object Set]",m=Object.prototype,p=m.hasOwnProperty;function v(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||s(b)||c(b)||n(b)))return!b.length;var x=e(b);if(x==h||x==f)return!b.size;if(l(b))return!t(b).length;for(var S in b)if(p.call(b,S))return!1;return!0}return b2=v,b2}var w2,NC;function $z(){if(NC)return w2;NC=1;function t(e){return e===void 0}return w2=t,w2}var x2,MC;function Yz(){if(MC)return x2;MC=1;var t=O1(),e=_s();function n(r,i){var s=-1,l=e(r)?Array(r.length):[];return t(r,function(c,h,f){l[++s]=i(c,h,f)}),l}return x2=n,x2}var S2,kC;function Xz(){if(kC)return S2;kC=1;var t=z1(),e=bs(),n=Yz(),r=Ln();function i(s,l){var c=r(s)?t:n;return c(s,e(l,3))}return S2=i,S2}var E2,DC;function ire(){if(DC)return E2;DC=1;function t(e,n,r,i){var s=-1,l=e==null?0:e.length;for(i&&l&&(r=e[++s]);++s<l;)r=n(r,e[s],s,e);return r}return E2=t,E2}var T2,OC;function are(){if(OC)return T2;OC=1;function t(e,n,r,i,s){return s(e,function(l,c,h){r=i?(i=!1,l):n(r,l,c,h)}),r}return T2=t,T2}var A2,zC;function Kz(){if(zC)return A2;zC=1;var t=ire(),e=O1(),n=bs(),r=are(),i=Ln();function s(l,c,h){var f=i(l)?t:r,m=arguments.length<3;return f(l,n(c,4),h,m,e)}return A2=s,A2}var C2,LC;function sre(){if(LC)return C2;LC=1;var t=ql(),e=Ln(),n=Ta(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return C2=i,C2}var R2,VC;function ore(){if(VC)return R2;VC=1;var t=Hz(),e=t("length");return R2=e,R2}var I2,qC;function lre(){if(qC)return I2;qC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+s+"]");function h(f){return c.test(f)}return I2=h,I2}var N2,PC;function ure(){if(PC)return N2;PC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+h+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",S="["+s+"]?",E="(?:"+b+"(?:"+[m,p,v].join("|")+")"+S+x+")*",C=S+x+E,O="(?:"+[m+c+"?",c,p,v,l].join("|")+")",A=RegExp(h+"(?="+h+")|"+O+C,"g");function z(U){for(var q=A.lastIndex=0;A.test(U);)++q;return q}return N2=z,N2}var M2,BC;function cre(){if(BC)return M2;BC=1;var t=ore(),e=lre(),n=ure();function r(i){return e(i)?n(i):t(i)}return M2=r,M2}var k2,jC;function hre(){if(jC)return k2;jC=1;var t=I7(),e=Cc(),n=_s(),r=sre(),i=cre(),s="[object Map]",l="[object Set]";function c(h){if(h==null)return 0;if(n(h))return r(h)?i(h):h.length;var f=e(h);return f==s||f==l?h.size:t(h).length}return k2=c,k2}var D2,UC;function fre(){if(UC)return D2;UC=1;var t=A7(),e=Rz(),n=z7(),r=bs(),i=D1(),s=Ln(),l=Ac(),c=Vh(),h=Si(),f=Bh();function m(p,v,b){var x=s(p),S=x||l(p)||f(p);if(v=r(v,4),b==null){var E=p&&p.constructor;S?b=x?new E:[]:h(p)?b=c(E)?e(i(p)):{}:b={}}return(S?t:n)(p,function(C,O,A){return v(b,C,O,A)}),b}return D2=m,D2}var O2,HC;function dre(){if(HC)return O2;HC=1;var t=Tc(),e=Ph(),n=Ln(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return O2=i,O2}var z2,FC;function q7(){if(FC)return z2;FC=1;var t=M7(),e=dre();function n(r,i,s,l,c){var h=-1,f=r.length;for(s||(s=e),c||(c=[]);++h<f;){var m=r[h];i>0&&s(m)?i>1?n(m,i-1,s,l,c):t(c,m):l||(c[c.length]=m)}return c}return z2=n,z2}var L2,GC;function mre(){if(GC)return L2;GC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return L2=t,L2}var V2,$C;function Qz(){if($C)return V2;$C=1;var t=mre(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,h=e(l.length-i,0),f=Array(h);++c<h;)f[c]=l[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=l[c];return m[i]=s(f),t(r,this,m)}}return V2=n,V2}var q2,YC;function pre(){if(YC)return q2;YC=1;var t=D7(),e=pz(),n=jl(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return q2=r,q2}var P2,XC;function gre(){if(XC)return P2;XC=1;var t=800,e=16,n=Date.now;function r(i){var s=0,l=0;return function(){var c=n(),h=e-(c-l);if(l=c,h>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return P2=r,P2}var B2,KC;function Zz(){if(KC)return B2;KC=1;var t=pre(),e=gre(),n=e(t);return B2=n,B2}var j2,QC;function q1(){if(QC)return j2;QC=1;var t=jl(),e=Qz(),n=Zz();function r(i,s){return n(e(i,s,t),i+"")}return j2=r,j2}var U2,ZC;function Wz(){if(ZC)return U2;ZC=1;function t(e,n,r,i){for(var s=e.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(e[l],l,e))return l;return-1}return U2=t,U2}var H2,WC;function vre(){if(WC)return H2;WC=1;function t(e){return e!==e}return H2=t,H2}var F2,JC;function yre(){if(JC)return F2;JC=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return F2=t,F2}var G2,eR;function _re(){if(eR)return G2;eR=1;var t=Wz(),e=vre(),n=yre();function r(i,s,l){return s===s?n(i,s,l):t(i,e,l)}return G2=r,G2}var $2,tR;function bre(){if(tR)return $2;tR=1;var t=_re();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return $2=e,$2}var Y2,nR;function wre(){if(nR)return Y2;nR=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return Y2=t,Y2}var X2,rR;function xre(){if(rR)return X2;rR=1;function t(){}return X2=t,X2}var K2,iR;function Sre(){if(iR)return K2;iR=1;var t=Tz(),e=xre(),n=L7(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return K2=i,K2}var Q2,aR;function Ere(){if(aR)return Q2;aR=1;var t=Oz(),e=bre(),n=wre(),r=zz(),i=Sre(),s=L7(),l=200;function c(h,f,m){var p=-1,v=e,b=h.length,x=!0,S=[],E=S;if(m)x=!1,v=n;else if(b>=l){var C=f?null:i(h);if(C)return s(C);x=!1,v=r,E=new t}else E=f?[]:S;e:for(;++p<b;){var O=h[p],A=f?f(O):O;if(O=m||O!==0?O:0,x&&A===A){for(var z=E.length;z--;)if(E[z]===A)continue e;f&&E.push(A),S.push(O)}else v(E,A,m)||(E!==S&&E.push(A),S.push(O))}return S}return Q2=c,Q2}var Z2,sR;function Jz(){if(sR)return Z2;sR=1;var t=_s(),e=Ta();function n(r){return e(r)&&t(r)}return Z2=n,Z2}var W2,oR;function Tre(){if(oR)return W2;oR=1;var t=q7(),e=q1(),n=Ere(),r=Jz(),i=e(function(s){return n(t(s,1,r,!0))});return W2=i,W2}var J2,lR;function Are(){if(lR)return J2;lR=1;var t=z1();function e(n,r){return t(r,function(i){return n[i]})}return J2=e,J2}var e3,uR;function eL(){if(uR)return e3;uR=1;var t=Are(),e=Oo();function n(r){return r==null?[]:t(r,e(r))}return e3=n,e3}var t3,cR;function Ei(){if(cR)return t3;cR=1;var t;if(typeof S7=="function")try{t={clone:Dne(),constant:D7(),each:Dz(),filter:Fz(),has:Gz(),isArray:Ln(),isEmpty:rre(),isFunction:Vh(),isUndefined:$z(),keys:Oo(),map:Xz(),reduce:Kz(),size:hre(),transform:fre(),union:Tre(),values:eL()}}catch{}return t||(t=window._),t3=t,t3}var n3,hR;function P7(){if(hR)return n3;hR=1;var t=Ei();n3=i;var e="\0",n="\0",r="";function i(m){this._isDirected=t.has(m,"directed")?m.directed:!0,this._isMultigraph=t.has(m,"multigraph")?m.multigraph:!1,this._isCompound=t.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(m){return this._label=m,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultNodeLabelFn=m,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._in[p])})},i.prototype.sinks=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._out[p])})},i.prototype.setNodes=function(m,p){var v=arguments,b=this;return t.each(m,function(x){v.length>1?b.setNode(x,p):b.setNode(x)}),this},i.prototype.setNode=function(m,p){return t.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=p),this):(this._nodes[m]=arguments.length>1?p:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=n,this._children[m]={},this._children[n][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},i.prototype.node=function(m){return this._nodes[m]},i.prototype.hasNode=function(m){return t.has(this._nodes,m)},i.prototype.removeNode=function(m){var p=this;if(t.has(this._nodes,m)){var v=function(b){p.removeEdge(p._edgeObjs[b])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],t.each(this.children(m),function(b){p.setParent(b)}),delete this._children[m]),t.each(t.keys(this._in[m]),v),delete this._in[m],delete this._preds[m],t.each(t.keys(this._out[m]),v),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},i.prototype.setParent=function(m,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=n;else{p+="";for(var v=p;!t.isUndefined(v);v=this.parent(v))if(v===m)throw new Error("Setting "+p+" as parent of "+m+" would create a cycle");this.setNode(p)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=p,this._children[p][m]=!0,this},i.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},i.prototype.parent=function(m){if(this._isCompound){var p=this._parent[m];if(p!==n)return p}},i.prototype.children=function(m){if(t.isUndefined(m)&&(m=n),this._isCompound){var p=this._children[m];if(p)return t.keys(p)}else{if(m===n)return this.nodes();if(this.hasNode(m))return[]}},i.prototype.predecessors=function(m){var p=this._preds[m];if(p)return t.keys(p)},i.prototype.successors=function(m){var p=this._sucs[m];if(p)return t.keys(p)},i.prototype.neighbors=function(m){var p=this.predecessors(m);if(p)return t.union(p,this.successors(m))},i.prototype.isLeaf=function(m){var p;return this.isDirected()?p=this.successors(m):p=this.neighbors(m),p.length===0},i.prototype.filterNodes=function(m){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;t.each(this._nodes,function(S,E){m(E)&&p.setNode(E,S)}),t.each(this._edgeObjs,function(S){p.hasNode(S.v)&&p.hasNode(S.w)&&p.setEdge(S,v.edge(S))});var b={};function x(S){var E=v.parent(S);return E===void 0||p.hasNode(E)?(b[S]=E,E):E in b?b[E]:x(E)}return this._isCompound&&t.each(p.nodes(),function(S){p.setParent(S,x(S))}),p},i.prototype.setDefaultEdgeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultEdgeLabelFn=m,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(m,p){var v=this,b=arguments;return t.reduce(m,function(x,S){return b.length>1?v.setEdge(x,S,p):v.setEdge(x,S),S}),this},i.prototype.setEdge=function(){var m,p,v,b,x=!1,S=arguments[0];typeof S=="object"&&S!==null&&"v"in S?(m=S.v,p=S.w,v=S.name,arguments.length===2&&(b=arguments[1],x=!0)):(m=S,p=arguments[1],v=arguments[3],arguments.length>2&&(b=arguments[2],x=!0)),m=""+m,p=""+p,t.isUndefined(v)||(v=""+v);var E=c(this._isDirected,m,p,v);if(t.has(this._edgeLabels,E))return x&&(this._edgeLabels[E]=b),this;if(!t.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(p),this._edgeLabels[E]=x?b:this._defaultEdgeLabelFn(m,p,v);var C=h(this._isDirected,m,p,v);return m=C.v,p=C.w,Object.freeze(C),this._edgeObjs[E]=C,s(this._preds[p],m),s(this._sucs[m],p),this._in[p][E]=C,this._out[m][E]=C,this._edgeCount++,this},i.prototype.edge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return this._edgeLabels[b]},i.prototype.hasEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return t.has(this._edgeLabels,b)},i.prototype.removeEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v),x=this._edgeObjs[b];return x&&(m=x.v,p=x.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[p],m),l(this._sucs[m],p),delete this._in[p][b],delete this._out[m][b],this._edgeCount--),this},i.prototype.inEdges=function(m,p){var v=this._in[m];if(v){var b=t.values(v);return p?t.filter(b,function(x){return x.v===p}):b}},i.prototype.outEdges=function(m,p){var v=this._out[m];if(v){var b=t.values(v);return p?t.filter(b,function(x){return x.w===p}):b}},i.prototype.nodeEdges=function(m,p){var v=this.inEdges(m,p);if(v)return v.concat(this.outEdges(m,p))};function s(m,p){m[p]?m[p]++:m[p]=1}function l(m,p){--m[p]||delete m[p]}function c(m,p,v,b){var x=""+p,S=""+v;if(!m&&x>S){var E=x;x=S,S=E}return x+r+S+r+(t.isUndefined(b)?e:b)}function h(m,p,v,b){var x=""+p,S=""+v;if(!m&&x>S){var E=x;x=S,S=E}var C={v:x,w:S};return b&&(C.name=b),C}function f(m,p){return c(m,p.v,p.w,p.name)}return n3}var r3,fR;function Cre(){return fR||(fR=1,r3="2.1.8"),r3}var i3,dR;function Rre(){return dR||(dR=1,i3={Graph:P7(),version:Cre()}),i3}var a3,mR;function Ire(){if(mR)return a3;mR=1;var t=Ei(),e=P7();a3={write:n,read:s};function n(l){var c={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return t.isUndefined(l.graph())||(c.value=t.clone(l.graph())),c}function r(l){return t.map(l.nodes(),function(c){var h=l.node(c),f=l.parent(c),m={v:c};return t.isUndefined(h)||(m.value=h),t.isUndefined(f)||(m.parent=f),m})}function i(l){return t.map(l.edges(),function(c){var h=l.edge(c),f={v:c.v,w:c.w};return t.isUndefined(c.name)||(f.name=c.name),t.isUndefined(h)||(f.value=h),f})}function s(l){var c=new e(l.options).setGraph(l.value);return t.each(l.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),t.each(l.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}return a3}var s3,pR;function Nre(){if(pR)return s3;pR=1;var t=Ei();s3=e;function e(n){var r={},i=[],s;function l(c){t.has(r,c)||(r[c]=!0,s.push(c),t.each(n.successors(c),l),t.each(n.predecessors(c),l))}return t.each(n.nodes(),function(c){s=[],l(c),s.length&&i.push(s)}),i}return s3}var o3,gR;function tL(){if(gR)return o3;gR=1;var t=Ei();o3=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var s=this._arr,l=s.length;return i[n]=l,s.push({key:n,priority:r}),this._decrease(l),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,s<r.length&&(l=r[s].priority<r[l].priority?s:l),l!==n&&(this._swap(n,l),this._heapify(l)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},e.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,l=i[n],c=i[r];i[n]=c,i[r]=l,s[c.key]=n,s[l.key]=r},o3}var l3,vR;function nL(){if(vR)return l3;vR=1;var t=Ei(),e=tL();l3=r;var n=t.constant(1);function r(s,l,c,h){return i(s,String(l),c||n,h||function(f){return s.outEdges(f)})}function i(s,l,c,h){var f={},m=new e,p,v,b=function(x){var S=x.v!==p?x.v:x.w,E=f[S],C=c(x),O=v.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+C);O<E.distance&&(E.distance=O,E.predecessor=p,m.decrease(S,O))};for(s.nodes().forEach(function(x){var S=x===l?0:Number.POSITIVE_INFINITY;f[x]={distance:S},m.add(x,S)});m.size()>0&&(p=m.removeMin(),v=f[p],v.distance!==Number.POSITIVE_INFINITY);)h(p).forEach(b);return f}return l3}var u3,yR;function Mre(){if(yR)return u3;yR=1;var t=nL(),e=Ei();u3=n;function n(r,i,s){return e.transform(r.nodes(),function(l,c){l[c]=t(r,c,i,s)},{})}return u3}var c3,_R;function rL(){if(_R)return c3;_R=1;var t=Ei();c3=e;function e(n){var r=0,i=[],s={},l=[];function c(h){var f=s[h]={onStack:!0,lowlink:r,index:r++};if(i.push(h),n.successors(h).forEach(function(v){t.has(s,v)?s[v].onStack&&(f.lowlink=Math.min(f.lowlink,s[v].index)):(c(v),f.lowlink=Math.min(f.lowlink,s[v].lowlink))}),f.lowlink===f.index){var m=[],p;do p=i.pop(),s[p].onStack=!1,m.push(p);while(h!==p);l.push(m)}}return n.nodes().forEach(function(h){t.has(s,h)||c(h)}),l}return c3}var h3,bR;function kre(){if(bR)return h3;bR=1;var t=Ei(),e=rL();h3=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return h3}var f3,wR;function Dre(){if(wR)return f3;wR=1;var t=Ei();f3=n;var e=t.constant(1);function n(i,s,l){return r(i,s||e,l||function(c){return i.outEdges(c)})}function r(i,s,l){var c={},h=i.nodes();return h.forEach(function(f){c[f]={},c[f][f]={distance:0},h.forEach(function(m){f!==m&&(c[f][m]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(m){var p=m.v===f?m.w:m.v,v=s(m);c[f][p]={distance:v,predecessor:f}})}),h.forEach(function(f){var m=c[f];h.forEach(function(p){var v=c[p];h.forEach(function(b){var x=v[f],S=m[b],E=v[b],C=x.distance+S.distance;C<E.distance&&(E.distance=C,E.predecessor=S.predecessor)})})}),c}return f3}var d3,xR;function iL(){if(xR)return d3;xR=1;var t=Ei();d3=e,e.CycleException=n;function e(r){var i={},s={},l=[];function c(h){if(t.has(s,h))throw new n;t.has(i,h)||(s[h]=!0,i[h]=!0,t.each(r.predecessors(h),c),delete s[h],l.push(h))}if(t.each(r.sinks(),c),t.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,d3}var m3,SR;function Ore(){if(SR)return m3;SR=1;var t=iL();m3=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return m3}var p3,ER;function aL(){if(ER)return p3;ER=1;var t=Ei();p3=e;function e(r,i,s){t.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),c=[],h={};return t.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,s==="post",h,l,c)}),c}function n(r,i,s,l,c,h){t.has(l,i)||(l[i]=!0,s||h.push(i),t.each(c(i),function(f){n(r,f,s,l,c,h)}),s&&h.push(i))}return p3}var g3,TR;function zre(){if(TR)return g3;TR=1;var t=aL();g3=e;function e(n,r){return t(n,r,"post")}return g3}var v3,AR;function Lre(){if(AR)return v3;AR=1;var t=aL();v3=e;function e(n,r){return t(n,r,"pre")}return v3}var y3,CR;function Vre(){if(CR)return y3;CR=1;var t=Ei(),e=P7(),n=tL();y3=r;function r(i,s){var l=new e,c={},h=new n,f;function m(v){var b=v.v===f?v.w:v.v,x=h.priority(b);if(x!==void 0){var S=s(v);S<x&&(c[b]=f,h.decrease(b,S))}}if(i.nodeCount()===0)return l;t.each(i.nodes(),function(v){h.add(v,Number.POSITIVE_INFINITY),l.setNode(v)}),h.decrease(i.nodes()[0],0);for(var p=!1;h.size()>0;){if(f=h.removeMin(),t.has(c,f))l.setEdge(f,c[f]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(f).forEach(m)}return l}return y3}var _3,RR;function qre(){return RR||(RR=1,_3={components:Nre(),dijkstra:nL(),dijkstraAll:Mre(),findCycles:kre(),floydWarshall:Dre(),isAcyclic:Ore(),postorder:zre(),preorder:Lre(),prim:Vre(),tarjan:rL(),topsort:iL()}),_3}var b3,IR;function Pre(){if(IR)return b3;IR=1;var t=Rre();return b3={Graph:t.Graph,json:Ire(),alg:qre(),version:t.version},b3}var w3,NR;function $i(){if(NR)return w3;NR=1;var t;if(typeof S7=="function")try{t=Pre()}catch{}return t||(t=window.graphlib),w3=t,w3}var x3,MR;function Bre(){if(MR)return x3;MR=1;var t=Nz(),e=1,n=4;function r(i){return t(i,e|n)}return x3=r,x3}var S3,kR;function P1(){if(kR)return S3;kR=1;var t=Ec(),e=_s(),n=N1(),r=Si();function i(s,l,c){if(!r(c))return!1;var h=typeof l;return(h=="number"?e(c)&&n(l,c.length):h=="string"&&l in c)?t(c[l],s):!1}return S3=i,S3}var E3,DR;function jre(){if(DR)return E3;DR=1;var t=q1(),e=Ec(),n=P1(),r=Bl(),i=Object.prototype,s=i.hasOwnProperty,l=t(function(c,h){c=Object(c);var f=-1,m=h.length,p=m>2?h[2]:void 0;for(p&&n(h[0],h[1],p)&&(m=1);++f<m;)for(var v=h[f],b=r(v),x=-1,S=b.length;++x<S;){var E=b[x],C=c[E];(C===void 0||e(C,i[E])&&!s.call(c,E))&&(c[E]=v[E])}return c});return E3=l,E3}var T3,OR;function Ure(){if(OR)return T3;OR=1;var t=bs(),e=_s(),n=Oo();function r(i){return function(s,l,c){var h=Object(s);if(!e(s)){var f=t(l,3);s=n(s),l=function(p){return f(h[p],p,h)}}var m=i(s,l,c);return m>-1?h[f?s[m]:m]:void 0}}return T3=r,T3}var A3,zR;function Hre(){if(zR)return A3;zR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return A3=e,A3}var C3,LR;function Fre(){if(LR)return C3;LR=1;var t=Hre(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return C3=n,C3}var R3,VR;function Gre(){if(VR)return R3;VR=1;var t=Fre(),e=Si(),n=Rc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=s.test(f);return p||l.test(f)?c(f.slice(2),p?2:8):i.test(f)?r:+f}return R3=h,R3}var I3,qR;function sL(){if(qR)return I3;qR=1;var t=Gre(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return I3=r,I3}var N3,PR;function $re(){if(PR)return N3;PR=1;var t=sL();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return N3=e,N3}var M3,BR;function Yre(){if(BR)return M3;BR=1;var t=Wz(),e=bs(),n=$re(),r=Math.max;function i(s,l,c){var h=s==null?0:s.length;if(!h)return-1;var f=c==null?0:n(c);return f<0&&(f=r(h+f,0)),t(s,e(l,3),f)}return M3=i,M3}var k3,jR;function Xre(){if(jR)return k3;jR=1;var t=Ure(),e=Yre(),n=t(e);return k3=n,k3}var D3,UR;function oL(){if(UR)return D3;UR=1;var t=q7();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return D3=e,D3}var O3,HR;function Kre(){if(HR)return O3;HR=1;var t=O7(),e=Mz(),n=Bl();function r(i,s){return i==null?i:t(i,e(s),n)}return O3=r,O3}var z3,FR;function Qre(){if(FR)return z3;FR=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return z3=t,z3}var L3,GR;function Zre(){if(GR)return L3;GR=1;var t=R1(),e=z7(),n=bs();function r(i,s){var l={};return s=n(s,3),e(i,function(c,h,f){t(l,h,s(c,h,f))}),l}return L3=r,L3}var V3,$R;function B7(){if($R)return V3;$R=1;var t=Rc();function e(n,r,i){for(var s=-1,l=n.length;++s<l;){var c=n[s],h=r(c);if(h!=null&&(f===void 0?h===h&&!t(h):i(h,f)))var f=h,m=c}return m}return V3=e,V3}var q3,YR;function Wre(){if(YR)return q3;YR=1;function t(e,n){return e>n}return q3=t,q3}var P3,XR;function Jre(){if(XR)return P3;XR=1;var t=B7(),e=Wre(),n=jl();function r(i){return i&&i.length?t(i,n,e):void 0}return P3=r,P3}var B3,KR;function lL(){if(KR)return B3;KR=1;var t=R1(),e=Ec();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return B3=n,B3}var j3,QR;function eie(){if(QR)return j3;QR=1;var t=ql(),e=D1(),n=Ta(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,h=l.call(Object);function f(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var v=c.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==h}return j3=f,j3}var U3,ZR;function uL(){if(ZR)return U3;ZR=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return U3=t,U3}var H3,WR;function tie(){if(WR)return H3;WR=1;var t=qh(),e=Bl();function n(r){return t(r,e(r))}return H3=n,H3}var F3,JR;function nie(){if(JR)return F3;JR=1;var t=lL(),e=yz(),n=Cz(),r=_z(),i=Iz(),s=Ph(),l=Ln(),c=Jz(),h=Ac(),f=Vh(),m=Si(),p=eie(),v=Bh(),b=uL(),x=tie();function S(E,C,O,A,z,U,q){var R=b(E,O),M=b(C,O),D=q.get(M);if(D){t(E,O,D);return}var H=U?U(R,M,O+"",E,C,q):void 0,V=H===void 0;if(V){var j=l(M),B=!j&&h(M),K=!j&&!B&&v(M);H=M,j||B||K?l(R)?H=R:c(R)?H=r(R):B?(V=!1,H=e(M,!0)):K?(V=!1,H=n(M,!0)):H=[]:p(M)||s(M)?(H=R,s(R)?H=x(R):(!m(R)||f(R))&&(H=i(M))):V=!1}V&&(q.set(M,H),z(H,M,A,U,q),q.delete(M)),t(E,O,H)}return F3=S,F3}var G3,eI;function rie(){if(eI)return G3;eI=1;var t=C1(),e=lL(),n=O7(),r=nie(),i=Si(),s=Bl(),l=uL();function c(h,f,m,p,v){h!==f&&n(f,function(b,x){if(v||(v=new t),i(b))r(h,f,x,m,c,p,v);else{var S=p?p(l(h,x),b,x+"",h,f,v):void 0;S===void 0&&(S=b),e(h,x,S)}},s)}return G3=c,G3}var $3,tI;function iie(){if(tI)return $3;tI=1;var t=q1(),e=P1();function n(r){return t(function(i,s){var l=-1,c=s.length,h=c>1?s[c-1]:void 0,f=c>2?s[2]:void 0;for(h=r.length>3&&typeof h=="function"?(c--,h):void 0,f&&e(s[0],s[1],f)&&(h=c<3?void 0:h,c=1),i=Object(i);++l<c;){var m=s[l];m&&r(i,m,l,h)}return i})}return $3=n,$3}var Y3,nI;function aie(){if(nI)return Y3;nI=1;var t=rie(),e=iie(),n=e(function(r,i,s){t(r,i,s)});return Y3=n,Y3}var X3,rI;function cL(){if(rI)return X3;rI=1;function t(e,n){return e<n}return X3=t,X3}var K3,iI;function sie(){if(iI)return K3;iI=1;var t=B7(),e=cL(),n=jl();function r(i){return i&&i.length?t(i,n,e):void 0}return K3=r,K3}var Q3,aI;function oie(){if(aI)return Q3;aI=1;var t=B7(),e=bs(),n=cL();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return Q3=r,Q3}var Z3,sI;function lie(){if(sI)return Z3;sI=1;var t=Xi(),e=function(){return t.Date.now()};return Z3=e,Z3}var W3,oI;function uie(){if(oI)return W3;oI=1;var t=I1(),e=L1(),n=N1(),r=Si(),i=jh();function s(l,c,h,f){if(!r(l))return l;c=e(c,l);for(var m=-1,p=c.length,v=p-1,b=l;b!=null&&++m<p;){var x=i(c[m]),S=h;if(x==="__proto__"||x==="constructor"||x==="prototype")return l;if(m!=v){var E=b[x];S=f?f(E,x,b):void 0,S===void 0&&(S=r(E)?E:n(c[m+1])?[]:{})}t(b,x,S),b=b[x]}return l}return W3=s,W3}var J3,lI;function cie(){if(lI)return J3;lI=1;var t=V1(),e=uie(),n=L1();function r(i,s,l){for(var c=-1,h=s.length,f={};++c<h;){var m=s[c],p=t(i,m);l(p,m)&&e(f,n(m,i),p)}return f}return J3=r,J3}var e5,uI;function hie(){if(uI)return e5;uI=1;var t=cie(),e=Uz();function n(r,i){return t(r,i,function(s,l){return e(r,l)})}return e5=n,e5}var t5,cI;function fie(){if(cI)return t5;cI=1;var t=oL(),e=Qz(),n=Zz();function r(i){return n(e(i,void 0,t),i+"")}return t5=r,t5}var n5,hI;function die(){if(hI)return n5;hI=1;var t=hie(),e=fie(),n=e(function(r,i){return r==null?{}:t(r,i)});return n5=n,n5}var r5,fI;function mie(){if(fI)return r5;fI=1;var t=Math.ceil,e=Math.max;function n(r,i,s,l){for(var c=-1,h=e(t((i-r)/(s||1)),0),f=Array(h);h--;)f[l?h:++c]=r,r+=s;return f}return r5=n,r5}var i5,dI;function pie(){if(dI)return i5;dI=1;var t=mie(),e=P1(),n=sL();function r(i){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),c=c===void 0?s<l?1:-1:n(c),t(s,l,c,i)}}return i5=r,i5}var a5,mI;function gie(){if(mI)return a5;mI=1;var t=pie(),e=t();return a5=e,a5}var s5,pI;function vie(){if(pI)return s5;pI=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return s5=t,s5}var o5,gI;function yie(){if(gI)return o5;gI=1;var t=Rc();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,c=t(n),h=r!==void 0,f=r===null,m=r===r,p=t(r);if(!f&&!p&&!c&&n>r||c&&h&&m&&!f&&!p||s&&h&&m||!i&&m||!l)return 1;if(!s&&!c&&!p&&n<r||p&&i&&l&&!s&&!c||f&&i&&l||!h&&l||!m)return-1}return 0}return o5=e,o5}var l5,vI;function _ie(){if(vI)return l5;vI=1;var t=yie();function e(n,r,i){for(var s=-1,l=n.criteria,c=r.criteria,h=l.length,f=i.length;++s<h;){var m=t(l[s],c[s]);if(m){if(s>=f)return m;var p=i[s];return m*(p=="desc"?-1:1)}}return n.index-r.index}return l5=e,l5}var u5,yI;function bie(){if(yI)return u5;yI=1;var t=z1(),e=V1(),n=bs(),r=Yz(),i=vie(),s=M1(),l=_ie(),c=jl(),h=Ln();function f(m,p,v){p.length?p=t(p,function(S){return h(S)?function(E){return e(E,S.length===1?S[0]:S)}:S}):p=[c];var b=-1;p=t(p,s(n));var x=r(m,function(S,E,C){var O=t(p,function(A){return A(S)});return{criteria:O,index:++b,value:S}});return i(x,function(S,E){return l(S,E,v)})}return u5=f,u5}var c5,_I;function wie(){if(_I)return c5;_I=1;var t=q7(),e=bie(),n=q1(),r=P1(),i=n(function(s,l){if(s==null)return[];var c=l.length;return c>1&&r(s,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return c5=i,c5}var h5,bI;function xie(){if(bI)return h5;bI=1;var t=Bz(),e=0;function n(r){var i=++e;return t(r)+i}return h5=n,h5}var f5,wI;function Sie(){if(wI)return f5;wI=1;function t(e,n,r){for(var i=-1,s=e.length,l=n.length,c={};++i<s;){var h=i<l?n[i]:void 0;r(c,e[i],h)}return c}return f5=t,f5}var d5,xI;function Eie(){if(xI)return d5;xI=1;var t=I1(),e=Sie();function n(r,i){return e(r||[],i||[],t)}return d5=n,d5}var m5,SI;function an(){if(SI)return m5;SI=1;var t;if(typeof S7=="function")try{t={cloneDeep:Bre(),constant:D7(),defaults:jre(),each:Dz(),filter:Fz(),find:Xre(),flatten:oL(),forEach:kz(),forIn:Kre(),has:Gz(),isUndefined:$z(),last:Qre(),map:Xz(),mapValues:Zre(),max:Jre(),merge:aie(),min:sie(),minBy:oie(),now:lie(),pick:die(),range:gie(),reduce:Kz(),sortBy:wie(),uniqueId:xie(),values:eL(),zipObject:Eie()}}catch{}return t||(t=window._),m5=t,m5}var p5,EI;function Tie(){if(EI)return p5;EI=1,p5=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,s=i._prev;s!==i;)r.push(JSON.stringify(s,n)),s=s._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return p5}var g5,TI;function Aie(){if(TI)return g5;TI=1;var t=an(),e=$i().Graph,n=Tie();g5=i;var r=t.constant(1);function i(f,m){if(f.nodeCount()<=1)return[];var p=c(f,m||r),v=s(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(v,function(b){return f.outEdges(b.v,b.w)}),!0)}function s(f,m,p){for(var v=[],b=m[m.length-1],x=m[0],S;f.nodeCount();){for(;S=x.dequeue();)l(f,m,p,S);for(;S=b.dequeue();)l(f,m,p,S);if(f.nodeCount()){for(var E=m.length-2;E>0;--E)if(S=m[E].dequeue(),S){v=v.concat(l(f,m,p,S,!0));break}}}return v}function l(f,m,p,v,b){var x=b?[]:void 0;return t.forEach(f.inEdges(v.v),function(S){var E=f.edge(S),C=f.node(S.v);b&&x.push({v:S.v,w:S.w}),C.out-=E,h(m,p,C)}),t.forEach(f.outEdges(v.v),function(S){var E=f.edge(S),C=S.w,O=f.node(C);O.in-=E,h(m,p,O)}),f.removeNode(v.v),x}function c(f,m){var p=new e,v=0,b=0;t.forEach(f.nodes(),function(E){p.setNode(E,{v:E,in:0,out:0})}),t.forEach(f.edges(),function(E){var C=p.edge(E.v,E.w)||0,O=m(E),A=C+O;p.setEdge(E.v,E.w,A),b=Math.max(b,p.node(E.v).out+=O),v=Math.max(v,p.node(E.w).in+=O)});var x=t.range(b+v+3).map(function(){return new n}),S=v+1;return t.forEach(p.nodes(),function(E){h(x,S,p.node(E))}),{graph:p,buckets:x,zeroIdx:S}}function h(f,m,p){p.out?p.in?f[p.out-p.in+m].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return g5}var v5,AI;function Cie(){if(AI)return v5;AI=1;var t=an(),e=Aie();v5={run:n,undo:i};function n(s){var l=s.graph().acyclicer==="greedy"?e(s,c(s)):r(s);t.forEach(l,function(h){var f=s.edge(h);s.removeEdge(h),f.forwardName=h.name,f.reversed=!0,s.setEdge(h.w,h.v,f,t.uniqueId("rev"))});function c(h){return function(f){return h.edge(f).weight}}}function r(s){var l=[],c={},h={};function f(m){t.has(h,m)||(h[m]=!0,c[m]=!0,t.forEach(s.outEdges(m),function(p){t.has(c,p.w)?l.push(p):f(p.w)}),delete c[m])}return t.forEach(s.nodes(),f),l}function i(s){t.forEach(s.edges(),function(l){var c=s.edge(l);if(c.reversed){s.removeEdge(l);var h=c.forwardName;delete c.reversed,delete c.forwardName,s.setEdge(l.w,l.v,c,h)}})}return v5}var y5,CI;function kr(){if(CI)return y5;CI=1;var t=an(),e=$i().Graph;y5={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:s,predecessorWeights:l,intersectRect:c,buildLayerMatrix:h,normalizeRanks:f,removeEmptyRanks:m,addBorderNode:p,maxRank:v,partition:b,time:x,notime:S};function n(E,C,O,A){var z;do z=t.uniqueId(A);while(E.hasNode(z));return O.dummy=C,E.setNode(z,O),z}function r(E){var C=new e().setGraph(E.graph());return t.forEach(E.nodes(),function(O){C.setNode(O,E.node(O))}),t.forEach(E.edges(),function(O){var A=C.edge(O.v,O.w)||{weight:0,minlen:1},z=E.edge(O);C.setEdge(O.v,O.w,{weight:A.weight+z.weight,minlen:Math.max(A.minlen,z.minlen)})}),C}function i(E){var C=new e({multigraph:E.isMultigraph()}).setGraph(E.graph());return t.forEach(E.nodes(),function(O){E.children(O).length||C.setNode(O,E.node(O))}),t.forEach(E.edges(),function(O){C.setEdge(O,E.edge(O))}),C}function s(E){var C=t.map(E.nodes(),function(O){var A={};return t.forEach(E.outEdges(O),function(z){A[z.w]=(A[z.w]||0)+E.edge(z).weight}),A});return t.zipObject(E.nodes(),C)}function l(E){var C=t.map(E.nodes(),function(O){var A={};return t.forEach(E.inEdges(O),function(z){A[z.v]=(A[z.v]||0)+E.edge(z).weight}),A});return t.zipObject(E.nodes(),C)}function c(E,C){var O=E.x,A=E.y,z=C.x-O,U=C.y-A,q=E.width/2,R=E.height/2;if(!z&&!U)throw new Error("Not possible to find intersection inside of the rectangle");var M,D;return Math.abs(U)*q>Math.abs(z)*R?(U<0&&(R=-R),M=R*z/U,D=R):(z<0&&(q=-q),M=q,D=q*U/z),{x:O+M,y:A+D}}function h(E){var C=t.map(t.range(v(E)+1),function(){return[]});return t.forEach(E.nodes(),function(O){var A=E.node(O),z=A.rank;t.isUndefined(z)||(C[z][A.order]=O)}),C}function f(E){var C=t.min(t.map(E.nodes(),function(O){return E.node(O).rank}));t.forEach(E.nodes(),function(O){var A=E.node(O);t.has(A,"rank")&&(A.rank-=C)})}function m(E){var C=t.min(t.map(E.nodes(),function(U){return E.node(U).rank})),O=[];t.forEach(E.nodes(),function(U){var q=E.node(U).rank-C;O[q]||(O[q]=[]),O[q].push(U)});var A=0,z=E.graph().nodeRankFactor;t.forEach(O,function(U,q){t.isUndefined(U)&&q%z!==0?--A:A&&t.forEach(U,function(R){E.node(R).rank+=A})})}function p(E,C,O,A){var z={width:0,height:0};return arguments.length>=4&&(z.rank=O,z.order=A),n(E,"border",z,C)}function v(E){return t.max(t.map(E.nodes(),function(C){var O=E.node(C).rank;if(!t.isUndefined(O))return O}))}function b(E,C){var O={lhs:[],rhs:[]};return t.forEach(E,function(A){C(A)?O.lhs.push(A):O.rhs.push(A)}),O}function x(E,C){var O=t.now();try{return C()}finally{console.log(E+" time: "+(t.now()-O)+"ms")}}function S(E,C){return C()}return y5}var _5,RI;function Rie(){if(RI)return _5;RI=1;var t=an(),e=kr();_5={run:n,undo:i};function n(s){s.graph().dummyChains=[],t.forEach(s.edges(),function(l){r(s,l)})}function r(s,l){var c=l.v,h=s.node(c).rank,f=l.w,m=s.node(f).rank,p=l.name,v=s.edge(l),b=v.labelRank;if(m!==h+1){s.removeEdge(l);var x,S,E;for(E=0,++h;h<m;++E,++h)v.points=[],S={width:0,height:0,edgeLabel:v,edgeObj:l,rank:h},x=e.addDummyNode(s,"edge",S,"_d"),h===b&&(S.width=v.width,S.height=v.height,S.dummy="edge-label",S.labelpos=v.labelpos),s.setEdge(c,x,{weight:v.weight},p),E===0&&s.graph().dummyChains.push(x),c=x;s.setEdge(c,f,{weight:v.weight},p)}}function i(s){t.forEach(s.graph().dummyChains,function(l){var c=s.node(l),h=c.edgeLabel,f;for(s.setEdge(c.edgeObj,h);c.dummy;)f=s.successors(l)[0],s.removeNode(l),h.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),l=f,c=s.node(l)})}return _5}var b5,II;function Dm(){if(II)return b5;II=1;var t=an();b5={longestPath:e,slack:n};function e(r){var i={};function s(l){var c=r.node(l);if(t.has(i,l))return c.rank;i[l]=!0;var h=t.min(t.map(r.outEdges(l),function(f){return s(f.w)-r.edge(f).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),c.rank=h}t.forEach(r.sources(),s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return b5}var w5,NI;function hL(){if(NI)return w5;NI=1;var t=an(),e=$i().Graph,n=Dm().slack;w5=r;function r(c){var h=new e({directed:!1}),f=c.nodes()[0],m=c.nodeCount();h.setNode(f,{});for(var p,v;i(h,c)<m;)p=s(h,c),v=h.hasNode(p.v)?n(c,p):-n(c,p),l(h,c,v);return h}function i(c,h){function f(m){t.forEach(h.nodeEdges(m),function(p){var v=p.v,b=m===v?p.w:v;!c.hasNode(b)&&!n(h,p)&&(c.setNode(b,{}),c.setEdge(m,b,{}),f(b))})}return t.forEach(c.nodes(),f),c.nodeCount()}function s(c,h){return t.minBy(h.edges(),function(f){if(c.hasNode(f.v)!==c.hasNode(f.w))return n(h,f)})}function l(c,h,f){t.forEach(c.nodes(),function(m){h.node(m).rank+=f})}return w5}var x5,MI;function Iie(){if(MI)return x5;MI=1;var t=an(),e=hL(),n=Dm().slack,r=Dm().longestPath,i=$i().alg.preorder,s=$i().alg.postorder,l=kr().simplify;x5=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=m,c.leaveEdge=b,c.enterEdge=x,c.exchangeEdges=S;function c(A){A=l(A),r(A);var z=e(A);p(z),h(z,A);for(var U,q;U=b(z);)q=x(z,A,U),S(z,A,U,q)}function h(A,z){var U=s(A,A.nodes());U=U.slice(0,U.length-1),t.forEach(U,function(q){f(A,z,q)})}function f(A,z,U){var q=A.node(U),R=q.parent;A.edge(U,R).cutvalue=m(A,z,U)}function m(A,z,U){var q=A.node(U),R=q.parent,M=!0,D=z.edge(U,R),H=0;return D||(M=!1,D=z.edge(R,U)),H=D.weight,t.forEach(z.nodeEdges(U),function(V){var j=V.v===U,B=j?V.w:V.v;if(B!==R){var K=j===M,ne=z.edge(V).weight;if(H+=K?ne:-ne,C(A,U,B)){var $=A.edge(U,B).cutvalue;H+=K?-$:$}}}),H}function p(A,z){arguments.length<2&&(z=A.nodes()[0]),v(A,{},1,z)}function v(A,z,U,q,R){var M=U,D=A.node(q);return z[q]=!0,t.forEach(A.neighbors(q),function(H){t.has(z,H)||(U=v(A,z,U,H,q))}),D.low=M,D.lim=U++,R?D.parent=R:delete D.parent,U}function b(A){return t.find(A.edges(),function(z){return A.edge(z).cutvalue<0})}function x(A,z,U){var q=U.v,R=U.w;z.hasEdge(q,R)||(q=U.w,R=U.v);var M=A.node(q),D=A.node(R),H=M,V=!1;M.lim>D.lim&&(H=D,V=!0);var j=t.filter(z.edges(),function(B){return V===O(A,A.node(B.v),H)&&V!==O(A,A.node(B.w),H)});return t.minBy(j,function(B){return n(z,B)})}function S(A,z,U,q){var R=U.v,M=U.w;A.removeEdge(R,M),A.setEdge(q.v,q.w,{}),p(A),h(A,z),E(A,z)}function E(A,z){var U=t.find(A.nodes(),function(R){return!z.node(R).parent}),q=i(A,U);q=q.slice(1),t.forEach(q,function(R){var M=A.node(R).parent,D=z.edge(R,M),H=!1;D||(D=z.edge(M,R),H=!0),z.node(R).rank=z.node(M).rank+(H?D.minlen:-D.minlen)})}function C(A,z,U){return A.hasEdge(z,U)}function O(A,z,U){return U.low<=z.lim&&z.lim<=U.lim}return x5}var S5,kI;function Nie(){if(kI)return S5;kI=1;var t=Dm(),e=t.longestPath,n=hL(),r=Iie();S5=i;function i(h){switch(h.graph().ranker){case"network-simplex":c(h);break;case"tight-tree":l(h);break;case"longest-path":s(h);break;default:c(h)}}var s=e;function l(h){e(h),n(h)}function c(h){r(h)}return S5}var E5,DI;function Mie(){if(DI)return E5;DI=1;var t=an();E5=e;function e(i){var s=r(i);t.forEach(i.graph().dummyChains,function(l){for(var c=i.node(l),h=c.edgeObj,f=n(i,s,h.v,h.w),m=f.path,p=f.lca,v=0,b=m[v],x=!0;l!==h.w;){if(c=i.node(l),x){for(;(b=m[v])!==p&&i.node(b).maxRank<c.rank;)v++;b===p&&(x=!1)}if(!x){for(;v<m.length-1&&i.node(b=m[v+1]).minRank<=c.rank;)v++;b=m[v]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,s,l,c){var h=[],f=[],m=Math.min(s[l].low,s[c].low),p=Math.max(s[l].lim,s[c].lim),v,b;v=l;do v=i.parent(v),h.push(v);while(v&&(s[v].low>m||p>s[v].lim));for(b=v,v=c;(v=i.parent(v))!==b;)f.push(v);return{path:h.concat(f.reverse()),lca:b}}function r(i){var s={},l=0;function c(h){var f=l;t.forEach(i.children(h),c),s[h]={low:f,lim:l++}}return t.forEach(i.children(),c),s}return E5}var T5,OI;function kie(){if(OI)return T5;OI=1;var t=an(),e=kr();T5={run:n,cleanup:l};function n(c){var h=e.addDummyNode(c,"root",{},"_root"),f=i(c),m=t.max(t.values(f))-1,p=2*m+1;c.graph().nestingRoot=h,t.forEach(c.edges(),function(b){c.edge(b).minlen*=p});var v=s(c)+1;t.forEach(c.children(),function(b){r(c,h,p,v,m,f,b)}),c.graph().nodeRankFactor=p}function r(c,h,f,m,p,v,b){var x=c.children(b);if(!x.length){b!==h&&c.setEdge(h,b,{weight:0,minlen:f});return}var S=e.addBorderNode(c,"_bt"),E=e.addBorderNode(c,"_bb"),C=c.node(b);c.setParent(S,b),C.borderTop=S,c.setParent(E,b),C.borderBottom=E,t.forEach(x,function(O){r(c,h,f,m,p,v,O);var A=c.node(O),z=A.borderTop?A.borderTop:O,U=A.borderBottom?A.borderBottom:O,q=A.borderTop?m:2*m,R=z!==U?1:p-v[b]+1;c.setEdge(S,z,{weight:q,minlen:R,nestingEdge:!0}),c.setEdge(U,E,{weight:q,minlen:R,nestingEdge:!0})}),c.parent(b)||c.setEdge(h,S,{weight:0,minlen:p+v[b]})}function i(c){var h={};function f(m,p){var v=c.children(m);v&&v.length&&t.forEach(v,function(b){f(b,p+1)}),h[m]=p}return t.forEach(c.children(),function(m){f(m,1)}),h}function s(c){return t.reduce(c.edges(),function(h,f){return h+c.edge(f).weight},0)}function l(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,t.forEach(c.edges(),function(f){var m=c.edge(f);m.nestingEdge&&c.removeEdge(f)})}return T5}var A5,zI;function Die(){if(zI)return A5;zI=1;var t=an(),e=kr();A5=n;function n(i){function s(l){var c=i.children(l),h=i.node(l);if(c.length&&t.forEach(c,s),t.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var f=h.minRank,m=h.maxRank+1;f<m;++f)r(i,"borderLeft","_bl",l,h,f),r(i,"borderRight","_br",l,h,f)}}t.forEach(i.children(),s)}function r(i,s,l,c,h,f){var m={width:0,height:0,rank:f,borderType:s},p=h[s][f-1],v=e.addDummyNode(i,"border",m,l);h[s][f]=v,i.setParent(v,c),p&&i.setEdge(p,v,{weight:1})}return A5}var C5,LI;function Oie(){if(LI)return C5;LI=1;var t=an();C5={adjust:e,undo:n};function e(f){var m=f.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&r(f)}function n(f){var m=f.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&s(f),(m==="lr"||m==="rl")&&(c(f),r(f))}function r(f){t.forEach(f.nodes(),function(m){i(f.node(m))}),t.forEach(f.edges(),function(m){i(f.edge(m))})}function i(f){var m=f.width;f.width=f.height,f.height=m}function s(f){t.forEach(f.nodes(),function(m){l(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,l),t.has(p,"y")&&l(p)})}function l(f){f.y=-f.y}function c(f){t.forEach(f.nodes(),function(m){h(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,h),t.has(p,"x")&&h(p)})}function h(f){var m=f.x;f.x=f.y,f.y=m}return C5}var R5,VI;function zie(){if(VI)return R5;VI=1;var t=an();R5=e;function e(n){var r={},i=t.filter(n.nodes(),function(f){return!n.children(f).length}),s=t.max(t.map(i,function(f){return n.node(f).rank})),l=t.map(t.range(s+1),function(){return[]});function c(f){if(!t.has(r,f)){r[f]=!0;var m=n.node(f);l[m.rank].push(f),t.forEach(n.successors(f),c)}}var h=t.sortBy(i,function(f){return n.node(f).rank});return t.forEach(h,c),l}return R5}var I5,qI;function Lie(){if(qI)return I5;qI=1;var t=an();I5=e;function e(r,i){for(var s=0,l=1;l<i.length;++l)s+=n(r,i[l-1],i[l]);return s}function n(r,i,s){for(var l=t.zipObject(s,t.map(s,function(v,b){return b})),c=t.flatten(t.map(i,function(v){return t.sortBy(t.map(r.outEdges(v),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),h=1;h<s.length;)h<<=1;var f=2*h-1;h-=1;var m=t.map(new Array(f),function(){return 0}),p=0;return t.forEach(c.forEach(function(v){var b=v.pos+h;m[b]+=v.weight;for(var x=0;b>0;)b%2&&(x+=m[b+1]),b=b-1>>1,m[b]+=v.weight;p+=v.weight*x})),p}return I5}var N5,PI;function Vie(){if(PI)return N5;PI=1;var t=an();N5=e;function e(n,r){return t.map(r,function(i){var s=n.inEdges(i);if(s.length){var l=t.reduce(s,function(c,h){var f=n.edge(h),m=n.node(h.v);return{sum:c.sum+f.weight*m.order,weight:c.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return N5}var M5,BI;function qie(){if(BI)return M5;BI=1;var t=an();M5=e;function e(i,s){var l={};t.forEach(i,function(h,f){var m=l[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:f};t.isUndefined(h.barycenter)||(m.barycenter=h.barycenter,m.weight=h.weight)}),t.forEach(s.edges(),function(h){var f=l[h.v],m=l[h.w];!t.isUndefined(f)&&!t.isUndefined(m)&&(m.indegree++,f.out.push(l[h.w]))});var c=t.filter(l,function(h){return!h.indegree});return n(c)}function n(i){var s=[];function l(f){return function(m){m.merged||(t.isUndefined(m.barycenter)||t.isUndefined(f.barycenter)||m.barycenter>=f.barycenter)&&r(f,m)}}function c(f){return function(m){m.in.push(f),--m.indegree===0&&i.push(m)}}for(;i.length;){var h=i.pop();s.push(h),t.forEach(h.in.reverse(),l(h)),t.forEach(h.out,c(h))}return t.map(t.filter(s,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function r(i,s){var l=0,c=0;i.weight&&(l+=i.barycenter*i.weight,c+=i.weight),s.weight&&(l+=s.barycenter*s.weight,c+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=l/c,i.weight=c,i.i=Math.min(s.i,i.i),s.merged=!0}return M5}var k5,jI;function Pie(){if(jI)return k5;jI=1;var t=an(),e=kr();k5=n;function n(s,l){var c=e.partition(s,function(S){return t.has(S,"barycenter")}),h=c.lhs,f=t.sortBy(c.rhs,function(S){return-S.i}),m=[],p=0,v=0,b=0;h.sort(i(!!l)),b=r(m,f,b),t.forEach(h,function(S){b+=S.vs.length,m.push(S.vs),p+=S.barycenter*S.weight,v+=S.weight,b=r(m,f,b)});var x={vs:t.flatten(m,!0)};return v&&(x.barycenter=p/v,x.weight=v),x}function r(s,l,c){for(var h;l.length&&(h=t.last(l)).i<=c;)l.pop(),s.push(h.vs),c++;return c}function i(s){return function(l,c){return l.barycenter<c.barycenter?-1:l.barycenter>c.barycenter?1:s?c.i-l.i:l.i-c.i}}return k5}var D5,UI;function Bie(){if(UI)return D5;UI=1;var t=an(),e=Vie(),n=qie(),r=Pie();D5=i;function i(c,h,f,m){var p=c.children(h),v=c.node(h),b=v?v.borderLeft:void 0,x=v?v.borderRight:void 0,S={};b&&(p=t.filter(p,function(U){return U!==b&&U!==x}));var E=e(c,p);t.forEach(E,function(U){if(c.children(U.v).length){var q=i(c,U.v,f,m);S[U.v]=q,t.has(q,"barycenter")&&l(U,q)}});var C=n(E,f);s(C,S);var O=r(C,m);if(b&&(O.vs=t.flatten([b,O.vs,x],!0),c.predecessors(b).length)){var A=c.node(c.predecessors(b)[0]),z=c.node(c.predecessors(x)[0]);t.has(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+A.order+z.order)/(O.weight+2),O.weight+=2}return O}function s(c,h){t.forEach(c,function(f){f.vs=t.flatten(f.vs.map(function(m){return h[m]?h[m].vs:m}),!0)})}function l(c,h){t.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}return D5}var O5,HI;function jie(){if(HI)return O5;HI=1;var t=an(),e=$i().Graph;O5=n;function n(i,s,l){var c=r(i),h=new e({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(f){return i.node(f)});return t.forEach(i.nodes(),function(f){var m=i.node(f),p=i.parent(f);(m.rank===s||m.minRank<=s&&s<=m.maxRank)&&(h.setNode(f),h.setParent(f,p||c),t.forEach(i[l](f),function(v){var b=v.v===f?v.w:v.v,x=h.edge(b,f),S=t.isUndefined(x)?0:x.weight;h.setEdge(b,f,{weight:i.edge(v).weight+S})}),t.has(m,"minRank")&&h.setNode(f,{borderLeft:m.borderLeft[s],borderRight:m.borderRight[s]}))}),h}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return O5}var z5,FI;function Uie(){if(FI)return z5;FI=1;var t=an();z5=e;function e(n,r,i){var s={},l;t.forEach(i,function(c){for(var h=n.parent(c),f,m;h;){if(f=n.parent(h),f?(m=s[f],s[f]=h):(m=l,l=h),m&&m!==h){r.setEdge(m,h);return}h=f}})}return z5}var L5,GI;function Hie(){if(GI)return L5;GI=1;var t=an(),e=zie(),n=Lie(),r=Bie(),i=jie(),s=Uie(),l=$i().Graph,c=kr();L5=h;function h(v){var b=c.maxRank(v),x=f(v,t.range(1,b+1),"inEdges"),S=f(v,t.range(b-1,-1,-1),"outEdges"),E=e(v);p(v,E);for(var C=Number.POSITIVE_INFINITY,O,A=0,z=0;z<4;++A,++z){m(A%2?x:S,A%4>=2),E=c.buildLayerMatrix(v);var U=n(v,E);U<C&&(z=0,O=t.cloneDeep(E),C=U)}p(v,O)}function f(v,b,x){return t.map(b,function(S){return i(v,S,x)})}function m(v,b){var x=new l;t.forEach(v,function(S){var E=S.graph().root,C=r(S,E,x,b);t.forEach(C.vs,function(O,A){S.node(O).order=A}),s(S,x,C.vs)})}function p(v,b){t.forEach(b,function(x){t.forEach(x,function(S,E){v.node(S).order=E})})}return L5}var V5,$I;function Fie(){if($I)return V5;$I=1;var t=an(),e=$i().Graph,n=kr();V5={positionX:x,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:c,verticalAlignment:h,horizontalCompaction:f,alignCoordinates:v,findSmallestWidthAlignment:p,balance:b};function r(C,O){var A={};function z(U,q){var R=0,M=0,D=U.length,H=t.last(q);return t.forEach(q,function(V,j){var B=s(C,V),K=B?C.node(B).order:D;(B||V===H)&&(t.forEach(q.slice(M,j+1),function(ne){t.forEach(C.predecessors(ne),function($){var ee=C.node($),re=ee.order;(re<R||K<re)&&!(ee.dummy&&C.node(ne).dummy)&&l(A,$,ne)})}),M=j+1,R=K)}),q}return t.reduce(O,z),A}function i(C,O){var A={};function z(q,R,M,D,H){var V;t.forEach(t.range(R,M),function(j){V=q[j],C.node(V).dummy&&t.forEach(C.predecessors(V),function(B){var K=C.node(B);K.dummy&&(K.order<D||K.order>H)&&l(A,B,V)})})}function U(q,R){var M=-1,D,H=0;return t.forEach(R,function(V,j){if(C.node(V).dummy==="border"){var B=C.predecessors(V);B.length&&(D=C.node(B[0]).order,z(R,H,j,M,D),H=j,M=D)}z(R,H,R.length,D,q.length)}),R}return t.reduce(O,U),A}function s(C,O){if(C.node(O).dummy)return t.find(C.predecessors(O),function(A){return C.node(A).dummy})}function l(C,O,A){if(O>A){var z=O;O=A,A=z}var U=C[O];U||(C[O]=U={}),U[A]=!0}function c(C,O,A){if(O>A){var z=O;O=A,A=z}return t.has(C[O],A)}function h(C,O,A,z){var U={},q={},R={};return t.forEach(O,function(M){t.forEach(M,function(D,H){U[D]=D,q[D]=D,R[D]=H})}),t.forEach(O,function(M){var D=-1;t.forEach(M,function(H){var V=z(H);if(V.length){V=t.sortBy(V,function($){return R[$]});for(var j=(V.length-1)/2,B=Math.floor(j),K=Math.ceil(j);B<=K;++B){var ne=V[B];q[H]===H&&D<R[ne]&&!c(A,H,ne)&&(q[ne]=H,q[H]=U[H]=U[ne],D=R[ne])}}})}),{root:U,align:q}}function f(C,O,A,z,U){var q={},R=m(C,O,A,U),M=U?"borderLeft":"borderRight";function D(j,B){for(var K=R.nodes(),ne=K.pop(),$={};ne;)$[ne]?j(ne):($[ne]=!0,K.push(ne),K=K.concat(B(ne))),ne=K.pop()}function H(j){q[j]=R.inEdges(j).reduce(function(B,K){return Math.max(B,q[K.v]+R.edge(K))},0)}function V(j){var B=R.outEdges(j).reduce(function(ne,$){return Math.min(ne,q[$.w]-R.edge($))},Number.POSITIVE_INFINITY),K=C.node(j);B!==Number.POSITIVE_INFINITY&&K.borderType!==M&&(q[j]=Math.max(q[j],B))}return D(H,R.predecessors.bind(R)),D(V,R.successors.bind(R)),t.forEach(z,function(j){q[j]=q[A[j]]}),q}function m(C,O,A,z){var U=new e,q=C.graph(),R=S(q.nodesep,q.edgesep,z);return t.forEach(O,function(M){var D;t.forEach(M,function(H){var V=A[H];if(U.setNode(V),D){var j=A[D],B=U.edge(j,V);U.setEdge(j,V,Math.max(R(C,H,D),B||0))}D=H})}),U}function p(C,O){return t.minBy(t.values(O),function(A){var z=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY;return t.forIn(A,function(q,R){var M=E(C,R)/2;z=Math.max(q+M,z),U=Math.min(q-M,U)}),z-U})}function v(C,O){var A=t.values(O),z=t.min(A),U=t.max(A);t.forEach(["u","d"],function(q){t.forEach(["l","r"],function(R){var M=q+R,D=C[M],H;if(D!==O){var V=t.values(D);H=R==="l"?z-t.min(V):U-t.max(V),H&&(C[M]=t.mapValues(D,function(j){return j+H}))}})})}function b(C,O){return t.mapValues(C.ul,function(A,z){if(O)return C[O.toLowerCase()][z];var U=t.sortBy(t.map(C,z));return(U[1]+U[2])/2})}function x(C){var O=n.buildLayerMatrix(C),A=t.merge(r(C,O),i(C,O)),z={},U;t.forEach(["u","d"],function(R){U=R==="u"?O:t.values(O).reverse(),t.forEach(["l","r"],function(M){M==="r"&&(U=t.map(U,function(j){return t.values(j).reverse()}));var D=(R==="u"?C.predecessors:C.successors).bind(C),H=h(C,U,A,D),V=f(C,U,H.root,H.align,M==="r");M==="r"&&(V=t.mapValues(V,function(j){return-j})),z[R+M]=V})});var q=p(C,z);return v(z,q),b(z,C.graph().align)}function S(C,O,A){return function(z,U,q){var R=z.node(U),M=z.node(q),D=0,H;if(D+=R.width/2,t.has(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":H=-R.width/2;break;case"r":H=R.width/2;break}if(H&&(D+=A?H:-H),H=0,D+=(R.dummy?O:C)/2,D+=(M.dummy?O:C)/2,D+=M.width/2,t.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":H=M.width/2;break;case"r":H=-M.width/2;break}return H&&(D+=A?H:-H),H=0,D}}function E(C,O){return C.node(O).width}return V5}var q5,YI;function Gie(){if(YI)return q5;YI=1;var t=an(),e=kr(),n=Fie().positionX;q5=r;function r(s){s=e.asNonCompoundGraph(s),i(s),t.forEach(n(s),function(l,c){s.node(c).x=l})}function i(s){var l=e.buildLayerMatrix(s),c=s.graph().ranksep,h=0;t.forEach(l,function(f){var m=t.max(t.map(f,function(p){return s.node(p).height}));t.forEach(f,function(p){s.node(p).y=h+m/2}),h+=m+c})}return q5}var P5,XI;function $ie(){if(XI)return P5;XI=1;var t=an(),e=Cie(),n=Rie(),r=Nie(),i=kr().normalizeRanks,s=Mie(),l=kr().removeEmptyRanks,c=kie(),h=Die(),f=Oie(),m=Hie(),p=Gie(),v=kr(),b=$i().Graph;P5=x;function x(Q,ie){var le=ie&&ie.debugTiming?v.time:v.notime;le("layout",function(){var he=le("  buildLayoutGraph",function(){return D(Q)});le("  runLayout",function(){S(he,le)}),le("  updateInputGraph",function(){E(Q,he)})})}function S(Q,ie){ie("    makeSpaceForEdgeLabels",function(){H(Q)}),ie("    removeSelfEdges",function(){ce(Q)}),ie("    acyclic",function(){e.run(Q)}),ie("    nestingGraph.run",function(){c.run(Q)}),ie("    rank",function(){r(v.asNonCompoundGraph(Q))}),ie("    injectEdgeLabelProxies",function(){V(Q)}),ie("    removeEmptyRanks",function(){l(Q)}),ie("    nestingGraph.cleanup",function(){c.cleanup(Q)}),ie("    normalizeRanks",function(){i(Q)}),ie("    assignRankMinMax",function(){j(Q)}),ie("    removeEdgeLabelProxies",function(){B(Q)}),ie("    normalize.run",function(){n.run(Q)}),ie("    parentDummyChains",function(){s(Q)}),ie("    addBorderSegments",function(){h(Q)}),ie("    order",function(){m(Q)}),ie("    insertSelfEdges",function(){de(Q)}),ie("    adjustCoordinateSystem",function(){f.adjust(Q)}),ie("    position",function(){p(Q)}),ie("    positionSelfEdges",function(){Y(Q)}),ie("    removeBorderNodes",function(){re(Q)}),ie("    normalize.undo",function(){n.undo(Q)}),ie("    fixupEdgeLabelCoords",function(){$(Q)}),ie("    undoCoordinateSystem",function(){f.undo(Q)}),ie("    translateGraph",function(){K(Q)}),ie("    assignNodeIntersects",function(){ne(Q)}),ie("    reversePoints",function(){ee(Q)}),ie("    acyclic.undo",function(){e.undo(Q)})}function E(Q,ie){t.forEach(Q.nodes(),function(le){var he=Q.node(le),_e=ie.node(le);he&&(he.x=_e.x,he.y=_e.y,ie.children(le).length&&(he.width=_e.width,he.height=_e.height))}),t.forEach(Q.edges(),function(le){var he=Q.edge(le),_e=ie.edge(le);he.points=_e.points,t.has(_e,"x")&&(he.x=_e.x,he.y=_e.y)}),Q.graph().width=ie.graph().width,Q.graph().height=ie.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],z=["width","height"],U={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],R={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function D(Q){var ie=new b({multigraph:!0,compound:!0}),le=me(Q.graph());return ie.setGraph(t.merge({},O,W(le,C),t.pick(le,A))),t.forEach(Q.nodes(),function(he){var _e=me(Q.node(he));ie.setNode(he,t.defaults(W(_e,z),U)),ie.setParent(he,Q.parent(he))}),t.forEach(Q.edges(),function(he){var _e=me(Q.edge(he));ie.setEdge(he,t.merge({},R,W(_e,q),t.pick(_e,M)))}),ie}function H(Q){var ie=Q.graph();ie.ranksep/=2,t.forEach(Q.edges(),function(le){var he=Q.edge(le);he.minlen*=2,he.labelpos.toLowerCase()!=="c"&&(ie.rankdir==="TB"||ie.rankdir==="BT"?he.width+=he.labeloffset:he.height+=he.labeloffset)})}function V(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie);if(le.width&&le.height){var he=Q.node(ie.v),_e=Q.node(ie.w),Ce={rank:(_e.rank-he.rank)/2+he.rank,e:ie};v.addDummyNode(Q,"edge-proxy",Ce,"_ep")}})}function j(Q){var ie=0;t.forEach(Q.nodes(),function(le){var he=Q.node(le);he.borderTop&&(he.minRank=Q.node(he.borderTop).rank,he.maxRank=Q.node(he.borderBottom).rank,ie=t.max(ie,he.maxRank))}),Q.graph().maxRank=ie}function B(Q){t.forEach(Q.nodes(),function(ie){var le=Q.node(ie);le.dummy==="edge-proxy"&&(Q.edge(le.e).labelRank=le.rank,Q.removeNode(ie))})}function K(Q){var ie=Number.POSITIVE_INFINITY,le=0,he=Number.POSITIVE_INFINITY,_e=0,Ce=Q.graph(),Le=Ce.marginx||0,He=Ce.marginy||0;function Ue(Pe){var Ge=Pe.x,Be=Pe.y,it=Pe.width,$e=Pe.height;ie=Math.min(ie,Ge-it/2),le=Math.max(le,Ge+it/2),he=Math.min(he,Be-$e/2),_e=Math.max(_e,Be+$e/2)}t.forEach(Q.nodes(),function(Pe){Ue(Q.node(Pe))}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.has(Ge,"x")&&Ue(Ge)}),ie-=Le,he-=He,t.forEach(Q.nodes(),function(Pe){var Ge=Q.node(Pe);Ge.x-=ie,Ge.y-=he}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.forEach(Ge.points,function(Be){Be.x-=ie,Be.y-=he}),t.has(Ge,"x")&&(Ge.x-=ie),t.has(Ge,"y")&&(Ge.y-=he)}),Ce.width=le-ie+Le,Ce.height=_e-he+He}function ne(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie),he=Q.node(ie.v),_e=Q.node(ie.w),Ce,Le;le.points?(Ce=le.points[0],Le=le.points[le.points.length-1]):(le.points=[],Ce=_e,Le=he),le.points.unshift(v.intersectRect(he,Ce)),le.points.push(v.intersectRect(_e,Le))})}function $(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie);if(t.has(le,"x"))switch((le.labelpos==="l"||le.labelpos==="r")&&(le.width-=le.labeloffset),le.labelpos){case"l":le.x-=le.width/2+le.labeloffset;break;case"r":le.x+=le.width/2+le.labeloffset;break}})}function ee(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie);le.reversed&&le.points.reverse()})}function re(Q){t.forEach(Q.nodes(),function(ie){if(Q.children(ie).length){var le=Q.node(ie),he=Q.node(le.borderTop),_e=Q.node(le.borderBottom),Ce=Q.node(t.last(le.borderLeft)),Le=Q.node(t.last(le.borderRight));le.width=Math.abs(Le.x-Ce.x),le.height=Math.abs(_e.y-he.y),le.x=Ce.x+le.width/2,le.y=he.y+le.height/2}}),t.forEach(Q.nodes(),function(ie){Q.node(ie).dummy==="border"&&Q.removeNode(ie)})}function ce(Q){t.forEach(Q.edges(),function(ie){if(ie.v===ie.w){var le=Q.node(ie.v);le.selfEdges||(le.selfEdges=[]),le.selfEdges.push({e:ie,label:Q.edge(ie)}),Q.removeEdge(ie)}})}function de(Q){var ie=v.buildLayerMatrix(Q);t.forEach(ie,function(le){var he=0;t.forEach(le,function(_e,Ce){var Le=Q.node(_e);Le.order=Ce+he,t.forEach(Le.selfEdges,function(He){v.addDummyNode(Q,"selfedge",{width:He.label.width,height:He.label.height,rank:Le.rank,order:Ce+ ++he,e:He.e,label:He.label},"_se")}),delete Le.selfEdges})})}function Y(Q){t.forEach(Q.nodes(),function(ie){var le=Q.node(ie);if(le.dummy==="selfedge"){var he=Q.node(le.e.v),_e=he.x+he.width/2,Ce=he.y,Le=le.x-_e,He=he.height/2;Q.setEdge(le.e,le.label),Q.removeNode(ie),le.label.points=[{x:_e+2*Le/3,y:Ce-He},{x:_e+5*Le/6,y:Ce-He},{x:_e+Le,y:Ce},{x:_e+5*Le/6,y:Ce+He},{x:_e+2*Le/3,y:Ce+He}],le.label.x=le.x,le.label.y=le.y}})}function W(Q,ie){return t.mapValues(t.pick(Q,ie),Number)}function me(Q){var ie={};return t.forEach(Q,function(le,he){ie[he.toLowerCase()]=le}),ie}return P5}var B5,KI;function Yie(){if(KI)return B5;KI=1;var t=an(),e=kr(),n=$i().Graph;B5={debugOrdering:r};function r(i){var s=e.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(c){l.setNode(c,{label:c}),l.setParent(c,"layer"+i.node(c).rank)}),t.forEach(i.edges(),function(c){l.setEdge(c.v,c.w,{},c.name)}),t.forEach(s,function(c,h){var f="layer"+h;l.setNode(f,{rank:"same"}),t.reduce(c,function(m,p){return l.setEdge(m,p,{style:"invis"}),p})}),l}return B5}var j5,QI;function Xie(){return QI||(QI=1,j5="0.8.5"),j5}var U5,ZI;function Kie(){return ZI||(ZI=1,U5={graphlib:$i(),layout:$ie(),debug:Yie(),util:{time:kr().time,notime:kr().notime},version:Xie()}),U5}var Qie=Kie();const WI=Om(Qie),Zie=(t,e)=>({id:`e-${t}-${e}`,source:t,target:e,type:"smoothstep",markerEnd:{type:Z0.ArrowClosed},style:{stroke:n7.parentLine}}),Wie=(t,e)=>({id:`dup-${t}-${e}`,source:t,target:e,type:"straight",animated:!0,style:{stroke:n7.duplicateLine,strokeDasharray:5},label:"Duplicate"}),H5=300,F5=120,Jie=(t,e)=>{const n=new WI.graphlib.Graph;n.setGraph({rankdir:"TB",nodesep:50,ranksep:80}),n.setDefaultEdgeLabel(()=>({}));const r=[],i=[];return t.forEach(l=>{const c=l.displayLatex;let h="";if(l.axiomId){const p=e.find(v=>v.id===l.axiomId);p&&(h=`\\\\ \\text{\\small{Axiom: ${p.canonicalName}}} \\\\ {\\tiny ${p.defaultLatex}}`)}const f=`\\begin{matrix} \\text{\\textbf{${c}}} ${h} \\end{matrix}`;n.setNode(l.id,{width:H5,height:F5});const m={...l,displayLatex:f,stats:l.stats||{greenVotes:0,blackVotes:0}};r.push({id:l.id,type:"mathNode",data:m,position:{x:0,y:0},targetPosition:Ye.Top,sourcePosition:Ye.Bottom}),l.parentId&&(i.push(Zie(l.parentId,l.id)),n.setEdge(l.parentId,l.id)),l.duplicateOfId&&i.push(Wie(l.id,l.duplicateOfId))}),WI.layout(n),{nodes:r.map(l=>{const c=n.node(l.id);return{...l,position:{x:c.x-H5/2,y:c.y-F5/2},style:{width:H5,height:F5}}}),edges:i}},eae=({isOpen:t,onClose:e,onSelect:n,availableAxioms:r})=>{const[i,s]=oe.useState(""),l=oe.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.canonicalName.toLowerCase().includes(c)||h.defaultLatex.toLowerCase().includes(c))},[r,i]);return t?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Oe.drawerOverlay,onClick:e}),k.jsxs("div",{className:Oe.drawer,children:[k.jsxs("div",{className:Oe.drawerHeader,children:[k.jsx("h3",{children:"Axiom Library"}),k.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),k.jsx("div",{className:Oe.drawerSearch,children:k.jsx("input",{className:Oe.input,placeholder:"Search axioms (e.g. 'Commutativity' or '\\forall')...",value:i,onChange:c=>s(c.target.value),autoFocus:!0})}),k.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>k.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to select this axiom",children:[k.jsxs("div",{className:Oe.libraryItemHeader,children:[k.jsx("strong",{children:c.canonicalName}),k.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),k.jsx("div",{className:Oe.preview,children:k.jsx(tr,{latex:c.defaultLatex})})]},c.id)):k.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No axioms found matching "',i,'"']})})]})]}):null},tae=({parentName:t,rootEnvironment:e,availableAxioms:n,onClose:r,onSubmit:i})=>{const[s,l]=oe.useState(""),[c,h]=oe.useState(""),[f,m]=oe.useState(`\\forall a, b \\in ${e.sets[0]}...`),[p,v]=oe.useState(!1),[b,x]=oe.useState(null),[S,E]=oe.useState(!1),C=oe.useMemo(()=>{if(!c||b)return[];const q=c.toLowerCase();return n.filter(R=>R.canonicalName.toLowerCase().includes(q)).slice(0,5)},[c,n,b]),O=q=>{h(q.canonicalName),m(q.defaultLatex),x(q.id),E(!1),v(!1)},A=q=>{h(q),E(!0),b&&x(null)},z=()=>{!s||!c||(i({structureName:s,axiomName:c,axiomLatex:f,existingAxiomId:b||void 0}),r())},U=`\\text{Sets: } \\{ ${e.sets.join(", ")} \\} \\quad \\text{Operators: } \\{ ${e.operators.join(", ")} \\}`;return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Oe.overlay,children:k.jsxs("div",{className:Oe.container,children:[k.jsxs("div",{className:Oe.header,children:[k.jsxs("h2",{children:["Extend: ",t]}),k.jsx("button",{className:Oe.closeButton,onClick:r,children:""})]}),k.jsxs("div",{className:Oe.body,children:[k.jsxs("p",{className:Oe.description,children:["Add an axiom to ",k.jsx("strong",{children:t})," to create a new Structure."]}),k.jsxs("div",{className:Oe.contextBox,children:[k.jsx("div",{className:Oe.contextLabel,children:"Defined Context (Immutable)"}),k.jsx(tr,{latex:U})]}),k.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[k.jsx("label",{className:Oe.label,children:"1. Select or Name New Axiom"}),k.jsxs("div",{className:Oe.inputGroupRow,children:[k.jsx("input",{className:Oe.input,placeholder:"Type to search (e.g. 'Commutativity')...",value:c,onChange:q=>A(q.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),autoComplete:"off"}),k.jsx("button",{className:Oe.browseBtn,onClick:()=>v(!0),title:"Browse Axiom Library",children:""})]}),S&&C.length>0&&k.jsx("div",{className:Oe.suggestionsDropdown,children:C.map(q=>k.jsxs("div",{className:Oe.suggestionItem,onClick:()=>O(q),children:[k.jsx("strong",{children:q.canonicalName}),k.jsxs("span",{className:Oe.suggestionDetail,children:["- ",k.jsx(tr,{latex:q.defaultLatex})]})]},q.id))})]}),k.jsxs("div",{className:Oe.group,children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("label",{className:Oe.label,children:"Axiom Formula (LaTeX)"}),b&&k.jsx("span",{style:{fontSize:"0.75rem",color:"#2e7d32",fontWeight:"bold"},children:" Linked to Library"})]}),k.jsx("input",{className:b?Oe.inputLocked:Oe.input,value:f,onChange:q=>!b&&m(q.target.value),readOnly:!!b,title:b?"This formula is locked because it is linked to a library axiom.":""}),k.jsx("div",{className:Oe.preview,children:k.jsx(tr,{latex:f||"Preview..."})})]}),k.jsx("hr",{className:Oe.separator}),k.jsxs("div",{className:Oe.group,children:[k.jsx("label",{className:Oe.label,children:"2. Resulting Structure Name"}),k.jsx("input",{className:Oe.input,placeholder:"e.g. Abelian Group",value:s,onChange:q=>l(q.target.value)})]})]}),k.jsxs("div",{className:Oe.footer,children:[k.jsx("button",{className:Oe.cancelBtn,onClick:r,children:"Cancel"}),k.jsx("button",{className:Oe.submitBtn,onClick:z,children:"Create Structure"})]})]})}),k.jsx(eae,{isOpen:p,onClose:()=>v(!1),onSelect:O,availableAxioms:n})]})},nae="_overlay_srt9h_3",rae="_modal_srt9h_23",iae="_header_srt9h_42",aae="_title_srt9h_51",sae="_closeBtn_srt9h_58",oae="_toolbar_srt9h_70",lae="_tabs_srt9h_79",uae="_tab_srt9h_79",cae="_activeTab_srt9h_101",hae="_searchInput_srt9h_106",fae="_listContainer_srt9h_121",dae="_list_srt9h_121",mae="_item_srt9h_133",pae="_itemInfo_srt9h_147",gae="_itemName_srt9h_152",vae="_itemLatex_srt9h_162",yae="_deleteBtn_srt9h_178",_ae="_disabled_srt9h_197",bae="_empty_srt9h_208",Bt={overlay:nae,modal:rae,header:iae,title:aae,closeBtn:sae,toolbar:oae,tabs:lae,tab:uae,activeTab:cae,searchInput:hae,listContainer:fae,list:dae,item:mae,itemInfo:pae,itemName:gae,itemLatex:vae,deleteBtn:yae,disabled:_ae,empty:bae},wae=({axioms:t,theorems:e,onClose:n,onDeleteAxiom:r,onDeleteTheorem:i})=>{const[s,l]=oe.useState("axioms"),[c,h]=oe.useState(""),[f,m]=oe.useState(null),p=t.filter(S=>S.canonicalName.toLowerCase().includes(c.toLowerCase())||S.defaultLatex.includes(c)),v=e.filter(S=>S.name.toLowerCase().includes(c.toLowerCase())||S.statementLatex.includes(c)),b=async S=>{m(S.id);try{const E=Gu(en,"nodes"),C=j_(E,kD("axiomId","==",S.id)),A=(await aQ(C)).data().count;if(A>0){alert(` CANVAS INTEGRITY PROTECTION 

Cannot delete axiom "${S.canonicalName}".
It is currently the foundation for ${A} structure(s) across the system.

You must delete those structures first.`);return}confirm(`Are you sure you want to delete the axiom "${S.canonicalName}"?
This cannot be undone.`)&&r(S.id)}catch(E){console.error("Integrity check failed:",E),alert("Failed to verify axiom usage. Please check your connection.")}finally{m(null)}},x=S=>{confirm(`Are you sure you want to delete the theorem "${S.name}"?`)&&i(S.id)};return k.jsx("div",{className:Bt.overlay,children:k.jsxs("div",{className:Bt.modal,children:[k.jsxs("div",{className:Bt.header,children:[k.jsx("h2",{className:Bt.title,children:"System Library"}),k.jsx("button",{onClick:n,className:Bt.closeBtn,children:""})]}),k.jsxs("div",{className:Bt.toolbar,children:[k.jsxs("div",{className:Bt.tabs,children:[k.jsxs("button",{className:`${Bt.tab} ${s==="axioms"?Bt.activeTab:""}`,onClick:()=>l("axioms"),children:["Axioms (",t.length,")"]}),k.jsxs("button",{className:`${Bt.tab} ${s==="theorems"?Bt.activeTab:""}`,onClick:()=>l("theorems"),children:["Theorems (",e.length,")"]})]}),k.jsx("input",{type:"text",placeholder:"Search library...",value:c,onChange:S=>h(S.target.value),className:Bt.searchInput})]}),k.jsxs("div",{className:Bt.listContainer,children:[s==="axioms"&&k.jsxs("ul",{className:Bt.list,children:[p.map(S=>{const E=f===S.id;return k.jsxs("li",{className:Bt.item,children:[k.jsxs("div",{className:Bt.itemInfo,children:[k.jsx("div",{className:Bt.itemName,children:S.canonicalName}),k.jsx("div",{className:Bt.itemLatex,children:k.jsx(tr,{latex:S.defaultLatex})})]}),k.jsx("button",{onClick:()=>b(S),className:`${Bt.deleteBtn} ${E?Bt.disabled:""}`,disabled:E,title:"Delete Axiom",children:E?"":""})]},S.id)}),p.length===0&&k.jsx("div",{className:Bt.empty,children:"No axioms found."})]}),s==="theorems"&&k.jsxs("ul",{className:Bt.list,children:[v.map(S=>k.jsxs("li",{className:Bt.item,children:[k.jsxs("div",{className:Bt.itemInfo,children:[k.jsx("div",{className:Bt.itemName,children:S.name}),k.jsx("div",{className:Bt.itemLatex,children:k.jsx(tr,{latex:S.statementLatex})})]}),k.jsx("button",{onClick:()=>x(S),className:Bt.deleteBtn,title:"Delete Theorem",children:""})]},S.id)),v.length===0&&k.jsx("div",{className:Bt.empty,children:"No theorems found."})]})]})]})})},xae="_explorerRoot_rof8f_3",Sae="_extendBtnContainer_rof8f_11",Eae="_extendBtn_rof8f_11",Tae="_plusIcon_rof8f_46",Aae="_backBtnContainer_rof8f_53",Cae="_backBtn_rof8f_53",dl={explorerRoot:xae,extendBtnContainer:Sae,extendBtn:Eae,plusIcon:Tae,backBtnContainer:Aae,backBtn:Cae},Rae=({universeId:t,onExit:e})=>{const{user:n,profile:r}=Vl(),i=r?.role==="admin",[s,l]=oe.useState([]),[c,h]=oe.useState([]),[f,m]=oe.useState([]),[p,v]=oe.useState(null);oe.useEffect(()=>{const de=Jn(en,"environments",t),Y=ju(de,le=>{le.exists()&&v(le.data())}),W=j_(Gu(en,"nodes"),kD("rootContextId","==",t)),me=ju(W,le=>{const he=le.docs.map(_e=>_e.data());l(he)}),Q=ju(Gu(en,"axioms"),le=>{const he=le.docs.map(_e=>_e.data());h(he)}),ie=ju(Gu(en,"theorems"),le=>{const he=le.docs.map(_e=>_e.data());m(he)});return()=>{Y(),me(),Q(),ie()}},[t]);const{nodes:b,edges:x}=oe.useMemo(()=>Jie(s,c),[s,c]),[S,E,C]=IF(b),[O,A,z]=NF(x);oe.useEffect(()=>{E(b),A(x)},[b,x,E,A]);const[U,q]=oe.useState(null),[R,M]=oe.useState(!1),[D,H]=oe.useState(!1),V=oe.useMemo(()=>({mathNode:Eee}),[]),j=oe.useMemo(()=>s.find(de=>de.id===U),[U,s]),B=oe.useCallback((de,Y)=>{q(Y.id)},[]),K=oe.useCallback(()=>{q(null)},[]),ne=async de=>{if(!U||!j||j.status==="deprecated"||j.status==="deadend")return;const Y=Date.now();if(!n){alert("Sign in required.");return}const W=n.uid;let me=de.existingAxiomId;if(!me){me=`ax-${Y}`;const le={id:me,canonicalName:de.axiomName,aliases:[],defaultLatex:de.axiomLatex,authorId:W,createdAt:Y};try{await Sl(Jn(en,"axioms",le.id),le)}catch(he){console.error(he);return}}const ie={id:`struct-${Y}`,type:"algebraic structure",parentId:U,axiomId:me,authorId:W,displayLatex:de.structureName,status:"unverified",rootContextId:t,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:Y};try{await Sl(Jn(en,"nodes",ie.id),ie),M(!1)}catch(le){console.error(le)}},$=async de=>{if(s.some(W=>W.parentId===de)){alert("CRITICAL ERROR: Cannot delete this node because it has children.");return}if(confirm(` ADMIN WARNING 

Permanently delete this node?`))try{await Ud(Jn(en,"nodes",de)),q(null)}catch(W){console.error(W)}},ee=async de=>{if(confirm(` ADMIN WARNING 

Permanently delete this theorem?`))try{await Ud(Jn(en,"theorems",de))}catch(Y){console.error(Y)}},re=async de=>{try{await Ud(Jn(en,"axioms",de))}catch(Y){console.error(Y)}},ce=async de=>{if(!U||!n)return;const Y=Date.now(),W={id:`th-${Y}`,structureNodeId:U,name:de.name,aliases:[],statementLatex:de.statementLatex,proofLatex:de.proofLatex,authorId:n.uid,createdAt:Y,status:"unverified",stats:{greenVotes:0,blackVotes:0}};try{await Sl(Jn(en,"theorems",W.id),W)}catch(me){console.error(me)}};return k.jsxs("div",{className:dl.explorerRoot,children:[k.jsxs("div",{className:dl.backBtnContainer,children:[k.jsx("button",{onClick:e,className:dl.backBtn,children:" Exit to Lobby"}),i&&k.jsx("button",{onClick:()=>H(!0),className:dl.backBtn,style:{marginLeft:"10px"},children:" Library"})]}),U&&j?.status!=="deprecated"&&j?.status!=="deadend"&&k.jsx("div",{className:dl.extendBtnContainer,children:k.jsxs("button",{onClick:()=>M(!0),className:dl.extendBtn,children:[k.jsx("span",{className:dl.plusIcon,children:"+"})," Extend Structure"]})}),k.jsx(bee,{nodes:S,edges:O,onNodesChange:C,onEdgesChange:z,onNodeClick:B,onPaneClick:K,nodeTypes:V,title:`\\text{${p?.name||"Universe"}}`}),j&&k.jsx(Dte,{node:j,allNodes:s,allAxioms:c,allTheorems:f,onClose:()=>q(null),onAddTheorem:ce,onDelete:$,onDeleteTheorem:ee}),R&&j&&p&&k.jsx(tae,{parentId:j.id,parentName:j.displayLatex,rootEnvironment:p,availableAxioms:c,onClose:()=>M(!1),onSubmit:ne}),D&&k.jsx(wae,{axioms:c,theorems:f,onClose:()=>H(!1),onDeleteAxiom:re,onDeleteTheorem:ee})]})},Iae="_overlay_1waj4_3",Nae="_modal_1waj4_23",Mae="_header_1waj4_42",kae="_title_1waj4_52",Dae="_closeBtn_1waj4_59",Oae="_form_1waj4_76",zae="_errorBanner_1waj4_81",Lae="_sectionLabel_1waj4_91",Vae="_formGroup_1waj4_101",qae="_row_1waj4_105",Pae="_label_1waj4_114",Bae="_input_1waj4_122",jae="_textarea_1waj4_122",Uae="_divider_1waj4_151",Hae="_previewBox_1waj4_159",Fae="_previewLabel_1waj4_170",Gae="_previewContent_1waj4_177",$ae="_footer_1waj4_183",Yae="_cancelBtn_1waj4_192",Xae="_createBtn_1waj4_208",wt={overlay:Iae,modal:Nae,header:Mae,title:kae,closeBtn:Dae,form:Oae,errorBanner:zae,sectionLabel:Lae,formGroup:Vae,row:qae,label:Pae,input:Bae,textarea:jae,divider:Uae,previewBox:Hae,previewLabel:Fae,previewContent:Gae,footer:$ae,cancelBtn:Yae,createBtn:Xae},Kae=({onClose:t,onSubmit:e})=>{const[n,r]=oe.useState(""),[i,s]=oe.useState(""),[l,c]=oe.useState(""),[h,f]=oe.useState(""),[m,p]=oe.useState(""),[v,b]=oe.useState(""),[x,S]=oe.useState(null),E=C=>{if(C.preventDefault(),S(null),!n.trim())return S("Universe Name is required.");if(!i.trim())return S("At least one Set is required.");if(!h.trim())return S("Root Node Name is required.");if(!m.trim())return S("Initial Axiom Name is required.");if(!v.trim())return S("Initial Axiom LaTeX is required.");const O=i.split(",").map(z=>z.trim()).filter(z=>z.length>0),A=l.split(",").map(z=>z.trim()).filter(z=>z.length>0);if(O.length===0)return S("Please enter valid set notation.");e({envName:n.trim(),sets:O,operators:A,rootNodeName:h.trim(),rootAxiomName:m.trim(),rootAxiomLatex:v.trim()})};return k.jsx("div",{className:wt.overlay,children:k.jsxs("div",{className:wt.modal,children:[k.jsxs("div",{className:wt.header,children:[k.jsx("h2",{className:wt.title,children:"Create New Universe"}),k.jsx("button",{onClick:t,className:wt.closeBtn,children:""})]}),k.jsxs("form",{onSubmit:E,className:wt.form,children:[x&&k.jsx("div",{className:wt.errorBanner,children:x}),k.jsx("div",{className:wt.sectionLabel,children:"1. Environment Context"}),k.jsxs("div",{className:wt.formGroup,children:[k.jsx("label",{className:wt.label,children:"Universe Name"}),k.jsx("input",{type:"text",value:n,onChange:C=>r(C.target.value),placeholder:"e.g. Group Theory",className:wt.input,autoFocus:!0})]}),k.jsxs("div",{className:wt.row,children:[k.jsxs("div",{className:wt.formGroup,children:[k.jsx("label",{className:wt.label,children:"Sets (comma sep.)"}),k.jsx("input",{type:"text",value:i,onChange:C=>s(C.target.value),placeholder:"e.g. G",className:wt.input})]}),k.jsxs("div",{className:wt.formGroup,children:[k.jsx("label",{className:wt.label,children:"Operators"}),k.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"e.g. *",className:wt.input})]})]}),k.jsx("hr",{className:wt.divider}),k.jsx("div",{className:wt.sectionLabel,children:"2. Genesis Node (Root)"}),k.jsxs("div",{className:wt.formGroup,children:[k.jsx("label",{className:wt.label,children:"Root Structure Name"}),k.jsx("input",{type:"text",value:h,onChange:C=>f(C.target.value),placeholder:"e.g. Magma",className:wt.input})]}),k.jsxs("div",{className:wt.formGroup,children:[k.jsx("label",{className:wt.label,children:"Initial Axiom Name"}),k.jsx("input",{type:"text",value:m,onChange:C=>p(C.target.value),placeholder:"e.g. Closure",className:wt.input})]}),k.jsxs("div",{className:wt.formGroup,children:[k.jsx("label",{className:wt.label,children:"Initial Axiom Definition (LaTeX)"}),k.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"\\forall a, b \\in G, a * b \\in G",className:wt.textarea,rows:3}),v&&k.jsxs("div",{className:wt.previewBox,children:[k.jsx("span",{className:wt.previewLabel,children:"Preview:"}),k.jsx("div",{className:wt.previewContent,children:k.jsx(tr,{latex:v})})]})]}),k.jsxs("div",{className:wt.footer,children:[k.jsx("button",{type:"button",onClick:t,className:wt.cancelBtn,children:"Cancel"}),k.jsx("button",{type:"submit",className:wt.createBtn,children:"Initialize Universe"})]})]})]})})},Qae="_overlay_1mq3z_3",Zae="_modal_1mq3z_23",Wae="_header_1mq3z_42",Jae="_title_1mq3z_51",ese="_closeBtn_1mq3z_58",tse="_tabs_1mq3z_70",nse="_tab_1mq3z_70",rse="_activeTab_1mq3z_93",ise="_content_1mq3z_99",ase="_profileContainer_1mq3z_106",sse="_avatarLarge_1mq3z_114",ose="_initials_1mq3z_134",lse="_userName_1mq3z_140",use="_badgeContainer_1mq3z_146",cse="_roleBadge_1mq3z_150",hse="_admin_1mq3z_158",fse="_citizen_1mq3z_163",dse="_statsRow_1mq3z_168",mse="_statBox_1mq3z_176",pse="_statValue_1mq3z_186",gse="_statLabel_1mq3z_192",vse="_footer_1mq3z_199",yse="_logoutBtn_1mq3z_204",_se="_leaderboardContainer_1mq3z_222",bse="_leaderboardList_1mq3z_226",wse="_leaderboardItem_1mq3z_232",xse="_rank_1mq3z_240",Sse="_playerInfo_1mq3z_250",Ese="_playerName_1mq3z_256",Tse="_youTag_1mq3z_261",Ase="_playerScore_1mq3z_274",Cse="_loading_1mq3z_285",ht={overlay:Qae,modal:Zae,header:Wae,title:Jae,closeBtn:ese,tabs:tse,tab:nse,activeTab:rse,content:ise,profileContainer:ase,avatarLarge:sse,initials:ose,userName:lse,badgeContainer:use,roleBadge:cse,admin:hse,citizen:fse,statsRow:dse,statBox:mse,statValue:pse,statLabel:gse,footer:vse,logoutBtn:yse,leaderboardContainer:_se,leaderboardList:bse,leaderboardItem:wse,rank:xse,playerInfo:Sse,playerName:Ese,youTag:Tse,playerScore:Ase,loading:Cse},Rse=({onClose:t})=>{const{user:e,profile:n,logout:r}=Vl(),[i,s]=oe.useState("profile"),[l,c]=oe.useState([]),[h,f]=oe.useState(!1);return oe.useEffect(()=>{i==="leaderboard"&&(async()=>{f(!0);try{const p=j_(Gu(en,"users"),WK("reputation.contributor","desc"),JK(10)),b=(await iQ(p)).docs.map(x=>({uid:x.id,...x.data()}));c(b)}catch(p){console.error("Failed to fetch leaderboard:",p)}finally{f(!1)}})()},[i]),k.jsx("div",{className:ht.overlay,children:k.jsxs("div",{className:ht.modal,children:[k.jsxs("div",{className:ht.header,children:[k.jsx("h2",{className:ht.title,children:"Citizen Hub"}),k.jsx("button",{onClick:t,className:ht.closeBtn,children:""})]}),k.jsxs("div",{className:ht.tabs,children:[k.jsx("button",{className:`${ht.tab} ${i==="profile"?ht.activeTab:""}`,onClick:()=>s("profile"),children:"My Profile"}),k.jsx("button",{className:`${ht.tab} ${i==="leaderboard"?ht.activeTab:""}`,onClick:()=>s("leaderboard"),children:"Leaderboard"})]}),k.jsxs("div",{className:ht.content,children:[i==="profile"&&k.jsxs("div",{className:ht.profileContainer,children:[k.jsx("div",{className:ht.avatarLarge,children:e?.photoURL?k.jsx("img",{src:e.photoURL,alt:"Avatar"}):k.jsx("span",{className:ht.initials,children:n?.displayName?.charAt(0).toUpperCase()||"?"})}),k.jsx("h3",{className:ht.userName,children:n?.displayName||e?.email||"Anonymous"}),k.jsx("div",{className:ht.badgeContainer,children:k.jsx("span",{className:`${ht.roleBadge} ${n?.role==="admin"?ht.admin:ht.citizen}`,children:n?.role==="admin"?" Administrator":" Citizen"})}),k.jsxs("div",{className:ht.statsRow,children:[k.jsxs("div",{className:ht.statBox,children:[k.jsx("span",{className:ht.statValue,children:n?.reputation?.creation||0}),k.jsx("span",{className:ht.statLabel,children:" Creation Point"})]}),k.jsxs("div",{className:ht.statBox,children:[k.jsx("span",{className:ht.statValue,children:n?.reputation?.contributor||0}),k.jsx("span",{className:ht.statLabel,children:" Contribution Point"})]})]}),k.jsx("div",{className:ht.footer,children:k.jsx("button",{onClick:r,className:ht.logoutBtn,children:"Sign Out"})})]}),i==="leaderboard"&&k.jsx("div",{className:ht.leaderboardContainer,children:h?k.jsx("div",{className:ht.loading,children:"Loading rankings..."}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:ht.tableHeader,children:[k.jsx("span",{style:{width:"40px"},children:"#"}),k.jsx("span",{style:{flex:1},children:"Citizen"}),k.jsx("span",{style:{width:"50px",textAlign:"center"},children:""}),k.jsx("span",{style:{width:"50px",textAlign:"center"},children:""})]}),k.jsx("ul",{className:ht.leaderboardList,children:l.map((m,p)=>k.jsxs("li",{className:ht.leaderboardItem,children:[k.jsxs("span",{className:ht.rank,children:["#",p+1]}),k.jsx("div",{className:ht.playerInfo,children:k.jsxs("span",{className:ht.playerName,children:[m.displayName||"Anonymous",m.uid===e?.uid&&k.jsx("span",{className:ht.youTag,children:"(You)"})]})}),k.jsx("span",{className:ht.playerScoreSecondary,title:"Creation Score",children:m.reputation?.creation||0}),k.jsx("span",{className:ht.playerScore,title:"Contributor Score",children:m.reputation?.contributor||0})]},m.uid))})]})})]})]})})},Ise="_container_amw1b_3",Nse="_headerBar_amw1b_18",Mse="_logo_amw1b_33",kse="_authControls_amw1b_40",Dse="_signInBtn_amw1b_48",Ose="_profileBtn_amw1b_64",zse="_repBadge_amw1b_88",Lse="_repRow_amw1b_97",Vse="_repIcon_amw1b_104",qse="_repValue_amw1b_108",Pse="_avatarSmall_amw1b_114",Bse="_loading_amw1b_137",jse="_title_amw1b_144",Use="_subtitle_amw1b_153",Hse="_grid_amw1b_163",Fse="_card_amw1b_174",Gse="_cardHeader_amw1b_195",$se="_titleRow_amw1b_200",Yse="_cardTitle_amw1b_207",Xse="_adminControls_amw1b_215",Kse="_editContainer_amw1b_223",Qse="_editInput_amw1b_231",Zse="_editActions_amw1b_242",Wse="_saveBtn_amw1b_247",Jse="_cancelBtn_amw1b_247",eoe="_editIconBtn_amw1b_275",toe="_deleteBtn_amw1b_275",noe="_tagContainer_amw1b_301",roe="_tag_amw1b_301",ioe="_description_amw1b_318",aoe="_enterBtn_amw1b_325",soe="_createCard_amw1b_345",ooe="_createContent_amw1b_362",loe="_plusIcon_amw1b_368",ft={container:Ise,headerBar:Nse,logo:Mse,authControls:kse,signInBtn:Dse,profileBtn:Ose,repBadge:zse,repRow:Lse,repIcon:Vse,repValue:qse,avatarSmall:Pse,loading:Bse,title:jse,subtitle:Use,grid:Hse,card:Fse,cardHeader:Gse,titleRow:$se,cardTitle:Yse,adminControls:Xse,editContainer:Kse,editInput:Qse,editActions:Zse,saveBtn:Wse,cancelBtn:Jse,editIconBtn:eoe,deleteBtn:toe,tagContainer:noe,tag:roe,description:ioe,enterBtn:aoe,createCard:soe,createContent:ooe,plusIcon:loe},uoe=({onSelectUniverse:t})=>{const{user:e,profile:n,signInWithGoogle:r}=Vl(),i=n?.role==="admin",[s,l]=oe.useState([]),[c,h]=oe.useState(!1),[f,m]=oe.useState(!1),[p,v]=oe.useState(!0),[b,x]=oe.useState(null),[S,E]=oe.useState("");oe.useEffect(()=>{const q=ju(Gu(en,"environments"),R=>{const M=R.docs.map(D=>({id:D.id,...D.data()}));l(M),v(!1)});return()=>q()},[]);const C=(q,R)=>{q.stopPropagation(),x(R.id),E(R.name)},O=q=>{q?.stopPropagation(),x(null),E("")},A=async q=>{if(q.stopPropagation(),q.preventDefault(),!(!b||!S.trim()))try{await LD(Jn(en,"environments",b),{name:S.trim()}),x(null)}catch(R){console.error("Failed to update name:",R),alert("Failed to update name.")}},z=async q=>{const R=Date.now(),M=`env-${R}`,D=`ax-${R}`,H=`node-${R}`,V=n?.uid||"system",j={id:M,name:q.envName,sets:q.sets,operators:q.operators},B={id:D,canonicalName:q.rootAxiomName,aliases:[],defaultLatex:q.rootAxiomLatex,authorId:V,createdAt:R},K={id:H,type:"algebraic structure",parentId:null,axiomId:D,authorId:V,displayLatex:`\\text{${q.rootNodeName}}`,status:"verified",rootContextId:M,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:R};try{await Sl(Jn(en,"environments",M),j),await Sl(Jn(en,"axioms",D),B),await Sl(Jn(en,"nodes",H),K),h(!1)}catch(ne){console.error("Failed to create universe:",ne),alert("Error creating universe.")}},U=async(q,R)=>{if(q.stopPropagation(),!!confirm(` ADMIN WARNING 
Delete this Universe?`))try{await Ud(Jn(en,"environments",R))}catch(M){console.error("Delete failed:",M)}};return p?k.jsx("div",{className:ft.loading,children:"Loading..."}):k.jsxs("div",{className:ft.container,children:[k.jsxs("header",{className:ft.headerBar,children:[k.jsx("div",{className:ft.logo,children:"BuildMath"}),k.jsx("div",{className:ft.authControls,children:e?k.jsxs("button",{className:ft.profileBtn,onClick:()=>m(!0),title:"View Profile & Leaderboard",children:[k.jsxs("div",{className:ft.repBadge,children:[k.jsxs("div",{className:ft.repRow,children:[k.jsx("span",{className:ft.repIcon,children:""}),k.jsx("span",{className:ft.repValue,children:n?.reputation?.creation||0})]}),k.jsxs("div",{className:ft.repRow,children:[k.jsx("span",{className:ft.repIcon,children:""}),k.jsx("span",{className:ft.repValue,children:n?.reputation?.contributor||0})]})]}),k.jsx("div",{className:ft.avatarSmall,children:e?.photoURL?k.jsx("img",{src:e.photoURL,alt:"User"}):k.jsx("span",{children:n?.displayName?.charAt(0)||"U"})})]}):k.jsx("button",{onClick:r,className:ft.signInBtn,children:"Sign In with Google"})})]}),k.jsx("h1",{className:ft.title,children:"Algebraic Structures"}),k.jsx("p",{className:ft.subtitle,children:"Select an algebraic context to explore. Each algebraic structure defines its own sets and operators, anchoring the evolution of its structures."}),k.jsxs("div",{className:ft.grid,children:[i&&k.jsx("div",{className:`${ft.card} ${ft.createCard}`,onClick:()=>h(!0),children:k.jsxs("div",{className:ft.createContent,children:[k.jsx("div",{className:ft.plusIcon,children:"+"}),k.jsx("h3",{children:"Create Universe"})]})}),s.map(q=>k.jsxs("div",{className:ft.card,onClick:()=>t(q.id),children:[k.jsxs("div",{className:ft.cardHeader,children:[b===q.id?k.jsxs("div",{className:ft.editContainer,onClick:R=>R.stopPropagation(),children:[k.jsx("input",{type:"text",value:S,onChange:R=>E(R.target.value),className:ft.editInput,autoFocus:!0}),k.jsxs("div",{className:ft.editActions,children:[k.jsx("button",{onClick:A,className:ft.saveBtn,title:"Save",children:""}),k.jsx("button",{onClick:O,className:ft.cancelBtn,title:"Cancel",children:""})]})]}):k.jsxs("div",{className:ft.titleRow,children:[k.jsx("h2",{className:ft.cardTitle,children:q.name}),i&&k.jsxs("div",{className:ft.adminControls,children:[k.jsx("button",{className:ft.editIconBtn,onClick:R=>C(R,q),title:"Rename Universe",children:""}),k.jsx("button",{className:ft.deleteBtn,onClick:R=>U(R,q.id),title:"Delete Universe",children:""})]})]}),k.jsxs("div",{className:ft.tagContainer,children:[k.jsxs("span",{className:ft.tag,children:["Sets: ",k.jsx(tr,{latex:`\\{ ${q.sets.join(", ")} \\}`})]}),k.jsxs("span",{className:ft.tag,children:["Ops: ",k.jsx(tr,{latex:`\\{ ${q.operators.join(", ")} \\}`})]})]})]}),k.jsxs("div",{className:ft.description,children:["Contains ",k.jsxs("strong",{children:[q.sets.length," Sets"]})," and ",k.jsxs("strong",{children:[q.operators.length," Operators"]}),"."]}),k.jsx("button",{className:ft.enterBtn,children:"Enter "})]},q.id))]}),c&&k.jsx(Kae,{onClose:()=>h(!1),onSubmit:z}),f&&k.jsx(Rse,{onClose:()=>m(!1)})]})},coe="_loginBtn_1ia85_4",hoe="_container_1ia85_22",foe="_avatar_1ia85_33",doe="_userInfo_1ia85_40",moe="_userName_1ia85_46",poe="_adminBadge_1ia85_52",goe="_logoutBtn_1ia85_60",ml={loginBtn:coe,container:hoe,avatar:foe,userInfo:doe,userName:moe,adminBadge:poe,logoutBtn:goe},voe=()=>{const{user:t,profile:e,signInWithGoogle:n,logout:r}=Vl();return t?k.jsxs("div",{className:ml.container,children:[t.photoURL&&k.jsx("img",{src:t.photoURL,alt:`${t.displayName}'s avatar`,className:ml.avatar}),k.jsxs("div",{className:ml.userInfo,children:[k.jsx("span",{className:ml.userName,children:t.displayName}),e?.role==="admin"&&k.jsx("span",{className:ml.adminBadge,children:"Administrator"})]}),k.jsx("button",{onClick:r,className:ml.logoutBtn,"aria-label":"Sign out",children:"Sign Out"})]}):k.jsx("button",{onClick:n,className:ml.loginBtn,children:"Sign in with Google"})};function yoe(){const[t,e]=oe.useState(null);return k.jsxs(wee,{children:[k.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:1e3},children:k.jsx(voe,{})}),k.jsx("div",{className:"app-container",children:t?k.jsx(Rae,{universeId:t,onExit:()=>e(null)}):k.jsx(uoe,{onSelectUniverse:e})})]})}ZV.createRoot(document.getElementById("root")).render(k.jsx(JI.StrictMode,{children:k.jsx(yoe,{})}));
