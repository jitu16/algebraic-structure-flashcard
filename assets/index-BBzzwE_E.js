(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eg={exports:{}},f0={};var Y9;function Aq(){if(Y9)return f0;Y9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return f0.Fragment=e,f0.jsx=n,f0.jsxs=n,f0}var X9;function Cq(){return X9||(X9=1,Eg.exports=Aq()),Eg.exports}var G=Cq(),Sg={exports:{}},at={};var K9;function Rq(){if(K9)return at;K9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function C(Y,ee,pe){this.props=Y,this.context=ee,this.refs=x,this.updater=pe||E}C.prototype.isReactComponent={},C.prototype.setState=function(Y,ee){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ee,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function D(){}D.prototype=C.prototype;function A(Y,ee,pe){this.props=Y,this.context=ee,this.refs=x,this.updater=pe||E}var O=A.prototype=new D;O.constructor=A,T(O,C.prototype),O.isPureReactComponent=!0;var U=Array.isArray;function L(){}var I={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function k(Y,ee,pe){var Q=pe.ref;return{$$typeof:t,type:Y,key:ee,ref:Q!==void 0?Q:null,props:pe}}function H(Y,ee){return k(Y.type,ee,Y.props)}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function B(Y){var ee={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(pe){return ee[pe]})}var P=/\/+/g;function K(Y,ee){return typeof Y=="object"&&Y!==null&&Y.key!=null?B(""+Y.key):ee.toString(36)}function te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(ee){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ee)},function(ee){Y.status==="pending"&&(Y.status="rejected",Y.reason=ee)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function $(Y,ee,pe,Q,ie){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var ge=!1;if(Y===null)ge=!0;else switch(ue){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Y.$$typeof){case t:case e:ge=!0;break;case m:return ge=Y._init,$(ge(Y._payload),ee,pe,Q,ie)}}if(ge)return ie=ie(Y),ge=Q===""?"."+K(Y,0):Q,U(ie)?(pe="",ge!=null&&(pe=ge.replace(P,"$&/")+"/"),$(ie,ee,pe,"",function(Ve){return Ve})):ie!=null&&(V(ie)&&(ie=H(ie,pe+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(P,"$&/")+"/")+ge)),ee.push(ie)),1;ge=0;var be=Q===""?".":Q+":";if(U(Y))for(var Ce=0;Ce<Y.length;Ce++)Q=Y[Ce],ue=be+K(Q,Ce),ge+=$(Q,ee,pe,ue,ie);else if(Ce=b(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(Q=Y.next()).done;)Q=Q.value,ue=be+K(Q,Ce++),ge+=$(Q,ee,pe,ue,ie);else if(ue==="object"){if(typeof Y.then=="function")return $(te(Y),ee,pe,Q,ie);throw ee=String(Y),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(Y,ee,pe){if(Y==null)return Y;var Q=[],ie=0;return $(Y,Q,"","",function(ue){return ee.call(pe,ue,ie++)}),Q}function re(Y){if(Y._status===-1){var ee=Y._result;ee=ee(),ee.then(function(pe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=pe)},function(pe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=pe)}),Y._status===-1&&(Y._status=0,Y._result=ee)}if(Y._status===1)return Y._result.default;throw Y._result}var oe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ye={map:W,forEach:function(Y,ee,pe){W(Y,function(){ee.apply(this,arguments)},pe)},count:function(Y){var ee=0;return W(Y,function(){ee++}),ee},toArray:function(Y){return W(Y,function(ee){return ee})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return at.Activity=p,at.Children=ye,at.Component=C,at.Fragment=n,at.Profiler=i,at.PureComponent=A,at.StrictMode=r,at.Suspense=h,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,at.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},at.cache=function(Y){return function(){return Y.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(Y,ee,pe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Q=T({},Y.props),ie=Y.key;if(ee!=null)for(ue in ee.key!==void 0&&(ie=""+ee.key),ee)!M.call(ee,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ee.ref===void 0||(Q[ue]=ee[ue]);var ue=arguments.length-2;if(ue===1)Q.children=pe;else if(1<ue){for(var ge=Array(ue),be=0;be<ue;be++)ge[be]=arguments[be+2];Q.children=ge}return k(Y.type,ie,Q)},at.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},at.createElement=function(Y,ee,pe){var Q,ie={},ue=null;if(ee!=null)for(Q in ee.key!==void 0&&(ue=""+ee.key),ee)M.call(ee,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=ee[Q]);var ge=arguments.length-2;if(ge===1)ie.children=pe;else if(1<ge){for(var be=Array(ge),Ce=0;Ce<ge;Ce++)be[Ce]=arguments[Ce+2];ie.children=be}if(Y&&Y.defaultProps)for(Q in ge=Y.defaultProps,ge)ie[Q]===void 0&&(ie[Q]=ge[Q]);return k(Y,ue,ie)},at.createRef=function(){return{current:null}},at.forwardRef=function(Y){return{$$typeof:c,render:Y}},at.isValidElement=V,at.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},at.memo=function(Y,ee){return{$$typeof:f,type:Y,compare:ee===void 0?null:ee}},at.startTransition=function(Y){var ee=I.T,pe={};I.T=pe;try{var Q=Y(),ie=I.S;ie!==null&&ie(pe,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(L,oe)}catch(ue){oe(ue)}finally{ee!==null&&pe.types!==null&&(ee.types=pe.types),I.T=ee}},at.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},at.use=function(Y){return I.H.use(Y)},at.useActionState=function(Y,ee,pe){return I.H.useActionState(Y,ee,pe)},at.useCallback=function(Y,ee){return I.H.useCallback(Y,ee)},at.useContext=function(Y){return I.H.useContext(Y)},at.useDebugValue=function(){},at.useDeferredValue=function(Y,ee){return I.H.useDeferredValue(Y,ee)},at.useEffect=function(Y,ee){return I.H.useEffect(Y,ee)},at.useEffectEvent=function(Y){return I.H.useEffectEvent(Y)},at.useId=function(){return I.H.useId()},at.useImperativeHandle=function(Y,ee,pe){return I.H.useImperativeHandle(Y,ee,pe)},at.useInsertionEffect=function(Y,ee){return I.H.useInsertionEffect(Y,ee)},at.useLayoutEffect=function(Y,ee){return I.H.useLayoutEffect(Y,ee)},at.useMemo=function(Y,ee){return I.H.useMemo(Y,ee)},at.useOptimistic=function(Y,ee){return I.H.useOptimistic(Y,ee)},at.useReducer=function(Y,ee,pe){return I.H.useReducer(Y,ee,pe)},at.useRef=function(Y){return I.H.useRef(Y)},at.useState=function(Y){return I.H.useState(Y)},at.useSyncExternalStore=function(Y,ee,pe){return I.H.useSyncExternalStore(Y,ee,pe)},at.useTransition=function(){return I.H.useTransition()},at.version="19.2.3",at}var Q9;function ih(){return Q9||(Q9=1,Sg.exports=Rq()),Sg.exports}var ce=ih();const BI=Sm(ce);var xg={exports:{}},d0={},Tg={exports:{}},Ag={};var Z9;function Iq(){return Z9||(Z9=1,(function(t){function e($,W){var re=$.length;$.push(W);e:for(;0<re;){var oe=re-1>>>1,ye=$[oe];if(0<i(ye,W))$[oe]=W,$[re]=ye,re=oe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],re=$.pop();if(re!==W){$[0]=re;e:for(var oe=0,ye=$.length,Y=ye>>>1;oe<Y;){var ee=2*(oe+1)-1,pe=$[ee],Q=ee+1,ie=$[Q];if(0>i(pe,re))Q<ye&&0>i(ie,pe)?($[oe]=ie,$[Q]=re,oe=Q):($[oe]=pe,$[ee]=re,oe=ee);else if(Q<ye&&0>i(ie,re))$[oe]=ie,$[Q]=re,oe=Q;else break e}}return W}function i($,W){var re=$.sortIndex-W.sortIndex;return re!==0?re:$.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,p=null,y=3,b=!1,E=!1,T=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O($){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=$)r(f),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(f)}}function U($){if(T=!1,O($),!E)if(n(h)!==null)E=!0,L||(L=!0,B());else{var W=n(f);W!==null&&te(U,W.startTime-$)}}var L=!1,I=-1,M=5,k=-1;function H(){return x?!0:!(t.unstable_now()-k<M)}function V(){if(x=!1,L){var $=t.unstable_now();k=$;var W=!0;try{e:{E=!1,T&&(T=!1,D(I),I=-1),b=!0;var re=y;try{t:{for(O($),p=n(h);p!==null&&!(p.expirationTime>$&&H());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,y=p.priorityLevel;var ye=oe(p.expirationTime<=$);if($=t.unstable_now(),typeof ye=="function"){p.callback=ye,O($),W=!0;break t}p===n(h)&&r(h),O($)}else r(h);p=n(h)}if(p!==null)W=!0;else{var Y=n(f);Y!==null&&te(U,Y.startTime-$),W=!1}}break e}finally{p=null,y=re,b=!1}W=void 0}}finally{W?B():L=!1}}}var B;if(typeof A=="function")B=function(){A(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,K=P.port2;P.port1.onmessage=V,B=function(){K.postMessage(null)}}else B=function(){C(V,0)};function te($,W){I=C(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var re=y;y=W;try{return $()}finally{y=re}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=y;y=$;try{return W()}finally{y=re}},t.unstable_scheduleCallback=function($,W,re){var oe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?oe+re:oe):re=oe,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,$={id:m++,callback:W,priorityLevel:$,startTime:re,expirationTime:ye,sortIndex:-1},re>oe?($.sortIndex=re,e(f,$),n(h)===null&&$===n(f)&&(T?(D(I),I=-1):T=!0,te(U,re-oe))):($.sortIndex=ye,e(h,$),E||b||(E=!0,L||(L=!0,B()))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var W=y;return function(){var re=y;y=W;try{return $.apply(this,arguments)}finally{y=re}}}})(Ag)),Ag}var W9;function Nq(){return W9||(W9=1,Tg.exports=Iq()),Tg.exports}var Cg={exports:{}},Wn={};var J9;function Mq(){if(J9)return Wn;J9=1;var t=ih();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,m)},Wn.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},Wn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Wn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Wn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(h,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Wn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wn.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Wn.requestFormReset=function(h){r.d.r(h)},Wn.unstable_batchedUpdates=function(h,f){return h(f)},Wn.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},Wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wn.version="19.2.3",Wn}var ew;function UI(){if(ew)return Cg.exports;ew=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=Mq(),Cg.exports}var tw;function kq(){if(tw)return d0;tw=1;var t=Nq(),e=ih(),n=UI();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,d=s;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return h(v),a;if(_===d)return h(v),s;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=v,d=_;else{for(var N=!1,j=v.child;j;){if(j===u){N=!0,u=v,d=_;break}if(j===d){N=!0,d=v,u=_;break}j=j.sibling}if(!N){for(j=_.child;j;){if(j===u){N=!0,u=_,d=v;break}if(j===d){N=!0,d=_,u=v;break}j=j.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var P=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===P?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case A:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case O:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return s=a.displayName||null,s!==null?s:K(a.type)||"Memo";case M:s=a._payload,a=a._init;try{return K(a(s))}catch{}}return null}var te=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},oe=[],ye=-1;function Y(a){return{current:a}}function ee(a){0>ye||(a.current=oe[ye],oe[ye]=null,ye--)}function pe(a,s){ye++,oe[ye]=a.current,a.current=s}var Q=Y(null),ie=Y(null),ue=Y(null),ge=Y(null);function be(a,s){switch(pe(ue,s),pe(ie,a),pe(Q,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?g9(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=g9(s),a=v9(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(Q),pe(Q,a)}function Ce(){ee(Q),ee(ie),ee(ue)}function Ve(a){a.memoizedState!==null&&pe(ge,a);var s=Q.current,u=v9(s,a.type);s!==u&&(pe(ie,a),pe(Q,u))}function je(a){ie.current===a&&(ee(Q),ee(ie)),ge.current===a&&(ee(ge),l0._currentValue=re)}var He,Pe;function Ge(a){if(He===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);He=s&&s[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+a+Pe}var Be=!1;function it(a,s){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(we){var ve=we}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(we){ve=we}a.call(Te.prototype)}}else{try{throw Error()}catch(we){ve=we}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),N=_[0],j=_[1];if(N&&j){var ne=N.split(`
`),me=j.split(`
`);for(v=d=0;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;for(;v<me.length&&!me[v].includes("DetermineComponentFrameRoot");)v++;if(d===ne.length||v===me.length)for(d=ne.length-1,v=me.length-1;1<=d&&0<=v&&ne[d]!==me[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ne[d]!==me[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ne[d]!==me[v]){var Ee=`
`+ne[d].replace(" at new "," at ");return a.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",a.displayName)),Ee}while(1<=d&&0<=v);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function $e(a,s){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==s&&s!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return it(a.type,!1);case 11:return it(a.type.render,!1);case 1:return it(a.type,!0);case 31:return Ge("Activity");default:return""}}function Bt(a){try{var s="",u=null;do s+=$e(a,u),u=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var st=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,Vn=t.unstable_shouldYield,Ht=t.unstable_requestPaint,$t=t.unstable_now,Un=t.unstable_getCurrentPriorityLevel,cr=t.unstable_ImmediatePriority,hr=t.unstable_UserBlockingPriority,qn=t.unstable_NormalPriority,gs=t.unstable_LowPriority,bi=t.unstable_IdlePriority,vs=t.log,wa=t.unstable_setDisableYieldValue,rn=null,qt=null;function fr(a){if(typeof vs=="function"&&wa(a),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(rn,a)}catch{}}var Jt=Math.clz32?Math.clz32:Ol,Dl=Math.log,ys=Math.LN2;function Ol(a){return a>>>=0,a===0?32:31-(Dl(a)/ys|0)|0}var Xr=256,Ea=262144,an=4194304;function Kr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qr(a,s,u){var d=a.pendingLanes;if(d===0)return 0;var v=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var j=d&134217727;return j!==0?(d=j&~_,d!==0?v=Kr(d):(N&=j,N!==0?v=Kr(N):u||(u=j&~a,u!==0&&(v=Kr(u))))):(j=d&~_,j!==0?v=Kr(j):N!==0?v=Kr(N):u||(u=d&~a,u!==0&&(v=Kr(u)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:v}function Cr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function bc(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zl(){var a=an;return an<<=1,(an&62914560)===0&&(an=4194304),a}function Zr(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Sa(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function wc(a,s,u,d,v,_){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var j=a.entanglements,ne=a.expirationTimes,me=a.hiddenUpdates;for(u=N&~u;0<u;){var Ee=31-Jt(u),Te=1<<Ee;j[Ee]=0,ne[Ee]=-1;var ve=me[Ee];if(ve!==null)for(me[Ee]=null,Ee=0;Ee<ve.length;Ee++){var we=ve[Ee];we!==null&&(we.lane&=-536870913)}u&=~Te}d!==0&&xa(a,d,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~s))}function xa(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-Jt(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function Io(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var d=31-Jt(u),v=1<<d;v&s|a[d]&s&&(a[d]|=s),u&=~v}}function No(a,s){var u=s&-s;return u=(u&42)!==0?1:Ta(u),(u&(a.suspendedLanes|s))!==0?0:u}function Ta(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Vl(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:B9(a.type))}function Rr(a,s){var u=W.p;try{return W.p=a,s()}finally{W.p=u}}var Ir=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ir,_n="__reactProps$"+Ir,Nr="__reactContainer$"+Ir,Aa="__reactEvents$"+Ir,ql="__reactListeners$"+Ir,Ll="__reactHandles$"+Ir,Pl="__reactResources$"+Ir,Wr="__reactMarker$"+Ir;function _s(a){delete a[sn],delete a[_n],delete a[Aa],delete a[ql],delete a[Ll]}function Jr(a){var s=a[sn];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Nr]||u[sn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=x9(a);a!==null;){if(u=a[sn])return u;a=x9(a)}return s}a=u,u=a.parentNode}return null}function dr(a){if(a=a[sn]||a[Nr]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Qn(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function ei(a){var s=a[Pl];return s||(s=a[Pl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function on(a){a[Wr]=!0}var Mo=new Set,ko={};function ti(a,s){ni(a,s),ni(a+"Capture",s)}function ni(a,s){for(ko[a]=s,a=0;a<s.length;a++)Mo.add(s[a])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bs={},Oo={};function Bl(a){return st.call(Oo,a)?!0:st.call(bs,a)?!1:Do.test(a)?Oo[a]=!0:(bs[a]=!0,!1)}function ws(a,s,u){if(Bl(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function nr(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function ln(a,s,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+d)}}function bn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ji(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zo(a,s,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,_=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function St(a){if(!a._valueTracker){var s=ji(a)?"checked":"value";a._valueTracker=zo(a,s,""+a[s])}}function Ca(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return a&&(d=ji(a)?a.checked?"true":"false":a.value),a=d,a!==u?(s.setValue(a),!0):!1}function Mr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ra=/[\n"\\]/g;function Zn(a){return a.replace(Ra,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fi(a,s,u,d,v,_,N,j){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+bn(s)):a.value!==""+bn(s)&&(a.value=""+bn(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?Vo(a,N,bn(s)):u!=null?Vo(a,N,bn(u)):d!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+bn(j):a.removeAttribute("name")}function Ul(a,s,u,d,v,_,N,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){St(a);return}u=u!=null?""+bn(u):"",s=s!=null?""+bn(s):u,j||s===a.value||(a.value=s),a.defaultValue=s}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=j?a.checked:!!d,a.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),St(a)}function Vo(a,s,u){s==="number"&&Mr(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ei(a,s,u,d){if(a=a.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=s.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&d&&(a[u].defaultSelected=!0)}else{for(u=""+bn(u),s=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function Dh(a,s,u){if(s!=null&&(s=""+bn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+bn(u):""}function Es(a,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(r(92));if(te(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=bn(s),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),St(a)}function mr(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var Oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(a,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,u):typeof u!="number"||u===0||Oh.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Sc(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in s)d=s[v],s.hasOwnProperty(v)&&u[v]!==d&&Ec(a,v,d)}else for(var _ in s)s.hasOwnProperty(_)&&Ec(a,_,s[_])}function Hl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(a){return Ss.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Si(){}var xc=null;function ri(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xs=null,Gi=null;function qo(a){var s=dr(a);if(s&&(a=s.stateNode)){var u=a[_n]||null;e:switch(a=s.stateNode,s.type){case"input":if(Fi(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Zn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==a&&d.form===a.form){var v=d[_n]||null;if(!v)throw Error(r(90));Fi(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===a.form&&Ca(d)}break e;case"textarea":Dh(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ei(a,!!u.multiple,s,!1)}}}var Fl=!1;function Ts(a,s,u){if(Fl)return a(s,u);Fl=!0;try{var d=a(s);return d}finally{if(Fl=!1,(xs!==null||Gi!==null)&&(If(),xs&&(s=xs,a=Gi,Gi=xs=null,qo(s),a)))for(s=0;s<a.length;s++)qo(a[s])}}function xi(a,s){var u=a.stateNode;if(u===null)return null;var d=u[_n]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(ii)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{Lo=!1}var $i=null,Tc=null,Po=null;function Ac(){if(Po)return Po;var a,s=Tc,u=s.length,d,v="value"in $i?$i.value:$i.textContent,_=v.length;for(a=0;a<u&&s[a]===v[a];a++);var N=u-a;for(d=1;d<=N&&s[u-d]===v[_-d];d++);return Po=v.slice(a,1<d?1-d:void 0)}function Bo(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ia(){return!0}function Ti(){return!1}function Hn(a){function s(u,d,v,_,N){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(u=a[j],this[j]=u?u(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ia:Ti,this.isPropagationStopped=Ti,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),s}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Hn(Na),As=p({},Na,{view:0,detail:0}),Cc=Hn(As),Cs,Gl,Xi,$l=p({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xi&&(Xi&&a.type==="mousemove"?(Cs=a.screenX-Xi.screenX,Gl=a.screenY-Xi.screenY):Gl=Cs=0,Xi=a),Cs)},movementY:function(a){return"movementY"in a?a.movementY:Gl}}),Rc=Hn($l),Uo=p({},$l,{dataTransfer:0}),Vh=Hn(Uo),qh=p({},As,{relatedTarget:0}),Ho=Hn(qh),Ic=p({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),Lh=Hn(Ic),Yl=p({},Na,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ph=Hn(Yl),Bh=p({},Na,{data:0}),Ki=Hn(Bh),Uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=jh[a])?!!s[a]:!1}function Rs(){return Fh}var rr=p({},As,{key:function(a){if(a.key){var s=Uh[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Bo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Hh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(a){return a.type==="keypress"?Bo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Gh=Hn(rr),$h=p({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=Hn($h),g=p({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),S=Hn(g),z=p({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Hn(z),he=p({},$l,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_e=Hn(he),Me=p({},Na,{newState:0,oldState:0}),ot=Hn(Me),dn=[9,13,27,32],Ct=ii&&"CompositionEvent"in window,Yt=null;ii&&"documentMode"in document&&(Yt=document.documentMode);var ai=ii&&"TextEvent"in window&&!Yt,Qi=ii&&(!Ct||Yt&&8<Yt&&11>=Yt),Ai=" ",Ci=!1;function jo(a,s){switch(a){case"keyup":return dn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Kl=!1;function Qz(a,s){switch(a){case"compositionend":return Xl(s);case"keypress":return s.which!==32?null:(Ci=!0,Ai);case"textInput":return a=s.data,a===Ai&&Ci?null:a;default:return null}}function Zz(a,s){if(Kl)return a==="compositionend"||!Ct&&jo(a,s)?(a=Ac(),Po=Tc=$i=null,Kl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qi&&s.locale!=="ko"?null:s.data;default:return null}}var Wz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Wz[a.type]:s==="textarea"}function R_(a,s,u,d){xs?Gi?Gi.push(d):Gi=[d]:xs=d,s=Vf(s,"onChange"),0<s.length&&(u=new Yi("onChange","change",null,u,d),a.push({event:u,listeners:s}))}var Nc=null,Mc=null;function Jz(a){c9(a,0)}function Yh(a){var s=Qn(a);if(Ca(s))return a}function I_(a,s){if(a==="change")return s}var N_=!1;if(ii){var I1;if(ii){var N1="oninput"in document;if(!N1){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),N1=typeof M_.oninput=="function"}I1=N1}else I1=!1;N_=I1&&(!document.documentMode||9<document.documentMode)}function k_(){Nc&&(Nc.detachEvent("onpropertychange",D_),Mc=Nc=null)}function D_(a){if(a.propertyName==="value"&&Yh(Mc)){var s=[];R_(s,Mc,a,ri(a)),Ts(Jz,s)}}function eV(a,s,u){a==="focusin"?(k_(),Nc=s,Mc=u,Nc.attachEvent("onpropertychange",D_)):a==="focusout"&&k_()}function tV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Yh(Mc)}function nV(a,s){if(a==="click")return Yh(s)}function rV(a,s){if(a==="input"||a==="change")return Yh(s)}function iV(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var kr=typeof Object.is=="function"?Object.is:iV;function kc(a,s){if(kr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!st.call(s,v)||!kr(a[v],s[v]))return!1}return!0}function O_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function z_(a,s){var u=O_(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=s&&d>=s)return{node:u,offset:s-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=O_(u)}}function V_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?V_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function q_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Mr(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=Mr(a.document)}return s}function M1(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var aV=ii&&"documentMode"in document&&11>=document.documentMode,Ql=null,k1=null,Dc=null,D1=!1;function L_(a,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;D1||Ql==null||Ql!==Mr(d)||(d=Ql,"selectionStart"in d&&M1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Dc&&kc(Dc,d)||(Dc=d,d=Vf(k1,"onSelect"),0<d.length&&(s=new Yi("onSelect","select",null,s,u),a.push({event:s,listeners:d}),s.target=Ql)))}function Fo(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Zl={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},O1={},P_={};ii&&(P_=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Go(a){if(O1[a])return O1[a];if(!Zl[a])return a;var s=Zl[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in P_)return O1[a]=s[u];return a}var B_=Go("animationend"),U_=Go("animationiteration"),H_=Go("animationstart"),sV=Go("transitionrun"),oV=Go("transitionstart"),lV=Go("transitioncancel"),j_=Go("transitionend"),F_=new Map,z1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");z1.push("scrollEnd");function Ri(a,s){F_.set(a,s),ti(s,[a])}var Xh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},si=[],Wl=0,V1=0;function Kh(){for(var a=Wl,s=V1=Wl=0;s<a;){var u=si[s];si[s++]=null;var d=si[s];si[s++]=null;var v=si[s];si[s++]=null;var _=si[s];if(si[s++]=null,d!==null&&v!==null){var N=d.pending;N===null?v.next=v:(v.next=N.next,N.next=v),d.pending=v}_!==0&&G_(u,v,_)}}function Qh(a,s,u,d){si[Wl++]=a,si[Wl++]=s,si[Wl++]=u,si[Wl++]=d,V1|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function q1(a,s,u,d){return Qh(a,s,u,d),Zh(a)}function $o(a,s){return Qh(a,null,null,s),Zh(a)}function G_(a,s,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&s!==null&&(v=31-Jt(u),a=_.hiddenUpdates,d=a[v],d===null?a[v]=[s]:d.push(s),s.lane=u|536870912),_):null}function Zh(a){if(50<t0)throw t0=0,$p=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Jl={};function uV(a,s,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(a,s,u,d){return new uV(a,s,u,d)}function L1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ka(a,s){var u=a.alternate;return u===null?(u=Dr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function $_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Wh(a,s,u,d,v,_){var N=0;if(d=a,typeof a=="function")L1(a)&&(N=1);else if(typeof a=="string")N=mq(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Dr(31,u,s,v),a.elementType=k,a.lanes=_,a;case T:return Yo(u.children,v,_,s);case x:N=8,v|=24;break;case C:return a=Dr(12,u,s,v|2),a.elementType=C,a.lanes=_,a;case U:return a=Dr(13,u,s,v),a.elementType=U,a.lanes=_,a;case L:return a=Dr(19,u,s,v),a.elementType=L,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:N=10;break e;case D:N=9;break e;case O:N=11;break e;case I:N=14;break e;case M:N=16,d=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=Dr(N,u,s,v),s.elementType=a,s.type=d,s.lanes=_,s}function Yo(a,s,u,d){return a=Dr(7,a,d,s),a.lanes=u,a}function P1(a,s,u){return a=Dr(6,a,null,s),a.lanes=u,a}function Y_(a){var s=Dr(18,null,null,0);return s.stateNode=a,s}function B1(a,s,u){return s=Dr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var X_=new WeakMap;function oi(a,s){if(typeof a=="object"&&a!==null){var u=X_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Bt(s)},X_.set(a,s),s)}return{value:a,source:s,stack:Bt(s)}}var eu=[],tu=0,Jh=null,Oc=0,li=[],ui=0,Is=null,Zi=1,Wi="";function Da(a,s){eu[tu++]=Oc,eu[tu++]=Jh,Jh=a,Oc=s}function K_(a,s,u){li[ui++]=Zi,li[ui++]=Wi,li[ui++]=Is,Is=a;var d=Zi;a=Wi;var v=32-Jt(d)-1;d&=~(1<<v),u+=1;var _=32-Jt(s)+v;if(30<_){var N=v-v%5;_=(d&(1<<N)-1).toString(32),d>>=N,v-=N,Zi=1<<32-Jt(s)+v|u<<v|d,Wi=_+a}else Zi=1<<_|u<<v|d,Wi=a}function U1(a){a.return!==null&&(Da(a,1),K_(a,1,0))}function H1(a){for(;a===Jh;)Jh=eu[--tu],eu[tu]=null,Oc=eu[--tu],eu[tu]=null;for(;a===Is;)Is=li[--ui],li[ui]=null,Wi=li[--ui],li[ui]=null,Zi=li[--ui],li[ui]=null}function Q_(a,s){li[ui++]=Zi,li[ui++]=Wi,li[ui++]=Is,Zi=s.id,Wi=s.overflow,Is=a}var jn=null,jt=null,yt=!1,Ns=null,ci=!1,j1=Error(r(519));function Ms(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(oi(s,a)),j1}function Z_(a){var s=a.stateNode,u=a.type,d=a.memoizedProps;switch(s[sn]=a,s[_n]=d,u){case"dialog":ft("cancel",s),ft("close",s);break;case"iframe":case"object":case"embed":ft("load",s);break;case"video":case"audio":for(u=0;u<r0.length;u++)ft(r0[u],s);break;case"source":ft("error",s);break;case"img":case"image":case"link":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"input":ft("invalid",s),Ul(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ft("invalid",s);break;case"textarea":ft("invalid",s),Es(s,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||m9(s.textContent,u)?(d.popover!=null&&(ft("beforetoggle",s),ft("toggle",s)),d.onScroll!=null&&ft("scroll",s),d.onScrollEnd!=null&&ft("scrollend",s),d.onClick!=null&&(s.onclick=Si),s=!0):s=!1,s||Ms(a,!0)}function W_(a){for(jn=a.return;jn;)switch(jn.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:jn=jn.return}}function nu(a){if(a!==jn)return!1;if(!yt)return W_(a),yt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||og(a.type,a.memoizedProps)),u=!u),u&&jt&&Ms(a),W_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));jt=S9(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));jt=S9(a)}else s===27?(s=jt,Gs(a.type)?(a=fg,fg=null,jt=a):jt=s):jt=jn?fi(a.stateNode.nextSibling):null;return!0}function Xo(){jt=jn=null,yt=!1}function F1(){var a=Ns;return a!==null&&(yr===null?yr=a:yr.push.apply(yr,a),Ns=null),a}function zc(a){Ns===null?Ns=[a]:Ns.push(a)}var G1=Y(null),Ko=null,Oa=null;function ks(a,s,u){pe(G1,s._currentValue),s._currentValue=u}function za(a){a._currentValue=G1.current,ee(G1)}function $1(a,s,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===u)break;a=a.return}}function Y1(a,s,u,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var N=v.child;_=_.firstContext;e:for(;_!==null;){var j=_;_=v;for(var ne=0;ne<s.length;ne++)if(j.context===s[ne]){_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),$1(_.return,u,a),d||(N=null);break e}_=j.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),$1(N,u,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function ru(a,s,u,d){a=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var j=v.type;kr(v.pendingProps.value,N.value)||(a!==null?a.push(j):a=[j])}}else if(v===ge.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(l0):a=[l0])}v=v.return}a!==null&&Y1(s,a,u,d),s.flags|=262144}function ef(a){for(a=a.firstContext;a!==null;){if(!kr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Qo(a){Ko=a,Oa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Fn(a){return J_(Ko,a)}function tf(a,s){return Ko===null&&Qo(a),J_(a,s)}function J_(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Oa===null){if(a===null)throw Error(r(308));Oa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Oa=Oa.next=s;return u}var cV=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},hV=t.unstable_scheduleCallback,fV=t.unstable_NormalPriority,wn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function X1(){return{controller:new cV,data:new Map,refCount:0}}function Vc(a){a.refCount--,a.refCount===0&&hV(fV,function(){a.controller.abort()})}var qc=null,K1=0,iu=0,au=null;function dV(a,s){if(qc===null){var u=qc=[];K1=0,iu=Wp(),au={status:"pending",value:void 0,then:function(d){u.push(d)}}}return K1++,s.then(eb,eb),s}function eb(){if(--K1===0&&qc!==null){au!==null&&(au.status="fulfilled");var a=qc;qc=null,iu=0,au=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function mV(a,s){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var tb=$.S;$.S=function(a,s){L8=$t(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&dV(a,s),tb!==null&&tb(a,s)};var Zo=Y(null);function Q1(){var a=Zo.current;return a!==null?a:Lt.pooledCache}function nf(a,s){s===null?pe(Zo,Zo.current):pe(Zo,s.pool)}function nb(){var a=Q1();return a===null?null:{parent:wn._currentValue,pool:a}}var su=Error(r(460)),Z1=Error(r(474)),rf=Error(r(542)),af={then:function(){}};function rb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ib(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Si,Si),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,sb(a),a;default:if(typeof s.status=="string")s.then(Si,Si);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=d}},function(d){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,sb(a),a}throw Jo=s,su}}function Wo(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Jo=u,su):u}}var Jo=null;function ab(){if(Jo===null)throw Error(r(459));var a=Jo;return Jo=null,a}function sb(a){if(a===su||a===rf)throw Error(r(483))}var ou=null,Lc=0;function sf(a){var s=Lc;return Lc+=1,ou===null&&(ou=[]),ib(ou,a,s)}function Pc(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function of(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function ob(a){function s(le,ae){if(a){var fe=le.deletions;fe===null?(le.deletions=[ae],le.flags|=16):fe.push(ae)}}function u(le,ae){if(!a)return null;for(;ae!==null;)s(le,ae),ae=ae.sibling;return null}function d(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function v(le,ae){return le=ka(le,ae),le.index=0,le.sibling=null,le}function _(le,ae,fe){return le.index=fe,a?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ae?(le.flags|=67108866,ae):fe):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function N(le){return a&&le.alternate===null&&(le.flags|=67108866),le}function j(le,ae,fe,Se){return ae===null||ae.tag!==6?(ae=P1(fe,le.mode,Se),ae.return=le,ae):(ae=v(ae,fe),ae.return=le,ae)}function ne(le,ae,fe,Se){var Ke=fe.type;return Ke===T?Ee(le,ae,fe.props.children,Se,fe.key):ae!==null&&(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Wo(Ke)===ae.type)?(ae=v(ae,fe.props),Pc(ae,fe),ae.return=le,ae):(ae=Wh(fe.type,fe.key,fe.props,null,le.mode,Se),Pc(ae,fe),ae.return=le,ae)}function me(le,ae,fe,Se){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=B1(fe,le.mode,Se),ae.return=le,ae):(ae=v(ae,fe.children||[]),ae.return=le,ae)}function Ee(le,ae,fe,Se,Ke){return ae===null||ae.tag!==7?(ae=Yo(fe,le.mode,Se,Ke),ae.return=le,ae):(ae=v(ae,fe),ae.return=le,ae)}function Te(le,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=P1(""+ae,le.mode,fe),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return fe=Wh(ae.type,ae.key,ae.props,null,le.mode,fe),Pc(fe,ae),fe.return=le,fe;case E:return ae=B1(ae,le.mode,fe),ae.return=le,ae;case M:return ae=Wo(ae),Te(le,ae,fe)}if(te(ae)||B(ae))return ae=Yo(ae,le.mode,fe,null),ae.return=le,ae;if(typeof ae.then=="function")return Te(le,sf(ae),fe);if(ae.$$typeof===A)return Te(le,tf(le,ae),fe);of(le,ae)}return null}function ve(le,ae,fe,Se){var Ke=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ke!==null?null:j(le,ae,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return fe.key===Ke?ne(le,ae,fe,Se):null;case E:return fe.key===Ke?me(le,ae,fe,Se):null;case M:return fe=Wo(fe),ve(le,ae,fe,Se)}if(te(fe)||B(fe))return Ke!==null?null:Ee(le,ae,fe,Se,null);if(typeof fe.then=="function")return ve(le,ae,sf(fe),Se);if(fe.$$typeof===A)return ve(le,ae,tf(le,fe),Se);of(le,fe)}return null}function we(le,ae,fe,Se,Ke){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return le=le.get(fe)||null,j(ae,le,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:return le=le.get(Se.key===null?fe:Se.key)||null,ne(ae,le,Se,Ke);case E:return le=le.get(Se.key===null?fe:Se.key)||null,me(ae,le,Se,Ke);case M:return Se=Wo(Se),we(le,ae,fe,Se,Ke)}if(te(Se)||B(Se))return le=le.get(fe)||null,Ee(ae,le,Se,Ke,null);if(typeof Se.then=="function")return we(le,ae,fe,sf(Se),Ke);if(Se.$$typeof===A)return we(le,ae,fe,tf(ae,Se),Ke);of(ae,Se)}return null}function Ue(le,ae,fe,Se){for(var Ke=null,xt=null,Fe=ae,ut=ae=0,mt=null;Fe!==null&&ut<fe.length;ut++){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var Tt=ve(le,Fe,fe[ut],Se);if(Tt===null){Fe===null&&(Fe=mt);break}a&&Fe&&Tt.alternate===null&&s(le,Fe),ae=_(Tt,ae,ut),xt===null?Ke=Tt:xt.sibling=Tt,xt=Tt,Fe=mt}if(ut===fe.length)return u(le,Fe),yt&&Da(le,ut),Ke;if(Fe===null){for(;ut<fe.length;ut++)Fe=Te(le,fe[ut],Se),Fe!==null&&(ae=_(Fe,ae,ut),xt===null?Ke=Fe:xt.sibling=Fe,xt=Fe);return yt&&Da(le,ut),Ke}for(Fe=d(Fe);ut<fe.length;ut++)mt=we(Fe,le,ut,fe[ut],Se),mt!==null&&(a&&mt.alternate!==null&&Fe.delete(mt.key===null?ut:mt.key),ae=_(mt,ae,ut),xt===null?Ke=mt:xt.sibling=mt,xt=mt);return a&&Fe.forEach(function(Qs){return s(le,Qs)}),yt&&Da(le,ut),Ke}function Je(le,ae,fe,Se){if(fe==null)throw Error(r(151));for(var Ke=null,xt=null,Fe=ae,ut=ae=0,mt=null,Tt=fe.next();Fe!==null&&!Tt.done;ut++,Tt=fe.next()){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var Qs=ve(le,Fe,Tt.value,Se);if(Qs===null){Fe===null&&(Fe=mt);break}a&&Fe&&Qs.alternate===null&&s(le,Fe),ae=_(Qs,ae,ut),xt===null?Ke=Qs:xt.sibling=Qs,xt=Qs,Fe=mt}if(Tt.done)return u(le,Fe),yt&&Da(le,ut),Ke;if(Fe===null){for(;!Tt.done;ut++,Tt=fe.next())Tt=Te(le,Tt.value,Se),Tt!==null&&(ae=_(Tt,ae,ut),xt===null?Ke=Tt:xt.sibling=Tt,xt=Tt);return yt&&Da(le,ut),Ke}for(Fe=d(Fe);!Tt.done;ut++,Tt=fe.next())Tt=we(Fe,le,ut,Tt.value,Se),Tt!==null&&(a&&Tt.alternate!==null&&Fe.delete(Tt.key===null?ut:Tt.key),ae=_(Tt,ae,ut),xt===null?Ke=Tt:xt.sibling=Tt,xt=Tt);return a&&Fe.forEach(function(Tq){return s(le,Tq)}),yt&&Da(le,ut),Ke}function zt(le,ae,fe,Se){if(typeof fe=="object"&&fe!==null&&fe.type===T&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:e:{for(var Ke=fe.key;ae!==null;){if(ae.key===Ke){if(Ke=fe.type,Ke===T){if(ae.tag===7){u(le,ae.sibling),Se=v(ae,fe.props.children),Se.return=le,le=Se;break e}}else if(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Wo(Ke)===ae.type){u(le,ae.sibling),Se=v(ae,fe.props),Pc(Se,fe),Se.return=le,le=Se;break e}u(le,ae);break}else s(le,ae);ae=ae.sibling}fe.type===T?(Se=Yo(fe.props.children,le.mode,Se,fe.key),Se.return=le,le=Se):(Se=Wh(fe.type,fe.key,fe.props,null,le.mode,Se),Pc(Se,fe),Se.return=le,le=Se)}return N(le);case E:e:{for(Ke=fe.key;ae!==null;){if(ae.key===Ke)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){u(le,ae.sibling),Se=v(ae,fe.children||[]),Se.return=le,le=Se;break e}else{u(le,ae);break}else s(le,ae);ae=ae.sibling}Se=B1(fe,le.mode,Se),Se.return=le,le=Se}return N(le);case M:return fe=Wo(fe),zt(le,ae,fe,Se)}if(te(fe))return Ue(le,ae,fe,Se);if(B(fe)){if(Ke=B(fe),typeof Ke!="function")throw Error(r(150));return fe=Ke.call(fe),Je(le,ae,fe,Se)}if(typeof fe.then=="function")return zt(le,ae,sf(fe),Se);if(fe.$$typeof===A)return zt(le,ae,tf(le,fe),Se);of(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ae!==null&&ae.tag===6?(u(le,ae.sibling),Se=v(ae,fe),Se.return=le,le=Se):(u(le,ae),Se=P1(fe,le.mode,Se),Se.return=le,le=Se),N(le)):u(le,ae)}return function(le,ae,fe,Se){try{Lc=0;var Ke=zt(le,ae,fe,Se);return ou=null,Ke}catch(Fe){if(Fe===su||Fe===rf)throw Fe;var xt=Dr(29,Fe,null,le.mode);return xt.lanes=Se,xt.return=le,xt}}}var el=ob(!0),lb=ob(!1),Ds=!1;function W1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J1(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Os(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function zs(a,s,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Rt&2)!==0){var v=d.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),d.pending=s,s=Zh(a),G_(a,null,u),s}return Qh(a,d,s,u),Zh(a)}function Bc(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,Io(a,u)}}function ep(a,s){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?v=_=s:_=_.next=s}else v=_=s;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var tp=!1;function Uc(){if(tp){var a=au;if(a!==null)throw a}}function Hc(a,s,u,d){tp=!1;var v=a.updateQueue;Ds=!1;var _=v.firstBaseUpdate,N=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var ne=j,me=ne.next;ne.next=null,N===null?_=me:N.next=me,N=ne;var Ee=a.alternate;Ee!==null&&(Ee=Ee.updateQueue,j=Ee.lastBaseUpdate,j!==N&&(j===null?Ee.firstBaseUpdate=me:j.next=me,Ee.lastBaseUpdate=ne))}if(_!==null){var Te=v.baseState;N=0,Ee=me=ne=null,j=_;do{var ve=j.lane&-536870913,we=ve!==j.lane;if(we?(dt&ve)===ve:(d&ve)===ve){ve!==0&&ve===iu&&(tp=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ue=a,Je=j;ve=s;var zt=u;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){Te=Ue.call(zt,Te,ve);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,ve=typeof Ue=="function"?Ue.call(zt,Te,ve):Ue,ve==null)break e;Te=p({},Te,ve);break e;case 2:Ds=!0}}ve=j.callback,ve!==null&&(a.flags|=64,we&&(a.flags|=8192),we=v.callbacks,we===null?v.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ee===null?(me=Ee=we,ne=Te):Ee=Ee.next=we,N|=ve;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;we=j,j=we.next,we.next=null,v.lastBaseUpdate=we,v.shared.pending=null}}while(!0);Ee===null&&(ne=Te),v.baseState=ne,v.firstBaseUpdate=me,v.lastBaseUpdate=Ee,_===null&&(v.shared.lanes=0),Bs|=N,a.lanes=N,a.memoizedState=Te}}function ub(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function cb(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ub(u[a],s)}var lu=Y(null),lf=Y(0);function hb(a,s){a=Fa,pe(lf,a),pe(lu,s),Fa=a|s.baseLanes}function np(){pe(lf,Fa),pe(lu,lu.current)}function rp(){Fa=lf.current,ee(lu),ee(lf)}var Or=Y(null),hi=null;function Vs(a){var s=a.alternate;pe(mn,mn.current&1),pe(Or,a),hi===null&&(s===null||lu.current!==null||s.memoizedState!==null)&&(hi=a)}function ip(a){pe(mn,mn.current),pe(Or,a),hi===null&&(hi=a)}function fb(a){a.tag===22?(pe(mn,mn.current),pe(Or,a),hi===null&&(hi=a)):qs()}function qs(){pe(mn,mn.current),pe(Or,Or.current)}function zr(a){ee(Or),hi===a&&(hi=null),ee(mn)}var mn=Y(0);function uf(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||cg(u)||hg(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Va=0,lt=null,Dt=null,En=null,cf=!1,uu=!1,tl=!1,hf=0,jc=0,cu=null,pV=0;function un(){throw Error(r(321))}function ap(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!kr(a[u],s[u]))return!1;return!0}function sp(a,s,u,d,v,_){return Va=_,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=a===null||a.memoizedState===null?Kb:wp,tl=!1,_=u(d,v),tl=!1,uu&&(_=mb(s,u,d,v)),db(a),_}function db(a){$.H=$c;var s=Dt!==null&&Dt.next!==null;if(Va=0,En=Dt=lt=null,cf=!1,jc=0,cu=null,s)throw Error(r(300));a===null||Sn||(a=a.dependencies,a!==null&&ef(a)&&(Sn=!0))}function mb(a,s,u,d){lt=a;var v=0;do{if(uu&&(cu=null),jc=0,uu=!1,25<=v)throw Error(r(301));if(v+=1,En=Dt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=Qb,_=s(u,d)}while(uu);return _}function gV(){var a=$.H,s=a.useState()[0];return s=typeof s.then=="function"?Fc(s):s,a=a.useState()[0],(Dt!==null?Dt.memoizedState:null)!==a&&(lt.flags|=1024),s}function op(){var a=hf!==0;return hf=0,a}function lp(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function up(a){if(cf){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}cf=!1}Va=0,En=Dt=lt=null,uu=!1,jc=hf=0,cu=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?lt.memoizedState=En=a:En=En.next=a,En}function pn(){if(Dt===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=Dt.next;var s=En===null?lt.memoizedState:En.next;if(s!==null)En=s,Dt=a;else{if(a===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Dt=a,a={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},En===null?lt.memoizedState=En=a:En=En.next=a}return En}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fc(a){var s=jc;return jc+=1,cu===null&&(cu=[]),a=ib(cu,a,s),s=lt,(En===null?s.memoizedState:En.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Kb:wp),a}function df(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fc(a);if(a.$$typeof===A)return Fn(a)}throw Error(r(438,String(a)))}function cp(a){var s=null,u=lt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=ff(),lt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),d=0;d<a;d++)u[d]=H;return s.index++,u}function qa(a,s){return typeof s=="function"?s(a):s}function mf(a){var s=pn();return hp(s,Dt,a)}function hp(a,s,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var v=a.baseQueue,_=d.pending;if(_!==null){if(v!==null){var N=v.next;v.next=_.next,_.next=N}s.baseQueue=v=_,d.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{s=v.next;var j=N=null,ne=null,me=s,Ee=!1;do{var Te=me.lane&-536870913;if(Te!==me.lane?(dt&Te)===Te:(Va&Te)===Te){var ve=me.revertLane;if(ve===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Te===iu&&(Ee=!0);else if((Va&ve)===ve){me=me.next,ve===iu&&(Ee=!0);continue}else Te={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(j=ne=Te,N=_):ne=ne.next=Te,lt.lanes|=ve,Bs|=ve;Te=me.action,tl&&u(_,Te),_=me.hasEagerState?me.eagerState:u(_,Te)}else ve={lane:Te,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(j=ne=ve,N=_):ne=ne.next=ve,lt.lanes|=Te,Bs|=Te;me=me.next}while(me!==null&&me!==s);if(ne===null?N=_:ne.next=j,!kr(_,a.memoizedState)&&(Sn=!0,Ee&&(u=au,u!==null)))throw u;a.memoizedState=_,a.baseState=N,a.baseQueue=ne,d.lastRenderedState=_}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function fp(a){var s=pn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,v=u.pending,_=s.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do _=a(_,N.action),N=N.next;while(N!==v);kr(_,s.memoizedState)||(Sn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,d]}function pb(a,s,u){var d=lt,v=pn(),_=yt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var N=!kr((Dt||v).memoizedState,u);if(N&&(v.memoizedState=u,Sn=!0),v=v.queue,pp(yb.bind(null,d,v,a),[a]),v.getSnapshot!==s||N||En!==null&&En.memoizedState.tag&1){if(d.flags|=2048,hu(9,{destroy:void 0},vb.bind(null,d,v,u,s),null),Lt===null)throw Error(r(349));_||(Va&127)!==0||gb(d,s,u)}return u}function gb(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=lt.updateQueue,s===null?(s=ff(),lt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function vb(a,s,u,d){s.value=u,s.getSnapshot=d,_b(s)&&bb(a)}function yb(a,s,u){return u(function(){_b(s)&&bb(a)})}function _b(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!kr(a,u)}catch{return!0}}function bb(a){var s=$o(a,2);s!==null&&_r(s,a,2)}function dp(a){var s=ir();if(typeof a=="function"){var u=a;if(a=u(),tl){fr(!0);try{u()}finally{fr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:a},s}function wb(a,s,u,d){return a.baseState=u,hp(a,Dt,typeof d=="function"?d:qa)}function vV(a,s,u,d,v){if(vf(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};$.T!==null?u(!0):_.isTransition=!1,d(_),u=s.pending,u===null?(_.next=s.pending=_,Eb(s,_)):(_.next=u.next,s.pending=u.next=_)}}function Eb(a,s){var u=s.action,d=s.payload,v=a.state;if(s.isTransition){var _=$.T,N={};$.T=N;try{var j=u(v,d),ne=$.S;ne!==null&&ne(N,j),Sb(a,s,j)}catch(me){mp(a,s,me)}finally{_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}else try{_=u(v,d),Sb(a,s,_)}catch(me){mp(a,s,me)}}function Sb(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){xb(a,s,d)},function(d){return mp(a,s,d)}):xb(a,s,u)}function xb(a,s,u){s.status="fulfilled",s.value=u,Tb(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,Eb(a,u)))}function mp(a,s,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,Tb(s),s=s.next;while(s!==d)}a.action=null}function Tb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Ab(a,s){return s}function Cb(a,s){if(yt){var u=Lt.formState;if(u!==null){e:{var d=lt;if(yt){if(jt){t:{for(var v=jt,_=ci;v.nodeType!==8;){if(!_){v=null;break t}if(v=fi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){jt=fi(v.nextSibling),d=v.data==="F!";break e}}Ms(d)}d=!1}d&&(s=u[0])}}return u=ir(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:s},u.queue=d,u=$b.bind(null,lt,d),d.dispatch=u,d=dp(!1),_=bp.bind(null,lt,!1,d.queue),d=ir(),v={state:s,dispatch:null,action:a,pending:null},d.queue=v,u=vV.bind(null,lt,v,_,u),v.dispatch=u,d.memoizedState=a,[s,u,!1]}function Rb(a){var s=pn();return Ib(s,Dt,a)}function Ib(a,s,u){if(s=hp(a,s,Ab)[0],a=mf(qa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Fc(s)}catch(N){throw N===su?rf:N}else d=s;s=pn();var v=s.queue,_=v.dispatch;return u!==s.memoizedState&&(lt.flags|=2048,hu(9,{destroy:void 0},yV.bind(null,v,u),null)),[d,_,a]}function yV(a,s){a.action=s}function Nb(a){var s=pn(),u=Dt;if(u!==null)return Ib(s,u,a);pn(),s=s.memoizedState,u=pn();var d=u.queue.dispatch;return u.memoizedState=a,[s,d,!1]}function hu(a,s,u,d){return a={tag:a,create:u,deps:d,inst:s,next:null},s=lt.updateQueue,s===null&&(s=ff(),lt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,s.lastEffect=a),a}function Mb(){return pn().memoizedState}function pf(a,s,u,d){var v=ir();lt.flags|=a,v.memoizedState=hu(1|s,{destroy:void 0},u,d===void 0?null:d)}function gf(a,s,u,d){var v=pn();d=d===void 0?null:d;var _=v.memoizedState.inst;Dt!==null&&d!==null&&ap(d,Dt.memoizedState.deps)?v.memoizedState=hu(s,_,u,d):(lt.flags|=a,v.memoizedState=hu(1|s,_,u,d))}function kb(a,s){pf(8390656,8,a,s)}function pp(a,s){gf(2048,8,a,s)}function _V(a){lt.flags|=4;var s=lt.updateQueue;if(s===null)s=ff(),lt.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function Db(a){var s=pn().memoizedState;return _V({ref:s,nextImpl:a}),function(){if((Rt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ob(a,s){return gf(4,2,a,s)}function zb(a,s){return gf(4,4,a,s)}function Vb(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function qb(a,s,u){u=u!=null?u.concat([a]):null,gf(4,4,Vb.bind(null,s,a),u)}function gp(){}function Lb(a,s){var u=pn();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&ap(s,d[1])?d[0]:(u.memoizedState=[a,s],a)}function Pb(a,s){var u=pn();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&ap(s,d[1]))return d[0];if(d=a(),tl){fr(!0);try{a()}finally{fr(!1)}}return u.memoizedState=[d,s],d}function vp(a,s,u){return u===void 0||(Va&1073741824)!==0&&(dt&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=B8(),lt.lanes|=a,Bs|=a,u)}function Bb(a,s,u,d){return kr(u,s)?u:lu.current!==null?(a=vp(a,u,d),kr(a,s)||(Sn=!0),a):(Va&42)===0||(Va&1073741824)!==0&&(dt&261930)===0?(Sn=!0,a.memoizedState=u):(a=B8(),lt.lanes|=a,Bs|=a,s)}function Ub(a,s,u,d,v){var _=W.p;W.p=_!==0&&8>_?_:8;var N=$.T,j={};$.T=j,bp(a,!1,s,u);try{var ne=v(),me=$.S;if(me!==null&&me(j,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ee=mV(ne,d);Gc(a,s,Ee,Lr(a))}else Gc(a,s,d,Lr(a))}catch(Te){Gc(a,s,{then:function(){},status:"rejected",reason:Te},Lr())}finally{W.p=_,N!==null&&j.types!==null&&(N.types=j.types),$.T=N}}function bV(){}function yp(a,s,u,d){if(a.tag!==5)throw Error(r(476));var v=Hb(a).queue;Ub(a,v,s,re,u===null?bV:function(){return jb(a),u(d)})}function Hb(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:re},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function jb(a){var s=Hb(a);s.next===null&&(s=a.alternate.memoizedState),Gc(a,s.next.queue,{},Lr())}function _p(){return Fn(l0)}function Fb(){return pn().memoizedState}function Gb(){return pn().memoizedState}function wV(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=Lr();a=Os(u);var d=zs(s,a,u);d!==null&&(_r(d,s,u),Bc(d,s,u)),s={cache:X1()},a.payload=s;return}s=s.return}}function EV(a,s,u){var d=Lr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vf(a)?Yb(s,u):(u=q1(a,s,u,d),u!==null&&(_r(u,a,d),Xb(u,s,d)))}function $b(a,s,u){var d=Lr();Gc(a,s,u,d)}function Gc(a,s,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(vf(a))Yb(s,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,j=_(N,u);if(v.hasEagerState=!0,v.eagerState=j,kr(j,N))return Qh(a,s,v,0),Lt===null&&Kh(),!1}catch{}if(u=q1(a,s,v,d),u!==null)return _r(u,a,d),Xb(u,s,d),!0}return!1}function bp(a,s,u,d){if(d={lane:2,revertLane:Wp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},vf(a)){if(s)throw Error(r(479))}else s=q1(a,u,d,2),s!==null&&_r(s,a,2)}function vf(a){var s=a.alternate;return a===lt||s!==null&&s===lt}function Yb(a,s){uu=cf=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function Xb(a,s,u){if((u&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,Io(a,u)}}var $c={readContext:Fn,use:df,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};$c.useEffectEvent=un;var Kb={readContext:Fn,use:df,useCallback:function(a,s){return ir().memoizedState=[a,s===void 0?null:s],a},useContext:Fn,useEffect:kb,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,pf(4194308,4,Vb.bind(null,s,a),u)},useLayoutEffect:function(a,s){return pf(4194308,4,a,s)},useInsertionEffect:function(a,s){pf(4,2,a,s)},useMemo:function(a,s){var u=ir();s=s===void 0?null:s;var d=a();if(tl){fr(!0);try{a()}finally{fr(!1)}}return u.memoizedState=[d,s],d},useReducer:function(a,s,u){var d=ir();if(u!==void 0){var v=u(s);if(tl){fr(!0);try{u(s)}finally{fr(!1)}}}else v=s;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=EV.bind(null,lt,a),[d.memoizedState,a]},useRef:function(a){var s=ir();return a={current:a},s.memoizedState=a},useState:function(a){a=dp(a);var s=a.queue,u=$b.bind(null,lt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:gp,useDeferredValue:function(a,s){var u=ir();return vp(u,a,s)},useTransition:function(){var a=dp(!1);return a=Ub.bind(null,lt,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var d=lt,v=ir();if(yt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Lt===null)throw Error(r(349));(dt&127)!==0||gb(d,s,u)}v.memoizedState=u;var _={value:u,getSnapshot:s};return v.queue=_,kb(yb.bind(null,d,_,a),[a]),d.flags|=2048,hu(9,{destroy:void 0},vb.bind(null,d,_,u,s),null),u},useId:function(){var a=ir(),s=Lt.identifierPrefix;if(yt){var u=Wi,d=Zi;u=(d&~(1<<32-Jt(d)-1)).toString(32)+u,s="_"+s+"R_"+u,u=hf++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=pV++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:_p,useFormState:Cb,useActionState:Cb,useOptimistic:function(a){var s=ir();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=bp.bind(null,lt,!0,u),u.dispatch=s,[a,s]},useMemoCache:cp,useCacheRefresh:function(){return ir().memoizedState=wV.bind(null,lt)},useEffectEvent:function(a){var s=ir(),u={impl:a};return s.memoizedState=u,function(){if((Rt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},wp={readContext:Fn,use:df,useCallback:Lb,useContext:Fn,useEffect:pp,useImperativeHandle:qb,useInsertionEffect:Ob,useLayoutEffect:zb,useMemo:Pb,useReducer:mf,useRef:Mb,useState:function(){return mf(qa)},useDebugValue:gp,useDeferredValue:function(a,s){var u=pn();return Bb(u,Dt.memoizedState,a,s)},useTransition:function(){var a=mf(qa)[0],s=pn().memoizedState;return[typeof a=="boolean"?a:Fc(a),s]},useSyncExternalStore:pb,useId:Fb,useHostTransitionStatus:_p,useFormState:Rb,useActionState:Rb,useOptimistic:function(a,s){var u=pn();return wb(u,Dt,a,s)},useMemoCache:cp,useCacheRefresh:Gb};wp.useEffectEvent=Db;var Qb={readContext:Fn,use:df,useCallback:Lb,useContext:Fn,useEffect:pp,useImperativeHandle:qb,useInsertionEffect:Ob,useLayoutEffect:zb,useMemo:Pb,useReducer:fp,useRef:Mb,useState:function(){return fp(qa)},useDebugValue:gp,useDeferredValue:function(a,s){var u=pn();return Dt===null?vp(u,a,s):Bb(u,Dt.memoizedState,a,s)},useTransition:function(){var a=fp(qa)[0],s=pn().memoizedState;return[typeof a=="boolean"?a:Fc(a),s]},useSyncExternalStore:pb,useId:Fb,useHostTransitionStatus:_p,useFormState:Nb,useActionState:Nb,useOptimistic:function(a,s){var u=pn();return Dt!==null?wb(u,Dt,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:cp,useCacheRefresh:Gb};Qb.useEffectEvent=Db;function Ep(a,s,u,d){s=a.memoizedState,u=u(d,s),u=u==null?s:p({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Sp={enqueueSetState:function(a,s,u){a=a._reactInternals;var d=Lr(),v=Os(d);v.payload=s,u!=null&&(v.callback=u),s=zs(a,v,d),s!==null&&(_r(s,a,d),Bc(s,a,d))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var d=Lr(),v=Os(d);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=zs(a,v,d),s!==null&&(_r(s,a,d),Bc(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=Lr(),d=Os(u);d.tag=2,s!=null&&(d.callback=s),s=zs(a,d,u),s!==null&&(_r(s,a,u),Bc(s,a,u))}};function Zb(a,s,u,d,v,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,_,N):s.prototype&&s.prototype.isPureReactComponent?!kc(u,d)||!kc(v,_):!0}function Wb(a,s,u,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==a&&Sp.enqueueReplaceState(s,s.state,null)}function nl(a,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(a=a.defaultProps){u===s&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Jb(a){Xh(a)}function e8(a){console.error(a)}function t8(a){Xh(a)}function yf(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function n8(a,s,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function xp(a,s,u){return u=Os(u),u.tag=3,u.payload={element:null},u.callback=function(){yf(a,s)},u}function r8(a){return a=Os(a),a.tag=3,a}function i8(a,s,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;a.payload=function(){return v(_)},a.callback=function(){n8(s,u,d)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){n8(s,u,d),typeof v!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function SV(a,s,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&ru(s,u,v,!0),u=Or.current,u!==null){switch(u.tag){case 31:case 13:return hi===null?Nf():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===af?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),Kp(a,d,v)),!1;case 22:return u.flags|=65536,d===af?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),Kp(a,d,v)),!1}throw Error(r(435,u.tag))}return Kp(a,d,v),Nf(),!1}if(yt)return s=Or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,d!==j1&&(a=Error(r(422),{cause:d}),zc(oi(a,u)))):(d!==j1&&(s=Error(r(423),{cause:d}),zc(oi(s,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=oi(d,u),v=xp(a.stateNode,d,v),ep(a,v),cn!==4&&(cn=2)),!1;var _=Error(r(520),{cause:d});if(_=oi(_,u),e0===null?e0=[_]:e0.push(_),cn!==4&&(cn=2),s===null)return!0;d=oi(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=xp(u.stateNode,d,a),ep(u,a),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Us===null||!Us.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=r8(v),i8(v,a,u,d),ep(u,v),!1}u=u.return}while(u!==null);return!1}var Tp=Error(r(461)),Sn=!1;function Gn(a,s,u,d){s.child=a===null?lb(s,null,u,d):el(s,a.child,u,d)}function a8(a,s,u,d,v){u=u.render;var _=s.ref;if("ref"in d){var N={};for(var j in d)j!=="ref"&&(N[j]=d[j])}else N=d;return Qo(s),d=sp(a,s,u,N,_,v),j=op(),a!==null&&!Sn?(lp(a,s,v),La(a,s,v)):(yt&&j&&U1(s),s.flags|=1,Gn(a,s,d,v),s.child)}function s8(a,s,u,d,v){if(a===null){var _=u.type;return typeof _=="function"&&!L1(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,o8(a,s,_,d,v)):(a=Wh(u.type,null,d,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!Dp(a,v)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:kc,u(N,d)&&a.ref===s.ref)return La(a,s,v)}return s.flags|=1,a=ka(_,d),a.ref=s.ref,a.return=s,s.child=a}function o8(a,s,u,d,v){if(a!==null){var _=a.memoizedProps;if(kc(_,d)&&a.ref===s.ref)if(Sn=!1,s.pendingProps=d=_,Dp(a,v))(a.flags&131072)!==0&&(Sn=!0);else return s.lanes=a.lanes,La(a,s,v)}return Ap(a,s,u,d,v)}function l8(a,s,u,d){var v=d.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(d=s.child=a.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~_}else d=0,s.child=null;return u8(a,s,_,u,d)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&nf(s,_!==null?_.cachePool:null),_!==null?hb(s,_):np(),fb(s);else return d=s.lanes=536870912,u8(a,s,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(nf(s,_.cachePool),hb(s,_),qs(),s.memoizedState=null):(a!==null&&nf(s,null),np(),qs());return Gn(a,s,v,u),s.child}function Yc(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function u8(a,s,u,d,v){var _=Q1();return _=_===null?null:{parent:wn._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},a!==null&&nf(s,null),np(),fb(s),a!==null&&ru(a,s,d,!0),s.childLanes=v,null}function _f(a,s){return s=wf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function c8(a,s,u){return el(s,a.child,null,u),a=_f(s,s.pendingProps),a.flags|=2,zr(s),s.memoizedState=null,a}function xV(a,s,u){var d=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(yt){if(d.mode==="hidden")return a=_f(s,d),s.lanes=536870912,Yc(null,a);if(ip(s),(a=jt)?(a=E9(a,ci),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Is!==null?{id:Zi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},u=Y_(a),u.return=s,s.child=u,jn=s,jt=null)):a=null,a===null)throw Ms(s);return s.lanes=536870912,null}return _f(s,d)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(ip(s),v)if(s.flags&256)s.flags&=-257,s=c8(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Sn||ru(a,s,u,!1),v=(u&a.childLanes)!==0,Sn||v){if(d=Lt,d!==null&&(N=No(d,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,$o(a,N),_r(d,a,N),Tp;Nf(),s=c8(a,s,u)}else a=_.treeContext,jt=fi(N.nextSibling),jn=s,yt=!0,Ns=null,ci=!1,a!==null&&Q_(s,a),s=_f(s,d),s.flags|=4096;return s}return a=ka(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function bf(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function Ap(a,s,u,d,v){return Qo(s),u=sp(a,s,u,d,void 0,v),d=op(),a!==null&&!Sn?(lp(a,s,v),La(a,s,v)):(yt&&d&&U1(s),s.flags|=1,Gn(a,s,u,v),s.child)}function h8(a,s,u,d,v,_){return Qo(s),s.updateQueue=null,u=mb(s,d,u,v),db(a),d=op(),a!==null&&!Sn?(lp(a,s,_),La(a,s,_)):(yt&&d&&U1(s),s.flags|=1,Gn(a,s,u,_),s.child)}function f8(a,s,u,d,v){if(Qo(s),s.stateNode===null){var _=Jl,N=u.contextType;typeof N=="object"&&N!==null&&(_=Fn(N)),_=new u(d,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Sp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=d,_.state=s.memoizedState,_.refs={},W1(s),N=u.contextType,_.context=typeof N=="object"&&N!==null?Fn(N):Jl,_.state=s.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Ep(s,u,N,d),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Sp.enqueueReplaceState(_,_.state,null),Hc(s,d,_,v),Uc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){_=s.stateNode;var j=s.memoizedProps,ne=nl(u,j);_.props=ne;var me=_.context,Ee=u.contextType;N=Jl,typeof Ee=="object"&&Ee!==null&&(N=Fn(Ee));var Te=u.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,Ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||me!==N)&&Wb(s,_,d,N),Ds=!1;var ve=s.memoizedState;_.state=ve,Hc(s,d,_,v),Uc(),me=s.memoizedState,j||ve!==me||Ds?(typeof Te=="function"&&(Ep(s,u,Te,d),me=s.memoizedState),(ne=Ds||Zb(s,u,ne,d,ve,me,N))?(Ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=me),_.props=d,_.state=me,_.context=N,d=ne):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,J1(a,s),N=s.memoizedProps,Ee=nl(u,N),_.props=Ee,Te=s.pendingProps,ve=_.context,me=u.contextType,ne=Jl,typeof me=="object"&&me!==null&&(ne=Fn(me)),j=u.getDerivedStateFromProps,(me=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==Te||ve!==ne)&&Wb(s,_,d,ne),Ds=!1,ve=s.memoizedState,_.state=ve,Hc(s,d,_,v),Uc();var we=s.memoizedState;N!==Te||ve!==we||Ds||a!==null&&a.dependencies!==null&&ef(a.dependencies)?(typeof j=="function"&&(Ep(s,u,j,d),we=s.memoizedState),(Ee=Ds||Zb(s,u,Ee,d,ve,we,ne)||a!==null&&a.dependencies!==null&&ef(a.dependencies))?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,we,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,we,ne)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=we),_.props=d,_.state=we,_.context=ne,d=Ee):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=1024),d=!1)}return _=d,bf(a,s),d=(s.flags&128)!==0,_||d?(_=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&d?(s.child=el(s,a.child,null,v),s.child=el(s,null,u,v)):Gn(a,s,u,v),s.memoizedState=_.state,a=s.child):a=La(a,s,v),a}function d8(a,s,u,d){return Xo(),s.flags|=256,Gn(a,s,u,d),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(a){return{baseLanes:a,cachePool:nb()}}function Ip(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=qr),a}function m8(a,s,u){var d=s.pendingProps,v=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(mn.current&2)!==0),N&&(v=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(yt){if(v?Vs(s):qs(),(a=jt)?(a=E9(a,ci),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Is!==null?{id:Zi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},u=Y_(a),u.return=s,s.child=u,jn=s,jt=null)):a=null,a===null)throw Ms(s);return hg(a)?s.lanes=32:s.lanes=536870912,null}var j=d.children;return d=d.fallback,v?(qs(),v=s.mode,j=wf({mode:"hidden",children:j},v),d=Yo(d,v,u,null),j.return=s,d.return=s,j.sibling=d,s.child=j,d=s.child,d.memoizedState=Rp(u),d.childLanes=Ip(a,N,u),s.memoizedState=Cp,Yc(null,d)):(Vs(s),Np(s,j))}var ne=a.memoizedState;if(ne!==null&&(j=ne.dehydrated,j!==null)){if(_)s.flags&256?(Vs(s),s.flags&=-257,s=Mp(a,s,u)):s.memoizedState!==null?(qs(),s.child=a.child,s.flags|=128,s=null):(qs(),j=d.fallback,v=s.mode,d=wf({mode:"visible",children:d.children},v),j=Yo(j,v,u,null),j.flags|=2,d.return=s,j.return=s,d.sibling=j,s.child=d,el(s,a.child,null,u),d=s.child,d.memoizedState=Rp(u),d.childLanes=Ip(a,N,u),s.memoizedState=Cp,s=Yc(null,d));else if(Vs(s),hg(j)){if(N=j.nextSibling&&j.nextSibling.dataset,N)var me=N.dgst;N=me,d=Error(r(419)),d.stack="",d.digest=N,zc({value:d,source:null,stack:null}),s=Mp(a,s,u)}else if(Sn||ru(a,s,u,!1),N=(u&a.childLanes)!==0,Sn||N){if(N=Lt,N!==null&&(d=No(N,u),d!==0&&d!==ne.retryLane))throw ne.retryLane=d,$o(a,d),_r(N,a,d),Tp;cg(j)||Nf(),s=Mp(a,s,u)}else cg(j)?(s.flags|=192,s.child=a.child,s=null):(a=ne.treeContext,jt=fi(j.nextSibling),jn=s,yt=!0,Ns=null,ci=!1,a!==null&&Q_(s,a),s=Np(s,d.children),s.flags|=4096);return s}return v?(qs(),j=d.fallback,v=s.mode,ne=a.child,me=ne.sibling,d=ka(ne,{mode:"hidden",children:d.children}),d.subtreeFlags=ne.subtreeFlags&65011712,me!==null?j=ka(me,j):(j=Yo(j,v,u,null),j.flags|=2),j.return=s,d.return=s,d.sibling=j,s.child=d,Yc(null,d),d=s.child,j=a.child.memoizedState,j===null?j=Rp(u):(v=j.cachePool,v!==null?(ne=wn._currentValue,v=v.parent!==ne?{parent:ne,pool:ne}:v):v=nb(),j={baseLanes:j.baseLanes|u,cachePool:v}),d.memoizedState=j,d.childLanes=Ip(a,N,u),s.memoizedState=Cp,Yc(a.child,d)):(Vs(s),u=a.child,a=u.sibling,u=ka(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=u,s.memoizedState=null,u)}function Np(a,s){return s=wf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function wf(a,s){return a=Dr(22,a,null,s),a.lanes=0,a}function Mp(a,s,u){return el(s,a.child,null,u),a=Np(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function p8(a,s,u){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),$1(a.return,s,u)}function kp(a,s,u,d,v,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=u,N.tailMode=v,N.treeForkCount=_)}function g8(a,s,u){var d=s.pendingProps,v=d.revealOrder,_=d.tail;d=d.children;var N=mn.current,j=(N&2)!==0;if(j?(N=N&1|2,s.flags|=128):N&=1,pe(mn,N),Gn(a,s,d,u),d=yt?Oc:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&p8(a,u,s);else if(a.tag===19)p8(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=s.child,v=null;u!==null;)a=u.alternate,a!==null&&uf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),kp(s,!1,v,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&uf(a)===null){s.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}kp(s,!0,u,null,_,d);break;case"together":kp(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function La(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Bs|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(ru(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=ka(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=ka(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function Dp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&ef(a)))}function TV(a,s,u){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),ks(s,wn,a.memoizedState.cache),Xo();break;case 27:case 5:Ve(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ip(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Vs(s),s.flags|=128,null):(u&s.child.childLanes)!==0?m8(a,s,u):(Vs(s),a=La(a,s,u),a!==null?a.sibling:null);Vs(s);break;case 19:var v=(a.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(ru(a,s,u,!1),d=(u&s.childLanes)!==0),v){if(d)return g8(a,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(mn,mn.current),d)break;return null;case 22:return s.lanes=0,l8(a,s,u,s.pendingProps);case 24:ks(s,wn,a.memoizedState.cache)}return La(a,s,u)}function v8(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Sn=!0;else{if(!Dp(a,u)&&(s.flags&128)===0)return Sn=!1,TV(a,s,u);Sn=(a.flags&131072)!==0}else Sn=!1,yt&&(s.flags&1048576)!==0&&K_(s,Oc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=Wo(s.elementType),s.type=a,typeof a=="function")L1(a)?(d=nl(a,d),s.tag=1,s=f8(null,s,a,d,u)):(s.tag=0,s=Ap(null,s,a,d,u));else{if(a!=null){var v=a.$$typeof;if(v===O){s.tag=11,s=a8(null,s,a,d,u);break e}else if(v===I){s.tag=14,s=s8(null,s,a,d,u);break e}}throw s=K(a)||a,Error(r(306,s,""))}}return s;case 0:return Ap(a,s,s.type,s.pendingProps,u);case 1:return d=s.type,v=nl(d,s.pendingProps),f8(a,s,d,v,u);case 3:e:{if(be(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var _=s.memoizedState;v=_.element,J1(a,s),Hc(s,d,null,u);var N=s.memoizedState;if(d=N.cache,ks(s,wn,d),d!==_.cache&&Y1(s,[wn],u,!0),Uc(),d=N.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=d8(a,s,d,u);break e}else if(d!==v){v=oi(Error(r(424)),s),zc(v),s=d8(a,s,d,u);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,jt=fi(a.firstChild),jn=s,yt=!0,Ns=null,ci=!0,u=lb(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),d===v){s=La(a,s,u);break e}Gn(a,s,d,u)}s=s.child}return s;case 26:return bf(a,s),a===null?(u=R9(s.type,null,s.pendingProps,null))?s.memoizedState=u:yt||(u=s.type,a=s.pendingProps,d=qf(ue.current).createElement(u),d[sn]=s,d[_n]=a,$n(d,u,a),on(d),s.stateNode=d):s.memoizedState=R9(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ve(s),a===null&&yt&&(d=s.stateNode=T9(s.type,s.pendingProps,ue.current),jn=s,ci=!0,v=jt,Gs(s.type)?(fg=v,jt=fi(d.firstChild)):jt=v),Gn(a,s,s.pendingProps.children,u),bf(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&yt&&((v=d=jt)&&(d=tq(d,s.type,s.pendingProps,ci),d!==null?(s.stateNode=d,jn=s,jt=fi(d.firstChild),ci=!1,v=!0):v=!1),v||Ms(s)),Ve(s),v=s.type,_=s.pendingProps,N=a!==null?a.memoizedProps:null,d=_.children,og(v,_)?d=null:N!==null&&og(v,N)&&(s.flags|=32),s.memoizedState!==null&&(v=sp(a,s,gV,null,null,u),l0._currentValue=v),bf(a,s),Gn(a,s,d,u),s.child;case 6:return a===null&&yt&&((a=u=jt)&&(u=nq(u,s.pendingProps,ci),u!==null?(s.stateNode=u,jn=s,jt=null,a=!0):a=!1),a||Ms(s)),null;case 13:return m8(a,s,u);case 4:return be(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=el(s,null,d,u):Gn(a,s,d,u),s.child;case 11:return a8(a,s,s.type,s.pendingProps,u);case 7:return Gn(a,s,s.pendingProps,u),s.child;case 8:return Gn(a,s,s.pendingProps.children,u),s.child;case 12:return Gn(a,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,ks(s,s.type,d.value),Gn(a,s,d.children,u),s.child;case 9:return v=s.type._context,d=s.pendingProps.children,Qo(s),v=Fn(v),d=d(v),s.flags|=1,Gn(a,s,d,u),s.child;case 14:return s8(a,s,s.type,s.pendingProps,u);case 15:return o8(a,s,s.type,s.pendingProps,u);case 19:return g8(a,s,u);case 31:return xV(a,s,u);case 22:return l8(a,s,u,s.pendingProps);case 24:return Qo(s),d=Fn(wn),a===null?(v=Q1(),v===null&&(v=Lt,_=X1(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),s.memoizedState={parent:d,cache:v},W1(s),ks(s,wn,v)):((a.lanes&u)!==0&&(J1(a,s),Hc(s,null,null,u),Uc()),v=a.memoizedState,_=s.memoizedState,v.parent!==d?(v={parent:d,cache:d},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),ks(s,wn,d)):(d=_.cache,ks(s,wn,d),d!==v.cache&&Y1(s,[wn],u,!0))),Gn(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Pa(a){a.flags|=4}function Op(a,s,u,d,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(F8())a.flags|=8192;else throw Jo=af,Z1}else a.flags&=-16777217}function y8(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!D9(s))if(F8())a.flags|=8192;else throw Jo=af,Z1}function Ef(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?zl():536870912,a.lanes|=s,pu|=s)}function Xc(a,s){if(!yt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Ft(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(s)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=u,s}function AV(a,s,u){var d=s.pendingProps;switch(H1(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Ft(s),null;case 3:return u=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),za(wn),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(nu(s)?Pa(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,F1())),Ft(s),null;case 26:var v=s.type,_=s.memoizedState;return a===null?(Pa(s),_!==null?(Ft(s),y8(s,_)):(Ft(s),Op(s,v,null,d,u))):_?_!==a.memoizedState?(Pa(s),Ft(s),y8(s,_)):(Ft(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&Pa(s),Ft(s),Op(s,v,a,d,u)),null;case 27:if(je(s),u=ue.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Pa(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Ft(s),null}a=Q.current,nu(s)?Z_(s):(a=T9(v,d,u),s.stateNode=a,Pa(s))}return Ft(s),null;case 5:if(je(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Pa(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Ft(s),null}if(_=Q.current,nu(s))Z_(s);else{var N=qf(ue.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?N.createElement(v,{is:d.is}):N.createElement(v)}}_[sn]=s,_[_n]=d;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch($n(_,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Pa(s)}}return Ft(s),Op(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&Pa(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=ue.current,nu(s)){if(a=s.stateNode,u=s.memoizedProps,d=null,v=jn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[sn]=s,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||m9(a.nodeValue,u)),a||Ms(s,!0)}else a=qf(a).createTextNode(d),a[sn]=s,s.stateNode=a}return Ft(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(d=nu(s),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[sn]=s}else Xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),a=!1}else u=F1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(zr(s),s):(zr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ft(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=nu(s),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[sn]=s}else Xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),v=!1}else v=F1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(zr(s),s):(zr(s),null)}return zr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=s.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),Ef(s,s.updateQueue),Ft(s),null);case 4:return Ce(),a===null&&ng(s.stateNode.containerInfo),Ft(s),null;case 10:return za(s.type),Ft(s),null;case 19:if(ee(mn),d=s.memoizedState,d===null)return Ft(s),null;if(v=(s.flags&128)!==0,_=d.rendering,_===null)if(v)Xc(d,!1);else{if(cn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=uf(a),_!==null){for(s.flags|=128,Xc(d,!1),a=_.updateQueue,s.updateQueue=a,Ef(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)$_(u,a),u=u.sibling;return pe(mn,mn.current&1|2),yt&&Da(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&$t()>Cf&&(s.flags|=128,v=!0,Xc(d,!1),s.lanes=4194304)}else{if(!v)if(a=uf(_),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,Ef(s,a),Xc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!yt)return Ft(s),null}else 2*$t()-d.renderingStartTime>Cf&&u!==536870912&&(s.flags|=128,v=!0,Xc(d,!1),s.lanes=4194304);d.isBackwards?(_.sibling=s.child,s.child=_):(a=d.last,a!==null?a.sibling=_:s.child=_,d.last=_)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=$t(),a.sibling=null,u=mn.current,pe(mn,v?u&1|2:u&1),yt&&Da(s,d.treeForkCount),a):(Ft(s),null);case 22:case 23:return zr(s),rp(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),u=s.updateQueue,u!==null&&Ef(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),a!==null&&ee(Zo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),za(wn),Ft(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function CV(a,s){switch(H1(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return za(wn),Ce(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return je(s),null;case 31:if(s.memoizedState!==null){if(zr(s),s.alternate===null)throw Error(r(340));Xo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(zr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ee(mn),null;case 4:return Ce(),null;case 10:return za(s.type),null;case 22:case 23:return zr(s),rp(),a!==null&&ee(Zo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return za(wn),null;case 25:return null;default:return null}}function _8(a,s){switch(H1(s),s.tag){case 3:za(wn),Ce();break;case 26:case 27:case 5:je(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&zr(s);break;case 13:zr(s);break;case 19:ee(mn);break;case 10:za(s.type);break;case 22:case 23:zr(s),rp(),a!==null&&ee(Zo);break;case 24:za(wn)}}function Kc(a,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&a)===a){d=void 0;var _=u.create,N=u.inst;d=_(),N.destroy=d}u=u.next}while(u!==v)}}catch(j){Mt(s,s.return,j)}}function Ls(a,s,u){try{var d=s.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&a)===a){var N=d.inst,j=N.destroy;if(j!==void 0){N.destroy=void 0,v=s;var ne=u,me=j;try{me()}catch(Ee){Mt(v,ne,Ee)}}}d=d.next}while(d!==_)}}catch(Ee){Mt(s,s.return,Ee)}}function b8(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{cb(s,u)}catch(d){Mt(a,a.return,d)}}}function w8(a,s,u){u.props=nl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Mt(a,s,d)}}function Qc(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(v){Mt(a,s,v)}}function Ji(a,s){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){Mt(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Mt(a,s,v)}else u.current=null}function E8(a){var s=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){Mt(a,a.return,v)}}function zp(a,s,u){try{var d=a.stateNode;KV(d,a.type,u,s),d[_n]=s}catch(v){Mt(a,a.return,v)}}function S8(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Gs(a.type)||a.tag===4}function Vp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||S8(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Gs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function qp(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Si));else if(d!==4&&(d===27&&Gs(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(qp(a,s,u),a=a.sibling;a!==null;)qp(a,s,u),a=a.sibling}function Sf(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(d!==4&&(d===27&&Gs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Sf(a,s,u),a=a.sibling;a!==null;)Sf(a,s,u),a=a.sibling}function x8(a){var s=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);$n(s,d,u),s[sn]=a,s[_n]=u}catch(_){Mt(a,a.return,_)}}var Ba=!1,xn=!1,Lp=!1,T8=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function RV(a,s){if(a=a.containerInfo,ag=Ff,a=q_(a),M1(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,j=-1,ne=-1,me=0,Ee=0,Te=a,ve=null;t:for(;;){for(var we;Te!==u||v!==0&&Te.nodeType!==3||(j=N+v),Te!==_||d!==0&&Te.nodeType!==3||(ne=N+d),Te.nodeType===3&&(N+=Te.nodeValue.length),(we=Te.firstChild)!==null;)ve=Te,Te=we;for(;;){if(Te===a)break t;if(ve===u&&++me===v&&(j=N),ve===_&&++Ee===d&&(ne=N),(we=Te.nextSibling)!==null)break;Te=ve,ve=Te.parentNode}Te=we}u=j===-1||ne===-1?null:{start:j,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(sg={focusedElem:a,selectionRange:u},Ff=!1,Ln=s;Ln!==null;)if(s=Ln,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Ln=a;else for(;Ln!==null;){switch(s=Ln,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=s,v=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var Ue=nl(u.type,v);a=d.getSnapshotBeforeUpdate(Ue,_),d.__reactInternalSnapshotBeforeUpdate=a}catch(Je){Mt(u,u.return,Je)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)ug(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ug(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Ln=a;break}Ln=s.return}}function A8(a,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ha(a,u),d&4&&Kc(5,u);break;case 1:if(Ha(a,u),d&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(N){Mt(u,u.return,N)}else{var v=nl(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Mt(u,u.return,N)}}d&64&&b8(u),d&512&&Qc(u,u.return);break;case 3:if(Ha(a,u),d&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{cb(a,s)}catch(N){Mt(u,u.return,N)}}break;case 27:s===null&&d&4&&x8(u);case 26:case 5:Ha(a,u),s===null&&d&4&&E8(u),d&512&&Qc(u,u.return);break;case 12:Ha(a,u);break;case 31:Ha(a,u),d&4&&I8(a,u);break;case 13:Ha(a,u),d&4&&N8(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=qV.bind(null,u),rq(a,u))));break;case 22:if(d=u.memoizedState!==null||Ba,!d){s=s!==null&&s.memoizedState!==null||xn,v=Ba;var _=xn;Ba=d,(xn=s)&&!_?ja(a,u,(u.subtreeFlags&8772)!==0):Ha(a,u),Ba=v,xn=_}break;case 30:break;default:Ha(a,u)}}function C8(a){var s=a.alternate;s!==null&&(a.alternate=null,C8(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&_s(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,pr=!1;function Ua(a,s,u){for(u=u.child;u!==null;)R8(a,s,u),u=u.sibling}function R8(a,s,u){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:xn||Ji(u,s),Ua(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xn||Ji(u,s);var d=Xt,v=pr;Gs(u.type)&&(Xt=u.stateNode,pr=!1),Ua(a,s,u),a0(u.stateNode),Xt=d,pr=v;break;case 5:xn||Ji(u,s);case 6:if(d=Xt,v=pr,Xt=null,Ua(a,s,u),Xt=d,pr=v,Xt!==null)if(pr)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(u.stateNode)}catch(_){Mt(u,s,_)}else try{Xt.removeChild(u.stateNode)}catch(_){Mt(u,s,_)}break;case 18:Xt!==null&&(pr?(a=Xt,b9(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Su(a)):b9(Xt,u.stateNode));break;case 4:d=Xt,v=pr,Xt=u.stateNode.containerInfo,pr=!0,Ua(a,s,u),Xt=d,pr=v;break;case 0:case 11:case 14:case 15:Ls(2,u,s),xn||Ls(4,u,s),Ua(a,s,u);break;case 1:xn||(Ji(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&w8(u,s,d)),Ua(a,s,u);break;case 21:Ua(a,s,u);break;case 22:xn=(d=xn)||u.memoizedState!==null,Ua(a,s,u),xn=d;break;default:Ua(a,s,u)}}function I8(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Su(a)}catch(u){Mt(s,s.return,u)}}}function N8(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Su(a)}catch(u){Mt(s,s.return,u)}}function IV(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new T8),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new T8),s;default:throw Error(r(435,a.tag))}}function xf(a,s){var u=IV(a);s.forEach(function(d){if(!u.has(d)){u.add(d);var v=LV.bind(null,a,d);d.then(v,v)}})}function gr(a,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],_=a,N=s,j=N;e:for(;j!==null;){switch(j.tag){case 27:if(Gs(j.type)){Xt=j.stateNode,pr=!1;break e}break;case 5:Xt=j.stateNode,pr=!1;break e;case 3:case 4:Xt=j.stateNode.containerInfo,pr=!0;break e}j=j.return}if(Xt===null)throw Error(r(160));R8(_,N,v),Xt=null,pr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)M8(s,a),s=s.sibling}var Ii=null;function M8(a,s){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:gr(s,a),vr(a),d&4&&(Ls(3,a,a.return),Kc(3,a),Ls(5,a,a.return));break;case 1:gr(s,a),vr(a),d&512&&(xn||u===null||Ji(u,u.return)),d&64&&Ba&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=Ii;if(gr(s,a),vr(a),d&512&&(xn||u===null||Ji(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Wr]||_[sn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),$n(_,d,u),_[sn]=a,on(_),d=_;break e;case"link":var N=M9("link","href",v).get(d+(u.href||""));if(N){for(var j=0;j<N.length;j++)if(_=N[j],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(j,1);break t}}_=v.createElement(d),$n(_,d,u),v.head.appendChild(_);break;case"meta":if(N=M9("meta","content",v).get(d+(u.content||""))){for(j=0;j<N.length;j++)if(_=N[j],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(j,1);break t}}_=v.createElement(d),$n(_,d,u),v.head.appendChild(_);break;default:throw Error(r(468,d))}_[sn]=a,on(_),d=_}a.stateNode=d}else k9(v,a.type,a.stateNode);else a.stateNode=N9(v,d,a.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?k9(v,a.type,a.stateNode):N9(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&zp(a,a.memoizedProps,u.memoizedProps)}break;case 27:gr(s,a),vr(a),d&512&&(xn||u===null||Ji(u,u.return)),u!==null&&d&4&&zp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(gr(s,a),vr(a),d&512&&(xn||u===null||Ji(u,u.return)),a.flags&32){v=a.stateNode;try{mr(v,"")}catch(Ue){Mt(a,a.return,Ue)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,zp(a,v,u!==null?u.memoizedProps:v)),d&1024&&(Lp=!0);break;case 6:if(gr(s,a),vr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ue){Mt(a,a.return,Ue)}}break;case 3:if(Bf=null,v=Ii,Ii=Lf(s.containerInfo),gr(s,a),Ii=v,vr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(Ue){Mt(a,a.return,Ue)}Lp&&(Lp=!1,k8(a));break;case 4:d=Ii,Ii=Lf(a.stateNode.containerInfo),gr(s,a),vr(a),Ii=d;break;case 12:gr(s,a),vr(a);break;case 31:gr(s,a),vr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,xf(a,d)));break;case 13:gr(s,a),vr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Af=$t()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,xf(a,d)));break;case 22:v=a.memoizedState!==null;var ne=u!==null&&u.memoizedState!==null,me=Ba,Ee=xn;if(Ba=me||v,xn=Ee||ne,gr(s,a),xn=Ee,Ba=me,vr(a),d&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||ne||Ba||xn||rl(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){ne=u=s;try{if(_=ne.stateNode,v)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{j=ne.stateNode;var Te=ne.memoizedProps.style,ve=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;j.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ue){Mt(ne,ne.return,Ue)}}}else if(s.tag===6){if(u===null){ne=s;try{ne.stateNode.nodeValue=v?"":ne.memoizedProps}catch(Ue){Mt(ne,ne.return,Ue)}}}else if(s.tag===18){if(u===null){ne=s;try{var we=ne.stateNode;v?w9(we,!0):w9(ne.stateNode,!1)}catch(Ue){Mt(ne,ne.return,Ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,xf(a,u))));break;case 19:gr(s,a),vr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,xf(a,d)));break;case 30:break;case 21:break;default:gr(s,a),vr(a)}}function vr(a){var s=a.flags;if(s&2){try{for(var u,d=a.return;d!==null;){if(S8(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Vp(a);Sf(a,_,v);break;case 5:var N=u.stateNode;u.flags&32&&(mr(N,""),u.flags&=-33);var j=Vp(a);Sf(a,j,N);break;case 3:case 4:var ne=u.stateNode.containerInfo,me=Vp(a);qp(a,me,ne);break;default:throw Error(r(161))}}catch(Ee){Mt(a,a.return,Ee)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function k8(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;k8(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ha(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)A8(a,s.alternate,s),s=s.sibling}function rl(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),rl(s);break;case 1:Ji(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&w8(s,s.return,u),rl(s);break;case 27:a0(s.stateNode);case 26:case 5:Ji(s,s.return),rl(s);break;case 22:s.memoizedState===null&&rl(s);break;case 30:rl(s);break;default:rl(s)}a=a.sibling}}function ja(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,v=a,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:ja(v,_,u),Kc(4,_);break;case 1:if(ja(v,_,u),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(me){Mt(d,d.return,me)}if(d=_,v=d.updateQueue,v!==null){var j=d.stateNode;try{var ne=v.shared.hiddenCallbacks;if(ne!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ne.length;v++)ub(ne[v],j)}catch(me){Mt(d,d.return,me)}}u&&N&64&&b8(_),Qc(_,_.return);break;case 27:x8(_);case 26:case 5:ja(v,_,u),u&&d===null&&N&4&&E8(_),Qc(_,_.return);break;case 12:ja(v,_,u);break;case 31:ja(v,_,u),u&&N&4&&I8(v,_);break;case 13:ja(v,_,u),u&&N&4&&N8(v,_);break;case 22:_.memoizedState===null&&ja(v,_,u),Qc(_,_.return);break;case 30:break;default:ja(v,_,u)}s=s.sibling}}function Pp(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Vc(u))}function Bp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Vc(a))}function Ni(a,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)D8(a,s,u,d),s=s.sibling}function D8(a,s,u,d){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Ni(a,s,u,d),v&2048&&Kc(9,s);break;case 1:Ni(a,s,u,d);break;case 3:Ni(a,s,u,d),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Vc(a)));break;case 12:if(v&2048){Ni(a,s,u,d),a=s.stateNode;try{var _=s.memoizedProps,N=_.id,j=_.onPostCommit;typeof j=="function"&&j(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){Mt(s,s.return,ne)}}else Ni(a,s,u,d);break;case 31:Ni(a,s,u,d);break;case 13:Ni(a,s,u,d);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?Ni(a,s,u,d):Zc(a,s):_._visibility&2?Ni(a,s,u,d):(_._visibility|=2,fu(a,s,u,d,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Pp(N,s);break;case 24:Ni(a,s,u,d),v&2048&&Bp(s.alternate,s);break;default:Ni(a,s,u,d)}}function fu(a,s,u,d,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,N=s,j=u,ne=d,me=N.flags;switch(N.tag){case 0:case 11:case 15:fu(_,N,j,ne,v),Kc(8,N);break;case 23:break;case 22:var Ee=N.stateNode;N.memoizedState!==null?Ee._visibility&2?fu(_,N,j,ne,v):Zc(_,N):(Ee._visibility|=2,fu(_,N,j,ne,v)),v&&me&2048&&Pp(N.alternate,N);break;case 24:fu(_,N,j,ne,v),v&&me&2048&&Bp(N.alternate,N);break;default:fu(_,N,j,ne,v)}s=s.sibling}}function Zc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,d=s,v=d.flags;switch(d.tag){case 22:Zc(u,d),v&2048&&Pp(d.alternate,d);break;case 24:Zc(u,d),v&2048&&Bp(d.alternate,d);break;default:Zc(u,d)}s=s.sibling}}var Wc=8192;function du(a,s,u){if(a.subtreeFlags&Wc)for(a=a.child;a!==null;)O8(a,s,u),a=a.sibling}function O8(a,s,u){switch(a.tag){case 26:du(a,s,u),a.flags&Wc&&a.memoizedState!==null&&pq(u,Ii,a.memoizedState,a.memoizedProps);break;case 5:du(a,s,u);break;case 3:case 4:var d=Ii;Ii=Lf(a.stateNode.containerInfo),du(a,s,u),Ii=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Wc,Wc=16777216,du(a,s,u),Wc=d):du(a,s,u));break;default:du(a,s,u)}}function z8(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Jc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Ln=d,q8(d,a)}z8(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)V8(a),a=a.sibling}function V8(a){switch(a.tag){case 0:case 11:case 15:Jc(a),a.flags&2048&&Ls(9,a,a.return);break;case 3:Jc(a);break;case 12:Jc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Tf(a)):Jc(a);break;default:Jc(a)}}function Tf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Ln=d,q8(d,a)}z8(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),Tf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Tf(s));break;default:Tf(s)}a=a.sibling}}function q8(a,s){for(;Ln!==null;){var u=Ln;switch(u.tag){case 0:case 11:case 15:Ls(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Vc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Ln=d;else e:for(u=a;Ln!==null;){d=Ln;var v=d.sibling,_=d.return;if(C8(d),d===u){Ln=null;break e}if(v!==null){v.return=_,Ln=v;break e}Ln=_}}}var NV={getCacheForType:function(a){var s=Fn(wn),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return Fn(wn).controller.signal}},MV=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Lt=null,ht=null,dt=0,Nt=0,Vr=null,Ps=!1,mu=!1,Up=!1,Fa=0,cn=0,Bs=0,il=0,Hp=0,qr=0,pu=0,e0=null,yr=null,jp=!1,Af=0,L8=0,Cf=1/0,Rf=null,Us=null,kn=0,Hs=null,gu=null,Ga=0,Fp=0,Gp=null,P8=null,t0=0,$p=null;function Lr(){return(Rt&2)!==0&&dt!==0?dt&-dt:$.T!==null?Wp():Vl()}function B8(){if(qr===0)if((dt&536870912)===0||yt){var a=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),qr=a}else qr=536870912;return a=Or.current,a!==null&&(a.flags|=32),qr}function _r(a,s,u){(a===Lt&&(Nt===2||Nt===9)||a.cancelPendingCommit!==null)&&(vu(a,0),js(a,dt,qr,!1)),Sa(a,u),((Rt&2)===0||a!==Lt)&&(a===Lt&&((Rt&2)===0&&(il|=u),cn===4&&js(a,dt,qr,!1)),ea(a))}function U8(a,s,u){if((Rt&6)!==0)throw Error(r(327));var d=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Cr(a,s),v=d?OV(a,s):Xp(a,s,!0),_=d;do{if(v===0){mu&&!d&&js(a,s,0,!1);break}else{if(u=a.current.alternate,_&&!kV(u)){v=Xp(a,s,!1),_=!1;continue}if(v===2){if(_=s,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var j=a;v=e0;var ne=j.current.memoizedState.isDehydrated;if(ne&&(vu(j,N).flags|=256),N=Xp(j,N,!1),N!==2){if(Up&&!ne){j.errorRecoveryDisabledLanes|=_,il|=_,v=4;break e}_=yr,yr=v,_!==null&&(yr===null?yr=_:yr.push.apply(yr,_))}v=N}if(_=!1,v!==2)continue}}if(v===1){vu(a,0),js(a,s,0,!0);break}e:{switch(d=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:js(d,s,qr,!Ps);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Af+300-$t(),10<v)){if(js(d,s,qr,!Ps),Qr(d,0,!0)!==0)break e;Ga=s,d.timeoutHandle=y9(H8.bind(null,d,u,yr,Rf,jp,s,qr,il,pu,Ps,_,"Throttled",-0,0),v);break e}H8(d,u,yr,Rf,jp,s,qr,il,pu,Ps,_,null,-0,0)}}break}while(!0);ea(a)}function H8(a,s,u,d,v,_,N,j,ne,me,Ee,Te,ve,we){if(a.timeoutHandle=-1,Te=s.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},O8(s,_,Te);var Ue=(_&62914560)===_?Af-$t():(_&4194048)===_?L8-$t():0;if(Ue=gq(Te,Ue),Ue!==null){Ga=_,a.cancelPendingCommit=Ue(Q8.bind(null,a,s,_,u,d,v,N,j,ne,Ee,Te,null,ve,we)),js(a,_,N,!me);return}}Q8(a,s,_,u,d,v,N,j,ne)}function kV(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],_=v.getSnapshot;v=v.value;try{if(!kr(_(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function js(a,s,u,d){s&=~Hp,s&=~il,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var v=s;0<v;){var _=31-Jt(v),N=1<<_;d[_]=-1,v&=~N}u!==0&&xa(a,u,s)}function If(){return(Rt&6)===0?(n0(0),!1):!0}function Yp(){if(ht!==null){if(Nt===0)var a=ht.return;else a=ht,Oa=Ko=null,up(a),ou=null,Lc=0,a=ht;for(;a!==null;)_8(a.alternate,a),a=a.return;ht=null}}function vu(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,WV(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ga=0,Yp(),Lt=a,ht=u=ka(a.current,null),dt=s,Nt=0,Vr=null,Ps=!1,mu=Cr(a,s),Up=!1,pu=qr=Hp=il=Bs=cn=0,yr=e0=null,jp=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var v=31-Jt(d),_=1<<v;s|=a[v],d&=~_}return Fa=s,Kh(),u}function j8(a,s){lt=null,$.H=$c,s===su||s===rf?(s=ab(),Nt=3):s===Z1?(s=ab(),Nt=4):Nt=s===Tp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vr=s,ht===null&&(cn=1,yf(a,oi(s,a.current)))}function F8(){var a=Or.current;return a===null?!0:(dt&4194048)===dt?hi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===hi:!1}function G8(){var a=$.H;return $.H=$c,a===null?$c:a}function $8(){var a=$.A;return $.A=NV,a}function Nf(){cn=4,Ps||(dt&4194048)!==dt&&Or.current!==null||(mu=!0),(Bs&134217727)===0&&(il&134217727)===0||Lt===null||js(Lt,dt,qr,!1)}function Xp(a,s,u){var d=Rt;Rt|=2;var v=G8(),_=$8();(Lt!==a||dt!==s)&&(Rf=null,vu(a,s)),s=!1;var N=cn;e:do try{if(Nt!==0&&ht!==null){var j=ht,ne=Vr;switch(Nt){case 8:Yp(),N=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(s=!0);var me=Nt;if(Nt=0,Vr=null,yu(a,j,ne,me),u&&mu){N=0;break e}break;default:me=Nt,Nt=0,Vr=null,yu(a,j,ne,me)}}DV(),N=cn;break}catch(Ee){j8(a,Ee)}while(!0);return s&&a.shellSuspendCounter++,Oa=Ko=null,Rt=d,$.H=v,$.A=_,ht===null&&(Lt=null,dt=0,Kh()),N}function DV(){for(;ht!==null;)Y8(ht)}function OV(a,s){var u=Rt;Rt|=2;var d=G8(),v=$8();Lt!==a||dt!==s?(Rf=null,Cf=$t()+500,vu(a,s)):mu=Cr(a,s);e:do try{if(Nt!==0&&ht!==null){s=ht;var _=Vr;t:switch(Nt){case 1:Nt=0,Vr=null,yu(a,s,_,1);break;case 2:case 9:if(rb(_)){Nt=0,Vr=null,X8(s);break}s=function(){Nt!==2&&Nt!==9||Lt!==a||(Nt=7),ea(a)},_.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:rb(_)?(Nt=0,Vr=null,X8(s)):(Nt=0,Vr=null,yu(a,s,_,7));break;case 5:var N=null;switch(ht.tag){case 26:N=ht.memoizedState;case 5:case 27:var j=ht;if(N?D9(N):j.stateNode.complete){Nt=0,Vr=null;var ne=j.sibling;if(ne!==null)ht=ne;else{var me=j.return;me!==null?(ht=me,Mf(me)):ht=null}break t}}Nt=0,Vr=null,yu(a,s,_,5);break;case 6:Nt=0,Vr=null,yu(a,s,_,6);break;case 8:Yp(),cn=6;break e;default:throw Error(r(462))}}zV();break}catch(Ee){j8(a,Ee)}while(!0);return Oa=Ko=null,$.H=d,$.A=v,Rt=u,ht!==null?0:(Lt=null,dt=0,Kh(),cn)}function zV(){for(;ht!==null&&!Vn();)Y8(ht)}function Y8(a){var s=v8(a.alternate,a,Fa);a.memoizedProps=a.pendingProps,s===null?Mf(a):ht=s}function X8(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=h8(u,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=h8(u,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:up(s);default:_8(u,s),s=ht=$_(s,Fa),s=v8(u,s,Fa)}a.memoizedProps=a.pendingProps,s===null?Mf(a):ht=s}function yu(a,s,u,d){Oa=Ko=null,up(s),ou=null,Lc=0;var v=s.return;try{if(SV(a,v,s,u,dt)){cn=1,yf(a,oi(u,a.current)),ht=null;return}}catch(_){if(v!==null)throw ht=v,_;cn=1,yf(a,oi(u,a.current)),ht=null;return}s.flags&32768?(yt||d===1?a=!0:mu||(dt&536870912)!==0?a=!1:(Ps=a=!0,(d===2||d===9||d===3||d===6)&&(d=Or.current,d!==null&&d.tag===13&&(d.flags|=16384))),K8(s,a)):Mf(s)}function Mf(a){var s=a;do{if((s.flags&32768)!==0){K8(s,Ps);return}a=s.return;var u=AV(s.alternate,s,Fa);if(u!==null){ht=u;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=a}while(s!==null);cn===0&&(cn=5)}function K8(a,s){do{var u=CV(a.alternate,a);if(u!==null){u.flags&=32767,ht=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){ht=a;return}ht=a=u}while(a!==null);cn=6,ht=null}function Q8(a,s,u,d,v,_,N,j,ne){a.cancelPendingCommit=null;do kf();while(kn!==0);if((Rt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=V1,wc(a,u,_,N,j,ne),a===Lt&&(ht=Lt=null,dt=0),gu=s,Hs=a,Ga=u,Fp=_,Gp=v,P8=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,PV(qn,function(){return t9(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,v=W.p,W.p=2,N=Rt,Rt|=4;try{RV(a,s,u)}finally{Rt=N,W.p=v,$.T=d}}kn=1,Z8(),W8(),J8()}}function Z8(){if(kn===1){kn=0;var a=Hs,s=gu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=W.p;W.p=2;var v=Rt;Rt|=4;try{M8(s,a);var _=sg,N=q_(a.containerInfo),j=_.focusedElem,ne=_.selectionRange;if(N!==j&&j&&j.ownerDocument&&V_(j.ownerDocument.documentElement,j)){if(ne!==null&&M1(j)){var me=ne.start,Ee=ne.end;if(Ee===void 0&&(Ee=me),"selectionStart"in j)j.selectionStart=me,j.selectionEnd=Math.min(Ee,j.value.length);else{var Te=j.ownerDocument||document,ve=Te&&Te.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),Ue=j.textContent.length,Je=Math.min(ne.start,Ue),zt=ne.end===void 0?Je:Math.min(ne.end,Ue);!we.extend&&Je>zt&&(N=zt,zt=Je,Je=N);var le=z_(j,Je),ae=z_(j,zt);if(le&&ae&&(we.rangeCount!==1||we.anchorNode!==le.node||we.anchorOffset!==le.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var fe=Te.createRange();fe.setStart(le.node,le.offset),we.removeAllRanges(),Je>zt?(we.addRange(fe),we.extend(ae.node,ae.offset)):(fe.setEnd(ae.node,ae.offset),we.addRange(fe))}}}}for(Te=[],we=j;we=we.parentNode;)we.nodeType===1&&Te.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Te.length;j++){var Se=Te[j];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Ff=!!ag,sg=ag=null}finally{Rt=v,W.p=d,$.T=u}}a.current=s,kn=2}}function W8(){if(kn===2){kn=0;var a=Hs,s=gu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=W.p;W.p=2;var v=Rt;Rt|=4;try{A8(a,s.alternate,s)}finally{Rt=v,W.p=d,$.T=u}}kn=3}}function J8(){if(kn===4||kn===3){kn=0,Ht();var a=Hs,s=gu,u=Ga,d=P8;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kn=5:(kn=0,gu=Hs=null,e9(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Us=null),wi(u),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(rn,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=$.T,v=W.p,W.p=2,$.T=null;try{for(var _=a.onRecoverableError,N=0;N<d.length;N++){var j=d[N];_(j.value,{componentStack:j.stack})}}finally{$.T=s,W.p=v}}(Ga&3)!==0&&kf(),ea(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===$p?t0++:(t0=0,$p=a):t0=0,n0(0)}}function e9(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Vc(s)))}function kf(){return Z8(),W8(),J8(),t9()}function t9(){if(kn!==5)return!1;var a=Hs,s=Fp;Fp=0;var u=wi(Ga),d=$.T,v=W.p;try{W.p=32>u?32:u,$.T=null,u=Gp,Gp=null;var _=Hs,N=Ga;if(kn=0,gu=Hs=null,Ga=0,(Rt&6)!==0)throw Error(r(331));var j=Rt;if(Rt|=4,V8(_.current),D8(_,_.current,N,u),Rt=j,n0(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(rn,_)}catch{}return!0}finally{W.p=v,$.T=d,e9(a,s)}}function n9(a,s,u){s=oi(u,s),s=xp(a.stateNode,s,2),a=zs(a,s,2),a!==null&&(Sa(a,2),ea(a))}function Mt(a,s,u){if(a.tag===3)n9(a,a,u);else for(;s!==null;){if(s.tag===3){n9(s,a,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Us===null||!Us.has(d))){a=oi(u,a),u=r8(2),d=zs(s,u,2),d!==null&&(i8(u,d,s,a),Sa(d,2),ea(d));break}}s=s.return}}function Kp(a,s,u){var d=a.pingCache;if(d===null){d=a.pingCache=new MV;var v=new Set;d.set(s,v)}else v=d.get(s),v===void 0&&(v=new Set,d.set(s,v));v.has(u)||(Up=!0,v.add(u),a=VV.bind(null,a,s,u),s.then(a,a))}function VV(a,s,u){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Lt===a&&(dt&u)===u&&(cn===4||cn===3&&(dt&62914560)===dt&&300>$t()-Af?(Rt&2)===0&&vu(a,0):Hp|=u,pu===dt&&(pu=0)),ea(a)}function r9(a,s){s===0&&(s=zl()),a=$o(a,s),a!==null&&(Sa(a,s),ea(a))}function qV(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),r9(a,u)}function LV(a,s){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),r9(a,u)}function PV(a,s){return It(a,s)}var Df=null,_u=null,Qp=!1,Of=!1,Zp=!1,Fs=0;function ea(a){a!==_u&&a.next===null&&(_u===null?Df=_u=a:_u=_u.next=a),Of=!0,Qp||(Qp=!0,UV())}function n0(a,s){if(!Zp&&Of){Zp=!0;do for(var u=!1,d=Df;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var N=d.suspendedLanes,j=d.pingedLanes;_=(1<<31-Jt(42|a)+1)-1,_&=v&~(N&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,o9(d,_))}else _=dt,_=Qr(d,d===Lt?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Cr(d,_)||(u=!0,o9(d,_));d=d.next}while(u);Zp=!1}}function BV(){i9()}function i9(){Of=Qp=!1;var a=0;Fs!==0&&ZV()&&(a=Fs);for(var s=$t(),u=null,d=Df;d!==null;){var v=d.next,_=a9(d,s);_===0?(d.next=null,u===null?Df=v:u.next=v,v===null&&(_u=u)):(u=d,(a!==0||(_&3)!==0)&&(Of=!0)),d=v}kn!==0&&kn!==5||n0(a),Fs!==0&&(Fs=0)}function a9(a,s){for(var u=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-Jt(_),j=1<<N,ne=v[N];ne===-1?((j&u)===0||(j&d)!==0)&&(v[N]=bc(j,s)):ne<=s&&(a.expiredLanes|=j),_&=~j}if(s=Lt,u=dt,u=Qr(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===s&&(Nt===2||Nt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Mn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Cr(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(d!==null&&Mn(d),wi(u)){case 2:case 8:u=hr;break;case 32:u=qn;break;case 268435456:u=bi;break;default:u=qn}return d=s9.bind(null,a),u=It(u,d),a.callbackPriority=s,a.callbackNode=u,s}return d!==null&&d!==null&&Mn(d),a.callbackPriority=2,a.callbackNode=null,2}function s9(a,s){if(kn!==0&&kn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(kf()&&a.callbackNode!==u)return null;var d=dt;return d=Qr(a,a===Lt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(U8(a,d,s),a9(a,$t()),a.callbackNode!=null&&a.callbackNode===u?s9.bind(null,a):null)}function o9(a,s){if(kf())return null;U8(a,s,!0)}function UV(){JV(function(){(Rt&6)!==0?It(cr,BV):i9()})}function Wp(){if(Fs===0){var a=iu;a===0&&(a=Xr,Xr<<=1,(Xr&261888)===0&&(Xr=256)),Fs=a}return Fs}function l9(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:jl(""+a)}function u9(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function HV(a,s,u,d,v){if(s==="submit"&&u&&u.stateNode===v){var _=l9((v[_n]||null).action),N=d.submitter;N&&(s=(s=N[_n]||null)?l9(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var j=new Yi("action","action",null,d,v);a.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Fs!==0){var ne=N?u9(v,N):new FormData(v);yp(u,{pending:!0,data:ne,method:v.method,action:_},null,ne)}}else typeof _=="function"&&(j.preventDefault(),ne=N?u9(v,N):new FormData(v),yp(u,{pending:!0,data:ne,method:v.method,action:_},_,ne))},currentTarget:v}]})}}for(var Jp=0;Jp<z1.length;Jp++){var eg=z1[Jp],jV=eg.toLowerCase(),FV=eg[0].toUpperCase()+eg.slice(1);Ri(jV,"on"+FV)}Ri(B_,"onAnimationEnd"),Ri(U_,"onAnimationIteration"),Ri(H_,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(sV,"onTransitionRun"),Ri(oV,"onTransitionStart"),Ri(lV,"onTransitionCancel"),Ri(j_,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var r0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(r0));function c9(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],v=d.event;d=d.listeners;e:{var _=void 0;if(s)for(var N=d.length-1;0<=N;N--){var j=d[N],ne=j.instance,me=j.currentTarget;if(j=j.listener,ne!==_&&v.isPropagationStopped())break e;_=j,v.currentTarget=me;try{_(v)}catch(Ee){Xh(Ee)}v.currentTarget=null,_=ne}else for(N=0;N<d.length;N++){if(j=d[N],ne=j.instance,me=j.currentTarget,j=j.listener,ne!==_&&v.isPropagationStopped())break e;_=j,v.currentTarget=me;try{_(v)}catch(Ee){Xh(Ee)}v.currentTarget=null,_=ne}}}}function ft(a,s){var u=s[Aa];u===void 0&&(u=s[Aa]=new Set);var d=a+"__bubble";u.has(d)||(h9(s,a,2,!1),u.add(d))}function tg(a,s,u){var d=0;s&&(d|=4),h9(u,a,d,s)}var zf="_reactListening"+Math.random().toString(36).slice(2);function ng(a){if(!a[zf]){a[zf]=!0,Mo.forEach(function(u){u!=="selectionchange"&&(GV.has(u)||tg(u,!1,a),tg(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[zf]||(s[zf]=!0,tg("selectionchange",!1,s))}}function h9(a,s,u,d){switch(B9(s)){case 2:var v=_q;break;case 8:v=bq;break;default:v=vg}u=v.bind(null,s,u,a),v=void 0,!Lo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(s,u,{capture:!0,passive:v}):a.addEventListener(s,u,!0):v!==void 0?a.addEventListener(s,u,{passive:v}):a.addEventListener(s,u,!1)}function rg(a,s,u,d,v){var _=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var j=d.stateNode.containerInfo;if(j===v)break;if(N===4)for(N=d.return;N!==null;){var ne=N.tag;if((ne===3||ne===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;j!==null;){if(N=Jr(j),N===null)return;if(ne=N.tag,ne===5||ne===6||ne===26||ne===27){d=_=N;continue e}j=j.parentNode}}d=d.return}Ts(function(){var me=_,Ee=ri(u),Te=[];e:{var ve=F_.get(a);if(ve!==void 0){var we=Yi,Ue=a;switch(a){case"keypress":if(Bo(u)===0)break e;case"keydown":case"keyup":we=Gh;break;case"focusin":Ue="focus",we=Ho;break;case"focusout":Ue="blur",we=Ho;break;case"beforeblur":case"afterblur":we=Ho;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=S;break;case B_:case U_:case H_:we=Lh;break;case j_:we=X;break;case"scroll":case"scrollend":we=Cc;break;case"wheel":we=_e;break;case"copy":case"cut":case"paste":we=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Ma;break;case"toggle":case"beforetoggle":we=ot}var Je=(s&4)!==0,zt=!Je&&(a==="scroll"||a==="scrollend"),le=Je?ve!==null?ve+"Capture":null:ve;Je=[];for(var ae=me,fe;ae!==null;){var Se=ae;if(fe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||fe===null||le===null||(Se=xi(ae,le),Se!=null&&Je.push(i0(ae,Se,fe))),zt)break;ae=ae.return}0<Je.length&&(ve=new we(ve,Ue,null,u,Ee),Te.push({event:ve,listeners:Je}))}}if((s&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ve&&u!==xc&&(Ue=u.relatedTarget||u.fromElement)&&(Jr(Ue)||Ue[Nr]))break e;if((we||ve)&&(ve=Ee.window===Ee?Ee:(ve=Ee.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(Ue=u.relatedTarget||u.toElement,we=me,Ue=Ue?Jr(Ue):null,Ue!==null&&(zt=o(Ue),Je=Ue.tag,Ue!==zt||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(we=null,Ue=me),we!==Ue)){if(Je=Rc,Se="onMouseLeave",le="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(Je=Ma,Se="onPointerLeave",le="onPointerEnter",ae="pointer"),zt=we==null?ve:Qn(we),fe=Ue==null?ve:Qn(Ue),ve=new Je(Se,ae+"leave",we,u,Ee),ve.target=zt,ve.relatedTarget=fe,Se=null,Jr(Ee)===me&&(Je=new Je(le,ae+"enter",Ue,u,Ee),Je.target=fe,Je.relatedTarget=zt,Se=Je),zt=Se,we&&Ue)t:{for(Je=$V,le=we,ae=Ue,fe=0,Se=le;Se;Se=Je(Se))fe++;Se=0;for(var Ke=ae;Ke;Ke=Je(Ke))Se++;for(;0<fe-Se;)le=Je(le),fe--;for(;0<Se-fe;)ae=Je(ae),Se--;for(;fe--;){if(le===ae||ae!==null&&le===ae.alternate){Je=le;break t}le=Je(le),ae=Je(ae)}Je=null}else Je=null;we!==null&&f9(Te,ve,we,Je,!1),Ue!==null&&zt!==null&&f9(Te,zt,Ue,Je,!0)}}e:{if(ve=me?Qn(me):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var xt=I_;else if(C_(ve))if(N_)xt=rV;else{xt=tV;var Fe=eV}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?me&&Hl(me.elementType)&&(xt=I_):xt=nV;if(xt&&(xt=xt(a,me))){R_(Te,xt,u,Ee);break e}Fe&&Fe(a,ve,me),a==="focusout"&&me&&ve.type==="number"&&me.memoizedProps.value!=null&&Vo(ve,"number",ve.value)}switch(Fe=me?Qn(me):window,a){case"focusin":(C_(Fe)||Fe.contentEditable==="true")&&(Ql=Fe,k1=me,Dc=null);break;case"focusout":Dc=k1=Ql=null;break;case"mousedown":D1=!0;break;case"contextmenu":case"mouseup":case"dragend":D1=!1,L_(Te,u,Ee);break;case"selectionchange":if(aV)break;case"keydown":case"keyup":L_(Te,u,Ee)}var ut;if(Ct)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Kl?jo(a,u)&&(mt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(Qi&&u.locale!=="ko"&&(Kl||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Kl&&(ut=Ac()):($i=Ee,Tc="value"in $i?$i.value:$i.textContent,Kl=!0)),Fe=Vf(me,mt),0<Fe.length&&(mt=new Ki(mt,a,null,u,Ee),Te.push({event:mt,listeners:Fe}),ut?mt.data=ut:(ut=Xl(u),ut!==null&&(mt.data=ut)))),(ut=ai?Qz(a,u):Zz(a,u))&&(mt=Vf(me,"onBeforeInput"),0<mt.length&&(Fe=new Ki("onBeforeInput","beforeinput",null,u,Ee),Te.push({event:Fe,listeners:mt}),Fe.data=ut)),HV(Te,a,me,u,Ee)}c9(Te,s)})}function i0(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Vf(a,s){for(var u=s+"Capture",d=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=xi(a,u),v!=null&&d.unshift(i0(a,v,_)),v=xi(a,s),v!=null&&d.push(i0(a,v,_))),a.tag===3)return d;a=a.return}return[]}function $V(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function f9(a,s,u,d,v){for(var _=s._reactName,N=[];u!==null&&u!==d;){var j=u,ne=j.alternate,me=j.stateNode;if(j=j.tag,ne!==null&&ne===d)break;j!==5&&j!==26&&j!==27||me===null||(ne=me,v?(me=xi(u,_),me!=null&&N.unshift(i0(u,me,ne))):v||(me=xi(u,_),me!=null&&N.push(i0(u,me,ne)))),u=u.return}N.length!==0&&a.push({event:s,listeners:N})}var YV=/\r\n?/g,XV=/\u0000|\uFFFD/g;function d9(a){return(typeof a=="string"?a:""+a).replace(YV,`
`).replace(XV,"")}function m9(a,s){return s=d9(s),d9(a)===s}function Ot(a,s,u,d,v,_){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||mr(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&mr(a,""+d);break;case"className":nr(a,"class",d);break;case"tabIndex":nr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(a,u,d);break;case"style":Sc(a,d,_);break;case"data":if(s!=="object"){nr(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=jl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&Ot(a,s,"name",v.name,v,null),Ot(a,s,"formEncType",v.formEncType,v,null),Ot(a,s,"formMethod",v.formMethod,v,null),Ot(a,s,"formTarget",v.formTarget,v,null)):(Ot(a,s,"encType",v.encType,v,null),Ot(a,s,"method",v.method,v,null),Ot(a,s,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=jl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Si);break;case"onScroll":d!=null&&ft("scroll",a);break;case"onScrollEnd":d!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=jl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":ft("beforetoggle",a),ft("toggle",a),ws(a,"popover",d);break;case"xlinkActuate":ln(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ln(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ln(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ln(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ln(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ln(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ln(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ln(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ln(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ws(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=zh.get(u)||u,ws(a,u,d))}}function ig(a,s,u,d,v,_){switch(u){case"style":Sc(a,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?mr(a,d):(typeof d=="number"||typeof d=="bigint")&&mr(a,""+d);break;case"onScroll":d!=null&&ft("scroll",a);break;case"onScrollEnd":d!=null&&ft("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),_=a[_n]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(s,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,d,v);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):ws(a,u,d)}}}function $n(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var d=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ot(a,s,_,N,u,null)}}v&&Ot(a,s,"srcSet",u.srcSet,u,null),d&&Ot(a,s,"src",u.src,u,null);return;case"input":ft("invalid",a);var j=_=N=v=null,ne=null,me=null;for(d in u)if(u.hasOwnProperty(d)){var Ee=u[d];if(Ee!=null)switch(d){case"name":v=Ee;break;case"type":N=Ee;break;case"checked":ne=Ee;break;case"defaultChecked":me=Ee;break;case"value":_=Ee;break;case"defaultValue":j=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,s));break;default:Ot(a,s,d,Ee,u,null)}}Ul(a,_,j,ne,me,N,v,!1);return;case"select":ft("invalid",a),d=N=_=null;for(v in u)if(u.hasOwnProperty(v)&&(j=u[v],j!=null))switch(v){case"value":_=j;break;case"defaultValue":N=j;break;case"multiple":d=j;default:Ot(a,s,v,j,u,null)}s=_,u=N,a.multiple=!!d,s!=null?Ei(a,!!d,s,!1):u!=null&&Ei(a,!!d,u,!0);return;case"textarea":ft("invalid",a),_=v=d=null;for(N in u)if(u.hasOwnProperty(N)&&(j=u[N],j!=null))switch(N){case"value":d=j;break;case"defaultValue":v=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Ot(a,s,N,j,u,null)}Es(a,d,v,_);return;case"option":for(ne in u)u.hasOwnProperty(ne)&&(d=u[ne],d!=null)&&(ne==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":Ot(a,s,ne,d,u,null));return;case"dialog":ft("beforetoggle",a),ft("toggle",a),ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(d=0;d<r0.length;d++)ft(r0[d],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(d=u[me],d!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ot(a,s,me,d,u,null)}return;default:if(Hl(s)){for(Ee in u)u.hasOwnProperty(Ee)&&(d=u[Ee],d!==void 0&&ig(a,s,Ee,d,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(d=u[j],d!=null&&Ot(a,s,j,d,u,null))}function KV(a,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,N=null,j=null,ne=null,me=null,Ee=null;for(we in u){var Te=u[we];if(u.hasOwnProperty(we)&&Te!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":ne=Te;default:d.hasOwnProperty(we)||Ot(a,s,we,null,d,Te)}}for(var ve in d){var we=d[ve];if(Te=u[ve],d.hasOwnProperty(ve)&&(we!=null||Te!=null))switch(ve){case"type":_=we;break;case"name":v=we;break;case"checked":me=we;break;case"defaultChecked":Ee=we;break;case"value":N=we;break;case"defaultValue":j=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,s));break;default:we!==Te&&Ot(a,s,ve,we,d,Te)}}Fi(a,N,j,ne,me,Ee,_,v);return;case"select":we=N=j=ve=null;for(_ in u)if(ne=u[_],u.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":we=ne;default:d.hasOwnProperty(_)||Ot(a,s,_,null,d,ne)}for(v in d)if(_=d[v],ne=u[v],d.hasOwnProperty(v)&&(_!=null||ne!=null))switch(v){case"value":ve=_;break;case"defaultValue":j=_;break;case"multiple":N=_;default:_!==ne&&Ot(a,s,v,_,d,ne)}s=j,u=N,d=we,ve!=null?Ei(a,!!u,ve,!1):!!d!=!!u&&(s!=null?Ei(a,!!u,s,!0):Ei(a,!!u,u?[]:"",!1));return;case"textarea":we=ve=null;for(j in u)if(v=u[j],u.hasOwnProperty(j)&&v!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Ot(a,s,j,null,d,v)}for(N in d)if(v=d[N],_=u[N],d.hasOwnProperty(N)&&(v!=null||_!=null))switch(N){case"value":ve=v;break;case"defaultValue":we=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&Ot(a,s,N,v,d,_)}Dh(a,ve,we);return;case"option":for(var Ue in u)ve=u[Ue],u.hasOwnProperty(Ue)&&ve!=null&&!d.hasOwnProperty(Ue)&&(Ue==="selected"?a.selected=!1:Ot(a,s,Ue,null,d,ve));for(ne in d)ve=d[ne],we=u[ne],d.hasOwnProperty(ne)&&ve!==we&&(ve!=null||we!=null)&&(ne==="selected"?a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":Ot(a,s,ne,ve,d,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in u)ve=u[Je],u.hasOwnProperty(Je)&&ve!=null&&!d.hasOwnProperty(Je)&&Ot(a,s,Je,null,d,ve);for(me in d)if(ve=d[me],we=u[me],d.hasOwnProperty(me)&&ve!==we&&(ve!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:Ot(a,s,me,ve,d,we)}return;default:if(Hl(s)){for(var zt in u)ve=u[zt],u.hasOwnProperty(zt)&&ve!==void 0&&!d.hasOwnProperty(zt)&&ig(a,s,zt,void 0,d,ve);for(Ee in d)ve=d[Ee],we=u[Ee],!d.hasOwnProperty(Ee)||ve===we||ve===void 0&&we===void 0||ig(a,s,Ee,ve,d,we);return}}for(var le in u)ve=u[le],u.hasOwnProperty(le)&&ve!=null&&!d.hasOwnProperty(le)&&Ot(a,s,le,null,d,ve);for(Te in d)ve=d[Te],we=u[Te],!d.hasOwnProperty(Te)||ve===we||ve==null&&we==null||Ot(a,s,Te,ve,d,we)}function p9(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],_=v.transferSize,N=v.initiatorType,j=v.duration;if(_&&j&&p9(N)){for(N=0,j=v.responseEnd,d+=1;d<u.length;d++){var ne=u[d],me=ne.startTime;if(me>j)break;var Ee=ne.transferSize,Te=ne.initiatorType;Ee&&p9(Te)&&(ne=ne.responseEnd,N+=Ee*(ne<j?1:(j-me)/(ne-me)))}if(--d,s+=8*(_+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ag=null,sg=null;function qf(a){return a.nodeType===9?a:a.ownerDocument}function g9(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v9(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function og(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lg=null;function ZV(){var a=window.event;return a&&a.type==="popstate"?a===lg?!1:(lg=a,!0):(lg=null,!1)}var y9=typeof setTimeout=="function"?setTimeout:void 0,WV=typeof clearTimeout=="function"?clearTimeout:void 0,_9=typeof Promise=="function"?Promise:void 0,JV=typeof queueMicrotask=="function"?queueMicrotask:typeof _9<"u"?function(a){return _9.resolve(null).then(a).catch(eq)}:y9;function eq(a){setTimeout(function(){throw a})}function Gs(a){return a==="head"}function b9(a,s){var u=s,d=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(v),Su(s);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")a0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,a0(u);for(var _=u.firstChild;_;){var N=_.nextSibling,j=_.nodeName;_[Wr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&a0(a.ownerDocument.body);u=v}while(u);Su(s)}function w9(a,s){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function ug(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ug(u),_s(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function tq(a,s,u,d){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Wr])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=fi(a.nextSibling),a===null)break}return null}function nq(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=fi(a.nextSibling),a===null))return null;return a}function E9(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=fi(a.nextSibling),a===null))return null;return a}function cg(a){return a.data==="$?"||a.data==="$~"}function hg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function rq(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function fi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var fg=null;function S9(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return fi(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function x9(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function T9(a,s,u){switch(s=qf(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function a0(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);_s(a)}var di=new Map,A9=new Set;function Lf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var $a=W.d;W.d={f:iq,r:aq,D:sq,C:oq,L:lq,m:uq,X:hq,S:cq,M:fq};function iq(){var a=$a.f(),s=If();return a||s}function aq(a){var s=dr(a);s!==null&&s.tag===5&&s.type==="form"?jb(s):$a.r(a)}var bu=typeof document>"u"?null:document;function C9(a,s,u){var d=bu;if(d&&typeof s=="string"&&s){var v=Zn(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),A9.has(v)||(A9.add(v),a={rel:a,crossOrigin:u,href:s},d.querySelector(v)===null&&(s=d.createElement("link"),$n(s,"link",a),on(s),d.head.appendChild(s)))}}function sq(a){$a.D(a),C9("dns-prefetch",a,null)}function oq(a,s){$a.C(a,s),C9("preconnect",a,s)}function lq(a,s,u){$a.L(a,s,u);var d=bu;if(d&&a&&s){var v='link[rel="preload"][as="'+Zn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Zn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Zn(u.imageSizes)+'"]')):v+='[href="'+Zn(a)+'"]';var _=v;switch(s){case"style":_=wu(a);break;case"script":_=Eu(a)}di.has(_)||(a=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),di.set(_,a),d.querySelector(v)!==null||s==="style"&&d.querySelector(s0(_))||s==="script"&&d.querySelector(o0(_))||(s=d.createElement("link"),$n(s,"link",a),on(s),d.head.appendChild(s)))}}function uq(a,s){$a.m(a,s);var u=bu;if(u&&a){var d=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Zn(d)+'"][href="'+Zn(a)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Eu(a)}if(!di.has(_)&&(a=p({rel:"modulepreload",href:a},s),di.set(_,a),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(o0(_)))return}d=u.createElement("link"),$n(d,"link",a),on(d),u.head.appendChild(d)}}}function cq(a,s,u){$a.S(a,s,u);var d=bu;if(d&&a){var v=ei(d).hoistableStyles,_=wu(a);s=s||"default";var N=v.get(_);if(!N){var j={loading:0,preload:null};if(N=d.querySelector(s0(_)))j.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},u),(u=di.get(_))&&dg(a,u);var ne=N=d.createElement("link");on(ne),$n(ne,"link",a),ne._p=new Promise(function(me,Ee){ne.onload=me,ne.onerror=Ee}),ne.addEventListener("load",function(){j.loading|=1}),ne.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Pf(N,s,d)}N={type:"stylesheet",instance:N,count:1,state:j},v.set(_,N)}}}function hq(a,s){$a.X(a,s);var u=bu;if(u&&a){var d=ei(u).hoistableScripts,v=Eu(a),_=d.get(v);_||(_=u.querySelector(o0(v)),_||(a=p({src:a,async:!0},s),(s=di.get(v))&&mg(a,s),_=u.createElement("script"),on(_),$n(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function fq(a,s){$a.M(a,s);var u=bu;if(u&&a){var d=ei(u).hoistableScripts,v=Eu(a),_=d.get(v);_||(_=u.querySelector(o0(v)),_||(a=p({src:a,async:!0,type:"module"},s),(s=di.get(v))&&mg(a,s),_=u.createElement("script"),on(_),$n(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function R9(a,s,u,d){var v=(v=ue.current)?Lf(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=wu(u.href),u=ei(v).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=wu(u.href);var _=ei(v).hoistableStyles,N=_.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=v.querySelector(s0(a)))&&!_._p&&(N.instance=_,N.state.loading=5),di.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},di.set(a,u),_||dq(v,a,u,N.state))),s&&d===null)throw Error(r(528,""));return N}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eu(u),u=ei(v).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function wu(a){return'href="'+Zn(a)+'"'}function s0(a){return'link[rel="stylesheet"]['+a+"]"}function I9(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function dq(a,s,u,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),$n(s,"link",u),on(s),a.head.appendChild(s))}function Eu(a){return'[src="'+Zn(a)+'"]'}function o0(a){return"script[async]"+a}function N9(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+Zn(u.href)+'"]');if(d)return s.instance=d,on(d),d;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),on(d),$n(d,"style",v),Pf(d,u.precedence,a),s.instance=d;case"stylesheet":v=wu(u.href);var _=a.querySelector(s0(v));if(_)return s.state.loading|=4,s.instance=_,on(_),_;d=I9(u),(v=di.get(v))&&dg(d,v),_=(a.ownerDocument||a).createElement("link"),on(_);var N=_;return N._p=new Promise(function(j,ne){N.onload=j,N.onerror=ne}),$n(_,"link",d),s.state.loading|=4,Pf(_,u.precedence,a),s.instance=_;case"script":return _=Eu(u.src),(v=a.querySelector(o0(_)))?(s.instance=v,on(v),v):(d=u,(v=di.get(_))&&(d=p({},u),mg(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),on(v),$n(v,"link",d),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Pf(d,u.precedence,a));return s.instance}function Pf(a,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,N=0;N<d.length;N++){var j=d[N];if(j.dataset.precedence===s)_=j;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function dg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function mg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Bf=null;function M9(a,s,u){if(Bf===null){var d=new Map,v=Bf=new Map;v.set(u,d)}else v=Bf,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[Wr]||_[sn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=a+N;var j=d.get(N);j?j.push(_):d.set(N,[_])}}return d}function k9(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function mq(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function D9(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function pq(a,s,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=wu(d.href),_=s.querySelector(s0(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Uf.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=_,on(_);return}_=s.ownerDocument||s,d=I9(d),(v=di.get(v))&&dg(d,v),_=_.createElement("link"),on(_);var N=_;N._p=new Promise(function(j,ne){N.onload=j,N.onerror=ne}),$n(_,"link",d),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Uf.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var pg=0;function gq(a,s){return a.stylesheets&&a.count===0&&jf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&jf(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&pg===0&&(pg=62500*QV());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&jf(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>pg?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hf=null;function jf(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hf=new Map,s.forEach(vq,a),Hf=null,Uf.call(a))}function vq(a,s){if(!(s.state.loading&4)){var u=Hf.get(a);if(u)var d=u.get(null);else{u=new Map,Hf.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var N=v[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),d=N)}d&&u.set(null,d)}v=s.instance,N=v.getAttribute("data-precedence"),_=u.get(N)||d,_===d&&u.set(null,v),u.set(N,v),this.count++,d=Uf.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var l0={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function yq(a,s,u,d,v,_,N,j,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.hiddenUpdates=Zr(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function O9(a,s,u,d,v,_,N,j,ne,me,Ee,Te){return a=new yq(a,s,u,N,ne,me,Ee,Te,j),s=1,_===!0&&(s|=24),_=Dr(3,null,null,s),a.current=_,_.stateNode=a,s=X1(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:s},W1(_),a}function z9(a){return a?(a=Jl,a):Jl}function V9(a,s,u,d,v,_){v=z9(v),d.context===null?d.context=v:d.pendingContext=v,d=Os(s),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=zs(a,d,s),u!==null&&(_r(u,a,s),Bc(u,a,s))}function q9(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function gg(a,s){q9(a,s),(a=a.alternate)&&q9(a,s)}function L9(a){if(a.tag===13||a.tag===31){var s=$o(a,67108864);s!==null&&_r(s,a,67108864),gg(a,67108864)}}function P9(a){if(a.tag===13||a.tag===31){var s=Lr();s=Ta(s);var u=$o(a,s);u!==null&&_r(u,a,s),gg(a,s)}}var Ff=!0;function _q(a,s,u,d){var v=$.T;$.T=null;var _=W.p;try{W.p=2,vg(a,s,u,d)}finally{W.p=_,$.T=v}}function bq(a,s,u,d){var v=$.T;$.T=null;var _=W.p;try{W.p=8,vg(a,s,u,d)}finally{W.p=_,$.T=v}}function vg(a,s,u,d){if(Ff){var v=yg(d);if(v===null)rg(a,s,d,Gf,u),U9(a,d);else if(Eq(v,a,s,u,d))d.stopPropagation();else if(U9(a,d),s&4&&-1<wq.indexOf(a)){for(;v!==null;){var _=dr(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Kr(_.pendingLanes);if(N!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;N;){var ne=1<<31-Jt(N);j.entanglements[1]|=ne,N&=~ne}ea(_),(Rt&6)===0&&(Cf=$t()+500,n0(0))}}break;case 31:case 13:j=$o(_,2),j!==null&&_r(j,_,2),If(),gg(_,2)}if(_=yg(d),_===null&&rg(a,s,d,Gf,u),_===v)break;v=_}v!==null&&d.stopPropagation()}else rg(a,s,d,null,u)}}function yg(a){return a=ri(a),_g(a)}var Gf=null;function _g(a){if(Gf=null,a=Jr(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Gf=a,null}function B9(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case cr:return 2;case hr:return 8;case qn:case gs:return 32;case bi:return 268435456;default:return 32}default:return 32}}var bg=!1,$s=null,Ys=null,Xs=null,u0=new Map,c0=new Map,Ks=[],wq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U9(a,s){switch(a){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":u0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":c0.delete(s.pointerId)}}function h0(a,s,u,d,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},s!==null&&(s=dr(s),s!==null&&L9(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function Eq(a,s,u,d,v){switch(s){case"focusin":return $s=h0($s,a,s,u,d,v),!0;case"dragenter":return Ys=h0(Ys,a,s,u,d,v),!0;case"mouseover":return Xs=h0(Xs,a,s,u,d,v),!0;case"pointerover":var _=v.pointerId;return u0.set(_,h0(u0.get(_)||null,a,s,u,d,v)),!0;case"gotpointercapture":return _=v.pointerId,c0.set(_,h0(c0.get(_)||null,a,s,u,d,v)),!0}return!1}function H9(a){var s=Jr(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,Rr(a.priority,function(){P9(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Rr(a.priority,function(){P9(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $f(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=yg(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);xc=d,u.target.dispatchEvent(d),xc=null}else return s=dr(u),s!==null&&L9(s),a.blockedOn=u,!1;s.shift()}return!0}function j9(a,s,u){$f(a)&&u.delete(s)}function Sq(){bg=!1,$s!==null&&$f($s)&&($s=null),Ys!==null&&$f(Ys)&&(Ys=null),Xs!==null&&$f(Xs)&&(Xs=null),u0.forEach(j9),c0.forEach(j9)}function Yf(a,s){a.blockedOn===s&&(a.blockedOn=null,bg||(bg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sq)))}var Xf=null;function F9(a){Xf!==a&&(Xf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xf===a&&(Xf=null);for(var s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],v=a[s+2];if(typeof d!="function"){if(_g(d||u)===null)continue;break}var _=dr(u);_!==null&&(a.splice(s,3),s-=3,yp(_,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function Su(a){function s(ne){return Yf(ne,a)}$s!==null&&Yf($s,a),Ys!==null&&Yf(Ys,a),Xs!==null&&Yf(Xs,a),u0.forEach(s),c0.forEach(s);for(var u=0;u<Ks.length;u++){var d=Ks[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Ks.length&&(u=Ks[0],u.blockedOn===null);)H9(u),u.blockedOn===null&&Ks.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],_=u[d+1],N=v[_n]||null;if(typeof _=="function")N||F9(u);else if(N){var j=null;if(_&&_.hasAttribute("formAction")){if(v=_,N=_[_n]||null)j=N.formAction;else if(_g(v)!==null)continue}else j=N.action;typeof j=="function"?u[d+1]=j:(u.splice(d,3),d-=3),F9(u)}}}function G9(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function wg(a){this._internalRoot=a}Kf.prototype.render=wg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,d=Lr();V9(u,d,a,s,null,null)},Kf.prototype.unmount=wg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;V9(a.current,2,null,a,null,null),If(),s[Nr]=null}};function Kf(a){this._internalRoot=a}Kf.prototype.unstable_scheduleHydration=function(a){if(a){var s=Vl();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Ks.length&&s!==0&&s<Ks[u].priority;u++);Ks.splice(u,0,a),u===0&&H9(a)}};var $9=e.version;if($9!=="19.2.3")throw Error(r(527,$9,"19.2.3"));W.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var xq={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{rn=Qf.inject(xq),qt=Qf}catch{}}return d0.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,d="",v=Jb,_=e8,N=t8;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=O9(a,1,!1,null,null,u,d,null,v,_,N,G9),a[Nr]=s.current,ng(a),new wg(s)},d0.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var d=!1,v="",_=Jb,N=e8,j=t8,ne=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.formState!==void 0&&(ne=u.formState)),s=O9(a,1,!0,s,u??null,d,v,ne,_,N,j,G9),s.context=z9(null),u=s.current,d=Lr(),d=Ta(d),v=Os(d),v.callback=null,zs(u,v,d),u=d,s.current.lanes=u,Sa(s,u),ea(s),a[Nr]=s.current,ng(a),new Kf(s)},d0.version="19.2.3",d0}var nw;function Dq(){if(nw)return xg.exports;nw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xg.exports=kq(),xg.exports}var Oq=Dq();const zq=Sm(Oq);function Rn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Rn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Vq={value:()=>{}};function xm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ed(n)}function Ed(t){this._=t}function qq(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ed.prototype=xm.prototype={constructor:Ed,on:function(t,e){var n=this._,r=qq(t+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(t=r[o]).type)&&(i=Lq(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(i=(t=r[o]).type)n[i]=rw(n[i],t.name,e);else if(e==null)for(i in n)n[i]=rw(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ed(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Lq(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function rw(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Vq,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var z5="http://www.w3.org/1999/xhtml";const iw={svg:"http://www.w3.org/2000/svg",xhtml:z5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),iw.hasOwnProperty(e)?{space:iw[e],local:t}:t}function Pq(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===z5&&e.documentElement.namespaceURI===z5?e.createElement(t):e.createElementNS(n,t)}}function Bq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function HI(t){var e=Tm(t);return(e.local?Bq:Pq)(e)}function Uq(){}function N6(t){return t==null?Uq:function(){return this.querySelector(t)}}function Hq(t){typeof t!="function"&&(t=N6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=new Array(l),h,f,m=0;m<l;++m)(h=o[m])&&(f=t.call(h,h.__data__,m,o))&&("__data__"in h&&(f.__data__=h.__data__),c[m]=f);return new $r(r,this._parents)}function jq(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Fq(){return[]}function jI(t){return t==null?Fq:function(){return this.querySelectorAll(t)}}function Gq(t){return function(){return jq(t.apply(this,arguments))}}function $q(t){typeof t=="function"?t=Gq(t):t=jI(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var l=e[o],c=l.length,h,f=0;f<c;++f)(h=l[f])&&(r.push(t.call(h,h.__data__,f,l)),i.push(h));return new $r(r,i)}function FI(t){return function(){return this.matches(t)}}function GI(t){return function(e){return e.matches(t)}}var Yq=Array.prototype.find;function Xq(t){return function(){return Yq.call(this.children,t)}}function Kq(){return this.firstElementChild}function Qq(t){return this.select(t==null?Kq:Xq(typeof t=="function"?t:GI(t)))}var Zq=Array.prototype.filter;function Wq(){return Array.from(this.children)}function Jq(t){return function(){return Zq.call(this.children,t)}}function eL(t){return this.selectAll(t==null?Wq:Jq(typeof t=="function"?t:GI(t)))}function tL(t){typeof t!="function"&&(t=FI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=[],h,f=0;f<l;++f)(h=o[f])&&t.call(h,h.__data__,f,o)&&c.push(h);return new $r(r,this._parents)}function $I(t){return new Array(t.length)}function nL(){return new $r(this._enter||this._groups.map($I),this._parents)}function Bd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bd.prototype={constructor:Bd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function rL(t){return function(){return t}}function iL(t,e,n,r,i,o){for(var l=0,c,h=e.length,f=o.length;l<f;++l)(c=e[l])?(c.__data__=o[l],r[l]=c):n[l]=new Bd(t,o[l]);for(;l<h;++l)(c=e[l])&&(i[l]=c)}function aL(t,e,n,r,i,o,l){var c,h,f=new Map,m=e.length,p=o.length,y=new Array(m),b;for(c=0;c<m;++c)(h=e[c])&&(y[c]=b=l.call(h,h.__data__,c,e)+"",f.has(b)?i[c]=h:f.set(b,h));for(c=0;c<p;++c)b=l.call(t,o[c],c,o)+"",(h=f.get(b))?(r[c]=h,h.__data__=o[c],f.delete(b)):n[c]=new Bd(t,o[c]);for(c=0;c<m;++c)(h=e[c])&&f.get(y[c])===h&&(i[c]=h)}function sL(t){return t.__data__}function oL(t,e){if(!arguments.length)return Array.from(this,sL);var n=e?aL:iL,r=this._parents,i=this._groups;typeof t!="function"&&(t=rL(t));for(var o=i.length,l=new Array(o),c=new Array(o),h=new Array(o),f=0;f<o;++f){var m=r[f],p=i[f],y=p.length,b=lL(t.call(m,m&&m.__data__,f,r)),E=b.length,T=c[f]=new Array(E),x=l[f]=new Array(E),C=h[f]=new Array(y);n(m,p,T,x,C,b,e);for(var D=0,A=0,O,U;D<E;++D)if(O=T[D]){for(D>=A&&(A=D+1);!(U=x[A])&&++A<E;);O._next=U||null}}return l=new $r(l,r),l._enter=c,l._exit=h,l}function lL(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uL(){return new $r(this._exit||this._groups.map($I),this._parents)}function cL(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function hL(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,l=Math.min(i,o),c=new Array(i),h=0;h<l;++h)for(var f=n[h],m=r[h],p=f.length,y=c[h]=new Array(p),b,E=0;E<p;++E)(b=f[E]||m[E])&&(y[E]=b);for(;h<i;++h)c[h]=n[h];return new $r(c,this._parents)}function fL(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function dL(t){t||(t=mL);function e(p,y){return p&&y?t(p.__data__,y.__data__):!p-!y}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],c=l.length,h=i[o]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(h[m]=f);h.sort(e)}return new $r(i,this._parents).order()}function mL(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function pL(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function gL(){return Array.from(this)}function vL(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function yL(){let t=0;for(const e of this)++t;return t}function _L(){return!this.node()}function bL(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,l=i.length,c;o<l;++o)(c=i[o])&&t.call(c,c.__data__,o,i);return this}function wL(t){return function(){this.removeAttribute(t)}}function EL(t){return function(){this.removeAttributeNS(t.space,t.local)}}function SL(t,e){return function(){this.setAttribute(t,e)}}function xL(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function TL(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function AL(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function CL(t,e){var n=Tm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?EL:wL:typeof e=="function"?n.local?AL:TL:n.local?xL:SL)(n,e))}function YI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function RL(t){return function(){this.style.removeProperty(t)}}function IL(t,e,n){return function(){this.style.setProperty(t,e,n)}}function NL(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ML(t,e,n){return arguments.length>1?this.each((e==null?RL:typeof e=="function"?NL:IL)(t,e,n??"")):Hu(this.node(),t)}function Hu(t,e){return t.style.getPropertyValue(e)||YI(t).getComputedStyle(t,null).getPropertyValue(e)}function kL(t){return function(){delete this[t]}}function DL(t,e){return function(){this[t]=e}}function OL(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function zL(t,e){return arguments.length>1?this.each((e==null?kL:typeof e=="function"?OL:DL)(t,e)):this.node()[t]}function XI(t){return t.trim().split(/^|\s+/)}function M6(t){return t.classList||new KI(t)}function KI(t){this._node=t,this._names=XI(t.getAttribute("class")||"")}KI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function QI(t,e){for(var n=M6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ZI(t,e){for(var n=M6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function VL(t){return function(){QI(this,t)}}function qL(t){return function(){ZI(this,t)}}function LL(t,e){return function(){(e.apply(this,arguments)?QI:ZI)(this,t)}}function PL(t,e){var n=XI(t+"");if(arguments.length<2){for(var r=M6(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?LL:e?VL:qL)(n,e))}function BL(){this.textContent=""}function UL(t){return function(){this.textContent=t}}function HL(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function jL(t){return arguments.length?this.each(t==null?BL:(typeof t=="function"?HL:UL)(t)):this.node().textContent}function FL(){this.innerHTML=""}function GL(t){return function(){this.innerHTML=t}}function $L(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function YL(t){return arguments.length?this.each(t==null?FL:(typeof t=="function"?$L:GL)(t)):this.node().innerHTML}function XL(){this.nextSibling&&this.parentNode.appendChild(this)}function KL(){return this.each(XL)}function QL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZL(){return this.each(QL)}function WL(t){var e=typeof t=="function"?t:HI(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function JL(){return null}function eP(t,e){var n=typeof t=="function"?t:HI(t),r=e==null?JL:typeof e=="function"?e:N6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tP(){var t=this.parentNode;t&&t.removeChild(this)}function nP(){return this.each(tP)}function rP(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iP(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function aP(t){return this.select(t?iP:rP)}function sP(t){return arguments.length?this.property("__data__",t):this.node().__data__}function oP(t){return function(e){t.call(this,e,this.__data__)}}function lP(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function uP(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function cP(t,e,n){return function(){var r=this.__on,i,o=oP(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function hP(t,e,n){var r=lP(t+""),i,o=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,f=c.length,m;h<f;++h)for(i=0,m=c[h];i<o;++i)if((l=r[i]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?cP:uP,i=0;i<o;++i)this.each(c(r[i],e,n));return this}function WI(t,e,n){var r=YI(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fP(t,e){return function(){return WI(this,t,e)}}function dP(t,e){return function(){return WI(this,t,e.apply(this,arguments))}}function mP(t,e){return this.each((typeof e=="function"?dP:fP)(t,e))}function*pP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var JI=[null];function $r(t,e){this._groups=t,this._parents=e}function ah(){return new $r([[document.documentElement]],JI)}function gP(){return this}$r.prototype=ah.prototype={constructor:$r,select:Hq,selectAll:$q,selectChild:Qq,selectChildren:eL,filter:tL,data:oL,enter:nL,exit:uL,join:cL,merge:hL,selection:gP,order:fL,sort:dL,call:pL,nodes:gL,node:vL,size:yL,empty:_L,each:bL,attr:CL,style:ML,property:zL,classed:PL,text:jL,html:YL,raise:KL,lower:ZL,append:WL,insert:eP,remove:nP,clone:aP,datum:sP,on:hP,dispatch:mP,[Symbol.iterator]:pP};function Pr(t){return typeof t=="string"?new $r([[document.querySelector(t)]],[document.documentElement]):new $r([[t]],JI)}function vP(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Mi(t,e){if(t=vP(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const yP={passive:!1},q0={capture:!0,passive:!1};function Rg(t){t.stopImmediatePropagation()}function Ou(t){t.preventDefault(),t.stopImmediatePropagation()}function eN(t){var e=t.document.documentElement,n=Pr(t).on("dragstart.drag",Ou,q0);"onselectstart"in e?n.on("selectstart.drag",Ou,q0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function tN(t,e){var n=t.document.documentElement,r=Pr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ou,q0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wf=t=>()=>t;function V5(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:l,y:c,dx:h,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}V5.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function _P(t){return!t.ctrlKey&&!t.button}function bP(){return this.parentNode}function wP(t,e){return e??{x:t.x,y:t.y}}function EP(){return navigator.maxTouchPoints||"ontouchstart"in this}function nN(){var t=_P,e=bP,n=wP,r=EP,i={},o=xm("start","drag","end"),l=0,c,h,f,m,p=0;function y(O){O.on("mousedown.drag",b).filter(r).on("touchstart.drag",x).on("touchmove.drag",C,yP).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(O,U){if(!(m||!t.call(this,O,U))){var L=A(this,e.call(this,O,U),O,U,"mouse");L&&(Pr(O.view).on("mousemove.drag",E,q0).on("mouseup.drag",T,q0),eN(O.view),Rg(O),f=!1,c=O.clientX,h=O.clientY,L("start",O))}}function E(O){if(Ou(O),!f){var U=O.clientX-c,L=O.clientY-h;f=U*U+L*L>p}i.mouse("drag",O)}function T(O){Pr(O.view).on("mousemove.drag mouseup.drag",null),tN(O.view,f),Ou(O),i.mouse("end",O)}function x(O,U){if(t.call(this,O,U)){var L=O.changedTouches,I=e.call(this,O,U),M=L.length,k,H;for(k=0;k<M;++k)(H=A(this,I,O,U,L[k].identifier,L[k]))&&(Rg(O),H("start",O,L[k]))}}function C(O){var U=O.changedTouches,L=U.length,I,M;for(I=0;I<L;++I)(M=i[U[I].identifier])&&(Ou(O),M("drag",O,U[I]))}function D(O){var U=O.changedTouches,L=U.length,I,M;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),I=0;I<L;++I)(M=i[U[I].identifier])&&(Rg(O),M("end",O,U[I]))}function A(O,U,L,I,M,k){var H=o.copy(),V=Mi(k||L,U),B,P,K;if((K=n.call(O,new V5("beforestart",{sourceEvent:L,target:y,identifier:M,active:l,x:V[0],y:V[1],dx:0,dy:0,dispatch:H}),I))!=null)return B=K.x-V[0]||0,P=K.y-V[1]||0,function te($,W,re){var oe=V,ye;switch($){case"start":i[M]=te,ye=l++;break;case"end":delete i[M],--l;case"drag":V=Mi(re||W,U),ye=l;break}H.call($,O,new V5($,{sourceEvent:W,subject:K,target:y,identifier:M,active:ye,x:V[0]+B,y:V[1]+P,dx:V[0]-oe[0],dy:V[1]-oe[1],dispatch:H}),I)}}return y.filter=function(O){return arguments.length?(t=typeof O=="function"?O:Wf(!!O),y):t},y.container=function(O){return arguments.length?(e=typeof O=="function"?O:Wf(O),y):e},y.subject=function(O){return arguments.length?(n=typeof O=="function"?O:Wf(O),y):n},y.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:Wf(!!O),y):r},y.on=function(){var O=o.on.apply(o,arguments);return O===o?y:O},y.clickDistance=function(O){return arguments.length?(p=(O=+O)*O,y):Math.sqrt(p)},y}function k6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sh(){}var L0=.7,Ud=1/L0,zu="\\s*([+-]?\\d+)\\s*",P0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SP=/^#([0-9a-f]{3,8})$/,xP=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),TP=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),AP=new RegExp(`^rgba\\(${zu},${zu},${zu},${P0}\\)$`),CP=new RegExp(`^rgba\\(${oa},${oa},${oa},${P0}\\)$`),RP=new RegExp(`^hsl\\(${P0},${oa},${oa}\\)$`),IP=new RegExp(`^hsla\\(${P0},${oa},${oa},${P0}\\)$`),aw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k6(sh,gl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sw,formatHex:sw,formatHex8:NP,formatHsl:MP,formatRgb:ow,toString:ow});function sw(){return this.rgb().formatHex()}function NP(){return this.rgb().formatHex8()}function MP(){return iN(this).formatHsl()}function ow(){return this.rgb().formatRgb()}function gl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=SP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lw(e):n===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xP.exec(t))?new xr(e[1],e[2],e[3],1):(e=TP.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=AP.exec(t))?Jf(e[1],e[2],e[3],e[4]):(e=CP.exec(t))?Jf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=RP.exec(t))?hw(e[1],e[2]/100,e[3]/100,1):(e=IP.exec(t))?hw(e[1],e[2]/100,e[3]/100,e[4]):aw.hasOwnProperty(t)?lw(aw[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function lw(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Jf(t,e,n,r){return r<=0&&(t=e=n=NaN),new xr(t,e,n,r)}function kP(t){return t instanceof sh||(t=gl(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function q5(t,e,n,r){return arguments.length===1?kP(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}k6(xr,q5,rN(sh,{brighter(t){return t=t==null?Ud:Math.pow(Ud,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?L0:Math.pow(L0,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(dl(this.r),dl(this.g),dl(this.b),Hd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uw,formatHex:uw,formatHex8:DP,formatRgb:cw,toString:cw}));function uw(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}`}function DP(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}${cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function cw(){const t=Hd(this.opacity);return`${t===1?"rgb(":"rgba("}${dl(this.r)}, ${dl(this.g)}, ${dl(this.b)}${t===1?")":`, ${t})`}`}function Hd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cl(t){return t=dl(t),(t<16?"0":"")+t.toString(16)}function hw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Di(t,e,n,r)}function iN(t){if(t instanceof Di)return new Di(t.h,t.s,t.l,t.opacity);if(t instanceof sh||(t=gl(t)),!t)return new Di;if(t instanceof Di)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,h=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?o+i:2-o-i,l*=60):c=h>0&&h<1?0:l,new Di(l,c,h,t.opacity)}function OP(t,e,n,r){return arguments.length===1?iN(t):new Di(t,e,n,r??1)}function Di(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}k6(Di,OP,rN(sh,{brighter(t){return t=t==null?Ud:Math.pow(Ud,t),new Di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?L0:Math.pow(L0,t),new Di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xr(Ig(t>=240?t-240:t+120,i,r),Ig(t,i,r),Ig(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Di(fw(this.h),ed(this.s),ed(this.l),Hd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hd(this.opacity);return`${t===1?"hsl(":"hsla("}${fw(this.h)}, ${ed(this.s)*100}%, ${ed(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fw(t){return t=(t||0)%360,t<0?t+360:t}function ed(t){return Math.max(0,Math.min(1,t||0))}function Ig(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const D6=t=>()=>t;function zP(t,e){return function(n){return t+n*e}}function VP(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qP(t){return(t=+t)==1?aN:function(e,n){return n-e?VP(e,n,t):D6(isNaN(e)?n:e)}}function aN(t,e){var n=e-t;return n?zP(t,n):D6(isNaN(t)?e:t)}const jd=(function t(e){var n=qP(e);function r(i,o){var l=n((i=q5(i)).r,(o=q5(o)).r),c=n(i.g,o.g),h=n(i.b,o.b),f=aN(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function LP(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function PP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BP(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=C0(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function UP(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function na(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function HP(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=C0(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var L5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ng=new RegExp(L5.source,"g");function jP(t){return function(){return t}}function FP(t){return function(e){return t(e)+""}}function sN(t,e){var n=L5.lastIndex=Ng.lastIndex=0,r,i,o,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=L5.exec(t))&&(i=Ng.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:na(r,i)})),n=Ng.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?FP(h[0].x):jP(e):(e=h.length,function(f){for(var m=0,p;m<e;++m)c[(p=h[m]).i]=p.x(f);return c.join("")})}function C0(t,e){var n=typeof e,r;return e==null||n==="boolean"?D6(e):(n==="number"?na:n==="string"?(r=gl(e))?(e=r,jd):sN:e instanceof gl?jd:e instanceof Date?UP:PP(e)?LP:Array.isArray(e)?BP:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?HP:na)(t,e)}var dw=180/Math.PI,P5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oN(t,e,n,r,i,o){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*dw,skewX:Math.atan(h)*dw,scaleX:l,scaleY:c}}var td;function GP(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?P5:oN(e.a,e.b,e.c,e.d,e.e,e.f)}function $P(t){return t==null||(td||(td=document.createElementNS("http://www.w3.org/2000/svg","g")),td.setAttribute("transform",t),!(t=td.transform.baseVal.consolidate()))?P5:(t=t.matrix,oN(t.a,t.b,t.c,t.d,t.e,t.f))}function lN(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,m,p,y,b,E){if(f!==p||m!==y){var T=b.push("translate(",null,e,null,n);E.push({i:T-4,x:na(f,p)},{i:T-2,x:na(m,y)})}else(p||y)&&b.push("translate("+p+e+y+n)}function l(f,m,p,y){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),y.push({i:p.push(i(p)+"rotate(",null,r)-2,x:na(f,m)})):m&&p.push(i(p)+"rotate("+m+r)}function c(f,m,p,y){f!==m?y.push({i:p.push(i(p)+"skewX(",null,r)-2,x:na(f,m)}):m&&p.push(i(p)+"skewX("+m+r)}function h(f,m,p,y,b,E){if(f!==p||m!==y){var T=b.push(i(b)+"scale(",null,",",null,")");E.push({i:T-4,x:na(f,p)},{i:T-2,x:na(m,y)})}else(p!==1||y!==1)&&b.push(i(b)+"scale("+p+","+y+")")}return function(f,m){var p=[],y=[];return f=t(f),m=t(m),o(f.translateX,f.translateY,m.translateX,m.translateY,p,y),l(f.rotate,m.rotate,p,y),c(f.skewX,m.skewX,p,y),h(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,y),f=m=null,function(b){for(var E=-1,T=y.length,x;++E<T;)p[(x=y[E]).i]=x.x(b);return p.join("")}}}var YP=lN(GP,"px, ","px)","deg)"),XP=lN($P,", ",")",")"),KP=1e-12;function mw(t){return((t=Math.exp(t))+1/t)/2}function QP(t){return((t=Math.exp(t))-1/t)/2}function ZP(t){return((t=Math.exp(2*t))-1)/(t+1)}const Sd=(function t(e,n,r){function i(o,l){var c=o[0],h=o[1],f=o[2],m=l[0],p=l[1],y=l[2],b=m-c,E=p-h,T=b*b+E*E,x,C;if(T<KP)C=Math.log(y/f)/e,x=function(I){return[c+I*b,h+I*E,f*Math.exp(e*I*C)]};else{var D=Math.sqrt(T),A=(y*y-f*f+r*T)/(2*f*n*D),O=(y*y-f*f-r*T)/(2*y*n*D),U=Math.log(Math.sqrt(A*A+1)-A),L=Math.log(Math.sqrt(O*O+1)-O);C=(L-U)/e,x=function(I){var M=I*C,k=mw(U),H=f/(n*D)*(k*ZP(e*M+U)-QP(U));return[c+H*b,h+H*E,f*k/mw(e*M+U)]}}return x.duration=C*1e3*e/Math.SQRT2,x}return i.rho=function(o){var l=Math.max(.001,+o),c=l*l,h=c*c;return t(l,c,h)},i})(Math.SQRT2,2,4);var ju=0,g0=0,m0=0,uN=1e3,Fd,v0,Gd=0,vl=0,Am=0,B0=typeof performance=="object"&&performance.now?performance:Date,cN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function O6(){return vl||(cN(WP),vl=B0.now()+Am)}function WP(){vl=0}function $d(){this._call=this._time=this._next=null}$d.prototype=hN.prototype={constructor:$d,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?O6():+n)+(e==null?0:+e),!this._next&&v0!==this&&(v0?v0._next=this:Fd=this,v0=this),this._call=t,this._time=n,B5()},stop:function(){this._call&&(this._call=null,this._time=1/0,B5())}};function hN(t,e,n){var r=new $d;return r.restart(t,e,n),r}function JP(){O6(),++ju;for(var t=Fd,e;t;)(e=vl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ju}function pw(){vl=(Gd=B0.now())+Am,ju=g0=0;try{JP()}finally{ju=0,tB(),vl=0}}function eB(){var t=B0.now(),e=t-Gd;e>uN&&(Am-=e,Gd=t)}function tB(){for(var t,e=Fd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Fd=n);v0=t,B5(r)}function B5(t){if(!ju){g0&&(g0=clearTimeout(g0));var e=t-vl;e>24?(t<1/0&&(g0=setTimeout(pw,t-B0.now()-Am)),m0&&(m0=clearInterval(m0))):(m0||(Gd=B0.now(),m0=setInterval(eB,uN)),ju=1,cN(pw))}}function gw(t,e,n){var r=new $d;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var nB=xm("start","end","cancel","interrupt"),rB=[],fN=0,vw=1,U5=2,xd=3,yw=4,H5=5,Td=6;function Cm(t,e,n,r,i,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;iB(t,n,{name:e,index:r,group:i,on:nB,tween:rB,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fN})}function z6(t,e){var n=Ui(t,e);if(n.state>fN)throw new Error("too late; already scheduled");return n}function ga(t,e){var n=Ui(t,e);if(n.state>xd)throw new Error("too late; already running");return n}function Ui(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function iB(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=hN(o,0,n.time);function o(f){n.state=vw,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,y,b;if(n.state!==vw)return h();for(m in r)if(b=r[m],b.name===n.name){if(b.state===xd)return gw(l);b.state===yw?(b.state=Td,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Td,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(gw(function(){n.state===xd&&(n.state=yw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=U5,n.on.call("start",t,t.__data__,n.index,n.group),n.state===U5){for(n.state=xd,i=new Array(y=n.tween.length),m=0,p=-1;m<y;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=b);i.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(h),n.state=H5,1),p=-1,y=i.length;++p<y;)i[p].call(t,m);n.state===H5&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Td,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Ad(t,e){var n=t.__transition,r,i,o=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){o=!1;continue}i=r.state>U5&&r.state<H5,r.state=Td,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}o&&delete t.__transition}}function aB(t){return this.each(function(){Ad(this,t)})}function sB(t,e){var n,r;return function(){var i=ga(this,t),o=i.tween;if(o!==n){r=n=o;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function oB(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ga(this,t),l=o.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},h=0,f=i.length;h<f;++h)if(i[h].name===e){i[h]=c;break}h===f&&i.push(c)}o.tween=i}}function lB(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ui(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?sB:oB)(n,t,e))}function V6(t,e,n){var r=t._id;return t.each(function(){var i=ga(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ui(i,r).value[e]}}function dN(t,e){var n;return(typeof e=="number"?na:e instanceof gl?jd:(n=gl(e))?(e=n,jd):sN)(t,e)}function uB(t){return function(){this.removeAttribute(t)}}function cB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hB(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttribute(t);return l===i?null:l===r?o:o=e(r=l,n)}}function fB(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?o:o=e(r=l,n)}}function dB(t,e,n){var r,i,o;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c)))}}function mB(t,e,n){var r,i,o;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c)))}}function pB(t,e){var n=Tm(t),r=n==="transform"?XP:dN;return this.attrTween(t,typeof e=="function"?(n.local?mB:dB)(n,r,V6(this,"attr."+t,e)):e==null?(n.local?cB:uB)(n):(n.local?fB:hB)(n,r,e))}function gB(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function vB(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yB(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&vB(t,o)),n}return i._value=e,i}function _B(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&gB(t,o)),n}return i._value=e,i}function bB(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Tm(t);return this.tween(n,(r.local?yB:_B)(r,e))}function wB(t,e){return function(){z6(this,t).delay=+e.apply(this,arguments)}}function EB(t,e){return e=+e,function(){z6(this,t).delay=e}}function SB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wB:EB)(e,t)):Ui(this.node(),e).delay}function xB(t,e){return function(){ga(this,t).duration=+e.apply(this,arguments)}}function TB(t,e){return e=+e,function(){ga(this,t).duration=e}}function AB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xB:TB)(e,t)):Ui(this.node(),e).duration}function CB(t,e){if(typeof e!="function")throw new Error;return function(){ga(this,t).ease=e}}function RB(t){var e=this._id;return arguments.length?this.each(CB(e,t)):Ui(this.node(),e).ease}function IB(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ga(this,t).ease=n}}function NB(t){if(typeof t!="function")throw new Error;return this.each(IB(this._id,t))}function MB(t){typeof t!="function"&&(t=FI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=[],h,f=0;f<l;++f)(h=o[f])&&t.call(h,h.__data__,f,o)&&c.push(h);return new rs(r,this._parents,this._name,this._id)}function kB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),l=new Array(r),c=0;c<o;++c)for(var h=e[c],f=n[c],m=h.length,p=l[c]=new Array(m),y,b=0;b<m;++b)(y=h[b]||f[b])&&(p[b]=y);for(;c<r;++c)l[c]=e[c];return new rs(l,this._parents,this._name,this._id)}function DB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function OB(t,e,n){var r,i,o=DB(e)?z6:ga;return function(){var l=o(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function zB(t,e){var n=this._id;return arguments.length<2?Ui(this.node(),n).on.on(t):this.each(OB(n,t,e))}function VB(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qB(){return this.on("end.remove",VB(this._id))}function LB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=N6(t));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var c=r[l],h=c.length,f=o[l]=new Array(h),m,p,y=0;y<h;++y)(m=c[y])&&(p=t.call(m,m.__data__,y,c))&&("__data__"in m&&(p.__data__=m.__data__),f[y]=p,Cm(f[y],e,n,y,f,Ui(m,n)));return new rs(o,this._parents,e,n)}function PB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jI(t));for(var r=this._groups,i=r.length,o=[],l=[],c=0;c<i;++c)for(var h=r[c],f=h.length,m,p=0;p<f;++p)if(m=h[p]){for(var y=t.call(m,m.__data__,p,h),b,E=Ui(m,n),T=0,x=y.length;T<x;++T)(b=y[T])&&Cm(b,e,n,T,y,E);o.push(y),l.push(m)}return new rs(o,l,e,n)}var BB=ah.prototype.constructor;function UB(){return new BB(this._groups,this._parents)}function HB(t,e){var n,r,i;return function(){var o=Hu(this,t),l=(this.style.removeProperty(t),Hu(this,t));return o===l?null:o===n&&l===r?i:i=e(n=o,r=l)}}function mN(t){return function(){this.style.removeProperty(t)}}function jB(t,e,n){var r,i=n+"",o;return function(){var l=Hu(this,t);return l===i?null:l===r?o:o=e(r=l,n)}}function FB(t,e,n){var r,i,o;return function(){var l=Hu(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),Hu(this,t))),l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c))}}function GB(t,e){var n,r,i,o="style."+e,l="end."+o,c;return function(){var h=ga(this,t),f=h.on,m=h.value[o]==null?c||(c=mN(e)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(l,i=m),h.on=r}}function $B(t,e,n){var r=(t+="")=="transform"?YP:dN;return e==null?this.styleTween(t,HB(t,r)).on("end.style."+t,mN(t)):typeof e=="function"?this.styleTween(t,FB(t,r,V6(this,"style."+t,e))).each(GB(this._id,t)):this.styleTween(t,jB(t,r,e),n).on("end.style."+t,null)}function YB(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function XB(t,e,n){var r,i;function o(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&YB(t,l,n)),r}return o._value=e,o}function KB(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,XB(t,e,n??""))}function QB(t){return function(){this.textContent=t}}function ZB(t){return function(){var e=t(this);this.textContent=e??""}}function WB(t){return this.tween("text",typeof t=="function"?ZB(V6(this,"text",t)):QB(t==null?"":t+""))}function JB(t){return function(e){this.textContent=t.call(this,e)}}function eU(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&JB(i)),e}return r._value=t,r}function tU(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,eU(t))}function nU(){for(var t=this._name,e=this._id,n=pN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],c=l.length,h,f=0;f<c;++f)if(h=l[f]){var m=Ui(h,e);Cm(h,t,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new rs(r,this._parents,t,n)}function rU(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var c={value:l},h={value:function(){--i===0&&o()}};n.each(function(){var f=ga(this,r),m=f.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),f.on=e}),i===0&&o()})}var iU=0;function rs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function pN(){return++iU}var Ya=ah.prototype;rs.prototype={constructor:rs,select:LB,selectAll:PB,selectChild:Ya.selectChild,selectChildren:Ya.selectChildren,filter:MB,merge:kB,selection:UB,transition:nU,call:Ya.call,nodes:Ya.nodes,node:Ya.node,size:Ya.size,empty:Ya.empty,each:Ya.each,on:zB,attr:pB,attrTween:bB,style:$B,styleTween:KB,text:WB,textTween:tU,remove:qB,tween:lB,delay:SB,duration:AB,ease:RB,easeVarying:NB,end:rU,[Symbol.iterator]:Ya[Symbol.iterator]};function aU(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var sU={time:null,delay:0,duration:250,ease:aU};function oU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function lU(t){var e,n;t instanceof rs?(e=t._id,t=t._name):(e=pN(),(n=sU).time=O6(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],c=l.length,h,f=0;f<c;++f)(h=l[f])&&Cm(h,t,e,f,l,n||oU(h,e));return new rs(r,this._parents,t,e)}ah.prototype.interrupt=aB;ah.prototype.transition=lU;const nd=t=>()=>t;function uU(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Za(t,e,n){this.k=t,this.x=e,this.y=n}Za.prototype={constructor:Za,scale:function(t){return t===1?this:new Za(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Za(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rm=new Za(1,0,0);gN.prototype=Za.prototype;function gN(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Rm;return t.__zoom}function Mg(t){t.stopImmediatePropagation()}function p0(t){t.preventDefault(),t.stopImmediatePropagation()}function cU(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function hU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _w(){return this.__zoom||Rm}function fU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function dU(){return navigator.maxTouchPoints||"ontouchstart"in this}function mU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function vN(){var t=cU,e=hU,n=mU,r=fU,i=dU,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Sd,f=xm("start","zoom","end"),m,p,y,b=500,E=150,T=0,x=10;function C(K){K.property("__zoom",_w).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(K,te,$,W){var re=K.selection?K.selection():K;re.property("__zoom",_w),K!==re?U(K,te,$,W):re.interrupt().each(function(){L(this,arguments).event(W).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},C.scaleBy=function(K,te,$,W){C.scaleTo(K,function(){var re=this.__zoom.k,oe=typeof te=="function"?te.apply(this,arguments):te;return re*oe},$,W)},C.scaleTo=function(K,te,$,W){C.transform(K,function(){var re=e.apply(this,arguments),oe=this.__zoom,ye=$==null?O(re):typeof $=="function"?$.apply(this,arguments):$,Y=oe.invert(ye),ee=typeof te=="function"?te.apply(this,arguments):te;return n(A(D(oe,ee),ye,Y),re,l)},$,W)},C.translateBy=function(K,te,$,W){C.transform(K,function(){return n(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),l)},null,W)},C.translateTo=function(K,te,$,W,re){C.transform(K,function(){var oe=e.apply(this,arguments),ye=this.__zoom,Y=W==null?O(oe):typeof W=="function"?W.apply(this,arguments):W;return n(Rm.translate(Y[0],Y[1]).scale(ye.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof $=="function"?-$.apply(this,arguments):-$),oe,l)},W,re)};function D(K,te){return te=Math.max(o[0],Math.min(o[1],te)),te===K.k?K:new Za(te,K.x,K.y)}function A(K,te,$){var W=te[0]-$[0]*K.k,re=te[1]-$[1]*K.k;return W===K.x&&re===K.y?K:new Za(K.k,W,re)}function O(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function U(K,te,$,W){K.on("start.zoom",function(){L(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(W).end()}).tween("zoom",function(){var re=this,oe=arguments,ye=L(re,oe).event(W),Y=e.apply(re,oe),ee=$==null?O(Y):typeof $=="function"?$.apply(re,oe):$,pe=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=re.__zoom,ie=typeof te=="function"?te.apply(re,oe):te,ue=h(Q.invert(ee).concat(pe/Q.k),ie.invert(ee).concat(pe/ie.k));return function(ge){if(ge===1)ge=ie;else{var be=ue(ge),Ce=pe/be[2];ge=new Za(Ce,ee[0]-be[0]*Ce,ee[1]-be[1]*Ce)}ye.zoom(null,ge)}})}function L(K,te,$){return!$&&K.__zooming||new I(K,te)}function I(K,te){this.that=K,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,te),this.taps=0}I.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,te){return this.mouse&&K!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var te=Pr(this.that).datum();f.call(K,this.that,new uU(K,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),te)}};function M(K,...te){if(!t.apply(this,arguments))return;var $=L(this,te).event(K),W=this.__zoom,re=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),oe=Mi(K);if($.wheel)($.mouse[0][0]!==oe[0]||$.mouse[0][1]!==oe[1])&&($.mouse[1]=W.invert($.mouse[0]=oe)),clearTimeout($.wheel);else{if(W.k===re)return;$.mouse=[oe,W.invert(oe)],Ad(this),$.start()}p0(K),$.wheel=setTimeout(ye,E),$.zoom("mouse",n(A(D(W,re),$.mouse[0],$.mouse[1]),$.extent,l));function ye(){$.wheel=null,$.end()}}function k(K,...te){if(y||!t.apply(this,arguments))return;var $=K.currentTarget,W=L(this,te,!0).event(K),re=Pr(K.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",pe,!0),oe=Mi(K,$),ye=K.clientX,Y=K.clientY;eN(K.view),Mg(K),W.mouse=[oe,this.__zoom.invert(oe)],Ad(this),W.start();function ee(Q){if(p0(Q),!W.moved){var ie=Q.clientX-ye,ue=Q.clientY-Y;W.moved=ie*ie+ue*ue>T}W.event(Q).zoom("mouse",n(A(W.that.__zoom,W.mouse[0]=Mi(Q,$),W.mouse[1]),W.extent,l))}function pe(Q){re.on("mousemove.zoom mouseup.zoom",null),tN(Q.view,W.moved),p0(Q),W.event(Q).end()}}function H(K,...te){if(t.apply(this,arguments)){var $=this.__zoom,W=Mi(K.changedTouches?K.changedTouches[0]:K,this),re=$.invert(W),oe=$.k*(K.shiftKey?.5:2),ye=n(A(D($,oe),W,re),e.apply(this,te),l);p0(K),c>0?Pr(this).transition().duration(c).call(U,ye,W,K):Pr(this).call(C.transform,ye,W,K)}}function V(K,...te){if(t.apply(this,arguments)){var $=K.touches,W=$.length,re=L(this,te,K.changedTouches.length===W).event(K),oe,ye,Y,ee;for(Mg(K),ye=0;ye<W;++ye)Y=$[ye],ee=Mi(Y,this),ee=[ee,this.__zoom.invert(ee),Y.identifier],re.touch0?!re.touch1&&re.touch0[2]!==ee[2]&&(re.touch1=ee,re.taps=0):(re.touch0=ee,oe=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),oe&&(re.taps<2&&(p=ee[0],m=setTimeout(function(){m=null},b)),Ad(this),re.start())}}function B(K,...te){if(this.__zooming){var $=L(this,te).event(K),W=K.changedTouches,re=W.length,oe,ye,Y,ee;for(p0(K),oe=0;oe<re;++oe)ye=W[oe],Y=Mi(ye,this),$.touch0&&$.touch0[2]===ye.identifier?$.touch0[0]=Y:$.touch1&&$.touch1[2]===ye.identifier&&($.touch1[0]=Y);if(ye=$.that.__zoom,$.touch1){var pe=$.touch0[0],Q=$.touch0[1],ie=$.touch1[0],ue=$.touch1[1],ge=(ge=ie[0]-pe[0])*ge+(ge=ie[1]-pe[1])*ge,be=(be=ue[0]-Q[0])*be+(be=ue[1]-Q[1])*be;ye=D(ye,Math.sqrt(ge/be)),Y=[(pe[0]+ie[0])/2,(pe[1]+ie[1])/2],ee=[(Q[0]+ue[0])/2,(Q[1]+ue[1])/2]}else if($.touch0)Y=$.touch0[0],ee=$.touch0[1];else return;$.zoom("touch",n(A(ye,Y,ee),$.extent,l))}}function P(K,...te){if(this.__zooming){var $=L(this,te).event(K),W=K.changedTouches,re=W.length,oe,ye;for(Mg(K),y&&clearTimeout(y),y=setTimeout(function(){y=null},b),oe=0;oe<re;++oe)ye=W[oe],$.touch0&&$.touch0[2]===ye.identifier?delete $.touch0:$.touch1&&$.touch1[2]===ye.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(ye=Mi(ye,this),Math.hypot(p[0]-ye[0],p[1]-ye[1])<x)){var Y=Pr(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return C.wheelDelta=function(K){return arguments.length?(r=typeof K=="function"?K:nd(+K),C):r},C.filter=function(K){return arguments.length?(t=typeof K=="function"?K:nd(!!K),C):t},C.touchable=function(K){return arguments.length?(i=typeof K=="function"?K:nd(!!K),C):i},C.extent=function(K){return arguments.length?(e=typeof K=="function"?K:nd([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),C):e},C.scaleExtent=function(K){return arguments.length?(o[0]=+K[0],o[1]=+K[1],C):[o[0],o[1]]},C.translateExtent=function(K){return arguments.length?(l[0][0]=+K[0][0],l[1][0]=+K[1][0],l[0][1]=+K[0][1],l[1][1]=+K[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(K){return arguments.length?(n=K,C):n},C.duration=function(K){return arguments.length?(c=+K,C):c},C.interpolate=function(K){return arguments.length?(h=K,C):h},C.on=function(){var K=f.on.apply(f,arguments);return K===f?C:K},C.clickDistance=function(K){return arguments.length?(T=(K=+K)*K,C):Math.sqrt(T)},C.tapDistance=function(K){return arguments.length?(x=+K,C):x},C}const da={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},U0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],yN=["Enter"," ","Escape"],_N={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Fu;(function(t){t.Strict="strict",t.Loose="loose"})(Fu||(Fu={}));var ml;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ml||(ml={}));var H0;(function(t){t.Partial="partial",t.Full="full"})(H0||(H0={}));const bN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var no;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(no||(no={}));var j0;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(j0||(j0={}));var Ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ye||(Ye={}));const bw={[Ye.Left]:Ye.Right,[Ye.Right]:Ye.Left,[Ye.Top]:Ye.Bottom,[Ye.Bottom]:Ye.Top};function wN(t){return t===null?null:t?"valid":"invalid"}const EN=t=>"id"in t&&"source"in t&&"target"in t,pU=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),q6=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),oh=(t,e=[0,0])=>{const{width:n,height:r}=hs(t),i=t.origin??e,o=n*i[0],l=r*i[1];return{x:t.position.x-o,y:t.position.y-l}},gU=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let l=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(l=o?e.nodeLookup.get(i):q6(i)?i:e.nodeLookup.get(i.id));const c=l?Yd(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Im(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Nm(n)},lh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=Im(n,Yd(i)),r=!0)}),r?Nm(n):{x:0,y:0,width:0,height:0}},L6=(t,e,[n,r,i]=[0,0,1],o=!1,l=!1)=>{const c={...ch(e,[n,r,i]),width:e.width/i,height:e.height/i},h=[];for(const f of t.values()){const{measured:m,selectable:p=!0,hidden:y=!1}=f;if(l&&!p||y)continue;const b=m.width??f.width??f.initialWidth??null,E=m.height??f.height??f.initialHeight??null,T=F0(c,$u(f)),x=(b??0)*(E??0),C=o&&T>0;(!f.internals.handleBounds||C||T>=x||f.dragging)&&h.push(f)}return h},vU=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function yU(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function _U({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},l){if(t.size===0)return Promise.resolve(!0);const c=yU(t,l),h=lh(c),f=P6(h,e,n,l?.minZoom??i,l?.maxZoom??o,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function SN({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:h,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)o?.("005",da.error005());else{const b=c.measured.width,E=c.measured.height;b&&E&&(p=[[h,f],[h+b,f+E]])}else c&&Yu(l.extent)&&(p=[[l.extent[0][0]+h,l.extent[0][1]+f],[l.extent[1][0]+h,l.extent[1][1]+f]]);const y=Yu(p)?yl(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&o?.("015",da.error015()),{position:{x:y.x-h+(l.measured.width??0)*m[0],y:y.y-f+(l.measured.height??0)*m[1]},positionAbsolute:y}}async function bU({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(y=>y.id)),l=[];for(const y of n){if(y.deletable===!1)continue;const b=o.has(y.id),E=!b&&y.parentId&&l.find(T=>T.id===y.parentId);(b||E)&&l.push(y)}const c=new Set(e.map(y=>y.id)),h=r.filter(y=>y.deletable!==!1),m=vU(l,h);for(const y of h)c.has(y.id)&&!m.find(E=>E.id===y.id)&&m.push(y);if(!i)return{edges:m,nodes:l};const p=await i({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Gu=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),yl=(t={x:0,y:0},e,n)=>({x:Gu(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Gu(t.y,e[0][1],e[1][1]-(n?.height??0))});function xN(t,e,n){const{width:r,height:i}=hs(n),{x:o,y:l}=n.internals.positionAbsolute;return yl(t,[[o,l],[o+r,l+i]],e)}const ww=(t,e,n)=>t<e?Gu(Math.abs(t-e),1,e)/e:t>n?-Gu(Math.abs(t-n),1,e)/e:0,TN=(t,e,n=15,r=40)=>{const i=ww(t.x,r,e.width-r)*n,o=ww(t.y,r,e.height-r)*n;return[i,o]},Im=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),j5=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Nm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),$u=(t,e=[0,0])=>{const{x:n,y:r}=q6(t)?t.internals.positionAbsolute:oh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Yd=(t,e=[0,0])=>{const{x:n,y:r}=q6(t)?t.internals.positionAbsolute:oh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},AN=(t,e)=>Nm(Im(j5(t),j5(e))),F0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},Ew=t=>zi(t.width)&&zi(t.height)&&zi(t.x)&&zi(t.y),zi=t=>!isNaN(t)&&isFinite(t),wU=(t,e)=>{},uh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),ch=({x:t,y:e},[n,r,i],o=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return o?uh(c,l):c},Xd=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function xu(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function EU(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=xu(t,n),i=xu(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=xu(t.top??t.y??0,n),i=xu(t.bottom??t.y??0,n),o=xu(t.left??t.x??0,e),l=xu(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:o,x:o+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function SU(t,e,n,r,i,o){const{x:l,y:c}=Xd(t,[e,n,r]),{x:h,y:f}=Xd({x:t.x+t.width,y:t.y+t.height},[e,n,r]),m=i-h,p=o-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const P6=(t,e,n,r,i,o)=>{const l=EU(o,e,n),c=(e-l.x)/t.width,h=(n-l.y)/t.height,f=Math.min(c,h),m=Gu(f,r,i),p=t.x+t.width/2,y=t.y+t.height/2,b=e/2-p*m,E=n/2-y*m,T=SU(t,b,E,m,e,n),x={left:Math.min(T.left-l.left,0),top:Math.min(T.top-l.top,0),right:Math.min(T.right-l.right,0),bottom:Math.min(T.bottom-l.bottom,0)};return{x:b-x.left+x.right,y:E-x.top+x.bottom,zoom:m}},G0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Yu(t){return t!=null&&t!=="parent"}function hs(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function CN(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function RN(t,e={width:0,height:0},n,r,i){const o={...t},l=r.get(n);if(l){const c=l.origin||i;o.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],o.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return o}function Sw(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function xU(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function TU(t){return{..._N,...t||{}}}function R0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:l}=Vi(t),c=ch({x:o-(i?.left??0),y:l-(i?.top??0)},r),{x:h,y:f}=n?uh(c,e):c;return{xSnapped:h,ySnapped:f,...c}}const B6=t=>({width:t.offsetWidth,height:t.offsetHeight}),IN=t=>t?.getRootNode?.()||window?.document,AU=["INPUT","SELECT","TEXTAREA"];function NN(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:AU.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const MN=t=>"clientX"in t,Vi=(t,e)=>{const n=MN(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},xw=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...B6(l)}})};function kN({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:c}){const h=t*.125+i*.375+l*.375+n*.125,f=e*.125+o*.375+c*.375+r*.125,m=Math.abs(h-t),p=Math.abs(f-e);return[h,f,m,p]}function rd(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Tw({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case Ye.Left:return[e-rd(e-r,o),n];case Ye.Right:return[e+rd(r-e,o),n];case Ye.Top:return[e,n-rd(n-i,o)];case Ye.Bottom:return[e,n+rd(i-n,o)]}}function DN({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top,curvature:l=.25}){const[c,h]=Tw({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[f,m]=Tw({pos:o,x1:r,y1:i,x2:t,y2:e,c:l}),[p,y,b,E]=kN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:h,targetControlX:f,targetControlY:m});return[`M${t},${e} C${c},${h} ${f},${m} ${r},${i}`,p,y,b,E]}function ON({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[o,c,i,l]}function CU({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function RU({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=Im(Yd(t),Yd(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return F0(l,Nm(o))>0}const IU=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,NU=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),MU=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||IU;let i;return EN(t)?i={...t}:i={...t,id:r(t)},NU(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function zN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,l,c]=ON({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,l,c]}const Aw={[Ye.Left]:{x:-1,y:0},[Ye.Right]:{x:1,y:0},[Ye.Top]:{x:0,y:-1},[Ye.Bottom]:{x:0,y:1}},kU=({source:t,sourcePosition:e=Ye.Bottom,target:n})=>e===Ye.Left||e===Ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Cw=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function DU({source:t,sourcePosition:e=Ye.Bottom,target:n,targetPosition:r=Ye.Top,center:i,offset:o,stepPosition:l}){const c=Aw[e],h=Aw[r],f={x:t.x+c.x*o,y:t.y+c.y*o},m={x:n.x+h.x*o,y:n.y+h.y*o},p=kU({source:f,sourcePosition:e,target:m}),y=p.x!==0?"x":"y",b=p[y];let E=[],T,x;const C={x:0,y:0},D={x:0,y:0},[,,A,O]=ON({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[y]*h[y]===-1){y==="x"?(T=i.x??f.x+(m.x-f.x)*l,x=i.y??(f.y+m.y)/2):(T=i.x??(f.x+m.x)/2,x=i.y??f.y+(m.y-f.y)*l);const L=[{x:T,y:f.y},{x:T,y:m.y}],I=[{x:f.x,y:x},{x:m.x,y:x}];c[y]===b?E=y==="x"?L:I:E=y==="x"?I:L}else{const L=[{x:f.x,y:m.y}],I=[{x:m.x,y:f.y}];if(y==="x"?E=c.x===b?I:L:E=c.y===b?L:I,e===r){const B=Math.abs(t[y]-n[y]);if(B<=o){const P=Math.min(o-1,o-B);c[y]===b?C[y]=(f[y]>t[y]?-1:1)*P:D[y]=(m[y]>n[y]?-1:1)*P}}if(e!==r){const B=y==="x"?"y":"x",P=c[y]===h[B],K=f[B]>m[B],te=f[B]<m[B];(c[y]===1&&(!P&&K||P&&te)||c[y]!==1&&(!P&&te||P&&K))&&(E=y==="x"?L:I)}const M={x:f.x+C.x,y:f.y+C.y},k={x:m.x+D.x,y:m.y+D.y},H=Math.max(Math.abs(M.x-E[0].x),Math.abs(k.x-E[0].x)),V=Math.max(Math.abs(M.y-E[0].y),Math.abs(k.y-E[0].y));H>=V?(T=(M.x+k.x)/2,x=E[0].y):(T=E[0].x,x=(M.y+k.y)/2)}return[[t,{x:f.x+C.x,y:f.y+C.y},...E,{x:m.x+D.x,y:m.y+D.y},n],T,x,A,O]}function OU(t,e,n,r){const i=Math.min(Cw(t,e)/2,Cw(e,n)/2,r),{x:o,y:l}=e;if(t.x===o&&o===n.x||t.y===l&&l===n.y)return`L${o} ${l}`;if(t.y===l){const f=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${o+i*f},${l}Q ${o},${l} ${o},${l+i*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${o},${l+i*h}Q ${o},${l} ${o+i*c},${l}`}function F5({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top,borderRadius:l=5,centerX:c,centerY:h,offset:f=20,stepPosition:m=.5}){const[p,y,b,E,T]=DU({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:c,y:h},offset:f,stepPosition:m});return[p.reduce((C,D,A)=>{let O="";return A>0&&A<p.length-1?O=OU(p[A-1],D,p[A+1],l):O=`${A===0?"M":"L"}${D.x} ${D.y}`,C+=O,C},""),y,b,E,T]}function Rw(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function zU(t){const{sourceNode:e,targetNode:n}=t;if(!Rw(e)||!Rw(n))return null;const r=e.internals.handleBounds||Iw(e.handles),i=n.internals.handleBounds||Iw(n.handles),o=Nw(r?.source??[],t.sourceHandle),l=Nw(t.connectionMode===Fu.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!o||!l)return t.onError?.("008",da.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=o?.position||Ye.Bottom,h=l?.position||Ye.Top,f=_l(e,o,c),m=_l(n,l,h);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:h}}function Iw(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function _l(t,e,n=Ye.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,o=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??hs(t);if(r)return{x:i+l/2,y:o+c/2};switch(e?.position??n){case Ye.Top:return{x:i+l/2,y:o};case Ye.Right:return{x:i+l,y:o+c/2};case Ye.Bottom:return{x:i+l/2,y:o+c};case Ye.Left:return{x:i,y:o+c/2}}}function Nw(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function G5(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function VU(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(h=>{if(h&&typeof h=="object"){const f=G5(h,e);o.has(f)||(l.push({id:f,color:h.color||n,...h}),o.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const VN=1e3,qU=10,U6={nodeOrigin:[0,0],nodeExtent:U0,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},LU={...U6,checkEquality:!0};function H6(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function PU(t,e,n){const r=H6(U6,n);for(const i of t.values())if(i.parentId)F6(i,t,e,r);else{const o=oh(i,r.nodeOrigin),l=Yu(i.extent)?i.extent:r.nodeExtent,c=yl(o,l,hs(i));i.internals.positionAbsolute=c}}function BU(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function j6(t){return t==="manual"}function $5(t,e,n,r={}){const i=H6(LU,r),o={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!j6(i.zIndexMode)?VN:0;let h=t.length>0;e.clear(),n.clear();for(const f of t){let m=l.get(f.id);if(i.checkEquality&&f===m?.internals.userNode)e.set(f.id,m);else{const p=oh(f,i.nodeOrigin),y=Yu(f.extent)?f.extent:i.nodeExtent,b=yl(p,y,hs(f));m={...i.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:b,handleBounds:BU(f,m),z:qN(f,c,i.zIndexMode),userNode:f}},e.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),f.parentId&&F6(m,e,n,r,o)}return h}function UU(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function F6(t,e,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:c,zIndexMode:h}=H6(U6,r),f=t.parentId,m=e.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}UU(t,n),i&&!m.parentId&&m.internals.rootParentIndex===void 0&&h==="auto"&&(m.internals.rootParentIndex=++i.i,m.internals.z=m.internals.z+i.i*qU),i&&m.internals.rootParentIndex!==void 0&&(i.i=m.internals.rootParentIndex);const p=o&&!j6(h)?VN:0,{x:y,y:b,z:E}=HU(t,m,l,c,p,h),{positionAbsolute:T}=t.internals,x=y!==T.x||b!==T.y;(x||E!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:x?{x:y,y:b}:T,z:E}})}function qN(t,e,n){const r=zi(t.zIndex)?t.zIndex:0;return j6(n)?r:r+(t.selected?e:0)}function HU(t,e,n,r,i,o){const{x:l,y:c}=e.internals.positionAbsolute,h=hs(t),f=oh(t,n),m=Yu(t.extent)?yl(f,t.extent,h):f;let p=yl({x:l+m.x,y:c+m.y},r,h);t.extent==="parent"&&(p=xN(p,h,e));const y=qN(t,i,o),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>=y?b+1:y}}function G6(t,e,n,r=[0,0]){const i=[],o=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const h=o.get(l.parentId)?.expandedRect??$u(c),f=AN(h,l.rect);o.set(l.parentId,{expandedRect:f,parent:c})}return o.size>0&&o.forEach(({expandedRect:l,parent:c},h)=>{const f=c.internals.positionAbsolute,m=hs(c),p=c.origin??r,y=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,b=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,E=Math.max(m.width,Math.round(l.width)),T=Math.max(m.height,Math.round(l.height)),x=(E-m.width)*p[0],C=(T-m.height)*p[1];(y>0||b>0||x||C)&&(i.push({id:h,type:"position",position:{x:c.position.x-y+x,y:c.position.y-b+C}}),n.get(h)?.forEach(D=>{t.some(A=>A.id===D.id)||i.push({id:D.id,type:"position",position:{x:D.position.x+y,y:D.position.y+b}})})),(m.width<l.width||m.height<l.height||y||b)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:E+(y?p[0]*y-x:0),height:T+(b?p[1]*b-C:0)}})}),i}function jU(t,e,n,r,i,o,l){const c=r?.querySelector(".xyflow__viewport");let h=!1;if(!c)return{changes:[],updatedInternals:h};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),y=[];for(const b of t.values()){const E=e.get(b.id);if(!E)continue;if(E.hidden){e.set(E.id,{...E,internals:{...E.internals,handleBounds:void 0}}),h=!0;continue}const T=B6(b.nodeElement),x=E.measured.width!==T.width||E.measured.height!==T.height;if(!!(T.width&&T.height&&(x||!E.internals.handleBounds||b.force))){const D=b.nodeElement.getBoundingClientRect(),A=Yu(E.extent)?E.extent:o;let{positionAbsolute:O}=E.internals;E.parentId&&E.extent==="parent"?O=xN(O,T,e.get(E.parentId)):A&&(O=yl(O,A,T));const U={...E,measured:T,internals:{...E.internals,positionAbsolute:O,handleBounds:{source:xw("source",b.nodeElement,D,p,E.id),target:xw("target",b.nodeElement,D,p,E.id)}}};e.set(E.id,U),E.parentId&&F6(U,e,n,{nodeOrigin:i,zIndexMode:l}),h=!0,x&&(f.push({id:E.id,type:"dimensions",dimensions:T}),E.expandParent&&E.parentId&&y.push({id:E.id,parentId:E.parentId,rect:$u(U,i)}))}}if(y.length>0){const b=G6(y,e,n,i);f.push(...b)}return{changes:f,updatedInternals:h}}async function FU({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function Mw(t,e,n,r,i,o){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const h=r.get(l)||new Map;if(r.set(l,h.set(n,e)),o){l=`${i}-${t}-${o}`;const f=r.get(l)||new Map;r.set(l,f.set(n,e))}}function LN(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:l=null,targetHandle:c=null}=r,h={edgeId:r.id,source:i,target:o,sourceHandle:l,targetHandle:c},f=`${i}-${l}--${o}-${c}`,m=`${o}-${c}--${i}-${l}`;Mw("source",h,m,t,i,l),Mw("target",h,f,t,o,c),e.set(r.id,r)}}function PN(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:PN(n,e):!1}function kw(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function GU(t,e,n,r){const i=new Map;for(const[o,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!PN(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(o);c&&i.set(o,{id:o,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function kg({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const h=n.get(l)?.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=n.get(t)?.internals.userNode;return[o?{...o,position:e.get(t)?.position||o.position,dragging:r}:i[0],i]}function $U({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},l=uh(o,e);return{x:l.x-o.x,y:l.y-o.y}}function YU({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},l=0,c=new Map,h=!1,f={x:0,y:0},m=null,p=!1,y=null,b=!1,E=!1,T=null;function x({noDragClassName:D,handleSelector:A,domNode:O,isSelectable:U,nodeId:L,nodeClickDistance:I=0}){y=Pr(O);function M({x:B,y:P}){const{nodeLookup:K,nodeExtent:te,snapGrid:$,snapToGrid:W,nodeOrigin:re,onNodeDrag:oe,onSelectionDrag:ye,onError:Y,updateNodePositions:ee}=e();o={x:B,y:P};let pe=!1;const Q=c.size>1,ie=Q&&te?j5(lh(c)):null,ue=Q&&W?$U({dragItems:c,snapGrid:$,x:B,y:P}):null;for(const[ge,be]of c){if(!K.has(ge))continue;let Ce={x:B-be.distance.x,y:P-be.distance.y};W&&(Ce=ue?{x:Math.round(Ce.x+ue.x),y:Math.round(Ce.y+ue.y)}:uh(Ce,$));let Ve=null;if(Q&&te&&!be.extent&&ie){const{positionAbsolute:Pe}=be.internals,Ge=Pe.x-ie.x+te[0][0],Be=Pe.x+be.measured.width-ie.x2+te[1][0],it=Pe.y-ie.y+te[0][1],$e=Pe.y+be.measured.height-ie.y2+te[1][1];Ve=[[Ge,it],[Be,$e]]}const{position:je,positionAbsolute:He}=SN({nodeId:ge,nextPosition:Ce,nodeLookup:K,nodeExtent:Ve||te,nodeOrigin:re,onError:Y});pe=pe||be.position.x!==je.x||be.position.y!==je.y,be.position=je,be.internals.positionAbsolute=He}if(E=E||pe,!!pe&&(ee(c,!0),T&&(r||oe||!L&&ye))){const[ge,be]=kg({nodeId:L,dragItems:c,nodeLookup:K});r?.(T,c,ge,be),oe?.(T,ge,be),L||ye?.(T,be)}}async function k(){if(!m)return;const{transform:B,panBy:P,autoPanSpeed:K,autoPanOnNodeDrag:te}=e();if(!te){h=!1,cancelAnimationFrame(l);return}const[$,W]=TN(f,m,K);($!==0||W!==0)&&(o.x=(o.x??0)-$/B[2],o.y=(o.y??0)-W/B[2],await P({x:$,y:W})&&M(o)),l=requestAnimationFrame(k)}function H(B){const{nodeLookup:P,multiSelectionActive:K,nodesDraggable:te,transform:$,snapGrid:W,snapToGrid:re,selectNodesOnDrag:oe,onNodeDragStart:ye,onSelectionDragStart:Y,unselectNodesAndEdges:ee}=e();p=!0,(!oe||!U)&&!K&&L&&(P.get(L)?.selected||ee()),U&&oe&&L&&t?.(L);const pe=R0(B.sourceEvent,{transform:$,snapGrid:W,snapToGrid:re,containerBounds:m});if(o=pe,c=GU(P,te,pe,L),c.size>0&&(n||ye||!L&&Y)){const[Q,ie]=kg({nodeId:L,dragItems:c,nodeLookup:P});n?.(B.sourceEvent,c,Q,ie),ye?.(B.sourceEvent,Q,ie),L||Y?.(B.sourceEvent,ie)}}const V=nN().clickDistance(I).on("start",B=>{const{domNode:P,nodeDragThreshold:K,transform:te,snapGrid:$,snapToGrid:W}=e();m=P?.getBoundingClientRect()||null,b=!1,E=!1,T=B.sourceEvent,K===0&&H(B),o=R0(B.sourceEvent,{transform:te,snapGrid:$,snapToGrid:W,containerBounds:m}),f=Vi(B.sourceEvent,m)}).on("drag",B=>{const{autoPanOnNodeDrag:P,transform:K,snapGrid:te,snapToGrid:$,nodeDragThreshold:W,nodeLookup:re}=e(),oe=R0(B.sourceEvent,{transform:K,snapGrid:te,snapToGrid:$,containerBounds:m});if(T=B.sourceEvent,(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||L&&!re.has(L))&&(b=!0),!b){if(!h&&P&&p&&(h=!0,k()),!p){const ye=Vi(B.sourceEvent,m),Y=ye.x-f.x,ee=ye.y-f.y;Math.sqrt(Y*Y+ee*ee)>W&&H(B)}(o.x!==oe.xSnapped||o.y!==oe.ySnapped)&&c&&p&&(f=Vi(B.sourceEvent,m),M(oe))}}).on("end",B=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:P,updateNodePositions:K,onNodeDragStop:te,onSelectionDragStop:$}=e();if(E&&(K(c,!1),E=!1),i||te||!L&&$){const[W,re]=kg({nodeId:L,dragItems:c,nodeLookup:P,dragging:!1});i?.(B.sourceEvent,c,W,re),te?.(B.sourceEvent,W,re),L||$?.(B.sourceEvent,re)}}}).filter(B=>{const P=B.target;return!B.button&&(!D||!kw(P,`.${D}`,O))&&(!A||kw(P,A,O))});y.call(V)}function C(){y?.on(".drag",null)}return{update:x,destroy:C}}function XU(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())F0(i,$u(o))>0&&r.push(o);return r}const KU=250;function QU(t,e,n,r){let i=[],o=1/0;const l=XU(t,n,e+KU);for(const c of l){const h=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:m,y:p}=_l(c,f,f.position,!0),y=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(p-t.y,2));y>e||(y<o?(i=[{...f,x:m,y:p}],o=y):y===o&&i.push({...f,x:m,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(h=>h.type===c)??i[0]}return i[0]}function BN(t,e,n,r,i,o=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],h=(n?c?.find(f=>f.id===n):c?.[0])??null;return h&&o?{...h,..._l(l,h,h.position,!0)}:h}function UN(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function ZU(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const HN=()=>!0;function WU(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:l,domNode:c,nodeLookup:h,lib:f,autoPanOnConnect:m,flowId:p,panBy:y,cancelConnection:b,onConnectStart:E,onConnect:T,onConnectEnd:x,isValidConnection:C=HN,onReconnectEnd:D,updateConnection:A,getTransform:O,getFromHandle:U,autoPanSpeed:L,dragThreshold:I=1,handleDomNode:M}){const k=IN(t.target);let H=0,V;const{x:B,y:P}=Vi(t),K=UN(o,M),te=c?.getBoundingClientRect();let $=!1;if(!te||!K)return;const W=BN(i,K,r,h,e);if(!W)return;let re=Vi(t,te),oe=!1,ye=null,Y=!1,ee=null;function pe(){if(!m||!te)return;const[je,He]=TN(re,te,L);y({x:je,y:He}),H=requestAnimationFrame(pe)}const Q={...W,nodeId:i,type:K,position:W.position},ie=h.get(i);let ge={inProgress:!0,isValid:null,from:_l(ie,Q,Ye.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:re,toHandle:null,toPosition:bw[Q.position],toNode:null,pointer:re};function be(){$=!0,A(ge),E?.(t,{nodeId:i,handleId:r,handleType:K})}I===0&&be();function Ce(je){if(!$){const{x:$e,y:Bt}=Vi(je),st=$e-B,It=Bt-P;if(!(st*st+It*It>I*I))return;be()}if(!U()||!Q){Ve(je);return}const He=O();re=Vi(je,te),V=QU(ch(re,He,!1,[1,1]),n,h,Q),oe||(pe(),oe=!0);const Pe=jN(je,{handle:V,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:C,doc:k,lib:f,flowId:p,nodeLookup:h});ee=Pe.handleDomNode,ye=Pe.connection,Y=ZU(!!V,Pe.isValid);const Ge=h.get(i),Be=Ge?_l(Ge,Q,Ye.Left,!0):ge.from,it={...ge,from:Be,isValid:Y,to:Pe.toHandle&&Y?Xd({x:Pe.toHandle.x,y:Pe.toHandle.y},He):re,toHandle:Pe.toHandle,toPosition:Y&&Pe.toHandle?Pe.toHandle.position:bw[Q.position],toNode:Pe.toHandle?h.get(Pe.toHandle.nodeId):null,pointer:re};A(it),ge=it}function Ve(je){if(!("touches"in je&&je.touches.length>0)){if($){(V||ee)&&ye&&Y&&T?.(ye);const{inProgress:He,...Pe}=ge,Ge={...Pe,toPosition:ge.toHandle?ge.toPosition:null};x?.(je,Ge),o&&D?.(je,Ge)}b(),cancelAnimationFrame(H),oe=!1,Y=!1,ye=null,ee=null,k.removeEventListener("mousemove",Ce),k.removeEventListener("mouseup",Ve),k.removeEventListener("touchmove",Ce),k.removeEventListener("touchend",Ve)}}k.addEventListener("mousemove",Ce),k.addEventListener("mouseup",Ve),k.addEventListener("touchmove",Ce),k.addEventListener("touchend",Ve)}function jN(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:l,lib:c,flowId:h,isValidConnection:f=HN,nodeLookup:m}){const p=o==="target",y=e?l.querySelector(`.${c}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:b,y:E}=Vi(t),T=l.elementFromPoint(b,E),x=T?.classList.contains(`${c}-flow__handle`)?T:y,C={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const D=UN(void 0,x),A=x.getAttribute("data-nodeid"),O=x.getAttribute("data-handleid"),U=x.classList.contains("connectable"),L=x.classList.contains("connectableend");if(!A||!D)return C;const I={source:p?A:r,sourceHandle:p?O:i,target:p?r:A,targetHandle:p?i:O};C.connection=I;const k=U&&L&&(n===Fu.Strict?p&&D==="source"||!p&&D==="target":A!==r||O!==i);C.isValid=k&&f(I),C.toHandle=BN(A,D,O,m,n,!0)}return C}const Y5={onPointerDown:WU,isValid:jN};function JU({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Pr(t);function o({translateExtent:c,width:h,height:f,zoomStep:m=1,pannable:p=!0,zoomable:y=!0,inversePan:b=!1}){const E=A=>{if(A.sourceEvent.type!=="wheel"||!e)return;const O=n(),U=A.sourceEvent.ctrlKey&&G0()?10:1,L=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*m,I=O[2]*Math.pow(2,L*U);e.scaleTo(I)};let T=[0,0];const x=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(T=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const O=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!e)return;const U=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],L=[U[0]-T[0],U[1]-T[1]];T=U;const I=r()*Math.max(O[2],Math.log(O[2]))*(b?-1:1),M={x:O[0]-L[0]*I,y:O[1]-L[1]*I},k=[[0,0],[h,f]];e.setViewportConstrained({x:M.x,y:M.y,zoom:O[2]},k,c)},D=vN().on("start",x).on("zoom",p?C:null).on("zoom.wheel",y?E:null);i.call(D,{})}function l(){i.on("zoom",null)}return{update:o,destroy:l,pointer:Mi}}const Mm=t=>({x:t.x,y:t.y,zoom:t.k}),Dg=({x:t,y:e,zoom:n})=>Rm.translate(t,e).scale(n),Mu=(t,e)=>t.target.closest(`.${e}`),FN=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),eH=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Og=(t,e=0,n=eH,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},GN=t=>{const e=t.ctrlKey&&G0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function tH({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:h,onPanZoomEnd:f}){return m=>{if(Mu(m,e))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const x=Mi(m),C=GN(m),D=p*Math.pow(2,C);r.scaleTo(n,D,x,m);return}const y=m.deltaMode===1?20:1;let b=i===ml.Vertical?0:m.deltaX*y,E=i===ml.Horizontal?0:m.deltaY*y;!G0()&&m.shiftKey&&i!==ml.Vertical&&(b=m.deltaY*y,E=0),r.translateBy(n,-(b/p)*o,-(E/p)*o,{internal:!0});const T=Mm(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(m,T),t.panScrollTimeout=setTimeout(()=>{f?.(m,T),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(m,T))}}function nH({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",l=!e&&o&&!r.ctrlKey,c=Mu(r,t);if(r.ctrlKey&&o&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function rH({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Mm(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function iH({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{t.usedRightMouseButton=!!(n&&FN(e,t.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,Mm(o.transform))}}function aH({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,o&&FN(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&o(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=Mm(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function sH({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:l,noWheelClassName:c,noPanClassName:h,lib:f,connectionInProgress:m}){return p=>{const y=t||e,b=n&&p.ctrlKey,E=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Mu(p,`${f}-flow__node`)||Mu(p,`${f}-flow__edge`)))return!0;if(!r&&!y&&!i&&!o&&!n||l||m&&!E||Mu(p,c)&&E||Mu(p,h)&&(!E||i&&E&&!t)||!n&&p.ctrlKey&&E)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!y&&!i&&!b&&E||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const T=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||E)&&T}}function oH({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:h}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=vN().scaleExtent([e,n]).translateExtent(r),y=Pr(t).call(p);D({x:i.x,y:i.y,zoom:Gu(i.zoom,e,n)},[[0,0],[m.width,m.height]],r);const b=y.on("wheel.zoom"),E=y.on("dblclick.zoom");p.wheelDelta(GN);function T(V,B){return y?new Promise(P=>{p?.interpolate(B?.interpolate==="linear"?C0:Sd).transform(Og(y,B?.duration,B?.ease,()=>P(!0)),V)}):Promise.resolve(!1)}function x({noWheelClassName:V,noPanClassName:B,onPaneContextMenu:P,userSelectionActive:K,panOnScroll:te,panOnDrag:$,panOnScrollMode:W,panOnScrollSpeed:re,preventScrolling:oe,zoomOnPinch:ye,zoomOnScroll:Y,zoomOnDoubleClick:ee,zoomActivationKeyPressed:pe,lib:Q,onTransformChange:ie,connectionInProgress:ue,paneClickDistance:ge,selectionOnDrag:be}){K&&!f.isZoomingOrPanning&&C();const Ce=te&&!pe&&!K;p.clickDistance(be?1/0:!zi(ge)||ge<0?0:ge);const Ve=Ce?tH({zoomPanValues:f,noWheelClassName:V,d3Selection:y,d3Zoom:p,panOnScrollMode:W,panOnScrollSpeed:re,zoomOnPinch:ye,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):nH({noWheelClassName:V,preventScrolling:oe,d3ZoomHandler:b});if(y.on("wheel.zoom",Ve,{passive:!1}),!K){const He=rH({zoomPanValues:f,onDraggingChange:h,onPanZoomStart:l});p.on("start",He);const Pe=iH({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!P,onPanZoom:o,onTransformChange:ie});p.on("zoom",Pe);const Ge=aH({zoomPanValues:f,panOnDrag:$,panOnScroll:te,onPaneContextMenu:P,onPanZoomEnd:c,onDraggingChange:h});p.on("end",Ge)}const je=sH({zoomActivationKeyPressed:pe,panOnDrag:$,zoomOnScroll:Y,panOnScroll:te,zoomOnDoubleClick:ee,zoomOnPinch:ye,userSelectionActive:K,noPanClassName:B,noWheelClassName:V,lib:Q,connectionInProgress:ue});p.filter(je),ee?y.on("dblclick.zoom",E):y.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function D(V,B,P){const K=Dg(V),te=p?.constrain()(K,B,P);return te&&await T(te),new Promise($=>$(te))}async function A(V,B){const P=Dg(V);return await T(P,B),new Promise(K=>K(P))}function O(V){if(y){const B=Dg(V),P=y.property("__zoom");(P.k!==V.zoom||P.x!==V.x||P.y!==V.y)&&p?.transform(y,B,null,{sync:!0})}}function U(){const V=y?gN(y.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function L(V,B){return y?new Promise(P=>{p?.interpolate(B?.interpolate==="linear"?C0:Sd).scaleTo(Og(y,B?.duration,B?.ease,()=>P(!0)),V)}):Promise.resolve(!1)}function I(V,B){return y?new Promise(P=>{p?.interpolate(B?.interpolate==="linear"?C0:Sd).scaleBy(Og(y,B?.duration,B?.ease,()=>P(!0)),V)}):Promise.resolve(!1)}function M(V){p?.scaleExtent(V)}function k(V){p?.translateExtent(V)}function H(V){const B=!zi(V)||V<0?0:V;p?.clickDistance(B)}return{update:x,destroy:C,setViewport:A,setViewportConstrained:D,getViewport:U,scaleTo:L,scaleBy:I,setScaleExtent:M,setTranslateExtent:k,syncViewport:O,setClickDistance:H}}var Xu;(function(t){t.Line="line",t.Handle="handle"})(Xu||(Xu={}));function lH({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const l=t-e,c=n-r,h=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(h[0]=h[0]*-1),c&&o&&(h[1]=h[1]*-1),h}function Dw(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Zs(t,e){return Math.max(0,e-t)}function Ws(t,e){return Math.max(0,t-e)}function id(t,e,n){return Math.max(0,e-t,t-n)}function Ow(t,e){return t?!e:e}function uH(t,e,n,r,i,o,l,c){let{affectsX:h,affectsY:f}=e;const{isHorizontal:m,isVertical:p}=e,y=m&&p,{xSnapped:b,ySnapped:E}=n,{minWidth:T,maxWidth:x,minHeight:C,maxHeight:D}=r,{x:A,y:O,width:U,height:L,aspectRatio:I}=t;let M=Math.floor(m?b-t.pointerX:0),k=Math.floor(p?E-t.pointerY:0);const H=U+(h?-M:M),V=L+(f?-k:k),B=-o[0]*U,P=-o[1]*L;let K=id(H,T,x),te=id(V,C,D);if(l){let re=0,oe=0;h&&M<0?re=Zs(A+M+B,l[0][0]):!h&&M>0&&(re=Ws(A+H+B,l[1][0])),f&&k<0?oe=Zs(O+k+P,l[0][1]):!f&&k>0&&(oe=Ws(O+V+P,l[1][1])),K=Math.max(K,re),te=Math.max(te,oe)}if(c){let re=0,oe=0;h&&M>0?re=Ws(A+M,c[0][0]):!h&&M<0&&(re=Zs(A+H,c[1][0])),f&&k>0?oe=Ws(O+k,c[0][1]):!f&&k<0&&(oe=Zs(O+V,c[1][1])),K=Math.max(K,re),te=Math.max(te,oe)}if(i){if(m){const re=id(H/I,C,D)*I;if(K=Math.max(K,re),l){let oe=0;!h&&!f||h&&!f&&y?oe=Ws(O+P+H/I,l[1][1])*I:oe=Zs(O+P+(h?M:-M)/I,l[0][1])*I,K=Math.max(K,oe)}if(c){let oe=0;!h&&!f||h&&!f&&y?oe=Zs(O+H/I,c[1][1])*I:oe=Ws(O+(h?M:-M)/I,c[0][1])*I,K=Math.max(K,oe)}}if(p){const re=id(V*I,T,x)/I;if(te=Math.max(te,re),l){let oe=0;!h&&!f||f&&!h&&y?oe=Ws(A+V*I+B,l[1][0])/I:oe=Zs(A+(f?k:-k)*I+B,l[0][0])/I,te=Math.max(te,oe)}if(c){let oe=0;!h&&!f||f&&!h&&y?oe=Zs(A+V*I,c[1][0])/I:oe=Ws(A+(f?k:-k)*I,c[0][0])/I,te=Math.max(te,oe)}}}k=k+(k<0?te:-te),M=M+(M<0?K:-K),i&&(y?H>V*I?k=(Ow(h,f)?-M:M)/I:M=(Ow(h,f)?-k:k)*I:m?(k=M/I,f=h):(M=k*I,h=f));const $=h?A+M:A,W=f?O+k:O;return{width:U+(h?-M:M),height:L+(f?-k:k),x:o[0]*M*(h?-1:1)+$,y:o[1]*k*(f?-1:1)+W}}const $N={width:0,height:0,x:0,y:0},cH={...$N,pointerX:0,pointerY:0,aspectRatio:1};function hH(t){return[[0,0],[t.measured.width,t.measured.height]]}function fH(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,l=t.measured.height??0,c=n[0]*o,h=n[1]*l;return[[r-c,i-h],[r+o-c,i+l-h]]}function dH({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Pr(t);let l={controlDirection:Dw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:y,onResizeStart:b,onResize:E,onResizeEnd:T,shouldResize:x}){let C={...$N},D={...cH};l={boundaries:m,resizeDirection:y,keepAspectRatio:p,controlDirection:Dw(f)};let A,O=null,U=[],L,I,M,k=!1;const H=nN().on("start",V=>{const{nodeLookup:B,transform:P,snapGrid:K,snapToGrid:te,nodeOrigin:$,paneDomNode:W}=n();if(A=B.get(e),!A)return;O=W?.getBoundingClientRect()??null;const{xSnapped:re,ySnapped:oe}=R0(V.sourceEvent,{transform:P,snapGrid:K,snapToGrid:te,containerBounds:O});C={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},D={...C,pointerX:re,pointerY:oe,aspectRatio:C.width/C.height},L=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(L=B.get(A.parentId),I=L&&A.extent==="parent"?hH(L):void 0),U=[],M=void 0;for(const[ye,Y]of B)if(Y.parentId===e&&(U.push({id:ye,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const ee=fH(Y,A,Y.origin??$);M?M=[[Math.min(ee[0][0],M[0][0]),Math.min(ee[0][1],M[0][1])],[Math.max(ee[1][0],M[1][0]),Math.max(ee[1][1],M[1][1])]]:M=ee}b?.(V,{...C})}).on("drag",V=>{const{transform:B,snapGrid:P,snapToGrid:K,nodeOrigin:te}=n(),$=R0(V.sourceEvent,{transform:B,snapGrid:P,snapToGrid:K,containerBounds:O}),W=[];if(!A)return;const{x:re,y:oe,width:ye,height:Y}=C,ee={},pe=A.origin??te,{width:Q,height:ie,x:ue,y:ge}=uH(D,l.controlDirection,$,l.boundaries,l.keepAspectRatio,pe,I,M),be=Q!==ye,Ce=ie!==Y,Ve=ue!==re&&be,je=ge!==oe&&Ce;if(!Ve&&!je&&!be&&!Ce)return;if((Ve||je||pe[0]===1||pe[1]===1)&&(ee.x=Ve?ue:C.x,ee.y=je?ge:C.y,C.x=ee.x,C.y=ee.y,U.length>0)){const Be=ue-re,it=ge-oe;for(const $e of U)$e.position={x:$e.position.x-Be+pe[0]*(Q-ye),y:$e.position.y-it+pe[1]*(ie-Y)},W.push($e)}if((be||Ce)&&(ee.width=be&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Q:C.width,ee.height=Ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ie:C.height,C.width=ee.width,C.height=ee.height),L&&A.expandParent){const Be=pe[0]*(ee.width??0);ee.x&&ee.x<Be&&(C.x=Be,D.x=D.x-(ee.x-Be));const it=pe[1]*(ee.height??0);ee.y&&ee.y<it&&(C.y=it,D.y=D.y-(ee.y-it))}const He=lH({width:C.width,prevWidth:ye,height:C.height,prevHeight:Y,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Pe={...C,direction:He};x?.(V,Pe)!==!1&&(k=!0,E?.(V,Pe),r(ee,W))}).on("end",V=>{k&&(T?.(V,{...C}),i?.({...C}),k=!1)});o.call(H)}function h(){o.on(".drag",null)}return{update:c,destroy:h}}var zg={exports:{}},Vg={},qg={exports:{}},Lg={};var zw;function mH(){if(zw)return Lg;zw=1;var t=ih();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(p,y){var b=y(),E=r({inst:{value:b,getSnapshot:y}}),T=E[0].inst,x=E[1];return o(function(){T.value=b,T.getSnapshot=y,h(T)&&x({inst:T})},[p,b,y]),i(function(){return h(T)&&x({inst:T}),p(function(){h(T)&&x({inst:T})})},[p]),l(b),b}function h(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Lg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Lg}var Vw;function pH(){return Vw||(Vw=1,qg.exports=mH()),qg.exports}var qw;function gH(){if(qw)return Vg;qw=1;var t=ih(),e=pH();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Vg.useSyncExternalStoreWithSelector=function(f,m,p,y,b){var E=o(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=c(function(){function C(L){if(!D){if(D=!0,A=L,L=y(L),b!==void 0&&T.hasValue){var I=T.value;if(b(I,L))return O=I}return O=L}if(I=O,r(A,L))return I;var M=y(L);return b!==void 0&&b(I,M)?(A=L,I):(A=L,O=M)}var D=!1,A,O,U=p===void 0?null:p;return[function(){return C(m())},U===null?void 0:function(){return C(U())}]},[m,p,y,b]);var x=i(f,E[0],E[1]);return l(function(){T.hasValue=!0,T.value=x},[x]),h(x),x},Vg}var Lw;function vH(){return Lw||(Lw=1,zg.exports=gH()),zg.exports}var yH=vH();const _H=Sm(yH),bH={},Pw=t=>{let e;const n=new Set,r=(m,p)=>{const y=typeof m=="function"?m(e):m;if(!Object.is(y,e)){const b=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(E=>E(e,b))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(bH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,i,h);return h},wH=t=>t?Pw(t):Pw,{useDebugValue:EH}=BI,{useSyncExternalStoreWithSelector:SH}=_H,xH=t=>t;function YN(t,e=xH,n){const r=SH(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return EH(r),r}const Bw=(t,e)=>{const n=wH(t),r=(i,o=e)=>YN(n,i,o);return Object.assign(r,n),r},TH=(t,e)=>t?Bw(t,e):Bw;function Kt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}UI();const km=ce.createContext(null),AH=km.Provider,XN=da.error001();function bt(t,e){const n=ce.useContext(km);if(n===null)throw new Error(XN);return YN(n,t,e)}function Qt(){const t=ce.useContext(km);if(t===null)throw new Error(XN);return ce.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Uw={display:"none"},CH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},KN="react-flow__node-desc",QN="react-flow__edge-desc",RH="react-flow__aria-live",IH=t=>t.ariaLiveMessage,NH=t=>t.ariaLabelConfig;function MH({rfId:t}){const e=bt(IH);return G.jsx("div",{id:`${RH}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:CH,children:e})}function kH({rfId:t,disableKeyboardA11y:e}){const n=bt(NH);return G.jsxs(G.Fragment,{children:[G.jsx("div",{id:`${KN}-${t}`,style:Uw,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),G.jsx("div",{id:`${QN}-${t}`,style:Uw,children:n["edge.a11yDescription.default"]}),!e&&G.jsx(MH,{rfId:t})]})}const Dm=ce.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const l=`${t}`.split("-");return G.jsx("div",{className:Rn(["react-flow__panel",n,...l]),style:r,ref:o,...i,children:e})});Dm.displayName="Panel";function DH({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:G.jsx(Dm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:G.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const OH=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},ad=t=>t.id;function zH(t,e){return Kt(t.selectedNodes.map(ad),e.selectedNodes.map(ad))&&Kt(t.selectedEdges.map(ad),e.selectedEdges.map(ad))}function VH({onSelectionChange:t}){const e=Qt(),{selectedNodes:n,selectedEdges:r}=bt(OH,zH);return ce.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const qH=t=>!!t.onSelectionChangeHandlers;function LH({onSelectionChange:t}){const e=bt(qH);return t||e?G.jsx(VH,{onSelectionChange:t}):null}const ZN=[0,0],PH={x:0,y:0,zoom:1},BH=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Hw=[...BH,"rfId"],UH=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),jw={translateExtent:U0,nodeOrigin:ZN,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function HH(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:h}=bt(UH,Kt),f=Qt();ce.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{m.current=jw,c()}),[]);const m=ce.useRef(jw);return ce.useEffect(()=>{for(const p of Hw){const y=t[p],b=m.current[p];y!==b&&(typeof t[p]>"u"||(p==="nodes"?e(y):p==="edges"?n(y):p==="minZoom"?r(y):p==="maxZoom"?i(y):p==="translateExtent"?o(y):p==="nodeExtent"?l(y):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:TU(y)}):p==="fitView"?f.setState({fitViewQueued:y}):p==="fitViewOptions"?f.setState({fitViewOptions:y}):f.setState({[p]:y})))}m.current=t},Hw.map(p=>t[p])),null}function Fw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function jH(t){const[e,n]=ce.useState(t==="system"?null:t);return ce.useEffect(()=>{if(t!=="system"){n(t);return}const r=Fw(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:Fw()?.matches?"dark":"light"}const Gw=typeof document<"u"?document:null;function $0(t=null,e={target:Gw,actInsideInputWithModifier:!0}){const[n,r]=ce.useState(!1),i=ce.useRef(!1),o=ce.useRef(new Set([])),[l,c]=ce.useMemo(()=>{if(t!==null){const f=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,y)=>p.concat(...y),[]);return[f,m]}return[[],[]]},[t]);return ce.useEffect(()=>{const h=e?.target??Gw,f=e?.actInsideInputWithModifier??!0;if(t!==null){const m=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!f)&&NN(b))return!1;const T=Yw(b.code,c);if(o.current.add(b[T]),$w(l,o.current,!1)){const x=b.composedPath?.()?.[0]||b.target,C=x?.nodeName==="BUTTON"||x?.nodeName==="A";e.preventDefault!==!1&&(i.current||!C)&&b.preventDefault(),r(!0)}},p=b=>{const E=Yw(b.code,c);$w(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[E]),b.key==="Meta"&&o.current.clear(),i.current=!1},y=()=>{o.current.clear(),r(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",p),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",p),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[t,r]),n}function $w(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function Yw(t,e){return e.includes(t)?"code":"key"}const FH=()=>{const t=Qt();return ce.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:l,panZoom:c}=t.getState(),h=P6(e,r,i,o,l,n?.padding??.1);return c?(await c.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:l}=t.getState();if(!l)return e;const{x:c,y:h}=l.getBoundingClientRect(),f={x:e.x-c,y:e.y-h},m=n.snapGrid??i,p=n.snapToGrid??o;return ch(f,r,p,m)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),l=Xd(e,n);return{x:l.x+i,y:l.y+o}}}),[])};function WN(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const l=r.get(o.id);l?l.push(o):r.set(o.id,[o])}for(const o of e){const l=r.get(o.id);if(!l){n.push(o);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...o};for(const h of l)GH(h,c);n.push(c)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function GH(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function JN(t,e){return WN(t,e)}function eM(t,e){return WN(t,e)}function ll(t,e){return{id:t,type:"select",selected:e}}function ku(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const l=e.has(i);!(o.selected===void 0&&!l)&&o.selected!==l&&(n&&(o.selected=l),r.push(ll(o.id,l)))}return r}function Xw({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,o]of t.entries()){const l=e.get(o.id),c=l?.internals?.userNode??l;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Kw(t){return{id:t.id,type:"remove"}}const Qw=t=>pU(t),$H=t=>EN(t);function tM(t){return ce.forwardRef(t)}const YH=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function Zw(t){const[e,n]=ce.useState(BigInt(0)),[r]=ce.useState(()=>XH(()=>n(i=>i+BigInt(1))));return YH(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function XH(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const nM=ce.createContext(null);function KH({children:t}){const e=Qt(),n=ce.useCallback(c=>{const{nodes:h=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:y,fitViewQueued:b,onNodesChangeMiddlewareMap:E}=e.getState();let T=h;for(const C of c)T=typeof C=="function"?C(T):C;let x=Xw({items:T,lookup:y});for(const C of E.values())x=C(x);m&&f(T),x.length>0?p?.(x):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:D,setNodes:A}=e.getState();C&&A(D)})},[]),r=Zw(n),i=ce.useCallback(c=>{const{edges:h=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:y}=e.getState();let b=h;for(const E of c)b=typeof E=="function"?E(b):E;m?f(b):p&&p(Xw({items:b,lookup:y}))},[]),o=Zw(i),l=ce.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return G.jsx(nM.Provider,{value:l,children:t})}function QH(){const t=ce.useContext(nM);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const ZH=t=>!!t.panZoom;function $6(){const t=FH(),e=Qt(),n=QH(),r=bt(ZH),i=ce.useMemo(()=>{const o=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},h=p=>{const{nodeLookup:y,nodeOrigin:b}=e.getState(),E=Qw(p)?p:y.get(p.id),T=E.parentId?RN(E.position,E.measured,E.parentId,y,b):E.position,x={...E,position:T,width:E.measured?.width??E.width,height:E.measured?.height??E.height};return $u(x)},f=(p,y,b={replace:!1})=>{l(E=>E.map(T=>{if(T.id===p){const x=typeof y=="function"?y(T):y;return b.replace&&Qw(x)?x:{...T,...x}}return T}))},m=(p,y,b={replace:!1})=>{c(E=>E.map(T=>{if(T.id===p){const x=typeof y=="function"?y(T):y;return b.replace&&$H(x)?x:{...T,...x}}return T}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>o(p)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(y=>({...y}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const y=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...y])},addEdges:p=>{const y=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...y])},toObject:()=>{const{nodes:p=[],edges:y=[],transform:b}=e.getState(),[E,T,x]=b;return{nodes:p.map(C=>({...C})),edges:y.map(C=>({...C})),viewport:{x:E,y:T,zoom:x}}},deleteElements:async({nodes:p=[],edges:y=[]})=>{const{nodes:b,edges:E,onNodesDelete:T,onEdgesDelete:x,triggerNodeChanges:C,triggerEdgeChanges:D,onDelete:A,onBeforeDelete:O}=e.getState(),{nodes:U,edges:L}=await bU({nodesToRemove:p,edgesToRemove:y,nodes:b,edges:E,onBeforeDelete:O}),I=L.length>0,M=U.length>0;if(I){const k=L.map(Kw);x?.(L),D(k)}if(M){const k=U.map(Kw);T?.(U),C(k)}return(M||I)&&A?.({nodes:U,edges:L}),{deletedNodes:U,deletedEdges:L}},getIntersectingNodes:(p,y=!0,b)=>{const E=Ew(p),T=E?p:h(p),x=b!==void 0;return T?(b||e.getState().nodes).filter(C=>{const D=e.getState().nodeLookup.get(C.id);if(D&&!E&&(C.id===p.id||!D.internals.positionAbsolute))return!1;const A=$u(x?C:D),O=F0(A,T);return y&&O>0||O>=A.width*A.height||O>=T.width*T.height}):[]},isNodeIntersecting:(p,y,b=!0)=>{const T=Ew(p)?p:h(p);if(!T)return!1;const x=F0(T,y);return b&&x>0||x>=y.width*y.height||x>=T.width*T.height},updateNode:f,updateNodeData:(p,y,b={replace:!1})=>{f(p,E=>{const T=typeof y=="function"?y(E):y;return b.replace?{...E,data:T}:{...E,data:{...E.data,...T}}},b)},updateEdge:m,updateEdgeData:(p,y,b={replace:!1})=>{m(p,E=>{const T=typeof y=="function"?y(E):y;return b.replace?{...E,data:T}:{...E,data:{...E.data,...T}}},b)},getNodesBounds:p=>{const{nodeLookup:y,nodeOrigin:b}=e.getState();return gU(p,{nodeLookup:y,nodeOrigin:b})},getHandleConnections:({type:p,id:y,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}-${p}${y?`-${y}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:y,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}${p?y?`-${p}-${y}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const y=e.getState().fitViewResolver??xU();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:y}),n.nodeQueue.push(b=>[...b]),y.promise}}},[]);return ce.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const Ww=t=>t.selected,WH=typeof window<"u"?window:void 0;function JH({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Qt(),{deleteElements:r}=$6(),i=$0(t,{actInsideInputWithModifier:!1}),o=$0(e,{target:WH});ce.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(Ww),edges:l.filter(Ww)}),n.setState({nodesSelectionActive:!1})}},[i]),ce.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function ej(t){const e=Qt();ce.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=B6(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",da.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Om={position:"absolute",width:"100%",height:"100%",top:0,left:0},tj=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function nj({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=ml.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:h,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:y,preventScrolling:b=!0,children:E,noWheelClassName:T,noPanClassName:x,onViewportChange:C,isControlledViewport:D,paneClickDistance:A,selectionOnDrag:O}){const U=Qt(),L=ce.useRef(null),{userSelectionActive:I,lib:M,connectionInProgress:k}=bt(tj,Kt),H=$0(y),V=ce.useRef();ej(L);const B=ce.useCallback(P=>{C?.({x:P[0],y:P[1],zoom:P[2]}),D||U.setState({transform:P})},[C,D]);return ce.useEffect(()=>{if(L.current){V.current=oH({domNode:L.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:h,onDraggingChange:$=>U.setState({paneDragging:$}),onPanZoomStart:($,W)=>{const{onViewportChangeStart:re,onMoveStart:oe}=U.getState();oe?.($,W),re?.(W)},onPanZoom:($,W)=>{const{onViewportChange:re,onMove:oe}=U.getState();oe?.($,W),re?.(W)},onPanZoomEnd:($,W)=>{const{onViewportChangeEnd:re,onMoveEnd:oe}=U.getState();oe?.($,W),re?.(W)}});const{x:P,y:K,zoom:te}=V.current.getViewport();return U.setState({panZoom:V.current,transform:[P,K,te],domNode:L.current.closest(".react-flow")}),()=>{V.current?.destroy()}}},[]),ce.useEffect(()=>{V.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:x,userSelectionActive:I,noWheelClassName:T,lib:M,onTransformChange:B,connectionInProgress:k,selectionOnDrag:O,paneClickDistance:A})},[t,e,n,r,i,o,l,c,H,b,x,I,T,M,B,k,O,A]),G.jsx("div",{className:"react-flow__renderer",ref:L,style:Om,children:E})}const rj=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function ij(){const{userSelectionActive:t,userSelectionRect:e}=bt(rj,Kt);return t&&e?G.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Pg=(t,e)=>n=>{n.target===e.current&&t?.(n)},aj=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function sj({isSelecting:t,selectionKeyPressed:e,selectionMode:n=H0.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:c,onPaneClick:h,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:y,onPaneMouseLeave:b,children:E}){const T=Qt(),{userSelectionActive:x,elementsSelectable:C,dragging:D,connectionInProgress:A}=bt(aj,Kt),O=C&&(t||x),U=ce.useRef(null),L=ce.useRef(),I=ce.useRef(new Set),M=ce.useRef(new Set),k=ce.useRef(!1),H=re=>{if(k.current||A){k.current=!1;return}h?.(re),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},V=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}f?.(re)},B=m?re=>m(re):void 0,P=re=>{k.current&&(re.stopPropagation(),k.current=!1)},K=re=>{const{domNode:oe}=T.getState();if(L.current=oe?.getBoundingClientRect(),!L.current)return;const ye=re.target===U.current;if(!ye&&!!re.target.closest(".nokey")||!t||!(o&&ye||e)||re.button!==0||!re.isPrimary)return;re.target?.setPointerCapture?.(re.pointerId),k.current=!1;const{x:pe,y:Q}=Vi(re.nativeEvent,L.current);T.setState({userSelectionRect:{width:0,height:0,startX:pe,startY:Q,x:pe,y:Q}}),ye||(re.stopPropagation(),re.preventDefault())},te=re=>{const{userSelectionRect:oe,transform:ye,nodeLookup:Y,edgeLookup:ee,connectionLookup:pe,triggerNodeChanges:Q,triggerEdgeChanges:ie,defaultEdgeOptions:ue,resetSelectedElements:ge}=T.getState();if(!L.current||!oe)return;const{x:be,y:Ce}=Vi(re.nativeEvent,L.current),{startX:Ve,startY:je}=oe;if(!k.current){const it=e?0:i;if(Math.hypot(be-Ve,Ce-je)<=it)return;ge(),l?.(re)}k.current=!0;const He={startX:Ve,startY:je,x:be<Ve?be:Ve,y:Ce<je?Ce:je,width:Math.abs(be-Ve),height:Math.abs(Ce-je)},Pe=I.current,Ge=M.current;I.current=new Set(L6(Y,He,ye,n===H0.Partial,!0).map(it=>it.id)),M.current=new Set;const Be=ue?.selectable??!0;for(const it of I.current){const $e=pe.get(it);if($e)for(const{edgeId:Bt}of $e.values()){const st=ee.get(Bt);st&&(st.selectable??Be)&&M.current.add(Bt)}}if(!Sw(Pe,I.current)){const it=ku(Y,I.current,!0);Q(it)}if(!Sw(Ge,M.current)){const it=ku(ee,M.current);ie(it)}T.setState({userSelectionRect:He,userSelectionActive:!0,nodesSelectionActive:!1})},$=re=>{re.button===0&&(re.target?.releasePointerCapture?.(re.pointerId),!x&&re.target===U.current&&T.getState().userSelectionRect&&H?.(re),T.setState({userSelectionActive:!1,userSelectionRect:null}),k.current&&(c?.(re),T.setState({nodesSelectionActive:I.current.size>0})))},W=r===!0||Array.isArray(r)&&r.includes(0);return G.jsxs("div",{className:Rn(["react-flow__pane",{draggable:W,dragging:D,selection:t}]),onClick:O?void 0:Pg(H,U),onContextMenu:Pg(V,U),onWheel:Pg(B,U),onPointerEnter:O?void 0:p,onPointerMove:O?te:y,onPointerUp:O?$:void 0,onPointerDownCapture:O?K:void 0,onClickCapture:O?P:void 0,onPointerLeave:b,ref:U,style:Om,children:[E,G.jsx(ij,{})]})}function X5({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:l,nodeLookup:c,onError:h}=e.getState(),f=c.get(t);if(!f){h?.("012",da.error012(t));return}e.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(o({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function rM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:l}){const c=Qt(),[h,f]=ce.useState(!1),m=ce.useRef();return ce.useEffect(()=>{m.current=YU({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{X5({id:p,store:c,nodeRef:t})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),ce.useEffect(()=>{if(e)m.current?.destroy();else if(t.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,e,o,t,i]),h}const oj=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function iM(){const t=Qt();return ce.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:l,onError:c,updateNodePositions:h,nodeLookup:f,nodeOrigin:m}=t.getState(),p=new Map,y=oj(l),b=i?o[0]:5,E=i?o[1]:5,T=n.direction.x*b*n.factor,x=n.direction.y*E*n.factor;for(const[,C]of f){if(!y(C))continue;let D={x:C.internals.positionAbsolute.x+T,y:C.internals.positionAbsolute.y+x};i&&(D=uh(D,o));const{position:A,positionAbsolute:O}=SN({nodeId:C.id,nextPosition:D,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});C.position=A,C.internals.positionAbsolute=O,p.set(C.id,C)}h(p)},[])}const Y6=ce.createContext(null),lj=Y6.Provider;Y6.Consumer;const aM=()=>ce.useContext(Y6),uj=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),cj=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:l}=r,{fromHandle:c,toHandle:h,isValid:f}=l,m=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:m,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:o===Fu.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:m&&f}};function hj({type:t="source",position:e=Ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:l,onConnect:c,children:h,className:f,onMouseDown:m,onTouchStart:p,...y},b){const E=l||null,T=t==="target",x=Qt(),C=aM(),{connectOnClick:D,noPanClassName:A,rfId:O}=bt(uj,Kt),{connectingFrom:U,connectingTo:L,clickConnecting:I,isPossibleEndHandle:M,connectionInProcess:k,clickConnectionInProcess:H,valid:V}=bt(cj(C,E,t),Kt);C||x.getState().onError?.("010",da.error010());const B=te=>{const{defaultEdgeOptions:$,onConnect:W,hasDefaultEdges:re}=x.getState(),oe={...$,...te};if(re){const{edges:ye,setEdges:Y}=x.getState();Y(MU(oe,ye))}W?.(oe),c?.(oe)},P=te=>{if(!C)return;const $=MN(te.nativeEvent);if(i&&($&&te.button===0||!$)){const W=x.getState();Y5.onPointerDown(te.nativeEvent,{handleDomNode:te.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:T,handleId:E,nodeId:C,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:B,isValidConnection:n||W.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}$?m?.(te):p?.(te)},K=te=>{const{onClickConnectStart:$,onClickConnectEnd:W,connectionClickStartHandle:re,connectionMode:oe,isValidConnection:ye,lib:Y,rfId:ee,nodeLookup:pe,connection:Q}=x.getState();if(!C||!re&&!i)return;if(!re){$?.(te.nativeEvent,{nodeId:C,handleId:E,handleType:t}),x.setState({connectionClickStartHandle:{nodeId:C,type:t,id:E}});return}const ie=IN(te.target),ue=n||ye,{connection:ge,isValid:be}=Y5.isValid(te.nativeEvent,{handle:{nodeId:C,id:E,type:t},connectionMode:oe,fromNodeId:re.nodeId,fromHandleId:re.id||null,fromType:re.type,isValidConnection:ue,flowId:ee,doc:ie,lib:Y,nodeLookup:pe});be&&ge&&B(ge);const Ce=structuredClone(Q);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,W?.(te,Ce),x.setState({connectionClickStartHandle:null})};return G.jsx("div",{"data-handleid":E,"data-nodeid":C,"data-handlepos":e,"data-id":`${O}-${C}-${E}-${t}`,className:Rn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,f,{source:!T,target:T,connectable:r,connectablestart:i,connectableend:o,clickconnecting:I,connectingfrom:U,connectingto:L,valid:V,connectionindicator:r&&(!k||M)&&(k||H?o:i)}]),onMouseDown:P,onTouchStart:P,onClick:D?K:void 0,ref:b,...y,children:h})}const Ku=ce.memo(tM(hj));function fj({data:t,isConnectable:e,sourcePosition:n=Ye.Bottom}){return G.jsxs(G.Fragment,{children:[t?.label,G.jsx(Ku,{type:"source",position:n,isConnectable:e})]})}function dj({data:t,isConnectable:e,targetPosition:n=Ye.Top,sourcePosition:r=Ye.Bottom}){return G.jsxs(G.Fragment,{children:[G.jsx(Ku,{type:"target",position:n,isConnectable:e}),t?.label,G.jsx(Ku,{type:"source",position:r,isConnectable:e})]})}function mj(){return null}function pj({data:t,isConnectable:e,targetPosition:n=Ye.Top}){return G.jsxs(G.Fragment,{children:[G.jsx(Ku,{type:"target",position:n,isConnectable:e}),t?.label]})}const Kd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Jw={input:fj,default:dj,output:pj,group:mj};function gj(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const vj=t=>{const{width:e,height:n,x:r,y:i}=lh(t.nodeLookup,{filter:o=>!!o.selected});return{width:zi(e)?e:null,height:zi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function yj({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Qt(),{width:i,height:o,transformString:l,userSelectionActive:c}=bt(vj,Kt),h=iM(),f=ce.useRef(null);if(ce.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),rM({nodeRef:f}),c||!i||!o)return null;const m=t?y=>{const b=r.getState().nodes.filter(E=>E.selected);t(y,b)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(Kd,y.key)&&(y.preventDefault(),h({direction:Kd[y.key],factor:y.shiftKey?4:1}))};return G.jsx("div",{className:Rn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:G.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o}})})}const eE=typeof window<"u"?window:void 0,_j=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function sM({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:x,elementsSelectable:C,zoomOnScroll:D,zoomOnPinch:A,panOnScroll:O,panOnScrollSpeed:U,panOnScrollMode:L,zoomOnDoubleClick:I,panOnDrag:M,defaultViewport:k,translateExtent:H,minZoom:V,maxZoom:B,preventScrolling:P,onSelectionContextMenu:K,noWheelClassName:te,noPanClassName:$,disableKeyboardA11y:W,onViewportChange:re,isControlledViewport:oe}){const{nodesSelectionActive:ye,userSelectionActive:Y}=bt(_j,Kt),ee=$0(f,{target:eE}),pe=$0(T,{target:eE}),Q=pe||M,ie=pe||O,ue=m&&Q!==!0,ge=ee||Y||ue;return JH({deleteKeyCode:h,multiSelectionKeyCode:E}),G.jsx(nj,{onPaneContextMenu:o,elementsSelectable:C,zoomOnScroll:D,zoomOnPinch:A,panOnScroll:ie,panOnScrollSpeed:U,panOnScrollMode:L,zoomOnDoubleClick:I,panOnDrag:!ee&&Q,defaultViewport:k,translateExtent:H,minZoom:V,maxZoom:B,zoomActivationKeyCode:x,preventScrolling:P,noWheelClassName:te,noPanClassName:$,onViewportChange:re,isControlledViewport:oe,paneClickDistance:c,selectionOnDrag:ue,children:G.jsxs(sj,{onSelectionStart:y,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,panOnDrag:Q,isSelecting:!!ge,selectionMode:p,selectionKeyPressed:ee,paneClickDistance:c,selectionOnDrag:ue,children:[t,ye&&G.jsx(yj,{onSelectionContextMenu:K,noPanClassName:$,disableKeyboardA11y:W})]})})}sM.displayName="FlowRenderer";const bj=ce.memo(sM),wj=t=>e=>t?L6(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Ej(t){return bt(ce.useCallback(wj(t),[t]),Kt)}const Sj=t=>t.updateNodeInternals;function xj(){const t=bt(Sj),[e]=ce.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return ce.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Tj({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Qt(),o=ce.useRef(null),l=ce.useRef(null),c=ce.useRef(t.sourcePosition),h=ce.useRef(t.targetPosition),f=ce.useRef(e),m=n&&!!t.internals.handleBounds;return ce.useEffect(()=>{o.current&&!t.hidden&&(!m||l.current!==o.current)&&(l.current&&r?.unobserve(l.current),r?.observe(o.current),l.current=o.current)},[m,t.hidden]),ce.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),ce.useEffect(()=>{if(o.current){const p=f.current!==e,y=c.current!==t.sourcePosition,b=h.current!==t.targetPosition;(p||y||b)&&(f.current=e,c.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function Aj({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:l,nodesDraggable:c,elementsSelectable:h,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:y,noPanClassName:b,disableKeyboardA11y:E,rfId:T,nodeTypes:x,nodeClickDistance:C,onError:D}){const{node:A,internals:O,isParent:U}=bt(be=>{const Ce=be.nodeLookup.get(t),Ve=be.parentLookup.has(t);return{node:Ce,internals:Ce.internals,isParent:Ve}},Kt);let L=A.type||"default",I=x?.[L]||Jw[L];I===void 0&&(D?.("003",da.error003(L)),L="default",I=x?.default||Jw.default);const M=!!(A.draggable||c&&typeof A.draggable>"u"),k=!!(A.selectable||h&&typeof A.selectable>"u"),H=!!(A.connectable||f&&typeof A.connectable>"u"),V=!!(A.focusable||m&&typeof A.focusable>"u"),B=Qt(),P=CN(A),K=Tj({node:A,nodeType:L,hasDimensions:P,resizeObserver:p}),te=rM({nodeRef:K,disabled:A.hidden||!M,noDragClassName:y,handleSelector:A.dragHandle,nodeId:t,isSelectable:k,nodeClickDistance:C}),$=iM();if(A.hidden)return null;const W=hs(A),re=gj(A),oe=k||M||e||n||r||i,ye=n?be=>n(be,{...O.userNode}):void 0,Y=r?be=>r(be,{...O.userNode}):void 0,ee=i?be=>i(be,{...O.userNode}):void 0,pe=o?be=>o(be,{...O.userNode}):void 0,Q=l?be=>l(be,{...O.userNode}):void 0,ie=be=>{const{selectNodesOnDrag:Ce,nodeDragThreshold:Ve}=B.getState();k&&(!Ce||!M||Ve>0)&&X5({id:t,store:B,nodeRef:K}),e&&e(be,{...O.userNode})},ue=be=>{if(!(NN(be.nativeEvent)||E)){if(yN.includes(be.key)&&k){const Ce=be.key==="Escape";X5({id:t,store:B,unselect:Ce,nodeRef:K})}else if(M&&A.selected&&Object.prototype.hasOwnProperty.call(Kd,be.key)){be.preventDefault();const{ariaLabelConfig:Ce}=B.getState();B.setState({ariaLiveMessage:Ce["node.a11yDescription.ariaLiveMessage"]({direction:be.key.replace("Arrow","").toLowerCase(),x:~~O.positionAbsolute.x,y:~~O.positionAbsolute.y})}),$({direction:Kd[be.key],factor:be.shiftKey?4:1})}}},ge=()=>{if(E||!K.current?.matches(":focus-visible"))return;const{transform:be,width:Ce,height:Ve,autoPanOnNodeFocus:je,setCenter:He}=B.getState();if(!je)return;L6(new Map([[t,A]]),{x:0,y:0,width:Ce,height:Ve},be,!0).length>0||He(A.position.x+W.width/2,A.position.y+W.height/2,{zoom:be[2]})};return G.jsx("div",{className:Rn(["react-flow__node",`react-flow__node-${L}`,{[b]:M},A.className,{selected:A.selected,selectable:k,parent:U,draggable:M,dragging:te}]),ref:K,style:{zIndex:O.z,transform:`translate(${O.positionAbsolute.x}px,${O.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:P?"visible":"hidden",...A.style,...re},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:ye,onMouseMove:Y,onMouseLeave:ee,onContextMenu:pe,onClick:ie,onDoubleClick:Q,onKeyDown:V?ue:void 0,tabIndex:V?0:void 0,onFocus:V?ge:void 0,role:A.ariaRole??(V?"group":void 0),"aria-roledescription":"node","aria-describedby":E?void 0:`${KN}-${T}`,"aria-label":A.ariaLabel,...A.domAttributes,children:G.jsx(lj,{value:t,children:G.jsx(I,{id:t,data:A.data,type:L,positionAbsoluteX:O.positionAbsolute.x,positionAbsoluteY:O.positionAbsolute.y,selected:A.selected??!1,selectable:k,draggable:M,deletable:A.deletable??!0,isConnectable:H,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:te,dragHandle:A.dragHandle,zIndex:O.z,parentId:A.parentId,...W})})})}var Cj=ce.memo(Aj);const Rj=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function oM(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=bt(Rj,Kt),l=Ej(t.onlyRenderVisibleElements),c=xj();return G.jsx("div",{className:"react-flow__nodes",style:Om,children:l.map(h=>G.jsx(Cj,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},h))})}oM.displayName="NodeRenderer";const Ij=ce.memo(oM);function Nj(t){return bt(ce.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);o&&l&&RU({sourceNode:o,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Kt)}const Mj=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return G.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},kj=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return G.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},tE={[j0.Arrow]:Mj,[j0.ArrowClosed]:kj};function Dj(t){const e=Qt();return ce.useMemo(()=>Object.prototype.hasOwnProperty.call(tE,t)?tE[t]:(e.getState().onError?.("009",da.error009(t)),null),[t])}const Oj=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const h=Dj(e);return h?G.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0",children:G.jsx(h,{color:n,strokeWidth:l})}):null},lM=({defaultColor:t,rfId:e})=>{const n=bt(o=>o.edges),r=bt(o=>o.defaultEdgeOptions),i=ce.useMemo(()=>VU(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?G.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:G.jsx("defs",{children:i.map(o=>G.jsx(Oj,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};lM.displayName="MarkerDefinitions";var zj=ce.memo(lM);function uM({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:f,...m}){const[p,y]=ce.useState({x:1,y:0,width:0,height:0}),b=Rn(["react-flow__edge-textwrapper",f]),E=ce.useRef(null);return ce.useEffect(()=>{if(E.current){const T=E.current.getBBox();y({x:T.x,y:T.y,width:T.width,height:T.height})}},[n]),n?G.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...m,children:[i&&G.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),G.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:E,style:r,children:n}),h]}):null}uM.displayName="EdgeText";const Vj=ce.memo(uM);function zm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h,interactionWidth:f=20,...m}){return G.jsxs(G.Fragment,{children:[G.jsx("path",{...m,d:t,fill:"none",className:Rn(["react-flow__edge-path",m.className])}),f?G.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&zi(e)&&zi(n)?G.jsx(Vj,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h}):null]})}function nE({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ye.Left||t===Ye.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function cM({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top}){const[l,c]=nE({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,f]=nE({pos:o,x1:r,y1:i,x2:t,y2:e}),[m,p,y,b]=kN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:h,targetControlY:f});return[`M${t},${e} C${l},${c} ${h},${f} ${r},${i}`,m,p,y,b]}function hM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l,targetPosition:c,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:E,markerEnd:T,markerStart:x,interactionWidth:C})=>{const[D,A,O]=cM({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:c}),U=t.isInternal?void 0:e;return G.jsx(zm,{id:U,path:D,labelX:A,labelY:O,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:E,markerEnd:T,markerStart:x,interactionWidth:C})})}const qj=hM({isInternal:!1}),fM=hM({isInternal:!0});qj.displayName="SimpleBezierEdge";fM.displayName="SimpleBezierEdgeInternal";function dM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,sourcePosition:b=Ye.Bottom,targetPosition:E=Ye.Top,markerEnd:T,markerStart:x,pathOptions:C,interactionWidth:D})=>{const[A,O,U]=F5({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:o,targetPosition:E,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),L=t.isInternal?void 0:e;return G.jsx(zm,{id:L,path:A,labelX:O,labelY:U,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:T,markerStart:x,interactionWidth:D})})}const mM=dM({isInternal:!1}),pM=dM({isInternal:!0});mM.displayName="SmoothStepEdge";pM.displayName="SmoothStepEdgeInternal";function gM(t){return ce.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return G.jsx(mM,{...n,id:r,pathOptions:ce.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Lj=gM({isInternal:!1}),vM=gM({isInternal:!0});Lj.displayName="StepEdge";vM.displayName="StepEdgeInternal";function yM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:b,markerStart:E,interactionWidth:T})=>{const[x,C,D]=zN({sourceX:n,sourceY:r,targetX:i,targetY:o}),A=t.isInternal?void 0:e;return G.jsx(zm,{id:A,path:x,labelX:C,labelY:D,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:b,markerStart:E,interactionWidth:T})})}const Pj=yM({isInternal:!1}),_M=yM({isInternal:!0});Pj.displayName="StraightEdge";_M.displayName="StraightEdgeInternal";function bM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l=Ye.Bottom,targetPosition:c=Ye.Top,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:E,markerEnd:T,markerStart:x,pathOptions:C,interactionWidth:D})=>{const[A,O,U]=DN({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:c,curvature:C?.curvature}),L=t.isInternal?void 0:e;return G.jsx(zm,{id:L,path:A,labelX:O,labelY:U,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:E,markerEnd:T,markerStart:x,interactionWidth:D})})}const Bj=bM({isInternal:!1}),wM=bM({isInternal:!0});Bj.displayName="BezierEdge";wM.displayName="BezierEdgeInternal";const rE={default:wM,straight:_M,step:vM,smoothstep:pM,simplebezier:fM},iE={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Uj=(t,e,n)=>n===Ye.Left?t-e:n===Ye.Right?t+e:t,Hj=(t,e,n)=>n===Ye.Top?t-e:n===Ye.Bottom?t+e:t,aE="react-flow__edgeupdater";function sE({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:l,type:c}){return G.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:l,className:Rn([aE,`${aE}-${c}`]),cx:Uj(e,r,t),cy:Hj(n,r,t),r,stroke:"transparent",fill:"transparent"})}function jj({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:l,sourcePosition:c,targetPosition:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:y,setUpdateHover:b}){const E=Qt(),T=(O,U)=>{if(O.button!==0)return;const{autoPanOnConnect:L,domNode:I,isValidConnection:M,connectionMode:k,connectionRadius:H,lib:V,onConnectStart:B,onConnectEnd:P,cancelConnection:K,nodeLookup:te,rfId:$,panBy:W,updateConnection:re}=E.getState(),oe=U.type==="target",ye=(pe,Q)=>{y(!1),p?.(pe,n,U.type,Q)},Y=pe=>f?.(n,pe),ee=(pe,Q)=>{y(!0),m?.(O,n,U.type),B?.(pe,Q)};Y5.onPointerDown(O.nativeEvent,{autoPanOnConnect:L,connectionMode:k,connectionRadius:H,domNode:I,handleId:U.id,nodeId:U.nodeId,nodeLookup:te,isTarget:oe,edgeUpdaterType:U.type,lib:V,flowId:$,cancelConnection:K,panBy:W,isValidConnection:M,onConnect:Y,onConnectStart:ee,onConnectEnd:P,onReconnectEnd:ye,updateConnection:re,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,dragThreshold:E.getState().connectionDragThreshold,handleDomNode:O.currentTarget})},x=O=>T(O,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=O=>T(O,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),D=()=>b(!0),A=()=>b(!1);return G.jsxs(G.Fragment,{children:[(t===!0||t==="source")&&G.jsx(sE,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:x,onMouseEnter:D,onMouseOut:A,type:"source"}),(t===!0||t==="target")&&G.jsx(sE,{position:h,centerX:o,centerY:l,radius:e,onMouseDown:C,onMouseEnter:D,onMouseOut:A,type:"target"})]})}function Fj({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:y,onReconnectEnd:b,rfId:E,edgeTypes:T,noPanClassName:x,onError:C,disableKeyboardA11y:D}){let A=bt(He=>He.edgeLookup.get(t));const O=bt(He=>He.defaultEdgeOptions);A=O?{...O,...A}:A;let U=A.type||"default",L=T?.[U]||rE[U];L===void 0&&(C?.("011",da.error011(U)),U="default",L=T?.default||rE.default);const I=!!(A.focusable||e&&typeof A.focusable>"u"),M=typeof p<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),k=!!(A.selectable||r&&typeof A.selectable>"u"),H=ce.useRef(null),[V,B]=ce.useState(!1),[P,K]=ce.useState(!1),te=Qt(),{zIndex:$,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee}=bt(ce.useCallback(He=>{const Pe=He.nodeLookup.get(A.source),Ge=He.nodeLookup.get(A.target);if(!Pe||!Ge)return{zIndex:A.zIndex,...iE};const Be=zU({id:t,sourceNode:Pe,targetNode:Ge,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:He.connectionMode,onError:C});return{zIndex:CU({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ge,elevateOnSelect:He.elevateEdgesOnSelect,zIndexMode:He.zIndexMode}),...Be||iE}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),Kt),pe=ce.useMemo(()=>A.markerStart?`url('#${G5(A.markerStart,E)}')`:void 0,[A.markerStart,E]),Q=ce.useMemo(()=>A.markerEnd?`url('#${G5(A.markerEnd,E)}')`:void 0,[A.markerEnd,E]);if(A.hidden||W===null||re===null||oe===null||ye===null)return null;const ie=He=>{const{addSelectedEdges:Pe,unselectNodesAndEdges:Ge,multiSelectionActive:Be}=te.getState();k&&(te.setState({nodesSelectionActive:!1}),A.selected&&Be?(Ge({nodes:[],edges:[A]}),H.current?.blur()):Pe([t])),i&&i(He,A)},ue=o?He=>{o(He,{...A})}:void 0,ge=l?He=>{l(He,{...A})}:void 0,be=c?He=>{c(He,{...A})}:void 0,Ce=h?He=>{h(He,{...A})}:void 0,Ve=f?He=>{f(He,{...A})}:void 0,je=He=>{if(!D&&yN.includes(He.key)&&k){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ge}=te.getState();He.key==="Escape"?(H.current?.blur(),Pe({edges:[A]})):Ge([t])}};return G.jsx("svg",{style:{zIndex:$},children:G.jsxs("g",{className:Rn(["react-flow__edge",`react-flow__edge-${U}`,A.className,x,{selected:A.selected,animated:A.animated,inactive:!k&&!i,updating:V,selectable:k}]),onClick:ie,onDoubleClick:ue,onContextMenu:ge,onMouseEnter:be,onMouseMove:Ce,onMouseLeave:Ve,onKeyDown:I?je:void 0,tabIndex:I?0:void 0,role:A.ariaRole??(I?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":I?`${QN}-${E}`:void 0,ref:H,...A.domAttributes,children:[!P&&G.jsx(L,{id:t,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:k,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:pe,markerEnd:Q,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),M&&G.jsx(jj,{edge:A,isReconnectable:M,reconnectRadius:m,onReconnect:p,onReconnectStart:y,onReconnectEnd:b,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee,setUpdateHover:B,setReconnecting:K})]})})}var Gj=ce.memo(Fj);const $j=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function EM({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:y,onReconnectStart:b,onReconnectEnd:E,disableKeyboardA11y:T}){const{edgesFocusable:x,edgesReconnectable:C,elementsSelectable:D,onError:A}=bt($j,Kt),O=Nj(e);return G.jsxs("div",{className:"react-flow__edges",children:[G.jsx(zj,{defaultColor:t,rfId:n}),O.map(U=>G.jsx(Gj,{id:U,edgesFocusable:x,edgesReconnectable:C,elementsSelectable:D,noPanClassName:i,onReconnect:o,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:y,onReconnectStart:b,onReconnectEnd:E,rfId:n,onError:A,edgeTypes:r,disableKeyboardA11y:T},U))]})}EM.displayName="EdgeRenderer";const Yj=ce.memo(EM),Xj=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Kj({children:t}){const e=bt(Xj);return G.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Qj(t){const e=$6(),n=ce.useRef(!1);ce.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Zj=t=>t.panZoom?.syncViewport;function Wj(t){const e=bt(Zj),n=Qt();return ce.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Jj(t){return t.connection.inProgress?{...t.connection,to:ch(t.connection.to,t.transform)}:{...t.connection}}function eF(t){return Jj}function tF(t){const e=eF();return bt(e,Kt)}const nF=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function rF({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:l,isValid:c,inProgress:h}=bt(nF,Kt);return!(o&&i&&h)?null:G.jsx("svg",{style:t,width:o,height:l,className:"react-flow__connectionline react-flow__container",children:G.jsx("g",{className:Rn(["react-flow__connection",wN(c)]),children:G.jsx(SM,{style:e,type:n,CustomComponent:r,isValid:c})})})}const SM=({style:t,type:e=no.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:l,fromHandle:c,fromPosition:h,to:f,toNode:m,toHandle:p,toPosition:y,pointer:b}=tF();if(!i)return;if(n)return G.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:o.x,fromY:o.y,toX:f.x,toY:f.y,fromPosition:h,toPosition:y,connectionStatus:wN(r),toNode:m,toHandle:p,pointer:b});let E="";const T={sourceX:o.x,sourceY:o.y,sourcePosition:h,targetX:f.x,targetY:f.y,targetPosition:y};switch(e){case no.Bezier:[E]=DN(T);break;case no.SimpleBezier:[E]=cM(T);break;case no.Step:[E]=F5({...T,borderRadius:0});break;case no.SmoothStep:[E]=F5(T);break;default:[E]=zN(T)}return G.jsx("path",{d:E,fill:"none",className:"react-flow__connection-path",style:t})};SM.displayName="ConnectionLine";const iF={};function oE(t=iF){ce.useRef(t),Qt(),ce.useEffect(()=>{},[t])}function aF(){Qt(),ce.useRef(!1),ce.useEffect(()=>{},[])}function xM({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:y,onSelectionEnd:b,connectionLineType:E,connectionLineStyle:T,connectionLineComponent:x,connectionLineContainerStyle:C,selectionKeyCode:D,selectionOnDrag:A,selectionMode:O,multiSelectionKeyCode:U,panActivationKeyCode:L,zoomActivationKeyCode:I,deleteKeyCode:M,onlyRenderVisibleElements:k,elementsSelectable:H,defaultViewport:V,translateExtent:B,minZoom:P,maxZoom:K,preventScrolling:te,defaultMarkerColor:$,zoomOnScroll:W,zoomOnPinch:re,panOnScroll:oe,panOnScrollSpeed:ye,panOnScrollMode:Y,zoomOnDoubleClick:ee,panOnDrag:pe,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:ue,onPaneMouseLeave:ge,onPaneScroll:be,onPaneContextMenu:Ce,paneClickDistance:Ve,nodeClickDistance:je,onEdgeContextMenu:He,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,onReconnect:$e,onReconnectStart:Bt,onReconnectEnd:st,noDragClassName:It,noWheelClassName:Mn,noPanClassName:Vn,disableKeyboardA11y:Ht,nodeExtent:$t,rfId:Un,viewport:cr,onViewportChange:hr}){return oE(t),oE(e),aF(),Qj(n),Wj(cr),G.jsx(bj,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:ue,onPaneMouseLeave:ge,onPaneContextMenu:Ce,onPaneScroll:be,paneClickDistance:Ve,deleteKeyCode:M,selectionKeyCode:D,selectionOnDrag:A,selectionMode:O,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:U,panActivationKeyCode:L,zoomActivationKeyCode:I,elementsSelectable:H,zoomOnScroll:W,zoomOnPinch:re,zoomOnDoubleClick:ee,panOnScroll:oe,panOnScrollSpeed:ye,panOnScrollMode:Y,panOnDrag:pe,defaultViewport:V,translateExtent:B,minZoom:P,maxZoom:K,onSelectionContextMenu:p,preventScrolling:te,noDragClassName:It,noWheelClassName:Mn,noPanClassName:Vn,disableKeyboardA11y:Ht,onViewportChange:hr,isControlledViewport:!!cr,children:G.jsxs(Kj,{children:[G.jsx(Yj,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:$e,onReconnectStart:Bt,onReconnectEnd:st,onlyRenderVisibleElements:k,onEdgeContextMenu:He,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,defaultMarkerColor:$,noPanClassName:Vn,disableKeyboardA11y:Ht,rfId:Un}),G.jsx(rF,{style:T,type:E,component:x,containerStyle:C}),G.jsx("div",{className:"react-flow__edgelabel-renderer"}),G.jsx(Ij,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:je,onlyRenderVisibleElements:k,noPanClassName:Vn,noDragClassName:It,disableKeyboardA11y:Ht,nodeExtent:$t,rfId:Un}),G.jsx("div",{className:"react-flow__viewport-portal"})]})})}xM.displayName="GraphView";const sF=ce.memo(xM),lE=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:y="basic"}={})=>{const b=new Map,E=new Map,T=new Map,x=new Map,C=r??e??[],D=n??t??[],A=m??[0,0],O=p??U0;LN(T,x,C);const U=$5(D,b,E,{nodeOrigin:A,nodeExtent:O,zIndexMode:y});let L=[0,0,1];if(l&&i&&o){const I=lh(b,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:M,y:k,zoom:H}=P6(I,i,o,h,f,c?.padding??.1);L=[M,k,H]}return{rfId:"1",width:i??0,height:o??0,transform:L,nodes:D,nodesInitialized:U,nodeLookup:b,parentLookup:E,edges:C,edgeLookup:x,connectionLookup:T,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:h,maxZoom:f,translateExtent:U0,nodeExtent:O,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Fu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...bN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:wU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:_N,zIndexMode:y,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},oF=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:y})=>TH((b,E)=>{async function T(){const{nodeLookup:x,panZoom:C,fitViewOptions:D,fitViewResolver:A,width:O,height:U,minZoom:L,maxZoom:I}=E();C&&(await _U({nodes:x,width:O,height:U,panZoom:C,minZoom:L,maxZoom:I},D),A?.resolve(!0),b({fitViewResolver:null}))}return{...lE({nodes:t,edges:e,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:y}),setNodes:x=>{const{nodeLookup:C,parentLookup:D,nodeOrigin:A,elevateNodesOnSelect:O,fitViewQueued:U,zIndexMode:L}=E(),I=$5(x,C,D,{nodeOrigin:A,nodeExtent:p,elevateNodesOnSelect:O,checkEquality:!0,zIndexMode:L});U&&I?(T(),b({nodes:x,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:x,nodesInitialized:I})},setEdges:x=>{const{connectionLookup:C,edgeLookup:D}=E();LN(C,D,x),b({edges:x})},setDefaultNodesAndEdges:(x,C)=>{if(x){const{setNodes:D}=E();D(x),b({hasDefaultNodes:!0})}if(C){const{setEdges:D}=E();D(C),b({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:C,nodeLookup:D,parentLookup:A,domNode:O,nodeOrigin:U,nodeExtent:L,debug:I,fitViewQueued:M,zIndexMode:k}=E(),{changes:H,updatedInternals:V}=jU(x,D,A,O,U,L,k);V&&(PU(D,A,{nodeOrigin:U,nodeExtent:L,zIndexMode:k}),M?(T(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),H?.length>0&&(I&&console.log("React Flow: trigger node changes",H),C?.(H)))},updateNodePositions:(x,C=!1)=>{const D=[];let A=[];const{nodeLookup:O,triggerNodeChanges:U,connection:L,updateConnection:I,onNodesChangeMiddlewareMap:M}=E();for(const[k,H]of x){const V=O.get(k),B=!!(V?.expandParent&&V?.parentId&&H?.position),P={id:k,type:"position",position:B?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:C};if(V&&L.inProgress&&L.fromNode.id===V.id){const K=_l(V,L.fromHandle,Ye.Left,!0);I({...L,from:K})}B&&V.parentId&&D.push({id:k,parentId:V.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),A.push(P)}if(D.length>0){const{parentLookup:k,nodeOrigin:H}=E(),V=G6(D,O,k,H);A.push(...V)}for(const k of M.values())A=k(A);U(A)},triggerNodeChanges:x=>{const{onNodesChange:C,setNodes:D,nodes:A,hasDefaultNodes:O,debug:U}=E();if(x?.length){if(O){const L=JN(x,A);D(L)}U&&console.log("React Flow: trigger node changes",x),C?.(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:C,setEdges:D,edges:A,hasDefaultEdges:O,debug:U}=E();if(x?.length){if(O){const L=eM(x,A);D(L)}U&&console.log("React Flow: trigger edge changes",x),C?.(x)}},addSelectedNodes:x=>{const{multiSelectionActive:C,edgeLookup:D,nodeLookup:A,triggerNodeChanges:O,triggerEdgeChanges:U}=E();if(C){const L=x.map(I=>ll(I,!0));O(L);return}O(ku(A,new Set([...x]),!0)),U(ku(D))},addSelectedEdges:x=>{const{multiSelectionActive:C,edgeLookup:D,nodeLookup:A,triggerNodeChanges:O,triggerEdgeChanges:U}=E();if(C){const L=x.map(I=>ll(I,!0));U(L);return}U(ku(D,new Set([...x]))),O(ku(A,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:C}={})=>{const{edges:D,nodes:A,nodeLookup:O,triggerNodeChanges:U,triggerEdgeChanges:L}=E(),I=x||A,M=C||D,k=I.map(V=>{const B=O.get(V.id);return B&&(B.selected=!1),ll(V.id,!1)}),H=M.map(V=>ll(V.id,!1));U(k),L(H)},setMinZoom:x=>{const{panZoom:C,maxZoom:D}=E();C?.setScaleExtent([x,D]),b({minZoom:x})},setMaxZoom:x=>{const{panZoom:C,minZoom:D}=E();C?.setScaleExtent([D,x]),b({maxZoom:x})},setTranslateExtent:x=>{E().panZoom?.setTranslateExtent(x),b({translateExtent:x})},resetSelectedElements:()=>{const{edges:x,nodes:C,triggerNodeChanges:D,triggerEdgeChanges:A,elementsSelectable:O}=E();if(!O)return;const U=C.reduce((I,M)=>M.selected?[...I,ll(M.id,!1)]:I,[]),L=x.reduce((I,M)=>M.selected?[...I,ll(M.id,!1)]:I,[]);D(U),A(L)},setNodeExtent:x=>{const{nodes:C,nodeLookup:D,parentLookup:A,nodeOrigin:O,elevateNodesOnSelect:U,nodeExtent:L,zIndexMode:I}=E();x[0][0]===L[0][0]&&x[0][1]===L[0][1]&&x[1][0]===L[1][0]&&x[1][1]===L[1][1]||($5(C,D,A,{nodeOrigin:O,nodeExtent:x,elevateNodesOnSelect:U,checkEquality:!1,zIndexMode:I}),b({nodeExtent:x}))},panBy:x=>{const{transform:C,width:D,height:A,panZoom:O,translateExtent:U}=E();return FU({delta:x,panZoom:O,transform:C,translateExtent:U,width:D,height:A})},setCenter:async(x,C,D)=>{const{width:A,height:O,maxZoom:U,panZoom:L}=E();if(!L)return Promise.resolve(!1);const I=typeof D?.zoom<"u"?D.zoom:U;return await L.setViewport({x:A/2-x*I,y:O/2-C*I,zoom:I},{duration:D?.duration,ease:D?.ease,interpolate:D?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...bN}})},updateConnection:x=>{b({connection:x})},reset:()=>b({...lE()})}},Object.is);function lF({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:h,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:y,children:b}){const[E]=ce.useState(()=>oF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:h,nodeOrigin:m,nodeExtent:p,zIndexMode:y}));return G.jsx(AH,{value:E,children:G.jsx(KH,{children:b})})}function uF({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:l,fitView:c,fitViewOptions:h,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:y,zIndexMode:b}){return ce.useContext(km)?G.jsx(G.Fragment,{children:t}):G.jsx(lF,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:l,fitView:c,initialFitViewOptions:h,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:y,zIndexMode:b,children:t})}const cF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function hF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:l,onNodeClick:c,onEdgeClick:h,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:y,onConnect:b,onConnectStart:E,onConnectEnd:T,onClickConnectStart:x,onClickConnectEnd:C,onNodeMouseEnter:D,onNodeMouseMove:A,onNodeMouseLeave:O,onNodeContextMenu:U,onNodeDoubleClick:L,onNodeDragStart:I,onNodeDrag:M,onNodeDragStop:k,onNodesDelete:H,onEdgesDelete:V,onDelete:B,onSelectionChange:P,onSelectionDragStart:K,onSelectionDrag:te,onSelectionDragStop:$,onSelectionContextMenu:W,onSelectionStart:re,onSelectionEnd:oe,onBeforeDelete:ye,connectionMode:Y,connectionLineType:ee=no.Bezier,connectionLineStyle:pe,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:ue="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:be=!1,selectionMode:Ce=H0.Full,panActivationKeyCode:Ve="Space",multiSelectionKeyCode:je=G0()?"Meta":"Control",zoomActivationKeyCode:He=G0()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ge,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:it,nodesDraggable:$e,autoPanOnNodeFocus:Bt,nodesConnectable:st,nodesFocusable:It,nodeOrigin:Mn=ZN,edgesFocusable:Vn,edgesReconnectable:Ht,elementsSelectable:$t=!0,defaultViewport:Un=PH,minZoom:cr=.5,maxZoom:hr=2,translateExtent:qn=U0,preventScrolling:gs=!0,nodeExtent:bi,defaultMarkerColor:vs="#b1b1b7",zoomOnScroll:wa=!0,zoomOnPinch:rn=!0,panOnScroll:qt=!1,panOnScrollSpeed:fr=.5,panOnScrollMode:Jt=ml.Free,zoomOnDoubleClick:Dl=!0,panOnDrag:ys=!0,onPaneClick:Ol,onPaneMouseEnter:Xr,onPaneMouseMove:Ea,onPaneMouseLeave:an,onPaneScroll:Kr,onPaneContextMenu:Qr,paneClickDistance:Cr=1,nodeClickDistance:bc=0,children:zl,onReconnect:Zr,onReconnectStart:Sa,onReconnectEnd:wc,onEdgeContextMenu:xa,onEdgeDoubleClick:Io,onEdgeMouseEnter:No,onEdgeMouseMove:Ta,onEdgeMouseLeave:wi,reconnectRadius:Vl=10,onNodesChange:Rr,onEdgesChange:Ir,noDragClassName:sn="nodrag",noWheelClassName:_n="nowheel",noPanClassName:Nr="nopan",fitView:Aa,fitViewOptions:ql,connectOnClick:Ll,attributionPosition:Pl,proOptions:Wr,defaultEdgeOptions:_s,elevateNodesOnSelect:Jr=!0,elevateEdgesOnSelect:dr=!1,disableKeyboardA11y:Qn=!1,autoPanOnConnect:ei,autoPanOnNodeDrag:on,autoPanSpeed:Mo,connectionRadius:ko,isValidConnection:ti,onError:ni,style:Do,id:bs,nodeDragThreshold:Oo,connectionDragThreshold:Bl,viewport:ws,onViewportChange:nr,width:ln,height:bn,colorMode:ji="light",debug:zo,onScroll:St,ariaLabelConfig:Ca,zIndexMode:Mr="basic",...Ra},Zn){const Fi=bs||"1",Ul=jH(ji),Vo=ce.useCallback(Ei=>{Ei.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),St?.(Ei)},[St]);return G.jsx("div",{"data-testid":"rf__wrapper",...Ra,onScroll:Vo,style:{...Do,...cF},ref:Zn,className:Rn(["react-flow",i,Ul]),id:bs,role:"application",children:G.jsxs(uF,{nodes:t,edges:e,width:ln,height:bn,fitView:Aa,fitViewOptions:ql,minZoom:cr,maxZoom:hr,nodeOrigin:Mn,nodeExtent:bi,zIndexMode:Mr,children:[G.jsx(sF,{onInit:f,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:D,onNodeMouseMove:A,onNodeMouseLeave:O,onNodeContextMenu:U,onNodeDoubleClick:L,nodeTypes:o,edgeTypes:l,connectionLineType:ee,connectionLineStyle:pe,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:ge,selectionOnDrag:be,selectionMode:Ce,deleteKeyCode:ue,multiSelectionKeyCode:je,panActivationKeyCode:Ve,zoomActivationKeyCode:He,onlyRenderVisibleElements:Be,defaultViewport:Un,translateExtent:qn,minZoom:cr,maxZoom:hr,preventScrolling:gs,zoomOnScroll:wa,zoomOnPinch:rn,zoomOnDoubleClick:Dl,panOnScroll:qt,panOnScrollSpeed:fr,panOnScrollMode:Jt,panOnDrag:ys,onPaneClick:Ol,onPaneMouseEnter:Xr,onPaneMouseMove:Ea,onPaneMouseLeave:an,onPaneScroll:Kr,onPaneContextMenu:Qr,paneClickDistance:Cr,nodeClickDistance:bc,onSelectionContextMenu:W,onSelectionStart:re,onSelectionEnd:oe,onReconnect:Zr,onReconnectStart:Sa,onReconnectEnd:wc,onEdgeContextMenu:xa,onEdgeDoubleClick:Io,onEdgeMouseEnter:No,onEdgeMouseMove:Ta,onEdgeMouseLeave:wi,reconnectRadius:Vl,defaultMarkerColor:vs,noDragClassName:sn,noWheelClassName:_n,noPanClassName:Nr,rfId:Fi,disableKeyboardA11y:Qn,nodeExtent:bi,viewport:ws,onViewportChange:nr}),G.jsx(HH,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:E,onConnectEnd:T,onClickConnectStart:x,onClickConnectEnd:C,nodesDraggable:$e,autoPanOnNodeFocus:Bt,nodesConnectable:st,nodesFocusable:It,edgesFocusable:Vn,edgesReconnectable:Ht,elementsSelectable:$t,elevateNodesOnSelect:Jr,elevateEdgesOnSelect:dr,minZoom:cr,maxZoom:hr,nodeExtent:bi,onNodesChange:Rr,onEdgesChange:Ir,snapToGrid:Pe,snapGrid:Ge,connectionMode:Y,translateExtent:qn,connectOnClick:Ll,defaultEdgeOptions:_s,fitView:Aa,fitViewOptions:ql,onNodesDelete:H,onEdgesDelete:V,onDelete:B,onNodeDragStart:I,onNodeDrag:M,onNodeDragStop:k,onSelectionDrag:te,onSelectionDragStart:K,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:y,noPanClassName:Nr,nodeOrigin:Mn,rfId:Fi,autoPanOnConnect:ei,autoPanOnNodeDrag:on,autoPanSpeed:Mo,onError:ni,connectionRadius:ko,isValidConnection:ti,selectNodesOnDrag:it,nodeDragThreshold:Oo,connectionDragThreshold:Bl,onBeforeDelete:ye,debug:zo,ariaLabelConfig:Ca,zIndexMode:Mr}),G.jsx(LH,{onSelectionChange:P}),zl,G.jsx(DH,{proOptions:Wr,position:Pl}),G.jsx(kH,{rfId:Fi,disableKeyboardA11y:Qn})]})})}var fF=tM(hF);function dF(t){const[e,n]=ce.useState(t),r=ce.useCallback(i=>n(o=>JN(i,o)),[]);return[e,n,r]}function mF(t){const[e,n]=ce.useState(t),r=ce.useCallback(i=>n(o=>eM(i,o)),[]);return[e,n,r]}function pF({dimensions:t,lineWidth:e,variant:n,className:r}){return G.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Rn(["react-flow__background-pattern",n,r])})}function gF({radius:t,className:e}){return G.jsx("circle",{cx:t,cy:t,r:t,className:Rn(["react-flow__background-pattern","dots",e])})}var lo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(lo||(lo={}));const vF={[lo.Dots]:1,[lo.Lines]:1,[lo.Cross]:6},yF=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function TM({id:t,variant:e=lo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:l,bgColor:c,style:h,className:f,patternClassName:m}){const p=ce.useRef(null),{transform:y,patternId:b}=bt(yF,Kt),E=r||vF[e],T=e===lo.Dots,x=e===lo.Cross,C=Array.isArray(n)?n:[n,n],D=[C[0]*y[2]||1,C[1]*y[2]||1],A=E*y[2],O=Array.isArray(o)?o:[o,o],U=x?[A,A]:D,L=[O[0]*y[2]||1+U[0]/2,O[1]*y[2]||1+U[1]/2],I=`${b}${t||""}`;return G.jsxs("svg",{className:Rn(["react-flow__background",f]),style:{...h,...Om,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[G.jsx("pattern",{id:I,x:y[0]%D[0],y:y[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:T?G.jsx(gF,{radius:A/2,className:m}):G.jsx(pF,{dimensions:U,lineWidth:i,variant:e,className:m})}),G.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}TM.displayName="Background";const _F=ce.memo(TM);function bF(){return G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:G.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function wF(){return G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:G.jsx("path",{d:"M0 0h32v4.2H0z"})})}function EF(){return G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:G.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function SF(){return G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:G.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function xF(){return G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:G.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function sd({children:t,className:e,...n}){return G.jsx("button",{type:"button",className:Rn(["react-flow__controls-button",e]),...n,children:t})}const TF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function AM({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:l,onFitView:c,onInteractiveChange:h,className:f,children:m,position:p="bottom-left",orientation:y="vertical","aria-label":b}){const E=Qt(),{isInteractive:T,minZoomReached:x,maxZoomReached:C,ariaLabelConfig:D}=bt(TF,Kt),{zoomIn:A,zoomOut:O,fitView:U}=$6(),L=()=>{A(),o?.()},I=()=>{O(),l?.()},M=()=>{U(i),c?.()},k=()=>{E.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),h?.(!T)},H=y==="horizontal"?"horizontal":"vertical";return G.jsxs(Dm,{className:Rn(["react-flow__controls",H,f]),position:p,style:t,"data-testid":"rf__controls","aria-label":b??D["controls.ariaLabel"],children:[e&&G.jsxs(G.Fragment,{children:[G.jsx(sd,{onClick:L,className:"react-flow__controls-zoomin",title:D["controls.zoomIn.ariaLabel"],"aria-label":D["controls.zoomIn.ariaLabel"],disabled:C,children:G.jsx(bF,{})}),G.jsx(sd,{onClick:I,className:"react-flow__controls-zoomout",title:D["controls.zoomOut.ariaLabel"],"aria-label":D["controls.zoomOut.ariaLabel"],disabled:x,children:G.jsx(wF,{})})]}),n&&G.jsx(sd,{className:"react-flow__controls-fitview",onClick:M,title:D["controls.fitView.ariaLabel"],"aria-label":D["controls.fitView.ariaLabel"],children:G.jsx(EF,{})}),r&&G.jsx(sd,{className:"react-flow__controls-interactive",onClick:k,title:D["controls.interactive.ariaLabel"],"aria-label":D["controls.interactive.ariaLabel"],children:T?G.jsx(xF,{}):G.jsx(SF,{})}),m]})}AM.displayName="Controls";const AF=ce.memo(AM);function CF({id:t,x:e,y:n,width:r,height:i,style:o,color:l,strokeColor:c,strokeWidth:h,className:f,borderRadius:m,shapeRendering:p,selected:y,onClick:b}){const{background:E,backgroundColor:T}=o||{},x=l||E||T;return G.jsx("rect",{className:Rn(["react-flow__minimap-node",{selected:y},f]),x:e,y:n,rx:m,ry:m,width:r,height:i,style:{fill:x,stroke:c,strokeWidth:h},shapeRendering:p,onClick:b?C=>b(C,t):void 0})}const RF=ce.memo(CF),IF=t=>t.nodes.map(e=>e.id),Bg=t=>t instanceof Function?t:()=>t;function NF({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=RF,onClick:l}){const c=bt(IF,Kt),h=Bg(e),f=Bg(t),m=Bg(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return G.jsx(G.Fragment,{children:c.map(y=>G.jsx(kF,{id:y,nodeColorFunc:h,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:l,shapeRendering:p},y))})}function MF({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:c,onClick:h}){const{node:f,x:m,y:p,width:y,height:b}=bt(E=>{const{internals:T}=E.nodeLookup.get(t),x=T.userNode,{x:C,y:D}=T.positionAbsolute,{width:A,height:O}=hs(x);return{node:x,x:C,y:D,width:A,height:O}},Kt);return!f||f.hidden||!CN(f)?null:G.jsx(c,{x:m,y:p,width:y,height:b,style:f.style,selected:!!f.selected,className:r(f),color:e(f),borderRadius:i,strokeColor:n(f),strokeWidth:o,shapeRendering:l,onClick:h,id:f.id})}const kF=ce.memo(MF);var DF=ce.memo(NF);const OF=200,zF=150,VF=t=>!t.hidden,qF=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?AN(lh(t.nodeLookup,{filter:VF}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},LF="react-flow__minimap-desc";function CM({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:h,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:y="bottom-right",onClick:b,onNodeClick:E,pannable:T=!1,zoomable:x=!1,ariaLabel:C,inversePan:D,zoomStep:A=1,offsetScale:O=5}){const U=Qt(),L=ce.useRef(null),{boundingRect:I,viewBB:M,rfId:k,panZoom:H,translateExtent:V,flowWidth:B,flowHeight:P,ariaLabelConfig:K}=bt(qF,Kt),te=t?.width??OF,$=t?.height??zF,W=I.width/te,re=I.height/$,oe=Math.max(W,re),ye=oe*te,Y=oe*$,ee=O*oe,pe=I.x-(ye-I.width)/2-ee,Q=I.y-(Y-I.height)/2-ee,ie=ye+ee*2,ue=Y+ee*2,ge=`${LF}-${k}`,be=ce.useRef(0),Ce=ce.useRef();be.current=oe,ce.useEffect(()=>{if(L.current&&H)return Ce.current=JU({domNode:L.current,panZoom:H,getTransform:()=>U.getState().transform,getViewScale:()=>be.current}),()=>{Ce.current?.destroy()}},[H]),ce.useEffect(()=>{Ce.current?.update({translateExtent:V,width:B,height:P,inversePan:D,pannable:T,zoomStep:A,zoomable:x})},[T,x,D,A,V,B,P]);const Ve=b?Pe=>{const[Ge,Be]=Ce.current?.pointer(Pe)||[0,0];b(Pe,{x:Ge,y:Be})}:void 0,je=E?ce.useCallback((Pe,Ge)=>{const Be=U.getState().nodeLookup.get(Ge).internals.userNode;E(Pe,Be)},[]):void 0,He=C??K["minimap.ariaLabel"];return G.jsx(Dm,{position:y,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*oe:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Rn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:G.jsxs("svg",{width:te,height:$,viewBox:`${pe} ${Q} ${ie} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ge,ref:L,onClick:Ve,children:[He&&G.jsx("title",{id:ge,children:He}),G.jsx(DF,{onClick:je,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),G.jsx("path",{className:"react-flow__minimap-mask",d:`M${pe-ee},${Q-ee}h${ie+ee*2}v${ue+ee*2}h${-ie-ee*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}CM.displayName="MiniMap";const PF=ce.memo(CM),BF=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,UF={[Xu.Line]:"right",[Xu.Handle]:"bottom-right"};function HF({nodeId:t,position:e,variant:n=Xu.Handle,className:r,style:i=void 0,children:o,color:l,minWidth:c=10,minHeight:h=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:y,autoScale:b=!0,shouldResize:E,onResizeStart:T,onResize:x,onResizeEnd:C}){const D=aM(),A=typeof t=="string"?t:D,O=Qt(),U=ce.useRef(null),L=n===Xu.Handle,I=bt(ce.useCallback(BF(L&&b),[L,b]),Kt),M=ce.useRef(null),k=e??UF[n];ce.useEffect(()=>{if(!(!U.current||!A))return M.current||(M.current=dH({domNode:U.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:V,transform:B,snapGrid:P,snapToGrid:K,nodeOrigin:te,domNode:$}=O.getState();return{nodeLookup:V,transform:B,snapGrid:P,snapToGrid:K,nodeOrigin:te,paneDomNode:$}},onChange:(V,B)=>{const{triggerNodeChanges:P,nodeLookup:K,parentLookup:te,nodeOrigin:$}=O.getState(),W=[],re={x:V.x,y:V.y},oe=K.get(A);if(oe&&oe.expandParent&&oe.parentId){const ye=oe.origin??$,Y=V.width??oe.measured.width??0,ee=V.height??oe.measured.height??0,pe={id:oe.id,parentId:oe.parentId,rect:{width:Y,height:ee,...RN({x:V.x??oe.position.x,y:V.y??oe.position.y},{width:Y,height:ee},oe.parentId,K,ye)}},Q=G6([pe],K,te,$);W.push(...Q),re.x=V.x?Math.max(ye[0]*Y,V.x):void 0,re.y=V.y?Math.max(ye[1]*ee,V.y):void 0}if(re.x!==void 0&&re.y!==void 0){const ye={id:A,type:"position",position:{...re}};W.push(ye)}if(V.width!==void 0&&V.height!==void 0){const Y={id:A,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:V.width,height:V.height}};W.push(Y)}for(const ye of B){const Y={...ye,type:"position"};W.push(Y)}P(W)},onEnd:({width:V,height:B})=>{const P={id:A,type:"dimensions",resizing:!1,dimensions:{width:V,height:B}};O.getState().triggerNodeChanges([P])}})),M.current.update({controlPosition:k,boundaries:{minWidth:c,minHeight:h,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:y,onResizeStart:T,onResize:x,onResizeEnd:C,shouldResize:E}),()=>{M.current?.destroy()}},[k,c,h,f,m,p,T,x,C,E]);const H=k.split("-");return G.jsx("div",{className:Rn(["react-flow__resize-control","nodrag",...H,n,r]),ref:U,style:{...i,scale:I,...l&&{[L?"backgroundColor":"borderColor"]:l}},children:o})}ce.memo(HF);const jF=()=>{};var uE={};const RM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},IM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=o>>2,p=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(y=64)),r.push(n[m],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||p==null)throw new GF;const y=o<<2|c>>4;if(r.push(y),f!==64){const b=c<<4&240|f>>2;if(r.push(b),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $F=function(t){const e=RM(t);return IM.encodeByteArray(e,!0)},Qd=function(t){return $F(t).replace(/\./g,"")},NM=function(t){try{return IM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XF=()=>YF().__FIREBASE_DEFAULTS__,KF=()=>{if(typeof process>"u"||typeof uE>"u")return;const t=uE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NM(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return jF()||XF()||KF()||QF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MM=t=>Vm()?.emulatorHosts?.[t],ZF=t=>{const e=MM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kM=()=>Vm()?.config,DM=t=>Vm()?.[`_${t}`];class WF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ac(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OM(t){return(await fetch(t,{credentials:"include"})).ok}function JF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qd(JSON.stringify(n)),Qd(JSON.stringify(l)),""].join(".")}const I0={};function eG(){const t={prod:[],emulator:[]};for(const e of Object.keys(I0))I0[e]?t.emulator.push(e):t.prod.push(e);return t}function tG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cE=!1;function zM(t,e){if(typeof window>"u"||typeof document>"u"||!ac(window.location.host)||I0[t]===e||I0[t]||cE)return;I0[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=eG().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{cE=!0,l()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=tG(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),T=n("learnmore"),x=document.getElementById(T)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;c(A),m(x,T);const O=f();h(D,C),A.append(D,E,x,O),document.body.appendChild(A)}o?(E.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function rG(){const t=Vm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oG(){const t=tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lG(){return!rG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uG(){try{return typeof indexedDB=="object"}catch{return!1}}function cG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const hG="FirebaseError";class fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hG,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?fG(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new fs(i,c,r)}}function fG(t,e){return t.replace(dG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dG=/\{\$([^}]+)}/g;function mG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(hE(o)&&hE(l)){if(!bl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hE(t){return t!==null&&typeof t=="object"}function fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pG(t,e){const n=new gG(t,e);return n.subscribe.bind(n)}class gG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ug),i.error===void 0&&(i.error=Ug),i.complete===void 0&&(i.complete=Ug);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ug(){}function On(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ul="[DEFAULT]";class yG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bG(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_G(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _G(t){return t===ul?void 0:t}function bG(t){return t.instantiationMode==="EAGER"}class wG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const EG={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},SG=pt.INFO,xG={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},TG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X6{constructor(e){this.name=e,this._logLevel=SG,this._logHandler=TG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const AG=(t,e)=>e.some(n=>t instanceof n);let fE,dE;function CG(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RG(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VM=new WeakMap,K5=new WeakMap,qM=new WeakMap,Hg=new WeakMap,K6=new WeakMap;function IG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(uo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&VM.set(n,t)}).catch(()=>{}),K6.set(e,t),e}function NG(t){if(K5.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});K5.set(t,e)}let Q5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MG(t){Q5=t(Q5)}function kG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jg(this),e,...n);return qM.set(r,e.sort?e.sort():[e]),uo(r)}:RG().includes(t)?function(...e){return t.apply(jg(this),e),uo(VM.get(this))}:function(...e){return uo(t.apply(jg(this),e))}}function DG(t){return typeof t=="function"?kG(t):(t instanceof IDBTransaction&&NG(t),AG(t,CG())?new Proxy(t,Q5):t)}function uo(t){if(t instanceof IDBRequest)return IG(t);if(Hg.has(t))return Hg.get(t);const e=DG(t);return e!==t&&(Hg.set(t,e),K6.set(e,t)),e}const jg=t=>K6.get(t);function OG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=uo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(uo(l.result),h.oldVersion,h.newVersion,uo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const zG=["get","getKey","getAll","getAllKeys","count"],VG=["put","add","delete","clear"],Fg=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zG.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return Fg.set(e,o),o}MG(t=>({...t,get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));class qG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LG(t){return t.getComponent()?.type==="VERSION"}const Z5="@firebase/app",pE="0.14.6";const is=new X6("@firebase/app"),PG="@firebase/app-compat",BG="@firebase/analytics-compat",UG="@firebase/analytics",HG="@firebase/app-check-compat",jG="@firebase/app-check",FG="@firebase/auth",GG="@firebase/auth-compat",$G="@firebase/database",YG="@firebase/data-connect",XG="@firebase/database-compat",KG="@firebase/functions",QG="@firebase/functions-compat",ZG="@firebase/installations",WG="@firebase/installations-compat",JG="@firebase/messaging",e$="@firebase/messaging-compat",t$="@firebase/performance",n$="@firebase/performance-compat",r$="@firebase/remote-config",i$="@firebase/remote-config-compat",a$="@firebase/storage",s$="@firebase/storage-compat",o$="@firebase/firestore",l$="@firebase/ai",u$="@firebase/firestore-compat",c$="firebase",h$="12.6.0";const W5="[DEFAULT]",f$={[Z5]:"fire-core",[PG]:"fire-core-compat",[UG]:"fire-analytics",[BG]:"fire-analytics-compat",[jG]:"fire-app-check",[HG]:"fire-app-check-compat",[FG]:"fire-auth",[GG]:"fire-auth-compat",[$G]:"fire-rtdb",[YG]:"fire-data-connect",[XG]:"fire-rtdb-compat",[KG]:"fire-fn",[QG]:"fire-fn-compat",[ZG]:"fire-iid",[WG]:"fire-iid-compat",[JG]:"fire-fcm",[e$]:"fire-fcm-compat",[t$]:"fire-perf",[n$]:"fire-perf-compat",[r$]:"fire-rc",[i$]:"fire-rc-compat",[a$]:"fire-gcs",[s$]:"fire-gcs-compat",[o$]:"fire-fst",[u$]:"fire-fst-compat",[l$]:"fire-vertex","fire-js":"fire-js",[c$]:"fire-js-all"};const Zd=new Map,d$=new Map,J5=new Map;function gE(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qu(t){const e=t.name;if(J5.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;J5.set(e,t);for(const n of Zd.values())gE(n,t);for(const n of d$.values())gE(n,t);return!0}function Q6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t==null?!1:t.settings!==void 0}const m$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new hh("app","Firebase",m$);class p${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const sc=h$;function LM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:W5,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=kM()),!n)throw co.create("no-options");const o=Zd.get(i);if(o){if(bl(n,o.options)&&bl(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const l=new wG(i);for(const h of J5.values())l.addComponent(h);const c=new p$(n,r,l);return Zd.set(i,c),c}function PM(t=W5){const e=Zd.get(t);if(!e&&t===W5&&kM())return LM();if(!e)throw co.create("no-app",{appName:t});return e}function ho(t,e,n){let r=f$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(l.join(" "));return}Qu(new wl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const g$="firebase-heartbeat-database",v$=1,Y0="firebase-heartbeat-store";let Gg=null;function BM(){return Gg||(Gg=OG(g$,v$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Y0)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function y$(t){try{const n=(await BM()).transaction(Y0),r=await n.objectStore(Y0).get(UM(t));return await n.done,r}catch(e){if(e instanceof fs)is.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e?.message});is.warn(n.message)}}}async function vE(t,e){try{const r=(await BM()).transaction(Y0,"readwrite");await r.objectStore(Y0).put(e,UM(t)),await r.done}catch(n){if(n instanceof fs)is.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n?.message});is.warn(r.message)}}}function UM(t){return`${t.name}!${t.options.appId}`}const _$=1024,b$=30;class w${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>b$){const i=x$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yE(),{heartbeatsToSend:n,unsentEntries:r}=E$(this._heartbeatsCache.heartbeats),i=Qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return is.warn(e),""}}}function yE(){return new Date().toISOString().substring(0,10)}function E$(t,e=_$){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),_E(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_E(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uG()?cG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _E(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function x$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function T$(t){Qu(new wl("platform-logger",e=>new qG(e),"PRIVATE")),Qu(new wl("heartbeat",e=>new w$(e),"PRIVATE")),ho(Z5,pE,t),ho(Z5,pE,"esm2020"),ho("fire-js","")}T$("");var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,HM;(function(){var t;function e(I,M){function k(){}k.prototype=M.prototype,I.F=M.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(H,V,B){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return M.prototype[V].apply(H,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,M,k){k||(k=0);const H=Array(16);if(typeof M=="string")for(var V=0;V<16;++V)H[V]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(V=0;V<16;++V)H[V]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=I.g[0],k=I.g[1],V=I.g[2];let B=I.g[3],P;P=M+(B^k&(V^B))+H[0]+3614090360&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(V^M&(k^V))+H[1]+3905402710&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(k^B&(M^k))+H[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=k+(M^V&(B^M))+H[3]+3250441966&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(B^k&(V^B))+H[4]+4118548399&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(V^M&(k^V))+H[5]+1200080426&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(k^B&(M^k))+H[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=k+(M^V&(B^M))+H[7]+4249261313&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(B^k&(V^B))+H[8]+1770035416&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(V^M&(k^V))+H[9]+2336552879&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(k^B&(M^k))+H[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=k+(M^V&(B^M))+H[11]+2304563134&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(B^k&(V^B))+H[12]+1804603682&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(V^M&(k^V))+H[13]+4254626195&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(k^B&(M^k))+H[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=k+(M^V&(B^M))+H[15]+1236535329&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(V^B&(k^V))+H[1]+4129170786&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^V&(M^k))+H[6]+3225465664&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(B^M))+H[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(V^B))+H[0]+3921069994&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(V^B&(k^V))+H[5]+3593408605&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^V&(M^k))+H[10]+38016083&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(B^M))+H[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(V^B))+H[4]+3889429448&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(V^B&(k^V))+H[9]+568446438&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^V&(M^k))+H[14]+3275163606&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(B^M))+H[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(V^B))+H[8]+1163531501&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(V^B&(k^V))+H[13]+2850285829&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^V&(M^k))+H[2]+4243563512&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(B^M))+H[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(V^B))+H[12]+2368359562&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(k^V^B)+H[5]+4294588738&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^V)+H[8]+2272392833&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^k)+H[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=k+(V^B^M)+H[14]+4259657740&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(k^V^B)+H[1]+2763975236&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^V)+H[4]+1272893353&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^k)+H[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=k+(V^B^M)+H[10]+3200236656&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(k^V^B)+H[13]+681279174&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^V)+H[0]+3936430074&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^k)+H[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=k+(V^B^M)+H[6]+76029189&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(k^V^B)+H[9]+3654602809&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^V)+H[12]+3873151461&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^k)+H[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=k+(V^B^M)+H[2]+3299628645&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(V^(k|~B))+H[0]+4096336452&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~V))+H[7]+1126891415&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~k))+H[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=k+(B^(V|~M))+H[5]+4237533241&4294967295,k=V+(P<<21&4294967295|P>>>11),P=M+(V^(k|~B))+H[12]+1700485571&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~V))+H[3]+2399980690&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~k))+H[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=k+(B^(V|~M))+H[1]+2240044497&4294967295,k=V+(P<<21&4294967295|P>>>11),P=M+(V^(k|~B))+H[8]+1873313359&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~V))+H[15]+4264355552&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~k))+H[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=k+(B^(V|~M))+H[13]+1309151649&4294967295,k=V+(P<<21&4294967295|P>>>11),P=M+(V^(k|~B))+H[4]+4149444226&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~V))+H[11]+3174756917&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~k))+H[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=k+(B^(V|~M))+H[9]+3951481745&4294967295,I.g[0]=I.g[0]+M&4294967295,I.g[1]=I.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+B&4294967295}r.prototype.v=function(I,M){M===void 0&&(M=I.length);const k=M-this.blockSize,H=this.C;let V=this.h,B=0;for(;B<M;){if(V==0)for(;B<=k;)i(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<M;)if(H[V++]=I.charCodeAt(B++),V==this.blockSize){i(this,H),V=0;break}}else for(;B<M;)if(H[V++]=I[B++],V==this.blockSize){i(this,H),V=0;break}}this.h=V,this.o+=M},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var M=1;M<I.length-8;++M)I[M]=0;M=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=M&255,M/=256;for(this.v(I),I=Array(16),M=0,k=0;k<4;++k)for(let H=0;H<32;H+=8)I[M++]=this.g[k]>>>H&255;return I};function o(I,M){var k=c;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=M(I)}function l(I,M){this.h=M;const k=[];let H=!0;for(let V=I.length-1;V>=0;V--){const B=I[V]|0;H&&B==M||(k[V]=B,H=!1)}this.g=k}var c={};function h(I){return-128<=I&&I<128?o(I,function(M){return new l([M|0],M<0?-1:0)}):new l([I|0],I<0?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return x(f(-I));const M=[];let k=1;for(let H=0;I>=k;H++)M[H]=I/k|0,k*=4294967296;return new l(M,0)}function m(I,M){if(I.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(I.charAt(0)=="-")return x(m(I.substring(1),M));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(M,8));let H=p;for(let B=0;B<I.length;B+=8){var V=Math.min(8,I.length-B);const P=parseInt(I.substring(B,B+V),M);V<8?(V=f(Math.pow(M,V)),H=H.j(V).add(f(P))):(H=H.j(k),H=H.add(f(P)))}return H}var p=h(0),y=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(T(this))return-x(this).m();let I=0,M=1;for(let k=0;k<this.g.length;k++){const H=this.i(k);I+=(H>=0?H:4294967296+H)*M,M*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(T(this))return"-"+x(this).toString(I);const M=f(Math.pow(I,6));var k=this;let H="";for(;;){const V=O(k,M).g;k=C(k,V.j(M));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=V,E(k))return B+H;for(;B.length<6;)B="0"+B;H=B+H}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(let M=0;M<I.g.length;M++)if(I.g[M]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=C(this,I),T(I)?-1:E(I)?0:1};function x(I){const M=I.g.length,k=[];for(let H=0;H<M;H++)k[H]=~I.g[H];return new l(k,~I.h).add(y)}t.abs=function(){return T(this)?x(this):this},t.add=function(I){const M=Math.max(this.g.length,I.g.length),k=[];let H=0;for(let V=0;V<=M;V++){let B=H+(this.i(V)&65535)+(I.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);H=P>>>16,B&=65535,P&=65535,k[V]=P<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(I,M){return I.add(x(M))}t.j=function(I){if(E(this)||E(I))return p;if(T(this))return T(I)?x(this).j(x(I)):x(x(this).j(I));if(T(I))return x(this.j(x(I)));if(this.l(b)<0&&I.l(b)<0)return f(this.m()*I.m());const M=this.g.length+I.g.length,k=[];for(var H=0;H<2*M;H++)k[H]=0;for(H=0;H<this.g.length;H++)for(let V=0;V<I.g.length;V++){const B=this.i(H)>>>16,P=this.i(H)&65535,K=I.i(V)>>>16,te=I.i(V)&65535;k[2*H+2*V]+=P*te,D(k,2*H+2*V),k[2*H+2*V+1]+=B*te,D(k,2*H+2*V+1),k[2*H+2*V+1]+=P*K,D(k,2*H+2*V+1),k[2*H+2*V+2]+=B*K,D(k,2*H+2*V+2)}for(I=0;I<M;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=M;I<2*M;I++)k[I]=0;return new l(k,0)};function D(I,M){for(;(I[M]&65535)!=I[M];)I[M+1]+=I[M]>>>16,I[M]&=65535,M++}function A(I,M){this.g=I,this.h=M}function O(I,M){if(E(M))throw Error("division by zero");if(E(I))return new A(p,p);if(T(I))return M=O(x(I),M),new A(x(M.g),x(M.h));if(T(M))return M=O(I,x(M)),new A(x(M.g),M.h);if(I.g.length>30){if(T(I)||T(M))throw Error("slowDivide_ only works with positive integers.");for(var k=y,H=M;H.l(I)<=0;)k=U(k),H=U(H);var V=L(k,1),B=L(H,1);for(H=L(H,2),k=L(k,2);!E(H);){var P=B.add(H);P.l(I)<=0&&(V=V.add(k),B=P),H=L(H,1),k=L(k,1)}return M=C(I,V.j(M)),new A(V,M)}for(V=p;I.l(M)>=0;){for(k=Math.max(1,Math.floor(I.m()/M.m())),H=Math.ceil(Math.log(k)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),B=f(k),P=B.j(M);T(P)||P.l(I)>0;)k-=H,B=f(k),P=B.j(M);E(B)&&(B=y),V=V.add(B),I=C(I,P)}return new A(V,I)}t.B=function(I){return O(this,I).h},t.and=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)&I.i(H);return new l(k,this.h&I.h)},t.or=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)|I.i(H);return new l(k,this.h|I.h)},t.xor=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)^I.i(H);return new l(k,this.h^I.h)};function U(I){const M=I.g.length+1,k=[];for(let H=0;H<M;H++)k[H]=I.i(H)<<1|I.i(H-1)>>>31;return new l(k,I.h)}function L(I,M){const k=M>>5;M%=32;const H=I.g.length-k,V=[];for(let B=0;B<H;B++)V[B]=M>0?I.i(B+k)>>>M|I.i(B+k+1)<<32-M:I.i(B+k);return new l(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,fo=l}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jM,y0,FM,Cd,e6,GM,$M,YM;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var S=0;S<g.length;++S){var z=g[S];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var r=n(this);function i(g,S){if(S)e:{var z=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var he=g[X];if(!(he in z))break e;z=z[he]}g=g[g.length-1],X=z[g],S=S(X),S!=X&&S!=null&&e(z,g,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(S){var z=[],X;for(X in S)Object.prototype.hasOwnProperty.call(S,X)&&z.push([X,S[X]]);return z}});var o=o||{},l=this||self;function c(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function h(g,S,z){return g.call.apply(g.bind,arguments)}function f(g,S,z){return f=h,f.apply(null,arguments)}function m(g,S){var z=Array.prototype.slice.call(arguments,1);return function(){var X=z.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function p(g,S){function z(){}z.prototype=S.prototype,g.Z=S.prototype,g.prototype=new z,g.prototype.constructor=g,g.Ob=function(X,he,_e){for(var Me=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Me[ot-2]=arguments[ot];return S.prototype[he].apply(X,Me)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const S=g.length;if(S>0){const z=Array(S);for(let X=0;X<S;X++)z[X]=g[X];return z}return[]}function E(g,S){for(let X=1;X<arguments.length;X++){const he=arguments[X];var z=typeof he;if(z=z!="object"?z:he?Array.isArray(he)?"array":z:"null",z=="array"||z=="object"&&typeof he.length=="number"){z=g.length||0;const _e=he.length||0;g.length=z+_e;for(let Me=0;Me<_e;Me++)g[z+Me]=he[Me]}else g.push(he)}}class T{constructor(S,z){this.i=S,this.j=z,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function x(g){l.setTimeout(()=>{throw g},0)}function C(){var g=I;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class D{constructor(){this.h=this.g=null}add(S,z){const X=A.get();X.set(S,z),this.h?this.h.next=X:this.g=X,this.h=X}}var A=new T(()=>new O,g=>g.reset());class O{constructor(){this.next=this.g=this.h=null}set(S,z){this.h=S,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let U,L=!1,I=new D,M=()=>{const g=Promise.resolve(void 0);U=()=>{g.then(k)}};function k(){for(var g;g=C();){try{g.h.call(g.g)}catch(z){x(z)}var S=A;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}L=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const z=()=>{};l.addEventListener("test",z,S),l.removeEventListener("test",z,S)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function K(g,S){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}p(K,V),K.prototype.init=function(g,S){const z=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(z=="mouseover"?S=g.fromElement:z=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(g,S,z,X,he){this.listener=g,this.proxy=null,this.src=S,this.type=z,this.capture=!!X,this.ha=he,this.key=++$,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function oe(g,S,z){for(const X in g)S.call(z,g[X],X,g)}function ye(g,S){for(const z in g)S.call(void 0,g[z],z,g)}function Y(g){const S={};for(const z in g)S[z]=g[z];return S}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,S){let z,X;for(let he=1;he<arguments.length;he++){X=arguments[he];for(z in X)g[z]=X[z];for(let _e=0;_e<ee.length;_e++)z=ee[_e],Object.prototype.hasOwnProperty.call(X,z)&&(g[z]=X[z])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,S,z,X,he){const _e=g.toString();g=this.g[_e],g||(g=this.g[_e]=[],this.h++);const Me=ue(g,S,X,he);return Me>-1?(S=g[Me],z||(S.fa=!1)):(S=new W(S,this.src,_e,!!X,he),S.fa=z,g.push(S)),S};function ie(g,S){const z=S.type;if(z in g.g){var X=g.g[z],he=Array.prototype.indexOf.call(X,S,void 0),_e;(_e=he>=0)&&Array.prototype.splice.call(X,he,1),_e&&(re(S),g.g[z].length==0&&(delete g.g[z],g.h--))}}function ue(g,S,z,X){for(let he=0;he<g.length;++he){const _e=g[he];if(!_e.da&&_e.listener==S&&_e.capture==!!z&&_e.ha==X)return he}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),be={};function Ce(g,S,z,X,he){if(Array.isArray(S)){for(let _e=0;_e<S.length;_e++)Ce(g,S[_e],z,X,he);return null}return z=Bt(z),g&&g[te]?g.J(S,z,c(X)?!!X.capture:!1,he):Ve(g,S,z,!1,X,he)}function Ve(g,S,z,X,he,_e){if(!S)throw Error("Invalid event type");const Me=c(he)?!!he.capture:!!he;let ot=it(g);if(ot||(g[ge]=ot=new Q(g)),z=ot.add(S,z,X,Me,_e),z.proxy)return z;if(X=je(),z.proxy=X,X.src=g,X.listener=z,g.addEventListener)B||(he=Me),he===void 0&&(he=!1),g.addEventListener(S.toString(),X,he);else if(g.attachEvent)g.attachEvent(Ge(S.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return z}function je(){function g(z){return S.call(g.src,g.listener,z)}const S=Be;return g}function He(g,S,z,X,he){if(Array.isArray(S))for(var _e=0;_e<S.length;_e++)He(g,S[_e],z,X,he);else X=c(X)?!!X.capture:!!X,z=Bt(z),g&&g[te]?(g=g.i,_e=String(S).toString(),_e in g.g&&(S=g.g[_e],z=ue(S,z,X,he),z>-1&&(re(S[z]),Array.prototype.splice.call(S,z,1),S.length==0&&(delete g.g[_e],g.h--)))):g&&(g=it(g))&&(S=g.g[S.toString()],g=-1,S&&(g=ue(S,z,X,he)),(z=g>-1?S[g]:null)&&Pe(z))}function Pe(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[te])ie(S.i,g);else{var z=g.type,X=g.proxy;S.removeEventListener?S.removeEventListener(z,X,g.capture):S.detachEvent?S.detachEvent(Ge(z),X):S.addListener&&S.removeListener&&S.removeListener(X),(z=it(S))?(ie(z,g),z.h==0&&(z.src=null,S[ge]=null)):re(g)}}}function Ge(g){return g in be?be[g]:be[g]="on"+g}function Be(g,S){if(g.da)g=!0;else{S=new K(S,this);const z=g.listener,X=g.ha||g.src;g.fa&&Pe(g),g=z.call(X,S)}return g}function it(g){return g=g[ge],g instanceof Q?g:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bt(g){return typeof g=="function"?g:(g[$e]||(g[$e]=function(S){return g.handleEvent(S)}),g[$e])}function st(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}p(st,H),st.prototype[te]=!0,st.prototype.removeEventListener=function(g,S,z,X){He(this,g,S,z,X)};function It(g,S){var z,X=g.G;if(X)for(z=[];X;X=X.G)z.push(X);if(g=g.M,X=S.type||S,typeof S=="string")S=new V(S,g);else if(S instanceof V)S.target=S.target||g;else{var he=S;S=new V(X,g),pe(S,he)}he=!0;let _e,Me;if(z)for(Me=z.length-1;Me>=0;Me--)_e=S.g=z[Me],he=Mn(_e,X,!0,S)&&he;if(_e=S.g=g,he=Mn(_e,X,!0,S)&&he,he=Mn(_e,X,!1,S)&&he,z)for(Me=0;Me<z.length;Me++)_e=S.g=z[Me],he=Mn(_e,X,!1,S)&&he}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const z=g.g[S];for(let X=0;X<z.length;X++)re(z[X]);delete g.g[S],g.h--}}this.G=null},st.prototype.J=function(g,S,z,X){return this.i.add(String(g),S,!1,z,X)},st.prototype.K=function(g,S,z,X){return this.i.add(String(g),S,!0,z,X)};function Mn(g,S,z,X){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let he=!0;for(let _e=0;_e<S.length;++_e){const Me=S[_e];if(Me&&!Me.da&&Me.capture==z){const ot=Me.listener,dn=Me.ha||Me.src;Me.fa&&ie(g.i,Me),he=ot.call(dn,X)!==!1&&he}}return he&&!X.defaultPrevented}function Vn(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:l.setTimeout(g,S||0)}function Ht(g){g.g=Vn(()=>{g.g=null,g.i&&(g.i=!1,Ht(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class $t extends H{constructor(S,z){super(),this.m=S,this.l=z,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(g){H.call(this),this.h=g,this.g={}}p(Un,H);var cr=[];function hr(g){oe(g.g,function(S,z){this.g.hasOwnProperty(z)&&Pe(S)},g),g.g={}}Un.prototype.N=function(){Un.Z.N.call(this),hr(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=l.JSON.stringify,gs=l.JSON.parse,bi=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function vs(){}function wa(){}var rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){V.call(this,"d")}p(qt,V);function fr(){V.call(this,"c")}p(fr,V);var Jt={},Dl=null;function ys(){return Dl=Dl||new st}Jt.Ia="serverreachability";function Ol(g){V.call(this,Jt.Ia,g)}p(Ol,V);function Xr(g){const S=ys();It(S,new Ol(S))}Jt.STAT_EVENT="statevent";function Ea(g,S){V.call(this,Jt.STAT_EVENT,g),this.stat=S}p(Ea,V);function an(g){const S=ys();It(S,new Ea(S,g))}Jt.Ja="timingevent";function Kr(g,S){V.call(this,Jt.Ja,g),this.size=S}p(Kr,V);function Qr(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},S)}function Cr(){this.g=!0}Cr.prototype.ua=function(){this.g=!1};function bc(g,S,z,X,he,_e){g.info(function(){if(g.g)if(_e){var Me="",ot=_e.split("&");for(let Ct=0;Ct<ot.length;Ct++){var dn=ot[Ct].split("=");if(dn.length>1){const Yt=dn[0];dn=dn[1];const ai=Yt.split("_");Me=ai.length>=2&&ai[1]=="type"?Me+(Yt+"="+dn+"&"):Me+(Yt+"=redacted&")}}}else Me=null;else Me=_e;return"XMLHTTP REQ ("+X+") [attempt "+he+"]: "+S+`
`+z+`
`+Me})}function zl(g,S,z,X,he,_e,Me){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+he+"]: "+S+`
`+z+`
`+_e+" "+Me})}function Zr(g,S,z,X){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+wc(g,z)+(X?" "+X:"")})}function Sa(g,S){g.info(function(){return"TIMEOUT: "+S})}Cr.prototype.info=function(){};function wc(g,S){if(!g.g)return S;if(!S)return null;try{const _e=JSON.parse(S);if(_e){for(g=0;g<_e.length;g++)if(Array.isArray(_e[g])){var z=_e[g];if(!(z.length<2)){var X=z[1];if(Array.isArray(X)&&!(X.length<1)){var he=X[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Me=1;Me<X.length;Me++)X[Me]=""}}}}return qn(_e)}catch{return S}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function Ta(){}p(Ta,vs),Ta.prototype.g=function(){return new XMLHttpRequest},No=new Ta;function wi(g){return encodeURIComponent(String(g))}function Vl(g){var S=1;g=g.split(":");const z=[];for(;S>0&&g.length;)z.push(g.shift()),S--;return g.length&&z.push(g.join(":")),z}function Rr(g,S,z,X){this.j=g,this.i=S,this.l=z,this.S=X||1,this.V=new Un(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var sn={},_n={};function Nr(g,S,z){g.M=1,g.A=Ca(ln(S)),g.u=z,g.R=!0,Aa(g,null)}function Aa(g,S){g.F=Date.now(),Wr(g),g.B=ln(g.A);var z=g.B,X=g.S;Array.isArray(X)||(X=[String(X)]),Hl(z.i,"t",X),g.C=0,z=g.j.L,g.h=new Ir,g.g=jh(g.j,z?S:null,!g.u),g.P>0&&(g.O=new $t(f(g.Y,g,g.g),g.P)),S=g.V,z=g.g,X=g.ba;var he="readystatechange";Array.isArray(he)||(he&&(cr[0]=he.toString()),he=cr);for(let _e=0;_e<he.length;_e++){const Me=Ce(z,he[_e],X||S.handleEvent,!1,S.h||S);if(!Me)break;S.g[Me.key]=Me}S=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),Xr(),bc(g.i,g.v,g.B,g.l,g.S,g.u)}Rr.prototype.ba=function(g){g=g.target;const S=this.O;S&&Ti(g)==3?S.j():this.Y(g)},Rr.prototype.Y=function(g){try{if(g==this.g)e:{const ot=Ti(this.g),dn=this.g.ya(),Ct=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||ot!=4||dn==7||(dn==8||Ct<=0?Xr(3):Xr(2)),Jr(this);var S=this.g.ca();this.X=S;var z=ql(this);if(this.o=S==200,zl(this.i,this.v,this.B,this.l,this.S,ot,S),this.o){if(this.U&&!this.L){t:{if(this.g){var X,he=this.g;if((X=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(X)){var _e=X;break t}}_e=null}if(g=_e)Zr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,g);else{this.o=!1,this.m=3,an(12),Qn(this),dr(this);break e}}if(this.R){g=!0;let Yt;for(;!this.K&&this.C<z.length;)if(Yt=Pl(this,z),Yt==_n){ot==4&&(this.m=4,an(14),g=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==sn){this.m=4,an(15),Zr(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else Zr(this.i,this.l,Yt,null),ei(this,Yt);if(Ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||z.length!=0||this.h.h||(this.m=1,an(16),g=!1),this.o=this.o&&g,!g)Zr(this.i,this.l,z,"[Invalid Chunked Response]"),Qn(this),dr(this);else if(z.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ic(Me),Me.P=!0,an(11))}}else Zr(this.i,this.l,z,null),ei(this,z);ot==4&&Qn(this),this.o&&!this.K&&(ot==4?Ph(this.j,this):(this.o=!1,Wr(this)))}else Na(this.g),S==400&&z.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),Qn(this),dr(this)}}}catch{}};function ql(g){if(!Ll(g))return g.g.la();const S=Hn(g.g);if(S==="")return"";let z="";const X=S.length,he=Ti(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Qn(g),dr(g),"";g.h.i=new l.TextDecoder}for(let _e=0;_e<X;_e++)g.h.h=!0,z+=g.h.i.decode(S[_e],{stream:!(he&&_e==X-1)});return S.length=0,g.h.g+=z,g.C=0,g.h.g}function Ll(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Pl(g,S){var z=g.C,X=S.indexOf(`
`,z);return X==-1?_n:(z=Number(S.substring(z,X)),isNaN(z)?sn:(X+=1,X+z>S.length?_n:(S=S.slice(X,X+z),g.C=X+z,S)))}Rr.prototype.cancel=function(){this.K=!0,Qn(this)};function Wr(g){g.T=Date.now()+g.H,_s(g,g.H)}function _s(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Qr(f(g.aa,g),S)}function Jr(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Rr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Sa(this.i,this.B),this.M!=2&&(Xr(),an(17)),Qn(this),this.m=2,dr(this)):_s(this,this.T-g)};function dr(g){g.j.I==0||g.K||Ph(g.j,g)}function Qn(g){Jr(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,hr(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function ei(g,S){try{var z=g.j;if(z.I!=0&&(z.g==g||ni(z.h,g))){if(!g.L&&ni(z.h,g)&&z.I==3){try{var X=z.Ba.g.parse(S)}catch{X=null}if(Array.isArray(X)&&X.length==3){var he=X;if(he[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<g.F)Yl(z),Cs(z);else break e;Ho(z),an(18)}}else z.xa=he[1],0<z.xa-z.K&&he[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=Qr(f(z.Va,z),6e3));ti(z.h)<=1&&z.ta&&(z.ta=void 0)}else Ki(z,11)}else if((g.L||z.g==g)&&Yl(z),!P(S))for(he=z.Ba.g.parse(S),S=0;S<he.length;S++){let Ct=he[S];const Yt=Ct[0];if(!(Yt<=z.K))if(z.K=Yt,Ct=Ct[1],z.I==2)if(Ct[0]=="c"){z.M=Ct[1],z.ba=Ct[2];const ai=Ct[3];ai!=null&&(z.ka=ai,z.j.info("VER="+z.ka));const Qi=Ct[4];Qi!=null&&(z.za=Qi,z.j.info("SVER="+z.za));const Ai=Ct[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(X=1.5*Ai,z.O=X,z.j.info("backChannelRequestTimeoutMs_="+X)),X=z;const Ci=g.g;if(Ci){const jo=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var _e=X.h;_e.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Do(_e,_e.h),_e.h=null))}if(X.G){const Xl=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(X.wa=Xl,St(X.J,X.G,Xl))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-g.F,z.j.info("Handshake RTT: "+z.T+"ms")),X=z;var Me=g;if(X.na=Hh(X,X.L?X.ba:null,X.W),Me.L){bs(X.h,Me);var ot=Me,dn=X.O;dn&&(ot.H=dn),ot.D&&(Jr(ot),Wr(ot)),X.g=Me}else qh(X);z.i.length>0&&Xi(z)}else Ct[0]!="stop"&&Ct[0]!="close"||Ki(z,7);else z.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Ki(z,7):Cc(z):Ct[0]!="noop"&&z.l&&z.l.qa(Ct),z.A=0)}}Xr(4)}catch{}}var on=class{constructor(g,S){this.g=g,this.map=S}};function Mo(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ti(g){return g.h?1:g.g?g.g.size:0}function ni(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Do(g,S){g.g?g.g.add(S):g.h=S}function bs(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}Mo.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Oo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const z of g.g.values())S=S.concat(z.G);return S}return b(g.i)}var Bl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(g,S){if(g){g=g.split("&");for(let z=0;z<g.length;z++){const X=g[z].indexOf("=");let he,_e=null;X>=0?(he=g[z].substring(0,X),_e=g[z].substring(X+1)):he=g[z],S(he,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function nr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof nr?(this.l=g.l,bn(this,g.j),this.o=g.o,this.g=g.g,ji(this,g.u),this.h=g.h,zo(this,zh(g.i)),this.m=g.m):g&&(S=String(g).match(Bl))?(this.l=!1,bn(this,S[1]||"",!0),this.o=Mr(S[2]||""),this.g=Mr(S[3]||"",!0),ji(this,S[4]),this.h=Mr(S[5]||"",!0),zo(this,S[6]||"",!0),this.m=Mr(S[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}nr.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Ra(S,Fi,!0),":");var z=this.g;return(z||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Ra(S,Fi,!0),"@"),g.push(wi(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&g.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&g.push("/"),g.push(Ra(z,z.charAt(0)=="/"?Vo:Ul,!0))),(z=this.i.toString())&&g.push("?",z),(z=this.m)&&g.push("#",Ra(z,Dh)),g.join("")},nr.prototype.resolve=function(g){const S=ln(this);let z=!!g.j;z?bn(S,g.j):z=!!g.o,z?S.o=g.o:z=!!g.g,z?S.g=g.g:z=g.u!=null;var X=g.h;if(z)ji(S,g.u);else if(z=!!g.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var he=S.h.lastIndexOf("/");he!=-1&&(X=S.h.slice(0,he+1)+X)}if(he=X,he==".."||he==".")X="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){X=he.lastIndexOf("/",0)==0,he=he.split("/");const _e=[];for(let Me=0;Me<he.length;){const ot=he[Me++];ot=="."?X&&Me==he.length&&_e.push(""):ot==".."?((_e.length>1||_e.length==1&&_e[0]!="")&&_e.pop(),X&&Me==he.length&&_e.push("")):(_e.push(ot),X=!0)}X=_e.join("/")}else X=he}return z?S.h=X:z=g.i.toString()!=="",z?zo(S,zh(g.i)):z=!!g.m,z&&(S.m=g.m),S};function ln(g){return new nr(g)}function bn(g,S,z){g.j=z?Mr(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function ji(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function zo(g,S,z){S instanceof Es?(g.i=S,jl(g.i,g.l)):(z||(S=Ra(S,Ei)),g.i=new Es(S,g.l))}function St(g,S,z){g.i.set(S,z)}function Ca(g){return St(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Mr(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ra(g,S,z){return typeof g=="string"?(g=encodeURI(g).replace(S,Zn),z&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Zn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Fi=/[#\/\?@]/g,Ul=/[#\?:]/g,Vo=/[#\?]/g,Ei=/[#\?@]/g,Dh=/#/g;function Es(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function mr(g){g.g||(g.g=new Map,g.h=0,g.i&&ws(g.i,function(S,z){g.add(decodeURIComponent(S.replace(/\+/g," ")),z)}))}t=Es.prototype,t.add=function(g,S){mr(this),this.i=null,g=Ss(this,g);let z=this.g.get(g);return z||this.g.set(g,z=[]),z.push(S),this.h+=1,this};function Oh(g,S){mr(g),S=Ss(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Ec(g,S){return mr(g),S=Ss(g,S),g.g.has(S)}t.forEach=function(g,S){mr(this),this.g.forEach(function(z,X){z.forEach(function(he){g.call(S,he,X,this)},this)},this)};function Sc(g,S){mr(g);let z=[];if(typeof S=="string")Ec(g,S)&&(z=z.concat(g.g.get(Ss(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)z=z.concat(g[S]);return z}t.set=function(g,S){return mr(this),this.i=null,g=Ss(this,g),Ec(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=Sc(this,g),g.length>0?String(g[0]):S):S};function Hl(g,S,z){Oh(g,S),z.length>0&&(g.i=null,g.g.set(Ss(g,S),b(z)),g.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let X=0;X<S.length;X++){var z=S[X];const he=wi(z);z=Sc(this,z);for(let _e=0;_e<z.length;_e++){let Me=he;z[_e]!==""&&(Me+="="+wi(z[_e])),g.push(Me)}}return this.i=g.join("&")};function zh(g){const S=new Es;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function Ss(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function jl(g,S){S&&!g.j&&(mr(g),g.i=null,g.g.forEach(function(z,X){const he=X.toLowerCase();X!=he&&(Oh(this,X),Hl(this,he,z))},g)),g.j=S}function Si(g,S){const z=new Cr;if(l.Image){const X=new Image;X.onload=m(ri,z,"TestLoadImage: loaded",!0,S,X),X.onerror=m(ri,z,"TestLoadImage: error",!1,S,X),X.onabort=m(ri,z,"TestLoadImage: abort",!1,S,X),X.ontimeout=m(ri,z,"TestLoadImage: timeout",!1,S,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else S(!1)}function xc(g,S){const z=new Cr,X=new AbortController,he=setTimeout(()=>{X.abort(),ri(z,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:X.signal}).then(_e=>{clearTimeout(he),_e.ok?ri(z,"TestPingServer: ok",!0,S):ri(z,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(he),ri(z,"TestPingServer: error",!1,S)})}function ri(g,S,z,X,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),X(z)}catch{}}function xs(){this.g=new bi}function Gi(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Gi,vs),Gi.prototype.g=function(){return new qo(this.i,this.h)};function qo(g,S){st.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(qo,st),t=qo.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,xi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||l).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Ts(this):xi(this),this.readyState==3&&Fl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ts(this))},t.Na=function(g){this.g&&(this.response=g,Ts(this))},t.ga=function(){this.g&&Ts(this)};function Ts(g){g.readyState=4,g.l=null,g.j=null,g.B=null,xi(g)}t.setRequestHeader=function(g,S){this.A.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var z=S.next();!z.done;)z=z.value,g.push(z[0]+": "+z[1]),z=S.next();return g.join(`\r
`)};function xi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ii(g){let S="";return oe(g,function(z,X){S+=X,S+=":",S+=z,S+=`\r
`}),S}function Lo(g,S,z){e:{for(X in z){var X=!1;break e}X=!0}X||(z=ii(z),typeof g=="string"?z!=null&&wi(z):St(g,S,z))}function kt(g){st.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(kt,st);var $i=/^https?$/i,Tc=["POST","PUT"];t=kt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,S,z,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(_e){Po(this,_e);return}if(g=z||"",z=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var he in X)z.set(he,X[he]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const _e of X.keys())z.set(_e,X.get(_e));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(z.keys()).find(_e=>_e.toLowerCase()=="content-type"),he=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Tc,S,void 0)>=0)||X||he||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Me]of z)this.g.setRequestHeader(_e,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(_e){Po(this,_e)}};function Po(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,Ac(g),Ia(g)}function Ac(g){g.A||(g.A=!0,It(g,"complete"),It(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,It(this,"complete"),It(this,"abort"),Ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Bo(this):this.Xa())},t.Xa=function(){Bo(this)};function Bo(g){if(g.h&&typeof o<"u"){if(g.v&&Ti(g)==4)setTimeout(g.Ca.bind(g),0);else if(It(g,"readystatechange"),Ti(g)==4){g.h=!1;try{const _e=g.ca();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var z;if(!(z=S)){var X;if(X=_e===0){let Me=String(g.D).match(Bl)[1]||null;!Me&&l.self&&l.self.location&&(Me=l.self.location.protocol.slice(0,-1)),X=!$i.test(Me?Me.toLowerCase():"")}z=X}if(z)It(g,"complete"),It(g,"success");else{g.o=6;try{var he=Ti(g)>2?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.ca()+"]",Ac(g)}}finally{Ia(g)}}}}function Ia(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const z=g.g;g.g=null,S||It(g,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),gs(S)}};function Hn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Na(g){const S={};g=(g.g&&Ti(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(P(g[X]))continue;var z=Vl(g[X]);const he=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const _e=S[he]||[];S[he]=_e,_e.push(z)}ye(S,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(g,S,z){return z&&z.internalChannelParams&&z.internalChannelParams[g]||S}function As(g){this.za=0,this.i=[],this.j=new Cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,g),this.Za=Yi("retryDelaySeedMs",1e4,g),this.Ta=Yi("forwardChannelMaxRetries",2,g),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(g&&g.concurrentRequestLimit),this.Ba=new xs,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=As.prototype,t.ka=8,t.I=1,t.connect=function(g,S,z,X){an(0),this.W=g,this.H=S||{},z&&X!==void 0&&(this.H.OSID=z,this.H.OAID=X),this.F=this.X,this.J=Hh(this,null,this.W),Xi(this)};function Cc(g){if(Gl(g),g.I==3){var S=g.V++,z=ln(g.J);if(St(z,"SID",g.M),St(z,"RID",S),St(z,"TYPE","terminate"),Uo(g,z),S=new Rr(g,g.j,S),S.M=2,S.A=Ca(ln(z)),z=!1,l.navigator&&l.navigator.sendBeacon)try{z=l.navigator.sendBeacon(S.A.toString(),"")}catch{}!z&&l.Image&&(new Image().src=S.A,z=!0),z||(S.g=jh(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Wr(S)}Uh(g)}function Cs(g){g.g&&(Ic(g),g.g.cancel(),g.g=null)}function Gl(g){Cs(g),g.v&&(l.clearTimeout(g.v),g.v=null),Yl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Xi(g){if(!ko(g.h)&&!g.m){g.m=!0;var S=g.Ea;U||M(),L||(U(),L=!0),I.add(S,g),g.D=0}}function $l(g,S){return ti(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Qr(f(g.Ea,g,S),Bh(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const he=new Rr(this,this.j,g);let _e=this.o;if(this.U&&(_e?(_e=Y(_e),pe(_e,this.U)):_e=this.U),this.u!==null||this.R||(he.J=_e,_e=null),this.S)e:{for(var S=0,z=0;z<this.i.length;z++){t:{var X=this.i[z];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(S+=X,S>4096){S=z;break e}if(S===4096||z===this.i.length-1){S=z+1;break e}}S=1e3}else S=1e3;S=Vh(this,he,S),z=ln(this.J),St(z,"RID",g),St(z,"CVER",22),this.G&&St(z,"X-HTTP-Session-Id",this.G),Uo(this,z),_e&&(this.R?S="headers="+wi(ii(_e))+"&"+S:this.u&&Lo(z,this.u,_e)),Do(this.h,he),this.Ra&&St(z,"TYPE","init"),this.S?(St(z,"$req",S),St(z,"SID","null"),he.U=!0,Nr(he,z,null)):Nr(he,z,S),this.I=2}}else this.I==3&&(g?Rc(this,g):this.i.length==0||ko(this.h)||Rc(this))};function Rc(g,S){var z;S?z=S.l:z=g.V++;const X=ln(g.J);St(X,"SID",g.M),St(X,"RID",z),St(X,"AID",g.K),Uo(g,X),g.u&&g.o&&Lo(X,g.u,g.o),z=new Rr(g,g.j,z,g.D+1),g.u===null&&(z.J=g.o),S&&(g.i=S.G.concat(g.i)),S=Vh(g,z,1e3),z.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Do(g.h,z),Nr(z,X,S)}function Uo(g,S){g.H&&oe(g.H,function(z,X){St(S,X,z)}),g.l&&oe({},function(z,X){St(S,X,z)})}function Vh(g,S,z){z=Math.min(g.i.length,z);const X=g.l?f(g.l.Ka,g.l,g):null;e:{var he=g.i;let ot=-1;for(;;){const dn=["count="+z];ot==-1?z>0?(ot=he[0].g,dn.push("ofs="+ot)):ot=0:dn.push("ofs="+ot);let Ct=!0;for(let Yt=0;Yt<z;Yt++){var _e=he[Yt].g;const ai=he[Yt].map;if(_e-=ot,_e<0)ot=Math.max(0,he[Yt].g-100),Ct=!1;else try{_e="req"+_e+"_"||"";try{var Me=ai instanceof Map?ai:Object.entries(ai);for(const[Qi,Ai]of Me){let Ci=Ai;c(Ai)&&(Ci=qn(Ai)),dn.push(_e+Qi+"="+encodeURIComponent(Ci))}}catch(Qi){throw dn.push(_e+"type="+encodeURIComponent("_badmap")),Qi}}catch{X&&X(ai)}}if(Ct){Me=dn.join("&");break e}}Me=void 0}return g=g.i.splice(0,z),S.G=g,Me}function qh(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;U||M(),L||(U(),L=!0),I.add(S,g),g.A=0}}function Ho(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Qr(f(g.Da,g),Bh(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Lh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Qr(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),Cs(this),Lh(this))};function Ic(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Lh(g){g.g=new Rr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=ln(g.na);St(S,"RID","rpc"),St(S,"SID",g.M),St(S,"AID",g.K),St(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&St(S,"TO",g.ia),St(S,"TYPE","xmlhttp"),Uo(g,S),g.u&&g.o&&Lo(S,g.u,g.o),g.O&&(g.g.H=g.O);var z=g.g;g=g.ba,z.M=1,z.A=Ca(ln(S)),z.u=null,z.R=!0,Aa(z,g)}t.Va=function(){this.C!=null&&(this.C=null,Cs(this),Ho(this),an(19))};function Yl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Ph(g,S){var z=null;if(g.g==S){Yl(g),Ic(g),g.g=null;var X=2}else if(ni(g.h,S))z=S.G,bs(g.h,S),X=1;else return;if(g.I!=0){if(S.o)if(X==1){z=S.u?S.u.length:0,S=Date.now()-S.F;var he=g.D;X=ys(),It(X,new Kr(X,z)),Xi(g)}else qh(g);else if(he=S.m,he==3||he==0&&S.X>0||!(X==1&&$l(g,S)||X==2&&Ho(g)))switch(z&&z.length>0&&(S=g.h,S.i=S.i.concat(z)),he){case 1:Ki(g,5);break;case 4:Ki(g,10);break;case 3:Ki(g,6);break;default:Ki(g,2)}}}function Bh(g,S){let z=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(z*=2),z*S}function Ki(g,S){if(g.j.info("Error code "+S),S==2){var z=f(g.bb,g),X=g.Ua;const he=!X;X=new nr(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bn(X,"https"),Ca(X),he?Si(X.toString(),z):xc(X.toString(),z)}else an(2);g.I=0,g.l&&g.l.pa(S),Uh(g),Gl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Uh(g){if(g.I=0,g.ja=[],g.l){const S=Oo(g.h);(S.length!=0||g.i.length!=0)&&(E(g.ja,S),E(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Hh(g,S,z){var X=z instanceof nr?ln(z):new nr(z);if(X.g!="")S&&(X.g=S+"."+X.g),ji(X,X.u);else{var he=l.location;X=he.protocol,S=S?S+"."+he.hostname:he.hostname,he=+he.port;const _e=new nr(null);X&&bn(_e,X),S&&(_e.g=S),he&&ji(_e,he),z&&(_e.h=z),X=_e}return z=g.G,S=g.wa,z&&S&&St(X,z,S),St(X,"VER",g.ka),Uo(g,X),X}function jh(g,S,z){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new kt(new Gi({ab:z})):new kt(g.ma),S.Fa(g.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}t=Fh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rs(){}Rs.prototype.g=function(g,S){return new rr(g,S)};function rr(g,S){st.call(this),this.g=new As(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!P(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Ma(this)}p(rr,st),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Cc(this.g)},rr.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var z={};z.__data__=g,g=z}else this.v&&(z={},z.__data__=qn(g),g=z);S.i.push(new on(S.Ya++,g)),S.I==3&&Xi(S)},rr.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,rr.Z.N.call(this)};function Gh(g){qt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const z in S){g=z;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}p(Gh,qt);function $h(){fr.call(this),this.status=1}p($h,fr);function Ma(g){this.g=g}p(Ma,Fh),Ma.prototype.ra=function(){It(this.g,"a")},Ma.prototype.qa=function(g){It(this.g,new Gh(g))},Ma.prototype.pa=function(g){It(this.g,new $h)},Ma.prototype.oa=function(){It(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,YM=function(){return new Rs},$M=function(){return ys()},GM=Jt,e6={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Cd=xa,Io.COMPLETE="complete",FM=Io,wa.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",st.prototype.listen=st.prototype.J,y0=wa,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,jM=kt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",EE="4.9.3";class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let oc="12.7.0";const El=new X6("@firebase/firestore");function Cu(){return El.logLevel}function Le(t,...e){if(El.logLevel<=pt.DEBUG){const n=e.map(Z6);El.debug(`Firestore (${oc}): ${t}`,...n)}}function as(t,...e){if(El.logLevel<=pt.ERROR){const n=e.map(Z6);El.error(`Firestore (${oc}): ${t}`,...n)}}function Zu(t,...e){if(El.logLevel<=pt.WARN){const n=e.map(Z6);El.warn(`Firestore (${oc}): ${t}`,...n)}}function Z6(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XM(t,r,n)}function XM(t,e,n){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw as(r),new Error(r)}function wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||XM(e,i,r)}function rt(t,e){return t}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class KM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(er.UNAUTHENTICATED)))}shutdown(){}}class C${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class R${constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new es,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new es)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new KM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class I${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new I$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class W6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=k$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function gt(t,e){return t<e?-1:t>e?1:0}function t6(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return $g(i)===$g(o)?gt(i,o):$g(i)?1:-1}return gt(t.length,e.length)}const D$=55296,O$=57343;function $g(t){const e=t.charCodeAt(0);return e>=D$&&e<=O$}function Wu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const xE="__name__";class ta{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ta.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ta?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ta.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return gt(e.length,n.length)}static compareSegments(e,n){const r=ta.isNumericId(e),i=ta.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ta.extractNumericId(e).compare(ta.extractNumericId(n)):t6(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Vt extends ta{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends ta{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return z$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Xn([xE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new De(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new De(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new De(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Vt.fromString(e))}static fromName(e){return new Xe(Vt.fromString(e).popFirst(5))}static empty(){return new Xe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Vt(e.slice()))}}function QM(t,e,n){if(!n)throw new De(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V$(t,e,n,r){if(e===!0&&r===!0)throw new De(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TE(t){if(!Xe.isDocumentKey(t))throw new De(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AE(t){if(Xe.isDocumentKey(t))throw new De(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function la(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(t);throw new De(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dh(t,e){if(!ZM(t))throw new De(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new De(xe.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,RE=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RE);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new De(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:Cn("string",Gt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Gt(0,0))}static max(){return new et(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const X0=-1;function q$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new go(i,Xe.empty(),e)}function L$(t){return new go(t.readTime,t.key,X0)}class go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new go(et.min(),Xe.empty(),X0)}static max(){return new go(et.max(),Xe.empty(),X0)}}function P$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}const B$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lc(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==B$)throw t;Le("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function H$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}class Lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lm.ce=-1;const J6=-1;function mh(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function j$(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const WM="";function F$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IE(e)),e=G$(t.get(n),e);return IE(e)}function G$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case WM:n+="";break;default:n+=o}}return n}function IE(t){return t+WM+""}function NE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||Yn.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Yn.RED,this.left=i??Yn.EMPTY,this.right=o??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Yn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new Dn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ek("Invalid base64 string: "+o):o}})(e);return new Kn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const $$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=$$.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}const tk="server_timestamp",nk="__type__",rk="__previous_value__",ik="__local_write_time__";function e7(t){return(t?.mapValue?.fields||{})[nk]?.stringValue===tk}function Pm(t){const e=t.mapValue.fields[rk];return e7(e)?Pm(e):e}function K0(t){const e=vo(t.mapValue.fields[ik].timestampValue);return new Gt(e.seconds,e.nanos)}class Y${constructor(e,n,r,i,o,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Jd="(default)";class Q0{constructor(e,n){this.projectId=e,this.database=n||Jd}static empty(){return new Q0("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof Q0&&e.projectId===this.projectId&&e.database===this.database}}const ak="__type__",X$="__max__",ud={mapValue:{}},sk="__vector__",em="value";function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e7(t)?4:Q$(t)?9007199254740991:K$(t)?10:11:Qe(28295,{value:t})}function ma(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return K0(t).isEqual(K0(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=vo(i.timestampValue),c=vo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return yo(i.bytesValue).isEqual(yo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return vn(i.geoPointValue.latitude)===vn(o.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return vn(i.integerValue)===vn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=vn(i.doubleValue),c=vn(o.doubleValue);return l===c?Wd(l)===Wd(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(NE(l)!==NE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ma(l[h],c[h])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function Z0(t,e){return(t.values||[]).find((n=>ma(n,e)))!==void 0}function Ju(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=vn(o.integerValue||o.doubleValue),h=vn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return kE(t.timestampValue,e.timestampValue);case 4:return kE(K0(t),K0(e));case 5:return t6(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=yo(o),h=yo(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=gt(c[f],h[f]);if(m!==0)return m}return gt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=gt(vn(o.latitude),vn(l.latitude));return c!==0?c:gt(vn(o.longitude),vn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},f=c[em]?.arrayValue,m=h[em]?.arrayValue,p=gt(f?.values?.length||0,m?.values?.length||0);return p!==0?p:DE(f,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===ud.mapValue&&l===ud.mapValue)return 0;if(o===ud.mapValue)return 1;if(l===ud.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const y=t6(h[p],m[p]);if(y!==0)return y;const b=Ju(c[h[p]],f[m[p]]);if(b!==0)return b}return gt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function kE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=vo(t),r=vo(e),i=gt(n.seconds,r.seconds);return i!==0?i:gt(n.nanos,r.nanos)}function DE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ju(n[i],r[i]);if(o)return o}return gt(n.length,r.length)}function ec(t){return n6(t)}function n6(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return yo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=n6(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${n6(n.fields[l])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Rd(t){switch(_o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+Rd(e):16;case 5:return 2*t.stringValue.length;case 6:return yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Rd(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return To(r.fields,((o,l)=>{i+=o.length+Rd(l)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function OE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function r6(t){return!!t&&"integerValue"in t}function t7(t){return!!t&&"arrayValue"in t}function zE(t){return!!t&&"nullValue"in t}function VE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Id(t){return!!t&&"mapValue"in t}function K$(t){return(t?.mapValue?.fields||{})[ak]?.stringValue===sk}function N0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=N0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=N0(t.arrayValue.values[n]);return e}return{...t}}function Q$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===X$}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=N0(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=N0(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new sr(N0(this.value))}}function ok(t){const e=[];return To(t.fields,((n,r)=>{const i=new Xn([n]);if(Id(r)){const o=ok(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Hr(e)}class Bn{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,et.min(),et.min(),et.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,et.min(),et.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,et.min(),et.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tm{constructor(e,n){this.position=e,this.inclusive=n}}function qE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=Ju(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ma(t.position[n],e.position[n]))return!1;return!0}class nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class lk{}class An extends lk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J$(e,n,r):n==="array-contains"?new nY(e,r):n==="in"?new rY(e,r):n==="not-in"?new iY(e,r):n==="array-contains-any"?new aY(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eY(e,r):new tY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ju(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(Ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends lk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pi(e,n)}matches(e){return uk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uk(t){return t.op==="and"}function ck(t){return W$(t)&&uk(t)}function W$(t){for(const e of t.filters)if(e instanceof Pi)return!1;return!0}function i6(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(ck(t))return t.filters.map((e=>i6(e))).join(",");{const e=t.filters.map((n=>i6(n))).join(",");return`${t.op}(${e})`}}function hk(t,e){return t instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&ma(r.value,i.value)})(t,e):t instanceof Pi?(function(r,i){return i instanceof Pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&hk(l,i.filters[c])),!0):!1})(t,e):void Qe(19439)}function fk(t){return t instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof Pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(fk).join(" ,")+"}"})(t):"Filter"}class J$ extends An{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class eY extends An{constructor(e,n){super(e,"in",n),this.keys=dk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tY extends An{constructor(e,n){super(e,"not-in",n),this.keys=dk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dk(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class nY extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t7(n)&&Z0(n.arrayValue,this.value)}}class rY extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Z0(this.value.arrayValue,n)}}class iY extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(Z0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Z0(this.value.arrayValue,n)}}class aY extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t7(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Z0(this.value.arrayValue,r)))}}class sY{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function PE(t,e=null,n=[],r=[],i=null,o=null,l=null){return new sY(t,e,n,r,i,o,l)}function n7(t){const e=rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>i6(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ec(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ec(r))).join(",")),e.Te=n}return e.Te}function r7(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LE(t.startAt,e.startAt)&&LE(t.endAt,e.endAt)}function a6(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ph{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oY(t,e,n,r,i,o,l,c){return new ph(t,e,n,r,i,o,l,c)}function Bm(t){return new ph(t)}function BE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mk(t){return t.collectionGroup!==null}function M0(t){const e=rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dn(Xn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new nm(o,r))})),n.has(Xn.keyField().canonicalString())||e.Ie.push(new nm(Xn.keyField(),r))}return e.Ie}function ua(t){const e=rt(t);return e.Ee||(e.Ee=lY(e,M0(t))),e.Ee}function lY(t,e){if(t.limitType==="F")return PE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new nm(i.field,o)}));const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return PE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function s6(t,e){const n=t.filters.concat([e]);return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o6(t,e,n){return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Um(t,e){return r7(ua(t),ua(e))&&t.limitType===e.limitType}function pk(t){return`${n7(ua(t))}|lt:${t.limitType}`}function Ru(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>fk(i))).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ec(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ec(i))).join(",")),`Target(${r})`})(ua(t))}; limitType=${t.limitType})`}function Hm(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of M0(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=qE(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,M0(r),i)||r.endAt&&!(function(l,c,h){const f=qE(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,M0(r),i))})(t,e)}function uY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gk(t){return(e,n)=>{let r=!1;for(const i of M0(t)){const o=cY(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cY(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Ju(h,f):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}class Al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return JM(this.inner)}size(){return this.innerSize}}const hY=new nn(Xe.comparator);function ss(){return hY}const vk=new nn(Xe.comparator);function _0(...t){let e=vk;for(const n of t)e=e.insert(n.key,n);return e}function yk(t){let e=vk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function hl(){return k0()}function _k(){return k0()}function k0(){return new Al((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fY=new nn(Xe.comparator),dY=new Dn(Xe.comparator);function vt(...t){let e=dY;for(const n of t)e=e.add(n);return e}const mY=new Dn(gt);function pY(){return mY}function i7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function bk(t){return{integerValue:""+t}}function gY(t,e){return j$(e)?bk(e):i7(t,e)}class jm{constructor(){this._=void 0}}function vY(t,e,n){return t instanceof W0?(function(i,o){const l={fields:{[nk]:{stringValue:tk},[ik]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&e7(o)&&(o=Pm(o)),o&&(l.fields[rk]=o),{mapValue:l}})(n,e):t instanceof J0?Ek(t,e):t instanceof eh?Sk(t,e):(function(i,o){const l=wk(i,o),c=UE(l)+UE(i.Ae);return r6(l)&&r6(i.Ae)?bk(c):i7(i.serializer,c)})(t,e)}function yY(t,e,n){return t instanceof J0?Ek(t,e):t instanceof eh?Sk(t,e):n}function wk(t,e){return t instanceof rm?(function(r){return r6(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class W0 extends jm{}class J0 extends jm{constructor(e){super(),this.elements=e}}function Ek(t,e){const n=xk(e);for(const r of t.elements)n.some((i=>ma(i,r)))||n.push(r);return{arrayValue:{values:n}}}class eh extends jm{constructor(e){super(),this.elements=e}}function Sk(t,e){let n=xk(e);for(const r of t.elements)n=n.filter((i=>!ma(i,r)));return{arrayValue:{values:n}}}class rm extends jm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UE(t){return vn(t.integerValue||t.doubleValue)}function xk(t){return t7(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class _Y{constructor(e,n){this.field=e,this.transform=n}}function bY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof J0&&i instanceof J0||r instanceof eh&&i instanceof eh?Wu(r.elements,i.elements,ma):r instanceof rm&&i instanceof rm?ma(r.Ae,i.Ae):r instanceof W0&&i instanceof W0})(t.transform,e.transform)}class wY{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fm{}function Tk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gm(t.key,or.none()):new gh(t.key,t.data,or.none());{const n=t.data,r=sr.empty();let i=new Dn(Xn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ao(t.key,r,new Hr(i.toArray()),or.none())}}function EY(t,e,n){t instanceof gh?(function(i,o,l){const c=i.value.clone(),h=jE(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ao?(function(i,o,l){if(!Nd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=jE(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Ak(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function D0(t,e,n,r){return t instanceof gh?(function(o,l,c,h){if(!Nd(o.precondition,l))return c;const f=o.value.clone(),m=FE(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ao?(function(o,l,c,h){if(!Nd(o.precondition,l))return c;const f=FE(o.fieldTransforms,h,l),m=l.data;return m.setAll(Ak(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,l,c){return Nd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function SY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=wk(r.transform,i||null);o!=null&&(n===null&&(n=sr.empty()),n.set(r.field,o))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wu(r,i,((o,l)=>bY(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends Fm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ao extends Fm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ak(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jE(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,yY(l,c,n[i]))}return r}function FE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,vY(o,l,e))}return r}class Gm extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ck extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&EY(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=D0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=D0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_k();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=Tk(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),vt())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&Wu(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class a7{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return fY})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new a7(e,n,r,i)}}let TY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class AY{constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,_t;function Rk(t){switch(t){case xe.OK:return Qe(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function Ik(t){if(t===void 0)return as("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Tn.OK:return xe.OK;case Tn.CANCELLED:return xe.CANCELLED;case Tn.UNKNOWN:return xe.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return xe.INTERNAL;case Tn.UNAVAILABLE:return xe.UNAVAILABLE;case Tn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Tn.NOT_FOUND:return xe.NOT_FOUND;case Tn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Tn.ABORTED:return xe.ABORTED;case Tn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Tn.DATA_LOSS:return xe.DATA_LOSS;default:return Qe(39323,{code:t})}}(_t=Tn||(Tn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function CY(){return new TextEncoder}const RY=new fo([4294967295,4294967295],0);function GE(t){const e=CY().encode(t),n=new HM;return n.update(e),new Uint8Array(n.digest())}function $E(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([i,o],0)]}class s7{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new b0(`Invalid padding: ${n}`);if(r<0)throw new b0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new b0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new b0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(fo.fromNumber(r)));return i.compare(RY)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[r,i]=$E(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new s7(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=GE(e),[r,i]=$E(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class b0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $m{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $m(et.min(),i,new nn(gt),ss(),vt())}}class vh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vh(r,n,vt(),vt(),vt())}}class Md{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Nk{constructor(e,n){this.targetId=e,this.Ce=n}}class Mk{constructor(e,n,r=Kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.ve=0,this.Fe=XE(),this.Me=Kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:o})}})),new vh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IY{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=cd(),this.He=cd(),this.Ye=new nn(gt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(a6(o))if(r===0){const l=new Xe(o.path);this.et(n,l,Bn.newNoDocument(l,et.min()))}else wt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=yo(r).toUint8Array()}catch(h){if(h instanceof ek)return Zu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new s7(l,i,o)}catch(h){return Zu(h instanceof b0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&a6(c.target)){const h=new Xe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=vt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new $m(e,n,this.Ye,this.je,r);return this.je=ss(),this.Je=cd(),this.He=cd(),this.Ye=new nn(gt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(gt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(gt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new nn(Xe.comparator)}function XE(){return new nn(Xe.comparator)}const NY={asc:"ASCENDING",desc:"DESCENDING"},MY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kY={and:"AND",or:"OR"};class DY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l6(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OY(t,e){return im(t,e.toTimestamp())}function jr(t){return wt(!!t,49232),et.fromTimestamp((function(n){const r=vo(n);return new Gt(r.seconds,r.nanos)})(t))}function o7(t,e){return u6(t,e).canonicalString()}function u6(t,e){const n=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Dk(t){const e=Vt.fromString(t);return wt(Pk(e),10190,{key:e.toString()}),e}function am(t,e){return o7(t.databaseId,e.path)}function O0(t,e){const n=Dk(e);if(n.get(1)!==t.databaseId.projectId)throw new De(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(zk(n))}function Ok(t,e){return o7(t.databaseId,e)}function zY(t){const e=Dk(t);return e.length===4?Vt.emptyPath():zk(e)}function c6(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zk(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KE(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function VY(t,e){return"found"in e?(function(r,i){wt(!!i.found,43571),i.found.name,i.found.updateTime;const o=O0(r,i.found.name),l=jr(i.found.updateTime),c=i.found.createTime?jr(i.found.createTime):et.min(),h=new sr({mapValue:{fields:i.found.fields}});return Bn.newFoundDocument(o,l,c,h)})(t,e):"missing"in e?(function(r,i){wt(!!i.missing,3894),wt(!!i.readTime,22933);const o=O0(r,i.missing),l=jr(i.readTime);return Bn.newNoDocument(o,l)})(t,e):Qe(7234,{result:e})}function qY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,m){return f.useProto3Json?(wt(m===void 0||typeof m=="string",58123),Kn.fromBase64String(m||"")):(wt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Kn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?xe.UNKNOWN:Ik(f.code);return new De(m,f.message||"")})(l);n=new Mk(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=O0(t,r.document.name),o=jr(r.document.updateTime),l=r.document.createTime?jr(r.document.createTime):et.min(),c=new sr({mapValue:{fields:r.document.fields}}),h=Bn.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Md(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=O0(t,r.document),o=r.readTime?jr(r.readTime):et.min(),l=Bn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Md([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=O0(t,r.document),o=r.removedTargetIds||[];n=new Md([],o,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new AY(i,o),c=r.targetId;n=new Nk(c,l)}}return n}function Vk(t,e){let n;if(e instanceof gh)n={update:KE(t,e.key,e.value)};else if(e instanceof Gm)n={delete:am(t,e.key)};else if(e instanceof Ao)n={update:KE(t,e.key,e.data),updateMask:$Y(e.fieldMask)};else{if(!(e instanceof Ck))return Qe(16599,{Vt:e.type});n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof W0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof J0)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof eh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:OY(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Qe(27497)})(t,e.precondition)),n}function LY(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?jr(i.updateTime):jr(o);return l.isEqual(et.min())&&(l=jr(o)),new wY(l,i.transformResults||[])})(n,e)))):[]}function PY(t,e){return{documents:[Ok(t,e.path)]}}function BY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ok(t,i);const o=(function(f){if(f.length!==0)return Lk(Pi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((m=>(function(y){return{field:Iu(y.field),direction:jY(y.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=l6(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function UY(t){let e=zY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(p){const y=qk(p);return y instanceof Pi&&ck(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((y=>(function(E){return new nm(Nu(E.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let y;return y=typeof p=="object"?p.value:p,mh(y)?null:y})(n.limit));let h=null;n.startAt&&(h=(function(p){const y=!!p.before,b=p.values||[];return new tm(b,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,b=p.values||[];return new tm(b,y)})(n.endAt)),oY(e,i,l,o,c,"F",h,f)}function HY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nu(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(n.unaryFilter.field);return An.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Nu(n.unaryFilter.field);return An.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return An.create(Nu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pi.create(n.compositeFilter.filters.map((r=>qk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function jY(t){return NY[t]}function FY(t){return MY[t]}function GY(t){return kY[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Nu(t){return Xn.fromServerFormat(t.fieldPath)}function Lk(t){return t instanceof An?(function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(n.field),op:FY(n.op),value:n.value}}})(t):t instanceof Pi?(function(n){const r=n.getFilters().map((i=>Lk(i)));return r.length===1?r[0]:{compositeFilter:{op:GY(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function $Y(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Pk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class so{constructor(e,n,r,i,o=et.min(),l=et.min(),c=Kn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YY{constructor(e){this.yt=e}}function XY(t){const e=UY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o6(e,e.limit,"L"):e}class KY{constructor(){this.Cn=new QY}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(go.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class QY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Vt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Vt.comparator)).toArray()}}const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bk=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(Bk,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);class tc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tc(0)}static cr(){return new tc(-1)}}const ZE="LruGarbageCollector",ZY=1048576;function WE([t,e],[n,r]){const i=gt(t,n);return i===0?gt(e,r):i}class WY{constructor(e){this.Ir=e,this.buffer=new Dn(WE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(ZE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?Le(ZE,"Ignoring IndexedDB error during garbage collection: ",n):await lc(n)}await this.Vr(3e5)}))}}class eX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(Lm.ce);const r=new WY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(QE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Cu()<=pt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function tX(t,e){return new eX(t,e)}class nX{constructor(){this.changes=new Al((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&D0(r.mutation,i,Hr.empty(),Gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,vt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=vt()){const i=hl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=_0();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,vt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=ss();const l=k0(),c=(function(){return k0()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ao)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),D0(m.mutation,f,m.mutation.getFieldMask(),Gt.now())):l.set(f.key,Hr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new rX(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=k0();let i=new nn(((l,c)=>l-c)),o=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Hr.empty();m=c.applyToLocalView(f,m),r.set(h,m);const p=(i.get(c.batchId)||vt()).add(h);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,p=_k();m.forEach((y=>{if(!o.has(y)){const b=Tk(n.get(y),r.get(y));b!==null&&p.set(y,b),o=o.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ae.resolve(hl());let c=X0,h=o;return l.next((f=>Ae.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{h=h.insert(m,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,vt()))).next((m=>({batchId:c,changes:yk(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let i=_0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=_0();return this.indexManager.getCollectionParents(e,o).next((c=>Ae.forEach(c,(h=>{const f=(function(p,y){return new ph(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,y)=>{l=l.insert(p,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Bn.newInvalidDocument(m)))}));let c=_0();return l.forEach(((h,f)=>{const m=o.get(h);m!==void 0&&D0(m.mutation,f,Hr.empty(),Gt.now()),Hm(n,f)&&(c=c.insert(h,f))})),c}))}}class aX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:jr(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:XY(i.bundledQuery),readTime:jr(i.readTime)}})(n)),Ae.resolve()}}class sX{constructor(){this.overlays=new nn(Xe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hl();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=hl(),o=n.length+1,l=new Xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nn(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=hl(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=hl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Ae.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new TY(n,r));let o=this.qr.get(n);o===void 0&&(o=vt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class oX{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class l7{constructor(){this.Qr=new Dn(Pn.$r),this.Ur=new Dn(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new Vt([])),r=new Pn(n,e),i=new Pn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new Vt([])),r=new Pn(n,e),i=new Pn(n,e+1);let o=vt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||gt(e.Yr,n.Yr)}static Kr(e,n){return gt(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}class lX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Pn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xY(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Pn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?J6:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(gt);return n.forEach((i=>{const o=new Pn(i,0),l=new Pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const l=new Pn(new Xe(o),0);let c=new Dn(gt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const o=new Pn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uX{constructor(e){this.ri=e,this.docs=(function(){return new nn(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ss();const l=n.path,c=new Xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||P$(L$(m),r)<=0||(i.has(m.key)||Hm(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cX(this)}getSize(e){return Ae.resolve(this.size)}}class cX extends nX{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class hX{constructor(e){this.persistence=e,this.si=new Al((n=>n7(n)),r7),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new l7,this.targetCount=0,this.ai=tc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(o).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class Uk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lm(0),this.li=!1,this.li=!0,this.hi=new oX,this.referenceDelegate=e(this),this.Pi=new hX(this),this.indexManager=new KY,this.remoteDocumentCache=(function(i){return new uX(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YY(n),this.Ii=new aX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lX(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new fX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class fX extends U${constructor(e){super(),this.currentSequenceNumber=e}}class u7{constructor(e){this.persistence=e,this.Ri=new l7,this.Vi=null}static mi(e){return new u7(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=Xe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sm{constructor(e,n){this.persistence=e,this.pi=new Al((r=>F$(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=tX(this,n)}static mi(e,n){return new sm(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,et.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rd(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class c7{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=vt(),i=vt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new c7(e,n.fromCache,r,i)}}class dX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lG()?8:H$(tr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new dX;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Cu()<=pt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Cu()<=pt.DEBUG&&Le("QueryEngine","Query:",Ru(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Cu()<=pt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(n))):Ae.resolve())}ys(e,n){if(BE(n))return Ae.resolve(null);let r=ua(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=o6(n,null,"F"),r=ua(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=vt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,o6(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return BE(n)||i.isEqual(et.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?Ae.resolve(null):(Cu()<=pt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ru(n)),this.vs(e,l,n,q$(i,X0)).next((c=>c)))}))}Ds(e,n){let r=new Dn(gk(e));return n.forEach(((i,o)=>{Hm(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Cu()<=pt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Ru(n)),this.ps.getDocumentsMatchingQuery(e,n,go.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const h7="LocalStore",pX=3e8;class gX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nn(gt),this.xs=new Al((o=>n7(o)),r7),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vX(t,e,n,r){return new gX(t,e,n,r)}async function Hk(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=vt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function yX(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const p=f.batch,y=p.keys();let b=Ae.resolve();return y.forEach((E=>{b=b.next((()=>m.getEntry(h,E))).next((T=>{const x=f.docVersions.get(E);wt(x!==null,48541),T.version.compareTo(x)<0&&(p.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),m.addEntry(T)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=vt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function jk(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _X(t,e){const n=rt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,p))));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Kn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(T,x,C){return T.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=pX?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,b,m)&&c.push(n.Pi.updateTargetData(o,b))}));let h=ss(),f=vt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(bX(o,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(et.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function bX(t,e,n){let r=vt(),i=vt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=ss();return n.forEach(((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(et.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Le(h7,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function wX(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=J6),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function EX(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new so(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function h6(t,e,n){const r=rt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!uc(l))throw l;Le(h7,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function JE(t,e,n){const r=rt(t);let i=et.min(),o=vt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const p=rt(h),y=p.xs.get(m);return y!==void 0?Ae.resolve(p.Ms.get(y)):p.Pi.getTargetData(f,m)})(r,l,ua(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:et.min(),n?o:vt()))).next((c=>(SX(r,uY(e),c),{documents:c,Qs:o})))))}function SX(t,e,n){let r=t.Os.get(e)||et.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class eS{constructor(){this.activeTargetIds=pY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xX{constructor(){this.Mo=new eS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TX{Oo(e){}shutdown(){}}const tS="ConnectivityMonitor";class nS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(tS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(tS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hd=null;function f6(){return hd===null?hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():hd++,"0x"+hd.toString(16)}const Yg="RestConnection",AX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Jd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=f6(),c=this.zo(e,n.toUriEncodedString());Le(Yg,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(c),m=ac(f);return this.Jo(e,c,h,r,m).then((p=>(Le(Yg,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Zu(Yg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=AX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class RX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jn="WebChannelConnection";class IX extends CX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=f6();return new Promise(((c,h)=>{const f=new jM;f.setWithCredentials(!0),f.listenOnce(FM.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Cd.NO_ERROR:const p=f.getResponseJson();Le(Jn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Cd.TIMEOUT:Le(Jn,`RPC '${e}' ${l} timed out`),h(new De(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const y=f.getStatus();if(Le(Jn,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b?.error;if(E&&E.status&&E.message){const T=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(D)>=0?D:xe.UNKNOWN})(E.status);h(new De(T,E.message))}else h(new De(xe.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new De(xe.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Le(Jn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);Le(Jn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=f6(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=YM(),c=$M(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");Le(Jn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const p=l.createWebChannel(m,h);this.I_(p);let y=!1,b=!1;const E=new RX({Yo:x=>{b?Le(Jn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(Le(Jn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Le(Jn,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Zo:()=>p.close()}),T=(x,C,D)=>{x.listen(C,(A=>{try{D(A)}catch(O){setTimeout((()=>{throw O}),0)}}))};return T(p,y0.EventType.OPEN,(()=>{b||(Le(Jn,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),T(p,y0.EventType.CLOSE,(()=>{b||(b=!0,Le(Jn,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),T(p,y0.EventType.ERROR,(x=>{b||(b=!0,Zu(Jn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),E.a_(new De(xe.UNAVAILABLE,"The operation could not be completed")))})),T(p,y0.EventType.MESSAGE,(x=>{if(!b){const C=x.data[0];wt(!!C,16349);const D=C,A=D?.error||D[0]?.error;if(A){Le(Jn,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let U=(function(M){const k=Tn[M];if(k!==void 0)return Ik(k)})(O),L=A.message;U===void 0&&(U=xe.INTERNAL,L="Unknown error status: "+O+" with message "+A.message),b=!0,E.a_(new De(U,L)),p.close()}else Le(Jn,`RPC '${e}' stream ${i} received:`,C),E.u_(C)}})),T(c,GM.STAT_EVENT,(x=>{x.stat===e6.PROXY?Le(Jn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===e6.NOPROXY&&Le(Jn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xg(){return typeof document<"u"?document:null}function Ym(t){return new DY(t,!0)}class f7{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rS="PersistentStream";class Fk{constructor(e,n,r,i,o,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f7(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(rS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NX extends Fk{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qY(this.serializer,e),r=(function(o){if(!("targetChange"in o))return et.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?et.min():l.readTime?jr(l.readTime):et.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=c6(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=a6(h)?{documents:PY(o,h)}:{query:BY(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=kk(o,l.resumeToken);const f=l6(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(et.min())>0){c.readTime=im(o,l.snapshotVersion.toTimestamp());const f=l6(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=HY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=c6(this.serializer),n.removeTarget=e,this.q_(n)}}class MX extends Fk{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LY(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=c6(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Vk(this.serializer,r)))};this.q_(n)}}class kX{}class DX extends kX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,u6(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(xe.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,u6(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(xe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sl="RemoteStore";class zX{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Cl(this)&&(Le(Sl,"Restarting streams for network reachability change."),await(async function(h){const f=rt(h);f.Ea.add(4),await yh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Xm(f)})(this))}))})),this.Ra=new OX(r,i)}}async function Xm(t){if(Cl(t))for(const e of t.da)await e(!0)}async function yh(t){for(const e of t.da)await e(!1)}function Gk(t,e){const n=rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),g7(n)?p7(n):cc(n).O_()&&m7(n,e))}function d7(t,e){const n=rt(t),r=cc(n);n.Ia.delete(e),r.O_()&&$k(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cl(n)&&n.Ra.set("Unknown"))}function m7(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cc(t).Y_(e)}function $k(t,e){t.Va.Ue(e),cc(t).Z_(e)}function p7(t){t.Va=new IY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cc(t).start(),t.Ra.ua()}function g7(t){return Cl(t)&&!cc(t).x_()&&t.Ia.size>0}function Cl(t){return rt(t).Ea.size===0}function Yk(t){t.Va=void 0}async function VX(t){t.Ra.set("Online")}async function qX(t){t.Ia.forEach(((e,n)=>{m7(t,e)}))}async function LX(t,e){Yk(t),g7(t)?(t.Ra.ha(e),p7(t)):t.Ra.set("Unknown")}async function PX(t,e,n){if(t.Ra.set("Online"),e instanceof Mk&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Le(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await om(t,r)}else if(e instanceof Md?t.Va.Ze(e):e instanceof Nk?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await jk(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Kn.EMPTY_BYTE_STRING,m.snapshotVersion)),$k(o,h);const p=new so(m.target,h,f,m.sequenceNumber);m7(o,p)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Le(Sl,"Failed to raise snapshot:",r),await om(t,r)}}async function om(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await yh(t),t.Ra.set("Offline"),n||(n=()=>jk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(Sl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xm(t)}))}function Xk(t,e){return e().catch((n=>om(t,n,e)))}async function Km(t){const e=rt(t),n=bo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:J6;for(;BX(e);)try{const i=await wX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UX(e,i)}catch(i){await om(e,i)}Kk(e)&&Qk(e)}function BX(t){return Cl(t)&&t.Ta.length<10}function UX(t,e){t.Ta.push(e);const n=bo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Kk(t){return Cl(t)&&!bo(t).x_()&&t.Ta.length>0}function Qk(t){bo(t).start()}async function HX(t){bo(t).ra()}async function jX(t){const e=bo(t);for(const n of t.Ta)e.ea(n.mutations)}async function FX(t,e,n){const r=t.Ta.shift(),i=a7.from(r,e,n);await Xk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Km(t)}async function GX(t,e){e&&bo(t).X_&&await(async function(r,i){if((function(l){return Rk(l)&&l!==xe.ABORTED})(i.code)){const o=r.Ta.shift();bo(r).B_(),await Xk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Km(r)}})(t,e),Kk(t)&&Qk(t)}async function iS(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Le(Sl,"RemoteStore received new credentials");const r=Cl(n);n.Ea.add(3),await yh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xm(n)}async function $X(t,e){const n=rt(t);e?(n.Ea.delete(2),await Xm(n)):e||(n.Ea.add(2),await yh(n),n.Ra.set("Unknown"))}function cc(t){return t.ma||(t.ma=(function(n,r,i){const o=rt(n);return o.sa(),new NX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:VX.bind(null,t),t_:qX.bind(null,t),r_:LX.bind(null,t),H_:PX.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),g7(t)?p7(t):t.Ra.set("Unknown")):(await t.ma.stop(),Yk(t))}))),t.ma}function bo(t){return t.fa||(t.fa=(function(n,r,i){const o=rt(n);return o.sa(),new MX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:HX.bind(null,t),r_:GX.bind(null,t),ta:jX.bind(null,t),na:FX.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Km(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(Sl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class v7{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new v7(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y7(t,e){if(as("AsyncQueue",`${e}: ${t}`),uc(t))return new De(xe.UNAVAILABLE,`${e}: ${t}`);throw t}class Vu{static emptySet(e){return new Vu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=_0(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class aS{constructor(){this.ga=new nn(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class nc{constructor(e,n,r,i,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new nc(e,n,Vu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class YX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XX{constructor(){this.queries=sS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=rt(n),o=i.queries;i.queries=sS(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new De(xe.ABORTED,"Firestore shutting down"))}}function sS(){return new Al((t=>pk(t)),Um)}async function Zk(t,e){const n=rt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new YX,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=y7(l,`Initialization of query '${Ru(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&_7(n)}async function Wk(t,e){const n=rt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KX(t,e){const n=rt(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&_7(n)}function QX(t,e,n){const r=rt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function _7(t){t.Ca.forEach((e=>{e.next()}))}var d6,oS;(oS=d6||(d6={})).Ma="default",oS.Cache="cache";class Jk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==d6.Cache}}class eD{constructor(e){this.key=e}}class tD{constructor(e){this.key=e}}class ZX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=gk(e),this.tu=new Vu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new aS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),b=Hm(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;y&&b?y.data.isEqual(b.data)?E!==T&&(r.track({type:3,doc:b}),x=!0):this.su(y,b)||(r.track({type:2,doc:b}),x=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),x=!0):y&&!b&&(r.track({type:1,doc:y}),x=!0,(h||f)&&(c=!0)),x&&(b?(l=l.add(b),o=T?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,E){const T=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:x})}};return T(b)-T(E)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new nc(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const b7="SyncEngine";class WX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JX{constructor(e){this.key=e,this.hu=!1}}class eK{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Al((c=>pk(c)),Um),this.Iu=new Map,this.Eu=new Set,this.du=new nn(Xe.comparator),this.Au=new Map,this.Ru=new l7,this.Vu={},this.mu=new Map,this.fu=tc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tK(t,e,n=!0){const r=oD(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await nD(r,e,n,!0),i}async function nK(t,e){const n=oD(t);await nD(n,e,!0,!1)}async function nD(t,e,n,r){const i=await EX(t.localStore,ua(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await rK(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Gk(t.remoteStore,i),c}async function rK(t,e,n,r,i){t.pu=(p,y,b)=>(async function(T,x,C,D){let A=x.view.ru(C);A.Cs&&(A=await JE(T.localStore,x.query,!1).then((({documents:I})=>x.view.ru(I,A))));const O=D&&D.targetChanges.get(x.targetId),U=D&&D.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(A,T.isPrimaryClient,O,U);return uS(T,x.targetId,L.au),L.snapshot})(t,p,y,b);const o=await JE(t.localStore,e,!0),l=new ZX(e,o.Qs),c=l.ru(o.documents),h=vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);uS(t,n,f.au);const m=new WX(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function iK(t,e,n){const r=rt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Um(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await h6(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&d7(r.remoteStore,i.targetId),m6(r,i.targetId)})).catch(lc)):(m6(r,i.targetId),await h6(r.localStore,i.targetId,!0))}async function aK(t,e){const n=rt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d7(n.remoteStore,r.targetId))}async function sK(t,e,n){const r=dK(t);try{const i=await(function(l,c){const h=rt(l),f=Gt.now(),m=c.reduce(((b,E)=>b.add(E.key)),vt());let p,y;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=ss(),T=vt();return h.Ns.getEntries(b,m).next((x=>{E=x,E.forEach(((C,D)=>{D.isValidDocument()||(T=T.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,E))).next((x=>{p=x;const C=[];for(const D of c){const A=SY(D,p.get(D.key).overlayedDocument);A!=null&&C.push(new Ao(D.key,A,ok(A.value.mapValue),or.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)})).next((x=>{y=x;const C=x.applyToLocalDocumentSet(p,T);return h.documentOverlayCache.saveOverlays(b,x.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:yk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new nn(gt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await _h(r,i.changes),await Km(r.remoteStore)}catch(i){const o=y7(i,"Failed to persist write");n.reject(o)}}async function rD(t,e){const n=rt(t);try{const r=await _X(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?wt(l.hu,14607):i.removedDocuments.size>0&&(wt(l.hu,42227),l.hu=!1))})),await _h(n,r,e)}catch(r){await lc(r)}}function lS(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=rt(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,p)=>{for(const y of p.Sa)y.va(c)&&(f=!0)})),f&&_7(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oK(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new nn(Xe.comparator);l=l.insert(o,Bn.newNoDocument(o,et.min()));const c=vt().add(o),h=new $m(et.min(),new Map,new nn(gt),l,c);await rD(r,h),r.du=r.du.remove(o),r.Au.delete(e),w7(r)}else await h6(r.localStore,e,!1).then((()=>m6(r,e,n))).catch(lc)}async function lK(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await yX(n.localStore,e);aD(n,r,null),iD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _h(n,i)}catch(i){await lc(i)}}async function uK(t,e,n){const r=rt(t);try{const i=await(function(l,c){const h=rt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((p=>(wt(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);aD(r,e,n),iD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _h(r,i)}catch(i){await lc(i)}}function iD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aD(t,e,n){const r=rt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function m6(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sD(t,r)}))}function sD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(d7(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),w7(t))}function uS(t,e,n){for(const r of n)r instanceof eD?(t.Ru.addReference(r.key,e),cK(t,r)):r instanceof tD?(Le(b7,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sD(t,r.key)):Qe(19791,{wu:r})}function cK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(b7,"New document in limbo: "+n),t.Eu.add(r),w7(t))}function w7(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(Vt.fromString(e)),r=t.fu.next();t.Au.set(r,new JX(n)),t.du=t.du.insert(n,r),Gk(t.remoteStore,new so(ua(Bm(n.path)),r,"TargetPurposeLimboResolution",Lm.ce))}}async function _h(t,e,n){const r=rt(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=c7.As(h.targetId,f);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=rt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(f,(y=>Ae.forEach(y.Es,(b=>m.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>Ae.forEach(y.ds,(b=>m.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!uc(p))throw p;Le(h7,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const b=m.Ms.get(y),E=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(y,T)}}})(r.localStore,o))}async function hK(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Le(b7,"User change. New user:",e.toKey());const r=await Hk(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new De(xe.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(n,r.Ls)}}function fK(t,e){const n=rt(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let i=vt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function oD(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oK.bind(null,e),e.Pu.H_=KX.bind(null,e.eventManager),e.Pu.yu=QX.bind(null,e.eventManager),e}function dK(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uK.bind(null,e),e}class lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vX(this.persistence,new mX,e.initialUser,this.serializer)}Cu(e){return new Uk(u7.mi,this.serializer)}Du(e){return new xX}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lm.provider={build:()=>new lm};class mK extends lm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof sm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new Uk((r=>sm.mi(r,n)),this.serializer)}}class p6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hK.bind(null,this.syncEngine),await $X(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XX})()}createDatastore(e){const n=Ym(e.databaseInfo.databaseId),r=(function(o){return new IX(o)})(e.databaseInfo);return(function(o,l,c,h){return new DX(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new zX(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>lS(this.syncEngine,n,0)),(function(){return nS.v()?new nS:new TX})())}createSyncEngine(e,n){return(function(i,o,l,c,h,f,m){const p=new eK(i,o,l,c,h,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=rt(n);Le(Sl,"RemoteStore shutting down."),r.Ea.add(5),await yh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}p6.provider={build:()=>new p6};class lD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class pK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new De(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,o){const l=rt(i),c={documents:o.map((p=>am(l.serializer,p)))},h=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Vt.emptyPath(),c,o.length),f=new Map;h.forEach((p=>{const y=VY(l.serializer,p);f.set(y.key.toString(),y)}));const m=[];return o.forEach((p=>{const y=f.get(p.toString());wt(!!y,55234,{key:p}),m.push(y)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Xe.fromPath(r);this.mutations.push(new Ck(i,this.precondition(i)))})),await(async function(r,i){const o=rt(r),l={writes:i.map((c=>Vk(o.serializer,c)))};await o.Go("Commit",o.serializer.databaseId,Vt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Qe(50498,{Gu:e.constructor.name});n=et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new De(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(et.min())?or.exists(!1):or.updateTime(n):or.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new De(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(n)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gK{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new f7(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new pK(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!mh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Rk(n)}return!1}}const wo="FirestoreClient";class vK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=er.UNAUTHENTICATED,this.clientId=W6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Le(wo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Le(wo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=y7(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),Le(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Hk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function cS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yK(t);Le(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>iS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>iS(e.remoteStore,i))),t._onlineComponents=e}async function yK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(wo,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new lm)}}else Le(wo,"Using default OfflineComponentProvider"),await Kg(t,new mK(void 0));return t._offlineComponents}async function E7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(wo,"Using user provided OnlineComponentProvider"),await cS(t,t._uninitializedComponentsProvider._online)):(Le(wo,"Using default OnlineComponentProvider"),await cS(t,new p6))),t._onlineComponents}function _K(t){return E7(t).then((e=>e.syncEngine))}function bK(t){return E7(t).then((e=>e.datastore))}async function g6(t){const e=await E7(t),n=e.eventManager;return n.onListen=tK.bind(null,e.syncEngine),n.onUnlisten=iK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aK.bind(null,e.syncEngine),n}function wK(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,f){const m=new lD({next:y=>{m.Nu(),l.enqueueAndForget((()=>Wk(o,p)));const b=y.docs.has(c);!b&&y.fromCache?f.reject(new De(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?f.reject(new De(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new Jk(Bm(c.path),m,{includeMetadataChanges:!0,qa:!0});return Zk(o,p)})(await g6(t),t.asyncQueue,e,n,r))),r.promise}function uD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const hS=new Map;const cD="firestore.googleapis.com",fS=!0;class dS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cD,this.ssl=fS}else this.host=e.host,this.ssl=e.ssl??fS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZY)throw new De(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new A$;switch(r.type){case"firstParty":return new N$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hS.get(n);r&&(Le("ComponentProvider","Removing Datastore"),hS.delete(n),r.terminate())})(this),Promise.resolve()}}function EK(t,e,n,r={}){t=la(t,Qm);const i=ac(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(OM(`https://${c}`),zM("Firestore",!0)),o.host!==cD&&o.host!==c&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!bl(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=er.MOCK_USER;else{f=JF(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new er(p)}t._authCredentials=new C$(new KM(f,m))}}class hc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dh(n,fn._jsonSchema))return new fn(e,r||null,new Xe(Vt.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Cn("string",fn._jsonSchemaVersion),referencePath:Cn("string")};class mo extends hc{constructor(e,n,r){super(e,n,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Xe(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function Qg(t,e,...n){if(t=On(t),QM("collection","path",e),t instanceof Qm){const r=Vt.fromString(e,...n);return AE(r),new mo(t,null,r)}{if(!(t instanceof fn||t instanceof mo))throw new De(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return AE(r),new mo(t.firestore,null,r)}}function ra(t,e,...n){if(t=On(t),arguments.length===1&&(e=W6.newId()),QM("doc","path",e),t instanceof Qm){const r=Vt.fromString(e,...n);return TE(r),new fn(t,null,new Xe(r))}{if(!(t instanceof fn||t instanceof mo))throw new De(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return TE(r),new fn(t.firestore,t instanceof mo?t.converter:null,new Xe(r))}}const mS="AsyncQueue";class pS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f7(this,"async_queue_retry"),this._c=()=>{const r=Xg();r&&Le(mS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;Le(mS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",gS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=v7.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:gS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function vS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class xl extends Qm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pS(e),this._firestoreClient=void 0,await e}}}function SK(t,e){const n=typeof t=="object"?t:PM(),r=typeof t=="string"?t:Jd,i=Q6(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ZF("firestore");o&&EK(i,...o)}return i}function Zm(t){if(t._terminated)throw new De(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xK(t),t._firestoreClient}function xK(t){const e=t._freezeSettings(),n=(function(i,o,l,c){return new Y$(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(Kn.fromBase64String(e))}catch(n){throw new De(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Cn("string",Br._jsonSchemaVersion),bytes:Cn("string")};class Wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jm{constructor(e){this._methodName=e}}class ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ca._jsonSchemaVersion}}static fromJSON(e){if(dh(e,ca._jsonSchema))return new ca(e.latitude,e.longitude)}}ca._jsonSchemaVersion="firestore/geoPoint/1.0",ca._jsonSchema={type:Cn("string",ca._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class ha{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ha(e.vectorValues);throw new De(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ha._jsonSchemaVersion="firestore/vectorValue/1.0",ha._jsonSchema={type:Cn("string",ha._jsonSchemaVersion),vectorValues:Cn("object")};const TK=/^__.*__$/;class AK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new gh(e,this.data,n,this.fieldTransforms)}}class hD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class S7{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new S7({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return um(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fD(this.Ac)&&TK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ym(e)}Cc(e,n,r,i=!1){return new S7({Ac:e,methodName:n,Dc:r,path:Xn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x7(t){const e=t._freezeSettings(),n=Ym(t._databaseId);return new CK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dD(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);A7("Data must be an object, but it was:",l,r);const c=mD(r,l);let h,f;if(o.merge)h=new Hr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const p of o.mergeFields){const y=v6(e,p,n);if(!l.contains(y))throw new De(xe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);gD(m,y)||m.push(y)}h=new Hr(m),f=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=l.fieldTransforms;return new AK(new sr(c),h,f)}class e1 extends Jm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e1}}class T7 extends Jm{_toFieldTransform(e){return new _Y(e.path,new W0)}isEqual(e){return e instanceof T7}}function RK(t,e,n,r){const i=t.Cc(1,e,n);A7("Data must be an object, but it was:",i,r);const o=[],l=sr.empty();To(r,((h,f)=>{const m=C7(e,h,n);f=On(f);const p=i.yc(m);if(f instanceof e1)o.push(m);else{const y=bh(f,p);y!=null&&(o.push(m),l.set(m,y))}}));const c=new Hr(o);return new hD(l,c,i.fieldTransforms)}function IK(t,e,n,r,i,o){const l=t.Cc(1,e,n),c=[v6(e,r,n)],h=[i];if(o.length%2!=0)throw new De(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(v6(e,o[y])),h.push(o[y+1]);const f=[],m=sr.empty();for(let y=c.length-1;y>=0;--y)if(!gD(f,c[y])){const b=c[y];let E=h[y];E=On(E);const T=l.yc(b);if(E instanceof e1)f.push(b);else{const x=bh(E,T);x!=null&&(f.push(b),m.set(b,x))}}const p=new Hr(f);return new hD(m,p,l.fieldTransforms)}function NK(t,e,n,r=!1){return bh(n,t.Cc(r?4:3,e))}function bh(t,e){if(pD(t=On(t)))return A7("Unsupported field value:",e,t),mD(t,e);if(t instanceof Jm)return(function(r,i){if(!fD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=bh(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Gt.fromDate(r);return{timestampValue:im(i.serializer,o)}}if(r instanceof Gt){const o=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:im(i.serializer,o)}}if(r instanceof ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:kk(i.serializer,r._byteString)};if(r instanceof fn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:o7(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ha)return(function(l,c){return{mapValue:{fields:{[ak]:{stringValue:sk},[em]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return i7(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${qm(r)}`)})(t,e)}function mD(t,e){const n={};return JM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,((r,i)=>{const o=bh(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function pD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof ca||t instanceof Br||t instanceof fn||t instanceof Jm||t instanceof ha)}function A7(t,e,n){if(!pD(n)||!ZM(n)){const r=qm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function v6(t,e,n){if((e=On(e))instanceof Wm)return e._internalPath;if(typeof e=="string")return C7(t,e);throw um("Field path arguments must be of type string or ",t,!1,void 0,n)}const MK=new RegExp("[~\\*/\\[\\]]");function C7(t,e,n){if(e.search(MK)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wm(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function um(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new De(xe.INVALID_ARGUMENT,c+t+h)}function gD(t,e){return t.some((n=>n.isEqual(e)))}class cm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kK extends cm{data(){return super.data()}}function R7(t,e){return typeof e=="string"?C7(t,e):e instanceof Wm?e._internalPath:e._delegate._internalPath}function DK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I7{}class OK extends I7{}function zK(t,e,...n){let r=[];e instanceof I7&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof N7)).length,c=o.filter((h=>h instanceof t1)).length;if(l>1||l>0&&c>0)throw new De(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class t1 extends OK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t1(e,n,r)}_apply(e){const n=this._parse(e);return vD(e._query,n),new hc(e.firestore,e.converter,s6(e._query,n))}_parse(e){const n=x7(e.firestore);return(function(o,l,c,h,f,m,p){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new De(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){_S(p,m);const E=[];for(const T of p)E.push(yS(h,o,T));y={arrayValue:{values:E}}}else y=yS(h,o,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||_S(p,m),y=NK(c,l,p,m==="in"||m==="not-in");return An.create(f,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VK(t,e,n){const r=e,i=R7("where",t);return t1._create(i,r,n)}class N7 extends I7{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N7(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)vD(l,h),l=s6(l,h)})(e._query,n),new hc(e.firestore,e.converter,s6(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yS(t,e,n){if(typeof(n=On(n))=="string"){if(n==="")throw new De(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mk(e)&&n.indexOf("/")!==-1)throw new De(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Xe.isDocumentKey(r))throw new De(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OE(t,new Xe(r))}if(n instanceof fn)return OE(t,n._key);throw new De(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qm(n)}.`)}function _S(t,e){if(!Array.isArray(t)||t.length===0)throw new De(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vD(t,e){const n=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yD{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[em].arrayValue?.values?.map((r=>vn(r.doubleValue)));return new ha(n)}convertGeoPoint(e){return new ca(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(K0(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);wt(Pk(r),9688,{name:e});const i=new Q0(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return i.isEqual(n)||as(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function _D(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qK extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}class Du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends cm{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Cn("string",po._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class kd extends po{data(e={}){return super.data(e)}}class qu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Du(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new Du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new kd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Du(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new kd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Du(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:LK(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=W6.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}function PK(t){t=la(t,fn);const e=la(t.firestore,xl);return wK(Zm(e),t._key).then((n=>wD(e,t,n)))}qu._jsonSchemaVersion="firestore/querySnapshot/1.0",qu._jsonSchema={type:Cn("string",qu._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class M7 extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Dd(t,e,n){t=la(t,fn);const r=la(t.firestore,xl),i=_D(t.converter,e,n);return bD(r,[dD(x7(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,or.none())])}function bS(t){return bD(la(t.firestore,xl),[new Gm(t._key,or.none())])}function w0(t,...e){t=On(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vS(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,c;if(t instanceof fn)l=la(t.firestore,xl),c=Bm(t._key.path),o={next:h=>{e[r]&&e[r](wD(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=la(t,hc);l=la(h.firestore,xl),c=h._query;const f=new M7(l);o={next:m=>{e[r]&&e[r](new qu(l,f,h,m))},error:e[r+1],complete:e[r+2]},DK(t._query)}return(function(f,m,p,y){const b=new lD(y),E=new Jk(m,b,p);return f.asyncQueue.enqueueAndForget((async()=>Zk(await g6(f),E))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>Wk(await g6(f),E)))}})(Zm(l),c,i,o)}function bD(t,e){return(function(r,i){const o=new es;return r.asyncQueue.enqueueAndForget((async()=>sK(await _K(r),i,o))),o.promise})(Zm(t),e)}function wD(t,e,n){const r=n.docs.get(e._key),i=new M7(t);return new po(t,i,e._key,r,new Du(n.hasPendingWrites,n.fromCache),e.converter)}const BK={maxAttempts:5};function E0(t,e){if((t=On(t)).firestore!==e)throw new De(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class UK{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=x7(e)}get(e){const n=E0(e,this._firestore),r=new qK(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Qe(24041);const o=i[0];if(o.isFoundDocument())return new cm(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new cm(this._firestore,r,n._key,null,n.converter);throw Qe(18433,{doc:o})}))}set(e,n,r){const i=E0(e,this._firestore),o=_D(i.converter,n,r),l=dD(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const o=E0(e,this._firestore);let l;return l=typeof(n=On(n))=="string"||n instanceof Wm?IK(this._dataReader,"Transaction.update",o._key,n,r,i):RK(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,l),this}delete(e){const n=E0(e,this._firestore);return this._transaction.delete(n._key),this}}class HK extends UK{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=E0(e,this._firestore),r=new M7(this._firestore);return super.get(e).then((i=>new po(this._firestore,r,n._key,i._document,new Du(!1,!1),n.converter)))}}function jK(t,e,n){t=la(t,xl);const r={...BK,...n};return(function(o){if(o.maxAttempts<1)throw new De(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,l,c){const h=new es;return o.asyncQueue.enqueueAndForget((async()=>{const f=await bK(o);new gK(o.asyncQueue,f,c,l,h).ju()})),h.promise})(Zm(t),(i=>e(new HK(t,i))),r)}function FK(){return new T7("serverTimestamp")}(function(e,n=!0){(function(i){oc=i})(sc),Qu(new wl("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new xl(new R$(r.getProvider("auth-internal")),new M$(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q0(f.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ho(wE,EE,e),ho(wE,EE,"esm2020")})();var GK="firebase",$K="12.7.0";ho(GK,$K,"app");function ED(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YK=ED,SD=new hh("auth","Firebase",ED());const hm=new X6("@firebase/auth");function XK(t,...e){hm.logLevel<=pt.WARN&&hm.warn(`Auth (${sc}): ${t}`,...e)}function Od(t,...e){hm.logLevel<=pt.ERROR&&hm.error(`Auth (${sc}): ${t}`,...e)}function pa(t,...e){throw D7(t,...e)}function Li(t,...e){return D7(t,...e)}function k7(t,e,n){const r={...YK(),[e]:n};return new hh("auth","Firebase",r).create(e,{appName:t.name})}function pl(t){return k7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pa(t,"argument-error"),k7(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D7(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SD.create(t,...e)}function nt(t,e,...n){if(!t)throw D7(e,...n)}function Wa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function os(t,e){t||Wa(e)}function y6(){return typeof self<"u"&&self.location?.href||""}function QK(){return wS()==="http:"||wS()==="https:"}function wS(){return typeof self<"u"&&self.location?.protocol||null}function ZK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QK()||aG()||"connection"in navigator)?navigator.onLine:!0}function WK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=nG()||sG()}get(){return ZK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O7(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tQ=new wh(3e4,6e4);function z7(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fc(t,e,n,r,i={}){return TD(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=fh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return iG()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&ac(t.emulatorConfig.host)&&(f.credentials="include"),xD.fetch()(await AD(t,t.config.apiHost,n,c),f)})}async function TD(t,e,n){t._canInitEmulator=!1;const r={...JK,...e};try{const i=new rQ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw fd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw fd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw k7(t,m,f);pa(t,m)}}catch(i){if(i instanceof fs)throw i;pa(t,"network-request-failed",{message:String(i)})}}async function nQ(t,e,n,r,i={}){const o=await fc(t,e,n,r,i);return"mfaPendingCredential"in o&&pa(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function AD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?O7(t.config,i):`${t.config.apiScheme}://${i}`;return eQ.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class rQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),tQ.get())})}}function fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Li(t,e,r);return i.customData._tokenResponse=n,i}async function iQ(t,e){return fc(t,"POST","/v1/accounts:delete",e)}async function fm(t,e){return fc(t,"POST","/v1/accounts:lookup",e)}function z0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aQ(t,e=!1){const n=On(t),r=await n.getIdToken(e),i=V7(r);nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:z0(Zg(i.auth_time)),issuedAtTime:z0(Zg(i.iat)),expirationTime:z0(Zg(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Zg(t){return Number(t)*1e3}function V7(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const i=NM(n);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ES(t){const e=V7(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fs&&sQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class oQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=z0(this.lastLoginAt),this.creationTime=z0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dm(t){const e=t.auth,n=await t.getIdToken(),r=await th(t,fm(e,{idToken:n}));nt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?CD(i.providerUserInfo):[],l=uQ(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new _6(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function lQ(t){const e=On(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cQ(t,e){const n=await TD(t,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await AD(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&ac(t.emulatorConfig.host)&&(h.credentials="include"),xD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hQ(t,e){return fc(t,"POST","/v2/accounts:revokeToken",z7(t,e))}class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ES(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const n=ES(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await cQ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Lu;return r&&(nt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(nt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(nt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return Wa("not implemented")}}function Js(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new oQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _6(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await th(this,this.stsTokenManager.getToken(this.auth,e));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aQ(this,e)}reload(){return lQ(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(pl(this.auth));const e=await this.getIdToken();return await th(this,iQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:b,providerData:E,stsTokenManager:T}=n;nt(p&&T,e,"internal-error");const x=Lu.fromJSON(this.name,T);nt(typeof p=="string",e,"internal-error"),Js(r,e.name),Js(i,e.name),nt(typeof y=="boolean",e,"internal-error"),nt(typeof b=="boolean",e,"internal-error"),Js(o,e.name),Js(l,e.name),Js(c,e.name),Js(h,e.name),Js(f,e.name),Js(m,e.name);const C=new qi({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:x,createdAt:f,lastLoginAt:m});return E&&Array.isArray(E)&&(C.providerData=E.map(D=>({...D}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lu;i.updateFromServerResponse(n);const o=new qi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];nt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?CD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Lu;c.updateFromIdToken(r);const h=new qi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _6(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const SS=new Map;function Ja(t){os(t instanceof Function,"Expected a class definition");let e=SS.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SS.set(t,e),e)}class RD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RD.type="NONE";const xS=RD;function zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=zd(this.userKey,i.apiKey,o),this.fullPersistenceKey=zd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fm(this.auth,{idToken:e}).catch(()=>{});return n?qi._fromGetAccountInfoResponse(this.auth,n,e):null}return qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pu(Ja(xS),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ja(xS);const l=zd(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const y=await fm(e,{idToken:m}).catch(()=>{});if(!y)break;p=await qi._fromGetAccountInfoResponse(e,y,m)}else p=qi._fromJSON(e,m);f!==o&&(c=p),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Pu(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Pu(o,e,r))}}function TS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ID(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OD(e))return"Blackberry";if(zD(e))return"Webos";if(ND(e))return"Safari";if((e.includes("chrome/")||MD(e))&&!e.includes("edge/"))return"Chrome";if(DD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ID(t=tr()){return/firefox\//i.test(t)}function ND(t=tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MD(t=tr()){return/crios\//i.test(t)}function kD(t=tr()){return/iemobile/i.test(t)}function DD(t=tr()){return/android/i.test(t)}function OD(t=tr()){return/blackberry/i.test(t)}function zD(t=tr()){return/webos/i.test(t)}function q7(t=tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fQ(t=tr()){return q7(t)&&!!window.navigator?.standalone}function dQ(){return oG()&&document.documentMode===10}function VD(t=tr()){return q7(t)||DD(t)||zD(t)||OD(t)||/windows phone/i.test(t)||kD(t)}function qD(t,e=[]){let n;switch(t){case"Browser":n=TS(tr());break;case"Worker":n=`${TS(tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sc}/${r}`}class mQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pQ(t,e={}){return fc(t,"GET","/v2/passwordPolicy",z7(t,e))}const gQ=6;class vQ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class yQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AS(this),this.idTokenSubscription=new AS(this),this.beforeStateQueue=new mQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ja(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fm(this,{idToken:e}),r=await qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(pl(this));const n=e?On(e):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(pl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(pl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pQ(this),n=new vQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hQ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ja(e)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await Pu.create(this,[Ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function n1(t){return On(t)}class AS{constructor(e){this.auth=e,this.observer=null,this.addObserver=pG(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let L7={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _Q(t){L7=t}function bQ(t){return L7.loadJS(t)}function wQ(){return L7.gapiScript}function EQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function SQ(t,e){const n=Q6(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(bl(o,e??{}))return i;pa(i,"already-initialized")}return n.initialize({options:e})}function xQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function TQ(t,e,n){const r=n1(t);nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=LD(e),{host:l,port:c}=AQ(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nt(bl(f,r.config.emulator)&&bl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ac(l)?(OM(`${o}//${l}${h}`),zM("Auth",!0)):CQ()}function LD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AQ(t){const e=LD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:CS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:CS(l)}}}function CS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class PD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wa("not implemented")}_getIdTokenResponse(e){return Wa("not implemented")}_linkToIdToken(e,n){return Wa("not implemented")}_getReauthenticationResolver(e){return Wa("not implemented")}}async function Bu(t,e){return nQ(t,"POST","/v1/accounts:signInWithIdp",z7(t,e))}const RQ="http://localhost";class Tl extends PD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Tl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Bu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bu(e,n)}buildRequest(){const e={requestUri:RQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fh(n)}return e}}class P7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eh extends P7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ro extends Eh{constructor(){super("facebook.com")}static credential(e){return Tl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";class Qa extends Eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tl._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qa.credential(n,r)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";class io extends Eh{constructor(){super("github.com")}static credential(e){return Tl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";class ao extends Eh{constructor(){super("twitter.com")}static credential(e,n){return Tl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await qi._fromIdTokenResponse(e,r,i),l=RS(r);return new rc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=RS(r);return new rc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function RS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mm extends fs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mm(e,n,r,i)}}function BD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(t,o,e,r):o})}async function IQ(t,e,n=!1){const r=await th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rc._forOperation(t,"link",r)}async function NQ(t,e,n=!1){const{auth:r}=t;if(Oi(r.app))return Promise.reject(pl(r));const i="reauthenticate";try{const o=await th(t,BD(r,i,e,t),n);nt(o.idToken,r,"internal-error");const l=V7(o.idToken);nt(l,r,"internal-error");const{sub:c}=l;return nt(t.uid===c,r,"user-mismatch"),rc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&pa(r,"user-mismatch"),o}}async function MQ(t,e,n=!1){if(Oi(t.app))return Promise.reject(pl(t));const r="signIn",i=await BD(t,r,e),o=await rc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function kQ(t,e,n,r){return On(t).onIdTokenChanged(e,n,r)}function DQ(t,e,n){return On(t).beforeAuthStateChanged(e,n)}function OQ(t,e,n,r){return On(t).onAuthStateChanged(e,n,r)}function zQ(t){return On(t).signOut()}const pm="__sak";class UD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VQ=1e3,qQ=10;class HD extends UD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);dQ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HD.type="LOCAL";const LQ=HD;class jD extends UD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jD.type="SESSION";const FD=jD;function PQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class r1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new r1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await PQ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r1.receivers=[];function B7(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class BQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=B7("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function fa(){return window}function UQ(t){fa().location.href=t}function GD(){return typeof fa().WorkerGlobalScope<"u"&&typeof fa().importScripts=="function"}async function HQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jQ(){return navigator?.serviceWorker?.controller||null}function FQ(){return GD()?self:null}const $D="firebaseLocalStorageDb",GQ=1,gm="firebaseLocalStorage",YD="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function i1(t,e){return t.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function $Q(){const t=indexedDB.deleteDatabase($D);return new Sh(t).toPromise()}function b6(){const t=indexedDB.open($D,GQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gm,{keyPath:YD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),await $Q(),e(await b6()))})})}async function IS(t,e,n){const r=i1(t,!0).put({[YD]:e,value:n});return new Sh(r).toPromise()}async function YQ(t,e){const n=i1(t,!1).get(e),r=await new Sh(n).toPromise();return r===void 0?null:r.value}function NS(t,e){const n=i1(t,!0).delete(e);return new Sh(n).toPromise()}const XQ=800,KQ=3;class XD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b6(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=r1._getInstance(FQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HQ(),!this.activeServiceWorker)return;this.sender=new BQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b6();return await IS(e,pm,"1"),await NS(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=i1(i,!1).getAll();return new Sh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XD.type="LOCAL";const QQ=XD;new wh(3e4,6e4);function KD(t,e){return e?Ja(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class U7 extends PD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZQ(t){return MQ(t.auth,new U7(t),t.bypassAuthState)}function WQ(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),NQ(n,new U7(t),t.bypassAuthState)}async function JQ(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),IQ(n,new U7(t),t.bypassAuthState)}class QD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZQ;case"linkViaPopup":case"linkViaRedirect":return JQ;case"reauthViaPopup":case"reauthViaRedirect":return WQ;default:pa(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eZ=new wh(2e3,1e4);async function tZ(t,e,n){if(Oi(t.app))return Promise.reject(Li(t,"operation-not-supported-in-this-environment"));const r=n1(t);KK(t,e,P7);const i=KD(r,n);return new fl(r,"signInViaPopup",e,i).executeNotNull()}class fl extends QD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=B7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eZ.get())};e()}}fl.currentPopupAction=null;const nZ="pendingRedirect",Vd=new Map;class rZ extends QD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await iZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iZ(t,e){const n=oZ(e),r=sZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aZ(t,e){Vd.set(t._key(),e)}function sZ(t){return Ja(t._redirectPersistence)}function oZ(t){return zd(nZ,t.config.apiKey,t.name)}async function lZ(t,e,n=!1){if(Oi(t.app))return Promise.reject(pl(t));const r=n1(t),i=KD(r,e),l=await new rZ(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const uZ=600*1e3;class cZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(MS(e))}saveEventToCache(e){this.cachedEventUids.add(MS(e)),this.lastProcessedEventTime=Date.now()}}function MS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZD(t);default:return!1}}async function fZ(t,e={}){return fc(t,"GET","/v1/projects",e)}const dZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mZ=/^https?/;async function pZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fZ(t);for(const n of e)try{if(gZ(n))return}catch{}pa(t,"unauthorized-domain")}function gZ(t){const e=y6(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!mZ.test(n))return!1;if(dZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vZ=new wh(3e4,6e4);function kS(){const t=fa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yZ(t){return new Promise((e,n)=>{function r(){kS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kS(),n(Li(t,"network-request-failed"))},timeout:vZ.get()})}if(fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fa().gapi?.load)r();else{const i=EQ("iframefcb");return fa()[i]=()=>{gapi.load?r():n(Li(t,"network-request-failed"))},bQ(`${wQ()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw qd=null,e})}let qd=null;function _Z(t){return qd=qd||yZ(t),qd}const bZ=new wh(5e3,15e3),wZ="__/auth/iframe",EZ="emulator/auth/iframe",SZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TZ(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O7(e,EZ):`https://${t.config.authDomain}/${wZ}`,r={apiKey:e.apiKey,appName:t.name,v:sc},i=xZ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fh(r).slice(1)}`}async function AZ(t){const e=await _Z(t),n=fa().gapi;return nt(n,t,"internal-error"),e.open({where:document.body,url:TZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SZ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Li(t,"network-request-failed"),c=fa().setTimeout(()=>{o(l)},bZ.get());function h(){fa().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}const CZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RZ=500,IZ=600,NZ="_blank",MZ="http://localhost";class DS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kZ(t,e,n,r=RZ,i=IZ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...CZ,width:r.toString(),height:i.toString(),top:o,left:l},f=tr().toLowerCase();n&&(c=MD(f)?NZ:n),ID(f)&&(e=e||MZ,h.scrollbars="yes");const m=Object.entries(h).reduce((y,[b,E])=>`${y}${b}=${E},`,"");if(fQ(f)&&c!=="_self")return DZ(e||"",c),new DS(null);const p=window.open(e||"",c,m);nt(p,t,"popup-blocked");try{p.focus()}catch{}return new DS(p)}function DZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const OZ="__/auth/handler",zZ="emulator/auth/handler",VZ=encodeURIComponent("fac");async function OS(t,e,n,r,i,o){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sc,eventId:i};if(e instanceof P7){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",mG(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Eh){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${VZ}=${encodeURIComponent(h)}`:"";return`${qZ(t)}?${fh(c).slice(1)}${f}`}function qZ({config:t}){return t.emulator?O7(t,zZ):`https://${t.authDomain}/${OZ}`}const Wg="webStorageSupport";class LZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FD,this._completeRedirectFn=lZ,this._overrideRedirectResult=aZ}async _openPopup(e,n,r,i){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await OS(e,n,r,y6(),i);return kZ(e,o,B7())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await OS(e,n,r,y6(),i);return UQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(os(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AZ(e),r=new cZ(e);return n.register("authEvent",i=>(nt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},i=>{const o=i?.[0]?.[Wg];o!==void 0&&n(!!o),pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VD()||ND()||q7()}}const PZ=LZ;var zS="@firebase/auth",VS="1.12.0";class BZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HZ(t){Qu(new wl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qD(t)},f=new yQ(r,i,o,h);return xQ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qu(new wl("auth-internal",e=>{const n=n1(e.getProvider("auth").getImmediate());return(r=>new BZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(zS,VS,UZ(t)),ho(zS,VS,"esm2020")}const jZ=300,FZ=DM("authIdTokenMaxAge")||jZ;let qS=null;const GZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FZ)return;const i=n?.token;qS!==i&&(qS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $Z(t=PM()){const e=Q6(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SQ(t,{popupRedirectResolver:PZ,persistence:[QQ,LQ,FD]}),r=DM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=GZ(o.toString());DQ(n,l,()=>l(n.currentUser)),kQ(n,c=>l(c))}}const i=MM("auth");return i&&TQ(n,`http://${i}`),n}function YZ(){return document.getElementsByTagName("head")?.[0]??document}_Q({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Li("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",YZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HZ("Browser");const XZ={apiKey:"AIzaSyAIyve7JZp_0E3MNutgFkX0cAm9DqzfqC4",authDomain:"algebraic-structure-explorer.firebaseapp.com",projectId:"algebraic-structure-explorer",storageBucket:"algebraic-structure-explorer.firebasestorage.app",messagingSenderId:"195740710356",appId:"1:195740710356:web:132e427e9790fdc2705241",measurementId:"G-J5YLN1TFLL"},WD=LM(XZ),wr=SK(WD),Jg=$Z(WD),KZ=new Qa,H7={verified:"#ccffcc",unverified:"#ffcccc",deprecated:"#ffff00",deadEnd:"#eeeeee",duplicateLine:"#0000FF",parentLine:"#555",text:"#000"},ev={verified:{label:"Verified"},unverified:{label:"Unverified"},deprecated:{label:"Duplicate Branch (Deprecated)"}},QZ="_overlay_1pykk_1",ZZ="_legend_1pykk_20",LS={overlay:QZ,legend:ZZ};class Sr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Sr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Fr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Fr(n,Sr.range(this,e))}}class Ne{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,o=l.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var h=c.slice(i,o).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;o+15<c.length?m=c.slice(o,o+15)+"":m=c.slice(o),r+=f+h+m}var p=new Error(r);return p.name="ParseError",p.__proto__=Ne.prototype,p.position=i,i!=null&&o!=null&&(p.length=o-i),p.rawMessage=e,p}}Ne.prototype.__proto__=Error.prototype;var WZ=function(e,n){return e===void 0?n:e},JZ=/([A-Z])/g,eW=function(e){return e.replace(JZ,"-$1").toLowerCase()},tW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},nW=/[&><"']/g;function rW(t){return String(t).replace(nW,e=>tW[e])}var JD=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},iW=function(e){var n=JD(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},aW=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},sW=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},At={deflt:WZ,escape:rW,hyphenate:eW,getBaseElem:JD,isCharacterBox:iW,protocolFromUrl:sW},Ld={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function oW(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class j7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Ld)if(Ld.hasOwnProperty(n)){var r=Ld[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:oW(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=At.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class eo{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return ia[lW[this.id]]}sub(){return ia[uW[this.id]]}fracNum(){return ia[cW[this.id]]}fracDen(){return ia[hW[this.id]]}cramp(){return ia[fW[this.id]]}text(){return ia[dW[this.id]]}isTight(){return this.size>=2}}var F7=0,vm=1,Uu=2,ts=3,nh=4,pi=5,ic=6,lr=7,ia=[new eo(F7,0,!1),new eo(vm,0,!0),new eo(Uu,1,!1),new eo(ts,1,!0),new eo(nh,2,!1),new eo(pi,2,!0),new eo(ic,3,!1),new eo(lr,3,!0)],lW=[nh,pi,nh,pi,ic,lr,ic,lr],uW=[pi,pi,pi,pi,lr,lr,lr,lr],cW=[Uu,ts,nh,pi,ic,lr,ic,lr],hW=[ts,ts,pi,pi,lr,lr,lr,lr],fW=[vm,vm,ts,ts,pi,pi,lr,lr],dW=[F7,vm,Uu,ts,Uu,ts,Uu,ts],We={DISPLAY:ia[F7],TEXT:ia[Uu],SCRIPT:ia[nh],SCRIPTSCRIPT:ia[ic]},w6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function mW(t){for(var e=0;e<w6.length;e++)for(var n=w6[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Pd=[];w6.forEach(t=>t.blocks.forEach(e=>Pd.push(...e)));function eO(t){for(var e=0;e<Pd.length;e+=2)if(t>=Pd[e]&&t<=Pd[e+1])return!0;return!1}var Tu=80,pW=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},gW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},vW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},yW=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},_W=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},bW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},wW=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},EW=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=pW(n,Tu);break;case"sqrtSize1":i=gW(n,Tu);break;case"sqrtSize2":i=vW(n,Tu);break;case"sqrtSize3":i=yW(n,Tu);break;case"sqrtSize4":i=_W(n,Tu);break;case"sqrtTall":i=wW(n,Tu,r)}return i},SW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},PS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},xW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class xh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var aa={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},dd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},BS={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function TW(t,e){aa[t]=e}function G7(t,e,n){if(!aa[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=aa[e][r];if(!i&&t[0]in BS&&(r=BS[t[0]].charCodeAt(0),i=aa[e][r]),!i&&n==="text"&&eO(r)&&(i=aa[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var tv={};function AW(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!tv[e]){var n=tv[e]={cssEmPerMu:dd.quad[e]/18};for(var r in dd)dd.hasOwnProperty(r)&&(n[r]=dd[r][e])}return tv[e]}var CW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],US=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],HS=function(e,n){return n.size<2?e:CW[e-1][n.size-1]};class Ka{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ka.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=US[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Ka(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:HS(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:US[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=HS(Ka.BASESIZE,e);return this.size===n&&this.textSize===Ka.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ka.BASESIZE?["sizing","reset-size"+this.size,"size"+Ka.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=AW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ka.BASESIZE=6;var E6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},RW={ex:!0,em:!0,mu:!0},tO=function(e){return typeof e!="string"&&(e=e.unit),e in E6||e in RW||e==="ex"},tn=function(e,n){var r;if(e.unit in E6)r=E6[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},Eo=function(e){return e.filter(n=>n).join(" ")},nO=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},rO=function(e){var n=document.createElement(e);n.className=Eo(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},IW=/[\s"'>/=\x00-\x1f]/,iO=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+At.escape(Eo(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=At.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+At.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(IW.test(o))throw new Ne("Invalid attribute name '"+o+"'");n+=" "+o+'="'+At.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class Th{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,nO.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return rO.call(this,"span")}toMarkup(){return iO.call(this,"span")}}class $7{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,nO.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return rO.call(this,"a")}toMarkup(){return iO.call(this,"a")}}class NW{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+At.escape(this.src)+'"'+(' alt="'+At.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=At.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+At.escape(n)+'"'),e+="'/>",e}}var MW={:"",:"",:"",:""};class gi{constructor(e,n,r,i,o,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var f=mW(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=MW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Eo(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=At.escape(Eo(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=At.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+At.escape(r)+'"');var o=At.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class ls{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+At.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class So{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",PS[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+At.escape(this.alternate)+'"/>':'<path d="'+At.escape(PS[this.pathName])+'"/>'}}class S6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+At.escape(this.attributes[n])+'"');return e+="/>",e}}function jS(t){if(t instanceof gi)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function kW(t){if(t instanceof Th)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var DW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},OW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ut={math:{},text:{}};function w(t,e,n,r,i,o){Ut[t][i]={font:e,group:n,replace:r},o&&r&&(Ut[t][r]=Ut[t][i])}var R="math",Re="text",q="main",Z="ams",Zt="accent-token",qe="bin",ur="close",dc="inner",Ze="mathord",In="op-token",Yr="open",a1="punct",J="rel",ds="spacing",se="textord";w(R,q,J,"","\\equiv",!0);w(R,q,J,"","\\prec",!0);w(R,q,J,"","\\succ",!0);w(R,q,J,"","\\sim",!0);w(R,q,J,"","\\perp");w(R,q,J,"","\\preceq",!0);w(R,q,J,"","\\succeq",!0);w(R,q,J,"","\\simeq",!0);w(R,q,J,"","\\mid",!0);w(R,q,J,"","\\ll",!0);w(R,q,J,"","\\gg",!0);w(R,q,J,"","\\asymp",!0);w(R,q,J,"","\\parallel");w(R,q,J,"","\\bowtie",!0);w(R,q,J,"","\\smile",!0);w(R,q,J,"","\\sqsubseteq",!0);w(R,q,J,"","\\sqsupseteq",!0);w(R,q,J,"","\\doteq",!0);w(R,q,J,"","\\frown",!0);w(R,q,J,"","\\ni",!0);w(R,q,J,"","\\propto",!0);w(R,q,J,"","\\vdash",!0);w(R,q,J,"","\\dashv",!0);w(R,q,J,"","\\owns");w(R,q,a1,".","\\ldotp");w(R,q,a1,"","\\cdotp");w(R,q,se,"#","\\#");w(Re,q,se,"#","\\#");w(R,q,se,"&","\\&");w(Re,q,se,"&","\\&");w(R,q,se,"","\\aleph",!0);w(R,q,se,"","\\forall",!0);w(R,q,se,"","\\hbar",!0);w(R,q,se,"","\\exists",!0);w(R,q,se,"","\\nabla",!0);w(R,q,se,"","\\flat",!0);w(R,q,se,"","\\ell",!0);w(R,q,se,"","\\natural",!0);w(R,q,se,"","\\clubsuit",!0);w(R,q,se,"","\\wp",!0);w(R,q,se,"","\\sharp",!0);w(R,q,se,"","\\diamondsuit",!0);w(R,q,se,"","\\Re",!0);w(R,q,se,"","\\heartsuit",!0);w(R,q,se,"","\\Im",!0);w(R,q,se,"","\\spadesuit",!0);w(R,q,se,"","\\S",!0);w(Re,q,se,"","\\S");w(R,q,se,"","\\P",!0);w(Re,q,se,"","\\P");w(R,q,se,"","\\dag");w(Re,q,se,"","\\dag");w(Re,q,se,"","\\textdagger");w(R,q,se,"","\\ddag");w(Re,q,se,"","\\ddag");w(Re,q,se,"","\\textdaggerdbl");w(R,q,ur,"","\\rmoustache",!0);w(R,q,Yr,"","\\lmoustache",!0);w(R,q,ur,"","\\rgroup",!0);w(R,q,Yr,"","\\lgroup",!0);w(R,q,qe,"","\\mp",!0);w(R,q,qe,"","\\ominus",!0);w(R,q,qe,"","\\uplus",!0);w(R,q,qe,"","\\sqcap",!0);w(R,q,qe,"","\\ast");w(R,q,qe,"","\\sqcup",!0);w(R,q,qe,"","\\bigcirc",!0);w(R,q,qe,"","\\bullet",!0);w(R,q,qe,"","\\ddagger");w(R,q,qe,"","\\wr",!0);w(R,q,qe,"","\\amalg");w(R,q,qe,"&","\\And");w(R,q,J,"","\\longleftarrow",!0);w(R,q,J,"","\\Leftarrow",!0);w(R,q,J,"","\\Longleftarrow",!0);w(R,q,J,"","\\longrightarrow",!0);w(R,q,J,"","\\Rightarrow",!0);w(R,q,J,"","\\Longrightarrow",!0);w(R,q,J,"","\\leftrightarrow",!0);w(R,q,J,"","\\longleftrightarrow",!0);w(R,q,J,"","\\Leftrightarrow",!0);w(R,q,J,"","\\Longleftrightarrow",!0);w(R,q,J,"","\\mapsto",!0);w(R,q,J,"","\\longmapsto",!0);w(R,q,J,"","\\nearrow",!0);w(R,q,J,"","\\hookleftarrow",!0);w(R,q,J,"","\\hookrightarrow",!0);w(R,q,J,"","\\searrow",!0);w(R,q,J,"","\\leftharpoonup",!0);w(R,q,J,"","\\rightharpoonup",!0);w(R,q,J,"","\\swarrow",!0);w(R,q,J,"","\\leftharpoondown",!0);w(R,q,J,"","\\rightharpoondown",!0);w(R,q,J,"","\\nwarrow",!0);w(R,q,J,"","\\rightleftharpoons",!0);w(R,Z,J,"","\\nless",!0);w(R,Z,J,"","\\@nleqslant");w(R,Z,J,"","\\@nleqq");w(R,Z,J,"","\\lneq",!0);w(R,Z,J,"","\\lneqq",!0);w(R,Z,J,"","\\@lvertneqq");w(R,Z,J,"","\\lnsim",!0);w(R,Z,J,"","\\lnapprox",!0);w(R,Z,J,"","\\nprec",!0);w(R,Z,J,"","\\npreceq",!0);w(R,Z,J,"","\\precnsim",!0);w(R,Z,J,"","\\precnapprox",!0);w(R,Z,J,"","\\nsim",!0);w(R,Z,J,"","\\@nshortmid");w(R,Z,J,"","\\nmid",!0);w(R,Z,J,"","\\nvdash",!0);w(R,Z,J,"","\\nvDash",!0);w(R,Z,J,"","\\ntriangleleft");w(R,Z,J,"","\\ntrianglelefteq",!0);w(R,Z,J,"","\\subsetneq",!0);w(R,Z,J,"","\\@varsubsetneq");w(R,Z,J,"","\\subsetneqq",!0);w(R,Z,J,"","\\@varsubsetneqq");w(R,Z,J,"","\\ngtr",!0);w(R,Z,J,"","\\@ngeqslant");w(R,Z,J,"","\\@ngeqq");w(R,Z,J,"","\\gneq",!0);w(R,Z,J,"","\\gneqq",!0);w(R,Z,J,"","\\@gvertneqq");w(R,Z,J,"","\\gnsim",!0);w(R,Z,J,"","\\gnapprox",!0);w(R,Z,J,"","\\nsucc",!0);w(R,Z,J,"","\\nsucceq",!0);w(R,Z,J,"","\\succnsim",!0);w(R,Z,J,"","\\succnapprox",!0);w(R,Z,J,"","\\ncong",!0);w(R,Z,J,"","\\@nshortparallel");w(R,Z,J,"","\\nparallel",!0);w(R,Z,J,"","\\nVDash",!0);w(R,Z,J,"","\\ntriangleright");w(R,Z,J,"","\\ntrianglerighteq",!0);w(R,Z,J,"","\\@nsupseteqq");w(R,Z,J,"","\\supsetneq",!0);w(R,Z,J,"","\\@varsupsetneq");w(R,Z,J,"","\\supsetneqq",!0);w(R,Z,J,"","\\@varsupsetneqq");w(R,Z,J,"","\\nVdash",!0);w(R,Z,J,"","\\precneqq",!0);w(R,Z,J,"","\\succneqq",!0);w(R,Z,J,"","\\@nsubseteqq");w(R,Z,qe,"","\\unlhd");w(R,Z,qe,"","\\unrhd");w(R,Z,J,"","\\nleftarrow",!0);w(R,Z,J,"","\\nrightarrow",!0);w(R,Z,J,"","\\nLeftarrow",!0);w(R,Z,J,"","\\nRightarrow",!0);w(R,Z,J,"","\\nleftrightarrow",!0);w(R,Z,J,"","\\nLeftrightarrow",!0);w(R,Z,J,"","\\vartriangle");w(R,Z,se,"","\\hslash");w(R,Z,se,"","\\triangledown");w(R,Z,se,"","\\lozenge");w(R,Z,se,"","\\circledS");w(R,Z,se,"","\\circledR");w(Re,Z,se,"","\\circledR");w(R,Z,se,"","\\measuredangle",!0);w(R,Z,se,"","\\nexists");w(R,Z,se,"","\\mho");w(R,Z,se,"","\\Finv",!0);w(R,Z,se,"","\\Game",!0);w(R,Z,se,"","\\backprime");w(R,Z,se,"","\\blacktriangle");w(R,Z,se,"","\\blacktriangledown");w(R,Z,se,"","\\blacksquare");w(R,Z,se,"","\\blacklozenge");w(R,Z,se,"","\\bigstar");w(R,Z,se,"","\\sphericalangle",!0);w(R,Z,se,"","\\complement",!0);w(R,Z,se,"","\\eth",!0);w(Re,q,se,"","");w(R,Z,se,"","\\diagup");w(R,Z,se,"","\\diagdown");w(R,Z,se,"","\\square");w(R,Z,se,"","\\Box");w(R,Z,se,"","\\Diamond");w(R,Z,se,"","\\yen",!0);w(Re,Z,se,"","\\yen",!0);w(R,Z,se,"","\\checkmark",!0);w(Re,Z,se,"","\\checkmark");w(R,Z,se,"","\\beth",!0);w(R,Z,se,"","\\daleth",!0);w(R,Z,se,"","\\gimel",!0);w(R,Z,se,"","\\digamma",!0);w(R,Z,se,"","\\varkappa");w(R,Z,Yr,"","\\@ulcorner",!0);w(R,Z,ur,"","\\@urcorner",!0);w(R,Z,Yr,"","\\@llcorner",!0);w(R,Z,ur,"","\\@lrcorner",!0);w(R,Z,J,"","\\leqq",!0);w(R,Z,J,"","\\leqslant",!0);w(R,Z,J,"","\\eqslantless",!0);w(R,Z,J,"","\\lesssim",!0);w(R,Z,J,"","\\lessapprox",!0);w(R,Z,J,"","\\approxeq",!0);w(R,Z,qe,"","\\lessdot");w(R,Z,J,"","\\lll",!0);w(R,Z,J,"","\\lessgtr",!0);w(R,Z,J,"","\\lesseqgtr",!0);w(R,Z,J,"","\\lesseqqgtr",!0);w(R,Z,J,"","\\doteqdot");w(R,Z,J,"","\\risingdotseq",!0);w(R,Z,J,"","\\fallingdotseq",!0);w(R,Z,J,"","\\backsim",!0);w(R,Z,J,"","\\backsimeq",!0);w(R,Z,J,"","\\subseteqq",!0);w(R,Z,J,"","\\Subset",!0);w(R,Z,J,"","\\sqsubset",!0);w(R,Z,J,"","\\preccurlyeq",!0);w(R,Z,J,"","\\curlyeqprec",!0);w(R,Z,J,"","\\precsim",!0);w(R,Z,J,"","\\precapprox",!0);w(R,Z,J,"","\\vartriangleleft");w(R,Z,J,"","\\trianglelefteq");w(R,Z,J,"","\\vDash",!0);w(R,Z,J,"","\\Vvdash",!0);w(R,Z,J,"","\\smallsmile");w(R,Z,J,"","\\smallfrown");w(R,Z,J,"","\\bumpeq",!0);w(R,Z,J,"","\\Bumpeq",!0);w(R,Z,J,"","\\geqq",!0);w(R,Z,J,"","\\geqslant",!0);w(R,Z,J,"","\\eqslantgtr",!0);w(R,Z,J,"","\\gtrsim",!0);w(R,Z,J,"","\\gtrapprox",!0);w(R,Z,qe,"","\\gtrdot");w(R,Z,J,"","\\ggg",!0);w(R,Z,J,"","\\gtrless",!0);w(R,Z,J,"","\\gtreqless",!0);w(R,Z,J,"","\\gtreqqless",!0);w(R,Z,J,"","\\eqcirc",!0);w(R,Z,J,"","\\circeq",!0);w(R,Z,J,"","\\triangleq",!0);w(R,Z,J,"","\\thicksim");w(R,Z,J,"","\\thickapprox");w(R,Z,J,"","\\supseteqq",!0);w(R,Z,J,"","\\Supset",!0);w(R,Z,J,"","\\sqsupset",!0);w(R,Z,J,"","\\succcurlyeq",!0);w(R,Z,J,"","\\curlyeqsucc",!0);w(R,Z,J,"","\\succsim",!0);w(R,Z,J,"","\\succapprox",!0);w(R,Z,J,"","\\vartriangleright");w(R,Z,J,"","\\trianglerighteq");w(R,Z,J,"","\\Vdash",!0);w(R,Z,J,"","\\shortmid");w(R,Z,J,"","\\shortparallel");w(R,Z,J,"","\\between",!0);w(R,Z,J,"","\\pitchfork",!0);w(R,Z,J,"","\\varpropto");w(R,Z,J,"","\\blacktriangleleft");w(R,Z,J,"","\\therefore",!0);w(R,Z,J,"","\\backepsilon");w(R,Z,J,"","\\blacktriangleright");w(R,Z,J,"","\\because",!0);w(R,Z,J,"","\\llless");w(R,Z,J,"","\\gggtr");w(R,Z,qe,"","\\lhd");w(R,Z,qe,"","\\rhd");w(R,Z,J,"","\\eqsim",!0);w(R,q,J,"","\\Join");w(R,Z,J,"","\\Doteq",!0);w(R,Z,qe,"","\\dotplus",!0);w(R,Z,qe,"","\\smallsetminus");w(R,Z,qe,"","\\Cap",!0);w(R,Z,qe,"","\\Cup",!0);w(R,Z,qe,"","\\doublebarwedge",!0);w(R,Z,qe,"","\\boxminus",!0);w(R,Z,qe,"","\\boxplus",!0);w(R,Z,qe,"","\\divideontimes",!0);w(R,Z,qe,"","\\ltimes",!0);w(R,Z,qe,"","\\rtimes",!0);w(R,Z,qe,"","\\leftthreetimes",!0);w(R,Z,qe,"","\\rightthreetimes",!0);w(R,Z,qe,"","\\curlywedge",!0);w(R,Z,qe,"","\\curlyvee",!0);w(R,Z,qe,"","\\circleddash",!0);w(R,Z,qe,"","\\circledast",!0);w(R,Z,qe,"","\\centerdot");w(R,Z,qe,"","\\intercal",!0);w(R,Z,qe,"","\\doublecap");w(R,Z,qe,"","\\doublecup");w(R,Z,qe,"","\\boxtimes",!0);w(R,Z,J,"","\\dashrightarrow",!0);w(R,Z,J,"","\\dashleftarrow",!0);w(R,Z,J,"","\\leftleftarrows",!0);w(R,Z,J,"","\\leftrightarrows",!0);w(R,Z,J,"","\\Lleftarrow",!0);w(R,Z,J,"","\\twoheadleftarrow",!0);w(R,Z,J,"","\\leftarrowtail",!0);w(R,Z,J,"","\\looparrowleft",!0);w(R,Z,J,"","\\leftrightharpoons",!0);w(R,Z,J,"","\\curvearrowleft",!0);w(R,Z,J,"","\\circlearrowleft",!0);w(R,Z,J,"","\\Lsh",!0);w(R,Z,J,"","\\upuparrows",!0);w(R,Z,J,"","\\upharpoonleft",!0);w(R,Z,J,"","\\downharpoonleft",!0);w(R,q,J,"","\\origof",!0);w(R,q,J,"","\\imageof",!0);w(R,Z,J,"","\\multimap",!0);w(R,Z,J,"","\\leftrightsquigarrow",!0);w(R,Z,J,"","\\rightrightarrows",!0);w(R,Z,J,"","\\rightleftarrows",!0);w(R,Z,J,"","\\twoheadrightarrow",!0);w(R,Z,J,"","\\rightarrowtail",!0);w(R,Z,J,"","\\looparrowright",!0);w(R,Z,J,"","\\curvearrowright",!0);w(R,Z,J,"","\\circlearrowright",!0);w(R,Z,J,"","\\Rsh",!0);w(R,Z,J,"","\\downdownarrows",!0);w(R,Z,J,"","\\upharpoonright",!0);w(R,Z,J,"","\\downharpoonright",!0);w(R,Z,J,"","\\rightsquigarrow",!0);w(R,Z,J,"","\\leadsto");w(R,Z,J,"","\\Rrightarrow",!0);w(R,Z,J,"","\\restriction");w(R,q,se,"","`");w(R,q,se,"$","\\$");w(Re,q,se,"$","\\$");w(Re,q,se,"$","\\textdollar");w(R,q,se,"%","\\%");w(Re,q,se,"%","\\%");w(R,q,se,"_","\\_");w(Re,q,se,"_","\\_");w(Re,q,se,"_","\\textunderscore");w(R,q,se,"","\\angle",!0);w(R,q,se,"","\\infty",!0);w(R,q,se,"","\\prime");w(R,q,se,"","\\triangle");w(R,q,se,"","\\Gamma",!0);w(R,q,se,"","\\Delta",!0);w(R,q,se,"","\\Theta",!0);w(R,q,se,"","\\Lambda",!0);w(R,q,se,"","\\Xi",!0);w(R,q,se,"","\\Pi",!0);w(R,q,se,"","\\Sigma",!0);w(R,q,se,"","\\Upsilon",!0);w(R,q,se,"","\\Phi",!0);w(R,q,se,"","\\Psi",!0);w(R,q,se,"","\\Omega",!0);w(R,q,se,"A","");w(R,q,se,"B","");w(R,q,se,"E","");w(R,q,se,"Z","");w(R,q,se,"H","");w(R,q,se,"I","");w(R,q,se,"K","");w(R,q,se,"M","");w(R,q,se,"N","");w(R,q,se,"O","");w(R,q,se,"P","");w(R,q,se,"T","");w(R,q,se,"X","");w(R,q,se,"","\\neg",!0);w(R,q,se,"","\\lnot");w(R,q,se,"","\\top");w(R,q,se,"","\\bot");w(R,q,se,"","\\emptyset");w(R,Z,se,"","\\varnothing");w(R,q,Ze,"","\\alpha",!0);w(R,q,Ze,"","\\beta",!0);w(R,q,Ze,"","\\gamma",!0);w(R,q,Ze,"","\\delta",!0);w(R,q,Ze,"","\\epsilon",!0);w(R,q,Ze,"","\\zeta",!0);w(R,q,Ze,"","\\eta",!0);w(R,q,Ze,"","\\theta",!0);w(R,q,Ze,"","\\iota",!0);w(R,q,Ze,"","\\kappa",!0);w(R,q,Ze,"","\\lambda",!0);w(R,q,Ze,"","\\mu",!0);w(R,q,Ze,"","\\nu",!0);w(R,q,Ze,"","\\xi",!0);w(R,q,Ze,"","\\omicron",!0);w(R,q,Ze,"","\\pi",!0);w(R,q,Ze,"","\\rho",!0);w(R,q,Ze,"","\\sigma",!0);w(R,q,Ze,"","\\tau",!0);w(R,q,Ze,"","\\upsilon",!0);w(R,q,Ze,"","\\phi",!0);w(R,q,Ze,"","\\chi",!0);w(R,q,Ze,"","\\psi",!0);w(R,q,Ze,"","\\omega",!0);w(R,q,Ze,"","\\varepsilon",!0);w(R,q,Ze,"","\\vartheta",!0);w(R,q,Ze,"","\\varpi",!0);w(R,q,Ze,"","\\varrho",!0);w(R,q,Ze,"","\\varsigma",!0);w(R,q,Ze,"","\\varphi",!0);w(R,q,qe,"","*",!0);w(R,q,qe,"+","+");w(R,q,qe,"","-",!0);w(R,q,qe,"","\\cdot",!0);w(R,q,qe,"","\\circ",!0);w(R,q,qe,"","\\div",!0);w(R,q,qe,"","\\pm",!0);w(R,q,qe,"","\\times",!0);w(R,q,qe,"","\\cap",!0);w(R,q,qe,"","\\cup",!0);w(R,q,qe,"","\\setminus",!0);w(R,q,qe,"","\\land");w(R,q,qe,"","\\lor");w(R,q,qe,"","\\wedge",!0);w(R,q,qe,"","\\vee",!0);w(R,q,se,"","\\surd");w(R,q,Yr,"","\\langle",!0);w(R,q,Yr,"","\\lvert");w(R,q,Yr,"","\\lVert");w(R,q,ur,"?","?");w(R,q,ur,"!","!");w(R,q,ur,"","\\rangle",!0);w(R,q,ur,"","\\rvert");w(R,q,ur,"","\\rVert");w(R,q,J,"=","=");w(R,q,J,":",":");w(R,q,J,"","\\approx",!0);w(R,q,J,"","\\cong",!0);w(R,q,J,"","\\ge");w(R,q,J,"","\\geq",!0);w(R,q,J,"","\\gets");w(R,q,J,">","\\gt",!0);w(R,q,J,"","\\in",!0);w(R,q,J,"","\\@not");w(R,q,J,"","\\subset",!0);w(R,q,J,"","\\supset",!0);w(R,q,J,"","\\subseteq",!0);w(R,q,J,"","\\supseteq",!0);w(R,Z,J,"","\\nsubseteq",!0);w(R,Z,J,"","\\nsupseteq",!0);w(R,q,J,"","\\models");w(R,q,J,"","\\leftarrow",!0);w(R,q,J,"","\\le");w(R,q,J,"","\\leq",!0);w(R,q,J,"<","\\lt",!0);w(R,q,J,"","\\rightarrow",!0);w(R,q,J,"","\\to");w(R,Z,J,"","\\ngeq",!0);w(R,Z,J,"","\\nleq",!0);w(R,q,ds,"","\\ ");w(R,q,ds,"","\\space");w(R,q,ds,"","\\nobreakspace");w(Re,q,ds,"","\\ ");w(Re,q,ds,""," ");w(Re,q,ds,"","\\space");w(Re,q,ds,"","\\nobreakspace");w(R,q,ds,null,"\\nobreak");w(R,q,ds,null,"\\allowbreak");w(R,q,a1,",",",");w(R,q,a1,";",";");w(R,Z,qe,"","\\barwedge",!0);w(R,Z,qe,"","\\veebar",!0);w(R,q,qe,"","\\odot",!0);w(R,q,qe,"","\\oplus",!0);w(R,q,qe,"","\\otimes",!0);w(R,q,se,"","\\partial",!0);w(R,q,qe,"","\\oslash",!0);w(R,Z,qe,"","\\circledcirc",!0);w(R,Z,qe,"","\\boxdot",!0);w(R,q,qe,"","\\bigtriangleup");w(R,q,qe,"","\\bigtriangledown");w(R,q,qe,"","\\dagger");w(R,q,qe,"","\\diamond");w(R,q,qe,"","\\star");w(R,q,qe,"","\\triangleleft");w(R,q,qe,"","\\triangleright");w(R,q,Yr,"{","\\{");w(Re,q,se,"{","\\{");w(Re,q,se,"{","\\textbraceleft");w(R,q,ur,"}","\\}");w(Re,q,se,"}","\\}");w(Re,q,se,"}","\\textbraceright");w(R,q,Yr,"{","\\lbrace");w(R,q,ur,"}","\\rbrace");w(R,q,Yr,"[","\\lbrack",!0);w(Re,q,se,"[","\\lbrack",!0);w(R,q,ur,"]","\\rbrack",!0);w(Re,q,se,"]","\\rbrack",!0);w(R,q,Yr,"(","\\lparen",!0);w(R,q,ur,")","\\rparen",!0);w(Re,q,se,"<","\\textless",!0);w(Re,q,se,">","\\textgreater",!0);w(R,q,Yr,"","\\lfloor",!0);w(R,q,ur,"","\\rfloor",!0);w(R,q,Yr,"","\\lceil",!0);w(R,q,ur,"","\\rceil",!0);w(R,q,se,"\\","\\backslash");w(R,q,se,"","|");w(R,q,se,"","\\vert");w(Re,q,se,"|","\\textbar",!0);w(R,q,se,"","\\|");w(R,q,se,"","\\Vert");w(Re,q,se,"","\\textbardbl");w(Re,q,se,"~","\\textasciitilde");w(Re,q,se,"\\","\\textbackslash");w(Re,q,se,"^","\\textasciicircum");w(R,q,J,"","\\uparrow",!0);w(R,q,J,"","\\Uparrow",!0);w(R,q,J,"","\\downarrow",!0);w(R,q,J,"","\\Downarrow",!0);w(R,q,J,"","\\updownarrow",!0);w(R,q,J,"","\\Updownarrow",!0);w(R,q,In,"","\\coprod");w(R,q,In,"","\\bigvee");w(R,q,In,"","\\bigwedge");w(R,q,In,"","\\biguplus");w(R,q,In,"","\\bigcap");w(R,q,In,"","\\bigcup");w(R,q,In,"","\\int");w(R,q,In,"","\\intop");w(R,q,In,"","\\iint");w(R,q,In,"","\\iiint");w(R,q,In,"","\\prod");w(R,q,In,"","\\sum");w(R,q,In,"","\\bigotimes");w(R,q,In,"","\\bigoplus");w(R,q,In,"","\\bigodot");w(R,q,In,"","\\oint");w(R,q,In,"","\\oiint");w(R,q,In,"","\\oiiint");w(R,q,In,"","\\bigsqcup");w(R,q,In,"","\\smallint");w(Re,q,dc,"","\\textellipsis");w(R,q,dc,"","\\mathellipsis");w(Re,q,dc,"","\\ldots",!0);w(R,q,dc,"","\\ldots",!0);w(R,q,dc,"","\\@cdots",!0);w(R,q,dc,"","\\ddots",!0);w(R,q,se,"","\\varvdots");w(Re,q,se,"","\\varvdots");w(R,q,Zt,"","\\acute");w(R,q,Zt,"","\\grave");w(R,q,Zt,"","\\ddot");w(R,q,Zt,"~","\\tilde");w(R,q,Zt,"","\\bar");w(R,q,Zt,"","\\breve");w(R,q,Zt,"","\\check");w(R,q,Zt,"^","\\hat");w(R,q,Zt,"","\\vec");w(R,q,Zt,"","\\dot");w(R,q,Zt,"","\\mathring");w(R,q,Ze,"","\\@imath");w(R,q,Ze,"","\\@jmath");w(R,q,se,"","");w(R,q,se,"","");w(Re,q,se,"","\\i",!0);w(Re,q,se,"","\\j",!0);w(Re,q,se,"","\\ss",!0);w(Re,q,se,"","\\ae",!0);w(Re,q,se,"","\\oe",!0);w(Re,q,se,"","\\o",!0);w(Re,q,se,"","\\AE",!0);w(Re,q,se,"","\\OE",!0);w(Re,q,se,"","\\O",!0);w(Re,q,Zt,"","\\'");w(Re,q,Zt,"","\\`");w(Re,q,Zt,"","\\^");w(Re,q,Zt,"","\\~");w(Re,q,Zt,"","\\=");w(Re,q,Zt,"","\\u");w(Re,q,Zt,"","\\.");w(Re,q,Zt,"","\\c");w(Re,q,Zt,"","\\r");w(Re,q,Zt,"","\\v");w(Re,q,Zt,"",'\\"');w(Re,q,Zt,"","\\H");w(Re,q,Zt,"","\\textcircled");var aO={"--":!0,"---":!0,"``":!0,"''":!0};w(Re,q,se,"","--",!0);w(Re,q,se,"","\\textendash");w(Re,q,se,"","---",!0);w(Re,q,se,"","\\textemdash");w(Re,q,se,"","`",!0);w(Re,q,se,"","\\textquoteleft");w(Re,q,se,"","'",!0);w(Re,q,se,"","\\textquoteright");w(Re,q,se,"","``",!0);w(Re,q,se,"","\\textquotedblleft");w(Re,q,se,"","''",!0);w(Re,q,se,"","\\textquotedblright");w(R,q,se,"","\\degree",!0);w(Re,q,se,"","\\degree");w(Re,q,se,"","\\textdegree",!0);w(R,q,se,"","\\pounds");w(R,q,se,"","\\mathsterling",!0);w(Re,q,se,"","\\pounds");w(Re,q,se,"","\\textsterling",!0);w(R,Z,se,"","\\maltese");w(Re,Z,se,"","\\maltese");var FS='0123456789/@."';for(var nv=0;nv<FS.length;nv++){var GS=FS.charAt(nv);w(R,q,se,GS,GS)}var $S='0123456789!@*()-=+";:?/.,';for(var rv=0;rv<$S.length;rv++){var YS=$S.charAt(rv);w(Re,q,se,YS,YS)}var ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var iv=0;iv<ym.length;iv++){var md=ym.charAt(iv);w(R,q,Ze,md,md),w(Re,q,se,md,md)}w(R,Z,se,"C","");w(Re,Z,se,"C","");w(R,Z,se,"H","");w(Re,Z,se,"H","");w(R,Z,se,"N","");w(Re,Z,se,"N","");w(R,Z,se,"P","");w(Re,Z,se,"P","");w(R,Z,se,"Q","");w(Re,Z,se,"Q","");w(R,Z,se,"R","");w(Re,Z,se,"R","");w(R,Z,se,"Z","");w(Re,Z,se,"Z","");w(R,q,Ze,"h","");w(Re,q,Ze,"h","");var tt="";for(var ar=0;ar<ym.length;ar++){var hn=ym.charAt(ar);tt=String.fromCharCode(55349,56320+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56372+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56424+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56580+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56684+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56736+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56788+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56840+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56944+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),ar<26&&(tt=String.fromCharCode(55349,56632+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt),tt=String.fromCharCode(55349,56476+ar),w(R,q,Ze,hn,tt),w(Re,q,se,hn,tt))}tt="";w(R,q,Ze,"k",tt);w(Re,q,se,"k",tt);for(var al=0;al<10;al++){var to=al.toString();tt=String.fromCharCode(55349,57294+al),w(R,q,Ze,to,tt),w(Re,q,se,to,tt),tt=String.fromCharCode(55349,57314+al),w(R,q,Ze,to,tt),w(Re,q,se,to,tt),tt=String.fromCharCode(55349,57324+al),w(R,q,Ze,to,tt),w(Re,q,se,to,tt),tt=String.fromCharCode(55349,57334+al),w(R,q,Ze,to,tt),w(Re,q,se,to,tt)}var x6="";for(var av=0;av<x6.length;av++){var pd=x6.charAt(av);w(R,q,Ze,pd,pd),w(Re,q,se,pd,pd)}var gd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],XS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],zW=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var c=Math.floor((o-119808)/26);return[gd[c][2],gd[c][l]]}else if(120782<=o&&o<=120831){var h=Math.floor((o-120782)/10);return[XS[h][2],XS[h][l]]}else{if(o===120485||o===120486)return[gd[0][2],gd[0][l]];if(120486<o&&o<120782)return["",""];throw new Ne("Unsupported character: "+e)}},s1=function(e,n,r){return Ut[r][e]&&Ut[r][e].replace&&(e=Ut[r][e].replace),{value:e,metrics:G7(e,n,r)}},ki=function(e,n,r,i,o){var l=s1(e,n,r),c=l.metrics;e=l.value;var h;if(c){var f=c.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),h=new gi(e,c.height,c.depth,f,c.skew,c.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),h=new gi(e,0,0,0,0,0,o);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},VW=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&s1(e,"Main-Bold",n).metrics?ki(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Ut[n][e].font==="main"?ki(e,"Main-Regular",n,r,i):ki(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},qW=function(e,n,r,i,o){return o!=="textord"&&s1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},LW=function(e,n,r){var i=e.mode,o=e.text,l=["mord"],c=i==="math"||i==="text"&&n.font,h=c?n.font:n.fontFamily,f="",m="";if(o.charCodeAt(0)===55349&&([f,m]=zW(o,i)),f.length>0)return ki(o,f,i,n,l.concat(m));if(h){var p,y;if(h==="boldsymbol"){var b=qW(o,i,n,l,r);p=b.fontName,y=[b.fontClass]}else c?(p=lO[h].fontName,y=[h]):(p=vd(h,n.fontWeight,n.fontShape),y=[h,n.fontWeight,n.fontShape]);if(s1(o,p,i).metrics)return ki(o,p,i,n,l.concat(y));if(aO.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var E=[],T=0;T<o.length;T++)E.push(ki(o[T],p,i,n,l.concat(y)));return oO(E)}}if(r==="mathord")return ki(o,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var x=Ut[i][o]&&Ut[i][o].font;if(x==="ams"){var C=vd("amsrm",n.fontWeight,n.fontShape);return ki(o,C,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(x==="main"||!x){var D=vd("textrm",n.fontWeight,n.fontShape);return ki(o,D,i,n,l.concat(n.fontWeight,n.fontShape))}else{var A=vd(x,n.fontWeight,n.fontShape);return ki(o,A,i,n,l.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},PW=(t,e)=>{if(Eo(t.classes)!==Eo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},BW=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof gi&&r instanceof gi&&PW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},Y7=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var l=e.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},br=function(e,n,r,i){var o=new Th(e,n,r,i);return Y7(o),o},sO=(t,e,n,r)=>new Th(t,e,n,r),UW=function(e,n,r){var i=br([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},HW=function(e,n,r,i){var o=new $7(e,n,r,i);return Y7(o),o},oO=function(e){var n=new xh(e);return Y7(n),n},jW=function(e,n){return e instanceof xh?br([],[e],n):e},FW=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,l=1;l<n.length;l++){var c=-n[l].shift-o-n[l].elem.depth,h=c-(n[l-1].elem.height+n[l-1].elem.depth);o=o+c,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var y=e.children[p];m-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},GW=function(e,n){for(var{children:r,depth:i}=FW(e),o=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var h=c.elem;o=Math.max(o,h.maxFontSize,h.height)}}o+=2;var f=br(["pstrut"],[]);f.style.height=ke(o);for(var m=[],p=i,y=i,b=i,E=0;E<r.length;E++){var T=r[E];if(T.type==="kern")b+=T.size;else{var x=T.elem,C=T.wrapperClasses||[],D=T.wrapperStyle||{},A=br(C,[f,x],void 0,D);A.style.top=ke(-o-b-x.depth),T.marginLeft&&(A.style.marginLeft=T.marginLeft),T.marginRight&&(A.style.marginRight=T.marginRight),m.push(A),b+=x.height+x.depth}p=Math.min(p,b),y=Math.max(y,b)}var O=br(["vlist"],m);O.style.height=ke(y);var U;if(p<0){var L=br([],[]),I=br(["vlist"],[L]);I.style.height=ke(-p);var M=br(["vlist-s"],[new gi("")]);U=[br(["vlist-r"],[O,M]),br(["vlist-r"],[I])]}else U=[br(["vlist-r"],[O])];var k=br(["vlist-t"],U);return U.length===2&&k.classes.push("vlist-t2"),k.height=y,k.depth=-p,k},$W=(t,e)=>{var n=br(["mspace"],[],e),r=tn(t,e);return n.style.marginRight=ke(r),n},vd=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},lO={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},uO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},YW=function(e,n){var[r,i,o]=uO[e],l=new So(r),c=new ls([l],{width:ke(i),height:ke(o),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),h=sO(["overlay"],[c],n);return h.height=o,h.style.height=ke(o),h.style.width=ke(i),h},de={fontMap:lO,makeSymbol:ki,mathsym:VW,makeSpan:br,makeSvgSpan:sO,makeLineSpan:UW,makeAnchor:HW,makeFragment:oO,wrapFragment:jW,makeVList:GW,makeOrd:LW,makeGlue:$W,staticSvg:YW,svgData:uO,tryCombineChars:BW},en={number:3,unit:"mu"},sl={number:4,unit:"mu"},Xa={number:5,unit:"mu"},XW={mord:{mop:en,mbin:sl,mrel:Xa,minner:en},mop:{mord:en,mop:en,mrel:Xa,minner:en},mbin:{mord:sl,mop:sl,mopen:sl,minner:sl},mrel:{mord:Xa,mop:Xa,mopen:Xa,minner:Xa},mopen:{},mclose:{mop:en,mbin:sl,mrel:Xa,minner:en},mpunct:{mord:en,mop:en,mrel:Xa,mopen:en,mclose:en,mpunct:en,minner:en},minner:{mord:en,mop:en,mbin:sl,mrel:Xa,mopen:en,mpunct:en,minner:en}},KW={mord:{mop:en},mop:{mord:en,mop:en},mbin:{},mrel:{},mopen:{},mclose:{mop:en},mpunct:{},minner:{mop:en}},cO={},_m={},bm={};function ze(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},h=0;h<n.length;++h)cO[n[h]]=c;e&&(o&&(_m[e]=o),l&&(bm[e]=l))}function Rl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var wm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},yn=function(e){return e.type==="ordgroup"?e.body:[e]},us=de.makeSpan,QW=["leftmost","mbin","mopen","mrel","mop","mpunct"],ZW=["rightmost","mrel","mclose","mpunct"],WW={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},JW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},zn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],l=0;l<e.length;l++){var c=Et(e[l],n);if(c instanceof xh){var h=c.children;o.push(...h)}else o.push(c)}if(de.tryCombineChars(o),!r)return o;var f=n;if(e.length===1){var m=e[0];m.type==="sizing"?f=n.havingSize(m.size):m.type==="styling"&&(f=n.havingStyle(WW[m.style]))}var p=us([i[0]||"leftmost"],[],n),y=us([i[1]||"rightmost"],[],n),b=r==="root";return KS(o,(E,T)=>{var x=T.classes[0],C=E.classes[0];x==="mbin"&&ZW.includes(C)?T.classes[0]="mord":C==="mbin"&&QW.includes(x)&&(E.classes[0]="mord")},{node:p},y,b),KS(o,(E,T)=>{var x=T6(T),C=T6(E),D=x&&C?E.hasClass("mtight")?KW[x][C]:XW[x][C]:null;if(D)return de.makeGlue(D,f)},{node:p},y,b),o},KS=function t(e,n,r,i,o){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=hO(c);if(h){t(h.children,n,r,null,o);continue}var f=!c.hasClass("mspace");if(f){var m=n(c,r.node);m&&(r.insertAfter?r.insertAfter(m):(e.unshift(m),l++))}f?r.node=c:o&&c.hasClass("newline")&&(r.node=us(["leftmost"])),r.insertAfter=(p=>y=>{e.splice(p+1,0,y),l++})(l)}i&&e.pop()},hO=function(e){return e instanceof xh||e instanceof $7||e instanceof Th&&e.hasClass("enclosing")?e:null},eJ=function t(e,n){var r=hO(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},T6=function(e,n){return e?(n&&(e=eJ(e,n)),JW[e.classes[0]]||null):null},rh=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return us(n.concat(r))},Et=function(e,n,r){if(!e)return us();if(_m[e.type]){var i=_m[e.type](e,n);if(r&&n.size!==r.size){i=us(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function yd(t,e){var n=us(["base"],t,e),r=us(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function A6(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=zn(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var h=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(h=!0);h||(o.push(yd(l,e)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(yd(l,e)),l=[]),o.push(r[c]));l.length>0&&o.push(yd(l,e));var f;n?(f=yd(zn(n,e,!0)),f.classes=["tag"],o.push(f)):i&&o.push(i);var m=us(["katex-html"],o);if(m.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=ke(m.height+m.depth),m.depth&&(p.style.verticalAlign=ke(-m.depth))}return m}function fO(t){return new xh(t)}let Ur=class{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Eo(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof sa&&this.children[r+1]instanceof sa){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof sa;)i+=this.children[++r].toText();e.appendChild(new sa(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=At.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+At.escape(Eo(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}};class sa{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return At.escape(this.toText())}toText(){return this.text}}class tJ{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:Ur,TextNode:sa,SpaceNode:tJ,newDocumentFragment:fO},vi=function(e,n,r){return Ut[n][e]&&Ut[n][e].replace&&e.charCodeAt(0)!==55349&&!(aO.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Ut[n][e].replace),new Ie.TextNode(e)},X7=function(e){return e.length===1?e[0]:new Ie.MathNode("mrow",e)},K7=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;Ut[i][o]&&Ut[i][o].replace&&(o=Ut[i][o].replace);var l=de.fontMap[r].fontName;return G7(o,l,i)?de.fontMap[r].variant:null};function sv(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof sa&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof sa&&n.text===","}else return!1}var Ar=function(e,n,r){if(e.length===1){var i=Pt(e[0],n);return r&&i instanceof Ur&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],l,c=0;c<e.length;c++){var h=Pt(e[c],n);if(h instanceof Ur&&l instanceof Ur){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(sv(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&sv(l))h.children=[...l.children,...h.children],o.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||sv(l))){var f=h.children[0];f instanceof Ur&&f.type==="mn"&&(f.children=[...l.children,...f.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof sa&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof sa&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),o.pop())}}}o.push(h),l=h}return o},xo=function(e,n,r){return X7(Ar(e,n,r))},Pt=function(e,n){if(!e)return new Ie.MathNode("mrow");if(bm[e.type]){var r=bm[e.type](e,n);return r}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function QS(t,e,n,r,i){var o=Ar(t,n),l;o.length===1&&o[0]instanceof Ur&&["mrow","mtable"].includes(o[0].type)?l=o[0]:l=new Ie.MathNode("mrow",o);var c=new Ie.MathNode("annotation",[new Ie.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ie.MathNode("semantics",[l,c]),f=new Ie.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return de.makeSpan([m],[f])}var dO=function(e){return new Ka({style:e.displayMode?We.DISPLAY:We.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},mO=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=de.makeSpan(r,[e])}return e},nJ=function(e,n,r){var i=dO(r),o;if(r.output==="mathml")return QS(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=A6(e,i);o=de.makeSpan(["katex"],[l])}else{var c=QS(e,n,i,r.displayMode,!1),h=A6(e,i);o=de.makeSpan(["katex"],[c,h])}return mO(o,r)},rJ=function(e,n,r){var i=dO(r),o=A6(e,i),l=de.makeSpan(["katex"],[o]);return mO(l,r)},iJ={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},aJ=function(e){var n=new Ie.MathNode("mo",[new Ie.TextNode(iJ[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},sJ={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},oJ=function(e){return e.type==="ordgroup"?e.body.length:1},lJ=function(e,n){function r(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var f=e,m=oJ(f.base),p,y,b;if(m>5)h==="widehat"||h==="widecheck"?(p=420,c=2364,b=.42,y=h+"4"):(p=312,c=2340,b=.34,y="tilde4");else{var E=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][E],p=[0,239,300,360,420][E],b=[0,.24,.3,.3,.36,.42][E],y=h+E):(c=[0,600,1033,2339,2340][E],p=[0,260,286,306,312][E],b=[0,.26,.286,.3,.306,.34][E],y="tilde"+E)}var T=new So(y),x=new ls([T],{width:"100%",height:ke(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[x],n),minWidth:0,height:b}}else{var C=[],D=sJ[h],[A,O,U]=D,L=U/1e3,I=A.length,M,k;if(I===1){var H=D[3];M=["hide-tail"],k=[H]}else if(I===2)M=["halfarrow-left","halfarrow-right"],k=["xMinYMin","xMaxYMin"];else if(I===3)M=["brace-left","brace-center","brace-right"],k=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+I+" children.");for(var V=0;V<I;V++){var B=new So(A[V]),P=new ls([B],{width:"400em",height:ke(L),viewBox:"0 0 "+c+" "+U,preserveAspectRatio:k[V]+" slice"}),K=de.makeSvgSpan([M[V]],[P],n);if(I===1)return{span:K,minWidth:O,height:L};K.style.height=ke(L),C.push(K)}return{span:de.makeSpan(["stretchy"],C,n),minWidth:O,height:L}}}var{span:i,minWidth:o,height:l}=r();return i.height=l,i.style.height=ke(l),o>0&&(i.style.minWidth=ke(o)),i},uJ=function(e,n,r,i,o){var l,c=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=de.makeSpan(["stretchy",n],[],o),n==="fbox"){var h=o.color&&o.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new S6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new S6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ls(f,{width:"100%",height:ke(c)});l=de.makeSvgSpan([],[m],o)}return l.height=c,l.style.height=ke(c),l},cs={encloseSpan:uJ,mathMLnode:aJ,svgSpan:lJ};function ct(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Q7(t){var e=o1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function o1(t){return t&&(t.type==="atom"||OW.hasOwnProperty(t.type))?t:null}var Z7=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=ct(t.base,"accent"),n=r.base,t.base=n,i=kW(Et(t,e)),t.base=r):(r=ct(t,"accent"),n=r.base);var o=Et(n,e.havingCrampedStyle()),l=r.isShifty&&At.isCharacterBox(n),c=0;if(l){var h=At.getBaseElem(n),f=Et(h,e.havingCrampedStyle());c=jS(f).skew}var m=r.label==="\\c",p=m?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),y;if(r.isStretchy)y=cs.svgSpan(r,e),y=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},e);else{var b,E;r.label==="\\vec"?(b=de.staticSvg("vec",e),E=de.svgData.vec[1]):(b=de.makeOrd({mode:r.mode,text:r.label},e,"textord"),b=jS(b),b.italic=0,E=b.width,m&&(p+=b.depth)),y=de.makeSpan(["accent-body"],[b]);var T=r.label==="\\textcircled";T&&(y.classes.push("accent-full"),p=o.height);var x=c;T||(x-=E/2),y.style.left=ke(x),r.label==="\\textcircled"&&(y.style.top=".2em"),y=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:y}]},e)}var C=de.makeSpan(["mord","accent"],[y],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},pO=(t,e)=>{var n=t.isStretchy?cs.mathMLnode(t.label):new Ie.MathNode("mo",[vi(t.label,t.mode)]),r=new Ie.MathNode("mover",[Pt(t.base,e),n]);return r.setAttribute("accent","true"),r},cJ=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=wm(e[0]),r=!cJ.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Z7,mathmlBuilder:pO});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Z7,mathmlBuilder:pO});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Et(t.base,e),r=cs.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=cs.mathMLnode(t.label),r=new Ie.MathNode("munder",[Pt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var _d=t=>{var e=new Ie.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=de.wrapFragment(Et(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=de.wrapFragment(Et(t.below,r,e),e),l.classes.push(o+"-arrow-pad"));var c=cs.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:p}]},e)}else m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=cs.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=_d(Pt(t.body,e));if(t.below){var o=_d(Pt(t.below,e));r=new Ie.MathNode("munderover",[n,o,i])}else r=new Ie.MathNode("mover",[n,i])}else if(t.below){var l=_d(Pt(t.below,e));r=new Ie.MathNode("munder",[n,l])}else r=_d(),r=new Ie.MathNode("mover",[n,r]);return r}});var hJ=de.makeSpan;function gO(t,e){var n=zn(t.body,e,!0);return hJ([t.mclass],n,e)}function vO(t,e){var n,r=Ar(t.body,e);return t.mclass==="minner"?n=new Ie.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ie.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ie.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:yn(i),isCharacterBox:At.isCharacterBox(i)}},htmlBuilder:gO,mathmlBuilder:vO});var l1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:l1(e[0]),body:yn(e[1]),isCharacterBox:At.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],l;r!=="\\stackrel"?l=l1(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:yn(i)},h={type:"supsub",mode:o.mode,base:c,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:At.isCharacterBox(h)}},htmlBuilder:gO,mathmlBuilder:vO});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:l1(e[0]),body:yn(e[0])}},htmlBuilder(t,e){var n=zn(t.body,e,!0),r=de.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Ar(t.body,e),r=new Ie.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var fJ={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ZS=()=>({type:"styling",body:[],mode:"math",style:"display"}),WS=t=>t.type==="textord"&&t.text==="@",dJ=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function mJ(t,e,n){var r=fJ[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function pJ(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var l=e[o],c=ZS(),h=0;h<l.length;h++)if(!WS(l[h]))c.body.push(l[h]);else{r.push(c),h+=1;var f=Q7(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var y=!0,b=h+1;b<l.length;b++){if(dJ(l[b],f)){y=!1,h=b;break}if(WS(l[b]))throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(y)throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new Ne('Expected one of "<>AV=|." after @',l[h]);var E=mJ(f,m,t),T={type:"styling",body:[E],mode:"math",style:"display"};r.push(T),c=ZS()}o%2===0?r.push(c):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var x=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:x,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=de.wrapFragment(Et(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ie.MathNode("mrow",[Pt(t.label,e)]);return n=new Ie.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ie.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=de.wrapFragment(Et(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ie.MathNode("mrow",[Pt(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ct(e[0],"ordgroup"),i=r.body,o="",l=0;l<i.length;l++){var c=ct(i[l],"textord");o+=c.text}var h=parseInt(o),f;if(isNaN(h))throw new Ne("\\@char has non-numeric argument "+o);if(h<0||h>=1114111)throw new Ne("\\@char with invalid code point "+o);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var yO=(t,e)=>{var n=zn(t.body,e.withColor(t.color),!1);return de.makeFragment(n)},_O=(t,e)=>{var n=Ar(t.body,e.withColor(t.color)),r=new Ie.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ct(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:yn(i)}},htmlBuilder:yO,mathmlBuilder:_O});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ct(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:yO,mathmlBuilder:_O});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&ct(i,"size").value}},htmlBuilder(t,e){var n=de.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(tn(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ie.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(tn(t.size,e)))),n}});var C6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},bO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ne("Expected a control sequence",t);return e},gJ=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},wO=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(C6[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=C6[r.text]),ct(e.parseFunction(),"internal");throw new Ne("Invalid token after macro prefix",r)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ne("Expected a control sequence",r);for(var o=0,l,c=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new Ne('Argument number "'+r.text+'" out of order');o++,c.push([])}else{if(r.text==="EOF")throw new Ne("Expected a macro definition");c[o].push(r.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:o,delimiters:c},n===C6[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=bO(e.gullet.popToken());e.gullet.consumeSpaces();var i=gJ(e);return wO(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=bO(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return wO(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var S0=function(e,n,r){var i=Ut.math[e]&&Ut.math[e].replace,o=G7(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},W7=function(e,n,r,i){var o=r.havingBaseStyle(n),l=de.makeSpan(i.concat(o.sizingClasses(r)),[e],r),c=o.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=o.sizeMultiplier,l},EO=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(o),e.height-=o,e.depth+=o},vJ=function(e,n,r,i,o,l){var c=de.makeSymbol(e,"Main-Regular",o,i),h=W7(c,n,i,l);return r&&EO(h,i,n),h},yJ=function(e,n,r,i){return de.makeSymbol(e,"Size"+n+"-Regular",r,i)},SO=function(e,n,r,i,o,l){var c=yJ(e,n,o,i),h=W7(de.makeSpan(["delimsizing","size"+n],[c],i),We.TEXT,i,l);return r&&EO(h,i,We.TEXT),h},ov=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=de.makeSpan(["delimsizinginner",i],[de.makeSpan([],[de.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},lv=function(e,n,r){var i=aa["Size4-Regular"][e.charCodeAt(0)]?aa["Size4-Regular"][e.charCodeAt(0)][4]:aa["Size1-Regular"][e.charCodeAt(0)][4],o=new So("inner",SW(e,Math.round(1e3*n))),l=new ls([o],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=de.makeSvgSpan([],[l],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},R6=.008,bd={type:"kern",size:-1*R6},_J=["|","\\lvert","\\rvert","\\vert"],bJ=["\\|","\\lVert","\\rVert","\\Vert"],xO=function(e,n,r,i,o,l){var c,h,f,m,p="",y=0;c=f=m=e,h=null;var b="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):_J.includes(e)?(f="",p="vert",y=333):bJ.includes(e)?(f="",p="doublevert",y=556):e==="["||e==="\\lbrack"?(c="",f="",m="",b="Size4-Regular",p="lbrack",y=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",b="Size4-Regular",p="rbrack",y=667):e==="\\lfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="lfloor",y=667):e==="\\lceil"||e===""?(c="",f=m="",b="Size4-Regular",p="lceil",y=667):e==="\\rfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="rfloor",y=667):e==="\\rceil"||e===""?(c="",f=m="",b="Size4-Regular",p="rceil",y=667):e==="("||e==="\\lparen"?(c="",f="",m="",b="Size4-Regular",p="lparen",y=875):e===")"||e==="\\rparen"?(c="",f="",m="",b="Size4-Regular",p="rparen",y=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",b="Size4-Regular");var E=S0(c,b,o),T=E.height+E.depth,x=S0(f,b,o),C=x.height+x.depth,D=S0(m,b,o),A=D.height+D.depth,O=0,U=1;if(h!==null){var L=S0(h,b,o);O=L.height+L.depth,U=2}var I=T+A+O,M=Math.max(0,Math.ceil((n-I)/(U*C))),k=I+M*U*C,H=i.fontMetrics().axisHeight;r&&(H*=i.sizeMultiplier);var V=k/2-H,B=[];if(p.length>0){var P=k-T-A,K=Math.round(k*1e3),te=xW(p,Math.round(P*1e3)),$=new So(p,te),W=(y/1e3).toFixed(3)+"em",re=(K/1e3).toFixed(3)+"em",oe=new ls([$],{width:W,height:re,viewBox:"0 0 "+y+" "+K}),ye=de.makeSvgSpan([],[oe],i);ye.height=K/1e3,ye.style.width=W,ye.style.height=re,B.push({type:"elem",elem:ye})}else{if(B.push(ov(m,b,o)),B.push(bd),h===null){var Y=k-T-A+2*R6;B.push(lv(f,Y,i))}else{var ee=(k-T-A-O)/2+2*R6;B.push(lv(f,ee,i)),B.push(bd),B.push(ov(h,b,o)),B.push(bd),B.push(lv(f,ee,i))}B.push(bd),B.push(ov(c,b,o))}var pe=i.havingBaseStyle(We.TEXT),Q=de.makeVList({positionType:"bottom",positionData:V,children:B},pe);return W7(de.makeSpan(["delimsizing","mult"],[Q],pe),We.TEXT,i,l)},uv=80,cv=.08,hv=function(e,n,r,i,o){var l=EW(e,i,r),c=new So(e,l),h=new ls([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[h],o)},wJ=function(e,n){var r=n.havingBaseSizing(),i=RO("\\surd",e*r.sizeMultiplier,CO,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,h=0,f=0,m=0,p;return i.type==="small"?(m=1e3+1e3*l+uv,e<1?o=1:e<1.4&&(o=.7),h=(1+l+cv)/o,f=(1+l)/o,c=hv("sqrtMain",h,m,l,n),c.style.minWidth="0.853em",p=.833/o):i.type==="large"?(m=(1e3+uv)*V0[i.size],f=(V0[i.size]+l)/o,h=(V0[i.size]+l+cv)/o,c=hv("sqrtSize"+i.size,h,m,l,n),c.style.minWidth="1.02em",p=1/o):(h=e+l+cv,f=e+l,m=Math.floor(1e3*e+l)+uv,c=hv("sqrtTall",h,m,l,n),c.style.minWidth="0.742em",p=1.056),c.height=f,c.style.height=ke(h),{span:c,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},TO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],EJ=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],AO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],V0=[0,1.2,1.8,2.4,3],SJ=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),TO.includes(e)||AO.includes(e))return SO(e,n,!1,r,i,o);if(EJ.includes(e))return xO(e,V0[n],!1,r,i,o);throw new Ne("Illegal delimiter: '"+e+"'")},xJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],TJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],CO=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],AJ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},RO=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var c=S0(e,AJ(r[l]),"math"),h=c.height+c.depth;if(r[l].type==="small"){var f=i.havingBaseStyle(r[l].style);h*=f.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},IO=function(e,n,r,i,o,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;AO.includes(e)?c=xJ:TO.includes(e)?c=CO:c=TJ;var h=RO(e,n,c,i);return h.type==="small"?vJ(e,h.style,r,i,o,l):h.type==="large"?SO(e,h.size,r,i,o,l):xO(e,n,r,i,o,l)},CJ=function(e,n,r,i,o,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(n-c,r+c),p=Math.max(m/500*h,2*m-f);return IO(e,p,!0,i,o,l)},ns={sqrtImage:wJ,sizedDelim:SJ,sizeToMaxHeight:V0,customSizedDelim:IO,leftRightDelim:CJ},JS={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},RJ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function u1(t,e){var n=o1(t);if(n&&RJ.includes(n.text))return n;throw n?new Ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ne("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=u1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:JS[t.funcName].size,mclass:JS[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?de.makeSpan([t.mclass]):ns.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(vi(t.delim,t.mode));var n=new Ie.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(ns.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function ex(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:u1(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=u1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=ct(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{ex(t);for(var n=zn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=rh(e,["mopen"]):c=ns.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(c),o)for(var h=1;h<n.length;h++){var f=n[h],m=f.isMiddle;m&&(n[h]=ns.leftRightDelim(m.delim,r,i,m.options,t.mode,[]))}var p;if(t.right===".")p=rh(e,["mclose"]);else{var y=t.rightColor?e.withColor(t.rightColor):e;p=ns.leftRightDelim(t.right,r,i,y,t.mode,["mclose"])}return n.push(p),de.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{ex(t);var n=Ar(t.body,e);if(t.left!=="."){var r=new Ie.MathNode("mo",[vi(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ie.MathNode("mo",[vi(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return X7(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=u1(e[0],t);if(!t.parser.leftrightDepth)throw new Ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=rh(e,[]);else{n=ns.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?vi("|","text"):vi(t.delim,t.mode),r=new Ie.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var J7=(t,e)=>{var n=de.wrapFragment(Et(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,l=0,c=At.isCharacterBox(t.body);if(r==="sout")o=de.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var h=tn({number:.6,unit:"pt"},e),f=tn({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=n.height+n.depth+h+f;n.style.paddingLeft=ke(p/2+h);var y=Math.floor(1e3*p*i),b=bW(y),E=new ls([new So("phase",b)],{width:"400em",height:ke(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});o=de.makeSvgSpan(["hide-tail"],[E],e),o.style.height=ke(p),l=n.depth+h+f}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var T=0,x=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),T=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),x=T):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),T=4*C,x=Math.max(0,.25-n.depth)):(T=c?.2:0,x=T),o=cs.encloseSpan(n,r,T,x,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=ke(C)):r==="angl"&&C!==.049&&(o.style.borderTopWidth=ke(C),o.style.borderRightWidth=ke(C)),l=n.depth+x,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var D;if(t.backgroundColor)D=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];D=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(D.height=n.height,D.depth=n.depth),/cancel/.test(r)&&!c?de.makeSpan(["mord","cancel-lap"],[D],e):de.makeSpan(["mord"],[D],e)},e_=(t,e)=>{var n=0,r=new Ie.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Pt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ct(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:l}},htmlBuilder:J7,mathmlBuilder:e_});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ct(e[0],"color-token").color,l=ct(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:o,body:c}},htmlBuilder:J7,mathmlBuilder:e_});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:J7,mathmlBuilder:e_});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var NO={};function va(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<n.length;++h)NO[n[h]]=c;o&&(_m[e]=o),l&&(bm[e]=l)}var MO={};function F(t,e){MO[t]=e}function tx(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var c1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ne("{"+t.envName+"} can be used only in display mode.")};function t_(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Co(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:f,emptySingleRow:m,maxNumCols:p,leqno:y}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Ne("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var E=[],T=[E],x=[],C=[],D=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function O(){D&&(t.gullet.macros.get("\\df@tag")?(D.push(t.subparse([new Fr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):D.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),C.push(tx(t));;){var U=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),E.push(U);var L=t.fetch().text;if(L==="&"){if(p&&E.length===p){if(f||c)throw new Ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(L==="\\end"){O(),E.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(T.length>1||!m)&&T.pop(),C.length<T.length+1&&C.push([]);break}else if(L==="\\\\"){t.consume();var I=void 0;t.gullet.future().text!==" "&&(I=t.parseSizeGroup(!0)),x.push(I?I.value:null),O(),C.push(tx(t)),E=[],T.push(E),A()}else throw new Ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:T,cols:o,rowGaps:x,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:c,tags:D,leqno:y}}function n_(t){return t.slice(0,1)==="d"?"display":"text"}var ya=function(e,n){var r,i,o=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(o),f=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,y=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(We.SCRIPT).sizeMultiplier;y=.2778*(b/n.sizeMultiplier)}var E=e.colSeparationType==="CD"?tn({number:3,unit:"ex"},n):12*p,T=3*p,x=e.arraystretch*E,C=.7*x,D=.3*x,A=0;function O(Bt){for(var st=0;st<Bt.length;++st)st>0&&(A+=.25),f.push({pos:A,isDashed:Bt[st]})}for(O(l[0]),r=0;r<e.body.length;++r){var U=e.body[r],L=C,I=D;c<U.length&&(c=U.length);var M=new Array(U.length);for(i=0;i<U.length;++i){var k=Et(U[i],n);I<k.depth&&(I=k.depth),L<k.height&&(L=k.height),M[i]=k}var H=e.rowGaps[r],V=0;H&&(V=tn(H,n),V>0&&(V+=D,I<V&&(I=V),V=0)),e.addJot&&(I+=T),M.height=L,M.depth=I,A+=L,M.pos=A,A+=I+V,h[r]=M,O(l[r+1])}var B=A/2+n.fontMetrics().axisHeight,P=e.cols||[],K=[],te,$,W=[];if(e.tags&&e.tags.some(Bt=>Bt))for(r=0;r<o;++r){var re=h[r],oe=re.pos-B,ye=e.tags[r],Y=void 0;ye===!0?Y=de.makeSpan(["eqn-num"],[],n):ye===!1?Y=de.makeSpan([],[],n):Y=de.makeSpan([],zn(ye,n,!0),n),Y.depth=re.depth,Y.height=re.height,W.push({type:"elem",elem:Y,shift:oe})}for(i=0,$=0;i<c||$<P.length;++i,++$){for(var ee=P[$]||{},pe=!0;ee.type==="separator";){if(pe||(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(n.fontMetrics().doubleRuleSep),K.push(te)),ee.separator==="|"||ee.separator===":"){var Q=ee.separator==="|"?"solid":"dashed",ie=de.makeSpan(["vertical-separator"],[],n);ie.style.height=ke(A),ie.style.borderRightWidth=ke(m),ie.style.borderRightStyle=Q,ie.style.margin="0 "+ke(-m/2);var ue=A-B;ue&&(ie.style.verticalAlign=ke(-ue)),K.push(ie)}else throw new Ne("Invalid separator type: "+ee.separator);$++,ee=P[$]||{},pe=!1}if(!(i>=c)){var ge=void 0;(i>0||e.hskipBeforeAndAfter)&&(ge=At.deflt(ee.pregap,y),ge!==0&&(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(ge),K.push(te)));var be=[];for(r=0;r<o;++r){var Ce=h[r],Ve=Ce[i];if(Ve){var je=Ce.pos-B;Ve.depth=Ce.depth,Ve.height=Ce.height,be.push({type:"elem",elem:Ve,shift:je})}}be=de.makeVList({positionType:"individualShift",children:be},n),be=de.makeSpan(["col-align-"+(ee.align||"c")],[be]),K.push(be),(i<c-1||e.hskipBeforeAndAfter)&&(ge=At.deflt(ee.postgap,y),ge!==0&&(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(ge),K.push(te)))}}if(h=de.makeSpan(["mtable"],K),f.length>0){for(var He=de.makeLineSpan("hline",n,m),Pe=de.makeLineSpan("hdashline",n,m),Ge=[{type:"elem",elem:h,shift:0}];f.length>0;){var Be=f.pop(),it=Be.pos-B;Be.isDashed?Ge.push({type:"elem",elem:Pe,shift:it}):Ge.push({type:"elem",elem:He,shift:it})}h=de.makeVList({positionType:"individualShift",children:Ge},n)}if(W.length===0)return de.makeSpan(["mord"],[h],n);var $e=de.makeVList({positionType:"individualShift",children:W},n);return $e=de.makeSpan(["tag"],[$e],n),de.makeFragment([h,$e])},IJ={c:"center ",l:"left ",r:"right "},_a=function(e,n){for(var r=[],i=new Ie.MathNode("mtd",[],["mtr-glue"]),o=new Ie.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],f=0;f<c.length;f++)h.push(new Ie.MathNode("mtd",[Pt(c[f],n)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(o):h.push(o)),r.push(new Ie.MathNode("mtr",h))}var m=new Ie.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ke(p));var y="",b="";if(e.cols&&e.cols.length>0){var E=e.cols,T="",x=!1,C=0,D=E.length;E[0].type==="separator"&&(y+="top ",C=1),E[E.length-1].type==="separator"&&(y+="bottom ",D-=1);for(var A=C;A<D;A++)E[A].type==="align"?(b+=IJ[E[A].align],x&&(T+="none "),x=!0):E[A].type==="separator"&&x&&(T+=E[A].separator==="|"?"solid ":"dashed ",x=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(T)&&m.setAttribute("columnlines",T.trim())}if(e.colSeparationType==="align"){for(var O=e.cols||[],U="",L=1;L<O.length;L++)U+=L%2?"0em ":"1em ";m.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var I="",M=e.hLinesBeforeRow;y+=M[0].length>0?"left ":"",y+=M[M.length-1].length>0?"right ":"";for(var k=1;k<M.length-1;k++)I+=M[k].length===0?"none ":M[k][0]?"dashed ":"solid ";return/[sd]/.test(I)&&m.setAttribute("rowlines",I.trim()),y!==""&&(m=new Ie.MathNode("menclose",[m]),m.setAttribute("notation",y.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ie.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},kO=function(e,n){e.envName.indexOf("ed")===-1&&c1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",l=Co(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:t_(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",p=0;p<n[0].body.length;p++){var y=ct(n[0].body[p],"textord");m+=y.text}c=Number(m),h=c*2}var b=!h;l.body.forEach(function(C){for(var D=1;D<C.length;D+=2){var A=ct(C[D],"styling"),O=ct(A.body[0],"ordgroup");O.body.unshift(f)}if(b)h<C.length&&(h=C.length);else{var U=C.length/2;if(c<U)throw new Ne("Too many math in a row: "+("expected "+c+", but got "+U),C[0])}});for(var E=0;E<h;++E){var T="r",x=0;E%2===1?T="l":E>0&&b&&(x=1),r[E]={type:"align",align:T,pregap:x,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};va({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=o1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=Q7(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Ne("Unknown column alignment: "+h,l)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Co(t.parser,o,n_(t.envName))},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Co(t.parser,r,n_(t.envName)),l=Math.max(0,...o.body.map(c=>c.length));return o.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Co(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=o1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=Q7(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Ne("Unknown column alignment: "+h,l)});if(i.length>1)throw new Ne("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Co(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new Ne("{subarray} can contain only one column");return o},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Co(t.parser,e,n_(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:kO,htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&c1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:t_(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Co(t.parser,e,"display")},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:kO,htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){c1(t);var e={autoTag:t_(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Co(t.parser,e,"display")},htmlBuilder:ya,mathmlBuilder:_a});va({type:"array",names:["CD"],props:{numArgs:0},handler(t){return c1(t),pJ(t.parser)},htmlBuilder:ya,mathmlBuilder:_a});F("\\nonumber","\\gdef\\@eqnsw{0}");F("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ne(t.funcName+" valid only within array environment")}});var nx=NO;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ne("Invalid environment name",i);for(var o="",l=0;l<i.body.length;++l)o+=ct(i.body[l],"textord").text;if(r==="\\begin"){if(!nx.hasOwnProperty(o))throw new Ne("No such environment: "+o,i);var c=nx[o],{args:h,optArgs:f}=n.parseArguments("\\begin{"+o+"}",c),m={mode:n.mode,envName:o,parser:n},p=c.handler(m,h,f);n.expect("\\end",!1);var y=n.nextToken,b=ct(n.parseFunction(),"environment");if(b.name!==o)throw new Ne("Mismatch: \\begin{"+o+"} matched by \\end{"+b.name+"}",y);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var DO=(t,e)=>{var n=t.font,r=e.withFont(n);return Et(t.body,r)},OO=(t,e)=>{var n=t.font,r=e.withFont(n);return Pt(t.body,r)},rx={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=wm(e[0]),o=r;return o in rx&&(o=rx[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:DO,mathmlBuilder:OO});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=At.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:l1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,l=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:o,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:DO,mathmlBuilder:OO});var zO=(t,e)=>{var n=e;return t==="display"?n=n.id>=We.SCRIPT.id?n.text():We.DISPLAY:t==="text"&&n.size===We.DISPLAY.size?n=We.TEXT:t==="script"?n=We.SCRIPT:t==="scriptscript"&&(n=We.SCRIPTSCRIPT),n},r_=(t,e)=>{var n=zO(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var l=Et(t.numer,o,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}o=e.havingStyle(i);var f=Et(t.denom,o,e),m,p,y;t.hasBarLine?(t.barSize?(p=tn(t.barSize,e),m=de.makeLineSpan("frac-line",e,p)):m=de.makeLineSpan("frac-line",e),p=m.height,y=m.height):(m=null,p=0,y=e.fontMetrics().defaultRuleThickness);var b,E,T;n.size===We.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?E=3*y:E=7*y,T=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,E=y):(b=e.fontMetrics().num3,E=3*y),T=e.fontMetrics().denom2);var x;if(m){var D=e.fontMetrics().axisHeight;b-l.depth-(D+.5*p)<E&&(b+=E-(b-l.depth-(D+.5*p))),D-.5*p-(f.height-T)<E&&(T+=E-(D-.5*p-(f.height-T)));var A=-(D-.5*p);x=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:T},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var C=b-l.depth-(f.height-T);C<E&&(b+=.5*(E-C),T+=.5*(E-C)),x=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:T},{type:"elem",elem:l,shift:-b}]},e)}o=e.havingStyle(n),x.height*=o.sizeMultiplier/e.sizeMultiplier,x.depth*=o.sizeMultiplier/e.sizeMultiplier;var O;n.size===We.DISPLAY.size?O=e.fontMetrics().delim1:n.size===We.SCRIPTSCRIPT.size?O=e.havingStyle(We.SCRIPT).fontMetrics().delim2:O=e.fontMetrics().delim2;var U,L;return t.leftDelim==null?U=rh(e,["mopen"]):U=ns.customSizedDelim(t.leftDelim,O,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?L=de.makeSpan([]):t.rightDelim==null?L=rh(e,["mclose"]):L=ns.customSizedDelim(t.rightDelim,O,!0,e.havingStyle(n),t.mode,["mclose"]),de.makeSpan(["mord"].concat(o.sizingClasses(e)),[U,de.makeSpan(["mfrac"],[x]),L],e)},i_=(t,e)=>{var n=new Ie.MathNode("mfrac",[Pt(t.numer,e),Pt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=tn(t.barSize,e);n.setAttribute("linethickness",ke(r))}var i=zO(t.size,e.style);if(i.size!==e.style.size){n=new Ie.MathNode("mstyle",[n]);var o=i.size===We.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ie.MathNode("mo",[new Ie.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var h=new Ie.MathNode("mo",[new Ie.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return X7(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],l,c=null,h=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:l,leftDelim:c,rightDelim:h,size:f,barSize:null}},htmlBuilder:r_,mathmlBuilder:i_});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var ix=["display","text","script","scriptscript"],ax=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=wm(e[0]),l=o.type==="atom"&&o.family==="open"?ax(o.text):null,c=wm(e[1]),h=c.type==="atom"&&c.family==="close"?ax(c.text):null,f=ct(e[2],"size"),m,p=null;f.isBlank?m=!0:(p=f.value,m=p.number>0);var y="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var E=ct(b.body[0],"textord");y=ix[Number(E.text)]}}else b=ct(b,"textord"),y=ix[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:h,size:y}},htmlBuilder:r_,mathmlBuilder:i_});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ct(e[0],"size").value,token:i}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=aW(ct(e[1],"infix").size),l=e[2],c=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:r_,mathmlBuilder:i_});var VO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Et(t.sup,e.havingStyle(n.sup()),e):Et(t.sub,e.havingStyle(n.sub()),e),i=ct(t.base,"horizBrace")):i=ct(t,"horizBrace");var o=Et(i.base,e.havingBaseStyle(We.DISPLAY)),l=cs.svgSpan(i,e),c;if(i.isOver?(c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=de.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),r){var h=de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},e):c=de.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},NJ=(t,e)=>{var n=cs.mathMLnode(t.label);return new Ie.MathNode(t.isOver?"mover":"munder",[Pt(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:VO,mathmlBuilder:NJ});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ct(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:yn(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=zn(t.body,e,!1);return de.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=xo(t.body,e);return n instanceof Ur||(n=new Ur("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ct(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:yn(c)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:yn(e[0])}},htmlBuilder(t,e){var n=zn(t.body,e,!1);return de.makeFragment(n)},mathmlBuilder(t,e){return new Ie.MathNode("mrow",Ar(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=ct(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(r){case"\\htmlClass":h.class=o,c={command:"\\htmlClass",class:o};break;case"\\htmlId":h.id=o,c={command:"\\htmlId",id:o};break;case"\\htmlStyle":h.style=o,c={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var f=o.split(","),m=0;m<f.length;m++){var p=f[m],y=p.indexOf("=");if(y<0)throw new Ne("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,y),E=p.slice(y+1);h["data-"+b.trim()]=E}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:h,body:yn(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=zn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=de.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>xo(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:yn(e[0]),mathml:yn(e[1])}},htmlBuilder:(t,e)=>{var n=zn(t.html,e,!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>xo(t.mathml,e)});var fv=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!tO(r))throw new Ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var h=ct(n[0],"raw").string,f=h.split(","),m=0;m<f.length;m++){var p=f[m].split("=");if(p.length===2){var y=p[1].trim();switch(p[0].trim()){case"alt":c=y;break;case"width":i=fv(y);break;case"height":o=fv(y);break;case"totalheight":l=fv(y);break;default:throw new Ne("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=ct(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:o,totalheight:l,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=tn(t.height,e),r=0;t.totalheight.number>0&&(r=tn(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=tn(t.width,e));var o={height:ke(n+r)};i>0&&(o.width=ke(i)),r>0&&(o.verticalAlign=ke(-r));var l=new NW(t.src,t.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=tn(t.height,e),i=0;if(t.totalheight.number>0&&(i=tn(t.totalheight,e)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),t.width.number>0){var o=tn(t.width,e);n.setAttribute("width",ke(o))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ct(e[0],"size");if(n.settings.strict){var o=r[1]==="m",l=i.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return de.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=tn(t.dimension,e);return new Ie.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=de.makeSpan([],[Et(t.body,e)]),n=de.makeSpan(["inner"],[n],e)):n=de.makeSpan(["inner"],[Et(t.body,e)]);var r=de.makeSpan(["fix"],[]),i=de.makeSpan([t.alignment],[n,r],e),o=de.makeSpan(["strut"]);return o.style.height=ke(i.height+i.depth),i.depth&&(o.style.verticalAlign=ke(-i.depth)),i.children.unshift(o),i=de.makeSpan(["thinbox"],[i],e),de.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Pt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ne("Mismatched "+t.funcName)}});var sx=(t,e)=>{switch(e.style.size){case We.DISPLAY.size:return t.display;case We.TEXT.size:return t.text;case We.SCRIPT.size:return t.script;case We.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:yn(e[0]),text:yn(e[1]),script:yn(e[2]),scriptscript:yn(e[3])}},htmlBuilder:(t,e)=>{var n=sx(t,e),r=zn(n,e,!1);return de.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=sx(t,e);return xo(n,e)}});var qO=(t,e,n,r,i,o,l)=>{t=de.makeSpan([],[t]);var c=n&&At.isCharacterBox(n),h,f;if(e){var m=Et(e,r.havingStyle(i.sup()),r);f={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var p=Et(n,r.havingStyle(i.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var y;if(f&&h){var b=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;y=de.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-o)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var E=t.height-l;y=de.makeVList({positionType:"top",positionData:E,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-o)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},r)}else if(f){var T=t.depth+l;y=de.makeVList({positionType:"bottom",positionData:T,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var x=[y];if(h&&o!==0&&!c){var C=de.makeSpan(["mspace"],[],r);C.style.marginRight=ke(o),x.unshift(C)}return de.makeSpan(["mop","op-limits"],x,r)},LO=["\\smallint"],mc=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ct(t.base,"op"),i=!0):o=ct(t,"op");var l=e.style,c=!1;l.size===We.DISPLAY.size&&o.symbol&&!LO.includes(o.name)&&(c=!0);var h;if(o.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(m=o.name.slice(1),o.name=m==="oiint"?"\\iint":"\\iiint"),h=de.makeSymbol(o.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=h.italic,y=de.staticSvg(m+"Size"+(c?"2":"1"),e);h=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:y,shift:c?.08:0}]},e),o.name="\\"+m,h.classes.unshift("mop"),h.italic=p}}else if(o.body){var b=zn(o.body,e,!0);b.length===1&&b[0]instanceof gi?(h=b[0],h.classes[0]="mop"):h=de.makeSpan(["mop"],b,e)}else{for(var E=[],T=1;T<o.name.length;T++)E.push(de.mathsym(o.name[T],o.mode,e));h=de.makeSpan(["mop"],E,e)}var x=0,C=0;return(h instanceof gi||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(x=(h.height-h.depth)/2-e.fontMetrics().axisHeight,C=h.italic),i?qO(h,n,r,e,l,C,x):(x&&(h.style.position="relative",h.style.top=ke(x)),h)},Ah=(t,e)=>{var n;if(t.symbol)n=new Ur("mo",[vi(t.name,t.mode)]),LO.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ur("mo",Ar(t.body,e));else{n=new Ur("mi",[new sa(t.name.slice(1))]);var r=new Ur("mo",[vi("","text")]);t.parentIsSupSub?n=new Ur("mrow",[n,r]):n=fO([n,r])}return n},MJ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=MJ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:mc,mathmlBuilder:Ah});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yn(r)}},htmlBuilder:mc,mathmlBuilder:Ah});var kJ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:mc,mathmlBuilder:Ah});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:mc,mathmlBuilder:Ah});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=kJ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:mc,mathmlBuilder:Ah});var PO=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ct(t.base,"operatorname"),i=!0):o=ct(t,"operatorname");var l;if(o.body.length>0){for(var c=o.body.map(p=>{var y=p.text;return typeof y=="string"?{type:"textord",mode:p.mode,text:y}:p}),h=zn(c,e.withFont("mathrm"),!0),f=0;f<h.length;f++){var m=h[f];m instanceof gi&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=de.makeSpan(["mop"],h,e)}else l=de.makeSpan(["mop"],[],e);return i?qO(l,n,r,e,e.style,0,0):l},DJ=(t,e)=>{for(var n=Ar(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof Ie.SpaceNode))if(o instanceof Ie.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof Ie.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(m=>m.toText()).join("");n=[new Ie.TextNode(c)]}var h=new Ie.MathNode("mi",n);h.setAttribute("mathvariant","normal");var f=new Ie.MathNode("mo",[vi("","text")]);return t.parentIsSupSub?new Ie.MathNode("mrow",[h,f]):Ie.newDocumentFragment([h,f])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:yn(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:PO,mathmlBuilder:DJ});F("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Rl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?de.makeFragment(zn(t.body,e,!1)):de.makeSpan(["mord"],zn(t.body,e,!0),e)},mathmlBuilder(t,e){return xo(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Et(t.body,e.havingCrampedStyle()),r=de.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return de.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("mover",[Pt(t.body,e),n]);return r.setAttribute("accent","true"),r}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:yn(r)}},htmlBuilder:(t,e)=>{var n=zn(t.body,e.withPhantom(),!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ar(t.body,e);return new Ie.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[Et(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),de.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ar(yn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan(["inner"],[Et(t.body,e.withPhantom())]),r=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Ar(yn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ct(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Et(t.body,e),r=tn(t.dy,e);return de.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mpadded",[Pt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=ct(e[0],"size"),l=ct(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ct(i,"size").value,width:o.value,height:l.value}},htmlBuilder(t,e){var n=de.makeSpan(["mord","rule"],[],e),r=tn(t.width,e),i=tn(t.height,e),o=t.shift?tn(t.shift,e):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=tn(t.width,e),r=tn(t.height,e),i=t.shift?tn(t.shift,e):0,o=e.color&&e.getColor()||"black",l=new Ie.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(r));var c=new Ie.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function BO(t,e,n){for(var r=zn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+e.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return de.makeFragment(r)}var ox=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],OJ=(t,e)=>{var n=e.havingSize(t.size);return BO(t.body,n,e)};ze({type:"sizing",names:ox,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:ox.indexOf(r)+1,body:o}},htmlBuilder:OJ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Ar(t.body,n),i=new Ie.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,l=n[0]&&ct(n[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var f=l.body[h];if(c=f.text,c==="t")i=!0;else if(c==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var m=e[0];return{type:"smash",mode:r.mode,body:m,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[Et(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return de.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Pt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=Et(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=de.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<We.TEXT.id&&(o=e.fontMetrics().xHeight);var l=i+o/4,c=n.height+n.depth+l+i,{span:h,ruleWidth:f,advanceWidth:m}=ns.sqrtImage(c,e),p=h.height-f;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var y=h.height-n.height-l-f;n.style.paddingLeft=ke(m);var b=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+y)},{type:"elem",elem:h},{type:"kern",size:f}]},e);if(t.index){var E=e.havingStyle(We.SCRIPTSCRIPT),T=Et(t.index,E,e),x=.6*(b.height-b.depth),C=de.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:T}]},e),D=de.makeSpan(["root"],[C]);return de.makeSpan(["mord","sqrt"],[D,b],e)}else return de.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ie.MathNode("mroot",[Pt(n,e),Pt(r,e)]):new Ie.MathNode("msqrt",[Pt(n,e)])}});var lx={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:o}},htmlBuilder(t,e){var n=lx[t.style],r=e.havingStyle(n).withFont("");return BO(t.body,r,e)},mathmlBuilder(t,e){var n=lx[t.style],r=e.havingStyle(n),i=Ar(t.body,r),o=new Ie.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return o.setAttribute("scriptlevel",c[0]),o.setAttribute("displaystyle",c[1]),o}});var zJ=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===We.DISPLAY.size||r.alwaysHandleSupSub);return i?mc:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===We.DISPLAY.size||r.limits);return o?PO:null}else{if(r.type==="accent")return At.isCharacterBox(r.base)?Z7:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?VO:null}else return null}else return null};Rl({type:"supsub",htmlBuilder(t,e){var n=zJ(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,l=Et(r,e),c,h,f=e.fontMetrics(),m=0,p=0,y=r&&At.isCharacterBox(r);if(i){var b=e.havingStyle(e.style.sup());c=Et(i,b,e),y||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(o){var E=e.havingStyle(e.style.sub());h=Et(o,E,e),y||(p=l.depth+E.fontMetrics().subDrop*E.sizeMultiplier/e.sizeMultiplier)}var T;e.style===We.DISPLAY?T=f.sup1:e.style.cramped?T=f.sup3:T=f.sup2;var x=e.sizeMultiplier,C=ke(.5/f.ptPerEm/x),D=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof gi||A)&&(D=ke(-l.italic))}var O;if(c&&h){m=Math.max(m,T,c.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var U=f.defaultRuleThickness,L=4*U;if(m-c.depth-(h.height-p)<L){p=L-(m-c.depth)+h.height;var I=.8*f.xHeight-(m-c.depth);I>0&&(m+=I,p-=I)}var M=[{type:"elem",elem:h,shift:p,marginRight:C,marginLeft:D},{type:"elem",elem:c,shift:-m,marginRight:C}];O=de.makeVList({positionType:"individualShift",children:M},e)}else if(h){p=Math.max(p,f.sub1,h.height-.8*f.xHeight);var k=[{type:"elem",elem:h,marginLeft:D,marginRight:C}];O=de.makeVList({positionType:"shift",positionData:p,children:k},e)}else if(c)m=Math.max(m,T,c.depth+.25*f.xHeight),O=de.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var H=T6(l,"right")||"mord";return de.makeSpan([H],[l,de.makeSpan(["msupsub"],[O])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[Pt(t.base,e)];t.sub&&o.push(Pt(t.sub,e)),t.sup&&o.push(Pt(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===We.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===We.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===We.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===We.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===We.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===We.DISPLAY)?l="mover":l="msup"}return new Ie.MathNode(l,o)}});Rl({type:"atom",htmlBuilder(t,e){return de.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[vi(t.text,t.mode)]);if(t.family==="bin"){var r=K7(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var UO={mi:"italic",mn:"normal",mtext:"normal"};Rl({type:"mathord",htmlBuilder(t,e){return de.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ie.MathNode("mi",[vi(t.text,t.mode,e)]),r=K7(t,e)||"italic";return r!==UO[n.type]&&n.setAttribute("mathvariant",r),n}});Rl({type:"textord",htmlBuilder(t,e){return de.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=vi(t.text,t.mode,e),r=K7(t,e)||"normal",i;return t.mode==="text"?i=new Ie.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ie.MathNode("mn",[n]):t.text==="\\prime"?i=new Ie.MathNode("mo",[n]):i=new Ie.MathNode("mi",[n]),r!==UO[i.type]&&i.setAttribute("mathvariant",r),i}});var dv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},mv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Rl({type:"spacing",htmlBuilder(t,e){if(mv.hasOwnProperty(t.text)){var n=mv[t.text].className||"";if(t.mode==="text"){var r=de.makeOrd(t,e,"textord");return r.classes.push(n),r}else return de.makeSpan(["mspace",n],[de.mathsym(t.text,t.mode,e)],e)}else{if(dv.hasOwnProperty(t.text))return de.makeSpan(["mspace",dv[t.text]],[],e);throw new Ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(mv.hasOwnProperty(t.text))n=new Ie.MathNode("mtext",[new Ie.TextNode("")]);else{if(dv.hasOwnProperty(t.text))return new Ie.MathNode("mspace");throw new Ne('Unknown type of space "'+t.text+'"')}return n}});var ux=()=>{var t=new Ie.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Rl({type:"tag",mathmlBuilder(t,e){var n=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[ux(),new Ie.MathNode("mtd",[xo(t.body,e)]),ux(),new Ie.MathNode("mtd",[xo(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var cx={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},hx={"\\textbf":"textbf","\\textmd":"textmd"},VJ={"\\textit":"textit","\\textup":"textup"},fx=(t,e)=>{var n=t.font;if(n){if(cx[n])return e.withTextFontFamily(cx[n]);if(hx[n])return e.withTextFontWeight(hx[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(VJ[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:yn(i),font:r}},htmlBuilder(t,e){var n=fx(t,e),r=zn(t.body,n,!0);return de.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=fx(t,e);return xo(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Et(t.body,e),r=de.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("munder",[Pt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Et(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return de.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ie.MathNode("mpadded",[Pt(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=dx(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(de.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(i.sizingClasses(e)),de.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ie.TextNode(dx(t)),r=new Ie.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var dx=t=>t.body.replace(/ /g,t.star?"":""),oo=cO,HO=`[ \r
	]`,qJ="\\\\[a-zA-Z@]+",LJ="\\\\[^\uD800-\uDFFF]",PJ="("+qJ+")"+HO+"*",BJ=`\\\\(
|[ \r	]+
?)[ \r	]*`,I6="[-]",UJ=new RegExp(I6+"+$"),HJ="("+HO+"+)|"+(BJ+"|")+"([!-\\[\\]---]"+(I6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(I6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+PJ)+("|"+LJ+")");class mx{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(HJ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Fr("EOF",new Sr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ne("Unexpected character: '"+e[n]+"'",new Fr(e[n],new Sr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Fr(i,new Sr(this,n,this.tokenRegex.lastIndex))}}class jJ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var FJ=MO;F("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});F("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});F("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});F("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});F("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});F("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");F("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var px={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};F("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=px[e.text],r==null||r>=n)throw new Ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=px[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var a_=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ne("\\newcommand's first argument must be a macro name");var o=i[0].text,l=t.isDefined(o);if(l&&!e)throw new Ne("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new Ne("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Ne("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&r||t.macros.set(o,{tokens:i,numArgs:c}),""};F("\\newcommand",t=>a_(t,!1,!0,!1));F("\\renewcommand",t=>a_(t,!0,!1,!1));F("\\providecommand",t=>a_(t,!0,!0,!0));F("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});F("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});F("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),oo[n],Ut.math[n],Ut.text[n]),""});F("\\bgroup","{");F("\\egroup","}");F("~","\\nobreakspace");F("\\lq","`");F("\\rq","'");F("\\aa","\\r a");F("\\AA","\\r A");F("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");F("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");F("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");F("","\\mathscr{B}");F("","\\mathscr{E}");F("","\\mathscr{F}");F("","\\mathscr{H}");F("","\\mathscr{I}");F("","\\mathscr{L}");F("","\\mathscr{M}");F("","\\mathscr{R}");F("","\\mathfrak{C}");F("","\\mathfrak{H}");F("","\\mathfrak{Z}");F("\\Bbbk","\\Bbb{k}");F("","\\cdotp");F("\\llap","\\mathllap{\\textrm{#1}}");F("\\rlap","\\mathrlap{\\textrm{#1}}");F("\\clap","\\mathclap{\\textrm{#1}}");F("\\mathstrut","\\vphantom{(}");F("\\underbar","\\underline{\\text{#1}}");F("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');F("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");F("\\ne","\\neq");F("","\\neq");F("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");F("","\\notin");F("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");F("","\\perp");F("","\\mathclose{!\\mkern-0.8mu!}");F("","\\notni");F("","\\ulcorner");F("","\\urcorner");F("","\\llcorner");F("","\\lrcorner");F("","\\copyright");F("","\\textregistered");F("","\\textregistered");F("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');F("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');F("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');F("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');F("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");F("","\\vdots");F("\\varGamma","\\mathit{\\Gamma}");F("\\varDelta","\\mathit{\\Delta}");F("\\varTheta","\\mathit{\\Theta}");F("\\varLambda","\\mathit{\\Lambda}");F("\\varXi","\\mathit{\\Xi}");F("\\varPi","\\mathit{\\Pi}");F("\\varSigma","\\mathit{\\Sigma}");F("\\varUpsilon","\\mathit{\\Upsilon}");F("\\varPhi","\\mathit{\\Phi}");F("\\varPsi","\\mathit{\\Psi}");F("\\varOmega","\\mathit{\\Omega}");F("\\substack","\\begin{subarray}{c}#1\\end{subarray}");F("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");F("\\boxed","\\fbox{$\\displaystyle{#1}$}");F("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");F("\\implies","\\DOTSB\\;\\Longrightarrow\\;");F("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");F("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");F("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var gx={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};F("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in gx?e=gx[n]:(n.slice(0,4)==="\\not"||n in Ut.math&&["bin","rel"].includes(Ut.math[n].group))&&(e="\\dotsb"),e});var s_={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};F("\\dotso",function(t){var e=t.future().text;return e in s_?"\\ldots\\,":"\\ldots"});F("\\dotsc",function(t){var e=t.future().text;return e in s_&&e!==","?"\\ldots\\,":"\\ldots"});F("\\cdots",function(t){var e=t.future().text;return e in s_?"\\@cdots\\,":"\\@cdots"});F("\\dotsb","\\cdots");F("\\dotsm","\\cdots");F("\\dotsi","\\!\\cdots");F("\\dotsx","\\ldots\\,");F("\\DOTSI","\\relax");F("\\DOTSB","\\relax");F("\\DOTSX","\\relax");F("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");F("\\,","\\tmspace+{3mu}{.1667em}");F("\\thinspace","\\,");F("\\>","\\mskip{4mu}");F("\\:","\\tmspace+{4mu}{.2222em}");F("\\medspace","\\:");F("\\;","\\tmspace+{5mu}{.2777em}");F("\\thickspace","\\;");F("\\!","\\tmspace-{3mu}{.1667em}");F("\\negthinspace","\\!");F("\\negmedspace","\\tmspace-{4mu}{.2222em}");F("\\negthickspace","\\tmspace-{5mu}{.277em}");F("\\enspace","\\kern.5em ");F("\\enskip","\\hskip.5em\\relax");F("\\quad","\\hskip1em\\relax");F("\\qquad","\\hskip2em\\relax");F("\\tag","\\@ifstar\\tag@literal\\tag@paren");F("\\tag@paren","\\tag@literal{({#1})}");F("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});F("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");F("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");F("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");F("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");F("\\newline","\\\\\\relax");F("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var jO=ke(aa["Main-Regular"][84][1]-.7*aa["Main-Regular"][65][1]);F("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+jO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");F("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+jO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");F("\\hspace","\\@ifstar\\@hspacer\\@hspace");F("\\@hspace","\\hskip #1\\relax");F("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");F("\\ordinarycolon",":");F("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");F("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');F("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');F("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');F("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');F("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');F("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');F("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');F("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');F("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');F("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');F("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');F("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');F("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');F("","\\dblcolon");F("","\\eqcolon");F("","\\coloneqq");F("","\\eqqcolon");F("","\\Coloneqq");F("\\ratio","\\vcentcolon");F("\\coloncolon","\\dblcolon");F("\\colonequals","\\coloneqq");F("\\coloncolonequals","\\Coloneqq");F("\\equalscolon","\\eqqcolon");F("\\equalscoloncolon","\\Eqqcolon");F("\\colonminus","\\coloneq");F("\\coloncolonminus","\\Coloneq");F("\\minuscolon","\\eqcolon");F("\\minuscoloncolon","\\Eqcolon");F("\\coloncolonapprox","\\Colonapprox");F("\\coloncolonsim","\\Colonsim");F("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");F("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");F("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");F("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");F("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");F("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");F("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");F("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");F("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");F("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");F("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");F("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");F("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");F("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");F("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");F("\\ngeqq","\\html@mathml{\\@ngeqq}{}");F("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");F("\\nleqq","\\html@mathml{\\@nleqq}{}");F("\\nleqslant","\\html@mathml{\\@nleqslant}{}");F("\\nshortmid","\\html@mathml{\\@nshortmid}{}");F("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");F("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");F("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");F("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");F("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");F("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");F("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");F("\\imath","\\html@mathml{\\@imath}{}");F("\\jmath","\\html@mathml{\\@jmath}{}");F("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");F("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");F("","\\llbracket");F("","\\rrbracket");F("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");F("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");F("","\\lBrace");F("","\\rBrace");F("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");F("","\\minuso");F("\\darr","\\downarrow");F("\\dArr","\\Downarrow");F("\\Darr","\\Downarrow");F("\\lang","\\langle");F("\\rang","\\rangle");F("\\uarr","\\uparrow");F("\\uArr","\\Uparrow");F("\\Uarr","\\Uparrow");F("\\N","\\mathbb{N}");F("\\R","\\mathbb{R}");F("\\Z","\\mathbb{Z}");F("\\alef","\\aleph");F("\\alefsym","\\aleph");F("\\Alpha","\\mathrm{A}");F("\\Beta","\\mathrm{B}");F("\\bull","\\bullet");F("\\Chi","\\mathrm{X}");F("\\clubs","\\clubsuit");F("\\cnums","\\mathbb{C}");F("\\Complex","\\mathbb{C}");F("\\Dagger","\\ddagger");F("\\diamonds","\\diamondsuit");F("\\empty","\\emptyset");F("\\Epsilon","\\mathrm{E}");F("\\Eta","\\mathrm{H}");F("\\exist","\\exists");F("\\harr","\\leftrightarrow");F("\\hArr","\\Leftrightarrow");F("\\Harr","\\Leftrightarrow");F("\\hearts","\\heartsuit");F("\\image","\\Im");F("\\infin","\\infty");F("\\Iota","\\mathrm{I}");F("\\isin","\\in");F("\\Kappa","\\mathrm{K}");F("\\larr","\\leftarrow");F("\\lArr","\\Leftarrow");F("\\Larr","\\Leftarrow");F("\\lrarr","\\leftrightarrow");F("\\lrArr","\\Leftrightarrow");F("\\Lrarr","\\Leftrightarrow");F("\\Mu","\\mathrm{M}");F("\\natnums","\\mathbb{N}");F("\\Nu","\\mathrm{N}");F("\\Omicron","\\mathrm{O}");F("\\plusmn","\\pm");F("\\rarr","\\rightarrow");F("\\rArr","\\Rightarrow");F("\\Rarr","\\Rightarrow");F("\\real","\\Re");F("\\reals","\\mathbb{R}");F("\\Reals","\\mathbb{R}");F("\\Rho","\\mathrm{P}");F("\\sdot","\\cdot");F("\\sect","\\S");F("\\spades","\\spadesuit");F("\\sub","\\subset");F("\\sube","\\subseteq");F("\\supe","\\supseteq");F("\\Tau","\\mathrm{T}");F("\\thetasym","\\vartheta");F("\\weierp","\\wp");F("\\Zeta","\\mathrm{Z}");F("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");F("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");F("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");F("\\bra","\\mathinner{\\langle{#1}|}");F("\\ket","\\mathinner{|{#1}\\rangle}");F("\\braket","\\mathinner{\\langle{#1}\\rangle}");F("\\Bra","\\left\\langle#1\\right|");F("\\Ket","\\left|#1\\right\\rangle");var FO=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=p=>y=>{t&&(y.macros.set("|",l),i.length&&y.macros.set("\\|",c));var b=p;if(!p&&i.length){var E=y.future();E.text==="|"&&(y.popToken(),b=!0)}return{tokens:b?i:r,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...o,...f,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};F("\\bra@ket",FO(!1));F("\\bra@set",FO(!0));F("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");F("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");F("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");F("\\angln","{\\angl n}");F("\\blue","\\textcolor{##6495ed}{#1}");F("\\orange","\\textcolor{##ffa500}{#1}");F("\\pink","\\textcolor{##ff00af}{#1}");F("\\red","\\textcolor{##df0030}{#1}");F("\\green","\\textcolor{##28ae7b}{#1}");F("\\gray","\\textcolor{gray}{#1}");F("\\purple","\\textcolor{##9d38bd}{#1}");F("\\blueA","\\textcolor{##ccfaff}{#1}");F("\\blueB","\\textcolor{##80f6ff}{#1}");F("\\blueC","\\textcolor{##63d9ea}{#1}");F("\\blueD","\\textcolor{##11accd}{#1}");F("\\blueE","\\textcolor{##0c7f99}{#1}");F("\\tealA","\\textcolor{##94fff5}{#1}");F("\\tealB","\\textcolor{##26edd5}{#1}");F("\\tealC","\\textcolor{##01d1c1}{#1}");F("\\tealD","\\textcolor{##01a995}{#1}");F("\\tealE","\\textcolor{##208170}{#1}");F("\\greenA","\\textcolor{##b6ffb0}{#1}");F("\\greenB","\\textcolor{##8af281}{#1}");F("\\greenC","\\textcolor{##74cf70}{#1}");F("\\greenD","\\textcolor{##1fab54}{#1}");F("\\greenE","\\textcolor{##0d923f}{#1}");F("\\goldA","\\textcolor{##ffd0a9}{#1}");F("\\goldB","\\textcolor{##ffbb71}{#1}");F("\\goldC","\\textcolor{##ff9c39}{#1}");F("\\goldD","\\textcolor{##e07d10}{#1}");F("\\goldE","\\textcolor{##a75a05}{#1}");F("\\redA","\\textcolor{##fca9a9}{#1}");F("\\redB","\\textcolor{##ff8482}{#1}");F("\\redC","\\textcolor{##f9685d}{#1}");F("\\redD","\\textcolor{##e84d39}{#1}");F("\\redE","\\textcolor{##bc2612}{#1}");F("\\maroonA","\\textcolor{##ffbde0}{#1}");F("\\maroonB","\\textcolor{##ff92c6}{#1}");F("\\maroonC","\\textcolor{##ed5fa6}{#1}");F("\\maroonD","\\textcolor{##ca337c}{#1}");F("\\maroonE","\\textcolor{##9e034e}{#1}");F("\\purpleA","\\textcolor{##ddd7ff}{#1}");F("\\purpleB","\\textcolor{##c6b9fc}{#1}");F("\\purpleC","\\textcolor{##aa87ff}{#1}");F("\\purpleD","\\textcolor{##7854ab}{#1}");F("\\purpleE","\\textcolor{##543b78}{#1}");F("\\mintA","\\textcolor{##f5f9e8}{#1}");F("\\mintB","\\textcolor{##edf2df}{#1}");F("\\mintC","\\textcolor{##e0e5cc}{#1}");F("\\grayA","\\textcolor{##f6f7f7}{#1}");F("\\grayB","\\textcolor{##f0f1f2}{#1}");F("\\grayC","\\textcolor{##e3e5e6}{#1}");F("\\grayD","\\textcolor{##d6d8da}{#1}");F("\\grayE","\\textcolor{##babec2}{#1}");F("\\grayF","\\textcolor{##888d93}{#1}");F("\\grayG","\\textcolor{##626569}{#1}");F("\\grayH","\\textcolor{##3b3e40}{#1}");F("\\grayI","\\textcolor{##21242c}{#1}");F("\\kaBlue","\\textcolor{##314453}{#1}");F("\\kaGreen","\\textcolor{##71B307}{#1}");var GO={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class GJ{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new jJ(FJ,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new mx(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Fr("EOF",r.loc)),this.pushTokens(i),new Fr("",Sr.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,l=0,c=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new Ne("Extra }",o)}else if(o.text==="EOF")throw new Ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[c]:"}")+"'",o);if(e&&r)if((l===0||l===1&&e[c]==="{")&&o.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new Ne("Use of the macro doesn't match its definition",o)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ne("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ne("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var c=o.length-1;c>=0;--c){var h=o[c];if(h.text==="#"){if(c===0)throw new Ne("Incomplete placeholder at end of macro body",h);if(h=o[--c],h.text==="#")o.splice(c+1,1);else if(/^[1-9]$/.test(h.text))o.splice(c,2,...l[+h.text-1]);else throw new Ne("Not a valid argument number",h)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Fr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var c=new mx(i,this.settings),h=[],f=c.lex();f.text!=="EOF";)h.push(f),f=c.lex();h.reverse();var m={tokens:h,numArgs:o};return m}return i}isDefined(e){return this.macros.has(e)||oo.hasOwnProperty(e)||Ut.math.hasOwnProperty(e)||Ut.text.hasOwnProperty(e)||GO.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:oo.hasOwnProperty(e)&&!oo[e].primitive}}var vx=/^[]/,wd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),pv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},yx={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class h1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new GJ(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Fr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(h1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&oo[i.text]&&oo[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,l,c=e.slice(0,n),h=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?o=c[0]:o={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[o,e[n],l],[]):f=this.callFunction(r,[o,l],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new Ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new Ne("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new Ne("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new Ne("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new Ne("Double superscript",o);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(wd[o.text]){var f=vx.test(o.text),m=[];for(m.push(new Fr(wd[o.text])),this.consume();;){var p=this.fetch().text;if(!wd[p]||vx.test(p)!==f)break;m.unshift(new Fr(wd[p])),this.consume()}var y=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:y}:r={type:"ordgroup",mode:"math",body:y}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=oo[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new Ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new Ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new Ne("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(i,o);return this.callFunction(i,l,c,r,e)}callFunction(e,n,r,i,o){var l={funcName:e,parser:this,token:i,breakOnTokenText:o},c=oo[e];if(c&&c.handler)return c.handler(l,n,r);throw new Ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)o.push(f);else if(f!=null)i.push(f);else throw new Ne("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new Ne("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Ne("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",l;(l=this.fetch()).text!=="EOF"&&e.test(o+l.text);)i=l,o+=i.text,this.consume();if(o==="")throw new Ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ne("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!tO(o))throw new Ne("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Sr.range(r,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!GO.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ne("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Sr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Sr.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:Sr.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}yx.hasOwnProperty(n[0])&&!Ut[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=yx[n[0]]+n.slice(1));var o=UJ.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Ut[this.mode][n]){this.settings.strict&&this.mode==="math"&&x6.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=Ut[this.mode][n].group,h=Sr.range(e),f;if(DW.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:h,text:n}}else f={type:c,mode:this.mode,loc:h,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(eO(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Sr.range(e),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var y=o[0][p];if(!pv[y])throw new Ne("Unknown accent ' "+y+"'",e);var b=pv[y][this.mode]||pv[y].text;if(!b)throw new Ne("Accent "+y+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Sr.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}h1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var o_=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new h1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Fr("\\df@tag")])}]}return i},$O=function(e,n,r){n.textContent="";var i=l_(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),$O=function(){throw new Ne("KaTeX doesn't work in quirks mode.")});var $J=function(e,n){var r=l_(e,n).toMarkup();return r},YJ=function(e,n){var r=new j7(n);return o_(e,r)},YO=function(e,n,r){if(r.throwOnError||!(e instanceof Ne))throw e;var i=de.makeSpan(["katex-error"],[new gi(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},l_=function(e,n){var r=new j7(n);try{var i=o_(e,r);return nJ(i,e,r)}catch(o){return YO(o,e,r)}},XJ=function(e,n){var r=new j7(n);try{var i=o_(e,r);return rJ(i,e,r)}catch(o){return YO(o,e,r)}},KJ="0.16.27",QJ={Span:Th,Anchor:$7,SymbolNode:gi,SvgNode:ls,PathNode:So,LineNode:S6},ZJ={version:KJ,render:$O,renderToString:$J,ParseError:Ne,SETTINGS_SCHEMA:Ld,__parse:YJ,__renderToDomTree:l_,__renderToHTMLTree:XJ,__setFontMetrics:TW,__defineSymbol:w,__defineFunction:ze,__defineMacro:F,__domTree:QJ};const Gr=({latex:t})=>{const e=ce.useRef(null);return ce.useEffect(()=>{if(e.current)try{ZJ.render(t,e.current,{throwOnError:!1,displayMode:!1})}catch{e.current.innerText="Invalid LaTeX"}},[t]),G.jsx("span",{ref:e})},WJ=({structureName:t="Algebraic Structure (Alpha)"})=>G.jsxs("div",{className:LS.overlay,children:[G.jsx("h2",{children:G.jsx(Gr,{latex:t})}),G.jsxs("div",{className:LS.legend,children:[G.jsxs("p",{children:[" ",ev.verified.label,": Green"]}),G.jsxs("p",{children:[" ",ev.deprecated.label,": Flashing Yellow"]}),G.jsx("p",{children:" Duplicate Link: Dashed Blue Line"}),G.jsxs("p",{children:[" ",ev.unverified.label,": Red"]})]})]}),JJ=({nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:o,nodeTypes:l,title:c="Mathverse Explorer"})=>G.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[G.jsxs(fF,{nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:o,nodeTypes:l,fitView:!0,panOnScroll:!0,selectionOnDrag:!1,panOnDrag:!0,children:[G.jsx(_F,{gap:20,color:"#333"}),G.jsx(AF,{}),G.jsx(PF,{nodeColor:h=>H7[h.data?.status]||"#eee"})]}),G.jsx(WJ,{structureName:c})]}),XO=ce.createContext(void 0),Ch=()=>{const t=ce.useContext(XO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},eee=({children:t})=>{const[e,n]=ce.useState(null),[r,i]=ce.useState(null),[o,l]=ce.useState(!0);ce.useEffect(()=>OQ(Jg,async p=>{if(n(p),p){const y=ra(wr,"users",p.uid);try{const b=await PK(y);if(b.exists())i(b.data());else{const E={uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,role:"citizen",reputation:1,createdAt:FK()};await Dd(y,E),i(E),console.log("New User Profile Created in Firestore via AuthProvider.")}}catch(b){console.error("Error fetching/creating user profile:",b)}}else i(null);l(!1)}),[]);const f={user:e,profile:r,loading:o,signInWithGoogle:async()=>{try{await tZ(Jg,KZ)}catch(m){throw console.error("Login Failed:",m),m}},logout:()=>zQ(Jg)};return G.jsx(XO.Provider,{value:f,children:!o&&t})},KO=(t,e,n,r)=>{const{user:i}=Ch(),[o,l]=ce.useState({greenVotes:n,blackVotes:r}),[c,h]=ce.useState(null),[f,m]=ce.useState(!1);ce.useEffect(()=>{l({greenVotes:n,blackVotes:r})},[n,r]),ce.useEffect(()=>{if(!i||!t){h(null);return}const y=ra(wr,e,t,"votes",i.uid),b=w0(y,E=>{if(E.exists()){const T=E.data();T.choice==="green"?h("up"):T.choice==="black"&&h("down")}else h(null)});return()=>b()},[i,t,e]);const p=ce.useCallback(async y=>{if(!i){alert("Please sign in to vote!");return}m(!0);const b=ra(wr,e,t),E=ra(wr,e,t,"votes",i.uid);try{await jK(wr,async T=>{const x=await T.get(E),C=await T.get(b);if(!C.exists())throw new Error("Document does not exist!");const D=C.data().stats||{greenVotes:0,blackVotes:0},A=x.exists()?x.data().choice:null,O=y==="up"?"green":"black";let U=D.greenVotes,L=D.blackVotes;A===O?(T.delete(E),O==="green"?U--:L--):(T.set(E,{choice:O,timestamp:Date.now()}),A==="green"&&U--,A==="black"&&L--,O==="green"?U++:L++),T.update(b,{stats:{greenVotes:Math.max(0,U),blackVotes:Math.max(0,L)}})})}catch(T){console.error("Voting Transaction Failed:",T),alert("Vote failed. Please check your connection.")}finally{m(!1)}},[i,t,e]);return{stats:o,userVote:c,handleVote:p,isLoading:f}},tee=10,nee=-10,QO=t=>{if(t.status==="deprecated")return"deprecated";if(t.status==="deadend")return"deadend";const e=t.stats?.greenVotes||0,n=t.stats?.blackVotes||0,r=e-n;return r>=tee&&t.status==="unverified"?"verified":r<=nee?"trash":t.status},ree=({data:t})=>{const{stats:e,userVote:n,handleVote:r,isLoading:i}=KO(t.id,"nodes",t.stats?.greenVotes||0,t.stats?.blackVotes||0),l=`math-node-container status-${QO({...t,stats:e})}`,c=`vote-btn ${n==="up"?"active-up":""}`,h=`vote-btn ${n==="down"?"active-down":""}`;return G.jsxs("div",{className:l,children:[G.jsx(Ku,{type:"target",position:Ye.Top,style:{bottom:"0px"}}),G.jsx("div",{className:"math-display-area",children:G.jsx(Gr,{latex:t.displayLatex})}),G.jsxs("div",{className:"math-node-stats",children:[G.jsxs("button",{className:c,onClick:f=>{f.stopPropagation(),r("up")},disabled:i,title:"Vote Valid (Green)",children:[" ",e.greenVotes]}),G.jsxs("button",{className:h,onClick:f=>{f.stopPropagation(),r("down")},disabled:i,title:"Vote Invalid (Black)",children:[" ",e.blackVotes]})]}),G.jsx(Ku,{type:"source",position:Ye.Bottom,style:{bottom:"-25px"}})]})},iee="_panel_qsoe1_4",aee="_sectionInherited_qsoe1_25",see="_sectionCurrent_qsoe1_32",oee="_headerRow_qsoe1_38",lee="_headerTitle_qsoe1_48",uee="_closeBtn_qsoe1_53",cee="_sectionTitle_qsoe1_68",hee="_localPropHeader_qsoe1_76",fee="_proposeBtn_qsoe1_90",dee="_adminZone_qsoe1_107",mee="_deleteBtn_qsoe1_116",pee="_toggleContainer_qsoe1_154",gee="_toggleContent_qsoe1_158",vee="_axiomList_qsoe1_166",yee="_emptyState_qsoe1_176",_ee="_axiomBox_qsoe1_183",bee="_latexBold_qsoe1_197",wee="_theoremHeaderRow_qsoe1_202",Eee="_theoremName_qsoe1_209",See="_miniDeleteBtn_qsoe1_260",gn={panel:iee,sectionInherited:aee,sectionCurrent:see,headerRow:oee,headerTitle:lee,closeBtn:uee,sectionTitle:cee,localPropHeader:hee,proposeBtn:fee,adminZone:dee,deleteBtn:mee,toggleContainer:pee,toggleContent:gee,axiomList:vee,emptyState:yee,axiomBox:_ee,latexBold:bee,theoremHeaderRow:wee,theoremName:Eee,miniDeleteBtn:See},xee=(t,e,n,r)=>{const i=e.find(c=>c.id===t),o={inheritedAxioms:[],inheritedTheorems:[],localTheorems:r.filter(c=>c.structureNodeId===t),localAxiom:void 0};if(!i)return o;o.localAxiom=n.find(c=>c.id===i.axiomId);let l=i.parentId;for(;l;){const c=e.find(m=>m.id===l);if(!c)break;const h=n.find(m=>m.id===c.axiomId);h&&o.inheritedAxioms.unshift(h);const f=r.filter(m=>m.structureNodeId===c.id);o.inheritedTheorems.unshift(...f),l=c.parentId}return o},Tee="_overlay_1snfz_2",Aee="_container_1snfz_16",Cee="_header_1snfz_28",Ree="_closeButton_1snfz_43",Iee="_body_1snfz_51",Nee="_description_1snfz_61",Mee="_contextBox_1snfz_68",kee="_contextLabel_1snfz_76",Dee="_separator_1snfz_84",Oee="_group_1snfz_93",zee="_label_1snfz_99",Vee="_input_1snfz_105",qee="_textarea_1snfz_105",Lee="_preview_1snfz_113",Pee="_footer_1snfz_125",Bee="_cancelBtn_1snfz_134",Uee="_submitBtn_1snfz_142",Hee="_drawerOverlay_1snfz_158",jee="_drawer_1snfz_158",Fee="_drawerHeader_1snfz_184",Gee="_drawerSearch_1snfz_199",$ee="_drawerBody_1snfz_205",Yee="_libraryItem_1snfz_214",Xee="_libraryItemHeader_1snfz_231",Kee="_libraryItemTag_1snfz_240",Qee="_inputGroupRow_1snfz_260",Zee="_browseBtn_1snfz_267",Wee="_inputLocked_1snfz_286",Jee="_suggestionsDropdown_1snfz_298",ete="_suggestionItem_1snfz_312",tte="_suggestionDetail_1snfz_328",Oe={overlay:Tee,container:Aee,header:Cee,closeButton:Ree,body:Iee,description:Nee,contextBox:Mee,contextLabel:kee,separator:Dee,group:Oee,label:zee,input:Vee,textarea:qee,preview:Lee,footer:Pee,cancelBtn:Bee,submitBtn:Uee,drawerOverlay:Hee,drawer:jee,drawerHeader:Fee,drawerSearch:Gee,drawerBody:$ee,libraryItem:Yee,libraryItemHeader:Xee,libraryItemTag:Kee,inputGroupRow:Qee,browseBtn:Zee,inputLocked:Wee,suggestionsDropdown:Jee,suggestionItem:ete,suggestionDetail:tte},nte=({isOpen:t,onClose:e,onSelect:n,availableTheorems:r})=>{const[i,o]=ce.useState(""),l=ce.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.name.toLowerCase().includes(c)||h.statementLatex.toLowerCase().includes(c))},[r,i]);return t?G.jsxs(G.Fragment,{children:[G.jsx("div",{className:Oe.drawerOverlay,onClick:e}),G.jsxs("div",{className:Oe.drawer,children:[G.jsxs("div",{className:Oe.drawerHeader,children:[G.jsx("h3",{children:"Theorem Library"}),G.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),G.jsx("div",{className:Oe.drawerSearch,children:G.jsx("input",{className:Oe.input,placeholder:"Search theorems (e.g. 'Identity')...",value:i,onChange:c=>o(c.target.value),autoFocus:!0})}),G.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>G.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to use this theorem as a template",children:[G.jsxs("div",{className:Oe.libraryItemHeader,children:[G.jsx("strong",{children:c.name}),G.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),G.jsx("div",{className:Oe.preview,style:{marginBottom:"5px"},children:G.jsx(Gr,{latex:c.statementLatex})}),G.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Proof: ",c.proofLatex]})]},c.id)):G.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No theorems found matching "',i,'"']})})]})]}):null},rte=({structureName:t,availableTheorems:e,onClose:n,onSubmit:r})=>{const[i,o]=ce.useState(""),[l,c]=ce.useState(""),[h,f]=ce.useState(""),[m,p]=ce.useState(!1),[y,b]=ce.useState(!1),E=ce.useMemo(()=>{if(!i)return[];const C=i.toLowerCase();return e.filter(D=>D.name.toLowerCase().includes(C)).slice(0,5)},[i,e]),T=C=>{o(C.name),c(C.statementLatex),f(C.proofLatex),b(!1),p(!1)},x=()=>{!i||!l||!h||(r({name:i,statementLatex:l,proofLatex:h}),n())};return G.jsxs(G.Fragment,{children:[G.jsx("div",{className:Oe.overlay,children:G.jsxs("div",{className:Oe.container,children:[G.jsxs("div",{className:Oe.header,children:[G.jsx("h2",{children:"Propose Theorem"}),G.jsx("button",{className:Oe.closeButton,onClick:n,children:""})]}),G.jsxs("div",{className:Oe.body,children:[G.jsxs("p",{className:Oe.description,children:["Add a new property or theorem to ",G.jsx("strong",{children:t}),"."]}),G.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[G.jsx("label",{className:Oe.label,children:"1. Theorem Name"}),G.jsxs("div",{className:Oe.inputGroupRow,children:[G.jsx("input",{className:Oe.input,placeholder:"e.g. Uniqueness of Identity",value:i,onChange:C=>{o(C.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),autoComplete:"off"}),G.jsx("button",{className:Oe.browseBtn,onClick:()=>p(!0),title:"Browse Theorem Library",children:""})]}),y&&E.length>0&&G.jsx("div",{className:Oe.suggestionsDropdown,children:E.map(C=>G.jsx("div",{className:Oe.suggestionItem,onClick:()=>T(C),children:G.jsx("strong",{children:C.name})},C.id))})]}),G.jsxs("div",{className:Oe.group,children:[G.jsx("label",{className:Oe.label,children:"Statement (LaTeX)"}),G.jsx("textarea",{className:Oe.textarea,rows:2,value:l,onChange:C=>c(C.target.value),placeholder:"\\forall g \\in G, ..."}),G.jsx("div",{className:Oe.preview,children:G.jsx(Gr,{latex:l||"Preview..."})})]}),G.jsxs("div",{className:Oe.group,children:[G.jsx("label",{className:Oe.label,children:"Proof (LaTeX)"}),G.jsx("textarea",{className:Oe.textarea,rows:4,value:h,onChange:C=>f(C.target.value),placeholder:"Suppose e and e' are identities..."}),G.jsx("div",{className:Oe.preview,children:G.jsx(Gr,{latex:h||"Preview..."})})]})]}),G.jsxs("div",{className:Oe.footer,children:[G.jsx("button",{className:Oe.cancelBtn,onClick:n,children:"Cancel"}),G.jsx("button",{className:Oe.submitBtn,onClick:x,children:"Propose Theorem"})]})]})}),G.jsx(nte,{isOpen:m,onClose:()=>p(!1),onSelect:T,availableTheorems:e})]})},ite=t=>{const{profile:e}=Ch(),{node:n,allNodes:r,allAxioms:i,allTheorems:o,onClose:l,onAddTheorem:c,onDelete:h,onDeleteTheorem:f}=t,m=xee(n.id,r,i,o),[p,y]=ce.useState(!1);return G.jsxs("div",{className:gn.panel,children:[G.jsxs("div",{className:gn.headerRow,children:[G.jsx("h3",{className:gn.headerTitle,children:"Structure Details"}),G.jsx("button",{onClick:l,className:gn.closeBtn,children:"Close "})]}),G.jsxs("section",{className:gn.sectionInherited,children:[G.jsx("h4",{className:gn.sectionTitle,children:"Heritage"}),G.jsx("div",{className:gn.toggleContainer,children:G.jsxs("div",{className:gn.toggleContent,children:[G.jsx("strong",{children:"Inherited Axioms:"}),m.inheritedAxioms.length>0?G.jsx("ul",{className:gn.axiomList,children:m.inheritedAxioms.map(b=>G.jsx("li",{children:b.canonicalName},b.id))}):G.jsx("span",{className:gn.emptyState,children:" None"})]})})]}),G.jsxs("section",{className:gn.sectionCurrent,children:[G.jsx("h3",{children:n.displayLatex}),m.localAxiom&&G.jsxs("div",{className:gn.axiomBox,children:[G.jsx("strong",{children:"Axiom: "}),G.jsx("span",{className:gn.latexBold,children:G.jsx(Gr,{latex:m.localAxiom.defaultLatex})})]}),G.jsxs("div",{className:gn.localPropHeader,children:[G.jsx("h4",{children:"Theorems:"}),G.jsx("button",{onClick:()=>y(!0),className:gn.proposeBtn,children:"+ Add Theorem"})]}),m.localTheorems.length>0?m.localTheorems.map(b=>G.jsx(ate,{theorem:b,onDelete:f},b.id)):G.jsx("p",{className:gn.emptyState,children:"No properties defined yet."})]}),p&&G.jsx(rte,{structureName:n.displayLatex,availableTheorems:o,onClose:()=>y(!1),onSubmit:c}),e?.role==="admin"&&G.jsx("div",{className:gn.adminZone,children:G.jsx("button",{onClick:()=>h(n.id),className:gn.deleteBtn,children:"DELETE STRUCTURE"})})]})},ate=({theorem:t,onDelete:e})=>{const{profile:n}=Ch(),{stats:r,userVote:i,handleVote:o,isLoading:l}=KO(t.id,"theorems",t.stats.greenVotes,t.stats.blackVotes),h=`theorem-item status-${QO({...t,stats:r})}`,f=`vote-btn ${i==="up"?"active-up":""}`,m=`vote-btn ${i==="down"?"active-down":""}`;return G.jsxs("div",{className:h,children:[G.jsxs("div",{className:gn.theoremHeaderRow,children:[G.jsx("div",{className:gn.theoremName,children:t.name}),G.jsxs("div",{className:"math-node-stats",style:{margin:0,border:"none",padding:0},children:[G.jsxs("button",{className:f,onClick:p=>{p.stopPropagation(),o("up")},disabled:l,title:"Vote Valid",children:[" ",r.greenVotes]}),G.jsxs("button",{className:m,onClick:p=>{p.stopPropagation(),o("down")},disabled:l,title:"Vote Invalid",children:[" ",r.blackVotes]}),n?.role==="admin"&&e&&G.jsx("button",{onClick:p=>{p.stopPropagation(),e(t.id)},className:gn.miniDeleteBtn,title:"Delete Theorem",children:""})]})]}),G.jsx("div",{style:{marginTop:"5px",fontSize:"0.9rem"},children:G.jsx(Gr,{latex:t.statementLatex})})]})};function u_(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gv,_x;function ste(){if(_x)return gv;_x=1;function t(){this.__data__=[],this.size=0}return gv=t,gv}var vv,bx;function pc(){if(bx)return vv;bx=1;function t(e,n){return e===n||e!==e&&n!==n}return vv=t,vv}var yv,wx;function f1(){if(wx)return yv;wx=1;var t=pc();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return yv=e,yv}var _v,Ex;function ote(){if(Ex)return _v;Ex=1;var t=f1(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var c=o.length-1;return l==c?o.pop():n.call(o,l,1),--this.size,!0}return _v=r,_v}var bv,Sx;function lte(){if(Sx)return bv;Sx=1;var t=f1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return bv=e,bv}var wv,xx;function ute(){if(xx)return wv;xx=1;var t=f1();function e(n){return t(this.__data__,n)>-1}return wv=e,wv}var Ev,Tx;function cte(){if(Tx)return Ev;Tx=1;var t=f1();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Ev=e,Ev}var Sv,Ax;function d1(){if(Ax)return Sv;Ax=1;var t=ste(),e=ote(),n=lte(),r=ute(),i=cte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Sv=o,Sv}var xv,Cx;function hte(){if(Cx)return xv;Cx=1;var t=d1();function e(){this.__data__=new t,this.size=0}return xv=e,xv}var Tv,Rx;function fte(){if(Rx)return Tv;Rx=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Tv=t,Tv}var Av,Ix;function dte(){if(Ix)return Av;Ix=1;function t(e){return this.__data__.get(e)}return Av=t,Av}var Cv,Nx;function mte(){if(Nx)return Cv;Nx=1;function t(e){return this.__data__.has(e)}return Cv=t,Cv}var Rv,Mx;function ZO(){if(Mx)return Rv;Mx=1;var t=typeof Zf=="object"&&Zf&&Zf.Object===Object&&Zf;return Rv=t,Rv}var Iv,kx;function Hi(){if(kx)return Iv;kx=1;var t=ZO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Iv=n,Iv}var Nv,Dx;function gc(){if(Dx)return Nv;Dx=1;var t=Hi(),e=t.Symbol;return Nv=e,Nv}var Mv,Ox;function pte(){if(Ox)return Mv;Ox=1;var t=gc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(l){var c=n.call(l,i),h=l[i];try{l[i]=void 0;var f=!0}catch{}var m=r.call(l);return f&&(c?l[i]=h:delete l[i]),m}return Mv=o,Mv}var kv,zx;function gte(){if(zx)return kv;zx=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return kv=n,kv}var Dv,Vx;function Il(){if(Vx)return Dv;Vx=1;var t=gc(),e=pte(),n=gte(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):n(c)}return Dv=l,Dv}var Ov,qx;function yi(){if(qx)return Ov;qx=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Ov=t,Ov}var zv,Lx;function Rh(){if(Lx)return zv;Lx=1;var t=Il(),e=yi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(c){if(!e(c))return!1;var h=t(c);return h==r||h==i||h==n||h==o}return zv=l,zv}var Vv,Px;function vte(){if(Px)return Vv;Px=1;var t=Hi(),e=t["__core-js_shared__"];return Vv=e,Vv}var qv,Bx;function yte(){if(Bx)return qv;Bx=1;var t=vte(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return qv=n,qv}var Lv,Ux;function WO(){if(Ux)return Lv;Ux=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Lv=n,Lv}var Pv,Hx;function _te(){if(Hx)return Pv;Hx=1;var t=Rh(),e=yte(),n=yi(),r=WO(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,f=c.hasOwnProperty,m=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var b=t(y)?m:o;return b.test(r(y))}return Pv=p,Pv}var Bv,jx;function bte(){if(jx)return Bv;jx=1;function t(e,n){return e?.[n]}return Bv=t,Bv}var Uv,Fx;function Nl(){if(Fx)return Uv;Fx=1;var t=_te(),e=bte();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Uv=n,Uv}var Hv,Gx;function c_(){if(Gx)return Hv;Gx=1;var t=Nl(),e=Hi(),n=t(e,"Map");return Hv=n,Hv}var jv,$x;function m1(){if($x)return jv;$x=1;var t=Nl(),e=t(Object,"create");return jv=e,jv}var Fv,Yx;function wte(){if(Yx)return Fv;Yx=1;var t=m1();function e(){this.__data__=t?t(null):{},this.size=0}return Fv=e,Fv}var Gv,Xx;function Ete(){if(Xx)return Gv;Xx=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Gv=t,Gv}var $v,Kx;function Ste(){if(Kx)return $v;Kx=1;var t=m1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(t){var c=l[o];return c===e?void 0:c}return r.call(l,o)?l[o]:void 0}return $v=i,$v}var Yv,Qx;function xte(){if(Qx)return Yv;Qx=1;var t=m1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Yv=r,Yv}var Xv,Zx;function Tte(){if(Zx)return Xv;Zx=1;var t=m1(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Xv=n,Xv}var Kv,Wx;function Ate(){if(Wx)return Kv;Wx=1;var t=wte(),e=Ete(),n=Ste(),r=xte(),i=Tte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Kv=o,Kv}var Qv,Jx;function Cte(){if(Jx)return Qv;Jx=1;var t=Ate(),e=d1(),n=c_();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Qv=r,Qv}var Zv,eT;function Rte(){if(eT)return Zv;eT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Zv=t,Zv}var Wv,tT;function p1(){if(tT)return Wv;tT=1;var t=Rte();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wv=e,Wv}var Jv,nT;function Ite(){if(nT)return Jv;nT=1;var t=p1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Jv=e,Jv}var e4,rT;function Nte(){if(rT)return e4;rT=1;var t=p1();function e(n){return t(this,n).get(n)}return e4=e,e4}var t4,iT;function Mte(){if(iT)return t4;iT=1;var t=p1();function e(n){return t(this,n).has(n)}return t4=e,t4}var n4,aT;function kte(){if(aT)return n4;aT=1;var t=p1();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return n4=e,n4}var r4,sT;function h_(){if(sT)return r4;sT=1;var t=Cte(),e=Ite(),n=Nte(),r=Mte(),i=kte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,r4=o,r4}var i4,oT;function Dte(){if(oT)return i4;oT=1;var t=d1(),e=c_(),n=h_(),r=200;function i(o,l){var c=this.__data__;if(c instanceof t){var h=c.__data__;if(!e||h.length<r-1)return h.push([o,l]),this.size=++c.size,this;c=this.__data__=new n(h)}return c.set(o,l),this.size=c.size,this}return i4=i,i4}var a4,lT;function g1(){if(lT)return a4;lT=1;var t=d1(),e=hte(),n=fte(),r=dte(),i=mte(),o=Dte();function l(c){var h=this.__data__=new t(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,a4=l,a4}var s4,uT;function f_(){if(uT)return s4;uT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return s4=t,s4}var o4,cT;function JO(){if(cT)return o4;cT=1;var t=Nl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return o4=e,o4}var l4,hT;function v1(){if(hT)return l4;hT=1;var t=JO();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return l4=e,l4}var u4,fT;function y1(){if(fT)return u4;fT=1;var t=v1(),e=pc(),n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c){var h=o[l];(!(r.call(o,l)&&e(h,c))||c===void 0&&!(l in o))&&t(o,l,c)}return u4=i,u4}var c4,dT;function Ih(){if(dT)return c4;dT=1;var t=y1(),e=v1();function n(r,i,o,l){var c=!o;o||(o={});for(var h=-1,f=i.length;++h<f;){var m=i[h],p=l?l(o[m],r[m],m,o,r):void 0;p===void 0&&(p=r[m]),c?e(o,m,p):t(o,m,p)}return o}return c4=n,c4}var h4,mT;function Ote(){if(mT)return h4;mT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return h4=t,h4}var f4,pT;function ba(){if(pT)return f4;pT=1;function t(e){return e!=null&&typeof e=="object"}return f4=t,f4}var d4,gT;function zte(){if(gT)return d4;gT=1;var t=Il(),e=ba(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return d4=r,d4}var m4,vT;function Nh(){if(vT)return m4;vT=1;var t=zte(),e=ba(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return m4=o,m4}var p4,yT;function Nn(){if(yT)return p4;yT=1;var t=Array.isArray;return p4=t,p4}var x0={exports:{}},g4,_T;function Vte(){if(_T)return g4;_T=1;function t(){return!1}return g4=t,g4}x0.exports;var bT;function vc(){return bT||(bT=1,(function(t,e){var n=Hi(),r=Vte(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,c=l?n.Buffer:void 0,h=c?c.isBuffer:void 0,f=h||r;t.exports=f})(x0,x0.exports)),x0.exports}var v4,wT;function _1(){if(wT)return v4;wT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return v4=n,v4}var y4,ET;function d_(){if(ET)return y4;ET=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return y4=e,y4}var _4,ST;function qte(){if(ST)return _4;ST=1;var t=Il(),e=d_(),n=ba(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",y="[object RegExp]",b="[object Set]",E="[object String]",T="[object WeakMap]",x="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",U="[object Int16Array]",L="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]",V={};V[D]=V[A]=V[O]=V[U]=V[L]=V[I]=V[M]=V[k]=V[H]=!0,V[r]=V[i]=V[x]=V[o]=V[C]=V[l]=V[c]=V[h]=V[f]=V[m]=V[p]=V[y]=V[b]=V[E]=V[T]=!1;function B(P){return n(P)&&e(P.length)&&!!V[t(P)]}return _4=B,_4}var b4,xT;function b1(){if(xT)return b4;xT=1;function t(e){return function(n){return e(n)}}return b4=t,b4}var T0={exports:{}};T0.exports;var TT;function m_(){return TT||(TT=1,(function(t,e){var n=ZO(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,c=(function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(T0,T0.exports)),T0.exports}var w4,AT;function Mh(){if(AT)return w4;AT=1;var t=qte(),e=b1(),n=m_(),r=n&&n.isTypedArray,i=r?e(r):t;return w4=i,w4}var E4,CT;function ez(){if(CT)return E4;CT=1;var t=Ote(),e=Nh(),n=Nn(),r=vc(),i=_1(),o=Mh(),l=Object.prototype,c=l.hasOwnProperty;function h(f,m){var p=n(f),y=!p&&e(f),b=!p&&!y&&r(f),E=!p&&!y&&!b&&o(f),T=p||y||b||E,x=T?t(f.length,String):[],C=x.length;for(var D in f)(m||c.call(f,D))&&!(T&&(D=="length"||b&&(D=="offset"||D=="parent")||E&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||i(D,C)))&&x.push(D);return x}return E4=h,E4}var S4,RT;function w1(){if(RT)return S4;RT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return S4=e,S4}var x4,IT;function tz(){if(IT)return x4;IT=1;function t(e,n){return function(r){return e(n(r))}}return x4=t,x4}var T4,NT;function Lte(){if(NT)return T4;NT=1;var t=tz(),e=t(Object.keys,Object);return T4=e,T4}var A4,MT;function p_(){if(MT)return A4;MT=1;var t=w1(),e=Lte(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var c in Object(o))r.call(o,c)&&c!="constructor"&&l.push(c);return l}return A4=i,A4}var C4,kT;function ms(){if(kT)return C4;kT=1;var t=Rh(),e=d_();function n(r){return r!=null&&e(r.length)&&!t(r)}return C4=n,C4}var R4,DT;function Ro(){if(DT)return R4;DT=1;var t=ez(),e=p_(),n=ms();function r(i){return n(i)?t(i):e(i)}return R4=r,R4}var I4,OT;function Pte(){if(OT)return I4;OT=1;var t=Ih(),e=Ro();function n(r,i){return r&&t(i,e(i),r)}return I4=n,I4}var N4,zT;function Bte(){if(zT)return N4;zT=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return N4=t,N4}var M4,VT;function Ute(){if(VT)return M4;VT=1;var t=yi(),e=w1(),n=Bte(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!t(l))return n(l);var c=e(l),h=[];for(var f in l)f=="constructor"&&(c||!i.call(l,f))||h.push(f);return h}return M4=o,M4}var k4,qT;function Ml(){if(qT)return k4;qT=1;var t=ez(),e=Ute(),n=ms();function r(i){return n(i)?t(i,!0):e(i)}return k4=r,k4}var D4,LT;function Hte(){if(LT)return D4;LT=1;var t=Ih(),e=Ml();function n(r,i){return r&&t(i,e(i),r)}return D4=n,D4}var A0={exports:{}};A0.exports;var PT;function nz(){return PT||(PT=1,(function(t,e){var n=Hi(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function h(f,m){if(m)return f.slice();var p=f.length,y=c?c(p):new f.constructor(p);return f.copy(y),y}t.exports=h})(A0,A0.exports)),A0.exports}var O4,BT;function rz(){if(BT)return O4;BT=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return O4=t,O4}var z4,UT;function iz(){if(UT)return z4;UT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[o++]=c)}return l}return z4=t,z4}var V4,HT;function az(){if(HT)return V4;HT=1;function t(){return[]}return V4=t,V4}var q4,jT;function g_(){if(jT)return q4;jT=1;var t=iz(),e=az(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return q4=o,q4}var L4,FT;function jte(){if(FT)return L4;FT=1;var t=Ih(),e=g_();function n(r,i){return t(r,e(r),i)}return L4=n,L4}var P4,GT;function v_(){if(GT)return P4;GT=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return P4=t,P4}var B4,$T;function E1(){if($T)return B4;$T=1;var t=tz(),e=t(Object.getPrototypeOf,Object);return B4=e,B4}var U4,YT;function sz(){if(YT)return U4;YT=1;var t=v_(),e=E1(),n=g_(),r=az(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var c=[];l;)t(c,n(l)),l=e(l);return c}:r;return U4=o,U4}var H4,XT;function Fte(){if(XT)return H4;XT=1;var t=Ih(),e=sz();function n(r,i){return t(r,e(r),i)}return H4=n,H4}var j4,KT;function oz(){if(KT)return j4;KT=1;var t=v_(),e=Nn();function n(r,i,o){var l=i(r);return e(r)?l:t(l,o(r))}return j4=n,j4}var F4,QT;function lz(){if(QT)return F4;QT=1;var t=oz(),e=g_(),n=Ro();function r(i){return t(i,n,e)}return F4=r,F4}var G4,ZT;function Gte(){if(ZT)return G4;ZT=1;var t=oz(),e=sz(),n=Ml();function r(i){return t(i,n,e)}return G4=r,G4}var $4,WT;function $te(){if(WT)return $4;WT=1;var t=Nl(),e=Hi(),n=t(e,"DataView");return $4=n,$4}var Y4,JT;function Yte(){if(JT)return Y4;JT=1;var t=Nl(),e=Hi(),n=t(e,"Promise");return Y4=n,Y4}var X4,eA;function uz(){if(eA)return X4;eA=1;var t=Nl(),e=Hi(),n=t(e,"Set");return X4=n,X4}var K4,tA;function Xte(){if(tA)return K4;tA=1;var t=Nl(),e=Hi(),n=t(e,"WeakMap");return K4=n,K4}var Q4,nA;function yc(){if(nA)return Q4;nA=1;var t=$te(),e=c_(),n=Yte(),r=uz(),i=Xte(),o=Il(),l=WO(),c="[object Map]",h="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",y="[object DataView]",b=l(t),E=l(e),T=l(n),x=l(r),C=l(i),D=o;return(t&&D(new t(new ArrayBuffer(1)))!=y||e&&D(new e)!=c||n&&D(n.resolve())!=f||r&&D(new r)!=m||i&&D(new i)!=p)&&(D=function(A){var O=o(A),U=O==h?A.constructor:void 0,L=U?l(U):"";if(L)switch(L){case b:return y;case E:return c;case T:return f;case x:return m;case C:return p}return O}),Q4=D,Q4}var Z4,rA;function Kte(){if(rA)return Z4;rA=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Z4=n,Z4}var W4,iA;function cz(){if(iA)return W4;iA=1;var t=Hi(),e=t.Uint8Array;return W4=e,W4}var J4,aA;function y_(){if(aA)return J4;aA=1;var t=cz();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return J4=e,J4}var ey,sA;function Qte(){if(sA)return ey;sA=1;var t=y_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return ey=e,ey}var ty,oA;function Zte(){if(oA)return ty;oA=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return ty=e,ty}var ny,lA;function Wte(){if(lA)return ny;lA=1;var t=gc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ny=r,ny}var ry,uA;function hz(){if(uA)return ry;uA=1;var t=y_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ry=e,ry}var iy,cA;function Jte(){if(cA)return iy;cA=1;var t=y_(),e=Qte(),n=Zte(),r=Wte(),i=hz(),o="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",p="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",x="[object Float64Array]",C="[object Int8Array]",D="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",U="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]";function M(k,H,V){var B=k.constructor;switch(H){case b:return t(k);case o:case l:return new B(+k);case E:return e(k,V);case T:case x:case C:case D:case A:case O:case U:case L:case I:return i(k,V);case c:return new B;case h:case p:return new B(k);case f:return n(k);case m:return new B;case y:return r(k)}}return iy=M,iy}var ay,hA;function fz(){if(hA)return ay;hA=1;var t=yi(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return ay=n,ay}var sy,fA;function dz(){if(fA)return sy;fA=1;var t=fz(),e=E1(),n=w1();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return sy=r,sy}var oy,dA;function ene(){if(dA)return oy;dA=1;var t=yc(),e=ba(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return oy=r,oy}var ly,mA;function tne(){if(mA)return ly;mA=1;var t=ene(),e=b1(),n=m_(),r=n&&n.isMap,i=r?e(r):t;return ly=i,ly}var uy,pA;function nne(){if(pA)return uy;pA=1;var t=yc(),e=ba(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return uy=r,uy}var cy,gA;function rne(){if(gA)return cy;gA=1;var t=nne(),e=b1(),n=m_(),r=n&&n.isSet,i=r?e(r):t;return cy=i,cy}var hy,vA;function mz(){if(vA)return hy;vA=1;var t=g1(),e=f_(),n=y1(),r=Pte(),i=Hte(),o=nz(),l=rz(),c=jte(),h=Fte(),f=lz(),m=Gte(),p=yc(),y=Kte(),b=Jte(),E=dz(),T=Nn(),x=vc(),C=tne(),D=yi(),A=rne(),O=Ro(),U=Ml(),L=1,I=2,M=4,k="[object Arguments]",H="[object Array]",V="[object Boolean]",B="[object Date]",P="[object Error]",K="[object Function]",te="[object GeneratorFunction]",$="[object Map]",W="[object Number]",re="[object Object]",oe="[object RegExp]",ye="[object Set]",Y="[object String]",ee="[object Symbol]",pe="[object WeakMap]",Q="[object ArrayBuffer]",ie="[object DataView]",ue="[object Float32Array]",ge="[object Float64Array]",be="[object Int8Array]",Ce="[object Int16Array]",Ve="[object Int32Array]",je="[object Uint8Array]",He="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ge="[object Uint32Array]",Be={};Be[k]=Be[H]=Be[Q]=Be[ie]=Be[V]=Be[B]=Be[ue]=Be[ge]=Be[be]=Be[Ce]=Be[Ve]=Be[$]=Be[W]=Be[re]=Be[oe]=Be[ye]=Be[Y]=Be[ee]=Be[je]=Be[He]=Be[Pe]=Be[Ge]=!0,Be[P]=Be[K]=Be[pe]=!1;function it($e,Bt,st,It,Mn,Vn){var Ht,$t=Bt&L,Un=Bt&I,cr=Bt&M;if(st&&(Ht=Mn?st($e,It,Mn,Vn):st($e)),Ht!==void 0)return Ht;if(!D($e))return $e;var hr=T($e);if(hr){if(Ht=y($e),!$t)return l($e,Ht)}else{var qn=p($e),gs=qn==K||qn==te;if(x($e))return o($e,$t);if(qn==re||qn==k||gs&&!Mn){if(Ht=Un||gs?{}:E($e),!$t)return Un?h($e,i(Ht,$e)):c($e,r(Ht,$e))}else{if(!Be[qn])return Mn?$e:{};Ht=b($e,qn,$t)}}Vn||(Vn=new t);var bi=Vn.get($e);if(bi)return bi;Vn.set($e,Ht),A($e)?$e.forEach(function(rn){Ht.add(it(rn,Bt,st,rn,$e,Vn))}):C($e)&&$e.forEach(function(rn,qt){Ht.set(qt,it(rn,Bt,st,qt,$e,Vn))});var vs=cr?Un?m:f:Un?U:O,wa=hr?void 0:vs($e);return e(wa||$e,function(rn,qt){wa&&(qt=rn,rn=$e[qt]),n(Ht,qt,it(rn,Bt,st,qt,$e,Vn))}),Ht}return hy=it,hy}var fy,yA;function ine(){if(yA)return fy;yA=1;var t=mz(),e=4;function n(r){return t(r,e)}return fy=n,fy}var dy,_A;function __(){if(_A)return dy;_A=1;function t(e){return function(){return e}}return dy=t,dy}var my,bA;function ane(){if(bA)return my;bA=1;function t(e){return function(n,r,i){for(var o=-1,l=Object(n),c=i(n),h=c.length;h--;){var f=c[e?h:++o];if(r(l[f],f,l)===!1)break}return n}}return my=t,my}var py,wA;function b_(){if(wA)return py;wA=1;var t=ane(),e=t();return py=e,py}var gy,EA;function w_(){if(EA)return gy;EA=1;var t=b_(),e=Ro();function n(r,i){return r&&t(r,i,e)}return gy=n,gy}var vy,SA;function sne(){if(SA)return vy;SA=1;var t=ms();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var l=i.length,c=r?l:-1,h=Object(i);(r?c--:++c<l)&&o(h[c],c,h)!==!1;);return i}}return vy=e,vy}var yy,xA;function S1(){if(xA)return yy;xA=1;var t=w_(),e=sne(),n=e(t);return yy=n,yy}var _y,TA;function kl(){if(TA)return _y;TA=1;function t(e){return e}return _y=t,_y}var by,AA;function pz(){if(AA)return by;AA=1;var t=kl();function e(n){return typeof n=="function"?n:t}return by=e,by}var wy,CA;function gz(){if(CA)return wy;CA=1;var t=f_(),e=S1(),n=pz(),r=Nn();function i(o,l){var c=r(o)?t:e;return c(o,n(l))}return wy=i,wy}var Ey,RA;function vz(){return RA||(RA=1,Ey=gz()),Ey}var Sy,IA;function one(){if(IA)return Sy;IA=1;var t=S1();function e(n,r){var i=[];return t(n,function(o,l,c){r(o,l,c)&&i.push(o)}),i}return Sy=e,Sy}var xy,NA;function lne(){if(NA)return xy;NA=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return xy=e,xy}var Ty,MA;function une(){if(MA)return Ty;MA=1;function t(e){return this.__data__.has(e)}return Ty=t,Ty}var Ay,kA;function yz(){if(kA)return Ay;kA=1;var t=h_(),e=lne(),n=une();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Ay=r,Ay}var Cy,DA;function cne(){if(DA)return Cy;DA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Cy=t,Cy}var Ry,OA;function _z(){if(OA)return Ry;OA=1;function t(e,n){return e.has(n)}return Ry=t,Ry}var Iy,zA;function bz(){if(zA)return Iy;zA=1;var t=yz(),e=cne(),n=_z(),r=1,i=2;function o(l,c,h,f,m,p){var y=h&r,b=l.length,E=c.length;if(b!=E&&!(y&&E>b))return!1;var T=p.get(l),x=p.get(c);if(T&&x)return T==c&&x==l;var C=-1,D=!0,A=h&i?new t:void 0;for(p.set(l,c),p.set(c,l);++C<b;){var O=l[C],U=c[C];if(f)var L=y?f(U,O,C,c,l,p):f(O,U,C,l,c,p);if(L!==void 0){if(L)continue;D=!1;break}if(A){if(!e(c,function(I,M){if(!n(A,M)&&(O===I||m(O,I,h,f,p)))return A.push(M)})){D=!1;break}}else if(!(O===U||m(O,U,h,f,p))){D=!1;break}}return p.delete(l),p.delete(c),D}return Iy=o,Iy}var Ny,VA;function hne(){if(VA)return Ny;VA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return Ny=t,Ny}var My,qA;function E_(){if(qA)return My;qA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return My=t,My}var ky,LA;function fne(){if(LA)return ky;LA=1;var t=gc(),e=cz(),n=pc(),r=bz(),i=hne(),o=E_(),l=1,c=2,h="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",y="[object Number]",b="[object RegExp]",E="[object Set]",T="[object String]",x="[object Symbol]",C="[object ArrayBuffer]",D="[object DataView]",A=t?t.prototype:void 0,O=A?A.valueOf:void 0;function U(L,I,M,k,H,V,B){switch(M){case D:if(L.byteLength!=I.byteLength||L.byteOffset!=I.byteOffset)return!1;L=L.buffer,I=I.buffer;case C:return!(L.byteLength!=I.byteLength||!V(new e(L),new e(I)));case h:case f:case y:return n(+L,+I);case m:return L.name==I.name&&L.message==I.message;case b:case T:return L==I+"";case p:var P=i;case E:var K=k&l;if(P||(P=o),L.size!=I.size&&!K)return!1;var te=B.get(L);if(te)return te==I;k|=c,B.set(L,I);var $=r(P(L),P(I),k,H,V,B);return B.delete(L),$;case x:if(O)return O.call(L)==O.call(I)}return!1}return ky=U,ky}var Dy,PA;function dne(){if(PA)return Dy;PA=1;var t=lz(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c,h,f,m){var p=c&e,y=t(o),b=y.length,E=t(l),T=E.length;if(b!=T&&!p)return!1;for(var x=b;x--;){var C=y[x];if(!(p?C in l:r.call(l,C)))return!1}var D=m.get(o),A=m.get(l);if(D&&A)return D==l&&A==o;var O=!0;m.set(o,l),m.set(l,o);for(var U=p;++x<b;){C=y[x];var L=o[C],I=l[C];if(h)var M=p?h(I,L,C,l,o,m):h(L,I,C,o,l,m);if(!(M===void 0?L===I||f(L,I,c,h,m):M)){O=!1;break}U||(U=C=="constructor")}if(O&&!U){var k=o.constructor,H=l.constructor;k!=H&&"constructor"in o&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof H=="function"&&H instanceof H)&&(O=!1)}return m.delete(o),m.delete(l),O}return Dy=i,Dy}var Oy,BA;function mne(){if(BA)return Oy;BA=1;var t=g1(),e=bz(),n=fne(),r=dne(),i=yc(),o=Nn(),l=vc(),c=Mh(),h=1,f="[object Arguments]",m="[object Array]",p="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function E(T,x,C,D,A,O){var U=o(T),L=o(x),I=U?m:i(T),M=L?m:i(x);I=I==f?p:I,M=M==f?p:M;var k=I==p,H=M==p,V=I==M;if(V&&l(T)){if(!l(x))return!1;U=!0,k=!1}if(V&&!k)return O||(O=new t),U||c(T)?e(T,x,C,D,A,O):n(T,x,I,C,D,A,O);if(!(C&h)){var B=k&&b.call(T,"__wrapped__"),P=H&&b.call(x,"__wrapped__");if(B||P){var K=B?T.value():T,te=P?x.value():x;return O||(O=new t),A(K,te,C,D,O)}}return V?(O||(O=new t),r(T,x,C,D,A,O)):!1}return Oy=E,Oy}var zy,UA;function wz(){if(UA)return zy;UA=1;var t=mne(),e=ba();function n(r,i,o,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,l,n,c)}return zy=n,zy}var Vy,HA;function pne(){if(HA)return Vy;HA=1;var t=g1(),e=wz(),n=1,r=2;function i(o,l,c,h){var f=c.length,m=f,p=!h;if(o==null)return!m;for(o=Object(o);f--;){var y=c[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<m;){y=c[f];var b=y[0],E=o[b],T=y[1];if(p&&y[2]){if(E===void 0&&!(b in o))return!1}else{var x=new t;if(h)var C=h(E,T,b,o,l,x);if(!(C===void 0?e(T,E,n|r,h,x):C))return!1}}return!0}return Vy=i,Vy}var qy,jA;function Ez(){if(jA)return qy;jA=1;var t=yi();function e(n){return n===n&&!t(n)}return qy=e,qy}var Ly,FA;function gne(){if(FA)return Ly;FA=1;var t=Ez(),e=Ro();function n(r){for(var i=e(r),o=i.length;o--;){var l=i[o],c=r[l];i[o]=[l,c,t(c)]}return i}return Ly=n,Ly}var Py,GA;function Sz(){if(GA)return Py;GA=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Py=t,Py}var By,$A;function vne(){if($A)return By;$A=1;var t=pne(),e=gne(),n=Sz();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return By=r,By}var Uy,YA;function _c(){if(YA)return Uy;YA=1;var t=Il(),e=ba(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Uy=r,Uy}var Hy,XA;function S_(){if(XA)return Hy;XA=1;var t=Nn(),e=_c(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(t(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return Hy=i,Hy}var jy,KA;function yne(){if(KA)return jy;KA=1;var t=h_(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,c=i?i.apply(this,l):l[0],h=o.cache;if(h.has(c))return h.get(c);var f=r.apply(this,l);return o.cache=h.set(c,f)||h,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,jy=n,jy}var Fy,QA;function _ne(){if(QA)return Fy;QA=1;var t=yne(),e=500;function n(r){var i=t(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return Fy=n,Fy}var Gy,ZA;function bne(){if(ZA)return Gy;ZA=1;var t=_ne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,c,h,f){o.push(h?f.replace(n,"$1"):c||l)}),o});return Gy=r,Gy}var $y,WA;function x1(){if(WA)return $y;WA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return $y=t,$y}var Yy,JA;function wne(){if(JA)return Yy;JA=1;var t=gc(),e=x1(),n=Nn(),r=_c(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return o?o.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return Yy=l,Yy}var Xy,eC;function xz(){if(eC)return Xy;eC=1;var t=wne();function e(n){return n==null?"":t(n)}return Xy=e,Xy}var Ky,tC;function T1(){if(tC)return Ky;tC=1;var t=Nn(),e=S_(),n=bne(),r=xz();function i(o,l){return t(o)?o:e(o,l)?[o]:n(r(o))}return Ky=i,Ky}var Qy,nC;function kh(){if(nC)return Qy;nC=1;var t=_c();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Qy=e,Qy}var Zy,rC;function A1(){if(rC)return Zy;rC=1;var t=T1(),e=kh();function n(r,i){i=t(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return Zy=n,Zy}var Wy,iC;function Ene(){if(iC)return Wy;iC=1;var t=A1();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Wy=e,Wy}var Jy,aC;function Sne(){if(aC)return Jy;aC=1;function t(e,n){return e!=null&&n in Object(e)}return Jy=t,Jy}var e2,sC;function Tz(){if(sC)return e2;sC=1;var t=T1(),e=Nh(),n=Nn(),r=_1(),i=d_(),o=kh();function l(c,h,f){h=t(h,c);for(var m=-1,p=h.length,y=!1;++m<p;){var b=o(h[m]);if(!(y=c!=null&&f(c,b)))break;c=c[b]}return y||++m!=p?y:(p=c==null?0:c.length,!!p&&i(p)&&r(b,p)&&(n(c)||e(c)))}return e2=l,e2}var t2,oC;function Az(){if(oC)return t2;oC=1;var t=Sne(),e=Tz();function n(r,i){return r!=null&&e(r,i,t)}return t2=n,t2}var n2,lC;function xne(){if(lC)return n2;lC=1;var t=wz(),e=Ene(),n=Az(),r=S_(),i=Ez(),o=Sz(),l=kh(),c=1,h=2;function f(m,p){return r(m)&&i(p)?o(l(m),p):function(y){var b=e(y,m);return b===void 0&&b===p?n(y,m):t(p,b,c|h)}}return n2=f,n2}var r2,uC;function Cz(){if(uC)return r2;uC=1;function t(e){return function(n){return n?.[e]}}return r2=t,r2}var i2,cC;function Tne(){if(cC)return i2;cC=1;var t=A1();function e(n){return function(r){return t(r,n)}}return i2=e,i2}var a2,hC;function Ane(){if(hC)return a2;hC=1;var t=Cz(),e=Tne(),n=S_(),r=kh();function i(o){return n(o)?t(r(o)):e(o)}return a2=i,a2}var s2,fC;function ps(){if(fC)return s2;fC=1;var t=vne(),e=xne(),n=kl(),r=Nn(),i=Ane();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return s2=o,s2}var o2,dC;function Rz(){if(dC)return o2;dC=1;var t=iz(),e=one(),n=ps(),r=Nn();function i(o,l){var c=r(o)?t:e;return c(o,n(l,3))}return o2=i,o2}var l2,mC;function Cne(){if(mC)return l2;mC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return l2=n,l2}var u2,pC;function Iz(){if(pC)return u2;pC=1;var t=Cne(),e=Tz();function n(r,i){return r!=null&&e(r,i,t)}return u2=n,u2}var c2,gC;function Rne(){if(gC)return c2;gC=1;var t=p_(),e=yc(),n=Nh(),r=Nn(),i=ms(),o=vc(),l=w1(),c=Mh(),h="[object Map]",f="[object Set]",m=Object.prototype,p=m.hasOwnProperty;function y(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||o(b)||c(b)||n(b)))return!b.length;var E=e(b);if(E==h||E==f)return!b.size;if(l(b))return!t(b).length;for(var T in b)if(p.call(b,T))return!1;return!0}return c2=y,c2}var h2,vC;function Nz(){if(vC)return h2;vC=1;function t(e){return e===void 0}return h2=t,h2}var f2,yC;function Mz(){if(yC)return f2;yC=1;var t=S1(),e=ms();function n(r,i){var o=-1,l=e(r)?Array(r.length):[];return t(r,function(c,h,f){l[++o]=i(c,h,f)}),l}return f2=n,f2}var d2,_C;function kz(){if(_C)return d2;_C=1;var t=x1(),e=ps(),n=Mz(),r=Nn();function i(o,l){var c=r(o)?t:n;return c(o,e(l,3))}return d2=i,d2}var m2,bC;function Ine(){if(bC)return m2;bC=1;function t(e,n,r,i){var o=-1,l=e==null?0:e.length;for(i&&l&&(r=e[++o]);++o<l;)r=n(r,e[o],o,e);return r}return m2=t,m2}var p2,wC;function Nne(){if(wC)return p2;wC=1;function t(e,n,r,i,o){return o(e,function(l,c,h){r=i?(i=!1,l):n(r,l,c,h)}),r}return p2=t,p2}var g2,EC;function Dz(){if(EC)return g2;EC=1;var t=Ine(),e=S1(),n=ps(),r=Nne(),i=Nn();function o(l,c,h){var f=i(l)?t:r,m=arguments.length<3;return f(l,n(c,4),h,m,e)}return g2=o,g2}var v2,SC;function Mne(){if(SC)return v2;SC=1;var t=Il(),e=Nn(),n=ba(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return v2=i,v2}var y2,xC;function kne(){if(xC)return y2;xC=1;var t=Cz(),e=t("length");return y2=e,y2}var _2,TC;function Dne(){if(TC)return _2;TC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+o+"]");function h(f){return c.test(f)}return _2=h,_2}var b2,AC;function One(){if(AC)return b2;AC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+h+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",E=f+"?",T="["+o+"]?",x="(?:"+b+"(?:"+[m,p,y].join("|")+")"+T+E+")*",C=T+E+x,D="(?:"+[m+c+"?",c,p,y,l].join("|")+")",A=RegExp(h+"(?="+h+")|"+D+C,"g");function O(U){for(var L=A.lastIndex=0;A.test(U);)++L;return L}return b2=O,b2}var w2,CC;function zne(){if(CC)return w2;CC=1;var t=kne(),e=Dne(),n=One();function r(i){return e(i)?n(i):t(i)}return w2=r,w2}var E2,RC;function Vne(){if(RC)return E2;RC=1;var t=p_(),e=yc(),n=ms(),r=Mne(),i=zne(),o="[object Map]",l="[object Set]";function c(h){if(h==null)return 0;if(n(h))return r(h)?i(h):h.length;var f=e(h);return f==o||f==l?h.size:t(h).length}return E2=c,E2}var S2,IC;function qne(){if(IC)return S2;IC=1;var t=f_(),e=fz(),n=w_(),r=ps(),i=E1(),o=Nn(),l=vc(),c=Rh(),h=yi(),f=Mh();function m(p,y,b){var E=o(p),T=E||l(p)||f(p);if(y=r(y,4),b==null){var x=p&&p.constructor;T?b=E?new x:[]:h(p)?b=c(x)?e(i(p)):{}:b={}}return(T?t:n)(p,function(C,D,A){return y(b,C,D,A)}),b}return S2=m,S2}var x2,NC;function Lne(){if(NC)return x2;NC=1;var t=gc(),e=Nh(),n=Nn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return x2=i,x2}var T2,MC;function x_(){if(MC)return T2;MC=1;var t=v_(),e=Lne();function n(r,i,o,l,c){var h=-1,f=r.length;for(o||(o=e),c||(c=[]);++h<f;){var m=r[h];i>0&&o(m)?i>1?n(m,i-1,o,l,c):t(c,m):l||(c[c.length]=m)}return c}return T2=n,T2}var A2,kC;function Pne(){if(kC)return A2;kC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return A2=t,A2}var C2,DC;function Oz(){if(DC)return C2;DC=1;var t=Pne(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,h=e(l.length-i,0),f=Array(h);++c<h;)f[c]=l[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=l[c];return m[i]=o(f),t(r,this,m)}}return C2=n,C2}var R2,OC;function Bne(){if(OC)return R2;OC=1;var t=__(),e=JO(),n=kl(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return R2=r,R2}var I2,zC;function Une(){if(zC)return I2;zC=1;var t=800,e=16,n=Date.now;function r(i){var o=0,l=0;return function(){var c=n(),h=e-(c-l);if(l=c,h>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return I2=r,I2}var N2,VC;function zz(){if(VC)return N2;VC=1;var t=Bne(),e=Une(),n=e(t);return N2=n,N2}var M2,qC;function C1(){if(qC)return M2;qC=1;var t=kl(),e=Oz(),n=zz();function r(i,o){return n(e(i,o,t),i+"")}return M2=r,M2}var k2,LC;function Vz(){if(LC)return k2;LC=1;function t(e,n,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(n(e[l],l,e))return l;return-1}return k2=t,k2}var D2,PC;function Hne(){if(PC)return D2;PC=1;function t(e){return e!==e}return D2=t,D2}var O2,BC;function jne(){if(BC)return O2;BC=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return O2=t,O2}var z2,UC;function Fne(){if(UC)return z2;UC=1;var t=Vz(),e=Hne(),n=jne();function r(i,o,l){return o===o?n(i,o,l):t(i,e,l)}return z2=r,z2}var V2,HC;function Gne(){if(HC)return V2;HC=1;var t=Fne();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return V2=e,V2}var q2,jC;function $ne(){if(jC)return q2;jC=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return q2=t,q2}var L2,FC;function Yne(){if(FC)return L2;FC=1;function t(){}return L2=t,L2}var P2,GC;function Xne(){if(GC)return P2;GC=1;var t=uz(),e=Yne(),n=E_(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return P2=i,P2}var B2,$C;function Kne(){if($C)return B2;$C=1;var t=yz(),e=Gne(),n=$ne(),r=_z(),i=Xne(),o=E_(),l=200;function c(h,f,m){var p=-1,y=e,b=h.length,E=!0,T=[],x=T;if(m)E=!1,y=n;else if(b>=l){var C=f?null:i(h);if(C)return o(C);E=!1,y=r,x=new t}else x=f?[]:T;e:for(;++p<b;){var D=h[p],A=f?f(D):D;if(D=m||D!==0?D:0,E&&A===A){for(var O=x.length;O--;)if(x[O]===A)continue e;f&&x.push(A),T.push(D)}else y(x,A,m)||(x!==T&&x.push(A),T.push(D))}return T}return B2=c,B2}var U2,YC;function qz(){if(YC)return U2;YC=1;var t=ms(),e=ba();function n(r){return e(r)&&t(r)}return U2=n,U2}var H2,XC;function Qne(){if(XC)return H2;XC=1;var t=x_(),e=C1(),n=Kne(),r=qz(),i=e(function(o){return n(t(o,1,r,!0))});return H2=i,H2}var j2,KC;function Zne(){if(KC)return j2;KC=1;var t=x1();function e(n,r){return t(r,function(i){return n[i]})}return j2=e,j2}var F2,QC;function Lz(){if(QC)return F2;QC=1;var t=Zne(),e=Ro();function n(r){return r==null?[]:t(r,e(r))}return F2=n,F2}var G2,ZC;function _i(){if(ZC)return G2;ZC=1;var t;if(typeof u_=="function")try{t={clone:ine(),constant:__(),each:vz(),filter:Rz(),has:Iz(),isArray:Nn(),isEmpty:Rne(),isFunction:Rh(),isUndefined:Nz(),keys:Ro(),map:kz(),reduce:Dz(),size:Vne(),transform:qne(),union:Qne(),values:Lz()}}catch{}return t||(t=window._),G2=t,G2}var $2,WC;function T_(){if(WC)return $2;WC=1;var t=_i();$2=i;var e="\0",n="\0",r="";function i(m){this._isDirected=t.has(m,"directed")?m.directed:!0,this._isMultigraph=t.has(m,"multigraph")?m.multigraph:!1,this._isCompound=t.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(m){return this._label=m,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultNodeLabelFn=m,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._in[p])})},i.prototype.sinks=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._out[p])})},i.prototype.setNodes=function(m,p){var y=arguments,b=this;return t.each(m,function(E){y.length>1?b.setNode(E,p):b.setNode(E)}),this},i.prototype.setNode=function(m,p){return t.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=p),this):(this._nodes[m]=arguments.length>1?p:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=n,this._children[m]={},this._children[n][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},i.prototype.node=function(m){return this._nodes[m]},i.prototype.hasNode=function(m){return t.has(this._nodes,m)},i.prototype.removeNode=function(m){var p=this;if(t.has(this._nodes,m)){var y=function(b){p.removeEdge(p._edgeObjs[b])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],t.each(this.children(m),function(b){p.setParent(b)}),delete this._children[m]),t.each(t.keys(this._in[m]),y),delete this._in[m],delete this._preds[m],t.each(t.keys(this._out[m]),y),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},i.prototype.setParent=function(m,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=n;else{p+="";for(var y=p;!t.isUndefined(y);y=this.parent(y))if(y===m)throw new Error("Setting "+p+" as parent of "+m+" would create a cycle");this.setNode(p)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=p,this._children[p][m]=!0,this},i.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},i.prototype.parent=function(m){if(this._isCompound){var p=this._parent[m];if(p!==n)return p}},i.prototype.children=function(m){if(t.isUndefined(m)&&(m=n),this._isCompound){var p=this._children[m];if(p)return t.keys(p)}else{if(m===n)return this.nodes();if(this.hasNode(m))return[]}},i.prototype.predecessors=function(m){var p=this._preds[m];if(p)return t.keys(p)},i.prototype.successors=function(m){var p=this._sucs[m];if(p)return t.keys(p)},i.prototype.neighbors=function(m){var p=this.predecessors(m);if(p)return t.union(p,this.successors(m))},i.prototype.isLeaf=function(m){var p;return this.isDirected()?p=this.successors(m):p=this.neighbors(m),p.length===0},i.prototype.filterNodes=function(m){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var y=this;t.each(this._nodes,function(T,x){m(x)&&p.setNode(x,T)}),t.each(this._edgeObjs,function(T){p.hasNode(T.v)&&p.hasNode(T.w)&&p.setEdge(T,y.edge(T))});var b={};function E(T){var x=y.parent(T);return x===void 0||p.hasNode(x)?(b[T]=x,x):x in b?b[x]:E(x)}return this._isCompound&&t.each(p.nodes(),function(T){p.setParent(T,E(T))}),p},i.prototype.setDefaultEdgeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultEdgeLabelFn=m,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(m,p){var y=this,b=arguments;return t.reduce(m,function(E,T){return b.length>1?y.setEdge(E,T,p):y.setEdge(E,T),T}),this},i.prototype.setEdge=function(){var m,p,y,b,E=!1,T=arguments[0];typeof T=="object"&&T!==null&&"v"in T?(m=T.v,p=T.w,y=T.name,arguments.length===2&&(b=arguments[1],E=!0)):(m=T,p=arguments[1],y=arguments[3],arguments.length>2&&(b=arguments[2],E=!0)),m=""+m,p=""+p,t.isUndefined(y)||(y=""+y);var x=c(this._isDirected,m,p,y);if(t.has(this._edgeLabels,x))return E&&(this._edgeLabels[x]=b),this;if(!t.isUndefined(y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(p),this._edgeLabels[x]=E?b:this._defaultEdgeLabelFn(m,p,y);var C=h(this._isDirected,m,p,y);return m=C.v,p=C.w,Object.freeze(C),this._edgeObjs[x]=C,o(this._preds[p],m),o(this._sucs[m],p),this._in[p][x]=C,this._out[m][x]=C,this._edgeCount++,this},i.prototype.edge=function(m,p,y){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,y);return this._edgeLabels[b]},i.prototype.hasEdge=function(m,p,y){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,y);return t.has(this._edgeLabels,b)},i.prototype.removeEdge=function(m,p,y){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,y),E=this._edgeObjs[b];return E&&(m=E.v,p=E.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[p],m),l(this._sucs[m],p),delete this._in[p][b],delete this._out[m][b],this._edgeCount--),this},i.prototype.inEdges=function(m,p){var y=this._in[m];if(y){var b=t.values(y);return p?t.filter(b,function(E){return E.v===p}):b}},i.prototype.outEdges=function(m,p){var y=this._out[m];if(y){var b=t.values(y);return p?t.filter(b,function(E){return E.w===p}):b}},i.prototype.nodeEdges=function(m,p){var y=this.inEdges(m,p);if(y)return y.concat(this.outEdges(m,p))};function o(m,p){m[p]?m[p]++:m[p]=1}function l(m,p){--m[p]||delete m[p]}function c(m,p,y,b){var E=""+p,T=""+y;if(!m&&E>T){var x=E;E=T,T=x}return E+r+T+r+(t.isUndefined(b)?e:b)}function h(m,p,y,b){var E=""+p,T=""+y;if(!m&&E>T){var x=E;E=T,T=x}var C={v:E,w:T};return b&&(C.name=b),C}function f(m,p){return c(m,p.v,p.w,p.name)}return $2}var Y2,JC;function Wne(){return JC||(JC=1,Y2="2.1.8"),Y2}var X2,eR;function Jne(){return eR||(eR=1,X2={Graph:T_(),version:Wne()}),X2}var K2,tR;function ere(){if(tR)return K2;tR=1;var t=_i(),e=T_();K2={write:n,read:o};function n(l){var c={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return t.isUndefined(l.graph())||(c.value=t.clone(l.graph())),c}function r(l){return t.map(l.nodes(),function(c){var h=l.node(c),f=l.parent(c),m={v:c};return t.isUndefined(h)||(m.value=h),t.isUndefined(f)||(m.parent=f),m})}function i(l){return t.map(l.edges(),function(c){var h=l.edge(c),f={v:c.v,w:c.w};return t.isUndefined(c.name)||(f.name=c.name),t.isUndefined(h)||(f.value=h),f})}function o(l){var c=new e(l.options).setGraph(l.value);return t.each(l.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),t.each(l.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}return K2}var Q2,nR;function tre(){if(nR)return Q2;nR=1;var t=_i();Q2=e;function e(n){var r={},i=[],o;function l(c){t.has(r,c)||(r[c]=!0,o.push(c),t.each(n.successors(c),l),t.each(n.predecessors(c),l))}return t.each(n.nodes(),function(c){o=[],l(c),o.length&&i.push(o)}),i}return Q2}var Z2,rR;function Pz(){if(rR)return Z2;rR=1;var t=_i();Z2=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var o=this._arr,l=o.length;return i[n]=l,o.push({key:n,priority:r}),this._decrease(l),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,o<r.length&&(l=r[o].priority<r[l].priority?o:l),l!==n&&(this._swap(n,l),this._heapify(l)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},e.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,l=i[n],c=i[r];i[n]=c,i[r]=l,o[c.key]=n,o[l.key]=r},Z2}var W2,iR;function Bz(){if(iR)return W2;iR=1;var t=_i(),e=Pz();W2=r;var n=t.constant(1);function r(o,l,c,h){return i(o,String(l),c||n,h||function(f){return o.outEdges(f)})}function i(o,l,c,h){var f={},m=new e,p,y,b=function(E){var T=E.v!==p?E.v:E.w,x=f[T],C=c(E),D=y.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+E+" Weight: "+C);D<x.distance&&(x.distance=D,x.predecessor=p,m.decrease(T,D))};for(o.nodes().forEach(function(E){var T=E===l?0:Number.POSITIVE_INFINITY;f[E]={distance:T},m.add(E,T)});m.size()>0&&(p=m.removeMin(),y=f[p],y.distance!==Number.POSITIVE_INFINITY);)h(p).forEach(b);return f}return W2}var J2,aR;function nre(){if(aR)return J2;aR=1;var t=Bz(),e=_i();J2=n;function n(r,i,o){return e.transform(r.nodes(),function(l,c){l[c]=t(r,c,i,o)},{})}return J2}var e3,sR;function Uz(){if(sR)return e3;sR=1;var t=_i();e3=e;function e(n){var r=0,i=[],o={},l=[];function c(h){var f=o[h]={onStack:!0,lowlink:r,index:r++};if(i.push(h),n.successors(h).forEach(function(y){t.has(o,y)?o[y].onStack&&(f.lowlink=Math.min(f.lowlink,o[y].index)):(c(y),f.lowlink=Math.min(f.lowlink,o[y].lowlink))}),f.lowlink===f.index){var m=[],p;do p=i.pop(),o[p].onStack=!1,m.push(p);while(h!==p);l.push(m)}}return n.nodes().forEach(function(h){t.has(o,h)||c(h)}),l}return e3}var t3,oR;function rre(){if(oR)return t3;oR=1;var t=_i(),e=Uz();t3=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return t3}var n3,lR;function ire(){if(lR)return n3;lR=1;var t=_i();n3=n;var e=t.constant(1);function n(i,o,l){return r(i,o||e,l||function(c){return i.outEdges(c)})}function r(i,o,l){var c={},h=i.nodes();return h.forEach(function(f){c[f]={},c[f][f]={distance:0},h.forEach(function(m){f!==m&&(c[f][m]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(m){var p=m.v===f?m.w:m.v,y=o(m);c[f][p]={distance:y,predecessor:f}})}),h.forEach(function(f){var m=c[f];h.forEach(function(p){var y=c[p];h.forEach(function(b){var E=y[f],T=m[b],x=y[b],C=E.distance+T.distance;C<x.distance&&(x.distance=C,x.predecessor=T.predecessor)})})}),c}return n3}var r3,uR;function Hz(){if(uR)return r3;uR=1;var t=_i();r3=e,e.CycleException=n;function e(r){var i={},o={},l=[];function c(h){if(t.has(o,h))throw new n;t.has(i,h)||(o[h]=!0,i[h]=!0,t.each(r.predecessors(h),c),delete o[h],l.push(h))}if(t.each(r.sinks(),c),t.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,r3}var i3,cR;function are(){if(cR)return i3;cR=1;var t=Hz();i3=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return i3}var a3,hR;function jz(){if(hR)return a3;hR=1;var t=_i();a3=e;function e(r,i,o){t.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),c=[],h={};return t.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,o==="post",h,l,c)}),c}function n(r,i,o,l,c,h){t.has(l,i)||(l[i]=!0,o||h.push(i),t.each(c(i),function(f){n(r,f,o,l,c,h)}),o&&h.push(i))}return a3}var s3,fR;function sre(){if(fR)return s3;fR=1;var t=jz();s3=e;function e(n,r){return t(n,r,"post")}return s3}var o3,dR;function ore(){if(dR)return o3;dR=1;var t=jz();o3=e;function e(n,r){return t(n,r,"pre")}return o3}var l3,mR;function lre(){if(mR)return l3;mR=1;var t=_i(),e=T_(),n=Pz();l3=r;function r(i,o){var l=new e,c={},h=new n,f;function m(y){var b=y.v===f?y.w:y.v,E=h.priority(b);if(E!==void 0){var T=o(y);T<E&&(c[b]=f,h.decrease(b,T))}}if(i.nodeCount()===0)return l;t.each(i.nodes(),function(y){h.add(y,Number.POSITIVE_INFINITY),l.setNode(y)}),h.decrease(i.nodes()[0],0);for(var p=!1;h.size()>0;){if(f=h.removeMin(),t.has(c,f))l.setEdge(f,c[f]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(f).forEach(m)}return l}return l3}var u3,pR;function ure(){return pR||(pR=1,u3={components:tre(),dijkstra:Bz(),dijkstraAll:nre(),findCycles:rre(),floydWarshall:ire(),isAcyclic:are(),postorder:sre(),preorder:ore(),prim:lre(),tarjan:Uz(),topsort:Hz()}),u3}var c3,gR;function cre(){if(gR)return c3;gR=1;var t=Jne();return c3={Graph:t.Graph,json:ere(),alg:ure(),version:t.version},c3}var h3,vR;function Bi(){if(vR)return h3;vR=1;var t;if(typeof u_=="function")try{t=cre()}catch{}return t||(t=window.graphlib),h3=t,h3}var f3,yR;function hre(){if(yR)return f3;yR=1;var t=mz(),e=1,n=4;function r(i){return t(i,e|n)}return f3=r,f3}var d3,_R;function R1(){if(_R)return d3;_R=1;var t=pc(),e=ms(),n=_1(),r=yi();function i(o,l,c){if(!r(c))return!1;var h=typeof l;return(h=="number"?e(c)&&n(l,c.length):h=="string"&&l in c)?t(c[l],o):!1}return d3=i,d3}var m3,bR;function fre(){if(bR)return m3;bR=1;var t=C1(),e=pc(),n=R1(),r=Ml(),i=Object.prototype,o=i.hasOwnProperty,l=t(function(c,h){c=Object(c);var f=-1,m=h.length,p=m>2?h[2]:void 0;for(p&&n(h[0],h[1],p)&&(m=1);++f<m;)for(var y=h[f],b=r(y),E=-1,T=b.length;++E<T;){var x=b[E],C=c[x];(C===void 0||e(C,i[x])&&!o.call(c,x))&&(c[x]=y[x])}return c});return m3=l,m3}var p3,wR;function dre(){if(wR)return p3;wR=1;var t=ps(),e=ms(),n=Ro();function r(i){return function(o,l,c){var h=Object(o);if(!e(o)){var f=t(l,3);o=n(o),l=function(p){return f(h[p],p,h)}}var m=i(o,l,c);return m>-1?h[f?o[m]:m]:void 0}}return p3=r,p3}var g3,ER;function mre(){if(ER)return g3;ER=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return g3=e,g3}var v3,SR;function pre(){if(SR)return v3;SR=1;var t=mre(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return v3=n,v3}var y3,xR;function gre(){if(xR)return y3;xR=1;var t=pre(),e=yi(),n=_c(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||l.test(f)?c(f.slice(2),p?2:8):i.test(f)?r:+f}return y3=h,y3}var _3,TR;function Fz(){if(TR)return _3;TR=1;var t=gre(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return _3=r,_3}var b3,AR;function vre(){if(AR)return b3;AR=1;var t=Fz();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return b3=e,b3}var w3,CR;function yre(){if(CR)return w3;CR=1;var t=Vz(),e=ps(),n=vre(),r=Math.max;function i(o,l,c){var h=o==null?0:o.length;if(!h)return-1;var f=c==null?0:n(c);return f<0&&(f=r(h+f,0)),t(o,e(l,3),f)}return w3=i,w3}var E3,RR;function _re(){if(RR)return E3;RR=1;var t=dre(),e=yre(),n=t(e);return E3=n,E3}var S3,IR;function Gz(){if(IR)return S3;IR=1;var t=x_();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return S3=e,S3}var x3,NR;function bre(){if(NR)return x3;NR=1;var t=b_(),e=pz(),n=Ml();function r(i,o){return i==null?i:t(i,e(o),n)}return x3=r,x3}var T3,MR;function wre(){if(MR)return T3;MR=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return T3=t,T3}var A3,kR;function Ere(){if(kR)return A3;kR=1;var t=v1(),e=w_(),n=ps();function r(i,o){var l={};return o=n(o,3),e(i,function(c,h,f){t(l,h,o(c,h,f))}),l}return A3=r,A3}var C3,DR;function A_(){if(DR)return C3;DR=1;var t=_c();function e(n,r,i){for(var o=-1,l=n.length;++o<l;){var c=n[o],h=r(c);if(h!=null&&(f===void 0?h===h&&!t(h):i(h,f)))var f=h,m=c}return m}return C3=e,C3}var R3,OR;function Sre(){if(OR)return R3;OR=1;function t(e,n){return e>n}return R3=t,R3}var I3,zR;function xre(){if(zR)return I3;zR=1;var t=A_(),e=Sre(),n=kl();function r(i){return i&&i.length?t(i,n,e):void 0}return I3=r,I3}var N3,VR;function $z(){if(VR)return N3;VR=1;var t=v1(),e=pc();function n(r,i,o){(o!==void 0&&!e(r[i],o)||o===void 0&&!(i in r))&&t(r,i,o)}return N3=n,N3}var M3,qR;function Tre(){if(qR)return M3;qR=1;var t=Il(),e=E1(),n=ba(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,h=l.call(Object);function f(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var y=c.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==h}return M3=f,M3}var k3,LR;function Yz(){if(LR)return k3;LR=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return k3=t,k3}var D3,PR;function Are(){if(PR)return D3;PR=1;var t=Ih(),e=Ml();function n(r){return t(r,e(r))}return D3=n,D3}var O3,BR;function Cre(){if(BR)return O3;BR=1;var t=$z(),e=nz(),n=hz(),r=rz(),i=dz(),o=Nh(),l=Nn(),c=qz(),h=vc(),f=Rh(),m=yi(),p=Tre(),y=Mh(),b=Yz(),E=Are();function T(x,C,D,A,O,U,L){var I=b(x,D),M=b(C,D),k=L.get(M);if(k){t(x,D,k);return}var H=U?U(I,M,D+"",x,C,L):void 0,V=H===void 0;if(V){var B=l(M),P=!B&&h(M),K=!B&&!P&&y(M);H=M,B||P||K?l(I)?H=I:c(I)?H=r(I):P?(V=!1,H=e(M,!0)):K?(V=!1,H=n(M,!0)):H=[]:p(M)||o(M)?(H=I,o(I)?H=E(I):(!m(I)||f(I))&&(H=i(M))):V=!1}V&&(L.set(M,H),O(H,M,A,U,L),L.delete(M)),t(x,D,H)}return O3=T,O3}var z3,UR;function Rre(){if(UR)return z3;UR=1;var t=g1(),e=$z(),n=b_(),r=Cre(),i=yi(),o=Ml(),l=Yz();function c(h,f,m,p,y){h!==f&&n(f,function(b,E){if(y||(y=new t),i(b))r(h,f,E,m,c,p,y);else{var T=p?p(l(h,E),b,E+"",h,f,y):void 0;T===void 0&&(T=b),e(h,E,T)}},o)}return z3=c,z3}var V3,HR;function Ire(){if(HR)return V3;HR=1;var t=C1(),e=R1();function n(r){return t(function(i,o){var l=-1,c=o.length,h=c>1?o[c-1]:void 0,f=c>2?o[2]:void 0;for(h=r.length>3&&typeof h=="function"?(c--,h):void 0,f&&e(o[0],o[1],f)&&(h=c<3?void 0:h,c=1),i=Object(i);++l<c;){var m=o[l];m&&r(i,m,l,h)}return i})}return V3=n,V3}var q3,jR;function Nre(){if(jR)return q3;jR=1;var t=Rre(),e=Ire(),n=e(function(r,i,o){t(r,i,o)});return q3=n,q3}var L3,FR;function Xz(){if(FR)return L3;FR=1;function t(e,n){return e<n}return L3=t,L3}var P3,GR;function Mre(){if(GR)return P3;GR=1;var t=A_(),e=Xz(),n=kl();function r(i){return i&&i.length?t(i,n,e):void 0}return P3=r,P3}var B3,$R;function kre(){if($R)return B3;$R=1;var t=A_(),e=ps(),n=Xz();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return B3=r,B3}var U3,YR;function Dre(){if(YR)return U3;YR=1;var t=Hi(),e=function(){return t.Date.now()};return U3=e,U3}var H3,XR;function Ore(){if(XR)return H3;XR=1;var t=y1(),e=T1(),n=_1(),r=yi(),i=kh();function o(l,c,h,f){if(!r(l))return l;c=e(c,l);for(var m=-1,p=c.length,y=p-1,b=l;b!=null&&++m<p;){var E=i(c[m]),T=h;if(E==="__proto__"||E==="constructor"||E==="prototype")return l;if(m!=y){var x=b[E];T=f?f(x,E,b):void 0,T===void 0&&(T=r(x)?x:n(c[m+1])?[]:{})}t(b,E,T),b=b[E]}return l}return H3=o,H3}var j3,KR;function zre(){if(KR)return j3;KR=1;var t=A1(),e=Ore(),n=T1();function r(i,o,l){for(var c=-1,h=o.length,f={};++c<h;){var m=o[c],p=t(i,m);l(p,m)&&e(f,n(m,i),p)}return f}return j3=r,j3}var F3,QR;function Vre(){if(QR)return F3;QR=1;var t=zre(),e=Az();function n(r,i){return t(r,i,function(o,l){return e(r,l)})}return F3=n,F3}var G3,ZR;function qre(){if(ZR)return G3;ZR=1;var t=Gz(),e=Oz(),n=zz();function r(i){return n(e(i,void 0,t),i+"")}return G3=r,G3}var $3,WR;function Lre(){if(WR)return $3;WR=1;var t=Vre(),e=qre(),n=e(function(r,i){return r==null?{}:t(r,i)});return $3=n,$3}var Y3,JR;function Pre(){if(JR)return Y3;JR=1;var t=Math.ceil,e=Math.max;function n(r,i,o,l){for(var c=-1,h=e(t((i-r)/(o||1)),0),f=Array(h);h--;)f[l?h:++c]=r,r+=o;return f}return Y3=n,Y3}var X3,eI;function Bre(){if(eI)return X3;eI=1;var t=Pre(),e=R1(),n=Fz();function r(i){return function(o,l,c){return c&&typeof c!="number"&&e(o,l,c)&&(l=c=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),c=c===void 0?o<l?1:-1:n(c),t(o,l,c,i)}}return X3=r,X3}var K3,tI;function Ure(){if(tI)return K3;tI=1;var t=Bre(),e=t();return K3=e,K3}var Q3,nI;function Hre(){if(nI)return Q3;nI=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Q3=t,Q3}var Z3,rI;function jre(){if(rI)return Z3;rI=1;var t=_c();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,l=n===n,c=t(n),h=r!==void 0,f=r===null,m=r===r,p=t(r);if(!f&&!p&&!c&&n>r||c&&h&&m&&!f&&!p||o&&h&&m||!i&&m||!l)return 1;if(!o&&!c&&!p&&n<r||p&&i&&l&&!o&&!c||f&&i&&l||!h&&l||!m)return-1}return 0}return Z3=e,Z3}var W3,iI;function Fre(){if(iI)return W3;iI=1;var t=jre();function e(n,r,i){for(var o=-1,l=n.criteria,c=r.criteria,h=l.length,f=i.length;++o<h;){var m=t(l[o],c[o]);if(m){if(o>=f)return m;var p=i[o];return m*(p=="desc"?-1:1)}}return n.index-r.index}return W3=e,W3}var J3,aI;function Gre(){if(aI)return J3;aI=1;var t=x1(),e=A1(),n=ps(),r=Mz(),i=Hre(),o=b1(),l=Fre(),c=kl(),h=Nn();function f(m,p,y){p.length?p=t(p,function(T){return h(T)?function(x){return e(x,T.length===1?T[0]:T)}:T}):p=[c];var b=-1;p=t(p,o(n));var E=r(m,function(T,x,C){var D=t(p,function(A){return A(T)});return{criteria:D,index:++b,value:T}});return i(E,function(T,x){return l(T,x,y)})}return J3=f,J3}var e5,sI;function $re(){if(sI)return e5;sI=1;var t=x_(),e=Gre(),n=C1(),r=R1(),i=n(function(o,l){if(o==null)return[];var c=l.length;return c>1&&r(o,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return e5=i,e5}var t5,oI;function Yre(){if(oI)return t5;oI=1;var t=xz(),e=0;function n(r){var i=++e;return t(r)+i}return t5=n,t5}var n5,lI;function Xre(){if(lI)return n5;lI=1;function t(e,n,r){for(var i=-1,o=e.length,l=n.length,c={};++i<o;){var h=i<l?n[i]:void 0;r(c,e[i],h)}return c}return n5=t,n5}var r5,uI;function Kre(){if(uI)return r5;uI=1;var t=y1(),e=Xre();function n(r,i){return e(r||[],i||[],t)}return r5=n,r5}var i5,cI;function Wt(){if(cI)return i5;cI=1;var t;if(typeof u_=="function")try{t={cloneDeep:hre(),constant:__(),defaults:fre(),each:vz(),filter:Rz(),find:_re(),flatten:Gz(),forEach:gz(),forIn:bre(),has:Iz(),isUndefined:Nz(),last:wre(),map:kz(),mapValues:Ere(),max:xre(),merge:Nre(),min:Mre(),minBy:kre(),now:Dre(),pick:Lre(),range:Ure(),reduce:Dz(),sortBy:$re(),uniqueId:Yre(),values:Lz(),zipObject:Kre()}}catch{}return t||(t=window._),i5=t,i5}var a5,hI;function Qre(){if(hI)return a5;hI=1,a5=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,o=i._prev;o!==i;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return a5}var s5,fI;function Zre(){if(fI)return s5;fI=1;var t=Wt(),e=Bi().Graph,n=Qre();s5=i;var r=t.constant(1);function i(f,m){if(f.nodeCount()<=1)return[];var p=c(f,m||r),y=o(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(y,function(b){return f.outEdges(b.v,b.w)}),!0)}function o(f,m,p){for(var y=[],b=m[m.length-1],E=m[0],T;f.nodeCount();){for(;T=E.dequeue();)l(f,m,p,T);for(;T=b.dequeue();)l(f,m,p,T);if(f.nodeCount()){for(var x=m.length-2;x>0;--x)if(T=m[x].dequeue(),T){y=y.concat(l(f,m,p,T,!0));break}}}return y}function l(f,m,p,y,b){var E=b?[]:void 0;return t.forEach(f.inEdges(y.v),function(T){var x=f.edge(T),C=f.node(T.v);b&&E.push({v:T.v,w:T.w}),C.out-=x,h(m,p,C)}),t.forEach(f.outEdges(y.v),function(T){var x=f.edge(T),C=T.w,D=f.node(C);D.in-=x,h(m,p,D)}),f.removeNode(y.v),E}function c(f,m){var p=new e,y=0,b=0;t.forEach(f.nodes(),function(x){p.setNode(x,{v:x,in:0,out:0})}),t.forEach(f.edges(),function(x){var C=p.edge(x.v,x.w)||0,D=m(x),A=C+D;p.setEdge(x.v,x.w,A),b=Math.max(b,p.node(x.v).out+=D),y=Math.max(y,p.node(x.w).in+=D)});var E=t.range(b+y+3).map(function(){return new n}),T=y+1;return t.forEach(p.nodes(),function(x){h(E,T,p.node(x))}),{graph:p,buckets:E,zeroIdx:T}}function h(f,m,p){p.out?p.in?f[p.out-p.in+m].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return s5}var o5,dI;function Wre(){if(dI)return o5;dI=1;var t=Wt(),e=Zre();o5={run:n,undo:i};function n(o){var l=o.graph().acyclicer==="greedy"?e(o,c(o)):r(o);t.forEach(l,function(h){var f=o.edge(h);o.removeEdge(h),f.forwardName=h.name,f.reversed=!0,o.setEdge(h.w,h.v,f,t.uniqueId("rev"))});function c(h){return function(f){return h.edge(f).weight}}}function r(o){var l=[],c={},h={};function f(m){t.has(h,m)||(h[m]=!0,c[m]=!0,t.forEach(o.outEdges(m),function(p){t.has(c,p.w)?l.push(p):f(p.w)}),delete c[m])}return t.forEach(o.nodes(),f),l}function i(o){t.forEach(o.edges(),function(l){var c=o.edge(l);if(c.reversed){o.removeEdge(l);var h=c.forwardName;delete c.reversed,delete c.forwardName,o.setEdge(l.w,l.v,c,h)}})}return o5}var l5,mI;function Tr(){if(mI)return l5;mI=1;var t=Wt(),e=Bi().Graph;l5={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:l,intersectRect:c,buildLayerMatrix:h,normalizeRanks:f,removeEmptyRanks:m,addBorderNode:p,maxRank:y,partition:b,time:E,notime:T};function n(x,C,D,A){var O;do O=t.uniqueId(A);while(x.hasNode(O));return D.dummy=C,x.setNode(O,D),O}function r(x){var C=new e().setGraph(x.graph());return t.forEach(x.nodes(),function(D){C.setNode(D,x.node(D))}),t.forEach(x.edges(),function(D){var A=C.edge(D.v,D.w)||{weight:0,minlen:1},O=x.edge(D);C.setEdge(D.v,D.w,{weight:A.weight+O.weight,minlen:Math.max(A.minlen,O.minlen)})}),C}function i(x){var C=new e({multigraph:x.isMultigraph()}).setGraph(x.graph());return t.forEach(x.nodes(),function(D){x.children(D).length||C.setNode(D,x.node(D))}),t.forEach(x.edges(),function(D){C.setEdge(D,x.edge(D))}),C}function o(x){var C=t.map(x.nodes(),function(D){var A={};return t.forEach(x.outEdges(D),function(O){A[O.w]=(A[O.w]||0)+x.edge(O).weight}),A});return t.zipObject(x.nodes(),C)}function l(x){var C=t.map(x.nodes(),function(D){var A={};return t.forEach(x.inEdges(D),function(O){A[O.v]=(A[O.v]||0)+x.edge(O).weight}),A});return t.zipObject(x.nodes(),C)}function c(x,C){var D=x.x,A=x.y,O=C.x-D,U=C.y-A,L=x.width/2,I=x.height/2;if(!O&&!U)throw new Error("Not possible to find intersection inside of the rectangle");var M,k;return Math.abs(U)*L>Math.abs(O)*I?(U<0&&(I=-I),M=I*O/U,k=I):(O<0&&(L=-L),M=L,k=L*U/O),{x:D+M,y:A+k}}function h(x){var C=t.map(t.range(y(x)+1),function(){return[]});return t.forEach(x.nodes(),function(D){var A=x.node(D),O=A.rank;t.isUndefined(O)||(C[O][A.order]=D)}),C}function f(x){var C=t.min(t.map(x.nodes(),function(D){return x.node(D).rank}));t.forEach(x.nodes(),function(D){var A=x.node(D);t.has(A,"rank")&&(A.rank-=C)})}function m(x){var C=t.min(t.map(x.nodes(),function(U){return x.node(U).rank})),D=[];t.forEach(x.nodes(),function(U){var L=x.node(U).rank-C;D[L]||(D[L]=[]),D[L].push(U)});var A=0,O=x.graph().nodeRankFactor;t.forEach(D,function(U,L){t.isUndefined(U)&&L%O!==0?--A:A&&t.forEach(U,function(I){x.node(I).rank+=A})})}function p(x,C,D,A){var O={width:0,height:0};return arguments.length>=4&&(O.rank=D,O.order=A),n(x,"border",O,C)}function y(x){return t.max(t.map(x.nodes(),function(C){var D=x.node(C).rank;if(!t.isUndefined(D))return D}))}function b(x,C){var D={lhs:[],rhs:[]};return t.forEach(x,function(A){C(A)?D.lhs.push(A):D.rhs.push(A)}),D}function E(x,C){var D=t.now();try{return C()}finally{console.log(x+" time: "+(t.now()-D)+"ms")}}function T(x,C){return C()}return l5}var u5,pI;function Jre(){if(pI)return u5;pI=1;var t=Wt(),e=Tr();u5={run:n,undo:i};function n(o){o.graph().dummyChains=[],t.forEach(o.edges(),function(l){r(o,l)})}function r(o,l){var c=l.v,h=o.node(c).rank,f=l.w,m=o.node(f).rank,p=l.name,y=o.edge(l),b=y.labelRank;if(m!==h+1){o.removeEdge(l);var E,T,x;for(x=0,++h;h<m;++x,++h)y.points=[],T={width:0,height:0,edgeLabel:y,edgeObj:l,rank:h},E=e.addDummyNode(o,"edge",T,"_d"),h===b&&(T.width=y.width,T.height=y.height,T.dummy="edge-label",T.labelpos=y.labelpos),o.setEdge(c,E,{weight:y.weight},p),x===0&&o.graph().dummyChains.push(E),c=E;o.setEdge(c,f,{weight:y.weight},p)}}function i(o){t.forEach(o.graph().dummyChains,function(l){var c=o.node(l),h=c.edgeLabel,f;for(o.setEdge(c.edgeObj,h);c.dummy;)f=o.successors(l)[0],o.removeNode(l),h.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),l=f,c=o.node(l)})}return u5}var c5,gI;function Em(){if(gI)return c5;gI=1;var t=Wt();c5={longestPath:e,slack:n};function e(r){var i={};function o(l){var c=r.node(l);if(t.has(i,l))return c.rank;i[l]=!0;var h=t.min(t.map(r.outEdges(l),function(f){return o(f.w)-r.edge(f).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),c.rank=h}t.forEach(r.sources(),o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return c5}var h5,vI;function Kz(){if(vI)return h5;vI=1;var t=Wt(),e=Bi().Graph,n=Em().slack;h5=r;function r(c){var h=new e({directed:!1}),f=c.nodes()[0],m=c.nodeCount();h.setNode(f,{});for(var p,y;i(h,c)<m;)p=o(h,c),y=h.hasNode(p.v)?n(c,p):-n(c,p),l(h,c,y);return h}function i(c,h){function f(m){t.forEach(h.nodeEdges(m),function(p){var y=p.v,b=m===y?p.w:y;!c.hasNode(b)&&!n(h,p)&&(c.setNode(b,{}),c.setEdge(m,b,{}),f(b))})}return t.forEach(c.nodes(),f),c.nodeCount()}function o(c,h){return t.minBy(h.edges(),function(f){if(c.hasNode(f.v)!==c.hasNode(f.w))return n(h,f)})}function l(c,h,f){t.forEach(c.nodes(),function(m){h.node(m).rank+=f})}return h5}var f5,yI;function eie(){if(yI)return f5;yI=1;var t=Wt(),e=Kz(),n=Em().slack,r=Em().longestPath,i=Bi().alg.preorder,o=Bi().alg.postorder,l=Tr().simplify;f5=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=m,c.leaveEdge=b,c.enterEdge=E,c.exchangeEdges=T;function c(A){A=l(A),r(A);var O=e(A);p(O),h(O,A);for(var U,L;U=b(O);)L=E(O,A,U),T(O,A,U,L)}function h(A,O){var U=o(A,A.nodes());U=U.slice(0,U.length-1),t.forEach(U,function(L){f(A,O,L)})}function f(A,O,U){var L=A.node(U),I=L.parent;A.edge(U,I).cutvalue=m(A,O,U)}function m(A,O,U){var L=A.node(U),I=L.parent,M=!0,k=O.edge(U,I),H=0;return k||(M=!1,k=O.edge(I,U)),H=k.weight,t.forEach(O.nodeEdges(U),function(V){var B=V.v===U,P=B?V.w:V.v;if(P!==I){var K=B===M,te=O.edge(V).weight;if(H+=K?te:-te,C(A,U,P)){var $=A.edge(U,P).cutvalue;H+=K?-$:$}}}),H}function p(A,O){arguments.length<2&&(O=A.nodes()[0]),y(A,{},1,O)}function y(A,O,U,L,I){var M=U,k=A.node(L);return O[L]=!0,t.forEach(A.neighbors(L),function(H){t.has(O,H)||(U=y(A,O,U,H,L))}),k.low=M,k.lim=U++,I?k.parent=I:delete k.parent,U}function b(A){return t.find(A.edges(),function(O){return A.edge(O).cutvalue<0})}function E(A,O,U){var L=U.v,I=U.w;O.hasEdge(L,I)||(L=U.w,I=U.v);var M=A.node(L),k=A.node(I),H=M,V=!1;M.lim>k.lim&&(H=k,V=!0);var B=t.filter(O.edges(),function(P){return V===D(A,A.node(P.v),H)&&V!==D(A,A.node(P.w),H)});return t.minBy(B,function(P){return n(O,P)})}function T(A,O,U,L){var I=U.v,M=U.w;A.removeEdge(I,M),A.setEdge(L.v,L.w,{}),p(A),h(A,O),x(A,O)}function x(A,O){var U=t.find(A.nodes(),function(I){return!O.node(I).parent}),L=i(A,U);L=L.slice(1),t.forEach(L,function(I){var M=A.node(I).parent,k=O.edge(I,M),H=!1;k||(k=O.edge(M,I),H=!0),O.node(I).rank=O.node(M).rank+(H?k.minlen:-k.minlen)})}function C(A,O,U){return A.hasEdge(O,U)}function D(A,O,U){return U.low<=O.lim&&O.lim<=U.lim}return f5}var d5,_I;function tie(){if(_I)return d5;_I=1;var t=Em(),e=t.longestPath,n=Kz(),r=eie();d5=i;function i(h){switch(h.graph().ranker){case"network-simplex":c(h);break;case"tight-tree":l(h);break;case"longest-path":o(h);break;default:c(h)}}var o=e;function l(h){e(h),n(h)}function c(h){r(h)}return d5}var m5,bI;function nie(){if(bI)return m5;bI=1;var t=Wt();m5=e;function e(i){var o=r(i);t.forEach(i.graph().dummyChains,function(l){for(var c=i.node(l),h=c.edgeObj,f=n(i,o,h.v,h.w),m=f.path,p=f.lca,y=0,b=m[y],E=!0;l!==h.w;){if(c=i.node(l),E){for(;(b=m[y])!==p&&i.node(b).maxRank<c.rank;)y++;b===p&&(E=!1)}if(!E){for(;y<m.length-1&&i.node(b=m[y+1]).minRank<=c.rank;)y++;b=m[y]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,o,l,c){var h=[],f=[],m=Math.min(o[l].low,o[c].low),p=Math.max(o[l].lim,o[c].lim),y,b;y=l;do y=i.parent(y),h.push(y);while(y&&(o[y].low>m||p>o[y].lim));for(b=y,y=c;(y=i.parent(y))!==b;)f.push(y);return{path:h.concat(f.reverse()),lca:b}}function r(i){var o={},l=0;function c(h){var f=l;t.forEach(i.children(h),c),o[h]={low:f,lim:l++}}return t.forEach(i.children(),c),o}return m5}var p5,wI;function rie(){if(wI)return p5;wI=1;var t=Wt(),e=Tr();p5={run:n,cleanup:l};function n(c){var h=e.addDummyNode(c,"root",{},"_root"),f=i(c),m=t.max(t.values(f))-1,p=2*m+1;c.graph().nestingRoot=h,t.forEach(c.edges(),function(b){c.edge(b).minlen*=p});var y=o(c)+1;t.forEach(c.children(),function(b){r(c,h,p,y,m,f,b)}),c.graph().nodeRankFactor=p}function r(c,h,f,m,p,y,b){var E=c.children(b);if(!E.length){b!==h&&c.setEdge(h,b,{weight:0,minlen:f});return}var T=e.addBorderNode(c,"_bt"),x=e.addBorderNode(c,"_bb"),C=c.node(b);c.setParent(T,b),C.borderTop=T,c.setParent(x,b),C.borderBottom=x,t.forEach(E,function(D){r(c,h,f,m,p,y,D);var A=c.node(D),O=A.borderTop?A.borderTop:D,U=A.borderBottom?A.borderBottom:D,L=A.borderTop?m:2*m,I=O!==U?1:p-y[b]+1;c.setEdge(T,O,{weight:L,minlen:I,nestingEdge:!0}),c.setEdge(U,x,{weight:L,minlen:I,nestingEdge:!0})}),c.parent(b)||c.setEdge(h,T,{weight:0,minlen:p+y[b]})}function i(c){var h={};function f(m,p){var y=c.children(m);y&&y.length&&t.forEach(y,function(b){f(b,p+1)}),h[m]=p}return t.forEach(c.children(),function(m){f(m,1)}),h}function o(c){return t.reduce(c.edges(),function(h,f){return h+c.edge(f).weight},0)}function l(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,t.forEach(c.edges(),function(f){var m=c.edge(f);m.nestingEdge&&c.removeEdge(f)})}return p5}var g5,EI;function iie(){if(EI)return g5;EI=1;var t=Wt(),e=Tr();g5=n;function n(i){function o(l){var c=i.children(l),h=i.node(l);if(c.length&&t.forEach(c,o),t.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var f=h.minRank,m=h.maxRank+1;f<m;++f)r(i,"borderLeft","_bl",l,h,f),r(i,"borderRight","_br",l,h,f)}}t.forEach(i.children(),o)}function r(i,o,l,c,h,f){var m={width:0,height:0,rank:f,borderType:o},p=h[o][f-1],y=e.addDummyNode(i,"border",m,l);h[o][f]=y,i.setParent(y,c),p&&i.setEdge(p,y,{weight:1})}return g5}var v5,SI;function aie(){if(SI)return v5;SI=1;var t=Wt();v5={adjust:e,undo:n};function e(f){var m=f.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&r(f)}function n(f){var m=f.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&o(f),(m==="lr"||m==="rl")&&(c(f),r(f))}function r(f){t.forEach(f.nodes(),function(m){i(f.node(m))}),t.forEach(f.edges(),function(m){i(f.edge(m))})}function i(f){var m=f.width;f.width=f.height,f.height=m}function o(f){t.forEach(f.nodes(),function(m){l(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,l),t.has(p,"y")&&l(p)})}function l(f){f.y=-f.y}function c(f){t.forEach(f.nodes(),function(m){h(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,h),t.has(p,"x")&&h(p)})}function h(f){var m=f.x;f.x=f.y,f.y=m}return v5}var y5,xI;function sie(){if(xI)return y5;xI=1;var t=Wt();y5=e;function e(n){var r={},i=t.filter(n.nodes(),function(f){return!n.children(f).length}),o=t.max(t.map(i,function(f){return n.node(f).rank})),l=t.map(t.range(o+1),function(){return[]});function c(f){if(!t.has(r,f)){r[f]=!0;var m=n.node(f);l[m.rank].push(f),t.forEach(n.successors(f),c)}}var h=t.sortBy(i,function(f){return n.node(f).rank});return t.forEach(h,c),l}return y5}var _5,TI;function oie(){if(TI)return _5;TI=1;var t=Wt();_5=e;function e(r,i){for(var o=0,l=1;l<i.length;++l)o+=n(r,i[l-1],i[l]);return o}function n(r,i,o){for(var l=t.zipObject(o,t.map(o,function(y,b){return b})),c=t.flatten(t.map(i,function(y){return t.sortBy(t.map(r.outEdges(y),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),h=1;h<o.length;)h<<=1;var f=2*h-1;h-=1;var m=t.map(new Array(f),function(){return 0}),p=0;return t.forEach(c.forEach(function(y){var b=y.pos+h;m[b]+=y.weight;for(var E=0;b>0;)b%2&&(E+=m[b+1]),b=b-1>>1,m[b]+=y.weight;p+=y.weight*E})),p}return _5}var b5,AI;function lie(){if(AI)return b5;AI=1;var t=Wt();b5=e;function e(n,r){return t.map(r,function(i){var o=n.inEdges(i);if(o.length){var l=t.reduce(o,function(c,h){var f=n.edge(h),m=n.node(h.v);return{sum:c.sum+f.weight*m.order,weight:c.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return b5}var w5,CI;function uie(){if(CI)return w5;CI=1;var t=Wt();w5=e;function e(i,o){var l={};t.forEach(i,function(h,f){var m=l[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:f};t.isUndefined(h.barycenter)||(m.barycenter=h.barycenter,m.weight=h.weight)}),t.forEach(o.edges(),function(h){var f=l[h.v],m=l[h.w];!t.isUndefined(f)&&!t.isUndefined(m)&&(m.indegree++,f.out.push(l[h.w]))});var c=t.filter(l,function(h){return!h.indegree});return n(c)}function n(i){var o=[];function l(f){return function(m){m.merged||(t.isUndefined(m.barycenter)||t.isUndefined(f.barycenter)||m.barycenter>=f.barycenter)&&r(f,m)}}function c(f){return function(m){m.in.push(f),--m.indegree===0&&i.push(m)}}for(;i.length;){var h=i.pop();o.push(h),t.forEach(h.in.reverse(),l(h)),t.forEach(h.out,c(h))}return t.map(t.filter(o,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function r(i,o){var l=0,c=0;i.weight&&(l+=i.barycenter*i.weight,c+=i.weight),o.weight&&(l+=o.barycenter*o.weight,c+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=l/c,i.weight=c,i.i=Math.min(o.i,i.i),o.merged=!0}return w5}var E5,RI;function cie(){if(RI)return E5;RI=1;var t=Wt(),e=Tr();E5=n;function n(o,l){var c=e.partition(o,function(T){return t.has(T,"barycenter")}),h=c.lhs,f=t.sortBy(c.rhs,function(T){return-T.i}),m=[],p=0,y=0,b=0;h.sort(i(!!l)),b=r(m,f,b),t.forEach(h,function(T){b+=T.vs.length,m.push(T.vs),p+=T.barycenter*T.weight,y+=T.weight,b=r(m,f,b)});var E={vs:t.flatten(m,!0)};return y&&(E.barycenter=p/y,E.weight=y),E}function r(o,l,c){for(var h;l.length&&(h=t.last(l)).i<=c;)l.pop(),o.push(h.vs),c++;return c}function i(o){return function(l,c){return l.barycenter<c.barycenter?-1:l.barycenter>c.barycenter?1:o?c.i-l.i:l.i-c.i}}return E5}var S5,II;function hie(){if(II)return S5;II=1;var t=Wt(),e=lie(),n=uie(),r=cie();S5=i;function i(c,h,f,m){var p=c.children(h),y=c.node(h),b=y?y.borderLeft:void 0,E=y?y.borderRight:void 0,T={};b&&(p=t.filter(p,function(U){return U!==b&&U!==E}));var x=e(c,p);t.forEach(x,function(U){if(c.children(U.v).length){var L=i(c,U.v,f,m);T[U.v]=L,t.has(L,"barycenter")&&l(U,L)}});var C=n(x,f);o(C,T);var D=r(C,m);if(b&&(D.vs=t.flatten([b,D.vs,E],!0),c.predecessors(b).length)){var A=c.node(c.predecessors(b)[0]),O=c.node(c.predecessors(E)[0]);t.has(D,"barycenter")||(D.barycenter=0,D.weight=0),D.barycenter=(D.barycenter*D.weight+A.order+O.order)/(D.weight+2),D.weight+=2}return D}function o(c,h){t.forEach(c,function(f){f.vs=t.flatten(f.vs.map(function(m){return h[m]?h[m].vs:m}),!0)})}function l(c,h){t.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}return S5}var x5,NI;function fie(){if(NI)return x5;NI=1;var t=Wt(),e=Bi().Graph;x5=n;function n(i,o,l){var c=r(i),h=new e({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(f){return i.node(f)});return t.forEach(i.nodes(),function(f){var m=i.node(f),p=i.parent(f);(m.rank===o||m.minRank<=o&&o<=m.maxRank)&&(h.setNode(f),h.setParent(f,p||c),t.forEach(i[l](f),function(y){var b=y.v===f?y.w:y.v,E=h.edge(b,f),T=t.isUndefined(E)?0:E.weight;h.setEdge(b,f,{weight:i.edge(y).weight+T})}),t.has(m,"minRank")&&h.setNode(f,{borderLeft:m.borderLeft[o],borderRight:m.borderRight[o]}))}),h}function r(i){for(var o;i.hasNode(o=t.uniqueId("_root")););return o}return x5}var T5,MI;function die(){if(MI)return T5;MI=1;var t=Wt();T5=e;function e(n,r,i){var o={},l;t.forEach(i,function(c){for(var h=n.parent(c),f,m;h;){if(f=n.parent(h),f?(m=o[f],o[f]=h):(m=l,l=h),m&&m!==h){r.setEdge(m,h);return}h=f}})}return T5}var A5,kI;function mie(){if(kI)return A5;kI=1;var t=Wt(),e=sie(),n=oie(),r=hie(),i=fie(),o=die(),l=Bi().Graph,c=Tr();A5=h;function h(y){var b=c.maxRank(y),E=f(y,t.range(1,b+1),"inEdges"),T=f(y,t.range(b-1,-1,-1),"outEdges"),x=e(y);p(y,x);for(var C=Number.POSITIVE_INFINITY,D,A=0,O=0;O<4;++A,++O){m(A%2?E:T,A%4>=2),x=c.buildLayerMatrix(y);var U=n(y,x);U<C&&(O=0,D=t.cloneDeep(x),C=U)}p(y,D)}function f(y,b,E){return t.map(b,function(T){return i(y,T,E)})}function m(y,b){var E=new l;t.forEach(y,function(T){var x=T.graph().root,C=r(T,x,E,b);t.forEach(C.vs,function(D,A){T.node(D).order=A}),o(T,E,C.vs)})}function p(y,b){t.forEach(b,function(E){t.forEach(E,function(T,x){y.node(T).order=x})})}return A5}var C5,DI;function pie(){if(DI)return C5;DI=1;var t=Wt(),e=Bi().Graph,n=Tr();C5={positionX:E,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:c,verticalAlignment:h,horizontalCompaction:f,alignCoordinates:y,findSmallestWidthAlignment:p,balance:b};function r(C,D){var A={};function O(U,L){var I=0,M=0,k=U.length,H=t.last(L);return t.forEach(L,function(V,B){var P=o(C,V),K=P?C.node(P).order:k;(P||V===H)&&(t.forEach(L.slice(M,B+1),function(te){t.forEach(C.predecessors(te),function($){var W=C.node($),re=W.order;(re<I||K<re)&&!(W.dummy&&C.node(te).dummy)&&l(A,$,te)})}),M=B+1,I=K)}),L}return t.reduce(D,O),A}function i(C,D){var A={};function O(L,I,M,k,H){var V;t.forEach(t.range(I,M),function(B){V=L[B],C.node(V).dummy&&t.forEach(C.predecessors(V),function(P){var K=C.node(P);K.dummy&&(K.order<k||K.order>H)&&l(A,P,V)})})}function U(L,I){var M=-1,k,H=0;return t.forEach(I,function(V,B){if(C.node(V).dummy==="border"){var P=C.predecessors(V);P.length&&(k=C.node(P[0]).order,O(I,H,B,M,k),H=B,M=k)}O(I,H,I.length,k,L.length)}),I}return t.reduce(D,U),A}function o(C,D){if(C.node(D).dummy)return t.find(C.predecessors(D),function(A){return C.node(A).dummy})}function l(C,D,A){if(D>A){var O=D;D=A,A=O}var U=C[D];U||(C[D]=U={}),U[A]=!0}function c(C,D,A){if(D>A){var O=D;D=A,A=O}return t.has(C[D],A)}function h(C,D,A,O){var U={},L={},I={};return t.forEach(D,function(M){t.forEach(M,function(k,H){U[k]=k,L[k]=k,I[k]=H})}),t.forEach(D,function(M){var k=-1;t.forEach(M,function(H){var V=O(H);if(V.length){V=t.sortBy(V,function($){return I[$]});for(var B=(V.length-1)/2,P=Math.floor(B),K=Math.ceil(B);P<=K;++P){var te=V[P];L[H]===H&&k<I[te]&&!c(A,H,te)&&(L[te]=H,L[H]=U[H]=U[te],k=I[te])}}})}),{root:U,align:L}}function f(C,D,A,O,U){var L={},I=m(C,D,A,U),M=U?"borderLeft":"borderRight";function k(B,P){for(var K=I.nodes(),te=K.pop(),$={};te;)$[te]?B(te):($[te]=!0,K.push(te),K=K.concat(P(te))),te=K.pop()}function H(B){L[B]=I.inEdges(B).reduce(function(P,K){return Math.max(P,L[K.v]+I.edge(K))},0)}function V(B){var P=I.outEdges(B).reduce(function(te,$){return Math.min(te,L[$.w]-I.edge($))},Number.POSITIVE_INFINITY),K=C.node(B);P!==Number.POSITIVE_INFINITY&&K.borderType!==M&&(L[B]=Math.max(L[B],P))}return k(H,I.predecessors.bind(I)),k(V,I.successors.bind(I)),t.forEach(O,function(B){L[B]=L[A[B]]}),L}function m(C,D,A,O){var U=new e,L=C.graph(),I=T(L.nodesep,L.edgesep,O);return t.forEach(D,function(M){var k;t.forEach(M,function(H){var V=A[H];if(U.setNode(V),k){var B=A[k],P=U.edge(B,V);U.setEdge(B,V,Math.max(I(C,H,k),P||0))}k=H})}),U}function p(C,D){return t.minBy(t.values(D),function(A){var O=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY;return t.forIn(A,function(L,I){var M=x(C,I)/2;O=Math.max(L+M,O),U=Math.min(L-M,U)}),O-U})}function y(C,D){var A=t.values(D),O=t.min(A),U=t.max(A);t.forEach(["u","d"],function(L){t.forEach(["l","r"],function(I){var M=L+I,k=C[M],H;if(k!==D){var V=t.values(k);H=I==="l"?O-t.min(V):U-t.max(V),H&&(C[M]=t.mapValues(k,function(B){return B+H}))}})})}function b(C,D){return t.mapValues(C.ul,function(A,O){if(D)return C[D.toLowerCase()][O];var U=t.sortBy(t.map(C,O));return(U[1]+U[2])/2})}function E(C){var D=n.buildLayerMatrix(C),A=t.merge(r(C,D),i(C,D)),O={},U;t.forEach(["u","d"],function(I){U=I==="u"?D:t.values(D).reverse(),t.forEach(["l","r"],function(M){M==="r"&&(U=t.map(U,function(B){return t.values(B).reverse()}));var k=(I==="u"?C.predecessors:C.successors).bind(C),H=h(C,U,A,k),V=f(C,U,H.root,H.align,M==="r");M==="r"&&(V=t.mapValues(V,function(B){return-B})),O[I+M]=V})});var L=p(C,O);return y(O,L),b(O,C.graph().align)}function T(C,D,A){return function(O,U,L){var I=O.node(U),M=O.node(L),k=0,H;if(k+=I.width/2,t.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":H=-I.width/2;break;case"r":H=I.width/2;break}if(H&&(k+=A?H:-H),H=0,k+=(I.dummy?D:C)/2,k+=(M.dummy?D:C)/2,k+=M.width/2,t.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":H=M.width/2;break;case"r":H=-M.width/2;break}return H&&(k+=A?H:-H),H=0,k}}function x(C,D){return C.node(D).width}return C5}var R5,OI;function gie(){if(OI)return R5;OI=1;var t=Wt(),e=Tr(),n=pie().positionX;R5=r;function r(o){o=e.asNonCompoundGraph(o),i(o),t.forEach(n(o),function(l,c){o.node(c).x=l})}function i(o){var l=e.buildLayerMatrix(o),c=o.graph().ranksep,h=0;t.forEach(l,function(f){var m=t.max(t.map(f,function(p){return o.node(p).height}));t.forEach(f,function(p){o.node(p).y=h+m/2}),h+=m+c})}return R5}var I5,zI;function vie(){if(zI)return I5;zI=1;var t=Wt(),e=Wre(),n=Jre(),r=tie(),i=Tr().normalizeRanks,o=nie(),l=Tr().removeEmptyRanks,c=rie(),h=iie(),f=aie(),m=mie(),p=gie(),y=Tr(),b=Bi().Graph;I5=E;function E(Q,ie){var ue=ie&&ie.debugTiming?y.time:y.notime;ue("layout",function(){var ge=ue("  buildLayoutGraph",function(){return k(Q)});ue("  runLayout",function(){T(ge,ue)}),ue("  updateInputGraph",function(){x(Q,ge)})})}function T(Q,ie){ie("    makeSpaceForEdgeLabels",function(){H(Q)}),ie("    removeSelfEdges",function(){oe(Q)}),ie("    acyclic",function(){e.run(Q)}),ie("    nestingGraph.run",function(){c.run(Q)}),ie("    rank",function(){r(y.asNonCompoundGraph(Q))}),ie("    injectEdgeLabelProxies",function(){V(Q)}),ie("    removeEmptyRanks",function(){l(Q)}),ie("    nestingGraph.cleanup",function(){c.cleanup(Q)}),ie("    normalizeRanks",function(){i(Q)}),ie("    assignRankMinMax",function(){B(Q)}),ie("    removeEdgeLabelProxies",function(){P(Q)}),ie("    normalize.run",function(){n.run(Q)}),ie("    parentDummyChains",function(){o(Q)}),ie("    addBorderSegments",function(){h(Q)}),ie("    order",function(){m(Q)}),ie("    insertSelfEdges",function(){ye(Q)}),ie("    adjustCoordinateSystem",function(){f.adjust(Q)}),ie("    position",function(){p(Q)}),ie("    positionSelfEdges",function(){Y(Q)}),ie("    removeBorderNodes",function(){re(Q)}),ie("    normalize.undo",function(){n.undo(Q)}),ie("    fixupEdgeLabelCoords",function(){$(Q)}),ie("    undoCoordinateSystem",function(){f.undo(Q)}),ie("    translateGraph",function(){K(Q)}),ie("    assignNodeIntersects",function(){te(Q)}),ie("    reversePoints",function(){W(Q)}),ie("    acyclic.undo",function(){e.undo(Q)})}function x(Q,ie){t.forEach(Q.nodes(),function(ue){var ge=Q.node(ue),be=ie.node(ue);ge&&(ge.x=be.x,ge.y=be.y,ie.children(ue).length&&(ge.width=be.width,ge.height=be.height))}),t.forEach(Q.edges(),function(ue){var ge=Q.edge(ue),be=ie.edge(ue);ge.points=be.points,t.has(be,"x")&&(ge.x=be.x,ge.y=be.y)}),Q.graph().width=ie.graph().width,Q.graph().height=ie.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],D={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],O=["width","height"],U={width:0,height:0},L=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function k(Q){var ie=new b({multigraph:!0,compound:!0}),ue=pe(Q.graph());return ie.setGraph(t.merge({},D,ee(ue,C),t.pick(ue,A))),t.forEach(Q.nodes(),function(ge){var be=pe(Q.node(ge));ie.setNode(ge,t.defaults(ee(be,O),U)),ie.setParent(ge,Q.parent(ge))}),t.forEach(Q.edges(),function(ge){var be=pe(Q.edge(ge));ie.setEdge(ge,t.merge({},I,ee(be,L),t.pick(be,M)))}),ie}function H(Q){var ie=Q.graph();ie.ranksep/=2,t.forEach(Q.edges(),function(ue){var ge=Q.edge(ue);ge.minlen*=2,ge.labelpos.toLowerCase()!=="c"&&(ie.rankdir==="TB"||ie.rankdir==="BT"?ge.width+=ge.labeloffset:ge.height+=ge.labeloffset)})}function V(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie);if(ue.width&&ue.height){var ge=Q.node(ie.v),be=Q.node(ie.w),Ce={rank:(be.rank-ge.rank)/2+ge.rank,e:ie};y.addDummyNode(Q,"edge-proxy",Ce,"_ep")}})}function B(Q){var ie=0;t.forEach(Q.nodes(),function(ue){var ge=Q.node(ue);ge.borderTop&&(ge.minRank=Q.node(ge.borderTop).rank,ge.maxRank=Q.node(ge.borderBottom).rank,ie=t.max(ie,ge.maxRank))}),Q.graph().maxRank=ie}function P(Q){t.forEach(Q.nodes(),function(ie){var ue=Q.node(ie);ue.dummy==="edge-proxy"&&(Q.edge(ue.e).labelRank=ue.rank,Q.removeNode(ie))})}function K(Q){var ie=Number.POSITIVE_INFINITY,ue=0,ge=Number.POSITIVE_INFINITY,be=0,Ce=Q.graph(),Ve=Ce.marginx||0,je=Ce.marginy||0;function He(Pe){var Ge=Pe.x,Be=Pe.y,it=Pe.width,$e=Pe.height;ie=Math.min(ie,Ge-it/2),ue=Math.max(ue,Ge+it/2),ge=Math.min(ge,Be-$e/2),be=Math.max(be,Be+$e/2)}t.forEach(Q.nodes(),function(Pe){He(Q.node(Pe))}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.has(Ge,"x")&&He(Ge)}),ie-=Ve,ge-=je,t.forEach(Q.nodes(),function(Pe){var Ge=Q.node(Pe);Ge.x-=ie,Ge.y-=ge}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.forEach(Ge.points,function(Be){Be.x-=ie,Be.y-=ge}),t.has(Ge,"x")&&(Ge.x-=ie),t.has(Ge,"y")&&(Ge.y-=ge)}),Ce.width=ue-ie+Ve,Ce.height=be-ge+je}function te(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie),ge=Q.node(ie.v),be=Q.node(ie.w),Ce,Ve;ue.points?(Ce=ue.points[0],Ve=ue.points[ue.points.length-1]):(ue.points=[],Ce=be,Ve=ge),ue.points.unshift(y.intersectRect(ge,Ce)),ue.points.push(y.intersectRect(be,Ve))})}function $(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie);if(t.has(ue,"x"))switch((ue.labelpos==="l"||ue.labelpos==="r")&&(ue.width-=ue.labeloffset),ue.labelpos){case"l":ue.x-=ue.width/2+ue.labeloffset;break;case"r":ue.x+=ue.width/2+ue.labeloffset;break}})}function W(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie);ue.reversed&&ue.points.reverse()})}function re(Q){t.forEach(Q.nodes(),function(ie){if(Q.children(ie).length){var ue=Q.node(ie),ge=Q.node(ue.borderTop),be=Q.node(ue.borderBottom),Ce=Q.node(t.last(ue.borderLeft)),Ve=Q.node(t.last(ue.borderRight));ue.width=Math.abs(Ve.x-Ce.x),ue.height=Math.abs(be.y-ge.y),ue.x=Ce.x+ue.width/2,ue.y=ge.y+ue.height/2}}),t.forEach(Q.nodes(),function(ie){Q.node(ie).dummy==="border"&&Q.removeNode(ie)})}function oe(Q){t.forEach(Q.edges(),function(ie){if(ie.v===ie.w){var ue=Q.node(ie.v);ue.selfEdges||(ue.selfEdges=[]),ue.selfEdges.push({e:ie,label:Q.edge(ie)}),Q.removeEdge(ie)}})}function ye(Q){var ie=y.buildLayerMatrix(Q);t.forEach(ie,function(ue){var ge=0;t.forEach(ue,function(be,Ce){var Ve=Q.node(be);Ve.order=Ce+ge,t.forEach(Ve.selfEdges,function(je){y.addDummyNode(Q,"selfedge",{width:je.label.width,height:je.label.height,rank:Ve.rank,order:Ce+ ++ge,e:je.e,label:je.label},"_se")}),delete Ve.selfEdges})})}function Y(Q){t.forEach(Q.nodes(),function(ie){var ue=Q.node(ie);if(ue.dummy==="selfedge"){var ge=Q.node(ue.e.v),be=ge.x+ge.width/2,Ce=ge.y,Ve=ue.x-be,je=ge.height/2;Q.setEdge(ue.e,ue.label),Q.removeNode(ie),ue.label.points=[{x:be+2*Ve/3,y:Ce-je},{x:be+5*Ve/6,y:Ce-je},{x:be+Ve,y:Ce},{x:be+5*Ve/6,y:Ce+je},{x:be+2*Ve/3,y:Ce+je}],ue.label.x=ue.x,ue.label.y=ue.y}})}function ee(Q,ie){return t.mapValues(t.pick(Q,ie),Number)}function pe(Q){var ie={};return t.forEach(Q,function(ue,ge){ie[ge.toLowerCase()]=ue}),ie}return I5}var N5,VI;function yie(){if(VI)return N5;VI=1;var t=Wt(),e=Tr(),n=Bi().Graph;N5={debugOrdering:r};function r(i){var o=e.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(c){l.setNode(c,{label:c}),l.setParent(c,"layer"+i.node(c).rank)}),t.forEach(i.edges(),function(c){l.setEdge(c.v,c.w,{},c.name)}),t.forEach(o,function(c,h){var f="layer"+h;l.setNode(f,{rank:"same"}),t.reduce(c,function(m,p){return l.setEdge(m,p,{style:"invis"}),p})}),l}return N5}var M5,qI;function _ie(){return qI||(qI=1,M5="0.8.5"),M5}var k5,LI;function bie(){return LI||(LI=1,k5={graphlib:Bi(),layout:vie(),debug:yie(),util:{time:Tr().time,notime:Tr().notime},version:_ie()}),k5}var wie=bie();const PI=Sm(wie),Eie=(t,e)=>({id:`e-${t}-${e}`,source:t,target:e,type:"smoothstep",markerEnd:{type:j0.ArrowClosed},style:{stroke:H7.parentLine}}),Sie=(t,e)=>({id:`dup-${t}-${e}`,source:t,target:e,type:"straight",animated:!0,style:{stroke:H7.duplicateLine,strokeDasharray:5},label:"Duplicate"}),D5=300,O5=120,xie=(t,e)=>{const n=new PI.graphlib.Graph;n.setGraph({rankdir:"TB",nodesep:50,ranksep:80}),n.setDefaultEdgeLabel(()=>({}));const r=[],i=[];return t.forEach(l=>{const c=l.displayLatex;let h="";if(l.axiomId){const p=e.find(y=>y.id===l.axiomId);p&&(h=`\\\\ \\text{\\small{Axiom: ${p.canonicalName}}} \\\\ {\\tiny ${p.defaultLatex}}`)}const f=`\\begin{matrix} \\text{\\textbf{${c}}} ${h} \\end{matrix}`;n.setNode(l.id,{width:D5,height:O5});const m={...l,displayLatex:f,stats:l.stats||{greenVotes:0,blackVotes:0}};r.push({id:l.id,type:"mathNode",data:m,position:{x:0,y:0},targetPosition:Ye.Top,sourcePosition:Ye.Bottom}),l.parentId&&(i.push(Eie(l.parentId,l.id)),n.setEdge(l.parentId,l.id)),l.duplicateOfId&&i.push(Sie(l.id,l.duplicateOfId))}),PI.layout(n),{nodes:r.map(l=>{const c=n.node(l.id);return{...l,position:{x:c.x-D5/2,y:c.y-O5/2},style:{width:D5,height:O5}}}),edges:i}},Tie=({isOpen:t,onClose:e,onSelect:n,availableAxioms:r})=>{const[i,o]=ce.useState(""),l=ce.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.canonicalName.toLowerCase().includes(c)||h.defaultLatex.toLowerCase().includes(c))},[r,i]);return t?G.jsxs(G.Fragment,{children:[G.jsx("div",{className:Oe.drawerOverlay,onClick:e}),G.jsxs("div",{className:Oe.drawer,children:[G.jsxs("div",{className:Oe.drawerHeader,children:[G.jsx("h3",{children:"Axiom Library"}),G.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),G.jsx("div",{className:Oe.drawerSearch,children:G.jsx("input",{className:Oe.input,placeholder:"Search axioms (e.g. 'Commutativity' or '\\forall')...",value:i,onChange:c=>o(c.target.value),autoFocus:!0})}),G.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>G.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to select this axiom",children:[G.jsxs("div",{className:Oe.libraryItemHeader,children:[G.jsx("strong",{children:c.canonicalName}),G.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),G.jsx("div",{className:Oe.preview,children:G.jsx(Gr,{latex:c.defaultLatex})})]},c.id)):G.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No axioms found matching "',i,'"']})})]})]}):null},Aie=({parentName:t,rootEnvironment:e,availableAxioms:n,onClose:r,onSubmit:i})=>{const[o,l]=ce.useState(""),[c,h]=ce.useState(""),[f,m]=ce.useState(`\\forall a, b \\in ${e.sets[0]}...`),[p,y]=ce.useState(!1),[b,E]=ce.useState(null),[T,x]=ce.useState(!1),C=ce.useMemo(()=>{if(!c||b)return[];const L=c.toLowerCase();return n.filter(I=>I.canonicalName.toLowerCase().includes(L)).slice(0,5)},[c,n,b]),D=L=>{h(L.canonicalName),m(L.defaultLatex),E(L.id),x(!1),y(!1)},A=L=>{h(L),x(!0),b&&E(null)},O=()=>{!o||!c||(i({structureName:o,axiomName:c,axiomLatex:f,existingAxiomId:b||void 0}),r())},U=`\\text{Sets: } \\{ ${e.sets.join(", ")} \\} \\quad \\text{Operators: } \\{ ${e.operators.join(", ")} \\}`;return G.jsxs(G.Fragment,{children:[G.jsx("div",{className:Oe.overlay,children:G.jsxs("div",{className:Oe.container,children:[G.jsxs("div",{className:Oe.header,children:[G.jsxs("h2",{children:["Extend: ",t]}),G.jsx("button",{className:Oe.closeButton,onClick:r,children:""})]}),G.jsxs("div",{className:Oe.body,children:[G.jsxs("p",{className:Oe.description,children:["Add an axiom to ",G.jsx("strong",{children:t})," to create a new Structure."]}),G.jsxs("div",{className:Oe.contextBox,children:[G.jsx("div",{className:Oe.contextLabel,children:"Defined Context (Immutable)"}),G.jsx(Gr,{latex:U})]}),G.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[G.jsx("label",{className:Oe.label,children:"1. Select or Name New Axiom"}),G.jsxs("div",{className:Oe.inputGroupRow,children:[G.jsx("input",{className:Oe.input,placeholder:"Type to search (e.g. 'Commutativity')...",value:c,onChange:L=>A(L.target.value),onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),200),autoComplete:"off"}),G.jsx("button",{className:Oe.browseBtn,onClick:()=>y(!0),title:"Browse Axiom Library",children:""})]}),T&&C.length>0&&G.jsx("div",{className:Oe.suggestionsDropdown,children:C.map(L=>G.jsxs("div",{className:Oe.suggestionItem,onClick:()=>D(L),children:[G.jsx("strong",{children:L.canonicalName}),G.jsxs("span",{className:Oe.suggestionDetail,children:["- ",G.jsx(Gr,{latex:L.defaultLatex})]})]},L.id))})]}),G.jsxs("div",{className:Oe.group,children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[G.jsx("label",{className:Oe.label,children:"Axiom Formula (LaTeX)"}),b&&G.jsx("span",{style:{fontSize:"0.75rem",color:"#2e7d32",fontWeight:"bold"},children:" Linked to Library"})]}),G.jsx("input",{className:b?Oe.inputLocked:Oe.input,value:f,onChange:L=>!b&&m(L.target.value),readOnly:!!b,title:b?"This formula is locked because it is linked to a library axiom.":""}),G.jsx("div",{className:Oe.preview,children:G.jsx(Gr,{latex:f||"Preview..."})})]}),G.jsx("hr",{className:Oe.separator}),G.jsxs("div",{className:Oe.group,children:[G.jsx("label",{className:Oe.label,children:"2. Resulting Structure Name"}),G.jsx("input",{className:Oe.input,placeholder:"e.g. Abelian Group",value:o,onChange:L=>l(L.target.value)})]})]}),G.jsxs("div",{className:Oe.footer,children:[G.jsx("button",{className:Oe.cancelBtn,onClick:r,children:"Cancel"}),G.jsx("button",{className:Oe.submitBtn,onClick:O,children:"Create Structure"})]})]})}),G.jsx(Tie,{isOpen:p,onClose:()=>y(!1),onSelect:D,availableAxioms:n})]})},Cie="_explorerRoot_rof8f_3",Rie="_extendBtnContainer_rof8f_11",Iie="_extendBtn_rof8f_11",Nie="_plusIcon_rof8f_46",Mie="_backBtnContainer_rof8f_53",kie="_backBtn_rof8f_53",Au={explorerRoot:Cie,extendBtnContainer:Rie,extendBtn:Iie,plusIcon:Nie,backBtnContainer:Mie,backBtn:kie},Die=({universeId:t,onExit:e})=>{const{user:n}=Ch(),[r,i]=ce.useState([]),[o,l]=ce.useState([]),[c,h]=ce.useState([]),[f,m]=ce.useState(null);ce.useEffect(()=>{const te=ra(wr,"environments",t),$=w0(te,Y=>{Y.exists()&&m(Y.data())}),W=zK(Qg(wr,"nodes"),VK("rootContextId","==",t)),re=w0(W,Y=>{const ee=Y.docs.map(pe=>pe.data());i(ee)}),oe=w0(Qg(wr,"axioms"),Y=>{const ee=Y.docs.map(pe=>pe.data());l(ee)}),ye=w0(Qg(wr,"theorems"),Y=>{const ee=Y.docs.map(pe=>pe.data());h(ee)});return()=>{$(),re(),oe(),ye()}},[t]);const{nodes:p,edges:y}=ce.useMemo(()=>xie(r,o),[r,o]),[b,E,T]=dF(p),[x,C,D]=mF(y);ce.useEffect(()=>{E(p),C(y)},[p,y,E,C]);const[A,O]=ce.useState(null),[U,L]=ce.useState(!1),I=ce.useMemo(()=>({mathNode:ree}),[]),M=ce.useMemo(()=>r.find(te=>te.id===A),[A,r]),k=ce.useCallback((te,$)=>{O($.id)},[]),H=ce.useCallback(()=>{O(null)},[]),V=async te=>{if(!A||!M||M.status==="deprecated"||M.status==="deadend")return;const $=Date.now();if(!n){alert("You must be signed in to contribute!");return}const W=n.uid;let re=te.existingAxiomId;if(!re){re=`ax-${$}`;const Y={id:re,canonicalName:te.axiomName,aliases:[],defaultLatex:te.axiomLatex,authorId:W,createdAt:$};try{await Dd(ra(wr,"axioms",Y.id),Y)}catch(ee){console.error("Error creating axiom:",ee);return}}const ye={id:`struct-${$}`,type:"algebraic structure",parentId:A,axiomId:re,authorId:W,displayLatex:te.structureName,status:"unverified",rootContextId:t,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:$};try{await Dd(ra(wr,"nodes",ye.id),ye),L(!1)}catch(Y){console.error("Error creating structure:",Y)}},B=async te=>{if(r.some(W=>W.parentId===te)){alert(`CRITICAL ERROR: Cannot delete this node because it has children.

Pruning a parent would orphan the entire branch. Please delete the children first.`);return}if(confirm(` ADMIN WARNING 

Are you sure you want to PERMANENTLY delete this node? This cannot be undone.`))try{await bS(ra(wr,"nodes",te)),O(null)}catch(W){console.error("Delete failed:",W),alert("Delete failed. Check console for details.")}},P=async te=>{if(confirm(` ADMIN WARNING 

Are you sure you want to PERMANENTLY delete this theorem?`))try{await bS(ra(wr,"theorems",te))}catch($){console.error("Theorem delete failed:",$),alert("Delete failed.")}},K=async te=>{if(!A)return;if(!n){alert("You must be signed in to contribute!");return}const $=n.uid,W=Date.now(),re={id:`th-${W}`,structureNodeId:A,name:te.name,aliases:[],statementLatex:te.statementLatex,proofLatex:te.proofLatex,authorId:$,createdAt:W,status:"unverified",stats:{greenVotes:0,blackVotes:0}};try{await Dd(ra(wr,"theorems",re.id),re)}catch(oe){console.error("Error creating theorem:",oe)}};return G.jsxs("div",{className:Au.explorerRoot,children:[G.jsx("div",{className:Au.backBtnContainer,children:G.jsx("button",{onClick:e,className:Au.backBtn,children:" Exit to Lobby"})}),A&&M?.status!=="deprecated"&&M?.status!=="deadend"&&G.jsx("div",{className:Au.extendBtnContainer,children:G.jsxs("button",{onClick:()=>L(!0),className:Au.extendBtn,children:[G.jsx("span",{className:Au.plusIcon,children:"+"})," Extend Structure"]})}),G.jsx(JJ,{nodes:b,edges:x,onNodesChange:T,onEdgesChange:D,onNodeClick:k,onPaneClick:H,nodeTypes:I,title:`\\text{${f?.name||"Universe"}}`}),M&&G.jsx(ite,{node:M,allNodes:r,allAxioms:o,allTheorems:c,onClose:()=>O(null),onAddTheorem:K,onDelete:B,onDeleteTheorem:P}),U&&M&&f&&G.jsx(Aie,{parentId:M.id,parentName:M.displayLatex,rootEnvironment:f,availableAxioms:o,onClose:()=>L(!1),onSubmit:V})]})},Oie="_container_9m5ln_3",zie="_title_9m5ln_13",Vie="_subtitle_9m5ln_21",qie="_grid_9m5ln_30",Lie="_card_9m5ln_39",Pie="_cardHeader_9m5ln_59",Bie="_cardTitle_9m5ln_63",Uie="_tagContainer_9m5ln_70",Hie="_tag_9m5ln_70",jie="_description_9m5ln_86",Fie="_enterBtn_9m5ln_93",mi={container:Oie,title:zie,subtitle:Vie,grid:qie,card:Lie,cardHeader:Pie,cardTitle:Bie,tagContainer:Uie,tag:Hie,description:jie,enterBtn:Fie},Gie=[{id:"env-general-algebra",name:"Group Theory",sets:["G"],operators:["\\cdot"]},{id:"env-ring-theory",name:"Ring Theory",sets:["R"],operators:["+","\\cdot"]}],$ie=({onSelectUniverse:t})=>G.jsxs("div",{className:mi.container,children:[G.jsx("h1",{className:mi.title,children:"Algebraic Structures"}),G.jsx("p",{className:mi.subtitle,children:"Select an algebraic context to explore. Each algebraic structure defines its own sets and operators, anchoring the evolution of its structures."}),G.jsx("div",{className:mi.grid,children:Gie.map(e=>G.jsxs("div",{className:mi.card,onClick:()=>t(e.id),children:[G.jsxs("div",{className:mi.cardHeader,children:[G.jsx("h2",{className:mi.cardTitle,children:e.name}),G.jsxs("div",{className:mi.tagContainer,children:[G.jsxs("span",{className:mi.tag,children:["Sets: ",G.jsx(Gr,{latex:`\\{ ${e.sets.join(", ")} \\}`})]}),G.jsxs("span",{className:mi.tag,children:["Ops: ",G.jsx(Gr,{latex:`\\{ ${e.operators.join(", ")} \\}`})]})]})]}),G.jsxs("div",{className:mi.description,children:["Explore the algebraic structures defined over",G.jsxs("strong",{children:[" ",e.sets.length," ",e.sets.length>1?"sets":"set"]})," and",G.jsxs("strong",{children:[" ",e.operators.length," ",e.operators.length>1?"operators":"operator"," "]}),"."]}),G.jsx("button",{className:mi.enterBtn,children:"Enter Universe "})]},e.id))})]}),Yie="_loginBtn_1ia85_4",Xie="_container_1ia85_22",Kie="_avatar_1ia85_33",Qie="_userInfo_1ia85_40",Zie="_userName_1ia85_46",Wie="_adminBadge_1ia85_52",Jie="_logoutBtn_1ia85_60",ol={loginBtn:Yie,container:Xie,avatar:Kie,userInfo:Qie,userName:Zie,adminBadge:Wie,logoutBtn:Jie},eae=()=>{const{user:t,profile:e,signInWithGoogle:n,logout:r}=Ch();return t?G.jsxs("div",{className:ol.container,children:[t.photoURL&&G.jsx("img",{src:t.photoURL,alt:`${t.displayName}'s avatar`,className:ol.avatar}),G.jsxs("div",{className:ol.userInfo,children:[G.jsx("span",{className:ol.userName,children:t.displayName}),e?.role==="admin"&&G.jsx("span",{className:ol.adminBadge,children:"Administrator"})]}),G.jsx("button",{onClick:r,className:ol.logoutBtn,"aria-label":"Sign out",children:"Sign Out"})]}):G.jsx("button",{onClick:n,className:ol.loginBtn,children:"Sign in with Google"})};function tae(){const[t,e]=ce.useState(null);return G.jsxs(eee,{children:[G.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:1e3},children:G.jsx(eae,{})}),G.jsx("div",{className:"app-container",children:t?G.jsx(Die,{universeId:t,onExit:()=>e(null)}):G.jsx($ie,{onSelectUniverse:e})})]})}zq.createRoot(document.getElementById("root")).render(G.jsx(BI.StrictMode,{children:G.jsx(tae,{})}));
