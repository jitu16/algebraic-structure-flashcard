(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={exports:{}},h0={};var z9;function pV(){if(z9)return h0;z9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return h0.Fragment=e,h0.jsx=n,h0.jsxs=n,h0}var q9;function gV(){return q9||(q9=1,fg.exports=pV()),fg.exports}var j=gV(),dg={exports:{}},it={};var V9;function vV(){if(V9)return it;V9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function C(Y,ee,pe){this.props=Y,this.context=ee,this.refs=E,this.updater=pe||S}C.prototype.isReactComponent={},C.prototype.setState=function(Y,ee){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ee,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function D(){}D.prototype=C.prototype;function A(Y,ee,pe){this.props=Y,this.context=ee,this.refs=E,this.updater=pe||S}var z=A.prototype=new D;z.constructor=A,T(z,C.prototype),z.isPureReactComponent=!0;var U=Array.isArray;function L(){}var I={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function k(Y,ee,pe){var Q=pe.ref;return{$$typeof:t,type:Y,key:ee,ref:Q!==void 0?Q:null,props:pe}}function H(Y,ee){return k(Y.type,ee,Y.props)}function q(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function B(Y){var ee={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(pe){return ee[pe]})}var P=/\/+/g;function K(Y,ee){return typeof Y=="object"&&Y!==null&&Y.key!=null?B(""+Y.key):ee.toString(36)}function te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(ee){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ee)},function(ee){Y.status==="pending"&&(Y.status="rejected",Y.reason=ee)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function $(Y,ee,pe,Q,ie){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var ge=!1;if(Y===null)ge=!0;else switch(ue){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Y.$$typeof){case t:case e:ge=!0;break;case m:return ge=Y._init,$(ge(Y._payload),ee,pe,Q,ie)}}if(ge)return ie=ie(Y),ge=Q===""?"."+K(Y,0):Q,U(ie)?(pe="",ge!=null&&(pe=ge.replace(P,"$&/")+"/"),$(ie,ee,pe,"",function(ze){return ze})):ie!=null&&(q(ie)&&(ie=H(ie,pe+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(P,"$&/")+"/")+ge)),ee.push(ie)),1;ge=0;var be=Q===""?".":Q+":";if(U(Y))for(var Ce=0;Ce<Y.length;Ce++)Q=Y[Ce],ue=be+K(Q,Ce),ge+=$(Q,ee,pe,ue,ie);else if(Ce=b(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(Q=Y.next()).done;)Q=Q.value,ue=be+K(Q,Ce++),ge+=$(Q,ee,pe,ue,ie);else if(ue==="object"){if(typeof Y.then=="function")return $(te(Y),ee,pe,Q,ie);throw ee=String(Y),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(Y,ee,pe){if(Y==null)return Y;var Q=[],ie=0;return $(Y,Q,"","",function(ue){return ee.call(pe,ue,ie++)}),Q}function re(Y){if(Y._status===-1){var ee=Y._result;ee=ee(),ee.then(function(pe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=pe)},function(pe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=pe)}),Y._status===-1&&(Y._status=0,Y._result=ee)}if(Y._status===1)return Y._result.default;throw Y._result}var oe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ye={map:W,forEach:function(Y,ee,pe){W(Y,function(){ee.apply(this,arguments)},pe)},count:function(Y){var ee=0;return W(Y,function(){ee++}),ee},toArray:function(Y){return W(Y,function(ee){return ee})||[]},only:function(Y){if(!q(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return it.Activity=p,it.Children=ye,it.Component=C,it.Fragment=n,it.Profiler=i,it.PureComponent=A,it.StrictMode=r,it.Suspense=h,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,it.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},it.cache=function(Y){return function(){return Y.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(Y,ee,pe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Q=T({},Y.props),ie=Y.key;if(ee!=null)for(ue in ee.key!==void 0&&(ie=""+ee.key),ee)!M.call(ee,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ee.ref===void 0||(Q[ue]=ee[ue]);var ue=arguments.length-2;if(ue===1)Q.children=pe;else if(1<ue){for(var ge=Array(ue),be=0;be<ue;be++)ge[be]=arguments[be+2];Q.children=ge}return k(Y.type,ie,Q)},it.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},it.createElement=function(Y,ee,pe){var Q,ie={},ue=null;if(ee!=null)for(Q in ee.key!==void 0&&(ue=""+ee.key),ee)M.call(ee,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=ee[Q]);var ge=arguments.length-2;if(ge===1)ie.children=pe;else if(1<ge){for(var be=Array(ge),Ce=0;Ce<ge;Ce++)be[Ce]=arguments[Ce+2];ie.children=be}if(Y&&Y.defaultProps)for(Q in ge=Y.defaultProps,ge)ie[Q]===void 0&&(ie[Q]=ge[Q]);return k(Y,ue,ie)},it.createRef=function(){return{current:null}},it.forwardRef=function(Y){return{$$typeof:c,render:Y}},it.isValidElement=q,it.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},it.memo=function(Y,ee){return{$$typeof:d,type:Y,compare:ee===void 0?null:ee}},it.startTransition=function(Y){var ee=I.T,pe={};I.T=pe;try{var Q=Y(),ie=I.S;ie!==null&&ie(pe,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(L,oe)}catch(ue){oe(ue)}finally{ee!==null&&pe.types!==null&&(ee.types=pe.types),I.T=ee}},it.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},it.use=function(Y){return I.H.use(Y)},it.useActionState=function(Y,ee,pe){return I.H.useActionState(Y,ee,pe)},it.useCallback=function(Y,ee){return I.H.useCallback(Y,ee)},it.useContext=function(Y){return I.H.useContext(Y)},it.useDebugValue=function(){},it.useDeferredValue=function(Y,ee){return I.H.useDeferredValue(Y,ee)},it.useEffect=function(Y,ee){return I.H.useEffect(Y,ee)},it.useEffectEvent=function(Y){return I.H.useEffectEvent(Y)},it.useId=function(){return I.H.useId()},it.useImperativeHandle=function(Y,ee,pe){return I.H.useImperativeHandle(Y,ee,pe)},it.useInsertionEffect=function(Y,ee){return I.H.useInsertionEffect(Y,ee)},it.useLayoutEffect=function(Y,ee){return I.H.useLayoutEffect(Y,ee)},it.useMemo=function(Y,ee){return I.H.useMemo(Y,ee)},it.useOptimistic=function(Y,ee){return I.H.useOptimistic(Y,ee)},it.useReducer=function(Y,ee,pe){return I.H.useReducer(Y,ee,pe)},it.useRef=function(Y){return I.H.useRef(Y)},it.useState=function(Y){return I.H.useState(Y)},it.useSyncExternalStore=function(Y,ee,pe){return I.H.useSyncExternalStore(Y,ee,pe)},it.useTransition=function(){return I.H.useTransition()},it.version="19.2.3",it}var L9;function eh(){return L9||(L9=1,dg.exports=vV()),dg.exports}var ce=eh();const RI=gm(ce);var mg={exports:{}},f0={},pg={exports:{}},gg={};var P9;function yV(){return P9||(P9=1,(function(t){function e($,W){var re=$.length;$.push(W);e:for(;0<re;){var oe=re-1>>>1,ye=$[oe];if(0<i(ye,W))$[oe]=W,$[re]=ye,re=oe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],re=$.pop();if(re!==W){$[0]=re;e:for(var oe=0,ye=$.length,Y=ye>>>1;oe<Y;){var ee=2*(oe+1)-1,pe=$[ee],Q=ee+1,ie=$[Q];if(0>i(pe,re))Q<ye&&0>i(ie,pe)?($[oe]=ie,$[Q]=re,oe=Q):($[oe]=pe,$[ee]=re,oe=ee);else if(Q<ye&&0>i(ie,re))$[oe]=ie,$[Q]=re,oe=Q;else break e}}return W}function i($,W){var re=$.sortIndex-W.sortIndex;return re!==0?re:$.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,p=null,y=3,b=!1,S=!1,T=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z($){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=$)r(d),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(d)}}function U($){if(T=!1,z($),!S)if(n(h)!==null)S=!0,L||(L=!0,B());else{var W=n(d);W!==null&&te(U,W.startTime-$)}}var L=!1,I=-1,M=5,k=-1;function H(){return E?!0:!(t.unstable_now()-k<M)}function q(){if(E=!1,L){var $=t.unstable_now();k=$;var W=!0;try{e:{S=!1,T&&(T=!1,D(I),I=-1),b=!0;var re=y;try{t:{for(z($),p=n(h);p!==null&&!(p.expirationTime>$&&H());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,y=p.priorityLevel;var ye=oe(p.expirationTime<=$);if($=t.unstable_now(),typeof ye=="function"){p.callback=ye,z($),W=!0;break t}p===n(h)&&r(h),z($)}else r(h);p=n(h)}if(p!==null)W=!0;else{var Y=n(d);Y!==null&&te(U,Y.startTime-$),W=!1}}break e}finally{p=null,y=re,b=!1}W=void 0}}finally{W?B():L=!1}}}var B;if(typeof A=="function")B=function(){A(q)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,K=P.port2;P.port1.onmessage=q,B=function(){K.postMessage(null)}}else B=function(){C(q,0)};function te($,W){I=C(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var re=y;y=W;try{return $()}finally{y=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=y;y=$;try{return W()}finally{y=re}},t.unstable_scheduleCallback=function($,W,re){var oe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?oe+re:oe):re=oe,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,$={id:m++,callback:W,priorityLevel:$,startTime:re,expirationTime:ye,sortIndex:-1},re>oe?($.sortIndex=re,e(d,$),n(h)===null&&$===n(d)&&(T?(D(I),I=-1):T=!0,te(U,re-oe))):($.sortIndex=ye,e(h,$),S||b||(S=!0,L||(L=!0,B()))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var W=y;return function(){var re=y;y=W;try{return $.apply(this,arguments)}finally{y=re}}}})(gg)),gg}var B9;function _V(){return B9||(B9=1,pg.exports=yV()),pg.exports}var vg={exports:{}},Qn={};var U9;function bV(){if(U9)return Qn;U9=1;var t=eh();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,m)},Qn.flushSync=function(h){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=m,r.d.f()}},Qn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Qn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Qn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(h,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Qn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Qn.requestFormReset=function(h){r.d.r(h)},Qn.unstable_batchedUpdates=function(h,d){return h(d)},Qn.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.2.3",Qn}var j9;function II(){if(j9)return vg.exports;j9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=bV(),vg.exports}var H9;function wV(){if(H9)return f0;H9=1;var t=_V(),e=eh(),n=II();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,f=s;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return h(v),a;if(_===f)return h(v),s;_=_.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=_;else{for(var N=!1,F=v.child;F;){if(F===u){N=!0,u=v,f=_;break}if(F===f){N=!0,f=v,u=_;break}F=F.sibling}if(!N){for(F=_.child;F;){if(F===u){N=!0,u=_,f=v;break}if(F===f){N=!0,f=_,u=v;break}F=F.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var P=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===P?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case A:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case z:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return s=a.displayName||null,s!==null?s:K(a.type)||"Memo";case M:s=a._payload,a=a._init;try{return K(a(s))}catch{}}return null}var te=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},oe=[],ye=-1;function Y(a){return{current:a}}function ee(a){0>ye||(a.current=oe[ye],oe[ye]=null,ye--)}function pe(a,s){ye++,oe[ye]=a.current,a.current=s}var Q=Y(null),ie=Y(null),ue=Y(null),ge=Y(null);function be(a,s){switch(pe(ue,s),pe(ie,a),pe(Q,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?i9(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=i9(s),a=a9(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(Q),pe(Q,a)}function Ce(){ee(Q),ee(ie),ee(ue)}function ze(a){a.memoizedState!==null&&pe(ge,a);var s=Q.current,u=a9(s,a.type);s!==u&&(pe(ie,a),pe(Q,u))}function He(a){ie.current===a&&(ee(Q),ee(ie)),ge.current===a&&(ee(ge),o0._currentValue=re)}var je,Pe;function Ge(a){if(je===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);je=s&&s[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+a+Pe}var Be=!1;function rt(a,s){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(we){var ve=we}Reflect.construct(a,[],Ee)}else{try{Ee.call()}catch(we){ve=we}a.call(Ee.prototype)}}else{try{throw Error()}catch(we){ve=we}(Ee=a())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),N=_[0],F=_[1];if(N&&F){var ne=N.split(`
`),me=F.split(`
`);for(v=f=0;f<ne.length&&!ne[f].includes("DetermineComponentFrameRoot");)f++;for(;v<me.length&&!me[v].includes("DetermineComponentFrameRoot");)v++;if(f===ne.length||v===me.length)for(f=ne.length-1,v=me.length-1;1<=f&&0<=v&&ne[f]!==me[v];)v--;for(;1<=f&&0<=v;f--,v--)if(ne[f]!==me[v]){if(f!==1||v!==1)do if(f--,v--,0>v||ne[f]!==me[v]){var Se=`
`+ne[f].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=f&&0<=v);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function $e(a,s){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==s&&s!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return rt(a.type,!1);case 11:return rt(a.type.render,!1);case 1:return rt(a.type,!0);case 31:return Ge("Activity");default:return""}}function Bt(a){try{var s="",u=null;do s+=$e(a,u),u=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var st=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,zn=t.unstable_shouldYield,Ht=t.unstable_requestPaint,Yt=t.unstable_now,Pn=t.unstable_getCurrentPriorityLevel,ur=t.unstable_ImmediatePriority,cr=t.unstable_UserBlockingPriority,qn=t.unstable_NormalPriority,ms=t.unstable_LowPriority,gi=t.unstable_IdlePriority,ps=t.log,_a=t.unstable_setDisableYieldValue,an=null,Vt=null;function hr(a){if(typeof ps=="function"&&_a(a),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(an,a)}catch{}}var en=Math.clz32?Math.clz32:Dl,kl=Math.log,gs=Math.LN2;function Dl(a){return a>>>=0,a===0?32:31-(kl(a)/gs|0)|0}var jr=256,ba=262144,sn=4194304;function Hr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fr(a,s,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var F=f&134217727;return F!==0?(f=F&~_,f!==0?v=Hr(f):(N&=F,N!==0?v=Hr(N):u||(u=F&~a,u!==0&&(v=Hr(u))))):(F=f&~_,F!==0?v=Hr(F):N!==0?v=Hr(N):u||(u=f&~a,u!==0&&(v=Hr(u)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:v}function Tr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function _c(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ol(){var a=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),a}function Gr(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function wa(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function bc(a,s,u,f,v,_){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var F=a.entanglements,ne=a.expirationTimes,me=a.hiddenUpdates;for(u=N&~u;0<u;){var Se=31-en(u),Ee=1<<Se;F[Se]=0,ne[Se]=-1;var ve=me[Se];if(ve!==null)for(me[Se]=null,Se=0;Se<ve.length;Se++){var we=ve[Se];we!==null&&(we.lane&=-536870913)}u&=~Ee}f!==0&&Sa(a,f,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~s))}function Sa(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-en(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|u&261930}function To(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var f=31-en(u),v=1<<f;v&s|a[f]&s&&(a[f]|=s),u&=~v}}function Ao(a,s){var u=s&-s;return u=(u&42)!==0?1:xa(u),(u&(a.suspendedLanes|s))!==0?0:u}function xa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function vi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function zl(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:R9(a.type))}function Ar(a,s){var u=W.p;try{return W.p=a,s()}finally{W.p=u}}var Cr=Math.random().toString(36).slice(2),on="__reactFiber$"+Cr,_n="__reactProps$"+Cr,Rr="__reactContainer$"+Cr,Ea="__reactEvents$"+Cr,ql="__reactListeners$"+Cr,Vl="__reactHandles$"+Cr,Ll="__reactResources$"+Cr,$r="__reactMarker$"+Cr;function vs(a){delete a[on],delete a[_n],delete a[Ea],delete a[ql],delete a[Vl]}function Yr(a){var s=a[on];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Rr]||u[on]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=f9(a);a!==null;){if(u=a[on])return u;a=f9(a)}return s}a=u,u=a.parentNode}return null}function fr(a){if(a=a[on]||a[Rr]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Xn(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Xr(a){var s=a[Ll];return s||(s=a[Ll]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ln(a){a[$r]=!0}var Co=new Set,Ro={};function Kr(a,s){Qr(a,s),Qr(a+"Capture",s)}function Qr(a,s){for(Ro[a]=s,a=0;a<s.length;a++)Co.add(s[a])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ys={},No={};function Pl(a){return st.call(No,a)?!0:st.call(ys,a)?!1:Io.test(a)?No[a]=!0:(ys[a]=!0,!1)}function _s(a,s,u){if(Pl(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function nr(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function un(a,s,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+f)}}function bn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Bi(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Mo(a,s,u){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function xt(a){if(!a._valueTracker){var s=Bi(a)?"checked":"value";a._valueTracker=Mo(a,s,""+a[s])}}function Ta(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return a&&(f=Bi(a)?a.checked?"true":"false":a.value),a=f,a!==u?(s.setValue(a),!0):!1}function Ir(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Aa=/[\n"\\]/g;function Kn(a){return a.replace(Aa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ui(a,s,u,f,v,_,N,F){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+bn(s)):a.value!==""+bn(s)&&(a.value=""+bn(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?ko(a,N,bn(s)):u!=null?ko(a,N,bn(u)):f!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+bn(F):a.removeAttribute("name")}function Bl(a,s,u,f,v,_,N,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){xt(a);return}u=u!=null?""+bn(u):"",s=s!=null?""+bn(s):u,F||s===a.value||(a.value=s),a.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=F?a.checked:!!f,a.defaultChecked=!!f,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),xt(a)}function ko(a,s,u){s==="number"&&Ir(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function yi(a,s,u,f){if(a=a.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=s.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&f&&(a[u].defaultSelected=!0)}else{for(u=""+bn(u),s=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,f&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function Ah(a,s,u){if(s!=null&&(s=""+bn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+bn(u):""}function bs(a,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(te(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=bn(s),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f),xt(a)}function dr(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var Ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(a,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,u):typeof u!="number"||u===0||Ch.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Sc(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&u[v]!==f&&wc(a,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&wc(a,_,s[_])}function Ul(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(a){return ws.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function _i(){}var xc=null;function Zr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ss=null,ji=null;function Do(a){var s=fr(a);if(s&&(a=s.stateNode)){var u=a[_n]||null;e:switch(a=s.stateNode,s.type){case"input":if(Ui(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==a&&f.form===a.form){var v=f[_n]||null;if(!v)throw Error(r(90));Ui(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===a.form&&Ta(f)}break e;case"textarea":Ah(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&yi(a,!!u.multiple,s,!1)}}}var Hl=!1;function xs(a,s,u){if(Hl)return a(s,u);Hl=!0;try{var f=a(s);return f}finally{if(Hl=!1,(Ss!==null||ji!==null)&&(Sf(),Ss&&(s=Ss,a=ji,ji=Ss=null,Do(s),a)))for(s=0;s<a.length;s++)Do(a[s])}}function bi(a,s){var u=a.stateNode;if(u===null)return null;var f=u[_n]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Wr)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Oo=!1}var Hi=null,Ec=null,zo=null;function Tc(){if(zo)return zo;var a,s=Ec,u=s.length,f,v="value"in Hi?Hi.value:Hi.textContent,_=v.length;for(a=0;a<u&&s[a]===v[a];a++);var N=u-a;for(f=1;f<=N&&s[u-f]===v[_-f];f++);return zo=v.slice(a,1<f?1-f:void 0)}function qo(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ca(){return!0}function wi(){return!1}function Bn(a){function s(u,f,v,_,N){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(u=a[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ca:wi,this.isPropagationStopped=wi,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),s}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Bn(Ra),Es=p({},Ra,{view:0,detail:0}),Ac=Bn(Es),Ts,Fl,Gi,Gl=p({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Gi&&(Gi&&a.type==="mousemove"?(Ts=a.screenX-Gi.screenX,Fl=a.screenY-Gi.screenY):Fl=Ts=0,Gi=a),Ts)},movementY:function(a){return"movementY"in a?a.movementY:Fl}}),Cc=Bn(Gl),Vo=p({},Gl,{dataTransfer:0}),Ih=Bn(Vo),Nh=p({},Es,{relatedTarget:0}),Lo=Bn(Nh),Rc=p({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Mh=Bn(Rc),$l=p({},Ra,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kh=Bn($l),Dh=p({},Ra,{data:0}),$i=Bn(Dh),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=qh[a])?!!s[a]:!1}function As(){return Vh}var rr=p({},Es,{key:function(a){if(a.key){var s=Oh[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=qo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(a){return a.type==="keypress"?qo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lh=Bn(rr),Ph=p({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=Bn(Ph),g=p({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),x=Bn(g),O=p({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Bn(O),he=p({},Gl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_e=Bn(he),Me=p({},Ra,{newState:0,oldState:0}),ot=Bn(Me),dn=[9,13,27,32],Ct=Wr&&"CompositionEvent"in window,Xt=null;Wr&&"documentMode"in document&&(Xt=document.documentMode);var Jr=Wr&&"TextEvent"in window&&!Xt,Yi=Wr&&(!Ct||Xt&&8<Xt&&11>=Xt),Si=" ",xi=!1;function Po(a,s){switch(a){case"keyup":return dn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xl=!1;function Pz(a,s){switch(a){case"compositionend":return Yl(s);case"keypress":return s.which!==32?null:(xi=!0,Si);case"textInput":return a=s.data,a===Si&&xi?null:a;default:return null}}function Bz(a,s){if(Xl)return a==="compositionend"||!Ct&&Po(a,s)?(a=Tc(),zo=Ec=Hi=null,Xl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var Uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Uz[a.type]:s==="textarea"}function g_(a,s,u,f){Ss?ji?ji.push(f):ji=[f]:Ss=f,s=If(s,"onChange"),0<s.length&&(u=new Fi("onChange","change",null,u,f),a.push({event:u,listeners:s}))}var Ic=null,Nc=null;function jz(a){W8(a,0)}function Bh(a){var s=Xn(a);if(Ta(s))return a}function v_(a,s){if(a==="change")return s}var y_=!1;if(Wr){var _1;if(Wr){var b1="oninput"in document;if(!b1){var __=document.createElement("div");__.setAttribute("oninput","return;"),b1=typeof __.oninput=="function"}_1=b1}else _1=!1;y_=_1&&(!document.documentMode||9<document.documentMode)}function b_(){Ic&&(Ic.detachEvent("onpropertychange",w_),Nc=Ic=null)}function w_(a){if(a.propertyName==="value"&&Bh(Nc)){var s=[];g_(s,Nc,a,Zr(a)),xs(jz,s)}}function Hz(a,s,u){a==="focusin"?(b_(),Ic=s,Nc=u,Ic.attachEvent("onpropertychange",w_)):a==="focusout"&&b_()}function Fz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Bh(Nc)}function Gz(a,s){if(a==="click")return Bh(s)}function $z(a,s){if(a==="input"||a==="change")return Bh(s)}function Yz(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Nr=typeof Object.is=="function"?Object.is:Yz;function Mc(a,s){if(Nr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!st.call(s,v)||!Nr(a[v],s[v]))return!1}return!0}function S_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function x_(a,s){var u=S_(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=s&&f>=s)return{node:u,offset:s-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=S_(u)}}function E_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?E_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function T_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Ir(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=Ir(a.document)}return s}function w1(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Xz=Wr&&"documentMode"in document&&11>=document.documentMode,Kl=null,S1=null,kc=null,x1=!1;function A_(a,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;x1||Kl==null||Kl!==Ir(f)||(f=Kl,"selectionStart"in f&&w1(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),kc&&Mc(kc,f)||(kc=f,f=If(S1,"onSelect"),0<f.length&&(s=new Fi("onSelect","select",null,s,u),a.push({event:s,listeners:f}),s.target=Kl)))}function Bo(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Ql={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionrun:Bo("Transition","TransitionRun"),transitionstart:Bo("Transition","TransitionStart"),transitioncancel:Bo("Transition","TransitionCancel"),transitionend:Bo("Transition","TransitionEnd")},E1={},C_={};Wr&&(C_=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function Uo(a){if(E1[a])return E1[a];if(!Ql[a])return a;var s=Ql[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in C_)return E1[a]=s[u];return a}var R_=Uo("animationend"),I_=Uo("animationiteration"),N_=Uo("animationstart"),Kz=Uo("transitionrun"),Qz=Uo("transitionstart"),Zz=Uo("transitioncancel"),M_=Uo("transitionend"),k_=new Map,T1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");T1.push("scrollEnd");function Ei(a,s){k_.set(a,s),Kr(s,[a])}var Uh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ei=[],Zl=0,A1=0;function jh(){for(var a=Zl,s=A1=Zl=0;s<a;){var u=ei[s];ei[s++]=null;var f=ei[s];ei[s++]=null;var v=ei[s];ei[s++]=null;var _=ei[s];if(ei[s++]=null,f!==null&&v!==null){var N=f.pending;N===null?v.next=v:(v.next=N.next,N.next=v),f.pending=v}_!==0&&D_(u,v,_)}}function Hh(a,s,u,f){ei[Zl++]=a,ei[Zl++]=s,ei[Zl++]=u,ei[Zl++]=f,A1|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function C1(a,s,u,f){return Hh(a,s,u,f),Fh(a)}function jo(a,s){return Hh(a,null,null,s),Fh(a)}function D_(a,s,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&s!==null&&(v=31-en(u),a=_.hiddenUpdates,f=a[v],f===null?a[v]=[s]:f.push(s),s.lane=u|536870912),_):null}function Fh(a){if(50<e0)throw e0=0,qp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Wl={};function Wz(a,s,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(a,s,u,f){return new Wz(a,s,u,f)}function R1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Na(a,s){var u=a.alternate;return u===null?(u=Mr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function O_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Gh(a,s,u,f,v,_){var N=0;if(f=a,typeof a=="function")R1(a)&&(N=1);else if(typeof a=="string")N=rV(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Mr(31,u,s,v),a.elementType=k,a.lanes=_,a;case T:return Ho(u.children,v,_,s);case E:N=8,v|=24;break;case C:return a=Mr(12,u,s,v|2),a.elementType=C,a.lanes=_,a;case U:return a=Mr(13,u,s,v),a.elementType=U,a.lanes=_,a;case L:return a=Mr(19,u,s,v),a.elementType=L,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:N=10;break e;case D:N=9;break e;case z:N=11;break e;case I:N=14;break e;case M:N=16,f=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),f=null}return s=Mr(N,u,s,v),s.elementType=a,s.type=f,s.lanes=_,s}function Ho(a,s,u,f){return a=Mr(7,a,f,s),a.lanes=u,a}function I1(a,s,u){return a=Mr(6,a,null,s),a.lanes=u,a}function z_(a){var s=Mr(18,null,null,0);return s.stateNode=a,s}function N1(a,s,u){return s=Mr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var q_=new WeakMap;function ti(a,s){if(typeof a=="object"&&a!==null){var u=q_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Bt(s)},q_.set(a,s),s)}return{value:a,source:s,stack:Bt(s)}}var Jl=[],eu=0,$h=null,Dc=0,ni=[],ri=0,Cs=null,Xi=1,Ki="";function Ma(a,s){Jl[eu++]=Dc,Jl[eu++]=$h,$h=a,Dc=s}function V_(a,s,u){ni[ri++]=Xi,ni[ri++]=Ki,ni[ri++]=Cs,Cs=a;var f=Xi;a=Ki;var v=32-en(f)-1;f&=~(1<<v),u+=1;var _=32-en(s)+v;if(30<_){var N=v-v%5;_=(f&(1<<N)-1).toString(32),f>>=N,v-=N,Xi=1<<32-en(s)+v|u<<v|f,Ki=_+a}else Xi=1<<_|u<<v|f,Ki=a}function M1(a){a.return!==null&&(Ma(a,1),V_(a,1,0))}function k1(a){for(;a===$h;)$h=Jl[--eu],Jl[eu]=null,Dc=Jl[--eu],Jl[eu]=null;for(;a===Cs;)Cs=ni[--ri],ni[ri]=null,Ki=ni[--ri],ni[ri]=null,Xi=ni[--ri],ni[ri]=null}function L_(a,s){ni[ri++]=Xi,ni[ri++]=Ki,ni[ri++]=Cs,Xi=s.id,Ki=s.overflow,Cs=a}var Un=null,Ft=null,_t=!1,Rs=null,ii=!1,D1=Error(r(519));function Is(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oc(ti(s,a)),D1}function P_(a){var s=a.stateNode,u=a.type,f=a.memoizedProps;switch(s[on]=a,s[_n]=f,u){case"dialog":ft("cancel",s),ft("close",s);break;case"iframe":case"object":case"embed":ft("load",s);break;case"video":case"audio":for(u=0;u<n0.length;u++)ft(n0[u],s);break;case"source":ft("error",s);break;case"img":case"image":case"link":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"input":ft("invalid",s),Bl(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ft("invalid",s);break;case"textarea":ft("invalid",s),bs(s,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||n9(s.textContent,u)?(f.popover!=null&&(ft("beforetoggle",s),ft("toggle",s)),f.onScroll!=null&&ft("scroll",s),f.onScrollEnd!=null&&ft("scrollend",s),f.onClick!=null&&(s.onclick=_i),s=!0):s=!1,s||Is(a,!0)}function B_(a){for(Un=a.return;Un;)switch(Un.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:Un=Un.return}}function tu(a){if(a!==Un)return!1;if(!_t)return B_(a),_t=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Zp(a.type,a.memoizedProps)),u=!u),u&&Ft&&Is(a),B_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ft=h9(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ft=h9(a)}else s===27?(s=Ft,Hs(a.type)?(a=ng,ng=null,Ft=a):Ft=s):Ft=Un?si(a.stateNode.nextSibling):null;return!0}function Fo(){Ft=Un=null,_t=!1}function O1(){var a=Rs;return a!==null&&(vr===null?vr=a:vr.push.apply(vr,a),Rs=null),a}function Oc(a){Rs===null?Rs=[a]:Rs.push(a)}var z1=Y(null),Go=null,ka=null;function Ns(a,s,u){pe(z1,s._currentValue),s._currentValue=u}function Da(a){a._currentValue=z1.current,ee(z1)}function q1(a,s,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===u)break;a=a.return}}function V1(a,s,u,f){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var N=v.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=v;for(var ne=0;ne<s.length;ne++)if(F.context===s[ne]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),q1(_.return,u,a),f||(N=null);break e}_=F.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),q1(N,u,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function nu(a,s,u,f){a=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var F=v.type;Nr(v.pendingProps.value,N.value)||(a!==null?a.push(F):a=[F])}}else if(v===ge.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(o0):a=[o0])}v=v.return}a!==null&&V1(s,a,u,f),s.flags|=262144}function Yh(a){for(a=a.firstContext;a!==null;){if(!Nr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $o(a){Go=a,ka=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function jn(a){return U_(Go,a)}function Xh(a,s){return Go===null&&$o(a),U_(a,s)}function U_(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ka===null){if(a===null)throw Error(r(308));ka=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ka=ka.next=s;return u}var Jz=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},eq=t.unstable_scheduleCallback,tq=t.unstable_NormalPriority,wn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L1(){return{controller:new Jz,data:new Map,refCount:0}}function zc(a){a.refCount--,a.refCount===0&&eq(tq,function(){a.controller.abort()})}var qc=null,P1=0,ru=0,iu=null;function nq(a,s){if(qc===null){var u=qc=[];P1=0,ru=jp(),iu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return P1++,s.then(j_,j_),s}function j_(){if(--P1===0&&qc!==null){iu!==null&&(iu.status="fulfilled");var a=qc;qc=null,ru=0,iu=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function rq(a,s){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var H_=$.S;$.S=function(a,s){A8=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nq(a,s),H_!==null&&H_(a,s)};var Yo=Y(null);function B1(){var a=Yo.current;return a!==null?a:Lt.pooledCache}function Kh(a,s){s===null?pe(Yo,Yo.current):pe(Yo,s.pool)}function F_(){var a=B1();return a===null?null:{parent:wn._currentValue,pool:a}}var au=Error(r(460)),U1=Error(r(474)),Qh=Error(r(542)),Zh={then:function(){}};function G_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $_(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(_i,_i),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,X_(a),a;default:if(typeof s.status=="string")s.then(_i,_i);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,X_(a),a}throw Ko=s,au}}function Xo(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ko=u,au):u}}var Ko=null;function Y_(){if(Ko===null)throw Error(r(459));var a=Ko;return Ko=null,a}function X_(a){if(a===au||a===Qh)throw Error(r(483))}var su=null,Vc=0;function Wh(a){var s=Vc;return Vc+=1,su===null&&(su=[]),$_(su,a,s)}function Lc(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Jh(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function K_(a){function s(le,ae){if(a){var fe=le.deletions;fe===null?(le.deletions=[ae],le.flags|=16):fe.push(ae)}}function u(le,ae){if(!a)return null;for(;ae!==null;)s(le,ae),ae=ae.sibling;return null}function f(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function v(le,ae){return le=Na(le,ae),le.index=0,le.sibling=null,le}function _(le,ae,fe){return le.index=fe,a?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ae?(le.flags|=67108866,ae):fe):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function N(le){return a&&le.alternate===null&&(le.flags|=67108866),le}function F(le,ae,fe,xe){return ae===null||ae.tag!==6?(ae=I1(fe,le.mode,xe),ae.return=le,ae):(ae=v(ae,fe),ae.return=le,ae)}function ne(le,ae,fe,xe){var Xe=fe.type;return Xe===T?Se(le,ae,fe.props.children,xe,fe.key):ae!==null&&(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M&&Xo(Xe)===ae.type)?(ae=v(ae,fe.props),Lc(ae,fe),ae.return=le,ae):(ae=Gh(fe.type,fe.key,fe.props,null,le.mode,xe),Lc(ae,fe),ae.return=le,ae)}function me(le,ae,fe,xe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=N1(fe,le.mode,xe),ae.return=le,ae):(ae=v(ae,fe.children||[]),ae.return=le,ae)}function Se(le,ae,fe,xe,Xe){return ae===null||ae.tag!==7?(ae=Ho(fe,le.mode,xe,Xe),ae.return=le,ae):(ae=v(ae,fe),ae.return=le,ae)}function Ee(le,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=I1(""+ae,le.mode,fe),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return fe=Gh(ae.type,ae.key,ae.props,null,le.mode,fe),Lc(fe,ae),fe.return=le,fe;case S:return ae=N1(ae,le.mode,fe),ae.return=le,ae;case M:return ae=Xo(ae),Ee(le,ae,fe)}if(te(ae)||B(ae))return ae=Ho(ae,le.mode,fe,null),ae.return=le,ae;if(typeof ae.then=="function")return Ee(le,Wh(ae),fe);if(ae.$$typeof===A)return Ee(le,Xh(le,ae),fe);Jh(le,ae)}return null}function ve(le,ae,fe,xe){var Xe=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Xe!==null?null:F(le,ae,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return fe.key===Xe?ne(le,ae,fe,xe):null;case S:return fe.key===Xe?me(le,ae,fe,xe):null;case M:return fe=Xo(fe),ve(le,ae,fe,xe)}if(te(fe)||B(fe))return Xe!==null?null:Se(le,ae,fe,xe,null);if(typeof fe.then=="function")return ve(le,ae,Wh(fe),xe);if(fe.$$typeof===A)return ve(le,ae,Xh(le,fe),xe);Jh(le,fe)}return null}function we(le,ae,fe,xe,Xe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return le=le.get(fe)||null,F(ae,le,""+xe,Xe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return le=le.get(xe.key===null?fe:xe.key)||null,ne(ae,le,xe,Xe);case S:return le=le.get(xe.key===null?fe:xe.key)||null,me(ae,le,xe,Xe);case M:return xe=Xo(xe),we(le,ae,fe,xe,Xe)}if(te(xe)||B(xe))return le=le.get(fe)||null,Se(ae,le,xe,Xe,null);if(typeof xe.then=="function")return we(le,ae,fe,Wh(xe),Xe);if(xe.$$typeof===A)return we(le,ae,fe,Xh(ae,xe),Xe);Jh(ae,xe)}return null}function Ue(le,ae,fe,xe){for(var Xe=null,Et=null,Fe=ae,ut=ae=0,mt=null;Fe!==null&&ut<fe.length;ut++){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var Tt=ve(le,Fe,fe[ut],xe);if(Tt===null){Fe===null&&(Fe=mt);break}a&&Fe&&Tt.alternate===null&&s(le,Fe),ae=_(Tt,ae,ut),Et===null?Xe=Tt:Et.sibling=Tt,Et=Tt,Fe=mt}if(ut===fe.length)return u(le,Fe),_t&&Ma(le,ut),Xe;if(Fe===null){for(;ut<fe.length;ut++)Fe=Ee(le,fe[ut],xe),Fe!==null&&(ae=_(Fe,ae,ut),Et===null?Xe=Fe:Et.sibling=Fe,Et=Fe);return _t&&Ma(le,ut),Xe}for(Fe=f(Fe);ut<fe.length;ut++)mt=we(Fe,le,ut,fe[ut],xe),mt!==null&&(a&&mt.alternate!==null&&Fe.delete(mt.key===null?ut:mt.key),ae=_(mt,ae,ut),Et===null?Xe=mt:Et.sibling=mt,Et=mt);return a&&Fe.forEach(function(Xs){return s(le,Xs)}),_t&&Ma(le,ut),Xe}function We(le,ae,fe,xe){if(fe==null)throw Error(r(151));for(var Xe=null,Et=null,Fe=ae,ut=ae=0,mt=null,Tt=fe.next();Fe!==null&&!Tt.done;ut++,Tt=fe.next()){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var Xs=ve(le,Fe,Tt.value,xe);if(Xs===null){Fe===null&&(Fe=mt);break}a&&Fe&&Xs.alternate===null&&s(le,Fe),ae=_(Xs,ae,ut),Et===null?Xe=Xs:Et.sibling=Xs,Et=Xs,Fe=mt}if(Tt.done)return u(le,Fe),_t&&Ma(le,ut),Xe;if(Fe===null){for(;!Tt.done;ut++,Tt=fe.next())Tt=Ee(le,Tt.value,xe),Tt!==null&&(ae=_(Tt,ae,ut),Et===null?Xe=Tt:Et.sibling=Tt,Et=Tt);return _t&&Ma(le,ut),Xe}for(Fe=f(Fe);!Tt.done;ut++,Tt=fe.next())Tt=we(Fe,le,ut,Tt.value,xe),Tt!==null&&(a&&Tt.alternate!==null&&Fe.delete(Tt.key===null?ut:Tt.key),ae=_(Tt,ae,ut),Et===null?Xe=Tt:Et.sibling=Tt,Et=Tt);return a&&Fe.forEach(function(mV){return s(le,mV)}),_t&&Ma(le,ut),Xe}function qt(le,ae,fe,xe){if(typeof fe=="object"&&fe!==null&&fe.type===T&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:e:{for(var Xe=fe.key;ae!==null;){if(ae.key===Xe){if(Xe=fe.type,Xe===T){if(ae.tag===7){u(le,ae.sibling),xe=v(ae,fe.props.children),xe.return=le,le=xe;break e}}else if(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M&&Xo(Xe)===ae.type){u(le,ae.sibling),xe=v(ae,fe.props),Lc(xe,fe),xe.return=le,le=xe;break e}u(le,ae);break}else s(le,ae);ae=ae.sibling}fe.type===T?(xe=Ho(fe.props.children,le.mode,xe,fe.key),xe.return=le,le=xe):(xe=Gh(fe.type,fe.key,fe.props,null,le.mode,xe),Lc(xe,fe),xe.return=le,le=xe)}return N(le);case S:e:{for(Xe=fe.key;ae!==null;){if(ae.key===Xe)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){u(le,ae.sibling),xe=v(ae,fe.children||[]),xe.return=le,le=xe;break e}else{u(le,ae);break}else s(le,ae);ae=ae.sibling}xe=N1(fe,le.mode,xe),xe.return=le,le=xe}return N(le);case M:return fe=Xo(fe),qt(le,ae,fe,xe)}if(te(fe))return Ue(le,ae,fe,xe);if(B(fe)){if(Xe=B(fe),typeof Xe!="function")throw Error(r(150));return fe=Xe.call(fe),We(le,ae,fe,xe)}if(typeof fe.then=="function")return qt(le,ae,Wh(fe),xe);if(fe.$$typeof===A)return qt(le,ae,Xh(le,fe),xe);Jh(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ae!==null&&ae.tag===6?(u(le,ae.sibling),xe=v(ae,fe),xe.return=le,le=xe):(u(le,ae),xe=I1(fe,le.mode,xe),xe.return=le,le=xe),N(le)):u(le,ae)}return function(le,ae,fe,xe){try{Vc=0;var Xe=qt(le,ae,fe,xe);return su=null,Xe}catch(Fe){if(Fe===au||Fe===Qh)throw Fe;var Et=Mr(29,Fe,null,le.mode);return Et.lanes=xe,Et.return=le,Et}}}var Qo=K_(!0),Q_=K_(!1),Ms=!1;function j1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H1(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ks(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ds(a,s,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Rt&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=Fh(a),D_(a,null,u),s}return Hh(a,f,s,u),Fh(a)}function Pc(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,u|=f,s.lanes=u,To(a,u)}}function F1(a,s){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?v=_=s:_=_.next=s}else v=_=s;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var G1=!1;function Bc(){if(G1){var a=iu;if(a!==null)throw a}}function Uc(a,s,u,f){G1=!1;var v=a.updateQueue;Ms=!1;var _=v.firstBaseUpdate,N=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var ne=F,me=ne.next;ne.next=null,N===null?_=me:N.next=me,N=ne;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,F=Se.lastBaseUpdate,F!==N&&(F===null?Se.firstBaseUpdate=me:F.next=me,Se.lastBaseUpdate=ne))}if(_!==null){var Ee=v.baseState;N=0,Se=me=ne=null,F=_;do{var ve=F.lane&-536870913,we=ve!==F.lane;if(we?(dt&ve)===ve:(f&ve)===ve){ve!==0&&ve===ru&&(G1=!0),Se!==null&&(Se=Se.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ue=a,We=F;ve=s;var qt=u;switch(We.tag){case 1:if(Ue=We.payload,typeof Ue=="function"){Ee=Ue.call(qt,Ee,ve);break e}Ee=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=We.payload,ve=typeof Ue=="function"?Ue.call(qt,Ee,ve):Ue,ve==null)break e;Ee=p({},Ee,ve);break e;case 2:Ms=!0}}ve=F.callback,ve!==null&&(a.flags|=64,we&&(a.flags|=8192),we=v.callbacks,we===null?v.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Se===null?(me=Se=we,ne=Ee):Se=Se.next=we,N|=ve;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;we=F,F=we.next,we.next=null,v.lastBaseUpdate=we,v.shared.pending=null}}while(!0);Se===null&&(ne=Ee),v.baseState=ne,v.firstBaseUpdate=me,v.lastBaseUpdate=Se,_===null&&(v.shared.lanes=0),Ls|=N,a.lanes=N,a.memoizedState=Ee}}function Z_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function W_(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Z_(u[a],s)}var ou=Y(null),ef=Y(0);function J_(a,s){a=ja,pe(ef,a),pe(ou,s),ja=a|s.baseLanes}function $1(){pe(ef,ja),pe(ou,ou.current)}function Y1(){ja=ef.current,ee(ou),ee(ef)}var kr=Y(null),ai=null;function Os(a){var s=a.alternate;pe(mn,mn.current&1),pe(kr,a),ai===null&&(s===null||ou.current!==null||s.memoizedState!==null)&&(ai=a)}function X1(a){pe(mn,mn.current),pe(kr,a),ai===null&&(ai=a)}function eb(a){a.tag===22?(pe(mn,mn.current),pe(kr,a),ai===null&&(ai=a)):zs()}function zs(){pe(mn,mn.current),pe(kr,kr.current)}function Dr(a){ee(kr),ai===a&&(ai=null),ee(mn)}var mn=Y(0);function tf(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||eg(u)||tg(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oa=0,lt=null,Ot=null,Sn=null,nf=!1,lu=!1,Zo=!1,rf=0,jc=0,uu=null,iq=0;function cn(){throw Error(r(321))}function K1(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Nr(a[u],s[u]))return!1;return!0}function Q1(a,s,u,f,v,_){return Oa=_,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=a===null||a.memoizedState===null?Vb:hp,Zo=!1,_=u(f,v),Zo=!1,lu&&(_=nb(s,u,f,v)),tb(a),_}function tb(a){$.H=Gc;var s=Ot!==null&&Ot.next!==null;if(Oa=0,Sn=Ot=lt=null,nf=!1,jc=0,uu=null,s)throw Error(r(300));a===null||xn||(a=a.dependencies,a!==null&&Yh(a)&&(xn=!0))}function nb(a,s,u,f){lt=a;var v=0;do{if(lu&&(uu=null),jc=0,lu=!1,25<=v)throw Error(r(301));if(v+=1,Sn=Ot=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=Lb,_=s(u,f)}while(lu);return _}function aq(){var a=$.H,s=a.useState()[0];return s=typeof s.then=="function"?Hc(s):s,a=a.useState()[0],(Ot!==null?Ot.memoizedState:null)!==a&&(lt.flags|=1024),s}function Z1(){var a=rf!==0;return rf=0,a}function W1(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function J1(a){if(nf){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}nf=!1}Oa=0,Sn=Ot=lt=null,lu=!1,jc=rf=0,uu=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?lt.memoizedState=Sn=a:Sn=Sn.next=a,Sn}function pn(){if(Ot===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var s=Sn===null?lt.memoizedState:Sn.next;if(s!==null)Sn=s,Ot=a;else{if(a===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Sn===null?lt.memoizedState=Sn=a:Sn=Sn.next=a}return Sn}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hc(a){var s=jc;return jc+=1,uu===null&&(uu=[]),a=$_(uu,a,s),s=lt,(Sn===null?s.memoizedState:Sn.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Vb:hp),a}function sf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hc(a);if(a.$$typeof===A)return jn(a)}throw Error(r(438,String(a)))}function ep(a){var s=null,u=lt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=lt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=af(),lt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),f=0;f<a;f++)u[f]=H;return s.index++,u}function za(a,s){return typeof s=="function"?s(a):s}function of(a){var s=pn();return tp(s,Ot,a)}function tp(a,s,u){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=a.baseQueue,_=f.pending;if(_!==null){if(v!==null){var N=v.next;v.next=_.next,_.next=N}s.baseQueue=v=_,f.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{s=v.next;var F=N=null,ne=null,me=s,Se=!1;do{var Ee=me.lane&-536870913;if(Ee!==me.lane?(dt&Ee)===Ee:(Oa&Ee)===Ee){var ve=me.revertLane;if(ve===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Ee===ru&&(Se=!0);else if((Oa&ve)===ve){me=me.next,ve===ru&&(Se=!0);continue}else Ee={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=Ee,N=_):ne=ne.next=Ee,lt.lanes|=ve,Ls|=ve;Ee=me.action,Zo&&u(_,Ee),_=me.hasEagerState?me.eagerState:u(_,Ee)}else ve={lane:Ee,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=ve,N=_):ne=ne.next=ve,lt.lanes|=Ee,Ls|=Ee;me=me.next}while(me!==null&&me!==s);if(ne===null?N=_:ne.next=F,!Nr(_,a.memoizedState)&&(xn=!0,Se&&(u=iu,u!==null)))throw u;a.memoizedState=_,a.baseState=N,a.baseQueue=ne,f.lastRenderedState=_}return v===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function np(a){var s=pn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=u.dispatch,v=u.pending,_=s.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do _=a(_,N.action),N=N.next;while(N!==v);Nr(_,s.memoizedState)||(xn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,f]}function rb(a,s,u){var f=lt,v=pn(),_=_t;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var N=!Nr((Ot||v).memoizedState,u);if(N&&(v.memoizedState=u,xn=!0),v=v.queue,ap(sb.bind(null,f,v,a),[a]),v.getSnapshot!==s||N||Sn!==null&&Sn.memoizedState.tag&1){if(f.flags|=2048,cu(9,{destroy:void 0},ab.bind(null,f,v,u,s),null),Lt===null)throw Error(r(349));_||(Oa&127)!==0||ib(f,s,u)}return u}function ib(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=lt.updateQueue,s===null?(s=af(),lt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function ab(a,s,u,f){s.value=u,s.getSnapshot=f,ob(s)&&lb(a)}function sb(a,s,u){return u(function(){ob(s)&&lb(a)})}function ob(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Nr(a,u)}catch{return!0}}function lb(a){var s=jo(a,2);s!==null&&yr(s,a,2)}function rp(a){var s=ir();if(typeof a=="function"){var u=a;if(a=u(),Zo){hr(!0);try{u()}finally{hr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},s}function ub(a,s,u,f){return a.baseState=u,tp(a,Ot,typeof f=="function"?f:za)}function sq(a,s,u,f,v){if(cf(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};$.T!==null?u(!0):_.isTransition=!1,f(_),u=s.pending,u===null?(_.next=s.pending=_,cb(s,_)):(_.next=u.next,s.pending=u.next=_)}}function cb(a,s){var u=s.action,f=s.payload,v=a.state;if(s.isTransition){var _=$.T,N={};$.T=N;try{var F=u(v,f),ne=$.S;ne!==null&&ne(N,F),hb(a,s,F)}catch(me){ip(a,s,me)}finally{_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}else try{_=u(v,f),hb(a,s,_)}catch(me){ip(a,s,me)}}function hb(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){fb(a,s,f)},function(f){return ip(a,s,f)}):fb(a,s,u)}function fb(a,s,u){s.status="fulfilled",s.value=u,db(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,cb(a,u)))}function ip(a,s,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,db(s),s=s.next;while(s!==f)}a.action=null}function db(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function mb(a,s){return s}function pb(a,s){if(_t){var u=Lt.formState;if(u!==null){e:{var f=lt;if(_t){if(Ft){t:{for(var v=Ft,_=ii;v.nodeType!==8;){if(!_){v=null;break t}if(v=si(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Ft=si(v.nextSibling),f=v.data==="F!";break e}}Is(f)}f=!1}f&&(s=u[0])}}return u=ir(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:s},u.queue=f,u=Ob.bind(null,lt,f),f.dispatch=u,f=rp(!1),_=cp.bind(null,lt,!1,f.queue),f=ir(),v={state:s,dispatch:null,action:a,pending:null},f.queue=v,u=sq.bind(null,lt,v,_,u),v.dispatch=u,f.memoizedState=a,[s,u,!1]}function gb(a){var s=pn();return vb(s,Ot,a)}function vb(a,s,u){if(s=tp(a,s,mb)[0],a=of(za)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Hc(s)}catch(N){throw N===au?Qh:N}else f=s;s=pn();var v=s.queue,_=v.dispatch;return u!==s.memoizedState&&(lt.flags|=2048,cu(9,{destroy:void 0},oq.bind(null,v,u),null)),[f,_,a]}function oq(a,s){a.action=s}function yb(a){var s=pn(),u=Ot;if(u!==null)return vb(s,u,a);pn(),s=s.memoizedState,u=pn();var f=u.queue.dispatch;return u.memoizedState=a,[s,f,!1]}function cu(a,s,u,f){return a={tag:a,create:u,deps:f,inst:s,next:null},s=lt.updateQueue,s===null&&(s=af(),lt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,s.lastEffect=a),a}function _b(){return pn().memoizedState}function lf(a,s,u,f){var v=ir();lt.flags|=a,v.memoizedState=cu(1|s,{destroy:void 0},u,f===void 0?null:f)}function uf(a,s,u,f){var v=pn();f=f===void 0?null:f;var _=v.memoizedState.inst;Ot!==null&&f!==null&&K1(f,Ot.memoizedState.deps)?v.memoizedState=cu(s,_,u,f):(lt.flags|=a,v.memoizedState=cu(1|s,_,u,f))}function bb(a,s){lf(8390656,8,a,s)}function ap(a,s){uf(2048,8,a,s)}function lq(a){lt.flags|=4;var s=lt.updateQueue;if(s===null)s=af(),lt.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function wb(a){var s=pn().memoizedState;return lq({ref:s,nextImpl:a}),function(){if((Rt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Sb(a,s){return uf(4,2,a,s)}function xb(a,s){return uf(4,4,a,s)}function Eb(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Tb(a,s,u){u=u!=null?u.concat([a]):null,uf(4,4,Eb.bind(null,s,a),u)}function sp(){}function Ab(a,s){var u=pn();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&K1(s,f[1])?f[0]:(u.memoizedState=[a,s],a)}function Cb(a,s){var u=pn();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&K1(s,f[1]))return f[0];if(f=a(),Zo){hr(!0);try{a()}finally{hr(!1)}}return u.memoizedState=[f,s],f}function op(a,s,u){return u===void 0||(Oa&1073741824)!==0&&(dt&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=R8(),lt.lanes|=a,Ls|=a,u)}function Rb(a,s,u,f){return Nr(u,s)?u:ou.current!==null?(a=op(a,u,f),Nr(a,s)||(xn=!0),a):(Oa&42)===0||(Oa&1073741824)!==0&&(dt&261930)===0?(xn=!0,a.memoizedState=u):(a=R8(),lt.lanes|=a,Ls|=a,s)}function Ib(a,s,u,f,v){var _=W.p;W.p=_!==0&&8>_?_:8;var N=$.T,F={};$.T=F,cp(a,!1,s,u);try{var ne=v(),me=$.S;if(me!==null&&me(F,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Se=rq(ne,f);Fc(a,s,Se,qr(a))}else Fc(a,s,f,qr(a))}catch(Ee){Fc(a,s,{then:function(){},status:"rejected",reason:Ee},qr())}finally{W.p=_,N!==null&&F.types!==null&&(N.types=F.types),$.T=N}}function uq(){}function lp(a,s,u,f){if(a.tag!==5)throw Error(r(476));var v=Nb(a).queue;Ib(a,v,s,re,u===null?uq:function(){return Mb(a),u(f)})}function Nb(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:re},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Mb(a){var s=Nb(a);s.next===null&&(s=a.alternate.memoizedState),Fc(a,s.next.queue,{},qr())}function up(){return jn(o0)}function kb(){return pn().memoizedState}function Db(){return pn().memoizedState}function cq(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=qr();a=ks(u);var f=Ds(s,a,u);f!==null&&(yr(f,s,u),Pc(f,s,u)),s={cache:L1()},a.payload=s;return}s=s.return}}function hq(a,s,u){var f=qr();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cf(a)?zb(s,u):(u=C1(a,s,u,f),u!==null&&(yr(u,a,f),qb(u,s,f)))}function Ob(a,s,u){var f=qr();Fc(a,s,u,f)}function Fc(a,s,u,f){var v={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(cf(a))zb(s,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,F=_(N,u);if(v.hasEagerState=!0,v.eagerState=F,Nr(F,N))return Hh(a,s,v,0),Lt===null&&jh(),!1}catch{}if(u=C1(a,s,v,f),u!==null)return yr(u,a,f),qb(u,s,f),!0}return!1}function cp(a,s,u,f){if(f={lane:2,revertLane:jp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},cf(a)){if(s)throw Error(r(479))}else s=C1(a,u,f,2),s!==null&&yr(s,a,2)}function cf(a){var s=a.alternate;return a===lt||s!==null&&s===lt}function zb(a,s){lu=nf=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function qb(a,s,u){if((u&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,u|=f,s.lanes=u,To(a,u)}}var Gc={readContext:jn,use:sf,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Gc.useEffectEvent=cn;var Vb={readContext:jn,use:sf,useCallback:function(a,s){return ir().memoizedState=[a,s===void 0?null:s],a},useContext:jn,useEffect:bb,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,lf(4194308,4,Eb.bind(null,s,a),u)},useLayoutEffect:function(a,s){return lf(4194308,4,a,s)},useInsertionEffect:function(a,s){lf(4,2,a,s)},useMemo:function(a,s){var u=ir();s=s===void 0?null:s;var f=a();if(Zo){hr(!0);try{a()}finally{hr(!1)}}return u.memoizedState=[f,s],f},useReducer:function(a,s,u){var f=ir();if(u!==void 0){var v=u(s);if(Zo){hr(!0);try{u(s)}finally{hr(!1)}}}else v=s;return f.memoizedState=f.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},f.queue=a,a=a.dispatch=hq.bind(null,lt,a),[f.memoizedState,a]},useRef:function(a){var s=ir();return a={current:a},s.memoizedState=a},useState:function(a){a=rp(a);var s=a.queue,u=Ob.bind(null,lt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:sp,useDeferredValue:function(a,s){var u=ir();return op(u,a,s)},useTransition:function(){var a=rp(!1);return a=Ib.bind(null,lt,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var f=lt,v=ir();if(_t){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Lt===null)throw Error(r(349));(dt&127)!==0||ib(f,s,u)}v.memoizedState=u;var _={value:u,getSnapshot:s};return v.queue=_,bb(sb.bind(null,f,_,a),[a]),f.flags|=2048,cu(9,{destroy:void 0},ab.bind(null,f,_,u,s),null),u},useId:function(){var a=ir(),s=Lt.identifierPrefix;if(_t){var u=Ki,f=Xi;u=(f&~(1<<32-en(f)-1)).toString(32)+u,s="_"+s+"R_"+u,u=rf++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=iq++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:up,useFormState:pb,useActionState:pb,useOptimistic:function(a){var s=ir();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=cp.bind(null,lt,!0,u),u.dispatch=s,[a,s]},useMemoCache:ep,useCacheRefresh:function(){return ir().memoizedState=cq.bind(null,lt)},useEffectEvent:function(a){var s=ir(),u={impl:a};return s.memoizedState=u,function(){if((Rt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},hp={readContext:jn,use:sf,useCallback:Ab,useContext:jn,useEffect:ap,useImperativeHandle:Tb,useInsertionEffect:Sb,useLayoutEffect:xb,useMemo:Cb,useReducer:of,useRef:_b,useState:function(){return of(za)},useDebugValue:sp,useDeferredValue:function(a,s){var u=pn();return Rb(u,Ot.memoizedState,a,s)},useTransition:function(){var a=of(za)[0],s=pn().memoizedState;return[typeof a=="boolean"?a:Hc(a),s]},useSyncExternalStore:rb,useId:kb,useHostTransitionStatus:up,useFormState:gb,useActionState:gb,useOptimistic:function(a,s){var u=pn();return ub(u,Ot,a,s)},useMemoCache:ep,useCacheRefresh:Db};hp.useEffectEvent=wb;var Lb={readContext:jn,use:sf,useCallback:Ab,useContext:jn,useEffect:ap,useImperativeHandle:Tb,useInsertionEffect:Sb,useLayoutEffect:xb,useMemo:Cb,useReducer:np,useRef:_b,useState:function(){return np(za)},useDebugValue:sp,useDeferredValue:function(a,s){var u=pn();return Ot===null?op(u,a,s):Rb(u,Ot.memoizedState,a,s)},useTransition:function(){var a=np(za)[0],s=pn().memoizedState;return[typeof a=="boolean"?a:Hc(a),s]},useSyncExternalStore:rb,useId:kb,useHostTransitionStatus:up,useFormState:yb,useActionState:yb,useOptimistic:function(a,s){var u=pn();return Ot!==null?ub(u,Ot,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:ep,useCacheRefresh:Db};Lb.useEffectEvent=wb;function fp(a,s,u,f){s=a.memoizedState,u=u(f,s),u=u==null?s:p({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var dp={enqueueSetState:function(a,s,u){a=a._reactInternals;var f=qr(),v=ks(f);v.payload=s,u!=null&&(v.callback=u),s=Ds(a,v,f),s!==null&&(yr(s,a,f),Pc(s,a,f))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var f=qr(),v=ks(f);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Ds(a,v,f),s!==null&&(yr(s,a,f),Pc(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=qr(),f=ks(u);f.tag=2,s!=null&&(f.callback=s),s=Ds(a,f,u),s!==null&&(yr(s,a,u),Pc(s,a,u))}};function Pb(a,s,u,f,v,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,_,N):s.prototype&&s.prototype.isPureReactComponent?!Mc(u,f)||!Mc(v,_):!0}function Bb(a,s,u,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==a&&dp.enqueueReplaceState(s,s.state,null)}function Wo(a,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(a=a.defaultProps){u===s&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Ub(a){Uh(a)}function jb(a){console.error(a)}function Hb(a){Uh(a)}function hf(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Fb(a,s,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function mp(a,s,u){return u=ks(u),u.tag=3,u.payload={element:null},u.callback=function(){hf(a,s)},u}function Gb(a){return a=ks(a),a.tag=3,a}function $b(a,s,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;a.payload=function(){return v(_)},a.callback=function(){Fb(s,u,f)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){Fb(s,u,f),typeof v!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var F=f.stack;this.componentDidCatch(f.value,{componentStack:F!==null?F:""})})}function fq(a,s,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&nu(s,u,v,!0),u=kr.current,u!==null){switch(u.tag){case 31:case 13:return ai===null?xf():u.alternate===null&&hn===0&&(hn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===Zh?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Pp(a,f,v)),!1;case 22:return u.flags|=65536,f===Zh?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Pp(a,f,v)),!1}throw Error(r(435,u.tag))}return Pp(a,f,v),xf(),!1}if(_t)return s=kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==D1&&(a=Error(r(422),{cause:f}),Oc(ti(a,u)))):(f!==D1&&(s=Error(r(423),{cause:f}),Oc(ti(s,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,f=ti(f,u),v=mp(a.stateNode,f,v),F1(a,v),hn!==4&&(hn=2)),!1;var _=Error(r(520),{cause:f});if(_=ti(_,u),Jc===null?Jc=[_]:Jc.push(_),hn!==4&&(hn=2),s===null)return!0;f=ti(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=mp(u.stateNode,f,a),F1(u,a),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ps===null||!Ps.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Gb(v),$b(v,a,u,f),F1(u,v),!1}u=u.return}while(u!==null);return!1}var pp=Error(r(461)),xn=!1;function Hn(a,s,u,f){s.child=a===null?Q_(s,null,u,f):Qo(s,a.child,u,f)}function Yb(a,s,u,f,v){u=u.render;var _=s.ref;if("ref"in f){var N={};for(var F in f)F!=="ref"&&(N[F]=f[F])}else N=f;return $o(s),f=Q1(a,s,u,N,_,v),F=Z1(),a!==null&&!xn?(W1(a,s,v),qa(a,s,v)):(_t&&F&&M1(s),s.flags|=1,Hn(a,s,f,v),s.child)}function Xb(a,s,u,f,v){if(a===null){var _=u.type;return typeof _=="function"&&!R1(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,Kb(a,s,_,f,v)):(a=Gh(u.type,null,f,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!xp(a,v)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:Mc,u(N,f)&&a.ref===s.ref)return qa(a,s,v)}return s.flags|=1,a=Na(_,f),a.ref=s.ref,a.return=s,s.child=a}function Kb(a,s,u,f,v){if(a!==null){var _=a.memoizedProps;if(Mc(_,f)&&a.ref===s.ref)if(xn=!1,s.pendingProps=f=_,xp(a,v))(a.flags&131072)!==0&&(xn=!0);else return s.lanes=a.lanes,qa(a,s,v)}return gp(a,s,u,f,v)}function Qb(a,s,u,f){var v=f.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(f=s.child=a.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return Zb(a,s,_,u,f)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kh(s,_!==null?_.cachePool:null),_!==null?J_(s,_):$1(),eb(s);else return f=s.lanes=536870912,Zb(a,s,_!==null?_.baseLanes|u:u,u,f)}else _!==null?(Kh(s,_.cachePool),J_(s,_),zs(),s.memoizedState=null):(a!==null&&Kh(s,null),$1(),zs());return Hn(a,s,v,u),s.child}function $c(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Zb(a,s,u,f,v){var _=B1();return _=_===null?null:{parent:wn._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},a!==null&&Kh(s,null),$1(),eb(s),a!==null&&nu(a,s,f,!0),s.childLanes=v,null}function ff(a,s){return s=mf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Wb(a,s,u){return Qo(s,a.child,null,u),a=ff(s,s.pendingProps),a.flags|=2,Dr(s),s.memoizedState=null,a}function dq(a,s,u){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(_t){if(f.mode==="hidden")return a=ff(s,f),s.lanes=536870912,$c(null,a);if(X1(s),(a=Ft)?(a=c9(a,ii),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Cs!==null?{id:Xi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},u=z_(a),u.return=s,s.child=u,Un=s,Ft=null)):a=null,a===null)throw Is(s);return s.lanes=536870912,null}return ff(s,f)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(X1(s),v)if(s.flags&256)s.flags&=-257,s=Wb(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(xn||nu(a,s,u,!1),v=(u&a.childLanes)!==0,xn||v){if(f=Lt,f!==null&&(N=Ao(f,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,jo(a,N),yr(f,a,N),pp;xf(),s=Wb(a,s,u)}else a=_.treeContext,Ft=si(N.nextSibling),Un=s,_t=!0,Rs=null,ii=!1,a!==null&&L_(s,a),s=ff(s,f),s.flags|=4096;return s}return a=Na(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function df(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function gp(a,s,u,f,v){return $o(s),u=Q1(a,s,u,f,void 0,v),f=Z1(),a!==null&&!xn?(W1(a,s,v),qa(a,s,v)):(_t&&f&&M1(s),s.flags|=1,Hn(a,s,u,v),s.child)}function Jb(a,s,u,f,v,_){return $o(s),s.updateQueue=null,u=nb(s,f,u,v),tb(a),f=Z1(),a!==null&&!xn?(W1(a,s,_),qa(a,s,_)):(_t&&f&&M1(s),s.flags|=1,Hn(a,s,u,_),s.child)}function e8(a,s,u,f,v){if($o(s),s.stateNode===null){var _=Wl,N=u.contextType;typeof N=="object"&&N!==null&&(_=jn(N)),_=new u(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=dp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},j1(s),N=u.contextType,_.context=typeof N=="object"&&N!==null?jn(N):Wl,_.state=s.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(fp(s,u,N,f),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&dp.enqueueReplaceState(_,_.state,null),Uc(s,f,_,v),Bc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){_=s.stateNode;var F=s.memoizedProps,ne=Wo(u,F);_.props=ne;var me=_.context,Se=u.contextType;N=Wl,typeof Se=="object"&&Se!==null&&(N=jn(Se));var Ee=u.getDerivedStateFromProps;Se=typeof Ee=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=s.pendingProps!==F,Se||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||me!==N)&&Bb(s,_,f,N),Ms=!1;var ve=s.memoizedState;_.state=ve,Uc(s,f,_,v),Bc(),me=s.memoizedState,F||ve!==me||Ms?(typeof Ee=="function"&&(fp(s,u,Ee,f),me=s.memoizedState),(ne=Ms||Pb(s,u,ne,f,ve,me,N))?(Se||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=me),_.props=f,_.state=me,_.context=N,f=ne):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,H1(a,s),N=s.memoizedProps,Se=Wo(u,N),_.props=Se,Ee=s.pendingProps,ve=_.context,me=u.contextType,ne=Wl,typeof me=="object"&&me!==null&&(ne=jn(me)),F=u.getDerivedStateFromProps,(me=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==Ee||ve!==ne)&&Bb(s,_,f,ne),Ms=!1,ve=s.memoizedState,_.state=ve,Uc(s,f,_,v),Bc();var we=s.memoizedState;N!==Ee||ve!==we||Ms||a!==null&&a.dependencies!==null&&Yh(a.dependencies)?(typeof F=="function"&&(fp(s,u,F,f),we=s.memoizedState),(Se=Ms||Pb(s,u,Se,f,ve,we,ne)||a!==null&&a.dependencies!==null&&Yh(a.dependencies))?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,we,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,we,ne)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=we),_.props=f,_.state=we,_.context=ne,f=Se):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=1024),f=!1)}return _=f,df(a,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&f?(s.child=Qo(s,a.child,null,v),s.child=Qo(s,null,u,v)):Hn(a,s,u,v),s.memoizedState=_.state,a=s.child):a=qa(a,s,v),a}function t8(a,s,u,f){return Fo(),s.flags|=256,Hn(a,s,u,f),s.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yp(a){return{baseLanes:a,cachePool:F_()}}function _p(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=zr),a}function n8(a,s,u){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(mn.current&2)!==0),N&&(v=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(_t){if(v?Os(s):zs(),(a=Ft)?(a=c9(a,ii),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Cs!==null?{id:Xi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},u=z_(a),u.return=s,s.child=u,Un=s,Ft=null)):a=null,a===null)throw Is(s);return tg(a)?s.lanes=32:s.lanes=536870912,null}var F=f.children;return f=f.fallback,v?(zs(),v=s.mode,F=mf({mode:"hidden",children:F},v),f=Ho(f,v,u,null),F.return=s,f.return=s,F.sibling=f,s.child=F,f=s.child,f.memoizedState=yp(u),f.childLanes=_p(a,N,u),s.memoizedState=vp,$c(null,f)):(Os(s),bp(s,F))}var ne=a.memoizedState;if(ne!==null&&(F=ne.dehydrated,F!==null)){if(_)s.flags&256?(Os(s),s.flags&=-257,s=wp(a,s,u)):s.memoizedState!==null?(zs(),s.child=a.child,s.flags|=128,s=null):(zs(),F=f.fallback,v=s.mode,f=mf({mode:"visible",children:f.children},v),F=Ho(F,v,u,null),F.flags|=2,f.return=s,F.return=s,f.sibling=F,s.child=f,Qo(s,a.child,null,u),f=s.child,f.memoizedState=yp(u),f.childLanes=_p(a,N,u),s.memoizedState=vp,s=$c(null,f));else if(Os(s),tg(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var me=N.dgst;N=me,f=Error(r(419)),f.stack="",f.digest=N,Oc({value:f,source:null,stack:null}),s=wp(a,s,u)}else if(xn||nu(a,s,u,!1),N=(u&a.childLanes)!==0,xn||N){if(N=Lt,N!==null&&(f=Ao(N,u),f!==0&&f!==ne.retryLane))throw ne.retryLane=f,jo(a,f),yr(N,a,f),pp;eg(F)||xf(),s=wp(a,s,u)}else eg(F)?(s.flags|=192,s.child=a.child,s=null):(a=ne.treeContext,Ft=si(F.nextSibling),Un=s,_t=!0,Rs=null,ii=!1,a!==null&&L_(s,a),s=bp(s,f.children),s.flags|=4096);return s}return v?(zs(),F=f.fallback,v=s.mode,ne=a.child,me=ne.sibling,f=Na(ne,{mode:"hidden",children:f.children}),f.subtreeFlags=ne.subtreeFlags&65011712,me!==null?F=Na(me,F):(F=Ho(F,v,u,null),F.flags|=2),F.return=s,f.return=s,f.sibling=F,s.child=f,$c(null,f),f=s.child,F=a.child.memoizedState,F===null?F=yp(u):(v=F.cachePool,v!==null?(ne=wn._currentValue,v=v.parent!==ne?{parent:ne,pool:ne}:v):v=F_(),F={baseLanes:F.baseLanes|u,cachePool:v}),f.memoizedState=F,f.childLanes=_p(a,N,u),s.memoizedState=vp,$c(a.child,f)):(Os(s),u=a.child,a=u.sibling,u=Na(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=u,s.memoizedState=null,u)}function bp(a,s){return s=mf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function mf(a,s){return a=Mr(22,a,null,s),a.lanes=0,a}function wp(a,s,u){return Qo(s,a.child,null,u),a=bp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function r8(a,s,u){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),q1(a.return,s,u)}function Sp(a,s,u,f,v,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=f,N.tail=u,N.tailMode=v,N.treeForkCount=_)}function i8(a,s,u){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var N=mn.current,F=(N&2)!==0;if(F?(N=N&1|2,s.flags|=128):N&=1,pe(mn,N),Hn(a,s,f,u),f=_t?Dc:0,!F&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&r8(a,u,s);else if(a.tag===19)r8(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=s.child,v=null;u!==null;)a=u.alternate,a!==null&&tf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),Sp(s,!1,v,u,_,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&tf(a)===null){s.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Sp(s,!0,u,null,_,f);break;case"together":Sp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function qa(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Ls|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(nu(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Na(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Na(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function xp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Yh(a)))}function mq(a,s,u){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),Ns(s,wn,a.memoizedState.cache),Fo();break;case 27:case 5:ze(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:Ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,X1(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Os(s),s.flags|=128,null):(u&s.child.childLanes)!==0?n8(a,s,u):(Os(s),a=qa(a,s,u),a!==null?a.sibling:null);Os(s);break;case 19:var v=(a.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(nu(a,s,u,!1),f=(u&s.childLanes)!==0),v){if(f)return i8(a,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(mn,mn.current),f)break;return null;case 22:return s.lanes=0,Qb(a,s,u,s.pendingProps);case 24:Ns(s,wn,a.memoizedState.cache)}return qa(a,s,u)}function a8(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)xn=!0;else{if(!xp(a,u)&&(s.flags&128)===0)return xn=!1,mq(a,s,u);xn=(a.flags&131072)!==0}else xn=!1,_t&&(s.flags&1048576)!==0&&V_(s,Dc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(a=Xo(s.elementType),s.type=a,typeof a=="function")R1(a)?(f=Wo(a,f),s.tag=1,s=e8(null,s,a,f,u)):(s.tag=0,s=gp(null,s,a,f,u));else{if(a!=null){var v=a.$$typeof;if(v===z){s.tag=11,s=Yb(null,s,a,f,u);break e}else if(v===I){s.tag=14,s=Xb(null,s,a,f,u);break e}}throw s=K(a)||a,Error(r(306,s,""))}}return s;case 0:return gp(a,s,s.type,s.pendingProps,u);case 1:return f=s.type,v=Wo(f,s.pendingProps),e8(a,s,f,v,u);case 3:e:{if(be(s,s.stateNode.containerInfo),a===null)throw Error(r(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,H1(a,s),Uc(s,f,null,u);var N=s.memoizedState;if(f=N.cache,Ns(s,wn,f),f!==_.cache&&V1(s,[wn],u,!0),Bc(),f=N.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=t8(a,s,f,u);break e}else if(f!==v){v=ti(Error(r(424)),s),Oc(v),s=t8(a,s,f,u);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ft=si(a.firstChild),Un=s,_t=!0,Rs=null,ii=!0,u=Q_(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Fo(),f===v){s=qa(a,s,u);break e}Hn(a,s,f,u)}s=s.child}return s;case 26:return df(a,s),a===null?(u=g9(s.type,null,s.pendingProps,null))?s.memoizedState=u:_t||(u=s.type,a=s.pendingProps,f=Nf(ue.current).createElement(u),f[on]=s,f[_n]=a,Fn(f,u,a),ln(f),s.stateNode=f):s.memoizedState=g9(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ze(s),a===null&&_t&&(f=s.stateNode=d9(s.type,s.pendingProps,ue.current),Un=s,ii=!0,v=Ft,Hs(s.type)?(ng=v,Ft=si(f.firstChild)):Ft=v),Hn(a,s,s.pendingProps.children,u),df(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&_t&&((v=f=Ft)&&(f=Fq(f,s.type,s.pendingProps,ii),f!==null?(s.stateNode=f,Un=s,Ft=si(f.firstChild),ii=!1,v=!0):v=!1),v||Is(s)),ze(s),v=s.type,_=s.pendingProps,N=a!==null?a.memoizedProps:null,f=_.children,Zp(v,_)?f=null:N!==null&&Zp(v,N)&&(s.flags|=32),s.memoizedState!==null&&(v=Q1(a,s,aq,null,null,u),o0._currentValue=v),df(a,s),Hn(a,s,f,u),s.child;case 6:return a===null&&_t&&((a=u=Ft)&&(u=Gq(u,s.pendingProps,ii),u!==null?(s.stateNode=u,Un=s,Ft=null,a=!0):a=!1),a||Is(s)),null;case 13:return n8(a,s,u);case 4:return be(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=Qo(s,null,f,u):Hn(a,s,f,u),s.child;case 11:return Yb(a,s,s.type,s.pendingProps,u);case 7:return Hn(a,s,s.pendingProps,u),s.child;case 8:return Hn(a,s,s.pendingProps.children,u),s.child;case 12:return Hn(a,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,Ns(s,s.type,f.value),Hn(a,s,f.children,u),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,$o(s),v=jn(v),f=f(v),s.flags|=1,Hn(a,s,f,u),s.child;case 14:return Xb(a,s,s.type,s.pendingProps,u);case 15:return Kb(a,s,s.type,s.pendingProps,u);case 19:return i8(a,s,u);case 31:return dq(a,s,u);case 22:return Qb(a,s,u,s.pendingProps);case 24:return $o(s),f=jn(wn),a===null?(v=B1(),v===null&&(v=Lt,_=L1(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),s.memoizedState={parent:f,cache:v},j1(s),Ns(s,wn,v)):((a.lanes&u)!==0&&(H1(a,s),Uc(s,null,null,u),Bc()),v=a.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ns(s,wn,f)):(f=_.cache,Ns(s,wn,f),f!==v.cache&&V1(s,[wn],u,!0))),Hn(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Va(a){a.flags|=4}function Ep(a,s,u,f,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(k8())a.flags|=8192;else throw Ko=Zh,U1}else a.flags&=-16777217}function s8(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!w9(s))if(k8())a.flags|=8192;else throw Ko=Zh,U1}function pf(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Ol():536870912,a.lanes|=s,mu|=s)}function Yc(a,s){if(!_t)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Gt(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(s)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=f,a.childLanes=u,s}function pq(a,s,u){var f=s.pendingProps;switch(k1(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return Gt(s),null;case 3:return u=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Da(wn),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(tu(s)?Va(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,O1())),Gt(s),null;case 26:var v=s.type,_=s.memoizedState;return a===null?(Va(s),_!==null?(Gt(s),s8(s,_)):(Gt(s),Ep(s,v,null,f,u))):_?_!==a.memoizedState?(Va(s),Gt(s),s8(s,_)):(Gt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&Va(s),Gt(s),Ep(s,v,a,f,u)),null;case 27:if(He(s),u=ue.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&Va(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}a=Q.current,tu(s)?P_(s):(a=d9(v,f,u),s.stateNode=a,Va(s))}return Gt(s),null;case 5:if(He(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&Va(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}if(_=Q.current,tu(s))P_(s);else{var N=Nf(ue.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?N.createElement("select",{is:f.is}):N.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?N.createElement(v,{is:f.is}):N.createElement(v)}}_[on]=s,_[_n]=f;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch(Fn(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Va(s)}}return Gt(s),Ep(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&Va(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(a=ue.current,tu(s)){if(a=s.stateNode,u=s.memoizedProps,f=null,v=Un,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}a[on]=s,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||n9(a.nodeValue,u)),a||Is(s,!0)}else a=Nf(a).createTextNode(f),a[on]=s,s.stateNode=a}return Gt(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(f=tu(s),u!==null){if(a===null){if(!f)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[on]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),a=!1}else u=O1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Dr(s),s):(Dr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Gt(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=tu(s),f!==null&&f.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[on]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),v=!1}else v=O1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Dr(s),s):(Dr(s),null)}return Dr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=f!==null,a=a!==null&&a.memoizedState!==null,u&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),pf(s,s.updateQueue),Gt(s),null);case 4:return Ce(),a===null&&$p(s.stateNode.containerInfo),Gt(s),null;case 10:return Da(s.type),Gt(s),null;case 19:if(ee(mn),f=s.memoizedState,f===null)return Gt(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)Yc(f,!1);else{if(hn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=tf(a),_!==null){for(s.flags|=128,Yc(f,!1),a=_.updateQueue,s.updateQueue=a,pf(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)O_(u,a),u=u.sibling;return pe(mn,mn.current&1|2),_t&&Ma(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&Yt()>bf&&(s.flags|=128,v=!0,Yc(f,!1),s.lanes=4194304)}else{if(!v)if(a=tf(_),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,pf(s,a),Yc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!_t)return Gt(s),null}else 2*Yt()-f.renderingStartTime>bf&&u!==536870912&&(s.flags|=128,v=!0,Yc(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(a=f.last,a!==null?a.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Yt(),a.sibling=null,u=mn.current,pe(mn,v?u&1|2:u&1),_t&&Ma(s,f.treeForkCount),a):(Gt(s),null);case 22:case 23:return Dr(s),Y1(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),u=s.updateQueue,u!==null&&pf(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),a!==null&&ee(Yo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Da(wn),Gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function gq(a,s){switch(k1(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Da(wn),Ce(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 31:if(s.memoizedState!==null){if(Dr(s),s.alternate===null)throw Error(r(340));Fo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Dr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ee(mn),null;case 4:return Ce(),null;case 10:return Da(s.type),null;case 22:case 23:return Dr(s),Y1(),a!==null&&ee(Yo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Da(wn),null;case 25:return null;default:return null}}function o8(a,s){switch(k1(s),s.tag){case 3:Da(wn),Ce();break;case 26:case 27:case 5:He(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&Dr(s);break;case 13:Dr(s);break;case 19:ee(mn);break;case 10:Da(s.type);break;case 22:case 23:Dr(s),Y1(),a!==null&&ee(Yo);break;case 24:Da(wn)}}function Xc(a,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&a)===a){f=void 0;var _=u.create,N=u.inst;f=_(),N.destroy=f}u=u.next}while(u!==v)}}catch(F){kt(s,s.return,F)}}function qs(a,s,u){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&a)===a){var N=f.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,v=s;var ne=u,me=F;try{me()}catch(Se){kt(v,ne,Se)}}}f=f.next}while(f!==_)}}catch(Se){kt(s,s.return,Se)}}function l8(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{W_(s,u)}catch(f){kt(a,a.return,f)}}}function u8(a,s,u){u.props=Wo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){kt(a,s,f)}}function Kc(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(v){kt(a,s,v)}}function Qi(a,s){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){kt(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){kt(a,s,v)}else u.current=null}function c8(a){var s=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){kt(a,a.return,v)}}function Tp(a,s,u){try{var f=a.stateNode;Lq(f,a.type,u,s),f[_n]=s}catch(v){kt(a,a.return,v)}}function h8(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Hs(a.type)||a.tag===4}function Ap(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||h8(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Hs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Cp(a,s,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=_i));else if(f!==4&&(f===27&&Hs(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(Cp(a,s,u),a=a.sibling;a!==null;)Cp(a,s,u),a=a.sibling}function gf(a,s,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(f!==4&&(f===27&&Hs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(gf(a,s,u),a=a.sibling;a!==null;)gf(a,s,u),a=a.sibling}function f8(a){var s=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Fn(s,f,u),s[on]=a,s[_n]=u}catch(_){kt(a,a.return,_)}}var La=!1,En=!1,Rp=!1,d8=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function vq(a,s){if(a=a.containerInfo,Kp=Vf,a=T_(a),w1(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,F=-1,ne=-1,me=0,Se=0,Ee=a,ve=null;t:for(;;){for(var we;Ee!==u||v!==0&&Ee.nodeType!==3||(F=N+v),Ee!==_||f!==0&&Ee.nodeType!==3||(ne=N+f),Ee.nodeType===3&&(N+=Ee.nodeValue.length),(we=Ee.firstChild)!==null;)ve=Ee,Ee=we;for(;;){if(Ee===a)break t;if(ve===u&&++me===v&&(F=N),ve===_&&++Se===f&&(ne=N),(we=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=we}u=F===-1||ne===-1?null:{start:F,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qp={focusedElem:a,selectionRange:u},Vf=!1,Vn=s;Vn!==null;)if(s=Vn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Vn=a;else for(;Vn!==null;){switch(s=Vn,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=s,v=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var Ue=Wo(u.type,v);a=f.getSnapshotBeforeUpdate(Ue,_),f.__reactInternalSnapshotBeforeUpdate=a}catch(We){kt(u,u.return,We)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)Jp(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Jp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Vn=a;break}Vn=s.return}}function m8(a,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ba(a,u),f&4&&Xc(5,u);break;case 1:if(Ba(a,u),f&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(N){kt(u,u.return,N)}else{var v=Wo(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}f&64&&l8(u),f&512&&Kc(u,u.return);break;case 3:if(Ba(a,u),f&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{W_(a,s)}catch(N){kt(u,u.return,N)}}break;case 27:s===null&&f&4&&f8(u);case 26:case 5:Ba(a,u),s===null&&f&4&&c8(u),f&512&&Kc(u,u.return);break;case 12:Ba(a,u);break;case 31:Ba(a,u),f&4&&v8(a,u);break;case 13:Ba(a,u),f&4&&y8(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=Aq.bind(null,u),$q(a,u))));break;case 22:if(f=u.memoizedState!==null||La,!f){s=s!==null&&s.memoizedState!==null||En,v=La;var _=En;La=f,(En=s)&&!_?Ua(a,u,(u.subtreeFlags&8772)!==0):Ba(a,u),La=v,En=_}break;case 30:break;default:Ba(a,u)}}function p8(a){var s=a.alternate;s!==null&&(a.alternate=null,p8(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&vs(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Kt=null,mr=!1;function Pa(a,s,u){for(u=u.child;u!==null;)g8(a,s,u),u=u.sibling}function g8(a,s,u){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(an,u)}catch{}switch(u.tag){case 26:En||Qi(u,s),Pa(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:En||Qi(u,s);var f=Kt,v=mr;Hs(u.type)&&(Kt=u.stateNode,mr=!1),Pa(a,s,u),i0(u.stateNode),Kt=f,mr=v;break;case 5:En||Qi(u,s);case 6:if(f=Kt,v=mr,Kt=null,Pa(a,s,u),Kt=f,mr=v,Kt!==null)if(mr)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(u.stateNode)}catch(_){kt(u,s,_)}else try{Kt.removeChild(u.stateNode)}catch(_){kt(u,s,_)}break;case 18:Kt!==null&&(mr?(a=Kt,l9(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Su(a)):l9(Kt,u.stateNode));break;case 4:f=Kt,v=mr,Kt=u.stateNode.containerInfo,mr=!0,Pa(a,s,u),Kt=f,mr=v;break;case 0:case 11:case 14:case 15:qs(2,u,s),En||qs(4,u,s),Pa(a,s,u);break;case 1:En||(Qi(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&u8(u,s,f)),Pa(a,s,u);break;case 21:Pa(a,s,u);break;case 22:En=(f=En)||u.memoizedState!==null,Pa(a,s,u),En=f;break;default:Pa(a,s,u)}}function v8(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Su(a)}catch(u){kt(s,s.return,u)}}}function y8(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Su(a)}catch(u){kt(s,s.return,u)}}function yq(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new d8),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new d8),s;default:throw Error(r(435,a.tag))}}function vf(a,s){var u=yq(a);s.forEach(function(f){if(!u.has(f)){u.add(f);var v=Cq.bind(null,a,f);f.then(v,v)}})}function pr(a,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],_=a,N=s,F=N;e:for(;F!==null;){switch(F.tag){case 27:if(Hs(F.type)){Kt=F.stateNode,mr=!1;break e}break;case 5:Kt=F.stateNode,mr=!1;break e;case 3:case 4:Kt=F.stateNode.containerInfo,mr=!0;break e}F=F.return}if(Kt===null)throw Error(r(160));g8(_,N,v),Kt=null,mr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_8(s,a),s=s.sibling}var Ti=null;function _8(a,s){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:pr(s,a),gr(a),f&4&&(qs(3,a,a.return),Xc(3,a),qs(5,a,a.return));break;case 1:pr(s,a),gr(a),f&512&&(En||u===null||Qi(u,u.return)),f&64&&La&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Ti;if(pr(s,a),gr(a),f&512&&(En||u===null||Qi(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[$r]||_[on]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Fn(_,f,u),_[on]=a,ln(_),f=_;break e;case"link":var N=_9("link","href",v).get(f+(u.href||""));if(N){for(var F=0;F<N.length;F++)if(_=N[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(F,1);break t}}_=v.createElement(f),Fn(_,f,u),v.head.appendChild(_);break;case"meta":if(N=_9("meta","content",v).get(f+(u.content||""))){for(F=0;F<N.length;F++)if(_=N[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(F,1);break t}}_=v.createElement(f),Fn(_,f,u),v.head.appendChild(_);break;default:throw Error(r(468,f))}_[on]=a,ln(_),f=_}a.stateNode=f}else b9(v,a.type,a.stateNode);else a.stateNode=y9(v,f,a.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?b9(v,a.type,a.stateNode):y9(v,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Tp(a,a.memoizedProps,u.memoizedProps)}break;case 27:pr(s,a),gr(a),f&512&&(En||u===null||Qi(u,u.return)),u!==null&&f&4&&Tp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(pr(s,a),gr(a),f&512&&(En||u===null||Qi(u,u.return)),a.flags&32){v=a.stateNode;try{dr(v,"")}catch(Ue){kt(a,a.return,Ue)}}f&4&&a.stateNode!=null&&(v=a.memoizedProps,Tp(a,v,u!==null?u.memoizedProps:v)),f&1024&&(Rp=!0);break;case 6:if(pr(s,a),gr(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Ue){kt(a,a.return,Ue)}}break;case 3:if(Df=null,v=Ti,Ti=Mf(s.containerInfo),pr(s,a),Ti=v,gr(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(Ue){kt(a,a.return,Ue)}Rp&&(Rp=!1,b8(a));break;case 4:f=Ti,Ti=Mf(a.stateNode.containerInfo),pr(s,a),gr(a),Ti=f;break;case 12:pr(s,a),gr(a);break;case 31:pr(s,a),gr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,vf(a,f)));break;case 13:pr(s,a),gr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(_f=Yt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,vf(a,f)));break;case 22:v=a.memoizedState!==null;var ne=u!==null&&u.memoizedState!==null,me=La,Se=En;if(La=me||v,En=Se||ne,pr(s,a),En=Se,La=me,gr(a),f&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||ne||La||En||Jo(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){ne=u=s;try{if(_=ne.stateNode,v)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=ne.stateNode;var Ee=ne.memoizedProps.style,ve=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;F.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ue){kt(ne,ne.return,Ue)}}}else if(s.tag===6){if(u===null){ne=s;try{ne.stateNode.nodeValue=v?"":ne.memoizedProps}catch(Ue){kt(ne,ne.return,Ue)}}}else if(s.tag===18){if(u===null){ne=s;try{var we=ne.stateNode;v?u9(we,!0):u9(ne.stateNode,!1)}catch(Ue){kt(ne,ne.return,Ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,vf(a,u))));break;case 19:pr(s,a),gr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,vf(a,f)));break;case 30:break;case 21:break;default:pr(s,a),gr(a)}}function gr(a){var s=a.flags;if(s&2){try{for(var u,f=a.return;f!==null;){if(h8(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Ap(a);gf(a,_,v);break;case 5:var N=u.stateNode;u.flags&32&&(dr(N,""),u.flags&=-33);var F=Ap(a);gf(a,F,N);break;case 3:case 4:var ne=u.stateNode.containerInfo,me=Ap(a);Cp(a,me,ne);break;default:throw Error(r(161))}}catch(Se){kt(a,a.return,Se)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function b8(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;b8(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ba(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m8(a,s.alternate,s),s=s.sibling}function Jo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),Jo(s);break;case 1:Qi(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&u8(s,s.return,u),Jo(s);break;case 27:i0(s.stateNode);case 26:case 5:Qi(s,s.return),Jo(s);break;case 22:s.memoizedState===null&&Jo(s);break;case 30:Jo(s);break;default:Jo(s)}a=a.sibling}}function Ua(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=a,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(v,_,u),Xc(4,_);break;case 1:if(Ua(v,_,u),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(me){kt(f,f.return,me)}if(f=_,v=f.updateQueue,v!==null){var F=f.stateNode;try{var ne=v.shared.hiddenCallbacks;if(ne!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ne.length;v++)Z_(ne[v],F)}catch(me){kt(f,f.return,me)}}u&&N&64&&l8(_),Kc(_,_.return);break;case 27:f8(_);case 26:case 5:Ua(v,_,u),u&&f===null&&N&4&&c8(_),Kc(_,_.return);break;case 12:Ua(v,_,u);break;case 31:Ua(v,_,u),u&&N&4&&v8(v,_);break;case 13:Ua(v,_,u),u&&N&4&&y8(v,_);break;case 22:_.memoizedState===null&&Ua(v,_,u),Kc(_,_.return);break;case 30:break;default:Ua(v,_,u)}s=s.sibling}}function Ip(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&zc(u))}function Np(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&zc(a))}function Ai(a,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)w8(a,s,u,f),s=s.sibling}function w8(a,s,u,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(a,s,u,f),v&2048&&Xc(9,s);break;case 1:Ai(a,s,u,f);break;case 3:Ai(a,s,u,f),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&zc(a)));break;case 12:if(v&2048){Ai(a,s,u,f),a=s.stateNode;try{var _=s.memoizedProps,N=_.id,F=_.onPostCommit;typeof F=="function"&&F(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){kt(s,s.return,ne)}}else Ai(a,s,u,f);break;case 31:Ai(a,s,u,f);break;case 13:Ai(a,s,u,f);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?Ai(a,s,u,f):Qc(a,s):_._visibility&2?Ai(a,s,u,f):(_._visibility|=2,hu(a,s,u,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Ip(N,s);break;case 24:Ai(a,s,u,f),v&2048&&Np(s.alternate,s);break;default:Ai(a,s,u,f)}}function hu(a,s,u,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,N=s,F=u,ne=f,me=N.flags;switch(N.tag){case 0:case 11:case 15:hu(_,N,F,ne,v),Xc(8,N);break;case 23:break;case 22:var Se=N.stateNode;N.memoizedState!==null?Se._visibility&2?hu(_,N,F,ne,v):Qc(_,N):(Se._visibility|=2,hu(_,N,F,ne,v)),v&&me&2048&&Ip(N.alternate,N);break;case 24:hu(_,N,F,ne,v),v&&me&2048&&Np(N.alternate,N);break;default:hu(_,N,F,ne,v)}s=s.sibling}}function Qc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,f=s,v=f.flags;switch(f.tag){case 22:Qc(u,f),v&2048&&Ip(f.alternate,f);break;case 24:Qc(u,f),v&2048&&Np(f.alternate,f);break;default:Qc(u,f)}s=s.sibling}}var Zc=8192;function fu(a,s,u){if(a.subtreeFlags&Zc)for(a=a.child;a!==null;)S8(a,s,u),a=a.sibling}function S8(a,s,u){switch(a.tag){case 26:fu(a,s,u),a.flags&Zc&&a.memoizedState!==null&&iV(u,Ti,a.memoizedState,a.memoizedProps);break;case 5:fu(a,s,u);break;case 3:case 4:var f=Ti;Ti=Mf(a.stateNode.containerInfo),fu(a,s,u),Ti=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Zc,Zc=16777216,fu(a,s,u),Zc=f):fu(a,s,u));break;default:fu(a,s,u)}}function x8(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Wc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Vn=f,T8(f,a)}x8(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)E8(a),a=a.sibling}function E8(a){switch(a.tag){case 0:case 11:case 15:Wc(a),a.flags&2048&&qs(9,a,a.return);break;case 3:Wc(a);break;case 12:Wc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,yf(a)):Wc(a);break;default:Wc(a)}}function yf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Vn=f,T8(f,a)}x8(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:qs(8,s,s.return),yf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,yf(s));break;default:yf(s)}a=a.sibling}}function T8(a,s){for(;Vn!==null;){var u=Vn;switch(u.tag){case 0:case 11:case 15:qs(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:zc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Vn=f;else e:for(u=a;Vn!==null;){f=Vn;var v=f.sibling,_=f.return;if(p8(f),f===u){Vn=null;break e}if(v!==null){v.return=_,Vn=v;break e}Vn=_}}}var _q={getCacheForType:function(a){var s=jn(wn),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return jn(wn).controller.signal}},bq=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Lt=null,ht=null,dt=0,Mt=0,Or=null,Vs=!1,du=!1,Mp=!1,ja=0,hn=0,Ls=0,el=0,kp=0,zr=0,mu=0,Jc=null,vr=null,Dp=!1,_f=0,A8=0,bf=1/0,wf=null,Ps=null,kn=0,Bs=null,pu=null,Ha=0,Op=0,zp=null,C8=null,e0=0,qp=null;function qr(){return(Rt&2)!==0&&dt!==0?dt&-dt:$.T!==null?jp():zl()}function R8(){if(zr===0)if((dt&536870912)===0||_t){var a=ba;ba<<=1,(ba&3932160)===0&&(ba=262144),zr=a}else zr=536870912;return a=kr.current,a!==null&&(a.flags|=32),zr}function yr(a,s,u){(a===Lt&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)&&(gu(a,0),Us(a,dt,zr,!1)),wa(a,u),((Rt&2)===0||a!==Lt)&&(a===Lt&&((Rt&2)===0&&(el|=u),hn===4&&Us(a,dt,zr,!1)),Zi(a))}function I8(a,s,u){if((Rt&6)!==0)throw Error(r(327));var f=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Tr(a,s),v=f?xq(a,s):Lp(a,s,!0),_=f;do{if(v===0){du&&!f&&Us(a,s,0,!1);break}else{if(u=a.current.alternate,_&&!wq(u)){v=Lp(a,s,!1),_=!1;continue}if(v===2){if(_=s,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var F=a;v=Jc;var ne=F.current.memoizedState.isDehydrated;if(ne&&(gu(F,N).flags|=256),N=Lp(F,N,!1),N!==2){if(Mp&&!ne){F.errorRecoveryDisabledLanes|=_,el|=_,v=4;break e}_=vr,vr=v,_!==null&&(vr===null?vr=_:vr.push.apply(vr,_))}v=N}if(_=!1,v!==2)continue}}if(v===1){gu(a,0),Us(a,s,0,!0);break}e:{switch(f=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Us(f,s,zr,!Vs);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=_f+300-Yt(),10<v)){if(Us(f,s,zr,!Vs),Fr(f,0,!0)!==0)break e;Ha=s,f.timeoutHandle=s9(N8.bind(null,f,u,vr,wf,Dp,s,zr,el,mu,Vs,_,"Throttled",-0,0),v);break e}N8(f,u,vr,wf,Dp,s,zr,el,mu,Vs,_,null,-0,0)}}break}while(!0);Zi(a)}function N8(a,s,u,f,v,_,N,F,ne,me,Se,Ee,ve,we){if(a.timeoutHandle=-1,Ee=s.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},S8(s,_,Ee);var Ue=(_&62914560)===_?_f-Yt():(_&4194048)===_?A8-Yt():0;if(Ue=aV(Ee,Ue),Ue!==null){Ha=_,a.cancelPendingCommit=Ue(L8.bind(null,a,s,_,u,f,v,N,F,ne,Se,Ee,null,ve,we)),Us(a,_,N,!me);return}}L8(a,s,_,u,f,v,N,F,ne)}function wq(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],_=v.getSnapshot;v=v.value;try{if(!Nr(_(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Us(a,s,u,f){s&=~kp,s&=~el,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var v=s;0<v;){var _=31-en(v),N=1<<_;f[_]=-1,v&=~N}u!==0&&Sa(a,u,s)}function Sf(){return(Rt&6)===0?(t0(0),!1):!0}function Vp(){if(ht!==null){if(Mt===0)var a=ht.return;else a=ht,ka=Go=null,J1(a),su=null,Vc=0,a=ht;for(;a!==null;)o8(a.alternate,a),a=a.return;ht=null}}function gu(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Uq(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ha=0,Vp(),Lt=a,ht=u=Na(a.current,null),dt=s,Mt=0,Or=null,Vs=!1,du=Tr(a,s),Mp=!1,mu=zr=kp=el=Ls=hn=0,vr=Jc=null,Dp=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var v=31-en(f),_=1<<v;s|=a[v],f&=~_}return ja=s,jh(),u}function M8(a,s){lt=null,$.H=Gc,s===au||s===Qh?(s=Y_(),Mt=3):s===U1?(s=Y_(),Mt=4):Mt=s===pp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Or=s,ht===null&&(hn=1,hf(a,ti(s,a.current)))}function k8(){var a=kr.current;return a===null?!0:(dt&4194048)===dt?ai===null:(dt&62914560)===dt||(dt&536870912)!==0?a===ai:!1}function D8(){var a=$.H;return $.H=Gc,a===null?Gc:a}function O8(){var a=$.A;return $.A=_q,a}function xf(){hn=4,Vs||(dt&4194048)!==dt&&kr.current!==null||(du=!0),(Ls&134217727)===0&&(el&134217727)===0||Lt===null||Us(Lt,dt,zr,!1)}function Lp(a,s,u){var f=Rt;Rt|=2;var v=D8(),_=O8();(Lt!==a||dt!==s)&&(wf=null,gu(a,s)),s=!1;var N=hn;e:do try{if(Mt!==0&&ht!==null){var F=ht,ne=Or;switch(Mt){case 8:Vp(),N=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(s=!0);var me=Mt;if(Mt=0,Or=null,vu(a,F,ne,me),u&&du){N=0;break e}break;default:me=Mt,Mt=0,Or=null,vu(a,F,ne,me)}}Sq(),N=hn;break}catch(Se){M8(a,Se)}while(!0);return s&&a.shellSuspendCounter++,ka=Go=null,Rt=f,$.H=v,$.A=_,ht===null&&(Lt=null,dt=0,jh()),N}function Sq(){for(;ht!==null;)z8(ht)}function xq(a,s){var u=Rt;Rt|=2;var f=D8(),v=O8();Lt!==a||dt!==s?(wf=null,bf=Yt()+500,gu(a,s)):du=Tr(a,s);e:do try{if(Mt!==0&&ht!==null){s=ht;var _=Or;t:switch(Mt){case 1:Mt=0,Or=null,vu(a,s,_,1);break;case 2:case 9:if(G_(_)){Mt=0,Or=null,q8(s);break}s=function(){Mt!==2&&Mt!==9||Lt!==a||(Mt=7),Zi(a)},_.then(s,s);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:G_(_)?(Mt=0,Or=null,q8(s)):(Mt=0,Or=null,vu(a,s,_,7));break;case 5:var N=null;switch(ht.tag){case 26:N=ht.memoizedState;case 5:case 27:var F=ht;if(N?w9(N):F.stateNode.complete){Mt=0,Or=null;var ne=F.sibling;if(ne!==null)ht=ne;else{var me=F.return;me!==null?(ht=me,Ef(me)):ht=null}break t}}Mt=0,Or=null,vu(a,s,_,5);break;case 6:Mt=0,Or=null,vu(a,s,_,6);break;case 8:Vp(),hn=6;break e;default:throw Error(r(462))}}Eq();break}catch(Se){M8(a,Se)}while(!0);return ka=Go=null,$.H=f,$.A=v,Rt=u,ht!==null?0:(Lt=null,dt=0,jh(),hn)}function Eq(){for(;ht!==null&&!zn();)z8(ht)}function z8(a){var s=a8(a.alternate,a,ja);a.memoizedProps=a.pendingProps,s===null?Ef(a):ht=s}function q8(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=Jb(u,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=Jb(u,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:J1(s);default:o8(u,s),s=ht=O_(s,ja),s=a8(u,s,ja)}a.memoizedProps=a.pendingProps,s===null?Ef(a):ht=s}function vu(a,s,u,f){ka=Go=null,J1(s),su=null,Vc=0;var v=s.return;try{if(fq(a,v,s,u,dt)){hn=1,hf(a,ti(u,a.current)),ht=null;return}}catch(_){if(v!==null)throw ht=v,_;hn=1,hf(a,ti(u,a.current)),ht=null;return}s.flags&32768?(_t||f===1?a=!0:du||(dt&536870912)!==0?a=!1:(Vs=a=!0,(f===2||f===9||f===3||f===6)&&(f=kr.current,f!==null&&f.tag===13&&(f.flags|=16384))),V8(s,a)):Ef(s)}function Ef(a){var s=a;do{if((s.flags&32768)!==0){V8(s,Vs);return}a=s.return;var u=pq(s.alternate,s,ja);if(u!==null){ht=u;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=a}while(s!==null);hn===0&&(hn=5)}function V8(a,s){do{var u=gq(a.alternate,a);if(u!==null){u.flags&=32767,ht=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){ht=a;return}ht=a=u}while(a!==null);hn=6,ht=null}function L8(a,s,u,f,v,_,N,F,ne){a.cancelPendingCommit=null;do Tf();while(kn!==0);if((Rt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=A1,bc(a,u,_,N,F,ne),a===Lt&&(ht=Lt=null,dt=0),pu=s,Bs=a,Ha=u,Op=_,zp=v,C8=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Rq(qn,function(){return H8(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=$.T,$.T=null,v=W.p,W.p=2,N=Rt,Rt|=4;try{vq(a,s,u)}finally{Rt=N,W.p=v,$.T=f}}kn=1,P8(),B8(),U8()}}function P8(){if(kn===1){kn=0;var a=Bs,s=pu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var f=W.p;W.p=2;var v=Rt;Rt|=4;try{_8(s,a);var _=Qp,N=T_(a.containerInfo),F=_.focusedElem,ne=_.selectionRange;if(N!==F&&F&&F.ownerDocument&&E_(F.ownerDocument.documentElement,F)){if(ne!==null&&w1(F)){var me=ne.start,Se=ne.end;if(Se===void 0&&(Se=me),"selectionStart"in F)F.selectionStart=me,F.selectionEnd=Math.min(Se,F.value.length);else{var Ee=F.ownerDocument||document,ve=Ee&&Ee.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),Ue=F.textContent.length,We=Math.min(ne.start,Ue),qt=ne.end===void 0?We:Math.min(ne.end,Ue);!we.extend&&We>qt&&(N=qt,qt=We,We=N);var le=x_(F,We),ae=x_(F,qt);if(le&&ae&&(we.rangeCount!==1||we.anchorNode!==le.node||we.anchorOffset!==le.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var fe=Ee.createRange();fe.setStart(le.node,le.offset),we.removeAllRanges(),We>qt?(we.addRange(fe),we.extend(ae.node,ae.offset)):(fe.setEnd(ae.node,ae.offset),we.addRange(fe))}}}}for(Ee=[],we=F;we=we.parentNode;)we.nodeType===1&&Ee.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ee.length;F++){var xe=Ee[F];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Vf=!!Kp,Qp=Kp=null}finally{Rt=v,W.p=f,$.T=u}}a.current=s,kn=2}}function B8(){if(kn===2){kn=0;var a=Bs,s=pu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var f=W.p;W.p=2;var v=Rt;Rt|=4;try{m8(a,s.alternate,s)}finally{Rt=v,W.p=f,$.T=u}}kn=3}}function U8(){if(kn===4||kn===3){kn=0,Ht();var a=Bs,s=pu,u=Ha,f=C8;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kn=5:(kn=0,pu=Bs=null,j8(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ps=null),vi(u),s=s.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(an,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=$.T,v=W.p,W.p=2,$.T=null;try{for(var _=a.onRecoverableError,N=0;N<f.length;N++){var F=f[N];_(F.value,{componentStack:F.stack})}}finally{$.T=s,W.p=v}}(Ha&3)!==0&&Tf(),Zi(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===qp?e0++:(e0=0,qp=a):e0=0,t0(0)}}function j8(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,zc(s)))}function Tf(){return P8(),B8(),U8(),H8()}function H8(){if(kn!==5)return!1;var a=Bs,s=Op;Op=0;var u=vi(Ha),f=$.T,v=W.p;try{W.p=32>u?32:u,$.T=null,u=zp,zp=null;var _=Bs,N=Ha;if(kn=0,pu=Bs=null,Ha=0,(Rt&6)!==0)throw Error(r(331));var F=Rt;if(Rt|=4,E8(_.current),w8(_,_.current,N,u),Rt=F,t0(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(an,_)}catch{}return!0}finally{W.p=v,$.T=f,j8(a,s)}}function F8(a,s,u){s=ti(u,s),s=mp(a.stateNode,s,2),a=Ds(a,s,2),a!==null&&(wa(a,2),Zi(a))}function kt(a,s,u){if(a.tag===3)F8(a,a,u);else for(;s!==null;){if(s.tag===3){F8(s,a,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))){a=ti(u,a),u=Gb(2),f=Ds(s,u,2),f!==null&&($b(u,f,s,a),wa(f,2),Zi(f));break}}s=s.return}}function Pp(a,s,u){var f=a.pingCache;if(f===null){f=a.pingCache=new bq;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(u)||(Mp=!0,v.add(u),a=Tq.bind(null,a,s,u),s.then(a,a))}function Tq(a,s,u){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Lt===a&&(dt&u)===u&&(hn===4||hn===3&&(dt&62914560)===dt&&300>Yt()-_f?(Rt&2)===0&&gu(a,0):kp|=u,mu===dt&&(mu=0)),Zi(a)}function G8(a,s){s===0&&(s=Ol()),a=jo(a,s),a!==null&&(wa(a,s),Zi(a))}function Aq(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),G8(a,u)}function Cq(a,s){var u=0;switch(a.tag){case 31:case 13:var f=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),G8(a,u)}function Rq(a,s){return Nt(a,s)}var Af=null,yu=null,Bp=!1,Cf=!1,Up=!1,js=0;function Zi(a){a!==yu&&a.next===null&&(yu===null?Af=yu=a:yu=yu.next=a),Cf=!0,Bp||(Bp=!0,Nq())}function t0(a,s){if(!Up&&Cf){Up=!0;do for(var u=!1,f=Af;f!==null;){if(a!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var N=f.suspendedLanes,F=f.pingedLanes;_=(1<<31-en(42|a)+1)-1,_&=v&~(N&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,K8(f,_))}else _=dt,_=Fr(f,f===Lt?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Tr(f,_)||(u=!0,K8(f,_));f=f.next}while(u);Up=!1}}function Iq(){$8()}function $8(){Cf=Bp=!1;var a=0;js!==0&&Bq()&&(a=js);for(var s=Yt(),u=null,f=Af;f!==null;){var v=f.next,_=Y8(f,s);_===0?(f.next=null,u===null?Af=v:u.next=v,v===null&&(yu=u)):(u=f,(a!==0||(_&3)!==0)&&(Cf=!0)),f=v}kn!==0&&kn!==5||t0(a),js!==0&&(js=0)}function Y8(a,s){for(var u=a.suspendedLanes,f=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-en(_),F=1<<N,ne=v[N];ne===-1?((F&u)===0||(F&f)!==0)&&(v[N]=_c(F,s)):ne<=s&&(a.expiredLanes|=F),_&=~F}if(s=Lt,u=dt,u=Fr(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===s&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Mn(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Tr(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(f!==null&&Mn(f),vi(u)){case 2:case 8:u=cr;break;case 32:u=qn;break;case 268435456:u=gi;break;default:u=qn}return f=X8.bind(null,a),u=Nt(u,f),a.callbackPriority=s,a.callbackNode=u,s}return f!==null&&f!==null&&Mn(f),a.callbackPriority=2,a.callbackNode=null,2}function X8(a,s){if(kn!==0&&kn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Tf()&&a.callbackNode!==u)return null;var f=dt;return f=Fr(a,a===Lt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(I8(a,f,s),Y8(a,Yt()),a.callbackNode!=null&&a.callbackNode===u?X8.bind(null,a):null)}function K8(a,s){if(Tf())return null;I8(a,s,!0)}function Nq(){jq(function(){(Rt&6)!==0?Nt(ur,Iq):$8()})}function jp(){if(js===0){var a=ru;a===0&&(a=jr,jr<<=1,(jr&261888)===0&&(jr=256)),js=a}return js}function Q8(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:jl(""+a)}function Z8(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function Mq(a,s,u,f,v){if(s==="submit"&&u&&u.stateNode===v){var _=Q8((v[_n]||null).action),N=f.submitter;N&&(s=(s=N[_n]||null)?Q8(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var F=new Fi("action","action",null,f,v);a.push({event:F,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(js!==0){var ne=N?Z8(v,N):new FormData(v);lp(u,{pending:!0,data:ne,method:v.method,action:_},null,ne)}}else typeof _=="function"&&(F.preventDefault(),ne=N?Z8(v,N):new FormData(v),lp(u,{pending:!0,data:ne,method:v.method,action:_},_,ne))},currentTarget:v}]})}}for(var Hp=0;Hp<T1.length;Hp++){var Fp=T1[Hp],kq=Fp.toLowerCase(),Dq=Fp[0].toUpperCase()+Fp.slice(1);Ei(kq,"on"+Dq)}Ei(R_,"onAnimationEnd"),Ei(I_,"onAnimationIteration"),Ei(N_,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Kz,"onTransitionRun"),Ei(Qz,"onTransitionStart"),Ei(Zz,"onTransitionCancel"),Ei(M_,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(n0));function W8(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var N=f.length-1;0<=N;N--){var F=f[N],ne=F.instance,me=F.currentTarget;if(F=F.listener,ne!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=me;try{_(v)}catch(Se){Uh(Se)}v.currentTarget=null,_=ne}else for(N=0;N<f.length;N++){if(F=f[N],ne=F.instance,me=F.currentTarget,F=F.listener,ne!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=me;try{_(v)}catch(Se){Uh(Se)}v.currentTarget=null,_=ne}}}}function ft(a,s){var u=s[Ea];u===void 0&&(u=s[Ea]=new Set);var f=a+"__bubble";u.has(f)||(J8(s,a,2,!1),u.add(f))}function Gp(a,s,u){var f=0;s&&(f|=4),J8(u,a,f,s)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function $p(a){if(!a[Rf]){a[Rf]=!0,Co.forEach(function(u){u!=="selectionchange"&&(Oq.has(u)||Gp(u,!1,a),Gp(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Rf]||(s[Rf]=!0,Gp("selectionchange",!1,s))}}function J8(a,s,u,f){switch(R9(s)){case 2:var v=lV;break;case 8:v=uV;break;default:v=og}u=v.bind(null,s,u,a),v=void 0,!Oo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?a.addEventListener(s,u,{capture:!0,passive:v}):a.addEventListener(s,u,!0):v!==void 0?a.addEventListener(s,u,{passive:v}):a.addEventListener(s,u,!1)}function Yp(a,s,u,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var F=f.stateNode.containerInfo;if(F===v)break;if(N===4)for(N=f.return;N!==null;){var ne=N.tag;if((ne===3||ne===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;F!==null;){if(N=Yr(F),N===null)return;if(ne=N.tag,ne===5||ne===6||ne===26||ne===27){f=_=N;continue e}F=F.parentNode}}f=f.return}xs(function(){var me=_,Se=Zr(u),Ee=[];e:{var ve=k_.get(a);if(ve!==void 0){var we=Fi,Ue=a;switch(a){case"keypress":if(qo(u)===0)break e;case"keydown":case"keyup":we=Lh;break;case"focusin":Ue="focus",we=Lo;break;case"focusout":Ue="blur",we=Lo;break;case"beforeblur":case"afterblur":we=Lo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=x;break;case R_:case I_:case N_:we=Mh;break;case M_:we=X;break;case"scroll":case"scrollend":we=Ac;break;case"wheel":we=_e;break;case"copy":case"cut":case"paste":we=kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Ia;break;case"toggle":case"beforetoggle":we=ot}var We=(s&4)!==0,qt=!We&&(a==="scroll"||a==="scrollend"),le=We?ve!==null?ve+"Capture":null:ve;We=[];for(var ae=me,fe;ae!==null;){var xe=ae;if(fe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||fe===null||le===null||(xe=bi(ae,le),xe!=null&&We.push(r0(ae,xe,fe))),qt)break;ae=ae.return}0<We.length&&(ve=new we(ve,Ue,null,u,Se),Ee.push({event:ve,listeners:We}))}}if((s&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ve&&u!==xc&&(Ue=u.relatedTarget||u.fromElement)&&(Yr(Ue)||Ue[Rr]))break e;if((we||ve)&&(ve=Se.window===Se?Se:(ve=Se.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(Ue=u.relatedTarget||u.toElement,we=me,Ue=Ue?Yr(Ue):null,Ue!==null&&(qt=o(Ue),We=Ue.tag,Ue!==qt||We!==5&&We!==27&&We!==6)&&(Ue=null)):(we=null,Ue=me),we!==Ue)){if(We=Cc,xe="onMouseLeave",le="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(We=Ia,xe="onPointerLeave",le="onPointerEnter",ae="pointer"),qt=we==null?ve:Xn(we),fe=Ue==null?ve:Xn(Ue),ve=new We(xe,ae+"leave",we,u,Se),ve.target=qt,ve.relatedTarget=fe,xe=null,Yr(Se)===me&&(We=new We(le,ae+"enter",Ue,u,Se),We.target=fe,We.relatedTarget=qt,xe=We),qt=xe,we&&Ue)t:{for(We=zq,le=we,ae=Ue,fe=0,xe=le;xe;xe=We(xe))fe++;xe=0;for(var Xe=ae;Xe;Xe=We(Xe))xe++;for(;0<fe-xe;)le=We(le),fe--;for(;0<xe-fe;)ae=We(ae),xe--;for(;fe--;){if(le===ae||ae!==null&&le===ae.alternate){We=le;break t}le=We(le),ae=We(ae)}We=null}else We=null;we!==null&&e9(Ee,ve,we,We,!1),Ue!==null&&qt!==null&&e9(Ee,qt,Ue,We,!0)}}e:{if(ve=me?Xn(me):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var Et=v_;else if(p_(ve))if(y_)Et=$z;else{Et=Fz;var Fe=Hz}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?me&&Ul(me.elementType)&&(Et=v_):Et=Gz;if(Et&&(Et=Et(a,me))){g_(Ee,Et,u,Se);break e}Fe&&Fe(a,ve,me),a==="focusout"&&me&&ve.type==="number"&&me.memoizedProps.value!=null&&ko(ve,"number",ve.value)}switch(Fe=me?Xn(me):window,a){case"focusin":(p_(Fe)||Fe.contentEditable==="true")&&(Kl=Fe,S1=me,kc=null);break;case"focusout":kc=S1=Kl=null;break;case"mousedown":x1=!0;break;case"contextmenu":case"mouseup":case"dragend":x1=!1,A_(Ee,u,Se);break;case"selectionchange":if(Xz)break;case"keydown":case"keyup":A_(Ee,u,Se)}var ut;if(Ct)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Xl?Po(a,u)&&(mt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(Yi&&u.locale!=="ko"&&(Xl||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Xl&&(ut=Tc()):(Hi=Se,Ec="value"in Hi?Hi.value:Hi.textContent,Xl=!0)),Fe=If(me,mt),0<Fe.length&&(mt=new $i(mt,a,null,u,Se),Ee.push({event:mt,listeners:Fe}),ut?mt.data=ut:(ut=Yl(u),ut!==null&&(mt.data=ut)))),(ut=Jr?Pz(a,u):Bz(a,u))&&(mt=If(me,"onBeforeInput"),0<mt.length&&(Fe=new $i("onBeforeInput","beforeinput",null,u,Se),Ee.push({event:Fe,listeners:mt}),Fe.data=ut)),Mq(Ee,a,me,u,Se)}W8(Ee,s)})}function r0(a,s,u){return{instance:a,listener:s,currentTarget:u}}function If(a,s){for(var u=s+"Capture",f=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=bi(a,u),v!=null&&f.unshift(r0(a,v,_)),v=bi(a,s),v!=null&&f.push(r0(a,v,_))),a.tag===3)return f;a=a.return}return[]}function zq(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function e9(a,s,u,f,v){for(var _=s._reactName,N=[];u!==null&&u!==f;){var F=u,ne=F.alternate,me=F.stateNode;if(F=F.tag,ne!==null&&ne===f)break;F!==5&&F!==26&&F!==27||me===null||(ne=me,v?(me=bi(u,_),me!=null&&N.unshift(r0(u,me,ne))):v||(me=bi(u,_),me!=null&&N.push(r0(u,me,ne)))),u=u.return}N.length!==0&&a.push({event:s,listeners:N})}var qq=/\r\n?/g,Vq=/\u0000|\uFFFD/g;function t9(a){return(typeof a=="string"?a:""+a).replace(qq,`
`).replace(Vq,"")}function n9(a,s){return s=t9(s),t9(a)===s}function zt(a,s,u,f,v,_){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||dr(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&dr(a,""+f);break;case"className":nr(a,"class",f);break;case"tabIndex":nr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(a,u,f);break;case"style":Sc(a,f,_);break;case"data":if(s!=="object"){nr(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=jl(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&zt(a,s,"name",v.name,v,null),zt(a,s,"formEncType",v.formEncType,v,null),zt(a,s,"formMethod",v.formMethod,v,null),zt(a,s,"formTarget",v.formTarget,v,null)):(zt(a,s,"encType",v.encType,v,null),zt(a,s,"method",v.method,v,null),zt(a,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=jl(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=_i);break;case"onScroll":f!=null&&ft("scroll",a);break;case"onScrollEnd":f!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=jl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":ft("beforetoggle",a),ft("toggle",a),_s(a,"popover",f);break;case"xlinkActuate":un(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":un(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":un(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":un(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":un(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":un(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":un(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":un(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":un(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":_s(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Rh.get(u)||u,_s(a,u,f))}}function Xp(a,s,u,f,v,_){switch(u){case"style":Sc(a,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof f=="string"?dr(a,f):(typeof f=="number"||typeof f=="bigint")&&dr(a,""+f);break;case"onScroll":f!=null&&ft("scroll",a);break;case"onScrollEnd":f!=null&&ft("scrollend",a);break;case"onClick":f!=null&&(a.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),_=a[_n]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,f,v);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):_s(a,u,f)}}}function Fn(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var f=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zt(a,s,_,N,u,null)}}v&&zt(a,s,"srcSet",u.srcSet,u,null),f&&zt(a,s,"src",u.src,u,null);return;case"input":ft("invalid",a);var F=_=N=v=null,ne=null,me=null;for(f in u)if(u.hasOwnProperty(f)){var Se=u[f];if(Se!=null)switch(f){case"name":v=Se;break;case"type":N=Se;break;case"checked":ne=Se;break;case"defaultChecked":me=Se;break;case"value":_=Se;break;case"defaultValue":F=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,s));break;default:zt(a,s,f,Se,u,null)}}Bl(a,_,F,ne,me,N,v,!1);return;case"select":ft("invalid",a),f=N=_=null;for(v in u)if(u.hasOwnProperty(v)&&(F=u[v],F!=null))switch(v){case"value":_=F;break;case"defaultValue":N=F;break;case"multiple":f=F;default:zt(a,s,v,F,u,null)}s=_,u=N,a.multiple=!!f,s!=null?yi(a,!!f,s,!1):u!=null&&yi(a,!!f,u,!0);return;case"textarea":ft("invalid",a),_=v=f=null;for(N in u)if(u.hasOwnProperty(N)&&(F=u[N],F!=null))switch(N){case"value":f=F;break;case"defaultValue":v=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:zt(a,s,N,F,u,null)}bs(a,f,v,_);return;case"option":for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!=null)&&(ne==="selected"?a.selected=f&&typeof f!="function"&&typeof f!="symbol":zt(a,s,ne,f,u,null));return;case"dialog":ft("beforetoggle",a),ft("toggle",a),ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(f=0;f<n0.length;f++)ft(n0[f],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(f=u[me],f!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zt(a,s,me,f,u,null)}return;default:if(Ul(s)){for(Se in u)u.hasOwnProperty(Se)&&(f=u[Se],f!==void 0&&Xp(a,s,Se,f,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(f=u[F],f!=null&&zt(a,s,F,f,u,null))}function Lq(a,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,N=null,F=null,ne=null,me=null,Se=null;for(we in u){var Ee=u[we];if(u.hasOwnProperty(we)&&Ee!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":ne=Ee;default:f.hasOwnProperty(we)||zt(a,s,we,null,f,Ee)}}for(var ve in f){var we=f[ve];if(Ee=u[ve],f.hasOwnProperty(ve)&&(we!=null||Ee!=null))switch(ve){case"type":_=we;break;case"name":v=we;break;case"checked":me=we;break;case"defaultChecked":Se=we;break;case"value":N=we;break;case"defaultValue":F=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,s));break;default:we!==Ee&&zt(a,s,ve,we,f,Ee)}}Ui(a,N,F,ne,me,Se,_,v);return;case"select":we=N=F=ve=null;for(_ in u)if(ne=u[_],u.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":we=ne;default:f.hasOwnProperty(_)||zt(a,s,_,null,f,ne)}for(v in f)if(_=f[v],ne=u[v],f.hasOwnProperty(v)&&(_!=null||ne!=null))switch(v){case"value":ve=_;break;case"defaultValue":F=_;break;case"multiple":N=_;default:_!==ne&&zt(a,s,v,_,f,ne)}s=F,u=N,f=we,ve!=null?yi(a,!!u,ve,!1):!!f!=!!u&&(s!=null?yi(a,!!u,s,!0):yi(a,!!u,u?[]:"",!1));return;case"textarea":we=ve=null;for(F in u)if(v=u[F],u.hasOwnProperty(F)&&v!=null&&!f.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:zt(a,s,F,null,f,v)}for(N in f)if(v=f[N],_=u[N],f.hasOwnProperty(N)&&(v!=null||_!=null))switch(N){case"value":ve=v;break;case"defaultValue":we=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&zt(a,s,N,v,f,_)}Ah(a,ve,we);return;case"option":for(var Ue in u)ve=u[Ue],u.hasOwnProperty(Ue)&&ve!=null&&!f.hasOwnProperty(Ue)&&(Ue==="selected"?a.selected=!1:zt(a,s,Ue,null,f,ve));for(ne in f)ve=f[ne],we=u[ne],f.hasOwnProperty(ne)&&ve!==we&&(ve!=null||we!=null)&&(ne==="selected"?a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":zt(a,s,ne,ve,f,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in u)ve=u[We],u.hasOwnProperty(We)&&ve!=null&&!f.hasOwnProperty(We)&&zt(a,s,We,null,f,ve);for(me in f)if(ve=f[me],we=u[me],f.hasOwnProperty(me)&&ve!==we&&(ve!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:zt(a,s,me,ve,f,we)}return;default:if(Ul(s)){for(var qt in u)ve=u[qt],u.hasOwnProperty(qt)&&ve!==void 0&&!f.hasOwnProperty(qt)&&Xp(a,s,qt,void 0,f,ve);for(Se in f)ve=f[Se],we=u[Se],!f.hasOwnProperty(Se)||ve===we||ve===void 0&&we===void 0||Xp(a,s,Se,ve,f,we);return}}for(var le in u)ve=u[le],u.hasOwnProperty(le)&&ve!=null&&!f.hasOwnProperty(le)&&zt(a,s,le,null,f,ve);for(Ee in f)ve=f[Ee],we=u[Ee],!f.hasOwnProperty(Ee)||ve===we||ve==null&&we==null||zt(a,s,Ee,ve,f,we)}function r9(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var v=u[f],_=v.transferSize,N=v.initiatorType,F=v.duration;if(_&&F&&r9(N)){for(N=0,F=v.responseEnd,f+=1;f<u.length;f++){var ne=u[f],me=ne.startTime;if(me>F)break;var Se=ne.transferSize,Ee=ne.initiatorType;Se&&r9(Ee)&&(ne=ne.responseEnd,N+=Se*(ne<F?1:(F-me)/(ne-me)))}if(--f,s+=8*(_+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Kp=null,Qp=null;function Nf(a){return a.nodeType===9?a:a.ownerDocument}function i9(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a9(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Zp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wp=null;function Bq(){var a=window.event;return a&&a.type==="popstate"?a===Wp?!1:(Wp=a,!0):(Wp=null,!1)}var s9=typeof setTimeout=="function"?setTimeout:void 0,Uq=typeof clearTimeout=="function"?clearTimeout:void 0,o9=typeof Promise=="function"?Promise:void 0,jq=typeof queueMicrotask=="function"?queueMicrotask:typeof o9<"u"?function(a){return o9.resolve(null).then(a).catch(Hq)}:s9;function Hq(a){setTimeout(function(){throw a})}function Hs(a){return a==="head"}function l9(a,s){var u=s,f=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(f===0){a.removeChild(v),Su(s);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")i0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,i0(u);for(var _=u.firstChild;_;){var N=_.nextSibling,F=_.nodeName;_[$r]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&i0(a.ownerDocument.body);u=v}while(u);Su(s)}function u9(a,s){var u=a;a=0;do{var f=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=f}while(u)}function Jp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Jp(u),vs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Fq(a,s,u,f){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[$r])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=si(a.nextSibling),a===null)break}return null}function Gq(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=si(a.nextSibling),a===null))return null;return a}function c9(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=si(a.nextSibling),a===null))return null;return a}function eg(a){return a.data==="$?"||a.data==="$~"}function tg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function $q(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function si(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var ng=null;function h9(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return si(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function f9(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function d9(a,s,u){switch(s=Nf(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function i0(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);vs(a)}var oi=new Map,m9=new Set;function Mf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fa=W.d;W.d={f:Yq,r:Xq,D:Kq,C:Qq,L:Zq,m:Wq,X:eV,S:Jq,M:tV};function Yq(){var a=Fa.f(),s=Sf();return a||s}function Xq(a){var s=fr(a);s!==null&&s.tag===5&&s.type==="form"?Mb(s):Fa.r(a)}var _u=typeof document>"u"?null:document;function p9(a,s,u){var f=_u;if(f&&typeof s=="string"&&s){var v=Kn(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),m9.has(v)||(m9.add(v),a={rel:a,crossOrigin:u,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Fn(s,"link",a),ln(s),f.head.appendChild(s)))}}function Kq(a){Fa.D(a),p9("dns-prefetch",a,null)}function Qq(a,s){Fa.C(a,s),p9("preconnect",a,s)}function Zq(a,s,u){Fa.L(a,s,u);var f=_u;if(f&&a&&s){var v='link[rel="preload"][as="'+Kn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Kn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Kn(u.imageSizes)+'"]')):v+='[href="'+Kn(a)+'"]';var _=v;switch(s){case"style":_=bu(a);break;case"script":_=wu(a)}oi.has(_)||(a=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),oi.set(_,a),f.querySelector(v)!==null||s==="style"&&f.querySelector(a0(_))||s==="script"&&f.querySelector(s0(_))||(s=f.createElement("link"),Fn(s,"link",a),ln(s),f.head.appendChild(s)))}}function Wq(a,s){Fa.m(a,s);var u=_u;if(u&&a){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Kn(f)+'"][href="'+Kn(a)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=wu(a)}if(!oi.has(_)&&(a=p({rel:"modulepreload",href:a},s),oi.set(_,a),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(s0(_)))return}f=u.createElement("link"),Fn(f,"link",a),ln(f),u.head.appendChild(f)}}}function Jq(a,s,u){Fa.S(a,s,u);var f=_u;if(f&&a){var v=Xr(f).hoistableStyles,_=bu(a);s=s||"default";var N=v.get(_);if(!N){var F={loading:0,preload:null};if(N=f.querySelector(a0(_)))F.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},u),(u=oi.get(_))&&rg(a,u);var ne=N=f.createElement("link");ln(ne),Fn(ne,"link",a),ne._p=new Promise(function(me,Se){ne.onload=me,ne.onerror=Se}),ne.addEventListener("load",function(){F.loading|=1}),ne.addEventListener("error",function(){F.loading|=2}),F.loading|=4,kf(N,s,f)}N={type:"stylesheet",instance:N,count:1,state:F},v.set(_,N)}}}function eV(a,s){Fa.X(a,s);var u=_u;if(u&&a){var f=Xr(u).hoistableScripts,v=wu(a),_=f.get(v);_||(_=u.querySelector(s0(v)),_||(a=p({src:a,async:!0},s),(s=oi.get(v))&&ig(a,s),_=u.createElement("script"),ln(_),Fn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function tV(a,s){Fa.M(a,s);var u=_u;if(u&&a){var f=Xr(u).hoistableScripts,v=wu(a),_=f.get(v);_||(_=u.querySelector(s0(v)),_||(a=p({src:a,async:!0,type:"module"},s),(s=oi.get(v))&&ig(a,s),_=u.createElement("script"),ln(_),Fn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function g9(a,s,u,f){var v=(v=ue.current)?Mf(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=bu(u.href),u=Xr(v).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=bu(u.href);var _=Xr(v).hoistableStyles,N=_.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=v.querySelector(a0(a)))&&!_._p&&(N.instance=_,N.state.loading=5),oi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},oi.set(a,u),_||nV(v,a,u,N.state))),s&&f===null)throw Error(r(528,""));return N}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wu(u),u=Xr(v).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function bu(a){return'href="'+Kn(a)+'"'}function a0(a){return'link[rel="stylesheet"]['+a+"]"}function v9(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function nV(a,s,u,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Fn(s,"link",u),ln(s),a.head.appendChild(s))}function wu(a){return'[src="'+Kn(a)+'"]'}function s0(a){return"script[async]"+a}function y9(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+Kn(u.href)+'"]');if(f)return s.instance=f,ln(f),f;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),ln(f),Fn(f,"style",v),kf(f,u.precedence,a),s.instance=f;case"stylesheet":v=bu(u.href);var _=a.querySelector(a0(v));if(_)return s.state.loading|=4,s.instance=_,ln(_),_;f=v9(u),(v=oi.get(v))&&rg(f,v),_=(a.ownerDocument||a).createElement("link"),ln(_);var N=_;return N._p=new Promise(function(F,ne){N.onload=F,N.onerror=ne}),Fn(_,"link",f),s.state.loading|=4,kf(_,u.precedence,a),s.instance=_;case"script":return _=wu(u.src),(v=a.querySelector(s0(_)))?(s.instance=v,ln(v),v):(f=u,(v=oi.get(_))&&(f=p({},u),ig(f,v)),a=a.ownerDocument||a,v=a.createElement("script"),ln(v),Fn(v,"link",f),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,kf(f,u.precedence,a));return s.instance}function kf(a,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,N=0;N<f.length;N++){var F=f[N];if(F.dataset.precedence===s)_=F;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function rg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function ig(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Df=null;function _9(a,s,u){if(Df===null){var f=new Map,v=Df=new Map;v.set(u,f)}else v=Df,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[$r]||_[on]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=a+N;var F=f.get(N);F?F.push(_):f.set(N,[_])}}return f}function b9(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function rV(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function w9(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function iV(a,s,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=bu(f.href),_=s.querySelector(a0(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Of.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=_,ln(_);return}_=s.ownerDocument||s,f=v9(f),(v=oi.get(v))&&rg(f,v),_=_.createElement("link"),ln(_);var N=_;N._p=new Promise(function(F,ne){N.onload=F,N.onerror=ne}),Fn(_,"link",f),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Of.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var ag=0;function aV(a,s){return a.stylesheets&&a.count===0&&qf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var f=setTimeout(function(){if(a.stylesheets&&qf(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&ag===0&&(ag=62500*Pq());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&qf(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>ag?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zf=null;function qf(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zf=new Map,s.forEach(sV,a),zf=null,Of.call(a))}function sV(a,s){if(!(s.state.loading&4)){var u=zf.get(a);if(u)var f=u.get(null);else{u=new Map,zf.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var N=v[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),f=N)}f&&u.set(null,f)}v=s.instance,N=v.getAttribute("data-precedence"),_=u.get(N)||f,_===f&&u.set(null,v),u.set(N,v),this.count++,f=Of.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var o0={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function oV(a,s,u,f,v,_,N,F,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function S9(a,s,u,f,v,_,N,F,ne,me,Se,Ee){return a=new oV(a,s,u,N,ne,me,Se,Ee,F),s=1,_===!0&&(s|=24),_=Mr(3,null,null,s),a.current=_,_.stateNode=a,s=L1(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:s},j1(_),a}function x9(a){return a?(a=Wl,a):Wl}function E9(a,s,u,f,v,_){v=x9(v),f.context===null?f.context=v:f.pendingContext=v,f=ks(s),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=Ds(a,f,s),u!==null&&(yr(u,a,s),Pc(u,a,s))}function T9(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function sg(a,s){T9(a,s),(a=a.alternate)&&T9(a,s)}function A9(a){if(a.tag===13||a.tag===31){var s=jo(a,67108864);s!==null&&yr(s,a,67108864),sg(a,67108864)}}function C9(a){if(a.tag===13||a.tag===31){var s=qr();s=xa(s);var u=jo(a,s);u!==null&&yr(u,a,s),sg(a,s)}}var Vf=!0;function lV(a,s,u,f){var v=$.T;$.T=null;var _=W.p;try{W.p=2,og(a,s,u,f)}finally{W.p=_,$.T=v}}function uV(a,s,u,f){var v=$.T;$.T=null;var _=W.p;try{W.p=8,og(a,s,u,f)}finally{W.p=_,$.T=v}}function og(a,s,u,f){if(Vf){var v=lg(f);if(v===null)Yp(a,s,f,Lf,u),I9(a,f);else if(hV(v,a,s,u,f))f.stopPropagation();else if(I9(a,f),s&4&&-1<cV.indexOf(a)){for(;v!==null;){var _=fr(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Hr(_.pendingLanes);if(N!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var ne=1<<31-en(N);F.entanglements[1]|=ne,N&=~ne}Zi(_),(Rt&6)===0&&(bf=Yt()+500,t0(0))}}break;case 31:case 13:F=jo(_,2),F!==null&&yr(F,_,2),Sf(),sg(_,2)}if(_=lg(f),_===null&&Yp(a,s,f,Lf,u),_===v)break;v=_}v!==null&&f.stopPropagation()}else Yp(a,s,f,null,u)}}function lg(a){return a=Zr(a),ug(a)}var Lf=null;function ug(a){if(Lf=null,a=Yr(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Lf=a,null}function R9(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pn()){case ur:return 2;case cr:return 8;case qn:case ms:return 32;case gi:return 268435456;default:return 32}default:return 32}}var cg=!1,Fs=null,Gs=null,$s=null,l0=new Map,u0=new Map,Ys=[],cV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I9(a,s){switch(a){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":l0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":u0.delete(s.pointerId)}}function c0(a,s,u,f,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=fr(s),s!==null&&A9(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function hV(a,s,u,f,v){switch(s){case"focusin":return Fs=c0(Fs,a,s,u,f,v),!0;case"dragenter":return Gs=c0(Gs,a,s,u,f,v),!0;case"mouseover":return $s=c0($s,a,s,u,f,v),!0;case"pointerover":var _=v.pointerId;return l0.set(_,c0(l0.get(_)||null,a,s,u,f,v)),!0;case"gotpointercapture":return _=v.pointerId,u0.set(_,c0(u0.get(_)||null,a,s,u,f,v)),!0}return!1}function N9(a){var s=Yr(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,Ar(a.priority,function(){C9(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Ar(a.priority,function(){C9(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Pf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=lg(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);xc=f,u.target.dispatchEvent(f),xc=null}else return s=fr(u),s!==null&&A9(s),a.blockedOn=u,!1;s.shift()}return!0}function M9(a,s,u){Pf(a)&&u.delete(s)}function fV(){cg=!1,Fs!==null&&Pf(Fs)&&(Fs=null),Gs!==null&&Pf(Gs)&&(Gs=null),$s!==null&&Pf($s)&&($s=null),l0.forEach(M9),u0.forEach(M9)}function Bf(a,s){a.blockedOn===s&&(a.blockedOn=null,cg||(cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fV)))}var Uf=null;function k9(a){Uf!==a&&(Uf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uf===a&&(Uf=null);for(var s=0;s<a.length;s+=3){var u=a[s],f=a[s+1],v=a[s+2];if(typeof f!="function"){if(ug(f||u)===null)continue;break}var _=fr(u);_!==null&&(a.splice(s,3),s-=3,lp(_,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Su(a){function s(ne){return Bf(ne,a)}Fs!==null&&Bf(Fs,a),Gs!==null&&Bf(Gs,a),$s!==null&&Bf($s,a),l0.forEach(s),u0.forEach(s);for(var u=0;u<Ys.length;u++){var f=Ys[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ys.length&&(u=Ys[0],u.blockedOn===null);)N9(u),u.blockedOn===null&&Ys.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],_=u[f+1],N=v[_n]||null;if(typeof _=="function")N||k9(u);else if(N){var F=null;if(_&&_.hasAttribute("formAction")){if(v=_,N=_[_n]||null)F=N.formAction;else if(ug(v)!==null)continue}else F=N.action;typeof F=="function"?u[f+1]=F:(u.splice(f,3),f-=3),k9(u)}}}function D9(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function hg(a){this._internalRoot=a}jf.prototype.render=hg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=qr();E9(u,f,a,s,null,null)},jf.prototype.unmount=hg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;E9(a.current,2,null,a,null,null),Sf(),s[Rr]=null}};function jf(a){this._internalRoot=a}jf.prototype.unstable_scheduleHydration=function(a){if(a){var s=zl();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Ys.length&&s!==0&&s<Ys[u].priority;u++);Ys.splice(u,0,a),u===0&&N9(a)}};var O9=e.version;if(O9!=="19.2.3")throw Error(r(527,O9,"19.2.3"));W.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var dV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{an=Hf.inject(dV),Vt=Hf}catch{}}return f0.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,f="",v=Ub,_=jb,N=Hb;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=S9(a,1,!1,null,null,u,f,null,v,_,N,D9),a[Rr]=s.current,$p(a),new hg(s)},f0.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var f=!1,v="",_=Ub,N=jb,F=Hb,ne=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(ne=u.formState)),s=S9(a,1,!0,s,u??null,f,v,ne,_,N,F,D9),s.context=x9(null),u=s.current,f=qr(),f=xa(f),v=ks(f),v.callback=null,Ds(u,v,f),u=f,s.current.lanes=u,wa(s,u),Zi(s),a[Rr]=s.current,$p(a),new jf(s)},f0.version="19.2.3",f0}var F9;function SV(){if(F9)return mg.exports;F9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=wV(),mg.exports}var xV=SV();const EV=gm(xV);function Rn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Rn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var TV={value:()=>{}};function vm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gd(n)}function gd(t){this._=t}function AV(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gd.prototype=vm.prototype={constructor:gd,on:function(t,e){var n=this._,r=AV(t+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(t=r[o]).type)&&(i=CV(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(i=(t=r[o]).type)n[i]=G9(n[i],t.name,e);else if(e==null)for(i in n)n[i]=G9(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gd(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function CV(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function G9(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=TV,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var A5="http://www.w3.org/1999/xhtml";const $9={svg:"http://www.w3.org/2000/svg",xhtml:A5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ym(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$9.hasOwnProperty(e)?{space:$9[e],local:t}:t}function RV(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===A5&&e.documentElement.namespaceURI===A5?e.createElement(t):e.createElementNS(n,t)}}function IV(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function NI(t){var e=ym(t);return(e.local?IV:RV)(e)}function NV(){}function w6(t){return t==null?NV:function(){return this.querySelector(t)}}function MV(t){typeof t!="function"&&(t=w6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=new Array(l),h,d,m=0;m<l;++m)(h=o[m])&&(d=t.call(h,h.__data__,m,o))&&("__data__"in h&&(d.__data__=h.__data__),c[m]=d);return new Br(r,this._parents)}function kV(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function DV(){return[]}function MI(t){return t==null?DV:function(){return this.querySelectorAll(t)}}function OV(t){return function(){return kV(t.apply(this,arguments))}}function zV(t){typeof t=="function"?t=OV(t):t=MI(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var l=e[o],c=l.length,h,d=0;d<c;++d)(h=l[d])&&(r.push(t.call(h,h.__data__,d,l)),i.push(h));return new Br(r,i)}function kI(t){return function(){return this.matches(t)}}function DI(t){return function(e){return e.matches(t)}}var qV=Array.prototype.find;function VV(t){return function(){return qV.call(this.children,t)}}function LV(){return this.firstElementChild}function PV(t){return this.select(t==null?LV:VV(typeof t=="function"?t:DI(t)))}var BV=Array.prototype.filter;function UV(){return Array.from(this.children)}function jV(t){return function(){return BV.call(this.children,t)}}function HV(t){return this.selectAll(t==null?UV:jV(typeof t=="function"?t:DI(t)))}function FV(t){typeof t!="function"&&(t=kI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=[],h,d=0;d<l;++d)(h=o[d])&&t.call(h,h.__data__,d,o)&&c.push(h);return new Br(r,this._parents)}function OI(t){return new Array(t.length)}function GV(){return new Br(this._enter||this._groups.map(OI),this._parents)}function Od(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Od.prototype={constructor:Od,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $V(t){return function(){return t}}function YV(t,e,n,r,i,o){for(var l=0,c,h=e.length,d=o.length;l<d;++l)(c=e[l])?(c.__data__=o[l],r[l]=c):n[l]=new Od(t,o[l]);for(;l<h;++l)(c=e[l])&&(i[l]=c)}function XV(t,e,n,r,i,o,l){var c,h,d=new Map,m=e.length,p=o.length,y=new Array(m),b;for(c=0;c<m;++c)(h=e[c])&&(y[c]=b=l.call(h,h.__data__,c,e)+"",d.has(b)?i[c]=h:d.set(b,h));for(c=0;c<p;++c)b=l.call(t,o[c],c,o)+"",(h=d.get(b))?(r[c]=h,h.__data__=o[c],d.delete(b)):n[c]=new Od(t,o[c]);for(c=0;c<m;++c)(h=e[c])&&d.get(y[c])===h&&(i[c]=h)}function KV(t){return t.__data__}function QV(t,e){if(!arguments.length)return Array.from(this,KV);var n=e?XV:YV,r=this._parents,i=this._groups;typeof t!="function"&&(t=$V(t));for(var o=i.length,l=new Array(o),c=new Array(o),h=new Array(o),d=0;d<o;++d){var m=r[d],p=i[d],y=p.length,b=ZV(t.call(m,m&&m.__data__,d,r)),S=b.length,T=c[d]=new Array(S),E=l[d]=new Array(S),C=h[d]=new Array(y);n(m,p,T,E,C,b,e);for(var D=0,A=0,z,U;D<S;++D)if(z=T[D]){for(D>=A&&(A=D+1);!(U=E[A])&&++A<S;);z._next=U||null}}return l=new Br(l,r),l._enter=c,l._exit=h,l}function ZV(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WV(){return new Br(this._exit||this._groups.map(OI),this._parents)}function JV(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function eL(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,l=Math.min(i,o),c=new Array(i),h=0;h<l;++h)for(var d=n[h],m=r[h],p=d.length,y=c[h]=new Array(p),b,S=0;S<p;++S)(b=d[S]||m[S])&&(y[S]=b);for(;h<i;++h)c[h]=n[h];return new Br(c,this._parents)}function tL(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function nL(t){t||(t=rL);function e(p,y){return p&&y?t(p.__data__,y.__data__):!p-!y}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],c=l.length,h=i[o]=new Array(c),d,m=0;m<c;++m)(d=l[m])&&(h[m]=d);h.sort(e)}return new Br(i,this._parents).order()}function rL(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function iL(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function aL(){return Array.from(this)}function sL(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function oL(){let t=0;for(const e of this)++t;return t}function lL(){return!this.node()}function uL(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,l=i.length,c;o<l;++o)(c=i[o])&&t.call(c,c.__data__,o,i);return this}function cL(t){return function(){this.removeAttribute(t)}}function hL(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fL(t,e){return function(){this.setAttribute(t,e)}}function dL(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mL(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function pL(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gL(t,e){var n=ym(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?hL:cL:typeof e=="function"?n.local?pL:mL:n.local?dL:fL)(n,e))}function zI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vL(t){return function(){this.style.removeProperty(t)}}function yL(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _L(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function bL(t,e,n){return arguments.length>1?this.each((e==null?vL:typeof e=="function"?_L:yL)(t,e,n??"")):Bu(this.node(),t)}function Bu(t,e){return t.style.getPropertyValue(e)||zI(t).getComputedStyle(t,null).getPropertyValue(e)}function wL(t){return function(){delete this[t]}}function SL(t,e){return function(){this[t]=e}}function xL(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function EL(t,e){return arguments.length>1?this.each((e==null?wL:typeof e=="function"?xL:SL)(t,e)):this.node()[t]}function qI(t){return t.trim().split(/^|\s+/)}function S6(t){return t.classList||new VI(t)}function VI(t){this._node=t,this._names=qI(t.getAttribute("class")||"")}VI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function LI(t,e){for(var n=S6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function PI(t,e){for(var n=S6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function TL(t){return function(){LI(this,t)}}function AL(t){return function(){PI(this,t)}}function CL(t,e){return function(){(e.apply(this,arguments)?LI:PI)(this,t)}}function RL(t,e){var n=qI(t+"");if(arguments.length<2){for(var r=S6(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?CL:e?TL:AL)(n,e))}function IL(){this.textContent=""}function NL(t){return function(){this.textContent=t}}function ML(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kL(t){return arguments.length?this.each(t==null?IL:(typeof t=="function"?ML:NL)(t)):this.node().textContent}function DL(){this.innerHTML=""}function OL(t){return function(){this.innerHTML=t}}function zL(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qL(t){return arguments.length?this.each(t==null?DL:(typeof t=="function"?zL:OL)(t)):this.node().innerHTML}function VL(){this.nextSibling&&this.parentNode.appendChild(this)}function LL(){return this.each(VL)}function PL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function BL(){return this.each(PL)}function UL(t){var e=typeof t=="function"?t:NI(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function jL(){return null}function HL(t,e){var n=typeof t=="function"?t:NI(t),r=e==null?jL:typeof e=="function"?e:w6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function FL(){var t=this.parentNode;t&&t.removeChild(this)}function GL(){return this.each(FL)}function $L(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function YL(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function XL(t){return this.select(t?YL:$L)}function KL(t){return arguments.length?this.property("__data__",t):this.node().__data__}function QL(t){return function(e){t.call(this,e,this.__data__)}}function ZL(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function WL(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function JL(t,e,n){return function(){var r=this.__on,i,o=QL(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function eP(t,e,n){var r=ZL(t+""),i,o=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,d=c.length,m;h<d;++h)for(i=0,m=c[h];i<o;++i)if((l=r[i]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?JL:WL,i=0;i<o;++i)this.each(c(r[i],e,n));return this}function BI(t,e,n){var r=zI(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tP(t,e){return function(){return BI(this,t,e)}}function nP(t,e){return function(){return BI(this,t,e.apply(this,arguments))}}function rP(t,e){return this.each((typeof e=="function"?nP:tP)(t,e))}function*iP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var UI=[null];function Br(t,e){this._groups=t,this._parents=e}function th(){return new Br([[document.documentElement]],UI)}function aP(){return this}Br.prototype=th.prototype={constructor:Br,select:MV,selectAll:zV,selectChild:PV,selectChildren:HV,filter:FV,data:QV,enter:GV,exit:WV,join:JV,merge:eL,selection:aP,order:tL,sort:nL,call:iL,nodes:aL,node:sL,size:oL,empty:lL,each:uL,attr:gL,style:bL,property:EL,classed:RL,text:kL,html:qL,raise:LL,lower:BL,append:UL,insert:HL,remove:GL,clone:XL,datum:KL,on:eP,dispatch:rP,[Symbol.iterator]:iP};function Vr(t){return typeof t=="string"?new Br([[document.querySelector(t)]],[document.documentElement]):new Br([[t]],UI)}function sP(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ci(t,e){if(t=sP(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const oP={passive:!1},O0={capture:!0,passive:!1};function yg(t){t.stopImmediatePropagation()}function ku(t){t.preventDefault(),t.stopImmediatePropagation()}function jI(t){var e=t.document.documentElement,n=Vr(t).on("dragstart.drag",ku,O0);"onselectstart"in e?n.on("selectstart.drag",ku,O0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function HI(t,e){var n=t.document.documentElement,r=Vr(t).on("dragstart.drag",null);e&&(r.on("click.drag",ku,O0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Gf=t=>()=>t;function C5(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:l,y:c,dx:h,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}C5.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function lP(t){return!t.ctrlKey&&!t.button}function uP(){return this.parentNode}function cP(t,e){return e??{x:t.x,y:t.y}}function hP(){return navigator.maxTouchPoints||"ontouchstart"in this}function FI(){var t=lP,e=uP,n=cP,r=hP,i={},o=vm("start","drag","end"),l=0,c,h,d,m,p=0;function y(z){z.on("mousedown.drag",b).filter(r).on("touchstart.drag",E).on("touchmove.drag",C,oP).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(z,U){if(!(m||!t.call(this,z,U))){var L=A(this,e.call(this,z,U),z,U,"mouse");L&&(Vr(z.view).on("mousemove.drag",S,O0).on("mouseup.drag",T,O0),jI(z.view),yg(z),d=!1,c=z.clientX,h=z.clientY,L("start",z))}}function S(z){if(ku(z),!d){var U=z.clientX-c,L=z.clientY-h;d=U*U+L*L>p}i.mouse("drag",z)}function T(z){Vr(z.view).on("mousemove.drag mouseup.drag",null),HI(z.view,d),ku(z),i.mouse("end",z)}function E(z,U){if(t.call(this,z,U)){var L=z.changedTouches,I=e.call(this,z,U),M=L.length,k,H;for(k=0;k<M;++k)(H=A(this,I,z,U,L[k].identifier,L[k]))&&(yg(z),H("start",z,L[k]))}}function C(z){var U=z.changedTouches,L=U.length,I,M;for(I=0;I<L;++I)(M=i[U[I].identifier])&&(ku(z),M("drag",z,U[I]))}function D(z){var U=z.changedTouches,L=U.length,I,M;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),I=0;I<L;++I)(M=i[U[I].identifier])&&(yg(z),M("end",z,U[I]))}function A(z,U,L,I,M,k){var H=o.copy(),q=Ci(k||L,U),B,P,K;if((K=n.call(z,new C5("beforestart",{sourceEvent:L,target:y,identifier:M,active:l,x:q[0],y:q[1],dx:0,dy:0,dispatch:H}),I))!=null)return B=K.x-q[0]||0,P=K.y-q[1]||0,function te($,W,re){var oe=q,ye;switch($){case"start":i[M]=te,ye=l++;break;case"end":delete i[M],--l;case"drag":q=Ci(re||W,U),ye=l;break}H.call($,z,new C5($,{sourceEvent:W,subject:K,target:y,identifier:M,active:ye,x:q[0]+B,y:q[1]+P,dx:q[0]-oe[0],dy:q[1]-oe[1],dispatch:H}),I)}}return y.filter=function(z){return arguments.length?(t=typeof z=="function"?z:Gf(!!z),y):t},y.container=function(z){return arguments.length?(e=typeof z=="function"?z:Gf(z),y):e},y.subject=function(z){return arguments.length?(n=typeof z=="function"?z:Gf(z),y):n},y.touchable=function(z){return arguments.length?(r=typeof z=="function"?z:Gf(!!z),y):r},y.on=function(){var z=o.on.apply(o,arguments);return z===o?y:z},y.clickDistance=function(z){return arguments.length?(p=(z=+z)*z,y):Math.sqrt(p)},y}function x6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function GI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nh(){}var z0=.7,zd=1/z0,Du="\\s*([+-]?\\d+)\\s*",q0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fP=/^#([0-9a-f]{3,8})$/,dP=new RegExp(`^rgb\\(${Du},${Du},${Du}\\)$`),mP=new RegExp(`^rgb\\(${ia},${ia},${ia}\\)$`),pP=new RegExp(`^rgba\\(${Du},${Du},${Du},${q0}\\)$`),gP=new RegExp(`^rgba\\(${ia},${ia},${ia},${q0}\\)$`),vP=new RegExp(`^hsl\\(${q0},${ia},${ia}\\)$`),yP=new RegExp(`^hsla\\(${q0},${ia},${ia},${q0}\\)$`),Y9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x6(nh,ml,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:X9,formatHex:X9,formatHex8:_P,formatHsl:bP,formatRgb:K9,toString:K9});function X9(){return this.rgb().formatHex()}function _P(){return this.rgb().formatHex8()}function bP(){return $I(this).formatHsl()}function K9(){return this.rgb().formatRgb()}function ml(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Q9(e):n===3?new Sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$f(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$f(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dP.exec(t))?new Sr(e[1],e[2],e[3],1):(e=mP.exec(t))?new Sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pP.exec(t))?$f(e[1],e[2],e[3],e[4]):(e=gP.exec(t))?$f(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vP.exec(t))?J9(e[1],e[2]/100,e[3]/100,1):(e=yP.exec(t))?J9(e[1],e[2]/100,e[3]/100,e[4]):Y9.hasOwnProperty(t)?Q9(Y9[t]):t==="transparent"?new Sr(NaN,NaN,NaN,0):null}function Q9(t){return new Sr(t>>16&255,t>>8&255,t&255,1)}function $f(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sr(t,e,n,r)}function wP(t){return t instanceof nh||(t=ml(t)),t?(t=t.rgb(),new Sr(t.r,t.g,t.b,t.opacity)):new Sr}function R5(t,e,n,r){return arguments.length===1?wP(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}x6(Sr,R5,GI(nh,{brighter(t){return t=t==null?zd:Math.pow(zd,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?z0:Math.pow(z0,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sr(cl(this.r),cl(this.g),cl(this.b),qd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z9,formatHex:Z9,formatHex8:SP,formatRgb:W9,toString:W9}));function Z9(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}`}function SP(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}${ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function W9(){const t=qd(this.opacity);return`${t===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${t===1?")":`, ${t})`}`}function qd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ol(t){return t=cl(t),(t<16?"0":"")+t.toString(16)}function J9(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ii(t,e,n,r)}function $I(t){if(t instanceof Ii)return new Ii(t.h,t.s,t.l,t.opacity);if(t instanceof nh||(t=ml(t)),!t)return new Ii;if(t instanceof Ii)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,h=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?o+i:2-o-i,l*=60):c=h>0&&h<1?0:l,new Ii(l,c,h,t.opacity)}function xP(t,e,n,r){return arguments.length===1?$I(t):new Ii(t,e,n,r??1)}function Ii(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}x6(Ii,xP,GI(nh,{brighter(t){return t=t==null?zd:Math.pow(zd,t),new Ii(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?z0:Math.pow(z0,t),new Ii(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sr(_g(t>=240?t-240:t+120,i,r),_g(t,i,r),_g(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ii(ew(this.h),Yf(this.s),Yf(this.l),qd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qd(this.opacity);return`${t===1?"hsl(":"hsla("}${ew(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ew(t){return t=(t||0)%360,t<0?t+360:t}function Yf(t){return Math.max(0,Math.min(1,t||0))}function _g(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const E6=t=>()=>t;function EP(t,e){return function(n){return t+n*e}}function TP(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function AP(t){return(t=+t)==1?YI:function(e,n){return n-e?TP(e,n,t):E6(isNaN(e)?n:e)}}function YI(t,e){var n=e-t;return n?EP(t,n):E6(isNaN(t)?e:t)}const Vd=(function t(e){var n=AP(e);function r(i,o){var l=n((i=R5(i)).r,(o=R5(o)).r),c=n(i.g,o.g),h=n(i.b,o.b),d=YI(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=d(m),i+""}}return r.gamma=t,r})(1);function CP(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function RP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function IP(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=T0(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function NP(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ea(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function MP(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=T0(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var I5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bg=new RegExp(I5.source,"g");function kP(t){return function(){return t}}function DP(t){return function(e){return t(e)+""}}function XI(t,e){var n=I5.lastIndex=bg.lastIndex=0,r,i,o,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=I5.exec(t))&&(i=bg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:ea(r,i)})),n=bg.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?DP(h[0].x):kP(e):(e=h.length,function(d){for(var m=0,p;m<e;++m)c[(p=h[m]).i]=p.x(d);return c.join("")})}function T0(t,e){var n=typeof e,r;return e==null||n==="boolean"?E6(e):(n==="number"?ea:n==="string"?(r=ml(e))?(e=r,Vd):XI:e instanceof ml?Vd:e instanceof Date?NP:RP(e)?CP:Array.isArray(e)?IP:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MP:ea)(t,e)}var tw=180/Math.PI,N5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KI(t,e,n,r,i,o){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tw,skewX:Math.atan(h)*tw,scaleX:l,scaleY:c}}var Xf;function OP(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?N5:KI(e.a,e.b,e.c,e.d,e.e,e.f)}function zP(t){return t==null||(Xf||(Xf=document.createElementNS("http://www.w3.org/2000/svg","g")),Xf.setAttribute("transform",t),!(t=Xf.transform.baseVal.consolidate()))?N5:(t=t.matrix,KI(t.a,t.b,t.c,t.d,t.e,t.f))}function QI(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function o(d,m,p,y,b,S){if(d!==p||m!==y){var T=b.push("translate(",null,e,null,n);S.push({i:T-4,x:ea(d,p)},{i:T-2,x:ea(m,y)})}else(p||y)&&b.push("translate("+p+e+y+n)}function l(d,m,p,y){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),y.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ea(d,m)})):m&&p.push(i(p)+"rotate("+m+r)}function c(d,m,p,y){d!==m?y.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ea(d,m)}):m&&p.push(i(p)+"skewX("+m+r)}function h(d,m,p,y,b,S){if(d!==p||m!==y){var T=b.push(i(b)+"scale(",null,",",null,")");S.push({i:T-4,x:ea(d,p)},{i:T-2,x:ea(m,y)})}else(p!==1||y!==1)&&b.push(i(b)+"scale("+p+","+y+")")}return function(d,m){var p=[],y=[];return d=t(d),m=t(m),o(d.translateX,d.translateY,m.translateX,m.translateY,p,y),l(d.rotate,m.rotate,p,y),c(d.skewX,m.skewX,p,y),h(d.scaleX,d.scaleY,m.scaleX,m.scaleY,p,y),d=m=null,function(b){for(var S=-1,T=y.length,E;++S<T;)p[(E=y[S]).i]=E.x(b);return p.join("")}}}var qP=QI(OP,"px, ","px)","deg)"),VP=QI(zP,", ",")",")"),LP=1e-12;function nw(t){return((t=Math.exp(t))+1/t)/2}function PP(t){return((t=Math.exp(t))-1/t)/2}function BP(t){return((t=Math.exp(2*t))-1)/(t+1)}const vd=(function t(e,n,r){function i(o,l){var c=o[0],h=o[1],d=o[2],m=l[0],p=l[1],y=l[2],b=m-c,S=p-h,T=b*b+S*S,E,C;if(T<LP)C=Math.log(y/d)/e,E=function(I){return[c+I*b,h+I*S,d*Math.exp(e*I*C)]};else{var D=Math.sqrt(T),A=(y*y-d*d+r*T)/(2*d*n*D),z=(y*y-d*d-r*T)/(2*y*n*D),U=Math.log(Math.sqrt(A*A+1)-A),L=Math.log(Math.sqrt(z*z+1)-z);C=(L-U)/e,E=function(I){var M=I*C,k=nw(U),H=d/(n*D)*(k*BP(e*M+U)-PP(U));return[c+H*b,h+H*S,d*k/nw(e*M+U)]}}return E.duration=C*1e3*e/Math.SQRT2,E}return i.rho=function(o){var l=Math.max(.001,+o),c=l*l,h=c*c;return t(l,c,h)},i})(Math.SQRT2,2,4);var Uu=0,p0=0,d0=0,ZI=1e3,Ld,g0,Pd=0,pl=0,_m=0,V0=typeof performance=="object"&&performance.now?performance:Date,WI=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function T6(){return pl||(WI(UP),pl=V0.now()+_m)}function UP(){pl=0}function Bd(){this._call=this._time=this._next=null}Bd.prototype=JI.prototype={constructor:Bd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?T6():+n)+(e==null?0:+e),!this._next&&g0!==this&&(g0?g0._next=this:Ld=this,g0=this),this._call=t,this._time=n,M5()},stop:function(){this._call&&(this._call=null,this._time=1/0,M5())}};function JI(t,e,n){var r=new Bd;return r.restart(t,e,n),r}function jP(){T6(),++Uu;for(var t=Ld,e;t;)(e=pl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Uu}function rw(){pl=(Pd=V0.now())+_m,Uu=p0=0;try{jP()}finally{Uu=0,FP(),pl=0}}function HP(){var t=V0.now(),e=t-Pd;e>ZI&&(_m-=e,Pd=t)}function FP(){for(var t,e=Ld,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ld=n);g0=t,M5(r)}function M5(t){if(!Uu){p0&&(p0=clearTimeout(p0));var e=t-pl;e>24?(t<1/0&&(p0=setTimeout(rw,t-V0.now()-_m)),d0&&(d0=clearInterval(d0))):(d0||(Pd=V0.now(),d0=setInterval(HP,ZI)),Uu=1,WI(rw))}}function iw(t,e,n){var r=new Bd;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var GP=vm("start","end","cancel","interrupt"),$P=[],eN=0,aw=1,k5=2,yd=3,sw=4,D5=5,_d=6;function bm(t,e,n,r,i,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;YP(t,n,{name:e,index:r,group:i,on:GP,tween:$P,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:eN})}function A6(t,e){var n=Li(t,e);if(n.state>eN)throw new Error("too late; already scheduled");return n}function ma(t,e){var n=Li(t,e);if(n.state>yd)throw new Error("too late; already running");return n}function Li(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function YP(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=JI(o,0,n.time);function o(d){n.state=aw,n.timer.restart(l,n.delay,n.time),n.delay<=d&&l(d-n.delay)}function l(d){var m,p,y,b;if(n.state!==aw)return h();for(m in r)if(b=r[m],b.name===n.name){if(b.state===yd)return iw(l);b.state===sw?(b.state=_d,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=_d,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(iw(function(){n.state===yd&&(n.state=sw,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=k5,n.on.call("start",t,t.__data__,n.index,n.group),n.state===k5){for(n.state=yd,i=new Array(y=n.tween.length),m=0,p=-1;m<y;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=b);i.length=p+1}}function c(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=D5,1),p=-1,y=i.length;++p<y;)i[p].call(t,m);n.state===D5&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=_d,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function bd(t,e){var n=t.__transition,r,i,o=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){o=!1;continue}i=r.state>k5&&r.state<D5,r.state=_d,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}o&&delete t.__transition}}function XP(t){return this.each(function(){bd(this,t)})}function KP(t,e){var n,r;return function(){var i=ma(this,t),o=i.tween;if(o!==n){r=n=o;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function QP(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ma(this,t),l=o.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},h=0,d=i.length;h<d;++h)if(i[h].name===e){i[h]=c;break}h===d&&i.push(c)}o.tween=i}}function ZP(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Li(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?KP:QP)(n,t,e))}function C6(t,e,n){var r=t._id;return t.each(function(){var i=ma(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Li(i,r).value[e]}}function tN(t,e){var n;return(typeof e=="number"?ea:e instanceof ml?Vd:(n=ml(e))?(e=n,Vd):XI)(t,e)}function WP(t){return function(){this.removeAttribute(t)}}function JP(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eB(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttribute(t);return l===i?null:l===r?o:o=e(r=l,n)}}function tB(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?o:o=e(r=l,n)}}function nB(t,e,n){var r,i,o;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c)))}}function rB(t,e,n){var r,i,o;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c)))}}function iB(t,e){var n=ym(t),r=n==="transform"?VP:tN;return this.attrTween(t,typeof e=="function"?(n.local?rB:nB)(n,r,C6(this,"attr."+t,e)):e==null?(n.local?JP:WP)(n):(n.local?tB:eB)(n,r,e))}function aB(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function sB(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function oB(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&sB(t,o)),n}return i._value=e,i}function lB(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&aB(t,o)),n}return i._value=e,i}function uB(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ym(t);return this.tween(n,(r.local?oB:lB)(r,e))}function cB(t,e){return function(){A6(this,t).delay=+e.apply(this,arguments)}}function hB(t,e){return e=+e,function(){A6(this,t).delay=e}}function fB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cB:hB)(e,t)):Li(this.node(),e).delay}function dB(t,e){return function(){ma(this,t).duration=+e.apply(this,arguments)}}function mB(t,e){return e=+e,function(){ma(this,t).duration=e}}function pB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dB:mB)(e,t)):Li(this.node(),e).duration}function gB(t,e){if(typeof e!="function")throw new Error;return function(){ma(this,t).ease=e}}function vB(t){var e=this._id;return arguments.length?this.each(gB(e,t)):Li(this.node(),e).ease}function yB(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ma(this,t).ease=n}}function _B(t){if(typeof t!="function")throw new Error;return this.each(yB(this._id,t))}function bB(t){typeof t!="function"&&(t=kI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=[],h,d=0;d<l;++d)(h=o[d])&&t.call(h,h.__data__,d,o)&&c.push(h);return new ts(r,this._parents,this._name,this._id)}function wB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),l=new Array(r),c=0;c<o;++c)for(var h=e[c],d=n[c],m=h.length,p=l[c]=new Array(m),y,b=0;b<m;++b)(y=h[b]||d[b])&&(p[b]=y);for(;c<r;++c)l[c]=e[c];return new ts(l,this._parents,this._name,this._id)}function SB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xB(t,e,n){var r,i,o=SB(e)?A6:ma;return function(){var l=o(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function EB(t,e){var n=this._id;return arguments.length<2?Li(this.node(),n).on.on(t):this.each(xB(n,t,e))}function TB(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function AB(){return this.on("end.remove",TB(this._id))}function CB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=w6(t));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var c=r[l],h=c.length,d=o[l]=new Array(h),m,p,y=0;y<h;++y)(m=c[y])&&(p=t.call(m,m.__data__,y,c))&&("__data__"in m&&(p.__data__=m.__data__),d[y]=p,bm(d[y],e,n,y,d,Li(m,n)));return new ts(o,this._parents,e,n)}function RB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=MI(t));for(var r=this._groups,i=r.length,o=[],l=[],c=0;c<i;++c)for(var h=r[c],d=h.length,m,p=0;p<d;++p)if(m=h[p]){for(var y=t.call(m,m.__data__,p,h),b,S=Li(m,n),T=0,E=y.length;T<E;++T)(b=y[T])&&bm(b,e,n,T,y,S);o.push(y),l.push(m)}return new ts(o,l,e,n)}var IB=th.prototype.constructor;function NB(){return new IB(this._groups,this._parents)}function MB(t,e){var n,r,i;return function(){var o=Bu(this,t),l=(this.style.removeProperty(t),Bu(this,t));return o===l?null:o===n&&l===r?i:i=e(n=o,r=l)}}function nN(t){return function(){this.style.removeProperty(t)}}function kB(t,e,n){var r,i=n+"",o;return function(){var l=Bu(this,t);return l===i?null:l===r?o:o=e(r=l,n)}}function DB(t,e,n){var r,i,o;return function(){var l=Bu(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),Bu(this,t))),l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c))}}function OB(t,e){var n,r,i,o="style."+e,l="end."+o,c;return function(){var h=ma(this,t),d=h.on,m=h.value[o]==null?c||(c=nN(e)):void 0;(d!==n||i!==m)&&(r=(n=d).copy()).on(l,i=m),h.on=r}}function zB(t,e,n){var r=(t+="")=="transform"?qP:tN;return e==null?this.styleTween(t,MB(t,r)).on("end.style."+t,nN(t)):typeof e=="function"?this.styleTween(t,DB(t,r,C6(this,"style."+t,e))).each(OB(this._id,t)):this.styleTween(t,kB(t,r,e),n).on("end.style."+t,null)}function qB(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function VB(t,e,n){var r,i;function o(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&qB(t,l,n)),r}return o._value=e,o}function LB(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,VB(t,e,n??""))}function PB(t){return function(){this.textContent=t}}function BB(t){return function(){var e=t(this);this.textContent=e??""}}function UB(t){return this.tween("text",typeof t=="function"?BB(C6(this,"text",t)):PB(t==null?"":t+""))}function jB(t){return function(e){this.textContent=t.call(this,e)}}function HB(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&jB(i)),e}return r._value=t,r}function FB(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,HB(t))}function GB(){for(var t=this._name,e=this._id,n=rN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],c=l.length,h,d=0;d<c;++d)if(h=l[d]){var m=Li(h,e);bm(h,t,n,d,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ts(r,this._parents,t,n)}function $B(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var c={value:l},h={value:function(){--i===0&&o()}};n.each(function(){var d=ma(this,r),m=d.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),d.on=e}),i===0&&o()})}var YB=0;function ts(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function rN(){return++YB}var Ga=th.prototype;ts.prototype={constructor:ts,select:CB,selectAll:RB,selectChild:Ga.selectChild,selectChildren:Ga.selectChildren,filter:bB,merge:wB,selection:NB,transition:GB,call:Ga.call,nodes:Ga.nodes,node:Ga.node,size:Ga.size,empty:Ga.empty,each:Ga.each,on:EB,attr:iB,attrTween:uB,style:zB,styleTween:LB,text:UB,textTween:FB,remove:AB,tween:ZP,delay:fB,duration:pB,ease:vB,easeVarying:_B,end:$B,[Symbol.iterator]:Ga[Symbol.iterator]};function XB(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var KB={time:null,delay:0,duration:250,ease:XB};function QB(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ZB(t){var e,n;t instanceof ts?(e=t._id,t=t._name):(e=rN(),(n=KB).time=T6(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],c=l.length,h,d=0;d<c;++d)(h=l[d])&&bm(h,t,e,d,l,n||QB(h,e));return new ts(r,this._parents,t,e)}th.prototype.interrupt=XP;th.prototype.transition=ZB;const Kf=t=>()=>t;function WB(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ka(t,e,n){this.k=t,this.x=e,this.y=n}Ka.prototype={constructor:Ka,scale:function(t){return t===1?this:new Ka(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ka(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wm=new Ka(1,0,0);iN.prototype=Ka.prototype;function iN(t){for(;!t.__zoom;)if(!(t=t.parentNode))return wm;return t.__zoom}function wg(t){t.stopImmediatePropagation()}function m0(t){t.preventDefault(),t.stopImmediatePropagation()}function JB(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function eU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ow(){return this.__zoom||wm}function tU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nU(){return navigator.maxTouchPoints||"ontouchstart"in this}function rU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function aN(){var t=JB,e=eU,n=rU,r=tU,i=nU,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=vd,d=vm("start","zoom","end"),m,p,y,b=500,S=150,T=0,E=10;function C(K){K.property("__zoom",ow).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(K,te,$,W){var re=K.selection?K.selection():K;re.property("__zoom",ow),K!==re?U(K,te,$,W):re.interrupt().each(function(){L(this,arguments).event(W).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},C.scaleBy=function(K,te,$,W){C.scaleTo(K,function(){var re=this.__zoom.k,oe=typeof te=="function"?te.apply(this,arguments):te;return re*oe},$,W)},C.scaleTo=function(K,te,$,W){C.transform(K,function(){var re=e.apply(this,arguments),oe=this.__zoom,ye=$==null?z(re):typeof $=="function"?$.apply(this,arguments):$,Y=oe.invert(ye),ee=typeof te=="function"?te.apply(this,arguments):te;return n(A(D(oe,ee),ye,Y),re,l)},$,W)},C.translateBy=function(K,te,$,W){C.transform(K,function(){return n(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),l)},null,W)},C.translateTo=function(K,te,$,W,re){C.transform(K,function(){var oe=e.apply(this,arguments),ye=this.__zoom,Y=W==null?z(oe):typeof W=="function"?W.apply(this,arguments):W;return n(wm.translate(Y[0],Y[1]).scale(ye.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof $=="function"?-$.apply(this,arguments):-$),oe,l)},W,re)};function D(K,te){return te=Math.max(o[0],Math.min(o[1],te)),te===K.k?K:new Ka(te,K.x,K.y)}function A(K,te,$){var W=te[0]-$[0]*K.k,re=te[1]-$[1]*K.k;return W===K.x&&re===K.y?K:new Ka(K.k,W,re)}function z(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function U(K,te,$,W){K.on("start.zoom",function(){L(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(W).end()}).tween("zoom",function(){var re=this,oe=arguments,ye=L(re,oe).event(W),Y=e.apply(re,oe),ee=$==null?z(Y):typeof $=="function"?$.apply(re,oe):$,pe=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=re.__zoom,ie=typeof te=="function"?te.apply(re,oe):te,ue=h(Q.invert(ee).concat(pe/Q.k),ie.invert(ee).concat(pe/ie.k));return function(ge){if(ge===1)ge=ie;else{var be=ue(ge),Ce=pe/be[2];ge=new Ka(Ce,ee[0]-be[0]*Ce,ee[1]-be[1]*Ce)}ye.zoom(null,ge)}})}function L(K,te,$){return!$&&K.__zooming||new I(K,te)}function I(K,te){this.that=K,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,te),this.taps=0}I.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,te){return this.mouse&&K!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var te=Vr(this.that).datum();d.call(K,this.that,new WB(K,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:d}),te)}};function M(K,...te){if(!t.apply(this,arguments))return;var $=L(this,te).event(K),W=this.__zoom,re=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),oe=Ci(K);if($.wheel)($.mouse[0][0]!==oe[0]||$.mouse[0][1]!==oe[1])&&($.mouse[1]=W.invert($.mouse[0]=oe)),clearTimeout($.wheel);else{if(W.k===re)return;$.mouse=[oe,W.invert(oe)],bd(this),$.start()}m0(K),$.wheel=setTimeout(ye,S),$.zoom("mouse",n(A(D(W,re),$.mouse[0],$.mouse[1]),$.extent,l));function ye(){$.wheel=null,$.end()}}function k(K,...te){if(y||!t.apply(this,arguments))return;var $=K.currentTarget,W=L(this,te,!0).event(K),re=Vr(K.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",pe,!0),oe=Ci(K,$),ye=K.clientX,Y=K.clientY;jI(K.view),wg(K),W.mouse=[oe,this.__zoom.invert(oe)],bd(this),W.start();function ee(Q){if(m0(Q),!W.moved){var ie=Q.clientX-ye,ue=Q.clientY-Y;W.moved=ie*ie+ue*ue>T}W.event(Q).zoom("mouse",n(A(W.that.__zoom,W.mouse[0]=Ci(Q,$),W.mouse[1]),W.extent,l))}function pe(Q){re.on("mousemove.zoom mouseup.zoom",null),HI(Q.view,W.moved),m0(Q),W.event(Q).end()}}function H(K,...te){if(t.apply(this,arguments)){var $=this.__zoom,W=Ci(K.changedTouches?K.changedTouches[0]:K,this),re=$.invert(W),oe=$.k*(K.shiftKey?.5:2),ye=n(A(D($,oe),W,re),e.apply(this,te),l);m0(K),c>0?Vr(this).transition().duration(c).call(U,ye,W,K):Vr(this).call(C.transform,ye,W,K)}}function q(K,...te){if(t.apply(this,arguments)){var $=K.touches,W=$.length,re=L(this,te,K.changedTouches.length===W).event(K),oe,ye,Y,ee;for(wg(K),ye=0;ye<W;++ye)Y=$[ye],ee=Ci(Y,this),ee=[ee,this.__zoom.invert(ee),Y.identifier],re.touch0?!re.touch1&&re.touch0[2]!==ee[2]&&(re.touch1=ee,re.taps=0):(re.touch0=ee,oe=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),oe&&(re.taps<2&&(p=ee[0],m=setTimeout(function(){m=null},b)),bd(this),re.start())}}function B(K,...te){if(this.__zooming){var $=L(this,te).event(K),W=K.changedTouches,re=W.length,oe,ye,Y,ee;for(m0(K),oe=0;oe<re;++oe)ye=W[oe],Y=Ci(ye,this),$.touch0&&$.touch0[2]===ye.identifier?$.touch0[0]=Y:$.touch1&&$.touch1[2]===ye.identifier&&($.touch1[0]=Y);if(ye=$.that.__zoom,$.touch1){var pe=$.touch0[0],Q=$.touch0[1],ie=$.touch1[0],ue=$.touch1[1],ge=(ge=ie[0]-pe[0])*ge+(ge=ie[1]-pe[1])*ge,be=(be=ue[0]-Q[0])*be+(be=ue[1]-Q[1])*be;ye=D(ye,Math.sqrt(ge/be)),Y=[(pe[0]+ie[0])/2,(pe[1]+ie[1])/2],ee=[(Q[0]+ue[0])/2,(Q[1]+ue[1])/2]}else if($.touch0)Y=$.touch0[0],ee=$.touch0[1];else return;$.zoom("touch",n(A(ye,Y,ee),$.extent,l))}}function P(K,...te){if(this.__zooming){var $=L(this,te).event(K),W=K.changedTouches,re=W.length,oe,ye;for(wg(K),y&&clearTimeout(y),y=setTimeout(function(){y=null},b),oe=0;oe<re;++oe)ye=W[oe],$.touch0&&$.touch0[2]===ye.identifier?delete $.touch0:$.touch1&&$.touch1[2]===ye.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(ye=Ci(ye,this),Math.hypot(p[0]-ye[0],p[1]-ye[1])<E)){var Y=Vr(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return C.wheelDelta=function(K){return arguments.length?(r=typeof K=="function"?K:Kf(+K),C):r},C.filter=function(K){return arguments.length?(t=typeof K=="function"?K:Kf(!!K),C):t},C.touchable=function(K){return arguments.length?(i=typeof K=="function"?K:Kf(!!K),C):i},C.extent=function(K){return arguments.length?(e=typeof K=="function"?K:Kf([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),C):e},C.scaleExtent=function(K){return arguments.length?(o[0]=+K[0],o[1]=+K[1],C):[o[0],o[1]]},C.translateExtent=function(K){return arguments.length?(l[0][0]=+K[0][0],l[1][0]=+K[1][0],l[0][1]=+K[0][1],l[1][1]=+K[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(K){return arguments.length?(n=K,C):n},C.duration=function(K){return arguments.length?(c=+K,C):c},C.interpolate=function(K){return arguments.length?(h=K,C):h},C.on=function(){var K=d.on.apply(d,arguments);return K===d?C:K},C.clickDistance=function(K){return arguments.length?(T=(K=+K)*K,C):Math.sqrt(T)},C.tapDistance=function(K){return arguments.length?(E=+K,C):E},C}const ha={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},L0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sN=["Enter"," ","Escape"],oN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ju;(function(t){t.Strict="strict",t.Loose="loose"})(ju||(ju={}));var hl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(hl||(hl={}));var P0;(function(t){t.Partial="partial",t.Full="full"})(P0||(P0={}));const lN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var eo;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(eo||(eo={}));var B0;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(B0||(B0={}));var Ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ye||(Ye={}));const lw={[Ye.Left]:Ye.Right,[Ye.Right]:Ye.Left,[Ye.Top]:Ye.Bottom,[Ye.Bottom]:Ye.Top};function uN(t){return t===null?null:t?"valid":"invalid"}const cN=t=>"id"in t&&"source"in t&&"target"in t,iU=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),R6=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),rh=(t,e=[0,0])=>{const{width:n,height:r}=us(t),i=t.origin??e,o=n*i[0],l=r*i[1];return{x:t.position.x-o,y:t.position.y-l}},aU=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let l=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(l=o?e.nodeLookup.get(i):R6(i)?i:e.nodeLookup.get(i.id));const c=l?Ud(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Sm(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return xm(n)},ih=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=Sm(n,Ud(i)),r=!0)}),r?xm(n):{x:0,y:0,width:0,height:0}},I6=(t,e,[n,r,i]=[0,0,1],o=!1,l=!1)=>{const c={...sh(e,[n,r,i]),width:e.width/i,height:e.height/i},h=[];for(const d of t.values()){const{measured:m,selectable:p=!0,hidden:y=!1}=d;if(l&&!p||y)continue;const b=m.width??d.width??d.initialWidth??null,S=m.height??d.height??d.initialHeight??null,T=U0(c,Fu(d)),E=(b??0)*(S??0),C=o&&T>0;(!d.internals.handleBounds||C||T>=E||d.dragging)&&h.push(d)}return h},sU=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function oU(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function lU({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},l){if(t.size===0)return Promise.resolve(!0);const c=oU(t,l),h=ih(c),d=N6(h,e,n,l?.minZoom??i,l?.maxZoom??o,l?.padding??.1);return await r.setViewport(d,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function hN({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:h,y:d}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)o?.("005",ha.error005());else{const b=c.measured.width,S=c.measured.height;b&&S&&(p=[[h,d],[h+b,d+S]])}else c&&Gu(l.extent)&&(p=[[l.extent[0][0]+h,l.extent[0][1]+d],[l.extent[1][0]+h,l.extent[1][1]+d]]);const y=Gu(p)?gl(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&o?.("015",ha.error015()),{position:{x:y.x-h+(l.measured.width??0)*m[0],y:y.y-d+(l.measured.height??0)*m[1]},positionAbsolute:y}}async function uU({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(y=>y.id)),l=[];for(const y of n){if(y.deletable===!1)continue;const b=o.has(y.id),S=!b&&y.parentId&&l.find(T=>T.id===y.parentId);(b||S)&&l.push(y)}const c=new Set(e.map(y=>y.id)),h=r.filter(y=>y.deletable!==!1),m=sU(l,h);for(const y of h)c.has(y.id)&&!m.find(S=>S.id===y.id)&&m.push(y);if(!i)return{edges:m,nodes:l};const p=await i({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Hu=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),gl=(t={x:0,y:0},e,n)=>({x:Hu(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Hu(t.y,e[0][1],e[1][1]-(n?.height??0))});function fN(t,e,n){const{width:r,height:i}=us(n),{x:o,y:l}=n.internals.positionAbsolute;return gl(t,[[o,l],[o+r,l+i]],e)}const uw=(t,e,n)=>t<e?Hu(Math.abs(t-e),1,e)/e:t>n?-Hu(Math.abs(t-n),1,e)/e:0,dN=(t,e,n=15,r=40)=>{const i=uw(t.x,r,e.width-r)*n,o=uw(t.y,r,e.height-r)*n;return[i,o]},Sm=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),O5=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),xm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Fu=(t,e=[0,0])=>{const{x:n,y:r}=R6(t)?t.internals.positionAbsolute:rh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Ud=(t,e=[0,0])=>{const{x:n,y:r}=R6(t)?t.internals.positionAbsolute:rh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},mN=(t,e)=>xm(Sm(O5(t),O5(e))),U0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},cw=t=>Mi(t.width)&&Mi(t.height)&&Mi(t.x)&&Mi(t.y),Mi=t=>!isNaN(t)&&isFinite(t),cU=(t,e)=>{},ah=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),sh=({x:t,y:e},[n,r,i],o=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return o?ah(c,l):c},jd=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function xu(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function hU(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=xu(t,n),i=xu(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=xu(t.top??t.y??0,n),i=xu(t.bottom??t.y??0,n),o=xu(t.left??t.x??0,e),l=xu(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:o,x:o+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function fU(t,e,n,r,i,o){const{x:l,y:c}=jd(t,[e,n,r]),{x:h,y:d}=jd({x:t.x+t.width,y:t.y+t.height},[e,n,r]),m=i-h,p=o-d;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const N6=(t,e,n,r,i,o)=>{const l=hU(o,e,n),c=(e-l.x)/t.width,h=(n-l.y)/t.height,d=Math.min(c,h),m=Hu(d,r,i),p=t.x+t.width/2,y=t.y+t.height/2,b=e/2-p*m,S=n/2-y*m,T=fU(t,b,S,m,e,n),E={left:Math.min(T.left-l.left,0),top:Math.min(T.top-l.top,0),right:Math.min(T.right-l.right,0),bottom:Math.min(T.bottom-l.bottom,0)};return{x:b-E.left+E.right,y:S-E.top+E.bottom,zoom:m}},j0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Gu(t){return t!=null&&t!=="parent"}function us(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function pN(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function gN(t,e={width:0,height:0},n,r,i){const o={...t},l=r.get(n);if(l){const c=l.origin||i;o.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],o.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return o}function hw(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function dU(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function mU(t){return{...oN,...t||{}}}function A0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:l}=ki(t),c=sh({x:o-(i?.left??0),y:l-(i?.top??0)},r),{x:h,y:d}=n?ah(c,e):c;return{xSnapped:h,ySnapped:d,...c}}const M6=t=>({width:t.offsetWidth,height:t.offsetHeight}),vN=t=>t?.getRootNode?.()||window?.document,pU=["INPUT","SELECT","TEXTAREA"];function yN(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:pU.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const _N=t=>"clientX"in t,ki=(t,e)=>{const n=_N(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},fw=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...M6(l)}})};function bN({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:c}){const h=t*.125+i*.375+l*.375+n*.125,d=e*.125+o*.375+c*.375+r*.125,m=Math.abs(h-t),p=Math.abs(d-e);return[h,d,m,p]}function Qf(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function dw({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case Ye.Left:return[e-Qf(e-r,o),n];case Ye.Right:return[e+Qf(r-e,o),n];case Ye.Top:return[e,n-Qf(n-i,o)];case Ye.Bottom:return[e,n+Qf(i-n,o)]}}function wN({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top,curvature:l=.25}){const[c,h]=dw({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[d,m]=dw({pos:o,x1:r,y1:i,x2:t,y2:e,c:l}),[p,y,b,S]=bN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:h,targetControlX:d,targetControlY:m});return[`M${t},${e} C${c},${h} ${d},${m} ${r},${i}`,p,y,b,S]}function SN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[o,c,i,l]}function gU({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function vU({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=Sm(Ud(t),Ud(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return U0(l,xm(o))>0}const yU=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,_U=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),bU=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||yU;let i;return cN(t)?i={...t}:i={...t,id:r(t)},_U(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function xN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,l,c]=SN({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,l,c]}const mw={[Ye.Left]:{x:-1,y:0},[Ye.Right]:{x:1,y:0},[Ye.Top]:{x:0,y:-1},[Ye.Bottom]:{x:0,y:1}},wU=({source:t,sourcePosition:e=Ye.Bottom,target:n})=>e===Ye.Left||e===Ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},pw=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function SU({source:t,sourcePosition:e=Ye.Bottom,target:n,targetPosition:r=Ye.Top,center:i,offset:o,stepPosition:l}){const c=mw[e],h=mw[r],d={x:t.x+c.x*o,y:t.y+c.y*o},m={x:n.x+h.x*o,y:n.y+h.y*o},p=wU({source:d,sourcePosition:e,target:m}),y=p.x!==0?"x":"y",b=p[y];let S=[],T,E;const C={x:0,y:0},D={x:0,y:0},[,,A,z]=SN({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[y]*h[y]===-1){y==="x"?(T=i.x??d.x+(m.x-d.x)*l,E=i.y??(d.y+m.y)/2):(T=i.x??(d.x+m.x)/2,E=i.y??d.y+(m.y-d.y)*l);const L=[{x:T,y:d.y},{x:T,y:m.y}],I=[{x:d.x,y:E},{x:m.x,y:E}];c[y]===b?S=y==="x"?L:I:S=y==="x"?I:L}else{const L=[{x:d.x,y:m.y}],I=[{x:m.x,y:d.y}];if(y==="x"?S=c.x===b?I:L:S=c.y===b?L:I,e===r){const B=Math.abs(t[y]-n[y]);if(B<=o){const P=Math.min(o-1,o-B);c[y]===b?C[y]=(d[y]>t[y]?-1:1)*P:D[y]=(m[y]>n[y]?-1:1)*P}}if(e!==r){const B=y==="x"?"y":"x",P=c[y]===h[B],K=d[B]>m[B],te=d[B]<m[B];(c[y]===1&&(!P&&K||P&&te)||c[y]!==1&&(!P&&te||P&&K))&&(S=y==="x"?L:I)}const M={x:d.x+C.x,y:d.y+C.y},k={x:m.x+D.x,y:m.y+D.y},H=Math.max(Math.abs(M.x-S[0].x),Math.abs(k.x-S[0].x)),q=Math.max(Math.abs(M.y-S[0].y),Math.abs(k.y-S[0].y));H>=q?(T=(M.x+k.x)/2,E=S[0].y):(T=S[0].x,E=(M.y+k.y)/2)}return[[t,{x:d.x+C.x,y:d.y+C.y},...S,{x:m.x+D.x,y:m.y+D.y},n],T,E,A,z]}function xU(t,e,n,r){const i=Math.min(pw(t,e)/2,pw(e,n)/2,r),{x:o,y:l}=e;if(t.x===o&&o===n.x||t.y===l&&l===n.y)return`L${o} ${l}`;if(t.y===l){const d=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${o+i*d},${l}Q ${o},${l} ${o},${l+i*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${o},${l+i*h}Q ${o},${l} ${o+i*c},${l}`}function z5({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top,borderRadius:l=5,centerX:c,centerY:h,offset:d=20,stepPosition:m=.5}){const[p,y,b,S,T]=SU({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:c,y:h},offset:d,stepPosition:m});return[p.reduce((C,D,A)=>{let z="";return A>0&&A<p.length-1?z=xU(p[A-1],D,p[A+1],l):z=`${A===0?"M":"L"}${D.x} ${D.y}`,C+=z,C},""),y,b,S,T]}function gw(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function EU(t){const{sourceNode:e,targetNode:n}=t;if(!gw(e)||!gw(n))return null;const r=e.internals.handleBounds||vw(e.handles),i=n.internals.handleBounds||vw(n.handles),o=yw(r?.source??[],t.sourceHandle),l=yw(t.connectionMode===ju.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!o||!l)return t.onError?.("008",ha.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=o?.position||Ye.Bottom,h=l?.position||Ye.Top,d=vl(e,o,c),m=vl(n,l,h);return{sourceX:d.x,sourceY:d.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:h}}function vw(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function vl(t,e,n=Ye.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,o=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??us(t);if(r)return{x:i+l/2,y:o+c/2};switch(e?.position??n){case Ye.Top:return{x:i+l/2,y:o};case Ye.Right:return{x:i+l,y:o+c/2};case Ye.Bottom:return{x:i+l/2,y:o+c};case Ye.Left:return{x:i,y:o+c/2}}}function yw(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function q5(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function TU(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(h=>{if(h&&typeof h=="object"){const d=q5(h,e);o.has(d)||(l.push({id:d,color:h.color||n,...h}),o.add(d))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const EN=1e3,AU=10,k6={nodeOrigin:[0,0],nodeExtent:L0,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},CU={...k6,checkEquality:!0};function D6(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function RU(t,e,n){const r=D6(k6,n);for(const i of t.values())if(i.parentId)z6(i,t,e,r);else{const o=rh(i,r.nodeOrigin),l=Gu(i.extent)?i.extent:r.nodeExtent,c=gl(o,l,us(i));i.internals.positionAbsolute=c}}function IU(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function O6(t){return t==="manual"}function V5(t,e,n,r={}){const i=D6(CU,r),o={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!O6(i.zIndexMode)?EN:0;let h=t.length>0;e.clear(),n.clear();for(const d of t){let m=l.get(d.id);if(i.checkEquality&&d===m?.internals.userNode)e.set(d.id,m);else{const p=rh(d,i.nodeOrigin),y=Gu(d.extent)?d.extent:i.nodeExtent,b=gl(p,y,us(d));m={...i.defaults,...d,measured:{width:d.measured?.width,height:d.measured?.height},internals:{positionAbsolute:b,handleBounds:IU(d,m),z:TN(d,c,i.zIndexMode),userNode:d}},e.set(d.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),d.parentId&&z6(m,e,n,r,o)}return h}function NU(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function z6(t,e,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:c,zIndexMode:h}=D6(k6,r),d=t.parentId,m=e.get(d);if(!m){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}NU(t,n),i&&!m.parentId&&m.internals.rootParentIndex===void 0&&h==="auto"&&(m.internals.rootParentIndex=++i.i,m.internals.z=m.internals.z+i.i*AU),i&&m.internals.rootParentIndex!==void 0&&(i.i=m.internals.rootParentIndex);const p=o&&!O6(h)?EN:0,{x:y,y:b,z:S}=MU(t,m,l,c,p,h),{positionAbsolute:T}=t.internals,E=y!==T.x||b!==T.y;(E||S!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:E?{x:y,y:b}:T,z:S}})}function TN(t,e,n){const r=Mi(t.zIndex)?t.zIndex:0;return O6(n)?r:r+(t.selected?e:0)}function MU(t,e,n,r,i,o){const{x:l,y:c}=e.internals.positionAbsolute,h=us(t),d=rh(t,n),m=Gu(t.extent)?gl(d,t.extent,h):d;let p=gl({x:l+m.x,y:c+m.y},r,h);t.extent==="parent"&&(p=fN(p,h,e));const y=TN(t,i,o),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>=y?b+1:y}}function q6(t,e,n,r=[0,0]){const i=[],o=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const h=o.get(l.parentId)?.expandedRect??Fu(c),d=mN(h,l.rect);o.set(l.parentId,{expandedRect:d,parent:c})}return o.size>0&&o.forEach(({expandedRect:l,parent:c},h)=>{const d=c.internals.positionAbsolute,m=us(c),p=c.origin??r,y=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,b=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,S=Math.max(m.width,Math.round(l.width)),T=Math.max(m.height,Math.round(l.height)),E=(S-m.width)*p[0],C=(T-m.height)*p[1];(y>0||b>0||E||C)&&(i.push({id:h,type:"position",position:{x:c.position.x-y+E,y:c.position.y-b+C}}),n.get(h)?.forEach(D=>{t.some(A=>A.id===D.id)||i.push({id:D.id,type:"position",position:{x:D.position.x+y,y:D.position.y+b}})})),(m.width<l.width||m.height<l.height||y||b)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:S+(y?p[0]*y-E:0),height:T+(b?p[1]*b-C:0)}})}),i}function kU(t,e,n,r,i,o,l){const c=r?.querySelector(".xyflow__viewport");let h=!1;if(!c)return{changes:[],updatedInternals:h};const d=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),y=[];for(const b of t.values()){const S=e.get(b.id);if(!S)continue;if(S.hidden){e.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),h=!0;continue}const T=M6(b.nodeElement),E=S.measured.width!==T.width||S.measured.height!==T.height;if(!!(T.width&&T.height&&(E||!S.internals.handleBounds||b.force))){const D=b.nodeElement.getBoundingClientRect(),A=Gu(S.extent)?S.extent:o;let{positionAbsolute:z}=S.internals;S.parentId&&S.extent==="parent"?z=fN(z,T,e.get(S.parentId)):A&&(z=gl(z,A,T));const U={...S,measured:T,internals:{...S.internals,positionAbsolute:z,handleBounds:{source:fw("source",b.nodeElement,D,p,S.id),target:fw("target",b.nodeElement,D,p,S.id)}}};e.set(S.id,U),S.parentId&&z6(U,e,n,{nodeOrigin:i,zIndexMode:l}),h=!0,E&&(d.push({id:S.id,type:"dimensions",dimensions:T}),S.expandParent&&S.parentId&&y.push({id:S.id,parentId:S.parentId,rect:Fu(U,i)}))}}if(y.length>0){const b=q6(y,e,n,i);d.push(...b)}return{changes:d,updatedInternals:h}}async function DU({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function _w(t,e,n,r,i,o){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const h=r.get(l)||new Map;if(r.set(l,h.set(n,e)),o){l=`${i}-${t}-${o}`;const d=r.get(l)||new Map;r.set(l,d.set(n,e))}}function AN(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:l=null,targetHandle:c=null}=r,h={edgeId:r.id,source:i,target:o,sourceHandle:l,targetHandle:c},d=`${i}-${l}--${o}-${c}`,m=`${o}-${c}--${i}-${l}`;_w("source",h,m,t,i,l),_w("target",h,d,t,o,c),e.set(r.id,r)}}function CN(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:CN(n,e):!1}function bw(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function OU(t,e,n,r){const i=new Map;for(const[o,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!CN(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(o);c&&i.set(o,{id:o,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function Sg({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const h=n.get(l)?.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=n.get(t)?.internals.userNode;return[o?{...o,position:e.get(t)?.position||o.position,dragging:r}:i[0],i]}function zU({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},l=ah(o,e);return{x:l.x-o.x,y:l.y-o.y}}function qU({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},l=0,c=new Map,h=!1,d={x:0,y:0},m=null,p=!1,y=null,b=!1,S=!1,T=null;function E({noDragClassName:D,handleSelector:A,domNode:z,isSelectable:U,nodeId:L,nodeClickDistance:I=0}){y=Vr(z);function M({x:B,y:P}){const{nodeLookup:K,nodeExtent:te,snapGrid:$,snapToGrid:W,nodeOrigin:re,onNodeDrag:oe,onSelectionDrag:ye,onError:Y,updateNodePositions:ee}=e();o={x:B,y:P};let pe=!1;const Q=c.size>1,ie=Q&&te?O5(ih(c)):null,ue=Q&&W?zU({dragItems:c,snapGrid:$,x:B,y:P}):null;for(const[ge,be]of c){if(!K.has(ge))continue;let Ce={x:B-be.distance.x,y:P-be.distance.y};W&&(Ce=ue?{x:Math.round(Ce.x+ue.x),y:Math.round(Ce.y+ue.y)}:ah(Ce,$));let ze=null;if(Q&&te&&!be.extent&&ie){const{positionAbsolute:Pe}=be.internals,Ge=Pe.x-ie.x+te[0][0],Be=Pe.x+be.measured.width-ie.x2+te[1][0],rt=Pe.y-ie.y+te[0][1],$e=Pe.y+be.measured.height-ie.y2+te[1][1];ze=[[Ge,rt],[Be,$e]]}const{position:He,positionAbsolute:je}=hN({nodeId:ge,nextPosition:Ce,nodeLookup:K,nodeExtent:ze||te,nodeOrigin:re,onError:Y});pe=pe||be.position.x!==He.x||be.position.y!==He.y,be.position=He,be.internals.positionAbsolute=je}if(S=S||pe,!!pe&&(ee(c,!0),T&&(r||oe||!L&&ye))){const[ge,be]=Sg({nodeId:L,dragItems:c,nodeLookup:K});r?.(T,c,ge,be),oe?.(T,ge,be),L||ye?.(T,be)}}async function k(){if(!m)return;const{transform:B,panBy:P,autoPanSpeed:K,autoPanOnNodeDrag:te}=e();if(!te){h=!1,cancelAnimationFrame(l);return}const[$,W]=dN(d,m,K);($!==0||W!==0)&&(o.x=(o.x??0)-$/B[2],o.y=(o.y??0)-W/B[2],await P({x:$,y:W})&&M(o)),l=requestAnimationFrame(k)}function H(B){const{nodeLookup:P,multiSelectionActive:K,nodesDraggable:te,transform:$,snapGrid:W,snapToGrid:re,selectNodesOnDrag:oe,onNodeDragStart:ye,onSelectionDragStart:Y,unselectNodesAndEdges:ee}=e();p=!0,(!oe||!U)&&!K&&L&&(P.get(L)?.selected||ee()),U&&oe&&L&&t?.(L);const pe=A0(B.sourceEvent,{transform:$,snapGrid:W,snapToGrid:re,containerBounds:m});if(o=pe,c=OU(P,te,pe,L),c.size>0&&(n||ye||!L&&Y)){const[Q,ie]=Sg({nodeId:L,dragItems:c,nodeLookup:P});n?.(B.sourceEvent,c,Q,ie),ye?.(B.sourceEvent,Q,ie),L||Y?.(B.sourceEvent,ie)}}const q=FI().clickDistance(I).on("start",B=>{const{domNode:P,nodeDragThreshold:K,transform:te,snapGrid:$,snapToGrid:W}=e();m=P?.getBoundingClientRect()||null,b=!1,S=!1,T=B.sourceEvent,K===0&&H(B),o=A0(B.sourceEvent,{transform:te,snapGrid:$,snapToGrid:W,containerBounds:m}),d=ki(B.sourceEvent,m)}).on("drag",B=>{const{autoPanOnNodeDrag:P,transform:K,snapGrid:te,snapToGrid:$,nodeDragThreshold:W,nodeLookup:re}=e(),oe=A0(B.sourceEvent,{transform:K,snapGrid:te,snapToGrid:$,containerBounds:m});if(T=B.sourceEvent,(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||L&&!re.has(L))&&(b=!0),!b){if(!h&&P&&p&&(h=!0,k()),!p){const ye=ki(B.sourceEvent,m),Y=ye.x-d.x,ee=ye.y-d.y;Math.sqrt(Y*Y+ee*ee)>W&&H(B)}(o.x!==oe.xSnapped||o.y!==oe.ySnapped)&&c&&p&&(d=ki(B.sourceEvent,m),M(oe))}}).on("end",B=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:P,updateNodePositions:K,onNodeDragStop:te,onSelectionDragStop:$}=e();if(S&&(K(c,!1),S=!1),i||te||!L&&$){const[W,re]=Sg({nodeId:L,dragItems:c,nodeLookup:P,dragging:!1});i?.(B.sourceEvent,c,W,re),te?.(B.sourceEvent,W,re),L||$?.(B.sourceEvent,re)}}}).filter(B=>{const P=B.target;return!B.button&&(!D||!bw(P,`.${D}`,z))&&(!A||bw(P,A,z))});y.call(q)}function C(){y?.on(".drag",null)}return{update:E,destroy:C}}function VU(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())U0(i,Fu(o))>0&&r.push(o);return r}const LU=250;function PU(t,e,n,r){let i=[],o=1/0;const l=VU(t,n,e+LU);for(const c of l){const h=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const d of h){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:m,y:p}=vl(c,d,d.position,!0),y=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(p-t.y,2));y>e||(y<o?(i=[{...d,x:m,y:p}],o=y):y===o&&i.push({...d,x:m,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(h=>h.type===c)??i[0]}return i[0]}function RN(t,e,n,r,i,o=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],h=(n?c?.find(d=>d.id===n):c?.[0])??null;return h&&o?{...h,...vl(l,h,h.position,!0)}:h}function IN(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function BU(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const NN=()=>!0;function UU(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:l,domNode:c,nodeLookup:h,lib:d,autoPanOnConnect:m,flowId:p,panBy:y,cancelConnection:b,onConnectStart:S,onConnect:T,onConnectEnd:E,isValidConnection:C=NN,onReconnectEnd:D,updateConnection:A,getTransform:z,getFromHandle:U,autoPanSpeed:L,dragThreshold:I=1,handleDomNode:M}){const k=vN(t.target);let H=0,q;const{x:B,y:P}=ki(t),K=IN(o,M),te=c?.getBoundingClientRect();let $=!1;if(!te||!K)return;const W=RN(i,K,r,h,e);if(!W)return;let re=ki(t,te),oe=!1,ye=null,Y=!1,ee=null;function pe(){if(!m||!te)return;const[He,je]=dN(re,te,L);y({x:He,y:je}),H=requestAnimationFrame(pe)}const Q={...W,nodeId:i,type:K,position:W.position},ie=h.get(i);let ge={inProgress:!0,isValid:null,from:vl(ie,Q,Ye.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:re,toHandle:null,toPosition:lw[Q.position],toNode:null,pointer:re};function be(){$=!0,A(ge),S?.(t,{nodeId:i,handleId:r,handleType:K})}I===0&&be();function Ce(He){if(!$){const{x:$e,y:Bt}=ki(He),st=$e-B,Nt=Bt-P;if(!(st*st+Nt*Nt>I*I))return;be()}if(!U()||!Q){ze(He);return}const je=z();re=ki(He,te),q=PU(sh(re,je,!1,[1,1]),n,h,Q),oe||(pe(),oe=!0);const Pe=MN(He,{handle:q,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:C,doc:k,lib:d,flowId:p,nodeLookup:h});ee=Pe.handleDomNode,ye=Pe.connection,Y=BU(!!q,Pe.isValid);const Ge=h.get(i),Be=Ge?vl(Ge,Q,Ye.Left,!0):ge.from,rt={...ge,from:Be,isValid:Y,to:Pe.toHandle&&Y?jd({x:Pe.toHandle.x,y:Pe.toHandle.y},je):re,toHandle:Pe.toHandle,toPosition:Y&&Pe.toHandle?Pe.toHandle.position:lw[Q.position],toNode:Pe.toHandle?h.get(Pe.toHandle.nodeId):null,pointer:re};A(rt),ge=rt}function ze(He){if(!("touches"in He&&He.touches.length>0)){if($){(q||ee)&&ye&&Y&&T?.(ye);const{inProgress:je,...Pe}=ge,Ge={...Pe,toPosition:ge.toHandle?ge.toPosition:null};E?.(He,Ge),o&&D?.(He,Ge)}b(),cancelAnimationFrame(H),oe=!1,Y=!1,ye=null,ee=null,k.removeEventListener("mousemove",Ce),k.removeEventListener("mouseup",ze),k.removeEventListener("touchmove",Ce),k.removeEventListener("touchend",ze)}}k.addEventListener("mousemove",Ce),k.addEventListener("mouseup",ze),k.addEventListener("touchmove",Ce),k.addEventListener("touchend",ze)}function MN(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:l,lib:c,flowId:h,isValidConnection:d=NN,nodeLookup:m}){const p=o==="target",y=e?l.querySelector(`.${c}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:b,y:S}=ki(t),T=l.elementFromPoint(b,S),E=T?.classList.contains(`${c}-flow__handle`)?T:y,C={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const D=IN(void 0,E),A=E.getAttribute("data-nodeid"),z=E.getAttribute("data-handleid"),U=E.classList.contains("connectable"),L=E.classList.contains("connectableend");if(!A||!D)return C;const I={source:p?A:r,sourceHandle:p?z:i,target:p?r:A,targetHandle:p?i:z};C.connection=I;const k=U&&L&&(n===ju.Strict?p&&D==="source"||!p&&D==="target":A!==r||z!==i);C.isValid=k&&d(I),C.toHandle=RN(A,D,z,m,n,!0)}return C}const L5={onPointerDown:UU,isValid:MN};function jU({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Vr(t);function o({translateExtent:c,width:h,height:d,zoomStep:m=1,pannable:p=!0,zoomable:y=!0,inversePan:b=!1}){const S=A=>{if(A.sourceEvent.type!=="wheel"||!e)return;const z=n(),U=A.sourceEvent.ctrlKey&&j0()?10:1,L=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*m,I=z[2]*Math.pow(2,L*U);e.scaleTo(I)};let T=[0,0];const E=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(T=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const z=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!e)return;const U=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],L=[U[0]-T[0],U[1]-T[1]];T=U;const I=r()*Math.max(z[2],Math.log(z[2]))*(b?-1:1),M={x:z[0]-L[0]*I,y:z[1]-L[1]*I},k=[[0,0],[h,d]];e.setViewportConstrained({x:M.x,y:M.y,zoom:z[2]},k,c)},D=aN().on("start",E).on("zoom",p?C:null).on("zoom.wheel",y?S:null);i.call(D,{})}function l(){i.on("zoom",null)}return{update:o,destroy:l,pointer:Ci}}const Em=t=>({x:t.x,y:t.y,zoom:t.k}),xg=({x:t,y:e,zoom:n})=>wm.translate(t,e).scale(n),Nu=(t,e)=>t.target.closest(`.${e}`),kN=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),HU=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Eg=(t,e=0,n=HU,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},DN=t=>{const e=t.ctrlKey&&j0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function FU({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:h,onPanZoomEnd:d}){return m=>{if(Nu(m,e))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const E=Ci(m),C=DN(m),D=p*Math.pow(2,C);r.scaleTo(n,D,E,m);return}const y=m.deltaMode===1?20:1;let b=i===hl.Vertical?0:m.deltaX*y,S=i===hl.Horizontal?0:m.deltaY*y;!j0()&&m.shiftKey&&i!==hl.Vertical&&(b=m.deltaY*y,S=0),r.translateBy(n,-(b/p)*o,-(S/p)*o,{internal:!0});const T=Em(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(m,T),t.panScrollTimeout=setTimeout(()=>{d?.(m,T),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(m,T))}}function GU({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",l=!e&&o&&!r.ctrlKey,c=Nu(r,t);if(r.ctrlKey&&o&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function $U({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Em(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function YU({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{t.usedRightMouseButton=!!(n&&kN(e,t.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,Em(o.transform))}}function XU({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,o&&kN(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&o(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=Em(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function KU({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:l,noWheelClassName:c,noPanClassName:h,lib:d,connectionInProgress:m}){return p=>{const y=t||e,b=n&&p.ctrlKey,S=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Nu(p,`${d}-flow__node`)||Nu(p,`${d}-flow__edge`)))return!0;if(!r&&!y&&!i&&!o&&!n||l||m&&!S||Nu(p,c)&&S||Nu(p,h)&&(!S||i&&S&&!t)||!n&&p.ctrlKey&&S)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!y&&!i&&!b&&S||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const T=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||S)&&T}}function QU({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:h}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=aN().scaleExtent([e,n]).translateExtent(r),y=Vr(t).call(p);D({x:i.x,y:i.y,zoom:Hu(i.zoom,e,n)},[[0,0],[m.width,m.height]],r);const b=y.on("wheel.zoom"),S=y.on("dblclick.zoom");p.wheelDelta(DN);function T(q,B){return y?new Promise(P=>{p?.interpolate(B?.interpolate==="linear"?T0:vd).transform(Eg(y,B?.duration,B?.ease,()=>P(!0)),q)}):Promise.resolve(!1)}function E({noWheelClassName:q,noPanClassName:B,onPaneContextMenu:P,userSelectionActive:K,panOnScroll:te,panOnDrag:$,panOnScrollMode:W,panOnScrollSpeed:re,preventScrolling:oe,zoomOnPinch:ye,zoomOnScroll:Y,zoomOnDoubleClick:ee,zoomActivationKeyPressed:pe,lib:Q,onTransformChange:ie,connectionInProgress:ue,paneClickDistance:ge,selectionOnDrag:be}){K&&!d.isZoomingOrPanning&&C();const Ce=te&&!pe&&!K;p.clickDistance(be?1/0:!Mi(ge)||ge<0?0:ge);const ze=Ce?FU({zoomPanValues:d,noWheelClassName:q,d3Selection:y,d3Zoom:p,panOnScrollMode:W,panOnScrollSpeed:re,zoomOnPinch:ye,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):GU({noWheelClassName:q,preventScrolling:oe,d3ZoomHandler:b});if(y.on("wheel.zoom",ze,{passive:!1}),!K){const je=$U({zoomPanValues:d,onDraggingChange:h,onPanZoomStart:l});p.on("start",je);const Pe=YU({zoomPanValues:d,panOnDrag:$,onPaneContextMenu:!!P,onPanZoom:o,onTransformChange:ie});p.on("zoom",Pe);const Ge=XU({zoomPanValues:d,panOnDrag:$,panOnScroll:te,onPaneContextMenu:P,onPanZoomEnd:c,onDraggingChange:h});p.on("end",Ge)}const He=KU({zoomActivationKeyPressed:pe,panOnDrag:$,zoomOnScroll:Y,panOnScroll:te,zoomOnDoubleClick:ee,zoomOnPinch:ye,userSelectionActive:K,noPanClassName:B,noWheelClassName:q,lib:Q,connectionInProgress:ue});p.filter(He),ee?y.on("dblclick.zoom",S):y.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function D(q,B,P){const K=xg(q),te=p?.constrain()(K,B,P);return te&&await T(te),new Promise($=>$(te))}async function A(q,B){const P=xg(q);return await T(P,B),new Promise(K=>K(P))}function z(q){if(y){const B=xg(q),P=y.property("__zoom");(P.k!==q.zoom||P.x!==q.x||P.y!==q.y)&&p?.transform(y,B,null,{sync:!0})}}function U(){const q=y?iN(y.node()):{x:0,y:0,k:1};return{x:q.x,y:q.y,zoom:q.k}}function L(q,B){return y?new Promise(P=>{p?.interpolate(B?.interpolate==="linear"?T0:vd).scaleTo(Eg(y,B?.duration,B?.ease,()=>P(!0)),q)}):Promise.resolve(!1)}function I(q,B){return y?new Promise(P=>{p?.interpolate(B?.interpolate==="linear"?T0:vd).scaleBy(Eg(y,B?.duration,B?.ease,()=>P(!0)),q)}):Promise.resolve(!1)}function M(q){p?.scaleExtent(q)}function k(q){p?.translateExtent(q)}function H(q){const B=!Mi(q)||q<0?0:q;p?.clickDistance(B)}return{update:E,destroy:C,setViewport:A,setViewportConstrained:D,getViewport:U,scaleTo:L,scaleBy:I,setScaleExtent:M,setTranslateExtent:k,syncViewport:z,setClickDistance:H}}var $u;(function(t){t.Line="line",t.Handle="handle"})($u||($u={}));function ZU({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const l=t-e,c=n-r,h=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(h[0]=h[0]*-1),c&&o&&(h[1]=h[1]*-1),h}function ww(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ks(t,e){return Math.max(0,e-t)}function Qs(t,e){return Math.max(0,t-e)}function Zf(t,e,n){return Math.max(0,e-t,t-n)}function Sw(t,e){return t?!e:e}function WU(t,e,n,r,i,o,l,c){let{affectsX:h,affectsY:d}=e;const{isHorizontal:m,isVertical:p}=e,y=m&&p,{xSnapped:b,ySnapped:S}=n,{minWidth:T,maxWidth:E,minHeight:C,maxHeight:D}=r,{x:A,y:z,width:U,height:L,aspectRatio:I}=t;let M=Math.floor(m?b-t.pointerX:0),k=Math.floor(p?S-t.pointerY:0);const H=U+(h?-M:M),q=L+(d?-k:k),B=-o[0]*U,P=-o[1]*L;let K=Zf(H,T,E),te=Zf(q,C,D);if(l){let re=0,oe=0;h&&M<0?re=Ks(A+M+B,l[0][0]):!h&&M>0&&(re=Qs(A+H+B,l[1][0])),d&&k<0?oe=Ks(z+k+P,l[0][1]):!d&&k>0&&(oe=Qs(z+q+P,l[1][1])),K=Math.max(K,re),te=Math.max(te,oe)}if(c){let re=0,oe=0;h&&M>0?re=Qs(A+M,c[0][0]):!h&&M<0&&(re=Ks(A+H,c[1][0])),d&&k>0?oe=Qs(z+k,c[0][1]):!d&&k<0&&(oe=Ks(z+q,c[1][1])),K=Math.max(K,re),te=Math.max(te,oe)}if(i){if(m){const re=Zf(H/I,C,D)*I;if(K=Math.max(K,re),l){let oe=0;!h&&!d||h&&!d&&y?oe=Qs(z+P+H/I,l[1][1])*I:oe=Ks(z+P+(h?M:-M)/I,l[0][1])*I,K=Math.max(K,oe)}if(c){let oe=0;!h&&!d||h&&!d&&y?oe=Ks(z+H/I,c[1][1])*I:oe=Qs(z+(h?M:-M)/I,c[0][1])*I,K=Math.max(K,oe)}}if(p){const re=Zf(q*I,T,E)/I;if(te=Math.max(te,re),l){let oe=0;!h&&!d||d&&!h&&y?oe=Qs(A+q*I+B,l[1][0])/I:oe=Ks(A+(d?k:-k)*I+B,l[0][0])/I,te=Math.max(te,oe)}if(c){let oe=0;!h&&!d||d&&!h&&y?oe=Ks(A+q*I,c[1][0])/I:oe=Qs(A+(d?k:-k)*I,c[0][0])/I,te=Math.max(te,oe)}}}k=k+(k<0?te:-te),M=M+(M<0?K:-K),i&&(y?H>q*I?k=(Sw(h,d)?-M:M)/I:M=(Sw(h,d)?-k:k)*I:m?(k=M/I,d=h):(M=k*I,h=d));const $=h?A+M:A,W=d?z+k:z;return{width:U+(h?-M:M),height:L+(d?-k:k),x:o[0]*M*(h?-1:1)+$,y:o[1]*k*(d?-1:1)+W}}const ON={width:0,height:0,x:0,y:0},JU={...ON,pointerX:0,pointerY:0,aspectRatio:1};function ej(t){return[[0,0],[t.measured.width,t.measured.height]]}function tj(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,l=t.measured.height??0,c=n[0]*o,h=n[1]*l;return[[r-c,i-h],[r+o-c,i+l-h]]}function nj({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Vr(t);let l={controlDirection:ww("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:d,boundaries:m,keepAspectRatio:p,resizeDirection:y,onResizeStart:b,onResize:S,onResizeEnd:T,shouldResize:E}){let C={...ON},D={...JU};l={boundaries:m,resizeDirection:y,keepAspectRatio:p,controlDirection:ww(d)};let A,z=null,U=[],L,I,M,k=!1;const H=FI().on("start",q=>{const{nodeLookup:B,transform:P,snapGrid:K,snapToGrid:te,nodeOrigin:$,paneDomNode:W}=n();if(A=B.get(e),!A)return;z=W?.getBoundingClientRect()??null;const{xSnapped:re,ySnapped:oe}=A0(q.sourceEvent,{transform:P,snapGrid:K,snapToGrid:te,containerBounds:z});C={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},D={...C,pointerX:re,pointerY:oe,aspectRatio:C.width/C.height},L=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(L=B.get(A.parentId),I=L&&A.extent==="parent"?ej(L):void 0),U=[],M=void 0;for(const[ye,Y]of B)if(Y.parentId===e&&(U.push({id:ye,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const ee=tj(Y,A,Y.origin??$);M?M=[[Math.min(ee[0][0],M[0][0]),Math.min(ee[0][1],M[0][1])],[Math.max(ee[1][0],M[1][0]),Math.max(ee[1][1],M[1][1])]]:M=ee}b?.(q,{...C})}).on("drag",q=>{const{transform:B,snapGrid:P,snapToGrid:K,nodeOrigin:te}=n(),$=A0(q.sourceEvent,{transform:B,snapGrid:P,snapToGrid:K,containerBounds:z}),W=[];if(!A)return;const{x:re,y:oe,width:ye,height:Y}=C,ee={},pe=A.origin??te,{width:Q,height:ie,x:ue,y:ge}=WU(D,l.controlDirection,$,l.boundaries,l.keepAspectRatio,pe,I,M),be=Q!==ye,Ce=ie!==Y,ze=ue!==re&&be,He=ge!==oe&&Ce;if(!ze&&!He&&!be&&!Ce)return;if((ze||He||pe[0]===1||pe[1]===1)&&(ee.x=ze?ue:C.x,ee.y=He?ge:C.y,C.x=ee.x,C.y=ee.y,U.length>0)){const Be=ue-re,rt=ge-oe;for(const $e of U)$e.position={x:$e.position.x-Be+pe[0]*(Q-ye),y:$e.position.y-rt+pe[1]*(ie-Y)},W.push($e)}if((be||Ce)&&(ee.width=be&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Q:C.width,ee.height=Ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ie:C.height,C.width=ee.width,C.height=ee.height),L&&A.expandParent){const Be=pe[0]*(ee.width??0);ee.x&&ee.x<Be&&(C.x=Be,D.x=D.x-(ee.x-Be));const rt=pe[1]*(ee.height??0);ee.y&&ee.y<rt&&(C.y=rt,D.y=D.y-(ee.y-rt))}const je=ZU({width:C.width,prevWidth:ye,height:C.height,prevHeight:Y,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Pe={...C,direction:je};E?.(q,Pe)!==!1&&(k=!0,S?.(q,Pe),r(ee,W))}).on("end",q=>{k&&(T?.(q,{...C}),i?.({...C}),k=!1)});o.call(H)}function h(){o.on(".drag",null)}return{update:c,destroy:h}}var Tg={exports:{}},Ag={},Cg={exports:{}},Rg={};var xw;function rj(){if(xw)return Rg;xw=1;var t=eh();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(p,y){var b=y(),S=r({inst:{value:b,getSnapshot:y}}),T=S[0].inst,E=S[1];return o(function(){T.value=b,T.getSnapshot=y,h(T)&&E({inst:T})},[p,b,y]),i(function(){return h(T)&&E({inst:T}),p(function(){h(T)&&E({inst:T})})},[p]),l(b),b}function h(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function d(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Rg}var Ew;function ij(){return Ew||(Ew=1,Cg.exports=rj()),Cg.exports}var Tw;function aj(){if(Tw)return Ag;Tw=1;var t=eh(),e=ij();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Ag.useSyncExternalStoreWithSelector=function(d,m,p,y,b){var S=o(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=c(function(){function C(L){if(!D){if(D=!0,A=L,L=y(L),b!==void 0&&T.hasValue){var I=T.value;if(b(I,L))return z=I}return z=L}if(I=z,r(A,L))return I;var M=y(L);return b!==void 0&&b(I,M)?(A=L,I):(A=L,z=M)}var D=!1,A,z,U=p===void 0?null:p;return[function(){return C(m())},U===null?void 0:function(){return C(U())}]},[m,p,y,b]);var E=i(d,S[0],S[1]);return l(function(){T.hasValue=!0,T.value=E},[E]),h(E),E},Ag}var Aw;function sj(){return Aw||(Aw=1,Tg.exports=aj()),Tg.exports}var oj=sj();const lj=gm(oj),uj={},Cw=t=>{let e;const n=new Set,r=(m,p)=>{const y=typeof m=="function"?m(e):m;if(!Object.is(y,e)){const b=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(S=>S(e,b))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(uj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,i,h);return h},cj=t=>t?Cw(t):Cw,{useDebugValue:hj}=RI,{useSyncExternalStoreWithSelector:fj}=lj,dj=t=>t;function zN(t,e=dj,n){const r=fj(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return hj(r),r}const Rw=(t,e)=>{const n=cj(t),r=(i,o=e)=>zN(n,i,o);return Object.assign(r,n),r},mj=(t,e)=>t?Rw(t,e):Rw;function Qt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}II();const Tm=ce.createContext(null),pj=Tm.Provider,qN=ha.error001();function wt(t,e){const n=ce.useContext(Tm);if(n===null)throw new Error(qN);return zN(n,t,e)}function Zt(){const t=ce.useContext(Tm);if(t===null)throw new Error(qN);return ce.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Iw={display:"none"},gj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},VN="react-flow__node-desc",LN="react-flow__edge-desc",vj="react-flow__aria-live",yj=t=>t.ariaLiveMessage,_j=t=>t.ariaLabelConfig;function bj({rfId:t}){const e=wt(yj);return j.jsx("div",{id:`${vj}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:gj,children:e})}function wj({rfId:t,disableKeyboardA11y:e}){const n=wt(_j);return j.jsxs(j.Fragment,{children:[j.jsx("div",{id:`${VN}-${t}`,style:Iw,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),j.jsx("div",{id:`${LN}-${t}`,style:Iw,children:n["edge.a11yDescription.default"]}),!e&&j.jsx(bj,{rfId:t})]})}const Am=ce.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const l=`${t}`.split("-");return j.jsx("div",{className:Rn(["react-flow__panel",n,...l]),style:r,ref:o,...i,children:e})});Am.displayName="Panel";function Sj({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:j.jsx(Am,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:j.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const xj=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Wf=t=>t.id;function Ej(t,e){return Qt(t.selectedNodes.map(Wf),e.selectedNodes.map(Wf))&&Qt(t.selectedEdges.map(Wf),e.selectedEdges.map(Wf))}function Tj({onSelectionChange:t}){const e=Zt(),{selectedNodes:n,selectedEdges:r}=wt(xj,Ej);return ce.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const Aj=t=>!!t.onSelectionChangeHandlers;function Cj({onSelectionChange:t}){const e=wt(Aj);return t||e?j.jsx(Tj,{onSelectionChange:t}):null}const PN=[0,0],Rj={x:0,y:0,zoom:1},Ij=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Nw=[...Ij,"rfId"],Nj=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Mw={translateExtent:L0,nodeOrigin:PN,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Mj(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:h}=wt(Nj,Qt),d=Zt();ce.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{m.current=Mw,c()}),[]);const m=ce.useRef(Mw);return ce.useEffect(()=>{for(const p of Nw){const y=t[p],b=m.current[p];y!==b&&(typeof t[p]>"u"||(p==="nodes"?e(y):p==="edges"?n(y):p==="minZoom"?r(y):p==="maxZoom"?i(y):p==="translateExtent"?o(y):p==="nodeExtent"?l(y):p==="ariaLabelConfig"?d.setState({ariaLabelConfig:mU(y)}):p==="fitView"?d.setState({fitViewQueued:y}):p==="fitViewOptions"?d.setState({fitViewOptions:y}):d.setState({[p]:y})))}m.current=t},Nw.map(p=>t[p])),null}function kw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function kj(t){const[e,n]=ce.useState(t==="system"?null:t);return ce.useEffect(()=>{if(t!=="system"){n(t);return}const r=kw(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:kw()?.matches?"dark":"light"}const Dw=typeof document<"u"?document:null;function H0(t=null,e={target:Dw,actInsideInputWithModifier:!0}){const[n,r]=ce.useState(!1),i=ce.useRef(!1),o=ce.useRef(new Set([])),[l,c]=ce.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=d.reduce((p,y)=>p.concat(...y),[]);return[d,m]}return[[],[]]},[t]);return ce.useEffect(()=>{const h=e?.target??Dw,d=e?.actInsideInputWithModifier??!0;if(t!==null){const m=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!d)&&yN(b))return!1;const T=zw(b.code,c);if(o.current.add(b[T]),Ow(l,o.current,!1)){const E=b.composedPath?.()?.[0]||b.target,C=E?.nodeName==="BUTTON"||E?.nodeName==="A";e.preventDefault!==!1&&(i.current||!C)&&b.preventDefault(),r(!0)}},p=b=>{const S=zw(b.code,c);Ow(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[S]),b.key==="Meta"&&o.current.clear(),i.current=!1},y=()=>{o.current.clear(),r(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",p),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",p),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[t,r]),n}function Ow(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function zw(t,e){return e.includes(t)?"code":"key"}const Dj=()=>{const t=Zt();return ce.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:l,panZoom:c}=t.getState(),h=N6(e,r,i,o,l,n?.padding??.1);return c?(await c.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:l}=t.getState();if(!l)return e;const{x:c,y:h}=l.getBoundingClientRect(),d={x:e.x-c,y:e.y-h},m=n.snapGrid??i,p=n.snapToGrid??o;return sh(d,r,p,m)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),l=jd(e,n);return{x:l.x+i,y:l.y+o}}}),[])};function BN(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const l=r.get(o.id);l?l.push(o):r.set(o.id,[o])}for(const o of e){const l=r.get(o.id);if(!l){n.push(o);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...o};for(const h of l)Oj(h,c);n.push(c)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Oj(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function UN(t,e){return BN(t,e)}function jN(t,e){return BN(t,e)}function il(t,e){return{id:t,type:"select",selected:e}}function Mu(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const l=e.has(i);!(o.selected===void 0&&!l)&&o.selected!==l&&(n&&(o.selected=l),r.push(il(o.id,l)))}return r}function qw({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,o]of t.entries()){const l=e.get(o.id),c=l?.internals?.userNode??l;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Vw(t){return{id:t.id,type:"remove"}}const Lw=t=>iU(t),zj=t=>cN(t);function HN(t){return ce.forwardRef(t)}const qj=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function Pw(t){const[e,n]=ce.useState(BigInt(0)),[r]=ce.useState(()=>Vj(()=>n(i=>i+BigInt(1))));return qj(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Vj(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const FN=ce.createContext(null);function Lj({children:t}){const e=Zt(),n=ce.useCallback(c=>{const{nodes:h=[],setNodes:d,hasDefaultNodes:m,onNodesChange:p,nodeLookup:y,fitViewQueued:b,onNodesChangeMiddlewareMap:S}=e.getState();let T=h;for(const C of c)T=typeof C=="function"?C(T):C;let E=qw({items:T,lookup:y});for(const C of S.values())E=C(E);m&&d(T),E.length>0?p?.(E):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:D,setNodes:A}=e.getState();C&&A(D)})},[]),r=Pw(n),i=ce.useCallback(c=>{const{edges:h=[],setEdges:d,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:y}=e.getState();let b=h;for(const S of c)b=typeof S=="function"?S(b):S;m?d(b):p&&p(qw({items:b,lookup:y}))},[]),o=Pw(i),l=ce.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return j.jsx(FN.Provider,{value:l,children:t})}function Pj(){const t=ce.useContext(FN);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Bj=t=>!!t.panZoom;function V6(){const t=Dj(),e=Zt(),n=Pj(),r=wt(Bj),i=ce.useMemo(()=>{const o=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},h=p=>{const{nodeLookup:y,nodeOrigin:b}=e.getState(),S=Lw(p)?p:y.get(p.id),T=S.parentId?gN(S.position,S.measured,S.parentId,y,b):S.position,E={...S,position:T,width:S.measured?.width??S.width,height:S.measured?.height??S.height};return Fu(E)},d=(p,y,b={replace:!1})=>{l(S=>S.map(T=>{if(T.id===p){const E=typeof y=="function"?y(T):y;return b.replace&&Lw(E)?E:{...T,...E}}return T}))},m=(p,y,b={replace:!1})=>{c(S=>S.map(T=>{if(T.id===p){const E=typeof y=="function"?y(T):y;return b.replace&&zj(E)?E:{...T,...E}}return T}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>o(p)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(y=>({...y}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const y=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...y])},addEdges:p=>{const y=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...y])},toObject:()=>{const{nodes:p=[],edges:y=[],transform:b}=e.getState(),[S,T,E]=b;return{nodes:p.map(C=>({...C})),edges:y.map(C=>({...C})),viewport:{x:S,y:T,zoom:E}}},deleteElements:async({nodes:p=[],edges:y=[]})=>{const{nodes:b,edges:S,onNodesDelete:T,onEdgesDelete:E,triggerNodeChanges:C,triggerEdgeChanges:D,onDelete:A,onBeforeDelete:z}=e.getState(),{nodes:U,edges:L}=await uU({nodesToRemove:p,edgesToRemove:y,nodes:b,edges:S,onBeforeDelete:z}),I=L.length>0,M=U.length>0;if(I){const k=L.map(Vw);E?.(L),D(k)}if(M){const k=U.map(Vw);T?.(U),C(k)}return(M||I)&&A?.({nodes:U,edges:L}),{deletedNodes:U,deletedEdges:L}},getIntersectingNodes:(p,y=!0,b)=>{const S=cw(p),T=S?p:h(p),E=b!==void 0;return T?(b||e.getState().nodes).filter(C=>{const D=e.getState().nodeLookup.get(C.id);if(D&&!S&&(C.id===p.id||!D.internals.positionAbsolute))return!1;const A=Fu(E?C:D),z=U0(A,T);return y&&z>0||z>=A.width*A.height||z>=T.width*T.height}):[]},isNodeIntersecting:(p,y,b=!0)=>{const T=cw(p)?p:h(p);if(!T)return!1;const E=U0(T,y);return b&&E>0||E>=y.width*y.height||E>=T.width*T.height},updateNode:d,updateNodeData:(p,y,b={replace:!1})=>{d(p,S=>{const T=typeof y=="function"?y(S):y;return b.replace?{...S,data:T}:{...S,data:{...S.data,...T}}},b)},updateEdge:m,updateEdgeData:(p,y,b={replace:!1})=>{m(p,S=>{const T=typeof y=="function"?y(S):y;return b.replace?{...S,data:T}:{...S,data:{...S.data,...T}}},b)},getNodesBounds:p=>{const{nodeLookup:y,nodeOrigin:b}=e.getState();return aU(p,{nodeLookup:y,nodeOrigin:b})},getHandleConnections:({type:p,id:y,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}-${p}${y?`-${y}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:y,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}${p?y?`-${p}-${y}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const y=e.getState().fitViewResolver??dU();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:y}),n.nodeQueue.push(b=>[...b]),y.promise}}},[]);return ce.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const Bw=t=>t.selected,Uj=typeof window<"u"?window:void 0;function jj({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Zt(),{deleteElements:r}=V6(),i=H0(t,{actInsideInputWithModifier:!1}),o=H0(e,{target:Uj});ce.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(Bw),edges:l.filter(Bw)}),n.setState({nodesSelectionActive:!1})}},[i]),ce.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Hj(t){const e=Zt();ce.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=M6(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",ha.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Cm={position:"absolute",width:"100%",height:"100%",top:0,left:0},Fj=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function Gj({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=hl.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:h,translateExtent:d,minZoom:m,maxZoom:p,zoomActivationKeyCode:y,preventScrolling:b=!0,children:S,noWheelClassName:T,noPanClassName:E,onViewportChange:C,isControlledViewport:D,paneClickDistance:A,selectionOnDrag:z}){const U=Zt(),L=ce.useRef(null),{userSelectionActive:I,lib:M,connectionInProgress:k}=wt(Fj,Qt),H=H0(y),q=ce.useRef();Hj(L);const B=ce.useCallback(P=>{C?.({x:P[0],y:P[1],zoom:P[2]}),D||U.setState({transform:P})},[C,D]);return ce.useEffect(()=>{if(L.current){q.current=QU({domNode:L.current,minZoom:m,maxZoom:p,translateExtent:d,viewport:h,onDraggingChange:$=>U.setState({paneDragging:$}),onPanZoomStart:($,W)=>{const{onViewportChangeStart:re,onMoveStart:oe}=U.getState();oe?.($,W),re?.(W)},onPanZoom:($,W)=>{const{onViewportChange:re,onMove:oe}=U.getState();oe?.($,W),re?.(W)},onPanZoomEnd:($,W)=>{const{onViewportChangeEnd:re,onMoveEnd:oe}=U.getState();oe?.($,W),re?.(W)}});const{x:P,y:K,zoom:te}=q.current.getViewport();return U.setState({panZoom:q.current,transform:[P,K,te],domNode:L.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),ce.useEffect(()=>{q.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:E,userSelectionActive:I,noWheelClassName:T,lib:M,onTransformChange:B,connectionInProgress:k,selectionOnDrag:z,paneClickDistance:A})},[t,e,n,r,i,o,l,c,H,b,E,I,T,M,B,k,z,A]),j.jsx("div",{className:"react-flow__renderer",ref:L,style:Cm,children:S})}const $j=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Yj(){const{userSelectionActive:t,userSelectionRect:e}=wt($j,Qt);return t&&e?j.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Ig=(t,e)=>n=>{n.target===e.current&&t?.(n)},Xj=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function Kj({isSelecting:t,selectionKeyPressed:e,selectionMode:n=P0.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:c,onPaneClick:h,onPaneContextMenu:d,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:y,onPaneMouseLeave:b,children:S}){const T=Zt(),{userSelectionActive:E,elementsSelectable:C,dragging:D,connectionInProgress:A}=wt(Xj,Qt),z=C&&(t||E),U=ce.useRef(null),L=ce.useRef(),I=ce.useRef(new Set),M=ce.useRef(new Set),k=ce.useRef(!1),H=re=>{if(k.current||A){k.current=!1;return}h?.(re),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},q=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}d?.(re)},B=m?re=>m(re):void 0,P=re=>{k.current&&(re.stopPropagation(),k.current=!1)},K=re=>{const{domNode:oe}=T.getState();if(L.current=oe?.getBoundingClientRect(),!L.current)return;const ye=re.target===U.current;if(!ye&&!!re.target.closest(".nokey")||!t||!(o&&ye||e)||re.button!==0||!re.isPrimary)return;re.target?.setPointerCapture?.(re.pointerId),k.current=!1;const{x:pe,y:Q}=ki(re.nativeEvent,L.current);T.setState({userSelectionRect:{width:0,height:0,startX:pe,startY:Q,x:pe,y:Q}}),ye||(re.stopPropagation(),re.preventDefault())},te=re=>{const{userSelectionRect:oe,transform:ye,nodeLookup:Y,edgeLookup:ee,connectionLookup:pe,triggerNodeChanges:Q,triggerEdgeChanges:ie,defaultEdgeOptions:ue,resetSelectedElements:ge}=T.getState();if(!L.current||!oe)return;const{x:be,y:Ce}=ki(re.nativeEvent,L.current),{startX:ze,startY:He}=oe;if(!k.current){const rt=e?0:i;if(Math.hypot(be-ze,Ce-He)<=rt)return;ge(),l?.(re)}k.current=!0;const je={startX:ze,startY:He,x:be<ze?be:ze,y:Ce<He?Ce:He,width:Math.abs(be-ze),height:Math.abs(Ce-He)},Pe=I.current,Ge=M.current;I.current=new Set(I6(Y,je,ye,n===P0.Partial,!0).map(rt=>rt.id)),M.current=new Set;const Be=ue?.selectable??!0;for(const rt of I.current){const $e=pe.get(rt);if($e)for(const{edgeId:Bt}of $e.values()){const st=ee.get(Bt);st&&(st.selectable??Be)&&M.current.add(Bt)}}if(!hw(Pe,I.current)){const rt=Mu(Y,I.current,!0);Q(rt)}if(!hw(Ge,M.current)){const rt=Mu(ee,M.current);ie(rt)}T.setState({userSelectionRect:je,userSelectionActive:!0,nodesSelectionActive:!1})},$=re=>{re.button===0&&(re.target?.releasePointerCapture?.(re.pointerId),!E&&re.target===U.current&&T.getState().userSelectionRect&&H?.(re),T.setState({userSelectionActive:!1,userSelectionRect:null}),k.current&&(c?.(re),T.setState({nodesSelectionActive:I.current.size>0})))},W=r===!0||Array.isArray(r)&&r.includes(0);return j.jsxs("div",{className:Rn(["react-flow__pane",{draggable:W,dragging:D,selection:t}]),onClick:z?void 0:Ig(H,U),onContextMenu:Ig(q,U),onWheel:Ig(B,U),onPointerEnter:z?void 0:p,onPointerMove:z?te:y,onPointerUp:z?$:void 0,onPointerDownCapture:z?K:void 0,onClickCapture:z?P:void 0,onPointerLeave:b,ref:U,style:Cm,children:[S,j.jsx(Yj,{})]})}function P5({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:l,nodeLookup:c,onError:h}=e.getState(),d=c.get(t);if(!d){h?.("012",ha.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&l)&&(o({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function GN({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:l}){const c=Zt(),[h,d]=ce.useState(!1),m=ce.useRef();return ce.useEffect(()=>{m.current=qU({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{P5({id:p,store:c,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),ce.useEffect(()=>{if(e)m.current?.destroy();else if(t.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,e,o,t,i]),h}const Qj=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function $N(){const t=Zt();return ce.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:l,onError:c,updateNodePositions:h,nodeLookup:d,nodeOrigin:m}=t.getState(),p=new Map,y=Qj(l),b=i?o[0]:5,S=i?o[1]:5,T=n.direction.x*b*n.factor,E=n.direction.y*S*n.factor;for(const[,C]of d){if(!y(C))continue;let D={x:C.internals.positionAbsolute.x+T,y:C.internals.positionAbsolute.y+E};i&&(D=ah(D,o));const{position:A,positionAbsolute:z}=hN({nodeId:C.id,nextPosition:D,nodeLookup:d,nodeExtent:r,nodeOrigin:m,onError:c});C.position=A,C.internals.positionAbsolute=z,p.set(C.id,C)}h(p)},[])}const L6=ce.createContext(null),Zj=L6.Provider;L6.Consumer;const YN=()=>ce.useContext(L6),Wj=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Jj=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:l}=r,{fromHandle:c,toHandle:h,isValid:d}=l,m=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:m,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:o===ju.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:m&&d}};function eH({type:t="source",position:e=Ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:l,onConnect:c,children:h,className:d,onMouseDown:m,onTouchStart:p,...y},b){const S=l||null,T=t==="target",E=Zt(),C=YN(),{connectOnClick:D,noPanClassName:A,rfId:z}=wt(Wj,Qt),{connectingFrom:U,connectingTo:L,clickConnecting:I,isPossibleEndHandle:M,connectionInProcess:k,clickConnectionInProcess:H,valid:q}=wt(Jj(C,S,t),Qt);C||E.getState().onError?.("010",ha.error010());const B=te=>{const{defaultEdgeOptions:$,onConnect:W,hasDefaultEdges:re}=E.getState(),oe={...$,...te};if(re){const{edges:ye,setEdges:Y}=E.getState();Y(bU(oe,ye))}W?.(oe),c?.(oe)},P=te=>{if(!C)return;const $=_N(te.nativeEvent);if(i&&($&&te.button===0||!$)){const W=E.getState();L5.onPointerDown(te.nativeEvent,{handleDomNode:te.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:T,handleId:S,nodeId:C,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:B,isValidConnection:n||W.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}$?m?.(te):p?.(te)},K=te=>{const{onClickConnectStart:$,onClickConnectEnd:W,connectionClickStartHandle:re,connectionMode:oe,isValidConnection:ye,lib:Y,rfId:ee,nodeLookup:pe,connection:Q}=E.getState();if(!C||!re&&!i)return;if(!re){$?.(te.nativeEvent,{nodeId:C,handleId:S,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:C,type:t,id:S}});return}const ie=vN(te.target),ue=n||ye,{connection:ge,isValid:be}=L5.isValid(te.nativeEvent,{handle:{nodeId:C,id:S,type:t},connectionMode:oe,fromNodeId:re.nodeId,fromHandleId:re.id||null,fromType:re.type,isValidConnection:ue,flowId:ee,doc:ie,lib:Y,nodeLookup:pe});be&&ge&&B(ge);const Ce=structuredClone(Q);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,W?.(te,Ce),E.setState({connectionClickStartHandle:null})};return j.jsx("div",{"data-handleid":S,"data-nodeid":C,"data-handlepos":e,"data-id":`${z}-${C}-${S}-${t}`,className:Rn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,d,{source:!T,target:T,connectable:r,connectablestart:i,connectableend:o,clickconnecting:I,connectingfrom:U,connectingto:L,valid:q,connectionindicator:r&&(!k||M)&&(k||H?o:i)}]),onMouseDown:P,onTouchStart:P,onClick:D?K:void 0,ref:b,...y,children:h})}const Yu=ce.memo(HN(eH));function tH({data:t,isConnectable:e,sourcePosition:n=Ye.Bottom}){return j.jsxs(j.Fragment,{children:[t?.label,j.jsx(Yu,{type:"source",position:n,isConnectable:e})]})}function nH({data:t,isConnectable:e,targetPosition:n=Ye.Top,sourcePosition:r=Ye.Bottom}){return j.jsxs(j.Fragment,{children:[j.jsx(Yu,{type:"target",position:n,isConnectable:e}),t?.label,j.jsx(Yu,{type:"source",position:r,isConnectable:e})]})}function rH(){return null}function iH({data:t,isConnectable:e,targetPosition:n=Ye.Top}){return j.jsxs(j.Fragment,{children:[j.jsx(Yu,{type:"target",position:n,isConnectable:e}),t?.label]})}const Hd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Uw={input:tH,default:nH,output:iH,group:rH};function aH(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const sH=t=>{const{width:e,height:n,x:r,y:i}=ih(t.nodeLookup,{filter:o=>!!o.selected});return{width:Mi(e)?e:null,height:Mi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function oH({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Zt(),{width:i,height:o,transformString:l,userSelectionActive:c}=wt(sH,Qt),h=$N(),d=ce.useRef(null);if(ce.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),GN({nodeRef:d}),c||!i||!o)return null;const m=t?y=>{const b=r.getState().nodes.filter(S=>S.selected);t(y,b)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(Hd,y.key)&&(y.preventDefault(),h({direction:Hd[y.key],factor:y.shiftKey?4:1}))};return j.jsx("div",{className:Rn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:j.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o}})})}const jw=typeof window<"u"?window:void 0,lH=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function XN({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:h,selectionKeyCode:d,selectionOnDrag:m,selectionMode:p,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:S,panActivationKeyCode:T,zoomActivationKeyCode:E,elementsSelectable:C,zoomOnScroll:D,zoomOnPinch:A,panOnScroll:z,panOnScrollSpeed:U,panOnScrollMode:L,zoomOnDoubleClick:I,panOnDrag:M,defaultViewport:k,translateExtent:H,minZoom:q,maxZoom:B,preventScrolling:P,onSelectionContextMenu:K,noWheelClassName:te,noPanClassName:$,disableKeyboardA11y:W,onViewportChange:re,isControlledViewport:oe}){const{nodesSelectionActive:ye,userSelectionActive:Y}=wt(lH,Qt),ee=H0(d,{target:jw}),pe=H0(T,{target:jw}),Q=pe||M,ie=pe||z,ue=m&&Q!==!0,ge=ee||Y||ue;return jj({deleteKeyCode:h,multiSelectionKeyCode:S}),j.jsx(Gj,{onPaneContextMenu:o,elementsSelectable:C,zoomOnScroll:D,zoomOnPinch:A,panOnScroll:ie,panOnScrollSpeed:U,panOnScrollMode:L,zoomOnDoubleClick:I,panOnDrag:!ee&&Q,defaultViewport:k,translateExtent:H,minZoom:q,maxZoom:B,zoomActivationKeyCode:E,preventScrolling:P,noWheelClassName:te,noPanClassName:$,onViewportChange:re,isControlledViewport:oe,paneClickDistance:c,selectionOnDrag:ue,children:j.jsxs(Kj,{onSelectionStart:y,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,panOnDrag:Q,isSelecting:!!ge,selectionMode:p,selectionKeyPressed:ee,paneClickDistance:c,selectionOnDrag:ue,children:[t,ye&&j.jsx(oH,{onSelectionContextMenu:K,noPanClassName:$,disableKeyboardA11y:W})]})})}XN.displayName="FlowRenderer";const uH=ce.memo(XN),cH=t=>e=>t?I6(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function hH(t){return wt(ce.useCallback(cH(t),[t]),Qt)}const fH=t=>t.updateNodeInternals;function dH(){const t=wt(fH),[e]=ce.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return ce.useEffect(()=>()=>{e?.disconnect()},[e]),e}function mH({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Zt(),o=ce.useRef(null),l=ce.useRef(null),c=ce.useRef(t.sourcePosition),h=ce.useRef(t.targetPosition),d=ce.useRef(e),m=n&&!!t.internals.handleBounds;return ce.useEffect(()=>{o.current&&!t.hidden&&(!m||l.current!==o.current)&&(l.current&&r?.unobserve(l.current),r?.observe(o.current),l.current=o.current)},[m,t.hidden]),ce.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),ce.useEffect(()=>{if(o.current){const p=d.current!==e,y=c.current!==t.sourcePosition,b=h.current!==t.targetPosition;(p||y||b)&&(d.current=e,c.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function pH({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:l,nodesDraggable:c,elementsSelectable:h,nodesConnectable:d,nodesFocusable:m,resizeObserver:p,noDragClassName:y,noPanClassName:b,disableKeyboardA11y:S,rfId:T,nodeTypes:E,nodeClickDistance:C,onError:D}){const{node:A,internals:z,isParent:U}=wt(be=>{const Ce=be.nodeLookup.get(t),ze=be.parentLookup.has(t);return{node:Ce,internals:Ce.internals,isParent:ze}},Qt);let L=A.type||"default",I=E?.[L]||Uw[L];I===void 0&&(D?.("003",ha.error003(L)),L="default",I=E?.default||Uw.default);const M=!!(A.draggable||c&&typeof A.draggable>"u"),k=!!(A.selectable||h&&typeof A.selectable>"u"),H=!!(A.connectable||d&&typeof A.connectable>"u"),q=!!(A.focusable||m&&typeof A.focusable>"u"),B=Zt(),P=pN(A),K=mH({node:A,nodeType:L,hasDimensions:P,resizeObserver:p}),te=GN({nodeRef:K,disabled:A.hidden||!M,noDragClassName:y,handleSelector:A.dragHandle,nodeId:t,isSelectable:k,nodeClickDistance:C}),$=$N();if(A.hidden)return null;const W=us(A),re=aH(A),oe=k||M||e||n||r||i,ye=n?be=>n(be,{...z.userNode}):void 0,Y=r?be=>r(be,{...z.userNode}):void 0,ee=i?be=>i(be,{...z.userNode}):void 0,pe=o?be=>o(be,{...z.userNode}):void 0,Q=l?be=>l(be,{...z.userNode}):void 0,ie=be=>{const{selectNodesOnDrag:Ce,nodeDragThreshold:ze}=B.getState();k&&(!Ce||!M||ze>0)&&P5({id:t,store:B,nodeRef:K}),e&&e(be,{...z.userNode})},ue=be=>{if(!(yN(be.nativeEvent)||S)){if(sN.includes(be.key)&&k){const Ce=be.key==="Escape";P5({id:t,store:B,unselect:Ce,nodeRef:K})}else if(M&&A.selected&&Object.prototype.hasOwnProperty.call(Hd,be.key)){be.preventDefault();const{ariaLabelConfig:Ce}=B.getState();B.setState({ariaLiveMessage:Ce["node.a11yDescription.ariaLiveMessage"]({direction:be.key.replace("Arrow","").toLowerCase(),x:~~z.positionAbsolute.x,y:~~z.positionAbsolute.y})}),$({direction:Hd[be.key],factor:be.shiftKey?4:1})}}},ge=()=>{if(S||!K.current?.matches(":focus-visible"))return;const{transform:be,width:Ce,height:ze,autoPanOnNodeFocus:He,setCenter:je}=B.getState();if(!He)return;I6(new Map([[t,A]]),{x:0,y:0,width:Ce,height:ze},be,!0).length>0||je(A.position.x+W.width/2,A.position.y+W.height/2,{zoom:be[2]})};return j.jsx("div",{className:Rn(["react-flow__node",`react-flow__node-${L}`,{[b]:M},A.className,{selected:A.selected,selectable:k,parent:U,draggable:M,dragging:te}]),ref:K,style:{zIndex:z.z,transform:`translate(${z.positionAbsolute.x}px,${z.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:P?"visible":"hidden",...A.style,...re},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:ye,onMouseMove:Y,onMouseLeave:ee,onContextMenu:pe,onClick:ie,onDoubleClick:Q,onKeyDown:q?ue:void 0,tabIndex:q?0:void 0,onFocus:q?ge:void 0,role:A.ariaRole??(q?"group":void 0),"aria-roledescription":"node","aria-describedby":S?void 0:`${VN}-${T}`,"aria-label":A.ariaLabel,...A.domAttributes,children:j.jsx(Zj,{value:t,children:j.jsx(I,{id:t,data:A.data,type:L,positionAbsoluteX:z.positionAbsolute.x,positionAbsoluteY:z.positionAbsolute.y,selected:A.selected??!1,selectable:k,draggable:M,deletable:A.deletable??!0,isConnectable:H,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:te,dragHandle:A.dragHandle,zIndex:z.z,parentId:A.parentId,...W})})})}var gH=ce.memo(pH);const vH=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function KN(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=wt(vH,Qt),l=hH(t.onlyRenderVisibleElements),c=dH();return j.jsx("div",{className:"react-flow__nodes",style:Cm,children:l.map(h=>j.jsx(gH,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},h))})}KN.displayName="NodeRenderer";const yH=ce.memo(KN);function _H(t){return wt(ce.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);o&&l&&vU({sourceNode:o,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Qt)}const bH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return j.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},wH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return j.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Hw={[B0.Arrow]:bH,[B0.ArrowClosed]:wH};function SH(t){const e=Zt();return ce.useMemo(()=>Object.prototype.hasOwnProperty.call(Hw,t)?Hw[t]:(e.getState().onError?.("009",ha.error009(t)),null),[t])}const xH=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const h=SH(e);return h?j.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0",children:j.jsx(h,{color:n,strokeWidth:l})}):null},QN=({defaultColor:t,rfId:e})=>{const n=wt(o=>o.edges),r=wt(o=>o.defaultEdgeOptions),i=ce.useMemo(()=>TU(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?j.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:j.jsx("defs",{children:i.map(o=>j.jsx(xH,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};QN.displayName="MarkerDefinitions";var EH=ce.memo(QN);function ZN({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:d,...m}){const[p,y]=ce.useState({x:1,y:0,width:0,height:0}),b=Rn(["react-flow__edge-textwrapper",d]),S=ce.useRef(null);return ce.useEffect(()=>{if(S.current){const T=S.current.getBBox();y({x:T.x,y:T.y,width:T.width,height:T.height})}},[n]),n?j.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...m,children:[i&&j.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),j.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:S,style:r,children:n}),h]}):null}ZN.displayName="EdgeText";const TH=ce.memo(ZN);function Rm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h,interactionWidth:d=20,...m}){return j.jsxs(j.Fragment,{children:[j.jsx("path",{...m,d:t,fill:"none",className:Rn(["react-flow__edge-path",m.className])}),d?j.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,r&&Mi(e)&&Mi(n)?j.jsx(TH,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h}):null]})}function Fw({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ye.Left||t===Ye.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function WN({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top}){const[l,c]=Fw({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,d]=Fw({pos:o,x1:r,y1:i,x2:t,y2:e}),[m,p,y,b]=bN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:h,targetControlY:d});return[`M${t},${e} C${l},${c} ${h},${d} ${r},${i}`,m,p,y,b]}function JN(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l,targetPosition:c,label:h,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:S,markerEnd:T,markerStart:E,interactionWidth:C})=>{const[D,A,z]=WN({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:c}),U=t.isInternal?void 0:e;return j.jsx(Rm,{id:U,path:D,labelX:A,labelY:z,label:h,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:S,markerEnd:T,markerStart:E,interactionWidth:C})})}const AH=JN({isInternal:!1}),eM=JN({isInternal:!0});AH.displayName="SimpleBezierEdge";eM.displayName="SimpleBezierEdgeInternal";function tM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:y,sourcePosition:b=Ye.Bottom,targetPosition:S=Ye.Top,markerEnd:T,markerStart:E,pathOptions:C,interactionWidth:D})=>{const[A,z,U]=z5({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:o,targetPosition:S,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),L=t.isInternal?void 0:e;return j.jsx(Rm,{id:L,path:A,labelX:z,labelY:U,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:T,markerStart:E,interactionWidth:D})})}const nM=tM({isInternal:!1}),rM=tM({isInternal:!0});nM.displayName="SmoothStepEdge";rM.displayName="SmoothStepEdgeInternal";function iM(t){return ce.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return j.jsx(nM,{...n,id:r,pathOptions:ce.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const CH=iM({isInternal:!1}),aM=iM({isInternal:!0});CH.displayName="StepEdge";aM.displayName="StepEdgeInternal";function sM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:b,markerStart:S,interactionWidth:T})=>{const[E,C,D]=xN({sourceX:n,sourceY:r,targetX:i,targetY:o}),A=t.isInternal?void 0:e;return j.jsx(Rm,{id:A,path:E,labelX:C,labelY:D,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:y,markerEnd:b,markerStart:S,interactionWidth:T})})}const RH=sM({isInternal:!1}),oM=sM({isInternal:!0});RH.displayName="StraightEdge";oM.displayName="StraightEdgeInternal";function lM(t){return ce.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l=Ye.Bottom,targetPosition:c=Ye.Top,label:h,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:S,markerEnd:T,markerStart:E,pathOptions:C,interactionWidth:D})=>{const[A,z,U]=wN({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:c,curvature:C?.curvature}),L=t.isInternal?void 0:e;return j.jsx(Rm,{id:L,path:A,labelX:z,labelY:U,label:h,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:b,style:S,markerEnd:T,markerStart:E,interactionWidth:D})})}const IH=lM({isInternal:!1}),uM=lM({isInternal:!0});IH.displayName="BezierEdge";uM.displayName="BezierEdgeInternal";const Gw={default:uM,straight:oM,step:aM,smoothstep:rM,simplebezier:eM},$w={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},NH=(t,e,n)=>n===Ye.Left?t-e:n===Ye.Right?t+e:t,MH=(t,e,n)=>n===Ye.Top?t-e:n===Ye.Bottom?t+e:t,Yw="react-flow__edgeupdater";function Xw({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:l,type:c}){return j.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:l,className:Rn([Yw,`${Yw}-${c}`]),cx:NH(e,r,t),cy:MH(n,r,t),r,stroke:"transparent",fill:"transparent"})}function kH({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:l,sourcePosition:c,targetPosition:h,onReconnect:d,onReconnectStart:m,onReconnectEnd:p,setReconnecting:y,setUpdateHover:b}){const S=Zt(),T=(z,U)=>{if(z.button!==0)return;const{autoPanOnConnect:L,domNode:I,isValidConnection:M,connectionMode:k,connectionRadius:H,lib:q,onConnectStart:B,onConnectEnd:P,cancelConnection:K,nodeLookup:te,rfId:$,panBy:W,updateConnection:re}=S.getState(),oe=U.type==="target",ye=(pe,Q)=>{y(!1),p?.(pe,n,U.type,Q)},Y=pe=>d?.(n,pe),ee=(pe,Q)=>{y(!0),m?.(z,n,U.type),B?.(pe,Q)};L5.onPointerDown(z.nativeEvent,{autoPanOnConnect:L,connectionMode:k,connectionRadius:H,domNode:I,handleId:U.id,nodeId:U.nodeId,nodeLookup:te,isTarget:oe,edgeUpdaterType:U.type,lib:q,flowId:$,cancelConnection:K,panBy:W,isValidConnection:M,onConnect:Y,onConnectStart:ee,onConnectEnd:P,onReconnectEnd:ye,updateConnection:re,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,dragThreshold:S.getState().connectionDragThreshold,handleDomNode:z.currentTarget})},E=z=>T(z,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=z=>T(z,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),D=()=>b(!0),A=()=>b(!1);return j.jsxs(j.Fragment,{children:[(t===!0||t==="source")&&j.jsx(Xw,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:D,onMouseOut:A,type:"source"}),(t===!0||t==="target")&&j.jsx(Xw,{position:h,centerX:o,centerY:l,radius:e,onMouseDown:C,onMouseEnter:D,onMouseOut:A,type:"target"})]})}function DH({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:d,reconnectRadius:m,onReconnect:p,onReconnectStart:y,onReconnectEnd:b,rfId:S,edgeTypes:T,noPanClassName:E,onError:C,disableKeyboardA11y:D}){let A=wt(je=>je.edgeLookup.get(t));const z=wt(je=>je.defaultEdgeOptions);A=z?{...z,...A}:A;let U=A.type||"default",L=T?.[U]||Gw[U];L===void 0&&(C?.("011",ha.error011(U)),U="default",L=T?.default||Gw.default);const I=!!(A.focusable||e&&typeof A.focusable>"u"),M=typeof p<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),k=!!(A.selectable||r&&typeof A.selectable>"u"),H=ce.useRef(null),[q,B]=ce.useState(!1),[P,K]=ce.useState(!1),te=Zt(),{zIndex:$,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee}=wt(ce.useCallback(je=>{const Pe=je.nodeLookup.get(A.source),Ge=je.nodeLookup.get(A.target);if(!Pe||!Ge)return{zIndex:A.zIndex,...$w};const Be=EU({id:t,sourceNode:Pe,targetNode:Ge,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:je.connectionMode,onError:C});return{zIndex:gU({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ge,elevateOnSelect:je.elevateEdgesOnSelect,zIndexMode:je.zIndexMode}),...Be||$w}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),Qt),pe=ce.useMemo(()=>A.markerStart?`url('#${q5(A.markerStart,S)}')`:void 0,[A.markerStart,S]),Q=ce.useMemo(()=>A.markerEnd?`url('#${q5(A.markerEnd,S)}')`:void 0,[A.markerEnd,S]);if(A.hidden||W===null||re===null||oe===null||ye===null)return null;const ie=je=>{const{addSelectedEdges:Pe,unselectNodesAndEdges:Ge,multiSelectionActive:Be}=te.getState();k&&(te.setState({nodesSelectionActive:!1}),A.selected&&Be?(Ge({nodes:[],edges:[A]}),H.current?.blur()):Pe([t])),i&&i(je,A)},ue=o?je=>{o(je,{...A})}:void 0,ge=l?je=>{l(je,{...A})}:void 0,be=c?je=>{c(je,{...A})}:void 0,Ce=h?je=>{h(je,{...A})}:void 0,ze=d?je=>{d(je,{...A})}:void 0,He=je=>{if(!D&&sN.includes(je.key)&&k){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ge}=te.getState();je.key==="Escape"?(H.current?.blur(),Pe({edges:[A]})):Ge([t])}};return j.jsx("svg",{style:{zIndex:$},children:j.jsxs("g",{className:Rn(["react-flow__edge",`react-flow__edge-${U}`,A.className,E,{selected:A.selected,animated:A.animated,inactive:!k&&!i,updating:q,selectable:k}]),onClick:ie,onDoubleClick:ue,onContextMenu:ge,onMouseEnter:be,onMouseMove:Ce,onMouseLeave:ze,onKeyDown:I?He:void 0,tabIndex:I?0:void 0,role:A.ariaRole??(I?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":I?`${LN}-${S}`:void 0,ref:H,...A.domAttributes,children:[!P&&j.jsx(L,{id:t,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:k,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:pe,markerEnd:Q,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),M&&j.jsx(kH,{edge:A,isReconnectable:M,reconnectRadius:m,onReconnect:p,onReconnectStart:y,onReconnectEnd:b,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee,setUpdateHover:B,setReconnecting:K})]})})}var OH=ce.memo(DH);const zH=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function cM({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:d,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:y,onReconnectStart:b,onReconnectEnd:S,disableKeyboardA11y:T}){const{edgesFocusable:E,edgesReconnectable:C,elementsSelectable:D,onError:A}=wt(zH,Qt),z=_H(e);return j.jsxs("div",{className:"react-flow__edges",children:[j.jsx(EH,{defaultColor:t,rfId:n}),z.map(U=>j.jsx(OH,{id:U,edgesFocusable:E,edgesReconnectable:C,elementsSelectable:D,noPanClassName:i,onReconnect:o,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:d,onClick:m,reconnectRadius:p,onDoubleClick:y,onReconnectStart:b,onReconnectEnd:S,rfId:n,onError:A,edgeTypes:r,disableKeyboardA11y:T},U))]})}cM.displayName="EdgeRenderer";const qH=ce.memo(cM),VH=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function LH({children:t}){const e=wt(VH);return j.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function PH(t){const e=V6(),n=ce.useRef(!1);ce.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const BH=t=>t.panZoom?.syncViewport;function UH(t){const e=wt(BH),n=Zt();return ce.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function jH(t){return t.connection.inProgress?{...t.connection,to:sh(t.connection.to,t.transform)}:{...t.connection}}function HH(t){return jH}function FH(t){const e=HH();return wt(e,Qt)}const GH=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function $H({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:l,isValid:c,inProgress:h}=wt(GH,Qt);return!(o&&i&&h)?null:j.jsx("svg",{style:t,width:o,height:l,className:"react-flow__connectionline react-flow__container",children:j.jsx("g",{className:Rn(["react-flow__connection",uN(c)]),children:j.jsx(hM,{style:e,type:n,CustomComponent:r,isValid:c})})})}const hM=({style:t,type:e=eo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:l,fromHandle:c,fromPosition:h,to:d,toNode:m,toHandle:p,toPosition:y,pointer:b}=FH();if(!i)return;if(n)return j.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:o.x,fromY:o.y,toX:d.x,toY:d.y,fromPosition:h,toPosition:y,connectionStatus:uN(r),toNode:m,toHandle:p,pointer:b});let S="";const T={sourceX:o.x,sourceY:o.y,sourcePosition:h,targetX:d.x,targetY:d.y,targetPosition:y};switch(e){case eo.Bezier:[S]=wN(T);break;case eo.SimpleBezier:[S]=WN(T);break;case eo.Step:[S]=z5({...T,borderRadius:0});break;case eo.SmoothStep:[S]=z5(T);break;default:[S]=xN(T)}return j.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:t})};hM.displayName="ConnectionLine";const YH={};function Kw(t=YH){ce.useRef(t),Zt(),ce.useEffect(()=>{},[t])}function XH(){Zt(),ce.useRef(!1),ce.useEffect(()=>{},[])}function fM({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:d,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:y,onSelectionEnd:b,connectionLineType:S,connectionLineStyle:T,connectionLineComponent:E,connectionLineContainerStyle:C,selectionKeyCode:D,selectionOnDrag:A,selectionMode:z,multiSelectionKeyCode:U,panActivationKeyCode:L,zoomActivationKeyCode:I,deleteKeyCode:M,onlyRenderVisibleElements:k,elementsSelectable:H,defaultViewport:q,translateExtent:B,minZoom:P,maxZoom:K,preventScrolling:te,defaultMarkerColor:$,zoomOnScroll:W,zoomOnPinch:re,panOnScroll:oe,panOnScrollSpeed:ye,panOnScrollMode:Y,zoomOnDoubleClick:ee,panOnDrag:pe,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:ue,onPaneMouseLeave:ge,onPaneScroll:be,onPaneContextMenu:Ce,paneClickDistance:ze,nodeClickDistance:He,onEdgeContextMenu:je,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:rt,onReconnect:$e,onReconnectStart:Bt,onReconnectEnd:st,noDragClassName:Nt,noWheelClassName:Mn,noPanClassName:zn,disableKeyboardA11y:Ht,nodeExtent:Yt,rfId:Pn,viewport:ur,onViewportChange:cr}){return Kw(t),Kw(e),XH(),PH(n),UH(ur),j.jsx(uH,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:ue,onPaneMouseLeave:ge,onPaneContextMenu:Ce,onPaneScroll:be,paneClickDistance:ze,deleteKeyCode:M,selectionKeyCode:D,selectionOnDrag:A,selectionMode:z,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:U,panActivationKeyCode:L,zoomActivationKeyCode:I,elementsSelectable:H,zoomOnScroll:W,zoomOnPinch:re,zoomOnDoubleClick:ee,panOnScroll:oe,panOnScrollSpeed:ye,panOnScrollMode:Y,panOnDrag:pe,defaultViewport:q,translateExtent:B,minZoom:P,maxZoom:K,onSelectionContextMenu:p,preventScrolling:te,noDragClassName:Nt,noWheelClassName:Mn,noPanClassName:zn,disableKeyboardA11y:Ht,onViewportChange:cr,isControlledViewport:!!ur,children:j.jsxs(LH,{children:[j.jsx(qH,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:$e,onReconnectStart:Bt,onReconnectEnd:st,onlyRenderVisibleElements:k,onEdgeContextMenu:je,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:rt,defaultMarkerColor:$,noPanClassName:zn,disableKeyboardA11y:Ht,rfId:Pn}),j.jsx($H,{style:T,type:S,component:E,containerStyle:C}),j.jsx("div",{className:"react-flow__edgelabel-renderer"}),j.jsx(yH,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:d,onNodeContextMenu:m,nodeClickDistance:He,onlyRenderVisibleElements:k,noPanClassName:zn,noDragClassName:Nt,disableKeyboardA11y:Ht,nodeExtent:Yt,rfId:Pn}),j.jsx("div",{className:"react-flow__viewport-portal"})]})})}fM.displayName="GraphView";const KH=ce.memo(fM),Qw=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h=.5,maxZoom:d=2,nodeOrigin:m,nodeExtent:p,zIndexMode:y="basic"}={})=>{const b=new Map,S=new Map,T=new Map,E=new Map,C=r??e??[],D=n??t??[],A=m??[0,0],z=p??L0;AN(T,E,C);const U=V5(D,b,S,{nodeOrigin:A,nodeExtent:z,zIndexMode:y});let L=[0,0,1];if(l&&i&&o){const I=ih(b,{filter:q=>!!((q.width||q.initialWidth)&&(q.height||q.initialHeight))}),{x:M,y:k,zoom:H}=N6(I,i,o,h,d,c?.padding??.1);L=[M,k,H]}return{rfId:"1",width:i??0,height:o??0,transform:L,nodes:D,nodesInitialized:U,nodeLookup:b,parentLookup:S,edges:C,edgeLookup:E,connectionLookup:T,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:h,maxZoom:d,translateExtent:L0,nodeExtent:z,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ju.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...lN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:cU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:oN,zIndexMode:y,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},QH=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:d,nodeOrigin:m,nodeExtent:p,zIndexMode:y})=>mj((b,S)=>{async function T(){const{nodeLookup:E,panZoom:C,fitViewOptions:D,fitViewResolver:A,width:z,height:U,minZoom:L,maxZoom:I}=S();C&&(await lU({nodes:E,width:z,height:U,panZoom:C,minZoom:L,maxZoom:I},D),A?.resolve(!0),b({fitViewResolver:null}))}return{...Qw({nodes:t,edges:e,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:d,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:y}),setNodes:E=>{const{nodeLookup:C,parentLookup:D,nodeOrigin:A,elevateNodesOnSelect:z,fitViewQueued:U,zIndexMode:L}=S(),I=V5(E,C,D,{nodeOrigin:A,nodeExtent:p,elevateNodesOnSelect:z,checkEquality:!0,zIndexMode:L});U&&I?(T(),b({nodes:E,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:E,nodesInitialized:I})},setEdges:E=>{const{connectionLookup:C,edgeLookup:D}=S();AN(C,D,E),b({edges:E})},setDefaultNodesAndEdges:(E,C)=>{if(E){const{setNodes:D}=S();D(E),b({hasDefaultNodes:!0})}if(C){const{setEdges:D}=S();D(C),b({hasDefaultEdges:!0})}},updateNodeInternals:E=>{const{triggerNodeChanges:C,nodeLookup:D,parentLookup:A,domNode:z,nodeOrigin:U,nodeExtent:L,debug:I,fitViewQueued:M,zIndexMode:k}=S(),{changes:H,updatedInternals:q}=kU(E,D,A,z,U,L,k);q&&(RU(D,A,{nodeOrigin:U,nodeExtent:L,zIndexMode:k}),M?(T(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),H?.length>0&&(I&&console.log("React Flow: trigger node changes",H),C?.(H)))},updateNodePositions:(E,C=!1)=>{const D=[];let A=[];const{nodeLookup:z,triggerNodeChanges:U,connection:L,updateConnection:I,onNodesChangeMiddlewareMap:M}=S();for(const[k,H]of E){const q=z.get(k),B=!!(q?.expandParent&&q?.parentId&&H?.position),P={id:k,type:"position",position:B?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:C};if(q&&L.inProgress&&L.fromNode.id===q.id){const K=vl(q,L.fromHandle,Ye.Left,!0);I({...L,from:K})}B&&q.parentId&&D.push({id:k,parentId:q.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),A.push(P)}if(D.length>0){const{parentLookup:k,nodeOrigin:H}=S(),q=q6(D,z,k,H);A.push(...q)}for(const k of M.values())A=k(A);U(A)},triggerNodeChanges:E=>{const{onNodesChange:C,setNodes:D,nodes:A,hasDefaultNodes:z,debug:U}=S();if(E?.length){if(z){const L=UN(E,A);D(L)}U&&console.log("React Flow: trigger node changes",E),C?.(E)}},triggerEdgeChanges:E=>{const{onEdgesChange:C,setEdges:D,edges:A,hasDefaultEdges:z,debug:U}=S();if(E?.length){if(z){const L=jN(E,A);D(L)}U&&console.log("React Flow: trigger edge changes",E),C?.(E)}},addSelectedNodes:E=>{const{multiSelectionActive:C,edgeLookup:D,nodeLookup:A,triggerNodeChanges:z,triggerEdgeChanges:U}=S();if(C){const L=E.map(I=>il(I,!0));z(L);return}z(Mu(A,new Set([...E]),!0)),U(Mu(D))},addSelectedEdges:E=>{const{multiSelectionActive:C,edgeLookup:D,nodeLookup:A,triggerNodeChanges:z,triggerEdgeChanges:U}=S();if(C){const L=E.map(I=>il(I,!0));U(L);return}U(Mu(D,new Set([...E]))),z(Mu(A,new Set,!0))},unselectNodesAndEdges:({nodes:E,edges:C}={})=>{const{edges:D,nodes:A,nodeLookup:z,triggerNodeChanges:U,triggerEdgeChanges:L}=S(),I=E||A,M=C||D,k=I.map(q=>{const B=z.get(q.id);return B&&(B.selected=!1),il(q.id,!1)}),H=M.map(q=>il(q.id,!1));U(k),L(H)},setMinZoom:E=>{const{panZoom:C,maxZoom:D}=S();C?.setScaleExtent([E,D]),b({minZoom:E})},setMaxZoom:E=>{const{panZoom:C,minZoom:D}=S();C?.setScaleExtent([D,E]),b({maxZoom:E})},setTranslateExtent:E=>{S().panZoom?.setTranslateExtent(E),b({translateExtent:E})},resetSelectedElements:()=>{const{edges:E,nodes:C,triggerNodeChanges:D,triggerEdgeChanges:A,elementsSelectable:z}=S();if(!z)return;const U=C.reduce((I,M)=>M.selected?[...I,il(M.id,!1)]:I,[]),L=E.reduce((I,M)=>M.selected?[...I,il(M.id,!1)]:I,[]);D(U),A(L)},setNodeExtent:E=>{const{nodes:C,nodeLookup:D,parentLookup:A,nodeOrigin:z,elevateNodesOnSelect:U,nodeExtent:L,zIndexMode:I}=S();E[0][0]===L[0][0]&&E[0][1]===L[0][1]&&E[1][0]===L[1][0]&&E[1][1]===L[1][1]||(V5(C,D,A,{nodeOrigin:z,nodeExtent:E,elevateNodesOnSelect:U,checkEquality:!1,zIndexMode:I}),b({nodeExtent:E}))},panBy:E=>{const{transform:C,width:D,height:A,panZoom:z,translateExtent:U}=S();return DU({delta:E,panZoom:z,transform:C,translateExtent:U,width:D,height:A})},setCenter:async(E,C,D)=>{const{width:A,height:z,maxZoom:U,panZoom:L}=S();if(!L)return Promise.resolve(!1);const I=typeof D?.zoom<"u"?D.zoom:U;return await L.setViewport({x:A/2-E*I,y:z/2-C*I,zoom:I},{duration:D?.duration,ease:D?.ease,interpolate:D?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...lN}})},updateConnection:E=>{b({connection:E})},reset:()=>b({...Qw()})}},Object.is);function ZH({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:h,fitView:d,nodeOrigin:m,nodeExtent:p,zIndexMode:y,children:b}){const[S]=ce.useState(()=>QH({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:d,minZoom:l,maxZoom:c,fitViewOptions:h,nodeOrigin:m,nodeExtent:p,zIndexMode:y}));return j.jsx(pj,{value:S,children:j.jsx(Lj,{children:b})})}function WH({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:l,fitView:c,fitViewOptions:h,minZoom:d,maxZoom:m,nodeOrigin:p,nodeExtent:y,zIndexMode:b}){return ce.useContext(Tm)?j.jsx(j.Fragment,{children:t}):j.jsx(ZH,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:l,fitView:c,initialFitViewOptions:h,initialMinZoom:d,initialMaxZoom:m,nodeOrigin:p,nodeExtent:y,zIndexMode:b,children:t})}const JH={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function eF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:l,onNodeClick:c,onEdgeClick:h,onInit:d,onMove:m,onMoveStart:p,onMoveEnd:y,onConnect:b,onConnectStart:S,onConnectEnd:T,onClickConnectStart:E,onClickConnectEnd:C,onNodeMouseEnter:D,onNodeMouseMove:A,onNodeMouseLeave:z,onNodeContextMenu:U,onNodeDoubleClick:L,onNodeDragStart:I,onNodeDrag:M,onNodeDragStop:k,onNodesDelete:H,onEdgesDelete:q,onDelete:B,onSelectionChange:P,onSelectionDragStart:K,onSelectionDrag:te,onSelectionDragStop:$,onSelectionContextMenu:W,onSelectionStart:re,onSelectionEnd:oe,onBeforeDelete:ye,connectionMode:Y,connectionLineType:ee=eo.Bezier,connectionLineStyle:pe,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:ue="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:be=!1,selectionMode:Ce=P0.Full,panActivationKeyCode:ze="Space",multiSelectionKeyCode:He=j0()?"Meta":"Control",zoomActivationKeyCode:je=j0()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ge,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:rt,nodesDraggable:$e,autoPanOnNodeFocus:Bt,nodesConnectable:st,nodesFocusable:Nt,nodeOrigin:Mn=PN,edgesFocusable:zn,edgesReconnectable:Ht,elementsSelectable:Yt=!0,defaultViewport:Pn=Rj,minZoom:ur=.5,maxZoom:cr=2,translateExtent:qn=L0,preventScrolling:ms=!0,nodeExtent:gi,defaultMarkerColor:ps="#b1b1b7",zoomOnScroll:_a=!0,zoomOnPinch:an=!0,panOnScroll:Vt=!1,panOnScrollSpeed:hr=.5,panOnScrollMode:en=hl.Free,zoomOnDoubleClick:kl=!0,panOnDrag:gs=!0,onPaneClick:Dl,onPaneMouseEnter:jr,onPaneMouseMove:ba,onPaneMouseLeave:sn,onPaneScroll:Hr,onPaneContextMenu:Fr,paneClickDistance:Tr=1,nodeClickDistance:_c=0,children:Ol,onReconnect:Gr,onReconnectStart:wa,onReconnectEnd:bc,onEdgeContextMenu:Sa,onEdgeDoubleClick:To,onEdgeMouseEnter:Ao,onEdgeMouseMove:xa,onEdgeMouseLeave:vi,reconnectRadius:zl=10,onNodesChange:Ar,onEdgesChange:Cr,noDragClassName:on="nodrag",noWheelClassName:_n="nowheel",noPanClassName:Rr="nopan",fitView:Ea,fitViewOptions:ql,connectOnClick:Vl,attributionPosition:Ll,proOptions:$r,defaultEdgeOptions:vs,elevateNodesOnSelect:Yr=!0,elevateEdgesOnSelect:fr=!1,disableKeyboardA11y:Xn=!1,autoPanOnConnect:Xr,autoPanOnNodeDrag:ln,autoPanSpeed:Co,connectionRadius:Ro,isValidConnection:Kr,onError:Qr,style:Io,id:ys,nodeDragThreshold:No,connectionDragThreshold:Pl,viewport:_s,onViewportChange:nr,width:un,height:bn,colorMode:Bi="light",debug:Mo,onScroll:xt,ariaLabelConfig:Ta,zIndexMode:Ir="basic",...Aa},Kn){const Ui=ys||"1",Bl=kj(Bi),ko=ce.useCallback(yi=>{yi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),xt?.(yi)},[xt]);return j.jsx("div",{"data-testid":"rf__wrapper",...Aa,onScroll:ko,style:{...Io,...JH},ref:Kn,className:Rn(["react-flow",i,Bl]),id:ys,role:"application",children:j.jsxs(WH,{nodes:t,edges:e,width:un,height:bn,fitView:Ea,fitViewOptions:ql,minZoom:ur,maxZoom:cr,nodeOrigin:Mn,nodeExtent:gi,zIndexMode:Ir,children:[j.jsx(KH,{onInit:d,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:D,onNodeMouseMove:A,onNodeMouseLeave:z,onNodeContextMenu:U,onNodeDoubleClick:L,nodeTypes:o,edgeTypes:l,connectionLineType:ee,connectionLineStyle:pe,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:ge,selectionOnDrag:be,selectionMode:Ce,deleteKeyCode:ue,multiSelectionKeyCode:He,panActivationKeyCode:ze,zoomActivationKeyCode:je,onlyRenderVisibleElements:Be,defaultViewport:Pn,translateExtent:qn,minZoom:ur,maxZoom:cr,preventScrolling:ms,zoomOnScroll:_a,zoomOnPinch:an,zoomOnDoubleClick:kl,panOnScroll:Vt,panOnScrollSpeed:hr,panOnScrollMode:en,panOnDrag:gs,onPaneClick:Dl,onPaneMouseEnter:jr,onPaneMouseMove:ba,onPaneMouseLeave:sn,onPaneScroll:Hr,onPaneContextMenu:Fr,paneClickDistance:Tr,nodeClickDistance:_c,onSelectionContextMenu:W,onSelectionStart:re,onSelectionEnd:oe,onReconnect:Gr,onReconnectStart:wa,onReconnectEnd:bc,onEdgeContextMenu:Sa,onEdgeDoubleClick:To,onEdgeMouseEnter:Ao,onEdgeMouseMove:xa,onEdgeMouseLeave:vi,reconnectRadius:zl,defaultMarkerColor:ps,noDragClassName:on,noWheelClassName:_n,noPanClassName:Rr,rfId:Ui,disableKeyboardA11y:Xn,nodeExtent:gi,viewport:_s,onViewportChange:nr}),j.jsx(Mj,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:S,onConnectEnd:T,onClickConnectStart:E,onClickConnectEnd:C,nodesDraggable:$e,autoPanOnNodeFocus:Bt,nodesConnectable:st,nodesFocusable:Nt,edgesFocusable:zn,edgesReconnectable:Ht,elementsSelectable:Yt,elevateNodesOnSelect:Yr,elevateEdgesOnSelect:fr,minZoom:ur,maxZoom:cr,nodeExtent:gi,onNodesChange:Ar,onEdgesChange:Cr,snapToGrid:Pe,snapGrid:Ge,connectionMode:Y,translateExtent:qn,connectOnClick:Vl,defaultEdgeOptions:vs,fitView:Ea,fitViewOptions:ql,onNodesDelete:H,onEdgesDelete:q,onDelete:B,onNodeDragStart:I,onNodeDrag:M,onNodeDragStop:k,onSelectionDrag:te,onSelectionDragStart:K,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:y,noPanClassName:Rr,nodeOrigin:Mn,rfId:Ui,autoPanOnConnect:Xr,autoPanOnNodeDrag:ln,autoPanSpeed:Co,onError:Qr,connectionRadius:Ro,isValidConnection:Kr,selectNodesOnDrag:rt,nodeDragThreshold:No,connectionDragThreshold:Pl,onBeforeDelete:ye,debug:Mo,ariaLabelConfig:Ta,zIndexMode:Ir}),j.jsx(Cj,{onSelectionChange:P}),Ol,j.jsx(Sj,{proOptions:$r,position:Ll}),j.jsx(wj,{rfId:Ui,disableKeyboardA11y:Xn})]})})}var tF=HN(eF);function nF(t){const[e,n]=ce.useState(t),r=ce.useCallback(i=>n(o=>UN(i,o)),[]);return[e,n,r]}function rF(t){const[e,n]=ce.useState(t),r=ce.useCallback(i=>n(o=>jN(i,o)),[]);return[e,n,r]}function iF({dimensions:t,lineWidth:e,variant:n,className:r}){return j.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Rn(["react-flow__background-pattern",n,r])})}function aF({radius:t,className:e}){return j.jsx("circle",{cx:t,cy:t,r:t,className:Rn(["react-flow__background-pattern","dots",e])})}var so;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(so||(so={}));const sF={[so.Dots]:1,[so.Lines]:1,[so.Cross]:6},oF=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function dM({id:t,variant:e=so.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:l,bgColor:c,style:h,className:d,patternClassName:m}){const p=ce.useRef(null),{transform:y,patternId:b}=wt(oF,Qt),S=r||sF[e],T=e===so.Dots,E=e===so.Cross,C=Array.isArray(n)?n:[n,n],D=[C[0]*y[2]||1,C[1]*y[2]||1],A=S*y[2],z=Array.isArray(o)?o:[o,o],U=E?[A,A]:D,L=[z[0]*y[2]||1+U[0]/2,z[1]*y[2]||1+U[1]/2],I=`${b}${t||""}`;return j.jsxs("svg",{className:Rn(["react-flow__background",d]),style:{...h,...Cm,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[j.jsx("pattern",{id:I,x:y[0]%D[0],y:y[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:T?j.jsx(aF,{radius:A/2,className:m}):j.jsx(iF,{dimensions:U,lineWidth:i,variant:e,className:m})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}dM.displayName="Background";const lF=ce.memo(dM);function uF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:j.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function cF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:j.jsx("path",{d:"M0 0h32v4.2H0z"})})}function hF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:j.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function fF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function dF(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Jf({children:t,className:e,...n}){return j.jsx("button",{type:"button",className:Rn(["react-flow__controls-button",e]),...n,children:t})}const mF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function mM({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:l,onFitView:c,onInteractiveChange:h,className:d,children:m,position:p="bottom-left",orientation:y="vertical","aria-label":b}){const S=Zt(),{isInteractive:T,minZoomReached:E,maxZoomReached:C,ariaLabelConfig:D}=wt(mF,Qt),{zoomIn:A,zoomOut:z,fitView:U}=V6(),L=()=>{A(),o?.()},I=()=>{z(),l?.()},M=()=>{U(i),c?.()},k=()=>{S.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),h?.(!T)},H=y==="horizontal"?"horizontal":"vertical";return j.jsxs(Am,{className:Rn(["react-flow__controls",H,d]),position:p,style:t,"data-testid":"rf__controls","aria-label":b??D["controls.ariaLabel"],children:[e&&j.jsxs(j.Fragment,{children:[j.jsx(Jf,{onClick:L,className:"react-flow__controls-zoomin",title:D["controls.zoomIn.ariaLabel"],"aria-label":D["controls.zoomIn.ariaLabel"],disabled:C,children:j.jsx(uF,{})}),j.jsx(Jf,{onClick:I,className:"react-flow__controls-zoomout",title:D["controls.zoomOut.ariaLabel"],"aria-label":D["controls.zoomOut.ariaLabel"],disabled:E,children:j.jsx(cF,{})})]}),n&&j.jsx(Jf,{className:"react-flow__controls-fitview",onClick:M,title:D["controls.fitView.ariaLabel"],"aria-label":D["controls.fitView.ariaLabel"],children:j.jsx(hF,{})}),r&&j.jsx(Jf,{className:"react-flow__controls-interactive",onClick:k,title:D["controls.interactive.ariaLabel"],"aria-label":D["controls.interactive.ariaLabel"],children:T?j.jsx(dF,{}):j.jsx(fF,{})}),m]})}mM.displayName="Controls";const pF=ce.memo(mM);function gF({id:t,x:e,y:n,width:r,height:i,style:o,color:l,strokeColor:c,strokeWidth:h,className:d,borderRadius:m,shapeRendering:p,selected:y,onClick:b}){const{background:S,backgroundColor:T}=o||{},E=l||S||T;return j.jsx("rect",{className:Rn(["react-flow__minimap-node",{selected:y},d]),x:e,y:n,rx:m,ry:m,width:r,height:i,style:{fill:E,stroke:c,strokeWidth:h},shapeRendering:p,onClick:b?C=>b(C,t):void 0})}const vF=ce.memo(gF),yF=t=>t.nodes.map(e=>e.id),Ng=t=>t instanceof Function?t:()=>t;function _F({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=vF,onClick:l}){const c=wt(yF,Qt),h=Ng(e),d=Ng(t),m=Ng(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return j.jsx(j.Fragment,{children:c.map(y=>j.jsx(wF,{id:y,nodeColorFunc:h,nodeStrokeColorFunc:d,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:l,shapeRendering:p},y))})}function bF({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:c,onClick:h}){const{node:d,x:m,y:p,width:y,height:b}=wt(S=>{const{internals:T}=S.nodeLookup.get(t),E=T.userNode,{x:C,y:D}=T.positionAbsolute,{width:A,height:z}=us(E);return{node:E,x:C,y:D,width:A,height:z}},Qt);return!d||d.hidden||!pN(d)?null:j.jsx(c,{x:m,y:p,width:y,height:b,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:o,shapeRendering:l,onClick:h,id:d.id})}const wF=ce.memo(bF);var SF=ce.memo(_F);const xF=200,EF=150,TF=t=>!t.hidden,AF=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?mN(ih(t.nodeLookup,{filter:TF}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},CF="react-flow__minimap-desc";function pM({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:h,maskColor:d,maskStrokeColor:m,maskStrokeWidth:p,position:y="bottom-right",onClick:b,onNodeClick:S,pannable:T=!1,zoomable:E=!1,ariaLabel:C,inversePan:D,zoomStep:A=1,offsetScale:z=5}){const U=Zt(),L=ce.useRef(null),{boundingRect:I,viewBB:M,rfId:k,panZoom:H,translateExtent:q,flowWidth:B,flowHeight:P,ariaLabelConfig:K}=wt(AF,Qt),te=t?.width??xF,$=t?.height??EF,W=I.width/te,re=I.height/$,oe=Math.max(W,re),ye=oe*te,Y=oe*$,ee=z*oe,pe=I.x-(ye-I.width)/2-ee,Q=I.y-(Y-I.height)/2-ee,ie=ye+ee*2,ue=Y+ee*2,ge=`${CF}-${k}`,be=ce.useRef(0),Ce=ce.useRef();be.current=oe,ce.useEffect(()=>{if(L.current&&H)return Ce.current=jU({domNode:L.current,panZoom:H,getTransform:()=>U.getState().transform,getViewScale:()=>be.current}),()=>{Ce.current?.destroy()}},[H]),ce.useEffect(()=>{Ce.current?.update({translateExtent:q,width:B,height:P,inversePan:D,pannable:T,zoomStep:A,zoomable:E})},[T,E,D,A,q,B,P]);const ze=b?Pe=>{const[Ge,Be]=Ce.current?.pointer(Pe)||[0,0];b(Pe,{x:Ge,y:Be})}:void 0,He=S?ce.useCallback((Pe,Ge)=>{const Be=U.getState().nodeLookup.get(Ge).internals.userNode;S(Pe,Be)},[]):void 0,je=C??K["minimap.ariaLabel"];return j.jsx(Am,{position:y,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*oe:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Rn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:j.jsxs("svg",{width:te,height:$,viewBox:`${pe} ${Q} ${ie} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ge,ref:L,onClick:ze,children:[je&&j.jsx("title",{id:ge,children:je}),j.jsx(SF,{onClick:He,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),j.jsx("path",{className:"react-flow__minimap-mask",d:`M${pe-ee},${Q-ee}h${ie+ee*2}v${ue+ee*2}h${-ie-ee*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}pM.displayName="MiniMap";const RF=ce.memo(pM),IF=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,NF={[$u.Line]:"right",[$u.Handle]:"bottom-right"};function MF({nodeId:t,position:e,variant:n=$u.Handle,className:r,style:i=void 0,children:o,color:l,minWidth:c=10,minHeight:h=10,maxWidth:d=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:y,autoScale:b=!0,shouldResize:S,onResizeStart:T,onResize:E,onResizeEnd:C}){const D=YN(),A=typeof t=="string"?t:D,z=Zt(),U=ce.useRef(null),L=n===$u.Handle,I=wt(ce.useCallback(IF(L&&b),[L,b]),Qt),M=ce.useRef(null),k=e??NF[n];ce.useEffect(()=>{if(!(!U.current||!A))return M.current||(M.current=nj({domNode:U.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:q,transform:B,snapGrid:P,snapToGrid:K,nodeOrigin:te,domNode:$}=z.getState();return{nodeLookup:q,transform:B,snapGrid:P,snapToGrid:K,nodeOrigin:te,paneDomNode:$}},onChange:(q,B)=>{const{triggerNodeChanges:P,nodeLookup:K,parentLookup:te,nodeOrigin:$}=z.getState(),W=[],re={x:q.x,y:q.y},oe=K.get(A);if(oe&&oe.expandParent&&oe.parentId){const ye=oe.origin??$,Y=q.width??oe.measured.width??0,ee=q.height??oe.measured.height??0,pe={id:oe.id,parentId:oe.parentId,rect:{width:Y,height:ee,...gN({x:q.x??oe.position.x,y:q.y??oe.position.y},{width:Y,height:ee},oe.parentId,K,ye)}},Q=q6([pe],K,te,$);W.push(...Q),re.x=q.x?Math.max(ye[0]*Y,q.x):void 0,re.y=q.y?Math.max(ye[1]*ee,q.y):void 0}if(re.x!==void 0&&re.y!==void 0){const ye={id:A,type:"position",position:{...re}};W.push(ye)}if(q.width!==void 0&&q.height!==void 0){const Y={id:A,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:q.width,height:q.height}};W.push(Y)}for(const ye of B){const Y={...ye,type:"position"};W.push(Y)}P(W)},onEnd:({width:q,height:B})=>{const P={id:A,type:"dimensions",resizing:!1,dimensions:{width:q,height:B}};z.getState().triggerNodeChanges([P])}})),M.current.update({controlPosition:k,boundaries:{minWidth:c,minHeight:h,maxWidth:d,maxHeight:m},keepAspectRatio:p,resizeDirection:y,onResizeStart:T,onResize:E,onResizeEnd:C,shouldResize:S}),()=>{M.current?.destroy()}},[k,c,h,d,m,p,T,E,C,S]);const H=k.split("-");return j.jsx("div",{className:Rn(["react-flow__resize-control","nodrag",...H,n,r]),ref:U,style:{...i,scale:I,...l&&{[L?"backgroundColor":"borderColor"]:l}},children:o})}ce.memo(MF);const kF=()=>{};var Zw={};const gM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},vM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,m=o>>2,p=(o&3)<<4|c>>4;let y=(c&15)<<2|d>>6,b=d&63;h||(b=64,l||(y=64)),r.push(n[m],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||p==null)throw new OF;const y=o<<2|c>>4;if(r.push(y),d!==64){const b=c<<4&240|d>>2;if(r.push(b),p!==64){const S=d<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zF=function(t){const e=gM(t);return vM.encodeByteArray(e,!0)},Fd=function(t){return zF(t).replace(/\./g,"")},yM=function(t){try{return vM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VF=()=>qF().__FIREBASE_DEFAULTS__,LF=()=>{if(typeof process>"u"||typeof Zw>"u")return;const t=Zw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yM(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return kF()||VF()||LF()||PF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_M=t=>Im()?.emulatorHosts?.[t],BF=t=>{const e=_M(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bM=()=>Im()?.config,wM=t=>Im()?.[`_${t}`];class UF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ic(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SM(t){return(await fetch(t,{credentials:"include"})).ok}function jF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fd(JSON.stringify(n)),Fd(JSON.stringify(l)),""].join(".")}const C0={};function HF(){const t={prod:[],emulator:[]};for(const e of Object.keys(C0))C0[e]?t.emulator.push(e):t.prod.push(e);return t}function FF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ww=!1;function xM(t,e){if(typeof window>"u"||typeof document>"u"||!ic(window.location.host)||C0[t]===e||C0[t]||Ww)return;C0[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=HF().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Ww=!0,l()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=FF(r),b=n("text"),S=document.getElementById(b)||document.createElement("span"),T=n("learnmore"),E=document.getElementById(T)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;c(A),m(E,T);const z=d();h(D,C),A.append(D,S,E,z),document.body.appendChild(A)}o?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function $F(){const t=Im()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QF(){const t=tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZF(){return!$F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WF(){try{return typeof indexedDB=="object"}catch{return!1}}function JF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const eG="FirebaseError";class cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eG,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?tG(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new cs(i,c,r)}}function tG(t,e){return t.replace(nG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nG=/\{\$([^}]+)}/g;function rG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Jw(o)&&Jw(l)){if(!yl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}function lh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iG(t,e){const n=new aG(t,e);return n.subscribe.bind(n)}class aG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mg),i.error===void 0&&(i.error=Mg),i.complete===void 0&&(i.complete=Mg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mg(){}function or(t){return t&&t._delegate?t._delegate:t}class _l{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const al="[DEFAULT]";class oG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uG(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lG(t){return t===al?void 0:t}function uG(t){return t.instantiationMode==="EAGER"}class cG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const hG={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},fG=gt.INFO,dG={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},mG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P6{constructor(e){this.name=e,this._logLevel=fG,this._logHandler=mG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const pG=(t,e)=>e.some(n=>t instanceof n);let eS,tS;function gG(){return eS||(eS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vG(){return tS||(tS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EM=new WeakMap,B5=new WeakMap,TM=new WeakMap,kg=new WeakMap,B6=new WeakMap;function yG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(oo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&EM.set(n,t)}).catch(()=>{}),B6.set(e,t),e}function _G(t){if(B5.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});B5.set(t,e)}let U5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bG(t){U5=t(U5)}function wG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dg(this),e,...n);return TM.set(r,e.sort?e.sort():[e]),oo(r)}:vG().includes(t)?function(...e){return t.apply(Dg(this),e),oo(EM.get(this))}:function(...e){return oo(t.apply(Dg(this),e))}}function SG(t){return typeof t=="function"?wG(t):(t instanceof IDBTransaction&&_G(t),pG(t,gG())?new Proxy(t,U5):t)}function oo(t){if(t instanceof IDBRequest)return yG(t);if(kg.has(t))return kg.get(t);const e=SG(t);return e!==t&&(kg.set(t,e),B6.set(e,t)),e}const Dg=t=>B6.get(t);function xG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=oo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(oo(l.result),h.oldVersion,h.newVersion,oo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const EG=["get","getKey","getAll","getAllKeys","count"],TG=["put","add","delete","clear"],Og=new Map;function nS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Og.get(e))return Og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EG.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&h.done]))[0]};return Og.set(e,o),o}bG(t=>({...t,get:(e,n,r)=>nS(e,n)||t.get(e,n,r),has:(e,n)=>!!nS(e,n)||t.has(e,n)}));class AG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CG(t){return t.getComponent()?.type==="VERSION"}const j5="@firebase/app",rS="0.14.6";const ns=new P6("@firebase/app"),RG="@firebase/app-compat",IG="@firebase/analytics-compat",NG="@firebase/analytics",MG="@firebase/app-check-compat",kG="@firebase/app-check",DG="@firebase/auth",OG="@firebase/auth-compat",zG="@firebase/database",qG="@firebase/data-connect",VG="@firebase/database-compat",LG="@firebase/functions",PG="@firebase/functions-compat",BG="@firebase/installations",UG="@firebase/installations-compat",jG="@firebase/messaging",HG="@firebase/messaging-compat",FG="@firebase/performance",GG="@firebase/performance-compat",$G="@firebase/remote-config",YG="@firebase/remote-config-compat",XG="@firebase/storage",KG="@firebase/storage-compat",QG="@firebase/firestore",ZG="@firebase/ai",WG="@firebase/firestore-compat",JG="firebase",e$="12.6.0";const H5="[DEFAULT]",t$={[j5]:"fire-core",[RG]:"fire-core-compat",[NG]:"fire-analytics",[IG]:"fire-analytics-compat",[kG]:"fire-app-check",[MG]:"fire-app-check-compat",[DG]:"fire-auth",[OG]:"fire-auth-compat",[zG]:"fire-rtdb",[qG]:"fire-data-connect",[VG]:"fire-rtdb-compat",[LG]:"fire-fn",[PG]:"fire-fn-compat",[BG]:"fire-iid",[UG]:"fire-iid-compat",[jG]:"fire-fcm",[HG]:"fire-fcm-compat",[FG]:"fire-perf",[GG]:"fire-perf-compat",[$G]:"fire-rc",[YG]:"fire-rc-compat",[XG]:"fire-gcs",[KG]:"fire-gcs-compat",[QG]:"fire-fst",[WG]:"fire-fst-compat",[ZG]:"fire-vertex","fire-js":"fire-js",[JG]:"fire-js-all"};const Gd=new Map,n$=new Map,F5=new Map;function iS(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(F5.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;F5.set(e,t);for(const n of Gd.values())iS(n,t);for(const n of n$.values())iS(n,t);return!0}function U6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t){return t==null?!1:t.settings!==void 0}const r$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new oh("app","Firebase",r$);class i${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}const ac=e$;function AM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:H5,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw lo.create("bad-app-name",{appName:String(i)});if(n||(n=bM()),!n)throw lo.create("no-options");const o=Gd.get(i);if(o){if(yl(n,o.options)&&yl(r,o.config))return o;throw lo.create("duplicate-app",{appName:i})}const l=new cG(i);for(const h of F5.values())l.addComponent(h);const c=new i$(n,r,l);return Gd.set(i,c),c}function CM(t=H5){const e=Gd.get(t);if(!e&&t===H5&&bM())return AM();if(!e)throw lo.create("no-app",{appName:t});return e}function uo(t,e,n){let r=t$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(l.join(" "));return}Xu(new _l(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const a$="firebase-heartbeat-database",s$=1,F0="firebase-heartbeat-store";let zg=null;function RM(){return zg||(zg=xG(a$,s$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(F0)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),zg}async function o$(t){try{const n=(await RM()).transaction(F0),r=await n.objectStore(F0).get(IM(t));return await n.done,r}catch(e){if(e instanceof cs)ns.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e?.message});ns.warn(n.message)}}}async function aS(t,e){try{const r=(await RM()).transaction(F0,"readwrite");await r.objectStore(F0).put(e,IM(t)),await r.done}catch(n){if(n instanceof cs)ns.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n?.message});ns.warn(r.message)}}}function IM(t){return`${t.name}!${t.options.appId}`}const l$=1024,u$=30;class c${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>u$){const i=d$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sS(),{heartbeatsToSend:n,unsentEntries:r}=h$(this._heartbeatsCache.heartbeats),i=Fd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ns.warn(e),""}}}function sS(){return new Date().toISOString().substring(0,10)}function h$(t,e=l$){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),oS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WF()?JF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oS(t){return Fd(JSON.stringify({version:2,heartbeats:t})).length}function d$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function m$(t){Xu(new _l("platform-logger",e=>new AG(e),"PRIVATE")),Xu(new _l("heartbeat",e=>new c$(e),"PRIVATE")),uo(j5,rS,t),uo(j5,rS,"esm2020"),uo("fire-js","")}m$("");var lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var co,NM;(function(){var t;function e(I,M){function k(){}k.prototype=M.prototype,I.F=M.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(H,q,B){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return M.prototype[q].apply(H,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,M,k){k||(k=0);const H=Array(16);if(typeof M=="string")for(var q=0;q<16;++q)H[q]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(q=0;q<16;++q)H[q]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=I.g[0],k=I.g[1],q=I.g[2];let B=I.g[3],P;P=M+(B^k&(q^B))+H[0]+3614090360&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(q^M&(k^q))+H[1]+3905402710&4294967295,B=M+(P<<12&4294967295|P>>>20),P=q+(k^B&(M^k))+H[2]+606105819&4294967295,q=B+(P<<17&4294967295|P>>>15),P=k+(M^q&(B^M))+H[3]+3250441966&4294967295,k=q+(P<<22&4294967295|P>>>10),P=M+(B^k&(q^B))+H[4]+4118548399&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(q^M&(k^q))+H[5]+1200080426&4294967295,B=M+(P<<12&4294967295|P>>>20),P=q+(k^B&(M^k))+H[6]+2821735955&4294967295,q=B+(P<<17&4294967295|P>>>15),P=k+(M^q&(B^M))+H[7]+4249261313&4294967295,k=q+(P<<22&4294967295|P>>>10),P=M+(B^k&(q^B))+H[8]+1770035416&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(q^M&(k^q))+H[9]+2336552879&4294967295,B=M+(P<<12&4294967295|P>>>20),P=q+(k^B&(M^k))+H[10]+4294925233&4294967295,q=B+(P<<17&4294967295|P>>>15),P=k+(M^q&(B^M))+H[11]+2304563134&4294967295,k=q+(P<<22&4294967295|P>>>10),P=M+(B^k&(q^B))+H[12]+1804603682&4294967295,M=k+(P<<7&4294967295|P>>>25),P=B+(q^M&(k^q))+H[13]+4254626195&4294967295,B=M+(P<<12&4294967295|P>>>20),P=q+(k^B&(M^k))+H[14]+2792965006&4294967295,q=B+(P<<17&4294967295|P>>>15),P=k+(M^q&(B^M))+H[15]+1236535329&4294967295,k=q+(P<<22&4294967295|P>>>10),P=M+(q^B&(k^q))+H[1]+4129170786&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^q&(M^k))+H[6]+3225465664&4294967295,B=M+(P<<9&4294967295|P>>>23),P=q+(M^k&(B^M))+H[11]+643717713&4294967295,q=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(q^B))+H[0]+3921069994&4294967295,k=q+(P<<20&4294967295|P>>>12),P=M+(q^B&(k^q))+H[5]+3593408605&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^q&(M^k))+H[10]+38016083&4294967295,B=M+(P<<9&4294967295|P>>>23),P=q+(M^k&(B^M))+H[15]+3634488961&4294967295,q=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(q^B))+H[4]+3889429448&4294967295,k=q+(P<<20&4294967295|P>>>12),P=M+(q^B&(k^q))+H[9]+568446438&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^q&(M^k))+H[14]+3275163606&4294967295,B=M+(P<<9&4294967295|P>>>23),P=q+(M^k&(B^M))+H[3]+4107603335&4294967295,q=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(q^B))+H[8]+1163531501&4294967295,k=q+(P<<20&4294967295|P>>>12),P=M+(q^B&(k^q))+H[13]+2850285829&4294967295,M=k+(P<<5&4294967295|P>>>27),P=B+(k^q&(M^k))+H[2]+4243563512&4294967295,B=M+(P<<9&4294967295|P>>>23),P=q+(M^k&(B^M))+H[7]+1735328473&4294967295,q=B+(P<<14&4294967295|P>>>18),P=k+(B^M&(q^B))+H[12]+2368359562&4294967295,k=q+(P<<20&4294967295|P>>>12),P=M+(k^q^B)+H[5]+4294588738&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^q)+H[8]+2272392833&4294967295,B=M+(P<<11&4294967295|P>>>21),P=q+(B^M^k)+H[11]+1839030562&4294967295,q=B+(P<<16&4294967295|P>>>16),P=k+(q^B^M)+H[14]+4259657740&4294967295,k=q+(P<<23&4294967295|P>>>9),P=M+(k^q^B)+H[1]+2763975236&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^q)+H[4]+1272893353&4294967295,B=M+(P<<11&4294967295|P>>>21),P=q+(B^M^k)+H[7]+4139469664&4294967295,q=B+(P<<16&4294967295|P>>>16),P=k+(q^B^M)+H[10]+3200236656&4294967295,k=q+(P<<23&4294967295|P>>>9),P=M+(k^q^B)+H[13]+681279174&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^q)+H[0]+3936430074&4294967295,B=M+(P<<11&4294967295|P>>>21),P=q+(B^M^k)+H[3]+3572445317&4294967295,q=B+(P<<16&4294967295|P>>>16),P=k+(q^B^M)+H[6]+76029189&4294967295,k=q+(P<<23&4294967295|P>>>9),P=M+(k^q^B)+H[9]+3654602809&4294967295,M=k+(P<<4&4294967295|P>>>28),P=B+(M^k^q)+H[12]+3873151461&4294967295,B=M+(P<<11&4294967295|P>>>21),P=q+(B^M^k)+H[15]+530742520&4294967295,q=B+(P<<16&4294967295|P>>>16),P=k+(q^B^M)+H[2]+3299628645&4294967295,k=q+(P<<23&4294967295|P>>>9),P=M+(q^(k|~B))+H[0]+4096336452&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~q))+H[7]+1126891415&4294967295,B=M+(P<<10&4294967295|P>>>22),P=q+(M^(B|~k))+H[14]+2878612391&4294967295,q=B+(P<<15&4294967295|P>>>17),P=k+(B^(q|~M))+H[5]+4237533241&4294967295,k=q+(P<<21&4294967295|P>>>11),P=M+(q^(k|~B))+H[12]+1700485571&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~q))+H[3]+2399980690&4294967295,B=M+(P<<10&4294967295|P>>>22),P=q+(M^(B|~k))+H[10]+4293915773&4294967295,q=B+(P<<15&4294967295|P>>>17),P=k+(B^(q|~M))+H[1]+2240044497&4294967295,k=q+(P<<21&4294967295|P>>>11),P=M+(q^(k|~B))+H[8]+1873313359&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~q))+H[15]+4264355552&4294967295,B=M+(P<<10&4294967295|P>>>22),P=q+(M^(B|~k))+H[6]+2734768916&4294967295,q=B+(P<<15&4294967295|P>>>17),P=k+(B^(q|~M))+H[13]+1309151649&4294967295,k=q+(P<<21&4294967295|P>>>11),P=M+(q^(k|~B))+H[4]+4149444226&4294967295,M=k+(P<<6&4294967295|P>>>26),P=B+(k^(M|~q))+H[11]+3174756917&4294967295,B=M+(P<<10&4294967295|P>>>22),P=q+(M^(B|~k))+H[2]+718787259&4294967295,q=B+(P<<15&4294967295|P>>>17),P=k+(B^(q|~M))+H[9]+3951481745&4294967295,I.g[0]=I.g[0]+M&4294967295,I.g[1]=I.g[1]+(q+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+q&4294967295,I.g[3]=I.g[3]+B&4294967295}r.prototype.v=function(I,M){M===void 0&&(M=I.length);const k=M-this.blockSize,H=this.C;let q=this.h,B=0;for(;B<M;){if(q==0)for(;B<=k;)i(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<M;)if(H[q++]=I.charCodeAt(B++),q==this.blockSize){i(this,H),q=0;break}}else for(;B<M;)if(H[q++]=I[B++],q==this.blockSize){i(this,H),q=0;break}}this.h=q,this.o+=M},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var M=1;M<I.length-8;++M)I[M]=0;M=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=M&255,M/=256;for(this.v(I),I=Array(16),M=0,k=0;k<4;++k)for(let H=0;H<32;H+=8)I[M++]=this.g[k]>>>H&255;return I};function o(I,M){var k=c;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=M(I)}function l(I,M){this.h=M;const k=[];let H=!0;for(let q=I.length-1;q>=0;q--){const B=I[q]|0;H&&B==M||(k[q]=B,H=!1)}this.g=k}var c={};function h(I){return-128<=I&&I<128?o(I,function(M){return new l([M|0],M<0?-1:0)}):new l([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return E(d(-I));const M=[];let k=1;for(let H=0;I>=k;H++)M[H]=I/k|0,k*=4294967296;return new l(M,0)}function m(I,M){if(I.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(I.charAt(0)=="-")return E(m(I.substring(1),M));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(M,8));let H=p;for(let B=0;B<I.length;B+=8){var q=Math.min(8,I.length-B);const P=parseInt(I.substring(B,B+q),M);q<8?(q=d(Math.pow(M,q)),H=H.j(q).add(d(P))):(H=H.j(k),H=H.add(d(P)))}return H}var p=h(0),y=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(T(this))return-E(this).m();let I=0,M=1;for(let k=0;k<this.g.length;k++){const H=this.i(k);I+=(H>=0?H:4294967296+H)*M,M*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(T(this))return"-"+E(this).toString(I);const M=d(Math.pow(I,6));var k=this;let H="";for(;;){const q=z(k,M).g;k=C(k,q.j(M));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=q,S(k))return B+H;for(;B.length<6;)B="0"+B;H=B+H}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let M=0;M<I.g.length;M++)if(I.g[M]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=C(this,I),T(I)?-1:S(I)?0:1};function E(I){const M=I.g.length,k=[];for(let H=0;H<M;H++)k[H]=~I.g[H];return new l(k,~I.h).add(y)}t.abs=function(){return T(this)?E(this):this},t.add=function(I){const M=Math.max(this.g.length,I.g.length),k=[];let H=0;for(let q=0;q<=M;q++){let B=H+(this.i(q)&65535)+(I.i(q)&65535),P=(B>>>16)+(this.i(q)>>>16)+(I.i(q)>>>16);H=P>>>16,B&=65535,P&=65535,k[q]=P<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(I,M){return I.add(E(M))}t.j=function(I){if(S(this)||S(I))return p;if(T(this))return T(I)?E(this).j(E(I)):E(E(this).j(I));if(T(I))return E(this.j(E(I)));if(this.l(b)<0&&I.l(b)<0)return d(this.m()*I.m());const M=this.g.length+I.g.length,k=[];for(var H=0;H<2*M;H++)k[H]=0;for(H=0;H<this.g.length;H++)for(let q=0;q<I.g.length;q++){const B=this.i(H)>>>16,P=this.i(H)&65535,K=I.i(q)>>>16,te=I.i(q)&65535;k[2*H+2*q]+=P*te,D(k,2*H+2*q),k[2*H+2*q+1]+=B*te,D(k,2*H+2*q+1),k[2*H+2*q+1]+=P*K,D(k,2*H+2*q+1),k[2*H+2*q+2]+=B*K,D(k,2*H+2*q+2)}for(I=0;I<M;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=M;I<2*M;I++)k[I]=0;return new l(k,0)};function D(I,M){for(;(I[M]&65535)!=I[M];)I[M+1]+=I[M]>>>16,I[M]&=65535,M++}function A(I,M){this.g=I,this.h=M}function z(I,M){if(S(M))throw Error("division by zero");if(S(I))return new A(p,p);if(T(I))return M=z(E(I),M),new A(E(M.g),E(M.h));if(T(M))return M=z(I,E(M)),new A(E(M.g),M.h);if(I.g.length>30){if(T(I)||T(M))throw Error("slowDivide_ only works with positive integers.");for(var k=y,H=M;H.l(I)<=0;)k=U(k),H=U(H);var q=L(k,1),B=L(H,1);for(H=L(H,2),k=L(k,2);!S(H);){var P=B.add(H);P.l(I)<=0&&(q=q.add(k),B=P),H=L(H,1),k=L(k,1)}return M=C(I,q.j(M)),new A(q,M)}for(q=p;I.l(M)>=0;){for(k=Math.max(1,Math.floor(I.m()/M.m())),H=Math.ceil(Math.log(k)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),B=d(k),P=B.j(M);T(P)||P.l(I)>0;)k-=H,B=d(k),P=B.j(M);S(B)&&(B=y),q=q.add(B),I=C(I,P)}return new A(q,I)}t.B=function(I){return z(this,I).h},t.and=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)&I.i(H);return new l(k,this.h&I.h)},t.or=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)|I.i(H);return new l(k,this.h|I.h)},t.xor=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)^I.i(H);return new l(k,this.h^I.h)};function U(I){const M=I.g.length+1,k=[];for(let H=0;H<M;H++)k[H]=I.i(H)<<1|I.i(H-1)>>>31;return new l(k,I.h)}function L(I,M){const k=M>>5;M%=32;const H=I.g.length-k,q=[];for(let B=0;B<H;B++)q[B]=M>0?I.i(B+k)>>>M|I.i(B+k+1)<<32-M:I.i(B+k);return new l(q,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,co=l}).apply(typeof lS<"u"?lS:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var MM,v0,kM,wd,G5,DM,OM,zM;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var x=0;x<g.length;++x){var O=g[x];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(g,x){if(x)e:{var O=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var he=g[X];if(!(he in O))break e;O=O[he]}g=g[g.length-1],X=O[g],x=x(X),x!=X&&x!=null&&e(O,g,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(x){var O=[],X;for(X in x)Object.prototype.hasOwnProperty.call(x,X)&&O.push([X,x[X]]);return O}});var o=o||{},l=this||self;function c(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function h(g,x,O){return g.call.apply(g.bind,arguments)}function d(g,x,O){return d=h,d.apply(null,arguments)}function m(g,x){var O=Array.prototype.slice.call(arguments,1);return function(){var X=O.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function p(g,x){function O(){}O.prototype=x.prototype,g.Z=x.prototype,g.prototype=new O,g.prototype.constructor=g,g.Ob=function(X,he,_e){for(var Me=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Me[ot-2]=arguments[ot];return x.prototype[he].apply(X,Me)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const x=g.length;if(x>0){const O=Array(x);for(let X=0;X<x;X++)O[X]=g[X];return O}return[]}function S(g,x){for(let X=1;X<arguments.length;X++){const he=arguments[X];var O=typeof he;if(O=O!="object"?O:he?Array.isArray(he)?"array":O:"null",O=="array"||O=="object"&&typeof he.length=="number"){O=g.length||0;const _e=he.length||0;g.length=O+_e;for(let Me=0;Me<_e;Me++)g[O+Me]=he[Me]}else g.push(he)}}class T{constructor(x,O){this.i=x,this.j=O,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function E(g){l.setTimeout(()=>{throw g},0)}function C(){var g=I;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class D{constructor(){this.h=this.g=null}add(x,O){const X=A.get();X.set(x,O),this.h?this.h.next=X:this.g=X,this.h=X}}var A=new T(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(x,O){this.h=x,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let U,L=!1,I=new D,M=()=>{const g=Promise.resolve(void 0);U=()=>{g.then(k)}};function k(){for(var g;g=C();){try{g.h.call(g.g)}catch(O){E(O)}var x=A;x.j(g),x.h<100&&(x.h++,g.next=x.g,x.g=g)}L=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};l.addEventListener("test",O,x),l.removeEventListener("test",O,x)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function K(g,x){q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,x)}p(K,q),K.prototype.init=function(g,x){const O=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget,x||(O=="mouseover"?x=g.fromElement:O=="mouseout"&&(x=g.toElement)),this.relatedTarget=x,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(g,x,O,X,he){this.listener=g,this.proxy=null,this.src=x,this.type=O,this.capture=!!X,this.ha=he,this.key=++$,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function oe(g,x,O){for(const X in g)x.call(O,g[X],X,g)}function ye(g,x){for(const O in g)x.call(void 0,g[O],O,g)}function Y(g){const x={};for(const O in g)x[O]=g[O];return x}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,x){let O,X;for(let he=1;he<arguments.length;he++){X=arguments[he];for(O in X)g[O]=X[O];for(let _e=0;_e<ee.length;_e++)O=ee[_e],Object.prototype.hasOwnProperty.call(X,O)&&(g[O]=X[O])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,x,O,X,he){const _e=g.toString();g=this.g[_e],g||(g=this.g[_e]=[],this.h++);const Me=ue(g,x,X,he);return Me>-1?(x=g[Me],O||(x.fa=!1)):(x=new W(x,this.src,_e,!!X,he),x.fa=O,g.push(x)),x};function ie(g,x){const O=x.type;if(O in g.g){var X=g.g[O],he=Array.prototype.indexOf.call(X,x,void 0),_e;(_e=he>=0)&&Array.prototype.splice.call(X,he,1),_e&&(re(x),g.g[O].length==0&&(delete g.g[O],g.h--))}}function ue(g,x,O,X){for(let he=0;he<g.length;++he){const _e=g[he];if(!_e.da&&_e.listener==x&&_e.capture==!!O&&_e.ha==X)return he}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),be={};function Ce(g,x,O,X,he){if(Array.isArray(x)){for(let _e=0;_e<x.length;_e++)Ce(g,x[_e],O,X,he);return null}return O=Bt(O),g&&g[te]?g.J(x,O,c(X)?!!X.capture:!1,he):ze(g,x,O,!1,X,he)}function ze(g,x,O,X,he,_e){if(!x)throw Error("Invalid event type");const Me=c(he)?!!he.capture:!!he;let ot=rt(g);if(ot||(g[ge]=ot=new Q(g)),O=ot.add(x,O,X,Me,_e),O.proxy)return O;if(X=He(),O.proxy=X,X.src=g,X.listener=O,g.addEventListener)B||(he=Me),he===void 0&&(he=!1),g.addEventListener(x.toString(),X,he);else if(g.attachEvent)g.attachEvent(Ge(x.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return O}function He(){function g(O){return x.call(g.src,g.listener,O)}const x=Be;return g}function je(g,x,O,X,he){if(Array.isArray(x))for(var _e=0;_e<x.length;_e++)je(g,x[_e],O,X,he);else X=c(X)?!!X.capture:!!X,O=Bt(O),g&&g[te]?(g=g.i,_e=String(x).toString(),_e in g.g&&(x=g.g[_e],O=ue(x,O,X,he),O>-1&&(re(x[O]),Array.prototype.splice.call(x,O,1),x.length==0&&(delete g.g[_e],g.h--)))):g&&(g=rt(g))&&(x=g.g[x.toString()],g=-1,x&&(g=ue(x,O,X,he)),(O=g>-1?x[g]:null)&&Pe(O))}function Pe(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[te])ie(x.i,g);else{var O=g.type,X=g.proxy;x.removeEventListener?x.removeEventListener(O,X,g.capture):x.detachEvent?x.detachEvent(Ge(O),X):x.addListener&&x.removeListener&&x.removeListener(X),(O=rt(x))?(ie(O,g),O.h==0&&(O.src=null,x[ge]=null)):re(g)}}}function Ge(g){return g in be?be[g]:be[g]="on"+g}function Be(g,x){if(g.da)g=!0;else{x=new K(x,this);const O=g.listener,X=g.ha||g.src;g.fa&&Pe(g),g=O.call(X,x)}return g}function rt(g){return g=g[ge],g instanceof Q?g:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bt(g){return typeof g=="function"?g:(g[$e]||(g[$e]=function(x){return g.handleEvent(x)}),g[$e])}function st(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}p(st,H),st.prototype[te]=!0,st.prototype.removeEventListener=function(g,x,O,X){je(this,g,x,O,X)};function Nt(g,x){var O,X=g.G;if(X)for(O=[];X;X=X.G)O.push(X);if(g=g.M,X=x.type||x,typeof x=="string")x=new q(x,g);else if(x instanceof q)x.target=x.target||g;else{var he=x;x=new q(X,g),pe(x,he)}he=!0;let _e,Me;if(O)for(Me=O.length-1;Me>=0;Me--)_e=x.g=O[Me],he=Mn(_e,X,!0,x)&&he;if(_e=x.g=g,he=Mn(_e,X,!0,x)&&he,he=Mn(_e,X,!1,x)&&he,O)for(Me=0;Me<O.length;Me++)_e=x.g=O[Me],he=Mn(_e,X,!1,x)&&he}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var g=this.i;for(const x in g.g){const O=g.g[x];for(let X=0;X<O.length;X++)re(O[X]);delete g.g[x],g.h--}}this.G=null},st.prototype.J=function(g,x,O,X){return this.i.add(String(g),x,!1,O,X)},st.prototype.K=function(g,x,O,X){return this.i.add(String(g),x,!0,O,X)};function Mn(g,x,O,X){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();let he=!0;for(let _e=0;_e<x.length;++_e){const Me=x[_e];if(Me&&!Me.da&&Me.capture==O){const ot=Me.listener,dn=Me.ha||Me.src;Me.fa&&ie(g.i,Me),he=ot.call(dn,X)!==!1&&he}}return he&&!X.defaultPrevented}function zn(g,x){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(g,x||0)}function Ht(g){g.g=zn(()=>{g.g=null,g.i&&(g.i=!1,Ht(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class Yt extends H{constructor(x,O){super(),this.m=x,this.l=O,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(g){H.call(this),this.h=g,this.g={}}p(Pn,H);var ur=[];function cr(g){oe(g.g,function(x,O){this.g.hasOwnProperty(O)&&Pe(x)},g),g.g={}}Pn.prototype.N=function(){Pn.Z.N.call(this),cr(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=l.JSON.stringify,ms=l.JSON.parse,gi=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function ps(){}function _a(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){q.call(this,"d")}p(Vt,q);function hr(){q.call(this,"c")}p(hr,q);var en={},kl=null;function gs(){return kl=kl||new st}en.Ia="serverreachability";function Dl(g){q.call(this,en.Ia,g)}p(Dl,q);function jr(g){const x=gs();Nt(x,new Dl(x))}en.STAT_EVENT="statevent";function ba(g,x){q.call(this,en.STAT_EVENT,g),this.stat=x}p(ba,q);function sn(g){const x=gs();Nt(x,new ba(x,g))}en.Ja="timingevent";function Hr(g,x){q.call(this,en.Ja,g),this.size=x}p(Hr,q);function Fr(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},x)}function Tr(){this.g=!0}Tr.prototype.ua=function(){this.g=!1};function _c(g,x,O,X,he,_e){g.info(function(){if(g.g)if(_e){var Me="",ot=_e.split("&");for(let Ct=0;Ct<ot.length;Ct++){var dn=ot[Ct].split("=");if(dn.length>1){const Xt=dn[0];dn=dn[1];const Jr=Xt.split("_");Me=Jr.length>=2&&Jr[1]=="type"?Me+(Xt+"="+dn+"&"):Me+(Xt+"=redacted&")}}}else Me=null;else Me=_e;return"XMLHTTP REQ ("+X+") [attempt "+he+"]: "+x+`
`+O+`
`+Me})}function Ol(g,x,O,X,he,_e,Me){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+he+"]: "+x+`
`+O+`
`+_e+" "+Me})}function Gr(g,x,O,X){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+bc(g,O)+(X?" "+X:"")})}function wa(g,x){g.info(function(){return"TIMEOUT: "+x})}Tr.prototype.info=function(){};function bc(g,x){if(!g.g)return x;if(!x)return null;try{const _e=JSON.parse(x);if(_e){for(g=0;g<_e.length;g++)if(Array.isArray(_e[g])){var O=_e[g];if(!(O.length<2)){var X=O[1];if(Array.isArray(X)&&!(X.length<1)){var he=X[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Me=1;Me<X.length;Me++)X[Me]=""}}}}return qn(_e)}catch{return x}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function xa(){}p(xa,ps),xa.prototype.g=function(){return new XMLHttpRequest},Ao=new xa;function vi(g){return encodeURIComponent(String(g))}function zl(g){var x=1;g=g.split(":");const O=[];for(;x>0&&g.length;)O.push(g.shift()),x--;return g.length&&O.push(g.join(":")),O}function Ar(g,x,O,X){this.j=g,this.i=x,this.l=O,this.S=X||1,this.V=new Pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cr}function Cr(){this.i=null,this.g="",this.h=!1}var on={},_n={};function Rr(g,x,O){g.M=1,g.A=Ta(un(x)),g.u=O,g.R=!0,Ea(g,null)}function Ea(g,x){g.F=Date.now(),$r(g),g.B=un(g.A);var O=g.B,X=g.S;Array.isArray(X)||(X=[String(X)]),Ul(O.i,"t",X),g.C=0,O=g.j.L,g.h=new Cr,g.g=qh(g.j,O?x:null,!g.u),g.P>0&&(g.O=new Yt(d(g.Y,g,g.g),g.P)),x=g.V,O=g.g,X=g.ba;var he="readystatechange";Array.isArray(he)||(he&&(ur[0]=he.toString()),he=ur);for(let _e=0;_e<he.length;_e++){const Me=Ce(O,he[_e],X||x.handleEvent,!1,x.h||x);if(!Me)break;x.g[Me.key]=Me}x=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,x)):(g.v="GET",g.g.ea(g.B,g.v,null,x)),jr(),_c(g.i,g.v,g.B,g.l,g.S,g.u)}Ar.prototype.ba=function(g){g=g.target;const x=this.O;x&&wi(g)==3?x.j():this.Y(g)},Ar.prototype.Y=function(g){try{if(g==this.g)e:{const ot=wi(this.g),dn=this.g.ya(),Ct=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||Bn(this.g)))){this.K||ot!=4||dn==7||(dn==8||Ct<=0?jr(3):jr(2)),Yr(this);var x=this.g.ca();this.X=x;var O=ql(this);if(this.o=x==200,Ol(this.i,this.v,this.B,this.l,this.S,ot,x),this.o){if(this.U&&!this.L){t:{if(this.g){var X,he=this.g;if((X=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(X)){var _e=X;break t}}_e=null}if(g=_e)Gr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xr(this,g);else{this.o=!1,this.m=3,sn(12),Xn(this),fr(this);break e}}if(this.R){g=!0;let Xt;for(;!this.K&&this.C<O.length;)if(Xt=Ll(this,O),Xt==_n){ot==4&&(this.m=4,sn(14),g=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==on){this.m=4,sn(15),Gr(this.i,this.l,O,"[Invalid Chunk]"),g=!1;break}else Gr(this.i,this.l,Xt,null),Xr(this,Xt);if(Vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||O.length!=0||this.h.h||(this.m=1,sn(16),g=!1),this.o=this.o&&g,!g)Gr(this.i,this.l,O,"[Invalid Chunked Response]"),Xn(this),fr(this);else if(O.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Rc(Me),Me.P=!0,sn(11))}}else Gr(this.i,this.l,O,null),Xr(this,O);ot==4&&Xn(this),this.o&&!this.K&&(ot==4?kh(this.j,this):(this.o=!1,$r(this)))}else Ra(this.g),x==400&&O.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Xn(this),fr(this)}}}catch{}};function ql(g){if(!Vl(g))return g.g.la();const x=Bn(g.g);if(x==="")return"";let O="";const X=x.length,he=wi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Xn(g),fr(g),"";g.h.i=new l.TextDecoder}for(let _e=0;_e<X;_e++)g.h.h=!0,O+=g.h.i.decode(x[_e],{stream:!(he&&_e==X-1)});return x.length=0,g.h.g+=O,g.C=0,g.h.g}function Vl(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Ll(g,x){var O=g.C,X=x.indexOf(`
`,O);return X==-1?_n:(O=Number(x.substring(O,X)),isNaN(O)?on:(X+=1,X+O>x.length?_n:(x=x.slice(X,X+O),g.C=X+O,x)))}Ar.prototype.cancel=function(){this.K=!0,Xn(this)};function $r(g){g.T=Date.now()+g.H,vs(g,g.H)}function vs(g,x){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Fr(d(g.aa,g),x)}function Yr(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Ar.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(wa(this.i,this.B),this.M!=2&&(jr(),sn(17)),Xn(this),this.m=2,fr(this)):vs(this,this.T-g)};function fr(g){g.j.I==0||g.K||kh(g.j,g)}function Xn(g){Yr(g);var x=g.O;x&&typeof x.dispose=="function"&&x.dispose(),g.O=null,cr(g.V),g.g&&(x=g.g,g.g=null,x.abort(),x.dispose())}function Xr(g,x){try{var O=g.j;if(O.I!=0&&(O.g==g||Qr(O.h,g))){if(!g.L&&Qr(O.h,g)&&O.I==3){try{var X=O.Ba.g.parse(x)}catch{X=null}if(Array.isArray(X)&&X.length==3){var he=X;if(he[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<g.F)$l(O),Ts(O);else break e;Lo(O),sn(18)}}else O.xa=he[1],0<O.xa-O.K&&he[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Fr(d(O.Va,O),6e3));Kr(O.h)<=1&&O.ta&&(O.ta=void 0)}else $i(O,11)}else if((g.L||O.g==g)&&$l(O),!P(x))for(he=O.Ba.g.parse(x),x=0;x<he.length;x++){let Ct=he[x];const Xt=Ct[0];if(!(Xt<=O.K))if(O.K=Xt,Ct=Ct[1],O.I==2)if(Ct[0]=="c"){O.M=Ct[1],O.ba=Ct[2];const Jr=Ct[3];Jr!=null&&(O.ka=Jr,O.j.info("VER="+O.ka));const Yi=Ct[4];Yi!=null&&(O.za=Yi,O.j.info("SVER="+O.za));const Si=Ct[5];Si!=null&&typeof Si=="number"&&Si>0&&(X=1.5*Si,O.O=X,O.j.info("backChannelRequestTimeoutMs_="+X)),X=O;const xi=g.g;if(xi){const Po=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Po){var _e=X.h;_e.g||Po.indexOf("spdy")==-1&&Po.indexOf("quic")==-1&&Po.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Io(_e,_e.h),_e.h=null))}if(X.G){const Yl=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(X.wa=Yl,xt(X.J,X.G,Yl))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-g.F,O.j.info("Handshake RTT: "+O.T+"ms")),X=O;var Me=g;if(X.na=zh(X,X.L?X.ba:null,X.W),Me.L){ys(X.h,Me);var ot=Me,dn=X.O;dn&&(ot.H=dn),ot.D&&(Yr(ot),$r(ot)),X.g=Me}else Nh(X);O.i.length>0&&Gi(O)}else Ct[0]!="stop"&&Ct[0]!="close"||$i(O,7);else O.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?$i(O,7):Ac(O):Ct[0]!="noop"&&O.l&&O.l.qa(Ct),O.A=0)}}jr(4)}catch{}}var ln=class{constructor(g,x){this.g=g,this.map=x}};function Co(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Kr(g){return g.h?1:g.g?g.g.size:0}function Qr(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Io(g,x){g.g?g.g.add(x):g.h=x}function ys(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}Co.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function No(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const O of g.g.values())x=x.concat(O.G);return x}return b(g.i)}var Pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _s(g,x){if(g){g=g.split("&");for(let O=0;O<g.length;O++){const X=g[O].indexOf("=");let he,_e=null;X>=0?(he=g[O].substring(0,X),_e=g[O].substring(X+1)):he=g[O],x(he,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function nr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;g instanceof nr?(this.l=g.l,bn(this,g.j),this.o=g.o,this.g=g.g,Bi(this,g.u),this.h=g.h,Mo(this,Rh(g.i)),this.m=g.m):g&&(x=String(g).match(Pl))?(this.l=!1,bn(this,x[1]||"",!0),this.o=Ir(x[2]||""),this.g=Ir(x[3]||"",!0),Bi(this,x[4]),this.h=Ir(x[5]||"",!0),Mo(this,x[6]||"",!0),this.m=Ir(x[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}nr.prototype.toString=function(){const g=[];var x=this.j;x&&g.push(Aa(x,Ui,!0),":");var O=this.g;return(O||x=="file")&&(g.push("//"),(x=this.o)&&g.push(Aa(x,Ui,!0),"@"),g.push(vi(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&g.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(Aa(O,O.charAt(0)=="/"?ko:Bl,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",Aa(O,Ah)),g.join("")},nr.prototype.resolve=function(g){const x=un(this);let O=!!g.j;O?bn(x,g.j):O=!!g.o,O?x.o=g.o:O=!!g.g,O?x.g=g.g:O=g.u!=null;var X=g.h;if(O)Bi(x,g.u);else if(O=!!g.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var he=x.h.lastIndexOf("/");he!=-1&&(X=x.h.slice(0,he+1)+X)}if(he=X,he==".."||he==".")X="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){X=he.lastIndexOf("/",0)==0,he=he.split("/");const _e=[];for(let Me=0;Me<he.length;){const ot=he[Me++];ot=="."?X&&Me==he.length&&_e.push(""):ot==".."?((_e.length>1||_e.length==1&&_e[0]!="")&&_e.pop(),X&&Me==he.length&&_e.push("")):(_e.push(ot),X=!0)}X=_e.join("/")}else X=he}return O?x.h=X:O=g.i.toString()!=="",O?Mo(x,Rh(g.i)):O=!!g.m,O&&(x.m=g.m),x};function un(g){return new nr(g)}function bn(g,x,O){g.j=O?Ir(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function Bi(g,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);g.u=x}else g.u=null}function Mo(g,x,O){x instanceof bs?(g.i=x,jl(g.i,g.l)):(O||(x=Aa(x,yi)),g.i=new bs(x,g.l))}function xt(g,x,O){g.i.set(x,O)}function Ta(g){return xt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ir(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Aa(g,x,O){return typeof g=="string"?(g=encodeURI(g).replace(x,Kn),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Kn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ui=/[#\/\?@]/g,Bl=/[#\?:]/g,ko=/[#\?]/g,yi=/[#\?@]/g,Ah=/#/g;function bs(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function dr(g){g.g||(g.g=new Map,g.h=0,g.i&&_s(g.i,function(x,O){g.add(decodeURIComponent(x.replace(/\+/g," ")),O)}))}t=bs.prototype,t.add=function(g,x){dr(this),this.i=null,g=ws(this,g);let O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(x),this.h+=1,this};function Ch(g,x){dr(g),x=ws(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function wc(g,x){return dr(g),x=ws(g,x),g.g.has(x)}t.forEach=function(g,x){dr(this),this.g.forEach(function(O,X){O.forEach(function(he){g.call(x,he,X,this)},this)},this)};function Sc(g,x){dr(g);let O=[];if(typeof x=="string")wc(g,x)&&(O=O.concat(g.g.get(ws(g,x))));else for(g=Array.from(g.g.values()),x=0;x<g.length;x++)O=O.concat(g[x]);return O}t.set=function(g,x){return dr(this),this.i=null,g=ws(this,g),wc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},t.get=function(g,x){return g?(g=Sc(this,g),g.length>0?String(g[0]):x):x};function Ul(g,x,O){Ch(g,x),O.length>0&&(g.i=null,g.g.set(ws(g,x),b(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(let X=0;X<x.length;X++){var O=x[X];const he=vi(O);O=Sc(this,O);for(let _e=0;_e<O.length;_e++){let Me=he;O[_e]!==""&&(Me+="="+vi(O[_e])),g.push(Me)}}return this.i=g.join("&")};function Rh(g){const x=new bs;return x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),x}function ws(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function jl(g,x){x&&!g.j&&(dr(g),g.i=null,g.g.forEach(function(O,X){const he=X.toLowerCase();X!=he&&(Ch(this,X),Ul(this,he,O))},g)),g.j=x}function _i(g,x){const O=new Tr;if(l.Image){const X=new Image;X.onload=m(Zr,O,"TestLoadImage: loaded",!0,x,X),X.onerror=m(Zr,O,"TestLoadImage: error",!1,x,X),X.onabort=m(Zr,O,"TestLoadImage: abort",!1,x,X),X.ontimeout=m(Zr,O,"TestLoadImage: timeout",!1,x,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else x(!1)}function xc(g,x){const O=new Tr,X=new AbortController,he=setTimeout(()=>{X.abort(),Zr(O,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:X.signal}).then(_e=>{clearTimeout(he),_e.ok?Zr(O,"TestPingServer: ok",!0,x):Zr(O,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(he),Zr(O,"TestPingServer: error",!1,x)})}function Zr(g,x,O,X,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),X(O)}catch{}}function Ss(){this.g=new gi}function ji(g){this.i=g.Sb||null,this.h=g.ab||!1}p(ji,ps),ji.prototype.g=function(){return new Do(this.i,this.h)};function Do(g,x){st.call(this),this.H=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Do,st),t=Do.prototype,t.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=x,this.readyState=1,bi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(x.body=g),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?xs(this):bi(this),this.readyState==3&&Hl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,xs(this))},t.Na=function(g){this.g&&(this.response=g,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,bi(g)}t.setRequestHeader=function(g,x){this.A.append(g,x)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var O=x.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=x.next();return g.join(`\r
`)};function bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Wr(g){let x="";return oe(g,function(O,X){x+=X,x+=":",x+=O,x+=`\r
`}),x}function Oo(g,x,O){e:{for(X in O){var X=!1;break e}X=!0}X||(O=Wr(O),typeof g=="string"?O!=null&&vi(O):xt(g,x,O))}function Dt(g){st.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Dt,st);var Hi=/^https?$/i,Ec=["POST","PUT"];t=Dt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,x,O,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(_e){zo(this,_e);return}if(g=O||"",O=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var he in X)O.set(he,X[he]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const _e of X.keys())O.set(_e,X.get(_e));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(O.keys()).find(_e=>_e.toLowerCase()=="content-type"),he=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Ec,x,void 0)>=0)||X||he||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Me]of O)this.g.setRequestHeader(_e,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(_e){zo(this,_e)}};function zo(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.o=5,Tc(g),Ca(g)}function Tc(g){g.A||(g.A=!0,Nt(g,"complete"),Nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Nt(this,"complete"),Nt(this,"abort"),Ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ca(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},t.Xa=function(){qo(this)};function qo(g){if(g.h&&typeof o<"u"){if(g.v&&wi(g)==4)setTimeout(g.Ca.bind(g),0);else if(Nt(g,"readystatechange"),wi(g)==4){g.h=!1;try{const _e=g.ca();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var O;if(!(O=x)){var X;if(X=_e===0){let Me=String(g.D).match(Pl)[1]||null;!Me&&l.self&&l.self.location&&(Me=l.self.location.protocol.slice(0,-1)),X=!Hi.test(Me?Me.toLowerCase():"")}O=X}if(O)Nt(g,"complete"),Nt(g,"success");else{g.o=6;try{var he=wi(g)>2?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.ca()+"]",Tc(g)}}finally{Ca(g)}}}}function Ca(g,x){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const O=g.g;g.g=null,x||Nt(g,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),ms(x)}};function Bn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(g){const x={};g=(g.g&&wi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(P(g[X]))continue;var O=zl(g[X]);const he=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const _e=x[he]||[];x[he]=_e,_e.push(O)}ye(x,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(g,x,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||x}function Es(g){this.za=0,this.i=[],this.j=new Tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,g),this.Za=Fi("retryDelaySeedMs",1e4,g),this.Ta=Fi("forwardChannelMaxRetries",2,g),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(g&&g.concurrentRequestLimit),this.Ba=new Ss,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Es.prototype,t.ka=8,t.I=1,t.connect=function(g,x,O,X){sn(0),this.W=g,this.H=x||{},O&&X!==void 0&&(this.H.OSID=O,this.H.OAID=X),this.F=this.X,this.J=zh(this,null,this.W),Gi(this)};function Ac(g){if(Fl(g),g.I==3){var x=g.V++,O=un(g.J);if(xt(O,"SID",g.M),xt(O,"RID",x),xt(O,"TYPE","terminate"),Vo(g,O),x=new Ar(g,g.j,x),x.M=2,x.A=Ta(un(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=x.A,O=!0),O||(x.g=qh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$r(x)}Oh(g)}function Ts(g){g.g&&(Rc(g),g.g.cancel(),g.g=null)}function Fl(g){Ts(g),g.v&&(l.clearTimeout(g.v),g.v=null),$l(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Gi(g){if(!Ro(g.h)&&!g.m){g.m=!0;var x=g.Ea;U||M(),L||(U(),L=!0),I.add(x,g),g.D=0}}function Gl(g,x){return Kr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=x.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Fr(d(g.Ea,g,x),Dh(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const he=new Ar(this,this.j,g);let _e=this.o;if(this.U&&(_e?(_e=Y(_e),pe(_e,this.U)):_e=this.U),this.u!==null||this.R||(he.J=_e,_e=null),this.S)e:{for(var x=0,O=0;O<this.i.length;O++){t:{var X=this.i[O];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(x+=X,x>4096){x=O;break e}if(x===4096||O===this.i.length-1){x=O+1;break e}}x=1e3}else x=1e3;x=Ih(this,he,x),O=un(this.J),xt(O,"RID",g),xt(O,"CVER",22),this.G&&xt(O,"X-HTTP-Session-Id",this.G),Vo(this,O),_e&&(this.R?x="headers="+vi(Wr(_e))+"&"+x:this.u&&Oo(O,this.u,_e)),Io(this.h,he),this.Ra&&xt(O,"TYPE","init"),this.S?(xt(O,"$req",x),xt(O,"SID","null"),he.U=!0,Rr(he,O,null)):Rr(he,O,x),this.I=2}}else this.I==3&&(g?Cc(this,g):this.i.length==0||Ro(this.h)||Cc(this))};function Cc(g,x){var O;x?O=x.l:O=g.V++;const X=un(g.J);xt(X,"SID",g.M),xt(X,"RID",O),xt(X,"AID",g.K),Vo(g,X),g.u&&g.o&&Oo(X,g.u,g.o),O=new Ar(g,g.j,O,g.D+1),g.u===null&&(O.J=g.o),x&&(g.i=x.G.concat(g.i)),x=Ih(g,O,1e3),O.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Io(g.h,O),Rr(O,X,x)}function Vo(g,x){g.H&&oe(g.H,function(O,X){xt(x,X,O)}),g.l&&oe({},function(O,X){xt(x,X,O)})}function Ih(g,x,O){O=Math.min(g.i.length,O);const X=g.l?d(g.l.Ka,g.l,g):null;e:{var he=g.i;let ot=-1;for(;;){const dn=["count="+O];ot==-1?O>0?(ot=he[0].g,dn.push("ofs="+ot)):ot=0:dn.push("ofs="+ot);let Ct=!0;for(let Xt=0;Xt<O;Xt++){var _e=he[Xt].g;const Jr=he[Xt].map;if(_e-=ot,_e<0)ot=Math.max(0,he[Xt].g-100),Ct=!1;else try{_e="req"+_e+"_"||"";try{var Me=Jr instanceof Map?Jr:Object.entries(Jr);for(const[Yi,Si]of Me){let xi=Si;c(Si)&&(xi=qn(Si)),dn.push(_e+Yi+"="+encodeURIComponent(xi))}}catch(Yi){throw dn.push(_e+"type="+encodeURIComponent("_badmap")),Yi}}catch{X&&X(Jr)}}if(Ct){Me=dn.join("&");break e}}Me=void 0}return g=g.i.splice(0,O),x.G=g,Me}function Nh(g){if(!g.g&&!g.v){g.Y=1;var x=g.Da;U||M(),L||(U(),L=!0),I.add(x,g),g.A=0}}function Lo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Fr(d(g.Da,g),Dh(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Mh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Fr(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),Ts(this),Mh(this))};function Rc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Mh(g){g.g=new Ar(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var x=un(g.na);xt(x,"RID","rpc"),xt(x,"SID",g.M),xt(x,"AID",g.K),xt(x,"CI",g.F?"0":"1"),!g.F&&g.ia&&xt(x,"TO",g.ia),xt(x,"TYPE","xmlhttp"),Vo(g,x),g.u&&g.o&&Oo(x,g.u,g.o),g.O&&(g.g.H=g.O);var O=g.g;g=g.ba,O.M=1,O.A=Ta(un(x)),O.u=null,O.R=!0,Ea(O,g)}t.Va=function(){this.C!=null&&(this.C=null,Ts(this),Lo(this),sn(19))};function $l(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function kh(g,x){var O=null;if(g.g==x){$l(g),Rc(g),g.g=null;var X=2}else if(Qr(g.h,x))O=x.G,ys(g.h,x),X=1;else return;if(g.I!=0){if(x.o)if(X==1){O=x.u?x.u.length:0,x=Date.now()-x.F;var he=g.D;X=gs(),Nt(X,new Hr(X,O)),Gi(g)}else Nh(g);else if(he=x.m,he==3||he==0&&x.X>0||!(X==1&&Gl(g,x)||X==2&&Lo(g)))switch(O&&O.length>0&&(x=g.h,x.i=x.i.concat(O)),he){case 1:$i(g,5);break;case 4:$i(g,10);break;case 3:$i(g,6);break;default:$i(g,2)}}}function Dh(g,x){let O=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(O*=2),O*x}function $i(g,x){if(g.j.info("Error code "+x),x==2){var O=d(g.bb,g),X=g.Ua;const he=!X;X=new nr(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bn(X,"https"),Ta(X),he?_i(X.toString(),O):xc(X.toString(),O)}else sn(2);g.I=0,g.l&&g.l.pa(x),Oh(g),Fl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Oh(g){if(g.I=0,g.ja=[],g.l){const x=No(g.h);(x.length!=0||g.i.length!=0)&&(S(g.ja,x),S(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function zh(g,x,O){var X=O instanceof nr?un(O):new nr(O);if(X.g!="")x&&(X.g=x+"."+X.g),Bi(X,X.u);else{var he=l.location;X=he.protocol,x=x?x+"."+he.hostname:he.hostname,he=+he.port;const _e=new nr(null);X&&bn(_e,X),x&&(_e.g=x),he&&Bi(_e,he),O&&(_e.h=O),X=_e}return O=g.G,x=g.wa,O&&x&&xt(X,O,x),xt(X,"VER",g.ka),Vo(g,X),X}function qh(g,x,O){if(x&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Aa&&!g.ma?new Dt(new ji({ab:O})):new Dt(g.ma),x.Fa(g.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vh(){}t=Vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function As(){}As.prototype.g=function(g,x){return new rr(g,x)};function rr(g,x){st.call(this),this.g=new Es(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(g?g["X-WebChannel-Client-Profile"]=x.sa:g={"X-WebChannel-Client-Profile":x.sa}),this.g.U=g,(g=x&&x.Qb)&&!P(g)&&(this.g.u=g),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!P(x)&&(this.g.G=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Ia(this)}p(rr,st),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Ac(this.g)},rr.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.v&&(O={},O.__data__=qn(g),g=O);x.i.push(new ln(x.Ya++,g)),x.I==3&&Gi(x)},rr.prototype.N=function(){this.g.l=null,delete this.j,Ac(this.g),delete this.g,rr.Z.N.call(this)};function Lh(g){Vt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){e:{for(const O in x){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}p(Lh,Vt);function Ph(){hr.call(this),this.status=1}p(Ph,hr);function Ia(g){this.g=g}p(Ia,Vh),Ia.prototype.ra=function(){Nt(this.g,"a")},Ia.prototype.qa=function(g){Nt(this.g,new Lh(g))},Ia.prototype.pa=function(g){Nt(this.g,new Ph)},Ia.prototype.oa=function(){Nt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,zM=function(){return new As},OM=function(){return gs()},DM=en,G5={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,wd=Sa,To.COMPLETE="complete",kM=To,_a.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",st.prototype.listen=st.prototype.J,v0=_a,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,MM=Dt}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const uS="@firebase/firestore",cS="4.9.3";class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");let sc="12.7.0";const bl=new P6("@firebase/firestore");function Au(){return bl.logLevel}function Le(t,...e){if(bl.logLevel<=gt.DEBUG){const n=e.map(j6);bl.debug(`Firestore (${sc}): ${t}`,...n)}}function rs(t,...e){if(bl.logLevel<=gt.ERROR){const n=e.map(j6);bl.error(`Firestore (${sc}): ${t}`,...n)}}function Ku(t,...e){if(bl.logLevel<=gt.WARN){const n=e.map(j6);bl.warn(`Firestore (${sc}): ${t}`,...n)}}function j6(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qM(t,r,n)}function qM(t,e,n){let r=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function It(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||qM(e,i,r)}function at(t,e){return t}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ho{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class VM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class g${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class v${constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){It(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ho,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ho)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new VM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class y${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){It(this.o===void 0,3512);const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class H6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=w$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function $5(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return qg(i)===qg(o)?vt(i,o):qg(i)?1:-1}return vt(t.length,e.length)}const S$=55296,x$=57343;function qg(t){const e=t.charCodeAt(0);return e>=S$&&e<=x$}function Qu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const fS="__name__";class Ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&Je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ji.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=Ji.isNumericId(e),i=Ji.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):$5(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class Ut extends Ji{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const E$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Ji{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return E$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fS}static keyField(){return new $n([fS])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Ut.fromString(e))}static fromName(e){return new Ke(Ut.fromString(e).popFirst(5))}static empty(){return new Ke(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Ut(e.slice()))}}function LM(t,e,n){if(!n)throw new qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T$(t,e,n,r){if(e===!0&&r===!0)throw new qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dS(t){if(!Ke.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mS(t){if(Ke.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je(12329,{type:typeof t})}function Wa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function uh(t,e){if(!PM(t))throw new qe(Te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new qe(Te.INVALID_ARGUMENT,n);return!0}const pS=-62135596800,gS=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gS);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pS)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gS}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uh(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Cn("string",$t._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new $t(0,0))}static max(){return new nt(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const G0=-1;function A$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new mo(i,Ke.empty(),e)}function C$(t){return new mo(t.readTime,t.key,G0)}class mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mo(nt.min(),Ke.empty(),G0)}static max(){return new mo(nt.max(),Ke.empty(),G0)}}function R$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}const I$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oc(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==I$)throw t;Le("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next((m=>{l[d]=m,++c,c===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function M$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(t){return t.name==="IndexedDbTransactionError"}class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;const F6=-1;function km(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function k$(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const BM="";function D$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vS(e)),e=O$(t.get(n),e);return vS(e)}function O$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case BM:n+="";break;default:n+=o}}return n}function vS(t){return t+BM+""}function yS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class rn{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}}class td{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gn.RED,this.left=i??Gn.EMPTY,this.right=o??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Gn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Je(27949);return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je(57766)}get value(){throw Je(16141)}get color(){throw Je(16727)}get left(){throw Je(29726)}get right(){throw Je(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _S(this.data.getIterator())}getIteratorFrom(e){return new _S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class _S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Di{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new Di([])}unionWith(e){let n=new Dn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class jM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jM("Invalid base64 string: "+o):o}})(e);return new Yn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const z$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(It(!!t,39018),typeof t=="string"){let e=0;const n=z$.exec(t);if(It(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}const HM="server_timestamp",FM="__type__",GM="__previous_value__",$M="__local_write_time__";function G6(t){return(t?.mapValue?.fields||{})[FM]?.stringValue===HM}function Dm(t){const e=t.mapValue.fields[GM];return G6(e)?Dm(e):e}function $0(t){const e=po(t.mapValue.fields[$M].timestampValue);return new $t(e.seconds,e.nanos)}class q${constructor(e,n,r,i,o,l,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Yd="(default)";class Y0{constructor(e,n){this.projectId=e,this.database=n||Yd}static empty(){return new Y0("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof Y0&&e.projectId===this.projectId&&e.database===this.database}}const YM="__type__",V$="__max__",nd={mapValue:{}},XM="__vector__",Xd="value";function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G6(t)?4:P$(t)?9007199254740991:L$(t)?10:11:Je(28295,{value:t})}function fa(t,e){if(t===e)return!0;const n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $0(t).isEqual($0(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=po(i.timestampValue),c=po(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return go(i.bytesValue).isEqual(go(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return gn(i.geoPointValue.latitude)===gn(o.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return gn(i.integerValue)===gn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=gn(i.doubleValue),c=gn(o.doubleValue);return l===c?$d(l)===$d(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(yS(l)!==yS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!fa(l[h],c[h])))return!1;return!0})(t,e);default:return Je(52216,{left:t})}}function X0(t,e){return(t.values||[]).find((n=>fa(n,e)))!==void 0}function Zu(t,e){if(t===e)return 0;const n=vo(t),r=vo(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=gn(o.integerValue||o.doubleValue),h=gn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return bS(t.timestampValue,e.timestampValue);case 4:return bS($0(t),$0(e));case 5:return $5(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=go(o),h=go(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=vt(c[d],h[d]);if(m!==0)return m}return vt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=vt(gn(o.latitude),gn(l.latitude));return c!==0?c:vt(gn(o.longitude),gn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wS(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},d=c[Xd]?.arrayValue,m=h[Xd]?.arrayValue,p=vt(d?.values?.length||0,m?.values?.length||0);return p!==0?p:wS(d,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===nd.mapValue&&l===nd.mapValue)return 0;if(o===nd.mapValue)return 1;if(l===nd.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const y=$5(h[p],m[p]);if(y!==0)return y;const b=Zu(c[h[p]],d[m[p]]);if(b!==0)return b}return vt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Je(23264,{he:n})}}function bS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=po(t),r=po(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function wS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Zu(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function Wu(t){return Y5(t)}function Y5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=po(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Y5(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Y5(n.fields[l])}`;return i+"}"})(t.mapValue):Je(61005,{value:t})}function Sd(t){switch(vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dm(t);return e?16+Sd(e):16;case 5:return 2*t.stringValue.length;case 6:return go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Sd(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return xl(r.fields,((o,l)=>{i+=o.length+Sd(l)})),i})(t.mapValue);default:throw Je(13486,{value:t})}}function SS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function X5(t){return!!t&&"integerValue"in t}function $6(t){return!!t&&"arrayValue"in t}function xS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function L$(t){return(t?.mapValue?.fields||{})[YM]?.stringValue===XM}function R0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=R0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=R0(t.arrayValue.values[n]);return e}return{...t}}function P$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V$}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=R0(n)}setAll(e){let n=$n.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=R0(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xl(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new ui(R0(this.value))}}function KM(t){const e=[];return xl(t.fields,((n,r)=>{const i=new $n([n]);if(xd(r)){const o=KM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Di(e)}class Jn{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Jn(e,0,nt.min(),nt.min(),nt.min(),ui.empty(),0)}static newFoundDocument(e,n,r,i){return new Jn(e,1,n,nt.min(),r,i,0)}static newNoDocument(e,n){return new Jn(e,2,n,nt.min(),nt.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new Jn(e,3,n,nt.min(),nt.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kd{constructor(e,n){this.position=e,this.inclusive=n}}function TS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Ke.comparator(Ke.fromName(l.referenceValue),n.key):r=Zu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function AS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fa(t.position[n],e.position[n]))return!1;return!0}class Qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function B$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class QM{}class An extends QM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j$(e,n,r):n==="array-contains"?new G$(e,r):n==="in"?new $$(e,r):n==="not-in"?new Y$(e,r):n==="array-contains-any"?new X$(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H$(e,r):new F$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zu(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends QM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return ZM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZM(t){return t.op==="and"}function WM(t){return U$(t)&&ZM(t)}function U$(t){for(const e of t.filters)if(e instanceof qi)return!1;return!0}function K5(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(WM(t))return t.filters.map((e=>K5(e))).join(",");{const e=t.filters.map((n=>K5(n))).join(",");return`${t.op}(${e})`}}function JM(t,e){return t instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&fa(r.value,i.value)})(t,e):t instanceof qi?(function(r,i){return i instanceof qi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&JM(l,i.filters[c])),!0):!1})(t,e):void Je(19439)}function ek(t){return t instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`})(t):t instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ek).join(" ,")+"}"})(t):"Filter"}class j$ extends An{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class H$ extends An{constructor(e,n){super(e,"in",n),this.keys=tk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F$ extends An{constructor(e,n){super(e,"not-in",n),this.keys=tk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tk(t,e){return(e.arrayValue?.values||[]).map((n=>Ke.fromName(n.referenceValue)))}class G$ extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $6(n)&&X0(n.arrayValue,this.value)}}class $$ extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&X0(this.value.arrayValue,n)}}class Y$ extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(X0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!X0(this.value.arrayValue,n)}}class X$ extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$6(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>X0(this.value.arrayValue,r)))}}class K${constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function CS(t,e=null,n=[],r=[],i=null,o=null,l=null){return new K$(t,e,n,r,i,o,l)}function Y6(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>K5(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),km(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wu(r))).join(",")),e.Te=n}return e.Te}function X6(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AS(t.startAt,e.startAt)&&AS(t.endAt,e.endAt)}function Q5(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ch{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q$(t,e,n,r,i,o,l,c){return new ch(t,e,n,r,i,o,l,c)}function Om(t){return new ch(t)}function RS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nk(t){return t.collectionGroup!==null}function I0(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dn($n.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qd(o,r))})),n.has($n.keyField().canonicalString())||e.Ie.push(new Qd($n.keyField(),r))}return e.Ie}function aa(t){const e=at(t);return e.Ee||(e.Ee=Z$(e,I0(t))),e.Ee}function Z$(t,e){if(t.limitType==="F")return CS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Qd(i.field,o)}));const n=t.endAt?new Kd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kd(t.startAt.position,t.startAt.inclusive):null;return CS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Z5(t,e){const n=t.filters.concat([e]);return new ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function W5(t,e,n){return new ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zm(t,e){return X6(aa(t),aa(e))&&t.limitType===e.limitType}function rk(t){return`${Y6(aa(t))}|lt:${t.limitType}`}function Cu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>ek(i))).join(", ")}]`),km(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Wu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Wu(i))).join(",")),`Target(${r})`})(aa(t))}; limitType=${t.limitType})`}function qm(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of I0(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const d=TS(l,c,h);return l.inclusive?d<=0:d<0})(r.startAt,I0(r),i)||r.endAt&&!(function(l,c,h){const d=TS(l,c,h);return l.inclusive?d>=0:d>0})(r.endAt,I0(r),i))})(t,e)}function W$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ik(t){return(e,n)=>{let r=!1;for(const i of I0(t)){const o=J$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J$(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),d=c.data.field(o);return h!==null&&d!==null?Zu(h,d):Je(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Je(19790,{direction:t.dir})}}class El{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return UM(this.inner)}size(){return this.innerSize}}const eY=new rn(Ke.comparator);function is(){return eY}const ak=new rn(Ke.comparator);function y0(...t){let e=ak;for(const n of t)e=e.insert(n.key,n);return e}function sk(t){let e=ak;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ll(){return N0()}function ok(){return N0()}function N0(){return new El((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tY=new rn(Ke.comparator),nY=new Dn(Ke.comparator);function yt(...t){let e=nY;for(const n of t)e=e.add(n);return e}const rY=new Dn(vt);function iY(){return rY}function K6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function lk(t){return{integerValue:""+t}}function aY(t,e){return k$(e)?lk(e):K6(t,e)}class Vm{constructor(){this._=void 0}}function sY(t,e,n){return t instanceof Zd?(function(i,o){const l={fields:{[FM]:{stringValue:HM},[$M]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&G6(o)&&(o=Dm(o)),o&&(l.fields[GM]=o),{mapValue:l}})(n,e):t instanceof K0?ck(t,e):t instanceof Q0?hk(t,e):(function(i,o){const l=uk(i,o),c=IS(l)+IS(i.Ae);return X5(l)&&X5(i.Ae)?lk(c):K6(i.serializer,c)})(t,e)}function oY(t,e,n){return t instanceof K0?ck(t,e):t instanceof Q0?hk(t,e):n}function uk(t,e){return t instanceof Wd?(function(r){return X5(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Zd extends Vm{}class K0 extends Vm{constructor(e){super(),this.elements=e}}function ck(t,e){const n=fk(e);for(const r of t.elements)n.some((i=>fa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Q0 extends Vm{constructor(e){super(),this.elements=e}}function hk(t,e){let n=fk(e);for(const r of t.elements)n=n.filter((i=>!fa(i,r)));return{arrayValue:{values:n}}}class Wd extends Vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IS(t){return gn(t.integerValue||t.doubleValue)}function fk(t){return $6(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof K0&&i instanceof K0||r instanceof Q0&&i instanceof Q0?Qu(r.elements,i.elements,fa):r instanceof Wd&&i instanceof Wd?fa(r.Ae,i.Ae):r instanceof Zd&&i instanceof Zd})(t.transform,e.transform)}class uY{constructor(e,n){this.version=e,this.transformResults=n}}class sa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lm{}function dk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q6(t.key,sa.none()):new hh(t.key,t.data,sa.none());{const n=t.data,r=ui.empty();let i=new Dn($n.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Tl(t.key,r,new Di(i.toArray()),sa.none())}}function cY(t,e,n){t instanceof hh?(function(i,o,l){const c=i.value.clone(),h=MS(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Tl?(function(i,o,l){if(!Ed(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=MS(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(mk(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function M0(t,e,n,r){return t instanceof hh?(function(o,l,c,h){if(!Ed(o.precondition,l))return c;const d=o.value.clone(),m=kS(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Tl?(function(o,l,c,h){if(!Ed(o.precondition,l))return c;const d=kS(o.fieldTransforms,h,l),m=l.data;return m.setAll(mk(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,l,c){return Ed(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function hY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=uk(r.transform,i||null);o!=null&&(n===null&&(n=ui.empty()),n.set(r.field,o))}return n||null}function NS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qu(r,i,((o,l)=>lY(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends Lm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tl extends Lm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function MS(t,e,n){const r=new Map;It(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,oY(l,c,n[i]))}return r}function kS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,sY(o,l,e))}return r}class Q6 extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fY extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&cY(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=M0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=M0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ok();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=dk(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(nt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yt())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,((n,r)=>NS(n,r)))&&Qu(this.baseMutations,e.baseMutations,((n,r)=>NS(n,r)))}}class Z6{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){It(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return tY})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Z6(e,n,r,i)}}let mY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class pY{constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,bt;function gY(t){switch(t){case Te.OK:return Je(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Je(15467,{code:t})}}function pk(t){if(t===void 0)return rs("GRPC error has no .code"),Te.UNKNOWN;switch(t){case Tn.OK:return Te.OK;case Tn.CANCELLED:return Te.CANCELLED;case Tn.UNKNOWN:return Te.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return Te.INTERNAL;case Tn.UNAVAILABLE:return Te.UNAVAILABLE;case Tn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Tn.NOT_FOUND:return Te.NOT_FOUND;case Tn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Tn.ABORTED:return Te.ABORTED;case Tn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Tn.DATA_LOSS:return Te.DATA_LOSS;default:return Je(39323,{code:t})}}(bt=Tn||(Tn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";function vY(){return new TextEncoder}const yY=new co([4294967295,4294967295],0);function DS(t){const e=vY().encode(t),n=new NM;return n.update(e),new Uint8Array(n.digest())}function OS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([n,r],0),new co([i,o],0)]}class W6{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _0(`Invalid padding: ${n}`);if(r<0)throw new _0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=co.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(co.fromNumber(r)));return i.compare(yY)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DS(e),[r,i]=OS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new W6(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=DS(e),[r,i]=OS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pm(nt.min(),i,new rn(vt),is(),yt())}}class fh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fh(r,n,yt(),yt(),yt())}}class Td{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gk{constructor(e,n){this.targetId=e,this.Ce=n}}class vk{constructor(e,n,r=Yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zS{constructor(){this.ve=0,this.Fe=qS(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),n=yt(),r=yt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Je(38017,{changeType:o})}})),new fh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=qS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _Y{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.Je=rd(),this.He=rd(),this.Ye=new rn(vt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Q5(o))if(r===0){const l=new Ke(o.path);this.et(n,l,Jn.newNoDocument(l,nt.min()))}else It(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=go(r).toUint8Array()}catch(h){if(h instanceof jM)return Ku("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new W6(l,i,o)}catch(h){return Ku(h instanceof _0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&Q5(c.target)){const h=new Ke(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Jn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=yt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new Pm(e,n,this.Ye,this.je,r);return this.je=is(),this.Je=rd(),this.He=rd(),this.Ye=new rn(vt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(vt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(vt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rd(){return new rn(Ke.comparator)}function qS(){return new rn(Ke.comparator)}const bY={asc:"ASCENDING",desc:"DESCENDING"},wY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SY={and:"AND",or:"OR"};class xY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function J5(t,e){return t.useProto3Json||km(e)?e:{value:e}}function Jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EY(t,e){return Jd(t,e.toTimestamp())}function oa(t){return It(!!t,49232),nt.fromTimestamp((function(n){const r=po(n);return new $t(r.seconds,r.nanos)})(t))}function J6(t,e){return e6(t,e).canonicalString()}function e6(t,e){const n=(function(i){return new Ut(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _k(t){const e=Ut.fromString(t);return It(Ek(e),10190,{key:e.toString()}),e}function t6(t,e){return J6(t.databaseId,e.path)}function Vg(t,e){const n=_k(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(wk(n))}function bk(t,e){return J6(t.databaseId,e)}function TY(t){const e=_k(t);return e.length===4?Ut.emptyPath():wk(e)}function n6(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wk(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VS(t,e,n){return{name:t6(t,e),fields:n.value.mapValue.fields}}function AY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Je(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(It(m===void 0||typeof m=="string",58123),Yn.fromBase64String(m||"")):(It(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Yn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?Te.UNKNOWN:pk(d.code);return new qe(m,d.message||"")})(l);n=new vk(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vg(t,r.document.name),o=oa(r.document.updateTime),l=r.document.createTime?oa(r.document.createTime):nt.min(),c=new ui({mapValue:{fields:r.document.fields}}),h=Jn.newFoundDocument(i,o,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Td(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vg(t,r.document),o=r.readTime?oa(r.readTime):nt.min(),l=Jn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Td([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vg(t,r.document),o=r.removedTargetIds||[];n=new Td([],o,i,null)}else{if(!("filter"in e))return Je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new pY(i,o),c=r.targetId;n=new gk(c,l)}}return n}function CY(t,e){let n;if(e instanceof hh)n={update:VS(t,e.key,e.value)};else if(e instanceof Q6)n={delete:t6(t,e.key)};else if(e instanceof Tl)n={update:VS(t,e.key,e.data),updateMask:qY(e.fieldMask)};else{if(!(e instanceof fY))return Je(16599,{Vt:e.type});n={verify:t6(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Zd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof K0)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Q0)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Wd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Je(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:EY(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Je(27497)})(t,e.precondition)),n}function RY(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?oa(i.updateTime):oa(o);return l.isEqual(nt.min())&&(l=oa(o)),new uY(l,i.transformResults||[])})(n,e)))):[]}function IY(t,e){return{documents:[bk(t,e.path)]}}function NY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bk(t,i);const o=(function(d){if(d.length!==0)return xk(qi.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((m=>(function(y){return{field:Ru(y.field),direction:DY(y.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=J5(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function MY(t){let e=TY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){It(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(p){const y=Sk(p);return y instanceof qi&&WM(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((y=>(function(S){return new Qd(Iu(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let y;return y=typeof p=="object"?p.value:p,km(y)?null:y})(n.limit));let h=null;n.startAt&&(h=(function(p){const y=!!p.before,b=p.values||[];return new Kd(b,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,b=p.values||[];return new Kd(b,y)})(n.endAt)),Q$(e,i,l,o,c,"F",h,d)}function kY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Iu(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Iu(n.unaryFilter.field);return An.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Iu(n.unaryFilter.field);return An.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Je(61313);default:return Je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return An.create(Iu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Je(58110);default:return Je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((r=>Sk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je(1026)}})(n.compositeFilter.op))})(t):Je(30097,{filter:t})}function DY(t){return bY[t]}function OY(t){return wY[t]}function zY(t){return SY[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Iu(t){return $n.fromServerFormat(t.fieldPath)}function xk(t){return t instanceof An?(function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(xS(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(xS(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:OY(n.op),value:n.value}}})(t):t instanceof qi?(function(n){const r=n.getFilters().map((i=>xk(i)));return r.length===1?r[0]:{compositeFilter:{op:zY(n.op),filters:r}}})(t):Je(54877,{filter:t})}function qY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ek(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class io{constructor(e,n,r,i,o=nt.min(),l=nt.min(),c=Yn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VY{constructor(e){this.yt=e}}function LY(t){const e=MY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W5(e,e.limit,"L"):e}class PY{constructor(){this.Cn=new BY}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(mo.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class BY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Ut.comparator)).toArray()}}const LS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tk=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(Tk,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);class Ju{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ju(0)}static cr(){return new Ju(-1)}}const PS="LruGarbageCollector",UY=1048576;function BS([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class jY{constructor(e){this.Ir=e,this.buffer=new Dn(BS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(PS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lc(n)?Le(PS,"Ignoring IndexedDB error during garbage collection: ",n):await oc(n)}await this.Vr(3e5)}))}}class FY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(Mm.ce);const r=new jY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(LS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),Au()<=gt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function GY(t,e){return new FY(t,e)}class $Y{constructor(){this.changes=new El((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&M0(r.mutation,i,Di.empty(),$t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yt()){const i=ll();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=y0();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ll();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=is();const l=N0(),c=(function(){return N0()})();return n.forEach(((h,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Tl)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),M0(m.mutation,d,m.mutation.getFieldMask(),$t.now())):l.set(d.key,Di.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new YY(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=N0();let i=new rn(((l,c)=>l-c)),o=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Di.empty();m=c.applyToLocalView(d,m),r.set(h,m);const p=(i.get(c.batchId)||yt()).add(h);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,p=ok();m.forEach((y=>{if(!o.has(y)){const b=dk(n.get(y),r.get(y));b!==null&&p.set(y,b),o=o.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ae.resolve(ll());let c=G0,h=o;return l.next((d=>Ae.forEach(d,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{h=h.insert(m,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,yt()))).next((m=>({batchId:c,changes:sk(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next((r=>{let i=y0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=y0();return this.indexManager.getCollectionParents(e,o).next((c=>Ae.forEach(c,(h=>{const d=(function(p,y){return new ch(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((m=>{m.forEach(((p,y)=>{l=l.insert(p,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Jn.newInvalidDocument(m)))}));let c=y0();return l.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&M0(m.mutation,d,Di.empty(),$t.now()),qm(n,d)&&(c=c.insert(h,d))})),c}))}}class KY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:oa(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:LY(i.bundledQuery),readTime:oa(i.readTime)}})(n)),Ae.resolve()}}class QY{constructor(){this.overlays=new rn(Ke.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ll();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=ll(),o=n.length+1,l=new Ke(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new rn(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=ll(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=ll(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=i)););return Ae.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mY(n,r));let o=this.qr.get(n);o===void 0&&(o=yt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class ZY{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class e7{constructor(){this.Qr=new Dn(Ln.$r),this.Ur=new Dn(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ln(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ln(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ke(new Ut([])),r=new Ln(n,e),i=new Ln(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ke(new Ut([])),r=new Ln(n,e),i=new Ln(n,e+1);let o=yt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Ln(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ke.comparator(e.key,n.key)||vt(e.Yr,n.Yr)}static Kr(e,n){return vt(e.Yr,n.Yr)||Ke.comparator(e.key,n.key)}}class WY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Ln.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new dY(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Ln(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?F6:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ln(n,0),i=new Ln(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(vt);return n.forEach((i=>{const o=new Ln(i,0),l=new Ln(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ke.isDocumentKey(o)||(o=o.child(""));const l=new Ln(new Ke(o),0);let c=new Dn(vt);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Yr)),!0)}),l),Ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const o=new Ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ln(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JY{constructor(e){this.ri=e,this.docs=(function(){return new rn(Ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jn.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=is();const l=n.path,c=new Ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||R$(C$(m),r)<=0||(i.has(m.key)||qm(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Je(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new eX(this)}getSize(e){return Ae.resolve(this.size)}}class eX extends $Y{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class tX{constructor(e){this.persistence=e,this.si=new El((n=>Y6(n)),X6),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new e7,this.targetCount=0,this.ai=Ju.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ju(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(o).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class Ak{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mm(0),this.li=!1,this.li=!0,this.hi=new ZY,this.referenceDelegate=e(this),this.Pi=new tX(this),this.indexManager=new PY,this.remoteDocumentCache=(function(i){return new JY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VY(n),this.Ii=new KY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new nX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class nX extends N${constructor(e){super(),this.currentSequenceNumber=e}}class t7{constructor(e){this.persistence=e,this.Ri=new e7,this.Vi=null}static mi(e){return new t7(e)}get fi(){if(this.Vi)return this.Vi;throw Je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=Ke.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class em{constructor(e,n){this.persistence=e,this.pi=new El((r=>D$(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=GY(this,n)}static mi(e,n){return new em(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,nt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sd(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class n7{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yt(),i=yt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n7(e,n.fromCache,r,i)}}class rX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZF()?8:M$(tr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new rX;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Au()<=gt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Au()<=gt.DEBUG&&Le("QueryEngine","Query:",Cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Au()<=gt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,aa(n))):Ae.resolve())}ys(e,n){if(RS(n))return Ae.resolve(null);let r=aa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=W5(n,null,"F"),r=aa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=yt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(e,W5(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,i){return RS(n)||i.isEqual(nt.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?Ae.resolve(null):(Au()<=gt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cu(n)),this.vs(e,l,n,A$(i,G0)).next((c=>c)))}))}Ds(e,n){let r=new Dn(ik(e));return n.forEach(((i,o)=>{qm(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Au()<=gt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.ps.getDocumentsMatchingQuery(e,n,mo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const r7="LocalStore",aX=3e8;class sX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rn(vt),this.xs=new El((o=>Y6(o)),X6),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oX(t,e,n,r){return new sX(t,e,n,r)}async function Ck(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=yt();for(const d of i){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function lX(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const p=d.batch,y=p.keys();let b=Ae.resolve();return y.forEach((S=>{b=b.next((()=>m.getEntry(h,S))).next((T=>{const E=d.docVersions.get(S);It(E!==null,48541),T.version.compareTo(E)<0&&(p.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),m.addEntry(T)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=yt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Rk(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uX(t,e){const n=at(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,p))));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Yn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(T,E,C){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=aX?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,b,m)&&c.push(n.Pi.updateTargetData(o,b))}));let h=is(),d=yt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(cX(o,l,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(nt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function cX(t,e,n){let r=yt(),i=yt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=is();return n.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(nt.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Le(r7,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function hX(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=F6),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fX(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new io(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function r6(t,e,n){const r=at(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!lc(l))throw l;Le(r7,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function US(t,e,n){const r=at(t);let i=nt.min(),o=yt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,m){const p=at(h),y=p.xs.get(m);return y!==void 0?Ae.resolve(p.Ms.get(y)):p.Pi.getTargetData(d,m)})(r,l,aa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:nt.min(),n?o:yt()))).next((c=>(dX(r,W$(e),c),{documents:c,Qs:o})))))}function dX(t,e,n){let r=t.Os.get(e)||nt.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class jS{constructor(){this.activeTargetIds=iY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mX{constructor(){this.Mo=new jS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pX{Oo(e){}shutdown(){}}const HS="ConnectivityMonitor";class FS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(HS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(HS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let id=null;function i6(){return id===null?id=(function(){return 268435456+Math.round(2147483648*Math.random())})():id++,"0x"+id.toString(16)}const Lg="RestConnection",gX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Yd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=i6(),c=this.zo(e,n.toUriEncodedString());Le(Lg,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:d}=new URL(c),m=ic(d);return this.Jo(e,c,h,r,m).then((p=>(Le(Lg,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Ku(Lg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=gX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class yX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zn="WebChannelConnection";class _X extends vX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=i6();return new Promise(((c,h)=>{const d=new MM;d.setWithCredentials(!0),d.listenOnce(kM.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case wd.NO_ERROR:const p=d.getResponseJson();Le(Zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case wd.TIMEOUT:Le(Zn,`RPC '${e}' ${l} timed out`),h(new qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const y=d.getStatus();if(Le(Zn,`RPC '${e}' ${l} failed with status:`,y,"response text:",d.getResponseText()),y>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b?.error;if(S&&S.status&&S.message){const T=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(D)>=0?D:Te.UNKNOWN})(S.status);h(new qe(T,S.message))}else h(new qe(Te.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new qe(Te.UNAVAILABLE,"Connection failed."));break;default:Je(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Le(Zn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);Le(Zn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=i6(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zM(),c=OM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");Le(Zn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const p=l.createWebChannel(m,h);this.I_(p);let y=!1,b=!1;const S=new yX({Yo:E=>{b?Le(Zn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(y||(Le(Zn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Le(Zn,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),T=(E,C,D)=>{E.listen(C,(A=>{try{D(A)}catch(z){setTimeout((()=>{throw z}),0)}}))};return T(p,v0.EventType.OPEN,(()=>{b||(Le(Zn,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),T(p,v0.EventType.CLOSE,(()=>{b||(b=!0,Le(Zn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))})),T(p,v0.EventType.ERROR,(E=>{b||(b=!0,Ku(Zn,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new qe(Te.UNAVAILABLE,"The operation could not be completed")))})),T(p,v0.EventType.MESSAGE,(E=>{if(!b){const C=E.data[0];It(!!C,16349);const D=C,A=D?.error||D[0]?.error;if(A){Le(Zn,`RPC '${e}' stream ${i} received error:`,A);const z=A.status;let U=(function(M){const k=Tn[M];if(k!==void 0)return pk(k)})(z),L=A.message;U===void 0&&(U=Te.INTERNAL,L="Unknown error status: "+z+" with message "+A.message),b=!0,S.a_(new qe(U,L)),p.close()}else Le(Zn,`RPC '${e}' stream ${i} received:`,C),S.u_(C)}})),T(c,DM.STAT_EVENT,(E=>{E.stat===G5.PROXY?Le(Zn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===G5.NOPROXY&&Le(Zn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pg(){return typeof document<"u"?document:null}function Bm(t){return new xY(t,!0)}class Ik{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const GS="PersistentStream";class Nk{constructor(e,n,r,i,o,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ik(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(GS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(GS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bX extends Nk{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AY(this.serializer,e),r=(function(o){if(!("targetChange"in o))return nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?nt.min():l.readTime?oa(l.readTime):nt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=n6(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=Q5(h)?{documents:IY(o,h)}:{query:NY(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=yk(o,l.resumeToken);const d=J5(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(nt.min())>0){c.readTime=Jd(o,l.snapshotVersion.toTimestamp());const d=J5(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=kY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=n6(this.serializer),n.removeTarget=e,this.q_(n)}}class wX extends Nk{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RY(e.writeResults,e.commitTime),r=oa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=n6(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>CY(this.serializer,r)))};this.q_(n)}}class SX{}class xX extends SX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,e6(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Te.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,e6(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(Te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wl="RemoteStore";class TX{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Al(this)&&(Le(wl,"Restarting streams for network reachability change."),await(async function(h){const d=at(h);d.Ea.add(4),await dh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Um(d)})(this))}))})),this.Ra=new EX(r,i)}}async function Um(t){if(Al(t))for(const e of t.da)await e(!0)}async function dh(t){for(const e of t.da)await e(!1)}function Mk(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),o7(n)?s7(n):uc(n).O_()&&a7(n,e))}function i7(t,e){const n=at(t),r=uc(n);n.Ia.delete(e),r.O_()&&kk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Al(n)&&n.Ra.set("Unknown"))}function a7(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).Y_(e)}function kk(t,e){t.Va.Ue(e),uc(t).Z_(e)}function s7(t){t.Va=new _Y({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.Ra.ua()}function o7(t){return Al(t)&&!uc(t).x_()&&t.Ia.size>0}function Al(t){return at(t).Ea.size===0}function Dk(t){t.Va=void 0}async function AX(t){t.Ra.set("Online")}async function CX(t){t.Ia.forEach(((e,n)=>{a7(t,e)}))}async function RX(t,e){Dk(t),o7(t)?(t.Ra.ha(e),s7(t)):t.Ra.set("Unknown")}async function IX(t,e,n){if(t.Ra.set("Online"),e instanceof vk&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Le(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tm(t,r)}else if(e instanceof Td?t.Va.Ze(e):e instanceof gk?t.Va.st(e):t.Va.tt(e),!n.isEqual(nt.min()))try{const r=await Rk(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Yn.EMPTY_BYTE_STRING,m.snapshotVersion)),kk(o,h);const p=new io(m.target,h,d,m.sequenceNumber);a7(o,p)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Le(wl,"Failed to raise snapshot:",r),await tm(t,r)}}async function tm(t,e,n){if(!lc(e))throw e;t.Ea.add(1),await dh(t),t.Ra.set("Offline"),n||(n=()=>Rk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(wl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Um(t)}))}function Ok(t,e){return e().catch((n=>tm(t,n,e)))}async function jm(t){const e=at(t),n=yo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:F6;for(;NX(e);)try{const i=await hX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,MX(e,i)}catch(i){await tm(e,i)}zk(e)&&qk(e)}function NX(t){return Al(t)&&t.Ta.length<10}function MX(t,e){t.Ta.push(e);const n=yo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zk(t){return Al(t)&&!yo(t).x_()&&t.Ta.length>0}function qk(t){yo(t).start()}async function kX(t){yo(t).ra()}async function DX(t){const e=yo(t);for(const n of t.Ta)e.ea(n.mutations)}async function OX(t,e,n){const r=t.Ta.shift(),i=Z6.from(r,e,n);await Ok(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await jm(t)}async function zX(t,e){e&&yo(t).X_&&await(async function(r,i){if((function(l){return gY(l)&&l!==Te.ABORTED})(i.code)){const o=r.Ta.shift();yo(r).B_(),await Ok(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await jm(r)}})(t,e),zk(t)&&qk(t)}async function $S(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Le(wl,"RemoteStore received new credentials");const r=Al(n);n.Ea.add(3),await dh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Um(n)}async function qX(t,e){const n=at(t);e?(n.Ea.delete(2),await Um(n)):e||(n.Ea.add(2),await dh(n),n.Ra.set("Unknown"))}function uc(t){return t.ma||(t.ma=(function(n,r,i){const o=at(n);return o.sa(),new bX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:AX.bind(null,t),t_:CX.bind(null,t),r_:RX.bind(null,t),H_:IX.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),o7(t)?s7(t):t.Ra.set("Unknown")):(await t.ma.stop(),Dk(t))}))),t.ma}function yo(t){return t.fa||(t.fa=(function(n,r,i){const o=at(n);return o.sa(),new wX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kX.bind(null,t),r_:zX.bind(null,t),ta:DX.bind(null,t),na:OX.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await jm(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(wl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class l7{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new l7(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u7(t,e){if(rs("AsyncQueue",`${e}: ${t}`),lc(t))return new qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}class Ou{static emptySet(e){return new Ou(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=y0(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class YS{constructor(){this.ga=new rn(Ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ec{constructor(e,n,r,i,o,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new ec(e,n,Ou.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class VX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LX{constructor(){this.queries=XS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=XS(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new qe(Te.ABORTED,"Firestore shutting down"))}}function XS(){return new El((t=>rk(t)),zm)}async function Vk(t,e){const n=at(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new VX,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=u7(l,`Initialization of query '${Cu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&c7(n)}async function Lk(t,e){const n=at(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PX(t,e){const n=at(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&c7(n)}function BX(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function c7(t){t.Ca.forEach((e=>{e.next()}))}var a6,KS;(KS=a6||(a6={})).Ma="default",KS.Cache="cache";class Pk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==a6.Cache}}class Bk{constructor(e){this.key=e}}class Uk{constructor(e){this.key=e}}class UX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yt(),this.mutatedKeys=yt(),this.eu=ik(e),this.tu=new Ou(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new YS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),b=qm(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?S!==T&&(r.track({type:3,doc:b}),E=!0):this.su(y,b)||(r.track({type:2,doc:b}),E=!0,(h&&this.eu(b,h)>0||d&&this.eu(b,d)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),E=!0):y&&!b&&(r.track({type:1,doc:y}),E=!0,(h||d)&&(c=!0)),E&&(b?(l=l.add(b),o=T?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,S){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je(20277,{Rt:E})}};return T(b)-T(S)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new ec(this.query,e.tu,o,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Uk(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Bk(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const h7="SyncEngine";class jX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HX{constructor(e){this.key=e,this.hu=!1}}class FX{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new El((c=>rk(c)),zm),this.Iu=new Map,this.Eu=new Set,this.du=new rn(Ke.comparator),this.Au=new Map,this.Ru=new e7,this.Vu={},this.mu=new Map,this.fu=Ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GX(t,e,n=!0){const r=Yk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await jk(r,e,n,!0),i}async function $X(t,e){const n=Yk(t);await jk(n,e,!0,!1)}async function jk(t,e,n,r){const i=await fX(t.localStore,aa(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await YX(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Mk(t.remoteStore,i),c}async function YX(t,e,n,r,i){t.pu=(p,y,b)=>(async function(T,E,C,D){let A=E.view.ru(C);A.Cs&&(A=await US(T.localStore,E.query,!1).then((({documents:I})=>E.view.ru(I,A))));const z=D&&D.targetChanges.get(E.targetId),U=D&&D.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(A,T.isPrimaryClient,z,U);return ZS(T,E.targetId,L.au),L.snapshot})(t,p,y,b);const o=await US(t.localStore,e,!0),l=new UX(e,o.Qs),c=l.ru(o.documents),h=fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,h);ZS(t,n,d.au);const m=new jX(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function XX(t,e,n){const r=at(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!zm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await r6(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&i7(r.remoteStore,i.targetId),s6(r,i.targetId)})).catch(oc)):(s6(r,i.targetId),await r6(r.localStore,i.targetId,!0))}async function KX(t,e){const n=at(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i7(n.remoteStore,r.targetId))}async function QX(t,e,n){const r=rK(t);try{const i=await(function(l,c){const h=at(l),d=$t.now(),m=c.reduce(((b,S)=>b.add(S.key)),yt());let p,y;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=is(),T=yt();return h.Ns.getEntries(b,m).next((E=>{S=E,S.forEach(((C,D)=>{D.isValidDocument()||(T=T.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,S))).next((E=>{p=E;const C=[];for(const D of c){const A=hY(D,p.get(D.key).overlayedDocument);A!=null&&C.push(new Tl(D.key,A,KM(A.value.mapValue),sa.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,C,c)})).next((E=>{y=E;const C=E.applyToLocalDocumentSet(p,T);return h.documentOverlayCache.saveOverlays(b,E.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:sk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new rn(vt)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await mh(r,i.changes),await jm(r.remoteStore)}catch(i){const o=u7(i,"Failed to persist write");n.reject(o)}}async function Hk(t,e){const n=at(t);try{const r=await uX(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?It(l.hu,14607):i.removedDocuments.size>0&&(It(l.hu,42227),l.hu=!1))})),await mh(n,r,e)}catch(r){await oc(r)}}function QS(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=at(l);h.onlineState=c;let d=!1;h.queries.forEach(((m,p)=>{for(const y of p.Sa)y.va(c)&&(d=!0)})),d&&c7(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZX(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new rn(Ke.comparator);l=l.insert(o,Jn.newNoDocument(o,nt.min()));const c=yt().add(o),h=new Pm(nt.min(),new Map,new rn(vt),l,c);await Hk(r,h),r.du=r.du.remove(o),r.Au.delete(e),f7(r)}else await r6(r.localStore,e,!1).then((()=>s6(r,e,n))).catch(oc)}async function WX(t,e){const n=at(t),r=e.batch.batchId;try{const i=await lX(n.localStore,e);Gk(n,r,null),Fk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mh(n,i)}catch(i){await oc(i)}}async function JX(t,e,n){const r=at(t);try{const i=await(function(l,c){const h=at(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((p=>(It(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(d,p)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);Gk(r,e,n),Fk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mh(r,i)}catch(i){await oc(i)}}function Fk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Gk(t,e,n){const r=at(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function s6(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||$k(t,r)}))}function $k(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(i7(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),f7(t))}function ZS(t,e,n){for(const r of n)r instanceof Bk?(t.Ru.addReference(r.key,e),eK(t,r)):r instanceof Uk?(Le(h7,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$k(t,r.key)):Je(19791,{wu:r})}function eK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(h7,"New document in limbo: "+n),t.Eu.add(r),f7(t))}function f7(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ke(Ut.fromString(e)),r=t.fu.next();t.Au.set(r,new HX(n)),t.du=t.du.insert(n,r),Mk(t.remoteStore,new io(aa(Om(n.path)),r,"TargetPurposeLimboResolution",Mm.ce))}}async function mh(t,e,n){const r=at(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){i.push(d);const m=n7.As(h.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,d){const m=at(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(d,(y=>Ae.forEach(y.Es,(b=>m.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>Ae.forEach(y.ds,(b=>m.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!lc(p))throw p;Le(r7,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const b=m.Ms.get(y),S=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(y,T)}}})(r.localStore,o))}async function tK(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Le(h7,"User change. New user:",e.toKey());const r=await Ck(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new qe(Te.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mh(n,r.Ls)}}function nK(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let i=yt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function Yk(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZX.bind(null,e),e.Pu.H_=PX.bind(null,e.eventManager),e.Pu.yu=BX.bind(null,e.eventManager),e}function rK(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JX.bind(null,e),e}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oX(this.persistence,new iX,e.initialUser,this.serializer)}Cu(e){return new Ak(t7.mi,this.serializer)}Du(e){return new mX}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class iK extends nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){It(this.persistence.referenceDelegate instanceof em,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new Ak((r=>em.mi(r,n)),this.serializer)}}class o6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tK.bind(null,this.syncEngine),await qX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LX})()}createDatastore(e){const n=Bm(e.databaseInfo.databaseId),r=(function(o){return new _X(o)})(e.databaseInfo);return(function(o,l,c,h){return new xX(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new TX(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>QS(this.syncEngine,n,0)),(function(){return FS.v()?new FS:new pX})())}createSyncEngine(e,n){return(function(i,o,l,c,h,d,m){const p=new FX(i,o,l,c,h,d);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=at(n);Le(wl,"RemoteStore shutting down."),r.Ea.add(5),await dh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}o6.provider={build:()=>new o6};class Xk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _o="FirestoreClient";class aK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wn.UNAUTHENTICATED,this.clientId=H6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Le(_o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Le(_o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u7(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress(),Le(_o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Ck(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sK(t);Le(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>$S(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>$S(e.remoteStore,i))),t._onlineComponents=e}async function sK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(_o,"Using user provided OfflineComponentProvider");try{await Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ku("Error using user provided cache. Falling back to memory cache: "+n),await Bg(t,new nm)}}else Le(_o,"Using default OfflineComponentProvider"),await Bg(t,new iK(void 0));return t._offlineComponents}async function Kk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(_o,"Using user provided OnlineComponentProvider"),await WS(t,t._uninitializedComponentsProvider._online)):(Le(_o,"Using default OnlineComponentProvider"),await WS(t,new o6))),t._onlineComponents}function oK(t){return Kk(t).then((e=>e.syncEngine))}async function l6(t){const e=await Kk(t),n=e.eventManager;return n.onListen=GX.bind(null,e.syncEngine),n.onUnlisten=XX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$X.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KX.bind(null,e.syncEngine),n}function lK(t,e,n={}){const r=new ho;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new Xk({next:y=>{m.Nu(),l.enqueueAndForget((()=>Lk(o,p)));const b=y.docs.has(c);!b&&y.fromCache?d.reject(new qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?d.reject(new qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new Pk(Om(c.path),m,{includeMetadataChanges:!0,qa:!0});return Vk(o,p)})(await l6(t),t.asyncQueue,e,n,r))),r.promise}function Qk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const JS=new Map;const Zk="firestore.googleapis.com",ex=!0;class tx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zk,this.ssl=ex}else this.host=e.host,this.ssl=e.ssl??ex;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UY)throw new qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new p$;switch(r.type){case"firstParty":return new _$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=JS.get(n);r&&(Le("ComponentProvider","Removing Datastore"),JS.delete(n),r.terminate())})(this),Promise.resolve()}}function uK(t,e,n,r={}){t=Wa(t,Hm);const i=ic(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(SM(`https://${c}`),xM("Firestore",!0)),o.host!==Zk&&o.host!==c&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!yl(h,l)&&(t._setSettings(h),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Wn.MOCK_USER;else{d=jF(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Wn(p)}t._authCredentials=new g$(new VM(d,m))}}class cc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uh(n,vn._jsonSchema))return new vn(e,r||null,new Ke(Ut.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:Cn("string",vn._jsonSchemaVersion),referencePath:Cn("string")};class fo extends cc{constructor(e,n,r){super(e,n,Om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Ke(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Ug(t,e,...n){if(t=or(t),LM("collection","path",e),t instanceof Hm){const r=Ut.fromString(e,...n);return mS(r),new fo(t,null,r)}{if(!(t instanceof vn||t instanceof fo))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return mS(r),new fo(t.firestore,null,r)}}function sl(t,e,...n){if(t=or(t),arguments.length===1&&(e=H6.newId()),LM("doc","path",e),t instanceof Hm){const r=Ut.fromString(e,...n);return dS(r),new vn(t,null,new Ke(r))}{if(!(t instanceof vn||t instanceof fo))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return dS(r),new vn(t.firestore,t instanceof fo?t.converter:null,new Ke(r))}}const nx="AsyncQueue";class rx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ik(this,"async_queue_retry"),this._c=()=>{const r=Pg();r&&Le(nx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lc(e))throw e;Le(nx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",ix(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=l7.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Je(47125,{Pc:ix(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ix(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ax(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class tc extends Hm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rx,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rx(e),this._firestoreClient=void 0,await e}}}function cK(t,e){const n=typeof t=="object"?t:CM(),r=typeof t=="string"?t:Yd,i=U6(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=BF("firestore");o&&uK(i,...o)}return i}function d7(t){if(t._terminated)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hK(t),t._firestoreClient}function hK(t){const e=t._freezeSettings(),n=(function(i,o,l,c){return new q$(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Qk(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(Yn.fromBase64String(e))}catch(n){throw new qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uh(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Cn("string",ci._jsonSchemaVersion),bytes:Cn("string")};class m7{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wk{constructor(e){this._methodName=e}}class la{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:la._jsonSchemaVersion}}static fromJSON(e){if(uh(e,la._jsonSchema))return new la(e.latitude,e.longitude)}}la._jsonSchemaVersion="firestore/geoPoint/1.0",la._jsonSchema={type:Cn("string",la._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class ua{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uh(e,ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ua(e.vectorValues);throw new qe(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ua._jsonSchemaVersion="firestore/vectorValue/1.0",ua._jsonSchema={type:Cn("string",ua._jsonSchemaVersion),vectorValues:Cn("object")};const fK=/^__.*__$/;class dK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)}}function Jk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je(40011,{Ac:t})}}class p7{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new p7({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jk(this.Ac)&&fK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bm(e)}Cc(e,n,r,i=!1){return new p7({Ac:e,methodName:n,Dc:r,path:$n.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eD(t){const e=t._freezeSettings(),n=Bm(t._databaseId);return new mK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pK(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);rD("Data must be an object, but it was:",l,r);const c=tD(r,l);let h,d;if(o.merge)h=new Di(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const p of o.mergeFields){const y=vK(e,p,n);if(!l.contains(y))throw new qe(Te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);_K(m,y)||m.push(y)}h=new Di(m),d=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,d=l.fieldTransforms;return new dK(new ui(c),h,d)}function gK(t,e,n,r=!1){return g7(n,t.Cc(r?4:3,e))}function g7(t,e){if(nD(t=or(t)))return rD("Unsupported field value:",e,t),tD(t,e);if(t instanceof Wk)return(function(r,i){if(!Jk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=g7(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$t.fromDate(r);return{timestampValue:Jd(i.serializer,o)}}if(r instanceof $t){const o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jd(i.serializer,o)}}if(r instanceof la)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:yk(i.serializer,r._byteString)};if(r instanceof vn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:J6(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ua)return(function(l,c){return{mapValue:{fields:{[YM]:{stringValue:XM},[Xd]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return K6(c.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Nm(r)}`)})(t,e)}function tD(t,e){const n={};return UM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,((r,i)=>{const o=g7(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function nD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof la||t instanceof ci||t instanceof vn||t instanceof Wk||t instanceof ua)}function rD(t,e,n){if(!nD(n)||!PM(n)){const r=Nm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vK(t,e,n){if((e=or(e))instanceof m7)return e._internalPath;if(typeof e=="string")return iD(t,e);throw rm("Field path arguments must be of type string or ",t,!1,void 0,n)}const yK=new RegExp("[~\\*/\\[\\]]");function iD(t,e,n){if(e.search(yK)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new m7(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rm(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new qe(Te.INVALID_ARGUMENT,c+t+h)}function _K(t,e){return t.some((n=>n.isEqual(e)))}class aD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bK extends aD{data(){return super.data()}}function v7(t,e){return typeof e=="string"?iD(t,e):e instanceof m7?e._internalPath:e._delegate._internalPath}function wK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y7{}class SK extends y7{}function xK(t,e,...n){let r=[];e instanceof y7&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof _7)).length,c=o.filter((h=>h instanceof Fm)).length;if(l>1||l>0&&c>0)throw new qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Fm extends SK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=this._parse(e);return sD(e._query,n),new cc(e.firestore,e.converter,Z5(e._query,n))}_parse(e){const n=eD(e.firestore);return(function(o,l,c,h,d,m,p){let y;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ox(p,m);const S=[];for(const T of p)S.push(sx(h,o,T));y={arrayValue:{values:S}}}else y=sx(h,o,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ox(p,m),y=gK(c,l,p,m==="in"||m==="not-in");return An.create(d,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function EK(t,e,n){const r=e,i=v7("where",t);return Fm._create(i,r,n)}class _7 extends y7{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _7(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)sD(l,h),l=Z5(l,h)})(e._query,n),new cc(e.firestore,e.converter,Z5(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sx(t,e,n){if(typeof(n=or(n))=="string"){if(n==="")throw new qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nk(e)&&n.indexOf("/")!==-1)throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!Ke.isDocumentKey(r))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SS(t,new Ke(r))}if(n instanceof vn)return SS(t,n._key);throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function ox(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sD(t,e){const n=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TK{convertValue(e,n="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xl(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Xd].arrayValue?.values?.map((r=>gn(r.doubleValue)));return new ua(n)}convertGeoPoint(e){return new la(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($0(e));default:return null}}convertTimestamp(e){const n=po(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);It(Ek(r),9688,{name:e});const i=new Y0(r.get(1),r.get(3)),o=new Ke(r.popFirst(5));return i.isEqual(n)||rs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function AK(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class b0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends aD{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:Cn("string",fl._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Ad extends fl{data(e={}){return super.data(e)}}class zu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new b0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ad(this._firestore,this._userDataWriter,r.key,r,new b0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Ad(i._firestore,i._userDataWriter,c.doc.key,c.doc,new b0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Ad(i._firestore,i._userDataWriter,c.doc.key,c.doc,new b0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:CK(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H6.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je(61501,{type:t})}}function RK(t){t=Wa(t,vn);const e=Wa(t.firestore,tc);return lK(d7(e),t._key).then((n=>uD(e,t,n)))}zu._jsonSchemaVersion="firestore/querySnapshot/1.0",zu._jsonSchema={type:Cn("string",zu._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class oD extends TK{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Cd(t,e,n){t=Wa(t,vn);const r=Wa(t.firestore,tc),i=AK(t.converter,e);return lD(r,[pK(eD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sa.none())])}function lx(t){return lD(Wa(t.firestore,tc),[new Q6(t._key,sa.none())])}function ad(t,...e){t=or(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ax(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ax(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,c;if(t instanceof vn)l=Wa(t.firestore,tc),c=Om(t._key.path),o={next:h=>{e[r]&&e[r](uD(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Wa(t,cc);l=Wa(h.firestore,tc),c=h._query;const d=new oD(l);o={next:m=>{e[r]&&e[r](new zu(l,d,h,m))},error:e[r+1],complete:e[r+2]},wK(t._query)}return(function(d,m,p,y){const b=new Xk(y),S=new Pk(m,b,p);return d.asyncQueue.enqueueAndForget((async()=>Vk(await l6(d),S))),()=>{b.Nu(),d.asyncQueue.enqueueAndForget((async()=>Lk(await l6(d),S)))}})(d7(l),c,i,o)}function lD(t,e){return(function(r,i){const o=new ho;return r.asyncQueue.enqueueAndForget((async()=>QX(await oK(r),i,o))),o.promise})(d7(t),e)}function uD(t,e,n){const r=n.docs.get(e._key),i=new oD(t);return new fl(t,i,e._key,r,new b0(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sc=i})(ac),Xu(new _l("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new tc(new v$(r.getProvider("auth-internal")),new b$(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Y0(d.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),uo(uS,cS,e),uo(uS,cS,"esm2020")})();var IK="firebase",NK="12.7.0";uo(IK,NK,"app");function cD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MK=cD,hD=new oh("auth","Firebase",cD());const im=new P6("@firebase/auth");function kK(t,...e){im.logLevel<=gt.WARN&&im.warn(`Auth (${ac}): ${t}`,...e)}function Rd(t,...e){im.logLevel<=gt.ERROR&&im.error(`Auth (${ac}): ${t}`,...e)}function da(t,...e){throw w7(t,...e)}function zi(t,...e){return w7(t,...e)}function b7(t,e,n){const r={...MK(),[e]:n};return new oh("auth","Firebase",r).create(e,{appName:t.name})}function dl(t){return b7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&da(t,"argument-error"),b7(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w7(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hD.create(t,...e)}function tt(t,e,...n){if(!t)throw w7(e,...n)}function Qa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function as(t,e){t||Qa(e)}function u6(){return typeof self<"u"&&self.location?.href||""}function OK(){return ux()==="http:"||ux()==="https:"}function ux(){return typeof self<"u"&&self.location?.protocol||null}function zK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OK()||XF()||"connection"in navigator)?navigator.onLine:!0}function qK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=GF()||KF()}get(){return zK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S7(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PK=new ph(3e4,6e4);function x7(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hc(t,e,n,r,i={}){return dD(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=lh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...o};return YF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ic(t.emulatorConfig.host)&&(d.credentials="include"),fD.fetch()(await mD(t,t.config.apiHost,n,c),d)})}async function dD(t,e,n){t._canInitEmulator=!1;const r={...VK,...e};try{const i=new UK(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw sd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw sd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw b7(t,m,d);da(t,m)}}catch(i){if(i instanceof cs)throw i;da(t,"network-request-failed",{message:String(i)})}}async function BK(t,e,n,r,i={}){const o=await hc(t,e,n,r,i);return"mfaPendingCredential"in o&&da(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function mD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?S7(t.config,i):`${t.config.apiScheme}://${i}`;return LK.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class UK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),PK.get())})}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zi(t,e,r);return i.customData._tokenResponse=n,i}async function jK(t,e){return hc(t,"POST","/v1/accounts:delete",e)}async function am(t,e){return hc(t,"POST","/v1/accounts:lookup",e)}function k0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HK(t,e=!1){const n=or(t),r=await n.getIdToken(e),i=E7(r);tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:k0(jg(i.auth_time)),issuedAtTime:k0(jg(i.iat)),expirationTime:k0(jg(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function jg(t){return Number(t)*1e3}function E7(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const i=yM(n);return i?JSON.parse(i):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cx(t){const e=E7(t);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Z0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cs&&FK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class GK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class c6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=k0(this.lastLoginAt),this.creationTime=k0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sm(t){const e=t.auth,n=await t.getIdToken(),r=await Z0(t,am(e,{idToken:n}));tt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?pD(i.providerUserInfo):[],l=YK(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,d=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new c6(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function $K(t){const e=or(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function XK(t,e){const n=await dD(t,{},async()=>{const r=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await mD(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&ic(t.emulatorConfig.host)&&(h.credentials="include"),fD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KK(t,e){return hc(t,"POST","/v2/accounts:revokeToken",x7(t,e))}class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const n=cx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await XK(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new qu;return r&&(tt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(tt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(tt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return Qa("not implemented")}}function Zs(t,e){tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new GK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new c6(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Z0(this,this.stsTokenManager.getToken(this.auth,e));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HK(this,e)}reload(){return $K(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await Z0(this,jK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:b,providerData:S,stsTokenManager:T}=n;tt(p&&T,e,"internal-error");const E=qu.fromJSON(this.name,T);tt(typeof p=="string",e,"internal-error"),Zs(r,e.name),Zs(i,e.name),tt(typeof y=="boolean",e,"internal-error"),tt(typeof b=="boolean",e,"internal-error"),Zs(o,e.name),Zs(l,e.name),Zs(c,e.name),Zs(h,e.name),Zs(d,e.name),Zs(m,e.name);const C=new Oi({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:E,createdAt:d,lastLoginAt:m});return S&&Array.isArray(S)&&(C.providerData=S.map(D=>({...D}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new qu;i.updateFromServerResponse(n);const o=new Oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];tt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?pD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new qu;c.updateFromIdToken(r);const h=new Oi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new c6(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,d),h}}const hx=new Map;function Za(t){as(t instanceof Function,"Expected a class definition");let e=hx.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hx.set(t,e),e)}class gD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gD.type="NONE";const fx=gD;function Id(t,e,n){return`firebase:${t}:${e}:${n}`}class Vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Id(this.userKey,i.apiKey,o),this.fullPersistenceKey=Id("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await am(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vu(Za(fx),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Za(fx);const l=Id(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let p;if(typeof m=="string"){const y=await am(e,{idToken:m}).catch(()=>{});if(!y)break;p=await Oi._fromGetAccountInfoResponse(e,y,m)}else p=Oi._fromJSON(e,m);d!==o&&(c=p),o=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Vu(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Vu(o,e,r))}}function dx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SD(e))return"Blackberry";if(xD(e))return"Webos";if(yD(e))return"Safari";if((e.includes("chrome/")||_D(e))&&!e.includes("edge/"))return"Chrome";if(wD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vD(t=tr()){return/firefox\//i.test(t)}function yD(t=tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _D(t=tr()){return/crios\//i.test(t)}function bD(t=tr()){return/iemobile/i.test(t)}function wD(t=tr()){return/android/i.test(t)}function SD(t=tr()){return/blackberry/i.test(t)}function xD(t=tr()){return/webos/i.test(t)}function T7(t=tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QK(t=tr()){return T7(t)&&!!window.navigator?.standalone}function ZK(){return QF()&&document.documentMode===10}function ED(t=tr()){return T7(t)||wD(t)||xD(t)||SD(t)||/windows phone/i.test(t)||bD(t)}function TD(t,e=[]){let n;switch(t){case"Browser":n=dx(tr());break;case"Worker":n=`${dx(tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ac}/${r}`}class WK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JK(t,e={}){return hc(t,"GET","/v2/passwordPolicy",x7(t,e))}const eQ=6;class tQ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class nQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mx(this),this.idTokenSubscription=new mx(this),this.beforeStateQueue=new WK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Za(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await am(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(dl(this));const n=e?or(e):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Za(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JK(this),n=new tQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KK(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Za(e)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[Za(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gm(t){return or(t)}class mx{constructor(e){this.auth=e,this.observer=null,this.addObserver=iG(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let A7={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rQ(t){A7=t}function iQ(t){return A7.loadJS(t)}function aQ(){return A7.gapiScript}function sQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function oQ(t,e){const n=U6(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(yl(o,e??{}))return i;da(i,"already-initialized")}return n.initialize({options:e})}function lQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Za);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function uQ(t,e,n){const r=Gm(t);tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=AD(e),{host:l,port:c}=cQ(e),h=c===null?"":`:${c}`,d={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),tt(yl(d,r.config.emulator)&&yl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ic(l)?(SM(`${o}//${l}${h}`),xM("Auth",!0)):hQ()}function AD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cQ(t){const e=AD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:px(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:px(l)}}}function px(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class CD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qa("not implemented")}_getIdTokenResponse(e){return Qa("not implemented")}_linkToIdToken(e,n){return Qa("not implemented")}_getReauthenticationResolver(e){return Qa("not implemented")}}async function Lu(t,e){return BK(t,"POST","/v1/accounts:signInWithIdp",x7(t,e))}const fQ="http://localhost";class Sl extends CD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):da("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Sl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lu(e,n)}buildRequest(){const e={requestUri:fQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lh(n)}return e}}class C7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gh extends C7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class to extends gh{constructor(){super("facebook.com")}static credential(e){return Sl._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class Xa extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sl._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xa.credential(n,r)}catch{return null}}}Xa.GOOGLE_SIGN_IN_METHOD="google.com";Xa.PROVIDER_ID="google.com";class no extends gh{constructor(){super("github.com")}static credential(e){return Sl._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";class ro extends gh{constructor(){super("twitter.com")}static credential(e,n){return Sl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";class nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Oi._fromIdTokenResponse(e,r,i),l=gx(r);return new nc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gx(r);return new nc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class om extends cs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new om(e,n,r,i)}}function RD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(t,o,e,r):o})}async function dQ(t,e,n=!1){const r=await Z0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nc._forOperation(t,"link",r)}async function mQ(t,e,n=!1){const{auth:r}=t;if(Ni(r.app))return Promise.reject(dl(r));const i="reauthenticate";try{const o=await Z0(t,RD(r,i,e,t),n);tt(o.idToken,r,"internal-error");const l=E7(o.idToken);tt(l,r,"internal-error");const{sub:c}=l;return tt(t.uid===c,r,"user-mismatch"),nc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&da(r,"user-mismatch"),o}}async function pQ(t,e,n=!1){if(Ni(t.app))return Promise.reject(dl(t));const r="signIn",i=await RD(t,r,e),o=await nc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function gQ(t,e,n,r){return or(t).onIdTokenChanged(e,n,r)}function vQ(t,e,n){return or(t).beforeAuthStateChanged(e,n)}function yQ(t,e,n,r){return or(t).onAuthStateChanged(e,n,r)}function _Q(t){return or(t).signOut()}const lm="__sak";class ID{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bQ=1e3,wQ=10;class ND extends ID{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ED(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);ZK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ND.type="LOCAL";const SQ=ND;class MD extends ID{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MD.type="SESSION";const kD=MD;function xQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async d=>d(n.origin,o)),h=await xQ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];function R7(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class EQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const d=R7("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ca(){return window}function TQ(t){ca().location.href=t}function DD(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}async function AQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CQ(){return navigator?.serviceWorker?.controller||null}function RQ(){return DD()?self:null}const OD="firebaseLocalStorageDb",IQ=1,um="firebaseLocalStorage",zD="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ym(t,e){return t.transaction([um],e?"readwrite":"readonly").objectStore(um)}function NQ(){const t=indexedDB.deleteDatabase(OD);return new vh(t).toPromise()}function h6(){const t=indexedDB.open(OD,IQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(um,{keyPath:zD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(um)?e(r):(r.close(),await NQ(),e(await h6()))})})}async function vx(t,e,n){const r=Ym(t,!0).put({[zD]:e,value:n});return new vh(r).toPromise()}async function MQ(t,e){const n=Ym(t,!1).get(e),r=await new vh(n).toPromise();return r===void 0?null:r.value}function yx(t,e){const n=Ym(t,!0).delete(e);return new vh(n).toPromise()}const kQ=800,DQ=3;class qD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h6(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(RQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AQ(),!this.activeServiceWorker)return;this.sender=new EQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h6();return await vx(e,lm,"1"),await yx(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ym(i,!1).getAll();return new vh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qD.type="LOCAL";const OQ=qD;new ph(3e4,6e4);function VD(t,e){return e?Za(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class I7 extends CD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zQ(t){return pQ(t.auth,new I7(t),t.bypassAuthState)}function qQ(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),mQ(n,new I7(t),t.bypassAuthState)}async function VQ(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),dQ(n,new I7(t),t.bypassAuthState)}class LD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zQ;case"linkViaPopup":case"linkViaRedirect":return VQ;case"reauthViaPopup":case"reauthViaRedirect":return qQ;default:da(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LQ=new ph(2e3,1e4);async function PQ(t,e,n){if(Ni(t.app))return Promise.reject(zi(t,"operation-not-supported-in-this-environment"));const r=Gm(t);DK(t,e,C7);const i=VD(r,n);return new ul(r,"signInViaPopup",e,i).executeNotNull()}class ul extends LD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=R7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LQ.get())};e()}}ul.currentPopupAction=null;const BQ="pendingRedirect",Nd=new Map;class UQ extends LD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await jQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jQ(t,e){const n=GQ(e),r=FQ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HQ(t,e){Nd.set(t._key(),e)}function FQ(t){return Za(t._redirectPersistence)}function GQ(t){return Id(BQ,t.config.apiKey,t.name)}async function $Q(t,e,n=!1){if(Ni(t.app))return Promise.reject(dl(t));const r=Gm(t),i=VD(r,e),l=await new UQ(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const YQ=600*1e3;class XQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(e))}saveEventToCache(e){this.cachedEventUids.add(_x(e)),this.lastProcessedEventTime=Date.now()}}function _x(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PD(t);default:return!1}}async function QQ(t,e={}){return hc(t,"GET","/v1/projects",e)}const ZQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WQ=/^https?/;async function JQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QQ(t);for(const n of e)try{if(eZ(n))return}catch{}da(t,"unauthorized-domain")}function eZ(t){const e=u6(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!WQ.test(n))return!1;if(ZQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tZ=new ph(3e4,6e4);function bx(){const t=ca().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nZ(t){return new Promise((e,n)=>{function r(){bx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bx(),n(zi(t,"network-request-failed"))},timeout:tZ.get()})}if(ca().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ca().gapi?.load)r();else{const i=sQ("iframefcb");return ca()[i]=()=>{gapi.load?r():n(zi(t,"network-request-failed"))},iQ(`${aQ()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Md=null,e})}let Md=null;function rZ(t){return Md=Md||nZ(t),Md}const iZ=new ph(5e3,15e3),aZ="__/auth/iframe",sZ="emulator/auth/iframe",oZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uZ(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S7(e,sZ):`https://${t.config.authDomain}/${aZ}`,r={apiKey:e.apiKey,appName:t.name,v:ac},i=lZ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${lh(r).slice(1)}`}async function cZ(t){const e=await rZ(t),n=ca().gapi;return tt(n,t,"internal-error"),e.open({where:document.body,url:uZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oZ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=zi(t,"network-request-failed"),c=ca().setTimeout(()=>{o(l)},iZ.get());function h(){ca().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}const hZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fZ=500,dZ=600,mZ="_blank",pZ="http://localhost";class wx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gZ(t,e,n,r=fZ,i=dZ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...hZ,width:r.toString(),height:i.toString(),top:o,left:l},d=tr().toLowerCase();n&&(c=_D(d)?mZ:n),vD(d)&&(e=e||pZ,h.scrollbars="yes");const m=Object.entries(h).reduce((y,[b,S])=>`${y}${b}=${S},`,"");if(QK(d)&&c!=="_self")return vZ(e||"",c),new wx(null);const p=window.open(e||"",c,m);tt(p,t,"popup-blocked");try{p.focus()}catch{}return new wx(p)}function vZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const yZ="__/auth/handler",_Z="emulator/auth/handler",bZ=encodeURIComponent("fac");async function Sx(t,e,n,r,i,o){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ac,eventId:i};if(e instanceof C7){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",rG(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof gh){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${bZ}=${encodeURIComponent(h)}`:"";return`${wZ(t)}?${lh(c).slice(1)}${d}`}function wZ({config:t}){return t.emulator?S7(t,_Z):`https://${t.authDomain}/${yZ}`}const Hg="webStorageSupport";class SZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kD,this._completeRedirectFn=$Q,this._overrideRedirectResult=HQ}async _openPopup(e,n,r,i){as(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Sx(e,n,r,u6(),i);return gZ(e,o,R7())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Sx(e,n,r,u6(),i);return TQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(as(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cZ(e),r=new XQ(e);return n.register("authEvent",i=>(tt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hg,{type:Hg},i=>{const o=i?.[0]?.[Hg];o!==void 0&&n(!!o),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ED()||yD()||T7()}}const xZ=SZ;var xx="@firebase/auth",Ex="1.12.0";class EZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AZ(t){Xu(new _l("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;tt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TD(t)},d=new nQ(r,i,o,h);return lQ(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new _l("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(r=>new EZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(xx,Ex,TZ(t)),uo(xx,Ex,"esm2020")}const CZ=300,RZ=wM("authIdTokenMaxAge")||CZ;let Tx=null;const IZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RZ)return;const i=n?.token;Tx!==i&&(Tx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NZ(t=CM()){const e=U6(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oQ(t,{popupRedirectResolver:xZ,persistence:[OQ,SQ,kD]}),r=wM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=IZ(o.toString());vQ(n,l,()=>l(n.currentUser)),gQ(n,c=>l(c))}}const i=_M("auth");return i&&uQ(n,`http://${i}`),n}function MZ(){return document.getElementsByTagName("head")?.[0]??document}rQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=zi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",MZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AZ("Browser");const kZ={apiKey:"AIzaSyAIyve7JZp_0E3MNutgFkX0cAm9DqzfqC4",authDomain:"algebraic-structure-explorer.firebaseapp.com",projectId:"algebraic-structure-explorer",storageBucket:"algebraic-structure-explorer.firebasestorage.app",messagingSenderId:"195740710356",appId:"1:195740710356:web:132e427e9790fdc2705241",measurementId:"G-J5YLN1TFLL"},BD=AM(kZ),Wi=cK(BD),Fg=NZ(BD),DZ=new Xa,N7={verified:"#ccffcc",unverified:"#ffcccc",deprecated:"#ffff00",deadEnd:"#eeeeee",duplicateLine:"#0000FF",parentLine:"#555",text:"#000"},Gg={verified:{label:"Verified"},unverified:{label:"Unverified"},deprecated:{label:"Duplicate Branch (Deprecated)"}},OZ="_overlay_1pykk_1",zZ="_legend_1pykk_20",Ax={overlay:OZ,legend:zZ};class wr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new wr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Pr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Pr(n,wr.range(this,e))}}class Ne{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,o=l.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var h=c.slice(i,o).replace(/[^]/g,"$&"),d;i>15?d=""+c.slice(i-15,i):d=c.slice(0,i);var m;o+15<c.length?m=c.slice(o,o+15)+"":m=c.slice(o),r+=d+h+m}var p=new Error(r);return p.name="ParseError",p.__proto__=Ne.prototype,p.position=i,i!=null&&o!=null&&(p.length=o-i),p.rawMessage=e,p}}Ne.prototype.__proto__=Error.prototype;var qZ=function(e,n){return e===void 0?n:e},VZ=/([A-Z])/g,LZ=function(e){return e.replace(VZ,"-$1").toLowerCase()},PZ={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},BZ=/[&><"']/g;function UZ(t){return String(t).replace(BZ,e=>PZ[e])}var UD=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},jZ=function(e){var n=UD(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},HZ=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},FZ=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},At={deflt:qZ,escape:UZ,hyphenate:LZ,getBaseElem:UD,isCharacterBox:jZ,protocolFromUrl:FZ},kd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function GZ(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class M7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in kd)if(kd.hasOwnProperty(n)){var r=kd[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:GZ(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=At.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Ws{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return ta[$Z[this.id]]}sub(){return ta[YZ[this.id]]}fracNum(){return ta[XZ[this.id]]}fracDen(){return ta[KZ[this.id]]}cramp(){return ta[QZ[this.id]]}text(){return ta[ZZ[this.id]]}isTight(){return this.size>=2}}var k7=0,cm=1,Pu=2,Ja=3,W0=4,hi=5,rc=6,sr=7,ta=[new Ws(k7,0,!1),new Ws(cm,0,!0),new Ws(Pu,1,!1),new Ws(Ja,1,!0),new Ws(W0,2,!1),new Ws(hi,2,!0),new Ws(rc,3,!1),new Ws(sr,3,!0)],$Z=[W0,hi,W0,hi,rc,sr,rc,sr],YZ=[hi,hi,hi,hi,sr,sr,sr,sr],XZ=[Pu,Ja,W0,hi,rc,sr,rc,sr],KZ=[Ja,Ja,hi,hi,sr,sr,sr,sr],QZ=[cm,cm,Ja,Ja,hi,hi,sr,sr],ZZ=[k7,cm,Pu,Ja,Pu,Ja,Pu,Ja],Ze={DISPLAY:ta[k7],TEXT:ta[Pu],SCRIPT:ta[W0],SCRIPTSCRIPT:ta[rc]},f6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function WZ(t){for(var e=0;e<f6.length;e++)for(var n=f6[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Dd=[];f6.forEach(t=>t.blocks.forEach(e=>Dd.push(...e)));function jD(t){for(var e=0;e<Dd.length;e+=2)if(t>=Dd[e]&&t<=Dd[e+1])return!0;return!1}var Eu=80,JZ=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},eW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},tW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},nW=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},rW=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},iW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},aW=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},sW=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=JZ(n,Eu);break;case"sqrtSize1":i=eW(n,Eu);break;case"sqrtSize2":i=tW(n,Eu);break;case"sqrtSize3":i=nW(n,Eu);break;case"sqrtSize4":i=rW(n,Eu);break;case"sqrtTall":i=aW(n,Eu,r)}return i},oW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Cx={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},lW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class yh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var na={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},od={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Rx={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function uW(t,e){na[t]=e}function D7(t,e,n){if(!na[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=na[e][r];if(!i&&t[0]in Rx&&(r=Rx[t[0]].charCodeAt(0),i=na[e][r]),!i&&n==="text"&&jD(r)&&(i=na[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var $g={};function cW(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!$g[e]){var n=$g[e]={cssEmPerMu:od.quad[e]/18};for(var r in od)od.hasOwnProperty(r)&&(n[r]=od[r][e])}return $g[e]}var hW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Ix=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Nx=function(e,n){return n.size<2?e:hW[e-1][n.size-1]};class Ya{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ya.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Ix[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Ya(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Nx(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Ix[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Nx(Ya.BASESIZE,e);return this.size===n&&this.textSize===Ya.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ya.BASESIZE?["sizing","reset-size"+this.size,"size"+Ya.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=cW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ya.BASESIZE=6;var d6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},fW={ex:!0,em:!0,mu:!0},HD=function(e){return typeof e!="string"&&(e=e.unit),e in d6||e in fW||e==="ex"},nn=function(e,n){var r;if(e.unit in d6)r=d6[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},bo=function(e){return e.filter(n=>n).join(" ")},FD=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},GD=function(e){var n=document.createElement(e);n.className=bo(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},dW=/[\s"'>/=\x00-\x1f]/,$D=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+At.escape(bo(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=At.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+At.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(dW.test(o))throw new Ne("Invalid attribute name '"+o+"'");n+=" "+o+'="'+At.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class _h{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,FD.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return GD.call(this,"span")}toMarkup(){return $D.call(this,"span")}}class O7{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,FD.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return GD.call(this,"a")}toMarkup(){return $D.call(this,"a")}}class mW{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+At.escape(this.src)+'"'+(' alt="'+At.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=At.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+At.escape(n)+'"'),e+="'/>",e}}var pW={:"",:"",:"",:""};class fi{constructor(e,n,r,i,o,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var d=WZ(this.text.charCodeAt(0));d&&this.classes.push(d+"_fallback"),/[]/.test(this.text)&&(this.text=pW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=bo(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=At.escape(bo(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=At.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+At.escape(r)+'"');var o=At.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class ss{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+At.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class wo{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Cx[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+At.escape(this.alternate)+'"/>':'<path d="'+At.escape(Cx[this.pathName])+'"/>'}}class m6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+At.escape(this.attributes[n])+'"');return e+="/>",e}}function Mx(t){if(t instanceof fi)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function gW(t){if(t instanceof _h)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var vW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},jt={math:{},text:{}};function w(t,e,n,r,i,o){jt[t][i]={font:e,group:n,replace:r},o&&r&&(jt[t][r]=jt[t][i])}var R="math",Re="text",V="main",Z="ams",Wt="accent-token",Ve="bin",lr="close",fc="inner",Qe="mathord",In="op-token",Ur="open",Xm="punct",J="rel",hs="spacing",se="textord";w(R,V,J,"","\\equiv",!0);w(R,V,J,"","\\prec",!0);w(R,V,J,"","\\succ",!0);w(R,V,J,"","\\sim",!0);w(R,V,J,"","\\perp");w(R,V,J,"","\\preceq",!0);w(R,V,J,"","\\succeq",!0);w(R,V,J,"","\\simeq",!0);w(R,V,J,"","\\mid",!0);w(R,V,J,"","\\ll",!0);w(R,V,J,"","\\gg",!0);w(R,V,J,"","\\asymp",!0);w(R,V,J,"","\\parallel");w(R,V,J,"","\\bowtie",!0);w(R,V,J,"","\\smile",!0);w(R,V,J,"","\\sqsubseteq",!0);w(R,V,J,"","\\sqsupseteq",!0);w(R,V,J,"","\\doteq",!0);w(R,V,J,"","\\frown",!0);w(R,V,J,"","\\ni",!0);w(R,V,J,"","\\propto",!0);w(R,V,J,"","\\vdash",!0);w(R,V,J,"","\\dashv",!0);w(R,V,J,"","\\owns");w(R,V,Xm,".","\\ldotp");w(R,V,Xm,"","\\cdotp");w(R,V,se,"#","\\#");w(Re,V,se,"#","\\#");w(R,V,se,"&","\\&");w(Re,V,se,"&","\\&");w(R,V,se,"","\\aleph",!0);w(R,V,se,"","\\forall",!0);w(R,V,se,"","\\hbar",!0);w(R,V,se,"","\\exists",!0);w(R,V,se,"","\\nabla",!0);w(R,V,se,"","\\flat",!0);w(R,V,se,"","\\ell",!0);w(R,V,se,"","\\natural",!0);w(R,V,se,"","\\clubsuit",!0);w(R,V,se,"","\\wp",!0);w(R,V,se,"","\\sharp",!0);w(R,V,se,"","\\diamondsuit",!0);w(R,V,se,"","\\Re",!0);w(R,V,se,"","\\heartsuit",!0);w(R,V,se,"","\\Im",!0);w(R,V,se,"","\\spadesuit",!0);w(R,V,se,"","\\S",!0);w(Re,V,se,"","\\S");w(R,V,se,"","\\P",!0);w(Re,V,se,"","\\P");w(R,V,se,"","\\dag");w(Re,V,se,"","\\dag");w(Re,V,se,"","\\textdagger");w(R,V,se,"","\\ddag");w(Re,V,se,"","\\ddag");w(Re,V,se,"","\\textdaggerdbl");w(R,V,lr,"","\\rmoustache",!0);w(R,V,Ur,"","\\lmoustache",!0);w(R,V,lr,"","\\rgroup",!0);w(R,V,Ur,"","\\lgroup",!0);w(R,V,Ve,"","\\mp",!0);w(R,V,Ve,"","\\ominus",!0);w(R,V,Ve,"","\\uplus",!0);w(R,V,Ve,"","\\sqcap",!0);w(R,V,Ve,"","\\ast");w(R,V,Ve,"","\\sqcup",!0);w(R,V,Ve,"","\\bigcirc",!0);w(R,V,Ve,"","\\bullet",!0);w(R,V,Ve,"","\\ddagger");w(R,V,Ve,"","\\wr",!0);w(R,V,Ve,"","\\amalg");w(R,V,Ve,"&","\\And");w(R,V,J,"","\\longleftarrow",!0);w(R,V,J,"","\\Leftarrow",!0);w(R,V,J,"","\\Longleftarrow",!0);w(R,V,J,"","\\longrightarrow",!0);w(R,V,J,"","\\Rightarrow",!0);w(R,V,J,"","\\Longrightarrow",!0);w(R,V,J,"","\\leftrightarrow",!0);w(R,V,J,"","\\longleftrightarrow",!0);w(R,V,J,"","\\Leftrightarrow",!0);w(R,V,J,"","\\Longleftrightarrow",!0);w(R,V,J,"","\\mapsto",!0);w(R,V,J,"","\\longmapsto",!0);w(R,V,J,"","\\nearrow",!0);w(R,V,J,"","\\hookleftarrow",!0);w(R,V,J,"","\\hookrightarrow",!0);w(R,V,J,"","\\searrow",!0);w(R,V,J,"","\\leftharpoonup",!0);w(R,V,J,"","\\rightharpoonup",!0);w(R,V,J,"","\\swarrow",!0);w(R,V,J,"","\\leftharpoondown",!0);w(R,V,J,"","\\rightharpoondown",!0);w(R,V,J,"","\\nwarrow",!0);w(R,V,J,"","\\rightleftharpoons",!0);w(R,Z,J,"","\\nless",!0);w(R,Z,J,"","\\@nleqslant");w(R,Z,J,"","\\@nleqq");w(R,Z,J,"","\\lneq",!0);w(R,Z,J,"","\\lneqq",!0);w(R,Z,J,"","\\@lvertneqq");w(R,Z,J,"","\\lnsim",!0);w(R,Z,J,"","\\lnapprox",!0);w(R,Z,J,"","\\nprec",!0);w(R,Z,J,"","\\npreceq",!0);w(R,Z,J,"","\\precnsim",!0);w(R,Z,J,"","\\precnapprox",!0);w(R,Z,J,"","\\nsim",!0);w(R,Z,J,"","\\@nshortmid");w(R,Z,J,"","\\nmid",!0);w(R,Z,J,"","\\nvdash",!0);w(R,Z,J,"","\\nvDash",!0);w(R,Z,J,"","\\ntriangleleft");w(R,Z,J,"","\\ntrianglelefteq",!0);w(R,Z,J,"","\\subsetneq",!0);w(R,Z,J,"","\\@varsubsetneq");w(R,Z,J,"","\\subsetneqq",!0);w(R,Z,J,"","\\@varsubsetneqq");w(R,Z,J,"","\\ngtr",!0);w(R,Z,J,"","\\@ngeqslant");w(R,Z,J,"","\\@ngeqq");w(R,Z,J,"","\\gneq",!0);w(R,Z,J,"","\\gneqq",!0);w(R,Z,J,"","\\@gvertneqq");w(R,Z,J,"","\\gnsim",!0);w(R,Z,J,"","\\gnapprox",!0);w(R,Z,J,"","\\nsucc",!0);w(R,Z,J,"","\\nsucceq",!0);w(R,Z,J,"","\\succnsim",!0);w(R,Z,J,"","\\succnapprox",!0);w(R,Z,J,"","\\ncong",!0);w(R,Z,J,"","\\@nshortparallel");w(R,Z,J,"","\\nparallel",!0);w(R,Z,J,"","\\nVDash",!0);w(R,Z,J,"","\\ntriangleright");w(R,Z,J,"","\\ntrianglerighteq",!0);w(R,Z,J,"","\\@nsupseteqq");w(R,Z,J,"","\\supsetneq",!0);w(R,Z,J,"","\\@varsupsetneq");w(R,Z,J,"","\\supsetneqq",!0);w(R,Z,J,"","\\@varsupsetneqq");w(R,Z,J,"","\\nVdash",!0);w(R,Z,J,"","\\precneqq",!0);w(R,Z,J,"","\\succneqq",!0);w(R,Z,J,"","\\@nsubseteqq");w(R,Z,Ve,"","\\unlhd");w(R,Z,Ve,"","\\unrhd");w(R,Z,J,"","\\nleftarrow",!0);w(R,Z,J,"","\\nrightarrow",!0);w(R,Z,J,"","\\nLeftarrow",!0);w(R,Z,J,"","\\nRightarrow",!0);w(R,Z,J,"","\\nleftrightarrow",!0);w(R,Z,J,"","\\nLeftrightarrow",!0);w(R,Z,J,"","\\vartriangle");w(R,Z,se,"","\\hslash");w(R,Z,se,"","\\triangledown");w(R,Z,se,"","\\lozenge");w(R,Z,se,"","\\circledS");w(R,Z,se,"","\\circledR");w(Re,Z,se,"","\\circledR");w(R,Z,se,"","\\measuredangle",!0);w(R,Z,se,"","\\nexists");w(R,Z,se,"","\\mho");w(R,Z,se,"","\\Finv",!0);w(R,Z,se,"","\\Game",!0);w(R,Z,se,"","\\backprime");w(R,Z,se,"","\\blacktriangle");w(R,Z,se,"","\\blacktriangledown");w(R,Z,se,"","\\blacksquare");w(R,Z,se,"","\\blacklozenge");w(R,Z,se,"","\\bigstar");w(R,Z,se,"","\\sphericalangle",!0);w(R,Z,se,"","\\complement",!0);w(R,Z,se,"","\\eth",!0);w(Re,V,se,"","");w(R,Z,se,"","\\diagup");w(R,Z,se,"","\\diagdown");w(R,Z,se,"","\\square");w(R,Z,se,"","\\Box");w(R,Z,se,"","\\Diamond");w(R,Z,se,"","\\yen",!0);w(Re,Z,se,"","\\yen",!0);w(R,Z,se,"","\\checkmark",!0);w(Re,Z,se,"","\\checkmark");w(R,Z,se,"","\\beth",!0);w(R,Z,se,"","\\daleth",!0);w(R,Z,se,"","\\gimel",!0);w(R,Z,se,"","\\digamma",!0);w(R,Z,se,"","\\varkappa");w(R,Z,Ur,"","\\@ulcorner",!0);w(R,Z,lr,"","\\@urcorner",!0);w(R,Z,Ur,"","\\@llcorner",!0);w(R,Z,lr,"","\\@lrcorner",!0);w(R,Z,J,"","\\leqq",!0);w(R,Z,J,"","\\leqslant",!0);w(R,Z,J,"","\\eqslantless",!0);w(R,Z,J,"","\\lesssim",!0);w(R,Z,J,"","\\lessapprox",!0);w(R,Z,J,"","\\approxeq",!0);w(R,Z,Ve,"","\\lessdot");w(R,Z,J,"","\\lll",!0);w(R,Z,J,"","\\lessgtr",!0);w(R,Z,J,"","\\lesseqgtr",!0);w(R,Z,J,"","\\lesseqqgtr",!0);w(R,Z,J,"","\\doteqdot");w(R,Z,J,"","\\risingdotseq",!0);w(R,Z,J,"","\\fallingdotseq",!0);w(R,Z,J,"","\\backsim",!0);w(R,Z,J,"","\\backsimeq",!0);w(R,Z,J,"","\\subseteqq",!0);w(R,Z,J,"","\\Subset",!0);w(R,Z,J,"","\\sqsubset",!0);w(R,Z,J,"","\\preccurlyeq",!0);w(R,Z,J,"","\\curlyeqprec",!0);w(R,Z,J,"","\\precsim",!0);w(R,Z,J,"","\\precapprox",!0);w(R,Z,J,"","\\vartriangleleft");w(R,Z,J,"","\\trianglelefteq");w(R,Z,J,"","\\vDash",!0);w(R,Z,J,"","\\Vvdash",!0);w(R,Z,J,"","\\smallsmile");w(R,Z,J,"","\\smallfrown");w(R,Z,J,"","\\bumpeq",!0);w(R,Z,J,"","\\Bumpeq",!0);w(R,Z,J,"","\\geqq",!0);w(R,Z,J,"","\\geqslant",!0);w(R,Z,J,"","\\eqslantgtr",!0);w(R,Z,J,"","\\gtrsim",!0);w(R,Z,J,"","\\gtrapprox",!0);w(R,Z,Ve,"","\\gtrdot");w(R,Z,J,"","\\ggg",!0);w(R,Z,J,"","\\gtrless",!0);w(R,Z,J,"","\\gtreqless",!0);w(R,Z,J,"","\\gtreqqless",!0);w(R,Z,J,"","\\eqcirc",!0);w(R,Z,J,"","\\circeq",!0);w(R,Z,J,"","\\triangleq",!0);w(R,Z,J,"","\\thicksim");w(R,Z,J,"","\\thickapprox");w(R,Z,J,"","\\supseteqq",!0);w(R,Z,J,"","\\Supset",!0);w(R,Z,J,"","\\sqsupset",!0);w(R,Z,J,"","\\succcurlyeq",!0);w(R,Z,J,"","\\curlyeqsucc",!0);w(R,Z,J,"","\\succsim",!0);w(R,Z,J,"","\\succapprox",!0);w(R,Z,J,"","\\vartriangleright");w(R,Z,J,"","\\trianglerighteq");w(R,Z,J,"","\\Vdash",!0);w(R,Z,J,"","\\shortmid");w(R,Z,J,"","\\shortparallel");w(R,Z,J,"","\\between",!0);w(R,Z,J,"","\\pitchfork",!0);w(R,Z,J,"","\\varpropto");w(R,Z,J,"","\\blacktriangleleft");w(R,Z,J,"","\\therefore",!0);w(R,Z,J,"","\\backepsilon");w(R,Z,J,"","\\blacktriangleright");w(R,Z,J,"","\\because",!0);w(R,Z,J,"","\\llless");w(R,Z,J,"","\\gggtr");w(R,Z,Ve,"","\\lhd");w(R,Z,Ve,"","\\rhd");w(R,Z,J,"","\\eqsim",!0);w(R,V,J,"","\\Join");w(R,Z,J,"","\\Doteq",!0);w(R,Z,Ve,"","\\dotplus",!0);w(R,Z,Ve,"","\\smallsetminus");w(R,Z,Ve,"","\\Cap",!0);w(R,Z,Ve,"","\\Cup",!0);w(R,Z,Ve,"","\\doublebarwedge",!0);w(R,Z,Ve,"","\\boxminus",!0);w(R,Z,Ve,"","\\boxplus",!0);w(R,Z,Ve,"","\\divideontimes",!0);w(R,Z,Ve,"","\\ltimes",!0);w(R,Z,Ve,"","\\rtimes",!0);w(R,Z,Ve,"","\\leftthreetimes",!0);w(R,Z,Ve,"","\\rightthreetimes",!0);w(R,Z,Ve,"","\\curlywedge",!0);w(R,Z,Ve,"","\\curlyvee",!0);w(R,Z,Ve,"","\\circleddash",!0);w(R,Z,Ve,"","\\circledast",!0);w(R,Z,Ve,"","\\centerdot");w(R,Z,Ve,"","\\intercal",!0);w(R,Z,Ve,"","\\doublecap");w(R,Z,Ve,"","\\doublecup");w(R,Z,Ve,"","\\boxtimes",!0);w(R,Z,J,"","\\dashrightarrow",!0);w(R,Z,J,"","\\dashleftarrow",!0);w(R,Z,J,"","\\leftleftarrows",!0);w(R,Z,J,"","\\leftrightarrows",!0);w(R,Z,J,"","\\Lleftarrow",!0);w(R,Z,J,"","\\twoheadleftarrow",!0);w(R,Z,J,"","\\leftarrowtail",!0);w(R,Z,J,"","\\looparrowleft",!0);w(R,Z,J,"","\\leftrightharpoons",!0);w(R,Z,J,"","\\curvearrowleft",!0);w(R,Z,J,"","\\circlearrowleft",!0);w(R,Z,J,"","\\Lsh",!0);w(R,Z,J,"","\\upuparrows",!0);w(R,Z,J,"","\\upharpoonleft",!0);w(R,Z,J,"","\\downharpoonleft",!0);w(R,V,J,"","\\origof",!0);w(R,V,J,"","\\imageof",!0);w(R,Z,J,"","\\multimap",!0);w(R,Z,J,"","\\leftrightsquigarrow",!0);w(R,Z,J,"","\\rightrightarrows",!0);w(R,Z,J,"","\\rightleftarrows",!0);w(R,Z,J,"","\\twoheadrightarrow",!0);w(R,Z,J,"","\\rightarrowtail",!0);w(R,Z,J,"","\\looparrowright",!0);w(R,Z,J,"","\\curvearrowright",!0);w(R,Z,J,"","\\circlearrowright",!0);w(R,Z,J,"","\\Rsh",!0);w(R,Z,J,"","\\downdownarrows",!0);w(R,Z,J,"","\\upharpoonright",!0);w(R,Z,J,"","\\downharpoonright",!0);w(R,Z,J,"","\\rightsquigarrow",!0);w(R,Z,J,"","\\leadsto");w(R,Z,J,"","\\Rrightarrow",!0);w(R,Z,J,"","\\restriction");w(R,V,se,"","`");w(R,V,se,"$","\\$");w(Re,V,se,"$","\\$");w(Re,V,se,"$","\\textdollar");w(R,V,se,"%","\\%");w(Re,V,se,"%","\\%");w(R,V,se,"_","\\_");w(Re,V,se,"_","\\_");w(Re,V,se,"_","\\textunderscore");w(R,V,se,"","\\angle",!0);w(R,V,se,"","\\infty",!0);w(R,V,se,"","\\prime");w(R,V,se,"","\\triangle");w(R,V,se,"","\\Gamma",!0);w(R,V,se,"","\\Delta",!0);w(R,V,se,"","\\Theta",!0);w(R,V,se,"","\\Lambda",!0);w(R,V,se,"","\\Xi",!0);w(R,V,se,"","\\Pi",!0);w(R,V,se,"","\\Sigma",!0);w(R,V,se,"","\\Upsilon",!0);w(R,V,se,"","\\Phi",!0);w(R,V,se,"","\\Psi",!0);w(R,V,se,"","\\Omega",!0);w(R,V,se,"A","");w(R,V,se,"B","");w(R,V,se,"E","");w(R,V,se,"Z","");w(R,V,se,"H","");w(R,V,se,"I","");w(R,V,se,"K","");w(R,V,se,"M","");w(R,V,se,"N","");w(R,V,se,"O","");w(R,V,se,"P","");w(R,V,se,"T","");w(R,V,se,"X","");w(R,V,se,"","\\neg",!0);w(R,V,se,"","\\lnot");w(R,V,se,"","\\top");w(R,V,se,"","\\bot");w(R,V,se,"","\\emptyset");w(R,Z,se,"","\\varnothing");w(R,V,Qe,"","\\alpha",!0);w(R,V,Qe,"","\\beta",!0);w(R,V,Qe,"","\\gamma",!0);w(R,V,Qe,"","\\delta",!0);w(R,V,Qe,"","\\epsilon",!0);w(R,V,Qe,"","\\zeta",!0);w(R,V,Qe,"","\\eta",!0);w(R,V,Qe,"","\\theta",!0);w(R,V,Qe,"","\\iota",!0);w(R,V,Qe,"","\\kappa",!0);w(R,V,Qe,"","\\lambda",!0);w(R,V,Qe,"","\\mu",!0);w(R,V,Qe,"","\\nu",!0);w(R,V,Qe,"","\\xi",!0);w(R,V,Qe,"","\\omicron",!0);w(R,V,Qe,"","\\pi",!0);w(R,V,Qe,"","\\rho",!0);w(R,V,Qe,"","\\sigma",!0);w(R,V,Qe,"","\\tau",!0);w(R,V,Qe,"","\\upsilon",!0);w(R,V,Qe,"","\\phi",!0);w(R,V,Qe,"","\\chi",!0);w(R,V,Qe,"","\\psi",!0);w(R,V,Qe,"","\\omega",!0);w(R,V,Qe,"","\\varepsilon",!0);w(R,V,Qe,"","\\vartheta",!0);w(R,V,Qe,"","\\varpi",!0);w(R,V,Qe,"","\\varrho",!0);w(R,V,Qe,"","\\varsigma",!0);w(R,V,Qe,"","\\varphi",!0);w(R,V,Ve,"","*",!0);w(R,V,Ve,"+","+");w(R,V,Ve,"","-",!0);w(R,V,Ve,"","\\cdot",!0);w(R,V,Ve,"","\\circ",!0);w(R,V,Ve,"","\\div",!0);w(R,V,Ve,"","\\pm",!0);w(R,V,Ve,"","\\times",!0);w(R,V,Ve,"","\\cap",!0);w(R,V,Ve,"","\\cup",!0);w(R,V,Ve,"","\\setminus",!0);w(R,V,Ve,"","\\land");w(R,V,Ve,"","\\lor");w(R,V,Ve,"","\\wedge",!0);w(R,V,Ve,"","\\vee",!0);w(R,V,se,"","\\surd");w(R,V,Ur,"","\\langle",!0);w(R,V,Ur,"","\\lvert");w(R,V,Ur,"","\\lVert");w(R,V,lr,"?","?");w(R,V,lr,"!","!");w(R,V,lr,"","\\rangle",!0);w(R,V,lr,"","\\rvert");w(R,V,lr,"","\\rVert");w(R,V,J,"=","=");w(R,V,J,":",":");w(R,V,J,"","\\approx",!0);w(R,V,J,"","\\cong",!0);w(R,V,J,"","\\ge");w(R,V,J,"","\\geq",!0);w(R,V,J,"","\\gets");w(R,V,J,">","\\gt",!0);w(R,V,J,"","\\in",!0);w(R,V,J,"","\\@not");w(R,V,J,"","\\subset",!0);w(R,V,J,"","\\supset",!0);w(R,V,J,"","\\subseteq",!0);w(R,V,J,"","\\supseteq",!0);w(R,Z,J,"","\\nsubseteq",!0);w(R,Z,J,"","\\nsupseteq",!0);w(R,V,J,"","\\models");w(R,V,J,"","\\leftarrow",!0);w(R,V,J,"","\\le");w(R,V,J,"","\\leq",!0);w(R,V,J,"<","\\lt",!0);w(R,V,J,"","\\rightarrow",!0);w(R,V,J,"","\\to");w(R,Z,J,"","\\ngeq",!0);w(R,Z,J,"","\\nleq",!0);w(R,V,hs,"","\\ ");w(R,V,hs,"","\\space");w(R,V,hs,"","\\nobreakspace");w(Re,V,hs,"","\\ ");w(Re,V,hs,""," ");w(Re,V,hs,"","\\space");w(Re,V,hs,"","\\nobreakspace");w(R,V,hs,null,"\\nobreak");w(R,V,hs,null,"\\allowbreak");w(R,V,Xm,",",",");w(R,V,Xm,";",";");w(R,Z,Ve,"","\\barwedge",!0);w(R,Z,Ve,"","\\veebar",!0);w(R,V,Ve,"","\\odot",!0);w(R,V,Ve,"","\\oplus",!0);w(R,V,Ve,"","\\otimes",!0);w(R,V,se,"","\\partial",!0);w(R,V,Ve,"","\\oslash",!0);w(R,Z,Ve,"","\\circledcirc",!0);w(R,Z,Ve,"","\\boxdot",!0);w(R,V,Ve,"","\\bigtriangleup");w(R,V,Ve,"","\\bigtriangledown");w(R,V,Ve,"","\\dagger");w(R,V,Ve,"","\\diamond");w(R,V,Ve,"","\\star");w(R,V,Ve,"","\\triangleleft");w(R,V,Ve,"","\\triangleright");w(R,V,Ur,"{","\\{");w(Re,V,se,"{","\\{");w(Re,V,se,"{","\\textbraceleft");w(R,V,lr,"}","\\}");w(Re,V,se,"}","\\}");w(Re,V,se,"}","\\textbraceright");w(R,V,Ur,"{","\\lbrace");w(R,V,lr,"}","\\rbrace");w(R,V,Ur,"[","\\lbrack",!0);w(Re,V,se,"[","\\lbrack",!0);w(R,V,lr,"]","\\rbrack",!0);w(Re,V,se,"]","\\rbrack",!0);w(R,V,Ur,"(","\\lparen",!0);w(R,V,lr,")","\\rparen",!0);w(Re,V,se,"<","\\textless",!0);w(Re,V,se,">","\\textgreater",!0);w(R,V,Ur,"","\\lfloor",!0);w(R,V,lr,"","\\rfloor",!0);w(R,V,Ur,"","\\lceil",!0);w(R,V,lr,"","\\rceil",!0);w(R,V,se,"\\","\\backslash");w(R,V,se,"","|");w(R,V,se,"","\\vert");w(Re,V,se,"|","\\textbar",!0);w(R,V,se,"","\\|");w(R,V,se,"","\\Vert");w(Re,V,se,"","\\textbardbl");w(Re,V,se,"~","\\textasciitilde");w(Re,V,se,"\\","\\textbackslash");w(Re,V,se,"^","\\textasciicircum");w(R,V,J,"","\\uparrow",!0);w(R,V,J,"","\\Uparrow",!0);w(R,V,J,"","\\downarrow",!0);w(R,V,J,"","\\Downarrow",!0);w(R,V,J,"","\\updownarrow",!0);w(R,V,J,"","\\Updownarrow",!0);w(R,V,In,"","\\coprod");w(R,V,In,"","\\bigvee");w(R,V,In,"","\\bigwedge");w(R,V,In,"","\\biguplus");w(R,V,In,"","\\bigcap");w(R,V,In,"","\\bigcup");w(R,V,In,"","\\int");w(R,V,In,"","\\intop");w(R,V,In,"","\\iint");w(R,V,In,"","\\iiint");w(R,V,In,"","\\prod");w(R,V,In,"","\\sum");w(R,V,In,"","\\bigotimes");w(R,V,In,"","\\bigoplus");w(R,V,In,"","\\bigodot");w(R,V,In,"","\\oint");w(R,V,In,"","\\oiint");w(R,V,In,"","\\oiiint");w(R,V,In,"","\\bigsqcup");w(R,V,In,"","\\smallint");w(Re,V,fc,"","\\textellipsis");w(R,V,fc,"","\\mathellipsis");w(Re,V,fc,"","\\ldots",!0);w(R,V,fc,"","\\ldots",!0);w(R,V,fc,"","\\@cdots",!0);w(R,V,fc,"","\\ddots",!0);w(R,V,se,"","\\varvdots");w(Re,V,se,"","\\varvdots");w(R,V,Wt,"","\\acute");w(R,V,Wt,"","\\grave");w(R,V,Wt,"","\\ddot");w(R,V,Wt,"~","\\tilde");w(R,V,Wt,"","\\bar");w(R,V,Wt,"","\\breve");w(R,V,Wt,"","\\check");w(R,V,Wt,"^","\\hat");w(R,V,Wt,"","\\vec");w(R,V,Wt,"","\\dot");w(R,V,Wt,"","\\mathring");w(R,V,Qe,"","\\@imath");w(R,V,Qe,"","\\@jmath");w(R,V,se,"","");w(R,V,se,"","");w(Re,V,se,"","\\i",!0);w(Re,V,se,"","\\j",!0);w(Re,V,se,"","\\ss",!0);w(Re,V,se,"","\\ae",!0);w(Re,V,se,"","\\oe",!0);w(Re,V,se,"","\\o",!0);w(Re,V,se,"","\\AE",!0);w(Re,V,se,"","\\OE",!0);w(Re,V,se,"","\\O",!0);w(Re,V,Wt,"","\\'");w(Re,V,Wt,"","\\`");w(Re,V,Wt,"","\\^");w(Re,V,Wt,"","\\~");w(Re,V,Wt,"","\\=");w(Re,V,Wt,"","\\u");w(Re,V,Wt,"","\\.");w(Re,V,Wt,"","\\c");w(Re,V,Wt,"","\\r");w(Re,V,Wt,"","\\v");w(Re,V,Wt,"",'\\"');w(Re,V,Wt,"","\\H");w(Re,V,Wt,"","\\textcircled");var YD={"--":!0,"---":!0,"``":!0,"''":!0};w(Re,V,se,"","--",!0);w(Re,V,se,"","\\textendash");w(Re,V,se,"","---",!0);w(Re,V,se,"","\\textemdash");w(Re,V,se,"","`",!0);w(Re,V,se,"","\\textquoteleft");w(Re,V,se,"","'",!0);w(Re,V,se,"","\\textquoteright");w(Re,V,se,"","``",!0);w(Re,V,se,"","\\textquotedblleft");w(Re,V,se,"","''",!0);w(Re,V,se,"","\\textquotedblright");w(R,V,se,"","\\degree",!0);w(Re,V,se,"","\\degree");w(Re,V,se,"","\\textdegree",!0);w(R,V,se,"","\\pounds");w(R,V,se,"","\\mathsterling",!0);w(Re,V,se,"","\\pounds");w(Re,V,se,"","\\textsterling",!0);w(R,Z,se,"","\\maltese");w(Re,Z,se,"","\\maltese");var kx='0123456789/@."';for(var Yg=0;Yg<kx.length;Yg++){var Dx=kx.charAt(Yg);w(R,V,se,Dx,Dx)}var Ox='0123456789!@*()-=+";:?/.,';for(var Xg=0;Xg<Ox.length;Xg++){var zx=Ox.charAt(Xg);w(Re,V,se,zx,zx)}var hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Kg=0;Kg<hm.length;Kg++){var ld=hm.charAt(Kg);w(R,V,Qe,ld,ld),w(Re,V,se,ld,ld)}w(R,Z,se,"C","");w(Re,Z,se,"C","");w(R,Z,se,"H","");w(Re,Z,se,"H","");w(R,Z,se,"N","");w(Re,Z,se,"N","");w(R,Z,se,"P","");w(Re,Z,se,"P","");w(R,Z,se,"Q","");w(Re,Z,se,"Q","");w(R,Z,se,"R","");w(Re,Z,se,"R","");w(R,Z,se,"Z","");w(Re,Z,se,"Z","");w(R,V,Qe,"h","");w(Re,V,Qe,"h","");var et="";for(var ar=0;ar<hm.length;ar++){var fn=hm.charAt(ar);et=String.fromCharCode(55349,56320+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56372+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56424+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56580+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56684+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56736+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56788+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56840+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56944+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),ar<26&&(et=String.fromCharCode(55349,56632+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et),et=String.fromCharCode(55349,56476+ar),w(R,V,Qe,fn,et),w(Re,V,se,fn,et))}et="";w(R,V,Qe,"k",et);w(Re,V,se,"k",et);for(var tl=0;tl<10;tl++){var Js=tl.toString();et=String.fromCharCode(55349,57294+tl),w(R,V,Qe,Js,et),w(Re,V,se,Js,et),et=String.fromCharCode(55349,57314+tl),w(R,V,Qe,Js,et),w(Re,V,se,Js,et),et=String.fromCharCode(55349,57324+tl),w(R,V,Qe,Js,et),w(Re,V,se,Js,et),et=String.fromCharCode(55349,57334+tl),w(R,V,Qe,Js,et),w(Re,V,se,Js,et)}var p6="";for(var Qg=0;Qg<p6.length;Qg++){var ud=p6.charAt(Qg);w(R,V,Qe,ud,ud),w(Re,V,se,ud,ud)}var cd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],qx=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],_W=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var c=Math.floor((o-119808)/26);return[cd[c][2],cd[c][l]]}else if(120782<=o&&o<=120831){var h=Math.floor((o-120782)/10);return[qx[h][2],qx[h][l]]}else{if(o===120485||o===120486)return[cd[0][2],cd[0][l]];if(120486<o&&o<120782)return["",""];throw new Ne("Unsupported character: "+e)}},Km=function(e,n,r){return jt[r][e]&&jt[r][e].replace&&(e=jt[r][e].replace),{value:e,metrics:D7(e,n,r)}},Ri=function(e,n,r,i,o){var l=Km(e,n,r),c=l.metrics;e=l.value;var h;if(c){var d=c.italic;(r==="text"||i&&i.font==="mathit")&&(d=0),h=new fi(e,c.height,c.depth,d,c.skew,c.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),h=new fi(e,0,0,0,0,0,o);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},bW=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Km(e,"Main-Bold",n).metrics?Ri(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||jt[n][e].font==="main"?Ri(e,"Main-Regular",n,r,i):Ri(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},wW=function(e,n,r,i,o){return o!=="textord"&&Km(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},SW=function(e,n,r){var i=e.mode,o=e.text,l=["mord"],c=i==="math"||i==="text"&&n.font,h=c?n.font:n.fontFamily,d="",m="";if(o.charCodeAt(0)===55349&&([d,m]=_W(o,i)),d.length>0)return Ri(o,d,i,n,l.concat(m));if(h){var p,y;if(h==="boldsymbol"){var b=wW(o,i,n,l,r);p=b.fontName,y=[b.fontClass]}else c?(p=QD[h].fontName,y=[h]):(p=hd(h,n.fontWeight,n.fontShape),y=[h,n.fontWeight,n.fontShape]);if(Km(o,p,i).metrics)return Ri(o,p,i,n,l.concat(y));if(YD.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var S=[],T=0;T<o.length;T++)S.push(Ri(o[T],p,i,n,l.concat(y)));return KD(S)}}if(r==="mathord")return Ri(o,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var E=jt[i][o]&&jt[i][o].font;if(E==="ams"){var C=hd("amsrm",n.fontWeight,n.fontShape);return Ri(o,C,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(E==="main"||!E){var D=hd("textrm",n.fontWeight,n.fontShape);return Ri(o,D,i,n,l.concat(n.fontWeight,n.fontShape))}else{var A=hd(E,n.fontWeight,n.fontShape);return Ri(o,A,i,n,l.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},xW=(t,e)=>{if(bo(t.classes)!==bo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},EW=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof fi&&r instanceof fi&&xW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},z7=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var l=e.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},_r=function(e,n,r,i){var o=new _h(e,n,r,i);return z7(o),o},XD=(t,e,n,r)=>new _h(t,e,n,r),TW=function(e,n,r){var i=_r([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},AW=function(e,n,r,i){var o=new O7(e,n,r,i);return z7(o),o},KD=function(e){var n=new yh(e);return z7(n),n},CW=function(e,n){return e instanceof yh?_r([],[e],n):e},RW=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,l=1;l<n.length;l++){var c=-n[l].shift-o-n[l].elem.depth,h=c-(n[l-1].elem.height+n[l-1].elem.depth);o=o+c,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:i}}var d;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var y=e.children[p];m-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}d=m}else if(e.positionType==="bottom")d=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")d=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")d=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:d}},IW=function(e,n){for(var{children:r,depth:i}=RW(e),o=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var h=c.elem;o=Math.max(o,h.maxFontSize,h.height)}}o+=2;var d=_r(["pstrut"],[]);d.style.height=ke(o);for(var m=[],p=i,y=i,b=i,S=0;S<r.length;S++){var T=r[S];if(T.type==="kern")b+=T.size;else{var E=T.elem,C=T.wrapperClasses||[],D=T.wrapperStyle||{},A=_r(C,[d,E],void 0,D);A.style.top=ke(-o-b-E.depth),T.marginLeft&&(A.style.marginLeft=T.marginLeft),T.marginRight&&(A.style.marginRight=T.marginRight),m.push(A),b+=E.height+E.depth}p=Math.min(p,b),y=Math.max(y,b)}var z=_r(["vlist"],m);z.style.height=ke(y);var U;if(p<0){var L=_r([],[]),I=_r(["vlist"],[L]);I.style.height=ke(-p);var M=_r(["vlist-s"],[new fi("")]);U=[_r(["vlist-r"],[z,M]),_r(["vlist-r"],[I])]}else U=[_r(["vlist-r"],[z])];var k=_r(["vlist-t"],U);return U.length===2&&k.classes.push("vlist-t2"),k.height=y,k.depth=-p,k},NW=(t,e)=>{var n=_r(["mspace"],[],e),r=nn(t,e);return n.style.marginRight=ke(r),n},hd=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},QD={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ZD={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},MW=function(e,n){var[r,i,o]=ZD[e],l=new wo(r),c=new ss([l],{width:ke(i),height:ke(o),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),h=XD(["overlay"],[c],n);return h.height=o,h.style.height=ke(o),h.style.width=ke(i),h},de={fontMap:QD,makeSymbol:Ri,mathsym:bW,makeSpan:_r,makeSvgSpan:XD,makeLineSpan:TW,makeAnchor:AW,makeFragment:KD,wrapFragment:CW,makeVList:IW,makeOrd:SW,makeGlue:NW,staticSvg:MW,svgData:ZD,tryCombineChars:EW},tn={number:3,unit:"mu"},nl={number:4,unit:"mu"},$a={number:5,unit:"mu"},kW={mord:{mop:tn,mbin:nl,mrel:$a,minner:tn},mop:{mord:tn,mop:tn,mrel:$a,minner:tn},mbin:{mord:nl,mop:nl,mopen:nl,minner:nl},mrel:{mord:$a,mop:$a,mopen:$a,minner:$a},mopen:{},mclose:{mop:tn,mbin:nl,mrel:$a,minner:tn},mpunct:{mord:tn,mop:tn,mrel:$a,mopen:tn,mclose:tn,mpunct:tn,minner:tn},minner:{mord:tn,mop:tn,mbin:nl,mrel:$a,mopen:tn,mpunct:tn,minner:tn}},DW={mord:{mop:tn},mop:{mord:tn,mop:tn},mbin:{},mrel:{},mopen:{},mclose:{mop:tn},mpunct:{},minner:{mop:tn}},WD={},fm={},dm={};function Oe(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},h=0;h<n.length;++h)WD[n[h]]=c;e&&(o&&(fm[e]=o),l&&(dm[e]=l))}function Cl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Oe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var mm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},yn=function(e){return e.type==="ordgroup"?e.body:[e]},os=de.makeSpan,OW=["leftmost","mbin","mopen","mrel","mop","mpunct"],zW=["rightmost","mrel","mclose","mpunct"],qW={display:Ze.DISPLAY,text:Ze.TEXT,script:Ze.SCRIPT,scriptscript:Ze.SCRIPTSCRIPT},VW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},On=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],l=0;l<e.length;l++){var c=St(e[l],n);if(c instanceof yh){var h=c.children;o.push(...h)}else o.push(c)}if(de.tryCombineChars(o),!r)return o;var d=n;if(e.length===1){var m=e[0];m.type==="sizing"?d=n.havingSize(m.size):m.type==="styling"&&(d=n.havingStyle(qW[m.style]))}var p=os([i[0]||"leftmost"],[],n),y=os([i[1]||"rightmost"],[],n),b=r==="root";return Vx(o,(S,T)=>{var E=T.classes[0],C=S.classes[0];E==="mbin"&&zW.includes(C)?T.classes[0]="mord":C==="mbin"&&OW.includes(E)&&(S.classes[0]="mord")},{node:p},y,b),Vx(o,(S,T)=>{var E=g6(T),C=g6(S),D=E&&C?S.hasClass("mtight")?DW[E][C]:kW[E][C]:null;if(D)return de.makeGlue(D,d)},{node:p},y,b),o},Vx=function t(e,n,r,i,o){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=JD(c);if(h){t(h.children,n,r,null,o);continue}var d=!c.hasClass("mspace");if(d){var m=n(c,r.node);m&&(r.insertAfter?r.insertAfter(m):(e.unshift(m),l++))}d?r.node=c:o&&c.hasClass("newline")&&(r.node=os(["leftmost"])),r.insertAfter=(p=>y=>{e.splice(p+1,0,y),l++})(l)}i&&e.pop()},JD=function(e){return e instanceof yh||e instanceof O7||e instanceof _h&&e.hasClass("enclosing")?e:null},LW=function t(e,n){var r=JD(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},g6=function(e,n){return e?(n&&(e=LW(e,n)),VW[e.classes[0]]||null):null},J0=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return os(n.concat(r))},St=function(e,n,r){if(!e)return os();if(fm[e.type]){var i=fm[e.type](e,n);if(r&&n.size!==r.size){i=os(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function fd(t,e){var n=os(["base"],t,e),r=os(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function v6(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=On(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var h=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(h=!0);h||(o.push(fd(l,e)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(fd(l,e)),l=[]),o.push(r[c]));l.length>0&&o.push(fd(l,e));var d;n?(d=fd(On(n,e,!0)),d.classes=["tag"],o.push(d)):i&&o.push(i);var m=os(["katex-html"],o);if(m.setAttribute("aria-hidden","true"),d){var p=d.children[0];p.style.height=ke(m.height+m.depth),m.depth&&(p.style.verticalAlign=ke(-m.depth))}return m}function eO(t){return new yh(t)}let Lr=class{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=bo(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ra&&this.children[r+1]instanceof ra){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ra;)i+=this.children[++r].toText();e.appendChild(new ra(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=At.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+At.escape(bo(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}};class ra{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return At.escape(this.toText())}toText(){return this.text}}class PW{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:Lr,TextNode:ra,SpaceNode:PW,newDocumentFragment:eO},di=function(e,n,r){return jt[n][e]&&jt[n][e].replace&&e.charCodeAt(0)!==55349&&!(YD.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=jt[n][e].replace),new Ie.TextNode(e)},q7=function(e){return e.length===1?e[0]:new Ie.MathNode("mrow",e)},V7=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;jt[i][o]&&jt[i][o].replace&&(o=jt[i][o].replace);var l=de.fontMap[r].fontName;return D7(o,l,i)?de.fontMap[r].variant:null};function Zg(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ra&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof ra&&n.text===","}else return!1}var Er=function(e,n,r){if(e.length===1){var i=Pt(e[0],n);return r&&i instanceof Lr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],l,c=0;c<e.length;c++){var h=Pt(e[c],n);if(h instanceof Lr&&l instanceof Lr){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(Zg(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&Zg(l))h.children=[...l.children,...h.children],o.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||Zg(l))){var d=h.children[0];d instanceof Lr&&d.type==="mn"&&(d.children=[...l.children,...d.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof ra&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof ra&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),o.pop())}}}o.push(h),l=h}return o},So=function(e,n,r){return q7(Er(e,n,r))},Pt=function(e,n){if(!e)return new Ie.MathNode("mrow");if(dm[e.type]){var r=dm[e.type](e,n);return r}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function Lx(t,e,n,r,i){var o=Er(t,n),l;o.length===1&&o[0]instanceof Lr&&["mrow","mtable"].includes(o[0].type)?l=o[0]:l=new Ie.MathNode("mrow",o);var c=new Ie.MathNode("annotation",[new Ie.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ie.MathNode("semantics",[l,c]),d=new Ie.MathNode("math",[h]);d.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&d.setAttribute("display","block");var m=i?"katex":"katex-mathml";return de.makeSpan([m],[d])}var tO=function(e){return new Ya({style:e.displayMode?Ze.DISPLAY:Ze.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},nO=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=de.makeSpan(r,[e])}return e},BW=function(e,n,r){var i=tO(r),o;if(r.output==="mathml")return Lx(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=v6(e,i);o=de.makeSpan(["katex"],[l])}else{var c=Lx(e,n,i,r.displayMode,!1),h=v6(e,i);o=de.makeSpan(["katex"],[c,h])}return nO(o,r)},UW=function(e,n,r){var i=tO(r),o=v6(e,i),l=de.makeSpan(["katex"],[o]);return nO(l,r)},jW={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},HW=function(e){var n=new Ie.MathNode("mo",[new Ie.TextNode(jW[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},FW={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},GW=function(e){return e.type==="ordgroup"?e.body.length:1},$W=function(e,n){function r(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var d=e,m=GW(d.base),p,y,b;if(m>5)h==="widehat"||h==="widecheck"?(p=420,c=2364,b=.42,y=h+"4"):(p=312,c=2340,b=.34,y="tilde4");else{var S=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][S],p=[0,239,300,360,420][S],b=[0,.24,.3,.3,.36,.42][S],y=h+S):(c=[0,600,1033,2339,2340][S],p=[0,260,286,306,312][S],b=[0,.26,.286,.3,.306,.34][S],y="tilde"+S)}var T=new wo(y),E=new ss([T],{width:"100%",height:ke(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[E],n),minWidth:0,height:b}}else{var C=[],D=FW[h],[A,z,U]=D,L=U/1e3,I=A.length,M,k;if(I===1){var H=D[3];M=["hide-tail"],k=[H]}else if(I===2)M=["halfarrow-left","halfarrow-right"],k=["xMinYMin","xMaxYMin"];else if(I===3)M=["brace-left","brace-center","brace-right"],k=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+I+" children.");for(var q=0;q<I;q++){var B=new wo(A[q]),P=new ss([B],{width:"400em",height:ke(L),viewBox:"0 0 "+c+" "+U,preserveAspectRatio:k[q]+" slice"}),K=de.makeSvgSpan([M[q]],[P],n);if(I===1)return{span:K,minWidth:z,height:L};K.style.height=ke(L),C.push(K)}return{span:de.makeSpan(["stretchy"],C,n),minWidth:z,height:L}}}var{span:i,minWidth:o,height:l}=r();return i.height=l,i.style.height=ke(l),o>0&&(i.style.minWidth=ke(o)),i},YW=function(e,n,r,i,o){var l,c=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=de.makeSpan(["stretchy",n],[],o),n==="fbox"){var h=o.color&&o.getColor();h&&(l.style.borderColor=h)}}else{var d=[];/^[bx]cancel$/.test(n)&&d.push(new m6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&d.push(new m6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ss(d,{width:"100%",height:ke(c)});l=de.makeSvgSpan([],[m],o)}return l.height=c,l.style.height=ke(c),l},ls={encloseSpan:YW,mathMLnode:HW,svgSpan:$W};function ct(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function L7(t){var e=Qm(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Qm(t){return t&&(t.type==="atom"||yW.hasOwnProperty(t.type))?t:null}var P7=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=ct(t.base,"accent"),n=r.base,t.base=n,i=gW(St(t,e)),t.base=r):(r=ct(t,"accent"),n=r.base);var o=St(n,e.havingCrampedStyle()),l=r.isShifty&&At.isCharacterBox(n),c=0;if(l){var h=At.getBaseElem(n),d=St(h,e.havingCrampedStyle());c=Mx(d).skew}var m=r.label==="\\c",p=m?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),y;if(r.isStretchy)y=ls.svgSpan(r,e),y=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},e);else{var b,S;r.label==="\\vec"?(b=de.staticSvg("vec",e),S=de.svgData.vec[1]):(b=de.makeOrd({mode:r.mode,text:r.label},e,"textord"),b=Mx(b),b.italic=0,S=b.width,m&&(p+=b.depth)),y=de.makeSpan(["accent-body"],[b]);var T=r.label==="\\textcircled";T&&(y.classes.push("accent-full"),p=o.height);var E=c;T||(E-=S/2),y.style.left=ke(E),r.label==="\\textcircled"&&(y.style.top=".2em"),y=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:y}]},e)}var C=de.makeSpan(["mord","accent"],[y],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},rO=(t,e)=>{var n=t.isStretchy?ls.mathMLnode(t.label):new Ie.MathNode("mo",[di(t.label,t.mode)]),r=new Ie.MathNode("mover",[Pt(t.base,e),n]);return r.setAttribute("accent","true"),r},XW=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Oe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=mm(e[0]),r=!XW.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:P7,mathmlBuilder:rO});Oe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:P7,mathmlBuilder:rO});Oe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=St(t.base,e),r=ls.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=ls.mathMLnode(t.label),r=new Ie.MathNode("munder",[Pt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var dd=t=>{var e=new Ie.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Oe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=de.wrapFragment(St(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=de.wrapFragment(St(t.below,r,e),e),l.classes.push(o+"-arrow-pad"));var c=ls.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,d=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(d-=i.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:p}]},e)}else m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=ls.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=dd(Pt(t.body,e));if(t.below){var o=dd(Pt(t.below,e));r=new Ie.MathNode("munderover",[n,o,i])}else r=new Ie.MathNode("mover",[n,i])}else if(t.below){var l=dd(Pt(t.below,e));r=new Ie.MathNode("munder",[n,l])}else r=dd(),r=new Ie.MathNode("mover",[n,r]);return r}});var KW=de.makeSpan;function iO(t,e){var n=On(t.body,e,!0);return KW([t.mclass],n,e)}function aO(t,e){var n,r=Er(t.body,e);return t.mclass==="minner"?n=new Ie.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ie.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ie.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Oe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:yn(i),isCharacterBox:At.isCharacterBox(i)}},htmlBuilder:iO,mathmlBuilder:aO});var Zm=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Oe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Zm(e[0]),body:yn(e[1]),isCharacterBox:At.isCharacterBox(e[1])}}});Oe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],l;r!=="\\stackrel"?l=Zm(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:yn(i)},h={type:"supsub",mode:o.mode,base:c,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:At.isCharacterBox(h)}},htmlBuilder:iO,mathmlBuilder:aO});Oe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Zm(e[0]),body:yn(e[0])}},htmlBuilder(t,e){var n=On(t.body,e,!0),r=de.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Er(t.body,e),r=new Ie.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var QW={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Px=()=>({type:"styling",body:[],mode:"math",style:"display"}),Bx=t=>t.type==="textord"&&t.text==="@",ZW=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function WW(t,e,n){var r=QW[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var d={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[d],[])}default:return{type:"textord",text:" ",mode:"math"}}}function JW(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var l=e[o],c=Px(),h=0;h<l.length;h++)if(!Bx(l[h]))c.body.push(l[h]);else{r.push(c),h+=1;var d=L7(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(d)>-1))if("<>AV".indexOf(d)>-1)for(var p=0;p<2;p++){for(var y=!0,b=h+1;b<l.length;b++){if(ZW(l[b],d)){y=!1,h=b;break}if(Bx(l[b]))throw new Ne("Missing a "+d+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(y)throw new Ne("Missing a "+d+" character to complete a CD arrow.",l[h])}else throw new Ne('Expected one of "<>AV=|." after @',l[h]);var S=WW(d,m,t),T={type:"styling",body:[S],mode:"math",style:"display"};r.push(T),c=Px()}o%2===0?r.push(c):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Oe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=de.wrapFragment(St(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ie.MathNode("mrow",[Pt(t.label,e)]);return n=new Ie.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ie.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Oe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=de.wrapFragment(St(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ie.MathNode("mrow",[Pt(t.fragment,e)])}});Oe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ct(e[0],"ordgroup"),i=r.body,o="",l=0;l<i.length;l++){var c=ct(i[l],"textord");o+=c.text}var h=parseInt(o),d;if(isNaN(h))throw new Ne("\\@char has non-numeric argument "+o);if(h<0||h>=1114111)throw new Ne("\\@char with invalid code point "+o);return h<=65535?d=String.fromCharCode(h):(h-=65536,d=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:d}}});var sO=(t,e)=>{var n=On(t.body,e.withColor(t.color),!1);return de.makeFragment(n)},oO=(t,e)=>{var n=Er(t.body,e.withColor(t.color)),r=new Ie.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Oe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ct(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:yn(i)}},htmlBuilder:sO,mathmlBuilder:oO});Oe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ct(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:sO,mathmlBuilder:oO});Oe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&ct(i,"size").value}},htmlBuilder(t,e){var n=de.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(nn(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ie.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(nn(t.size,e)))),n}});var y6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},lO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ne("Expected a control sequence",t);return e},eJ=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},uO=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Oe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(y6[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=y6[r.text]),ct(e.parseFunction(),"internal");throw new Ne("Invalid token after macro prefix",r)}});Oe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ne("Expected a control sequence",r);for(var o=0,l,c=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new Ne('Argument number "'+r.text+'" out of order');o++,c.push([])}else{if(r.text==="EOF")throw new Ne("Expected a macro definition");c[o].push(r.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:o,delimiters:c},n===y6[n]),{type:"internal",mode:e.mode}}});Oe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=lO(e.gullet.popToken());e.gullet.consumeSpaces();var i=eJ(e);return uO(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Oe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=lO(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return uO(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var w0=function(e,n,r){var i=jt.math[e]&&jt.math[e].replace,o=D7(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},B7=function(e,n,r,i){var o=r.havingBaseStyle(n),l=de.makeSpan(i.concat(o.sizingClasses(r)),[e],r),c=o.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=o.sizeMultiplier,l},cO=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(o),e.height-=o,e.depth+=o},tJ=function(e,n,r,i,o,l){var c=de.makeSymbol(e,"Main-Regular",o,i),h=B7(c,n,i,l);return r&&cO(h,i,n),h},nJ=function(e,n,r,i){return de.makeSymbol(e,"Size"+n+"-Regular",r,i)},hO=function(e,n,r,i,o,l){var c=nJ(e,n,o,i),h=B7(de.makeSpan(["delimsizing","size"+n],[c],i),Ze.TEXT,i,l);return r&&cO(h,i,Ze.TEXT),h},Wg=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=de.makeSpan(["delimsizinginner",i],[de.makeSpan([],[de.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},Jg=function(e,n,r){var i=na["Size4-Regular"][e.charCodeAt(0)]?na["Size4-Regular"][e.charCodeAt(0)][4]:na["Size1-Regular"][e.charCodeAt(0)][4],o=new wo("inner",oW(e,Math.round(1e3*n))),l=new ss([o],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=de.makeSvgSpan([],[l],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},_6=.008,md={type:"kern",size:-1*_6},rJ=["|","\\lvert","\\rvert","\\vert"],iJ=["\\|","\\lVert","\\rVert","\\Vert"],fO=function(e,n,r,i,o,l){var c,h,d,m,p="",y=0;c=d=m=e,h=null;var b="Size1-Regular";e==="\\uparrow"?d=m="":e==="\\Uparrow"?d=m="":e==="\\downarrow"?c=d="":e==="\\Downarrow"?c=d="":e==="\\updownarrow"?(c="\\uparrow",d="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",d="",m="\\Downarrow"):rJ.includes(e)?(d="",p="vert",y=333):iJ.includes(e)?(d="",p="doublevert",y=556):e==="["||e==="\\lbrack"?(c="",d="",m="",b="Size4-Regular",p="lbrack",y=667):e==="]"||e==="\\rbrack"?(c="",d="",m="",b="Size4-Regular",p="rbrack",y=667):e==="\\lfloor"||e===""?(d=c="",m="",b="Size4-Regular",p="lfloor",y=667):e==="\\lceil"||e===""?(c="",d=m="",b="Size4-Regular",p="lceil",y=667):e==="\\rfloor"||e===""?(d=c="",m="",b="Size4-Regular",p="rfloor",y=667):e==="\\rceil"||e===""?(c="",d=m="",b="Size4-Regular",p="rceil",y=667):e==="("||e==="\\lparen"?(c="",d="",m="",b="Size4-Regular",p="lparen",y=875):e===")"||e==="\\rparen"?(c="",d="",m="",b="Size4-Regular",p="rparen",y=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",d="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",d="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",d="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",d="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",d="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",d="",b="Size4-Regular");var S=w0(c,b,o),T=S.height+S.depth,E=w0(d,b,o),C=E.height+E.depth,D=w0(m,b,o),A=D.height+D.depth,z=0,U=1;if(h!==null){var L=w0(h,b,o);z=L.height+L.depth,U=2}var I=T+A+z,M=Math.max(0,Math.ceil((n-I)/(U*C))),k=I+M*U*C,H=i.fontMetrics().axisHeight;r&&(H*=i.sizeMultiplier);var q=k/2-H,B=[];if(p.length>0){var P=k-T-A,K=Math.round(k*1e3),te=lW(p,Math.round(P*1e3)),$=new wo(p,te),W=(y/1e3).toFixed(3)+"em",re=(K/1e3).toFixed(3)+"em",oe=new ss([$],{width:W,height:re,viewBox:"0 0 "+y+" "+K}),ye=de.makeSvgSpan([],[oe],i);ye.height=K/1e3,ye.style.width=W,ye.style.height=re,B.push({type:"elem",elem:ye})}else{if(B.push(Wg(m,b,o)),B.push(md),h===null){var Y=k-T-A+2*_6;B.push(Jg(d,Y,i))}else{var ee=(k-T-A-z)/2+2*_6;B.push(Jg(d,ee,i)),B.push(md),B.push(Wg(h,b,o)),B.push(md),B.push(Jg(d,ee,i))}B.push(md),B.push(Wg(c,b,o))}var pe=i.havingBaseStyle(Ze.TEXT),Q=de.makeVList({positionType:"bottom",positionData:q,children:B},pe);return B7(de.makeSpan(["delimsizing","mult"],[Q],pe),Ze.TEXT,i,l)},ev=80,tv=.08,nv=function(e,n,r,i,o){var l=sW(e,i,r),c=new wo(e,l),h=new ss([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[h],o)},aJ=function(e,n){var r=n.havingBaseSizing(),i=gO("\\surd",e*r.sizeMultiplier,pO,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,h=0,d=0,m=0,p;return i.type==="small"?(m=1e3+1e3*l+ev,e<1?o=1:e<1.4&&(o=.7),h=(1+l+tv)/o,d=(1+l)/o,c=nv("sqrtMain",h,m,l,n),c.style.minWidth="0.853em",p=.833/o):i.type==="large"?(m=(1e3+ev)*D0[i.size],d=(D0[i.size]+l)/o,h=(D0[i.size]+l+tv)/o,c=nv("sqrtSize"+i.size,h,m,l,n),c.style.minWidth="1.02em",p=1/o):(h=e+l+tv,d=e+l,m=Math.floor(1e3*e+l)+ev,c=nv("sqrtTall",h,m,l,n),c.style.minWidth="0.742em",p=1.056),c.height=d,c.style.height=ke(h),{span:c,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},dO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],sJ=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],mO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],D0=[0,1.2,1.8,2.4,3],oJ=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),dO.includes(e)||mO.includes(e))return hO(e,n,!1,r,i,o);if(sJ.includes(e))return fO(e,D0[n],!1,r,i,o);throw new Ne("Illegal delimiter: '"+e+"'")},lJ=[{type:"small",style:Ze.SCRIPTSCRIPT},{type:"small",style:Ze.SCRIPT},{type:"small",style:Ze.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],uJ=[{type:"small",style:Ze.SCRIPTSCRIPT},{type:"small",style:Ze.SCRIPT},{type:"small",style:Ze.TEXT},{type:"stack"}],pO=[{type:"small",style:Ze.SCRIPTSCRIPT},{type:"small",style:Ze.SCRIPT},{type:"small",style:Ze.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],cJ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},gO=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var c=w0(e,cJ(r[l]),"math"),h=c.height+c.depth;if(r[l].type==="small"){var d=i.havingBaseStyle(r[l].style);h*=d.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},vO=function(e,n,r,i,o,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;mO.includes(e)?c=lJ:dO.includes(e)?c=pO:c=uJ;var h=gO(e,n,c,i);return h.type==="small"?tJ(e,h.style,r,i,o,l):h.type==="large"?hO(e,h.size,r,i,o,l):fO(e,n,r,i,o,l)},hJ=function(e,n,r,i,o,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,d=5/i.fontMetrics().ptPerEm,m=Math.max(n-c,r+c),p=Math.max(m/500*h,2*m-d);return vO(e,p,!0,i,o,l)},es={sqrtImage:aJ,sizedDelim:oJ,sizeToMaxHeight:D0,customSizedDelim:vO,leftRightDelim:hJ},Ux={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},fJ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Wm(t,e){var n=Qm(t);if(n&&fJ.includes(n.text))return n;throw n?new Ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ne("Invalid delimiter type '"+t.type+"'",t)}Oe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Wm(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Ux[t.funcName].size,mclass:Ux[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?de.makeSpan([t.mclass]):es.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(di(t.delim,t.mode));var n=new Ie.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(es.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function jx(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Oe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Wm(e[0],t).text,color:n}}});Oe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Wm(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=ct(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{jx(t);for(var n=On(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=J0(e,["mopen"]):c=es.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(c),o)for(var h=1;h<n.length;h++){var d=n[h],m=d.isMiddle;m&&(n[h]=es.leftRightDelim(m.delim,r,i,m.options,t.mode,[]))}var p;if(t.right===".")p=J0(e,["mclose"]);else{var y=t.rightColor?e.withColor(t.rightColor):e;p=es.leftRightDelim(t.right,r,i,y,t.mode,["mclose"])}return n.push(p),de.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{jx(t);var n=Er(t.body,e);if(t.left!=="."){var r=new Ie.MathNode("mo",[di(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ie.MathNode("mo",[di(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return q7(n)}});Oe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Wm(e[0],t);if(!t.parser.leftrightDepth)throw new Ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=J0(e,[]);else{n=es.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?di("|","text"):di(t.delim,t.mode),r=new Ie.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var U7=(t,e)=>{var n=de.wrapFragment(St(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,l=0,c=At.isCharacterBox(t.body);if(r==="sout")o=de.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var h=nn({number:.6,unit:"pt"},e),d=nn({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=n.height+n.depth+h+d;n.style.paddingLeft=ke(p/2+h);var y=Math.floor(1e3*p*i),b=iW(y),S=new ss([new wo("phase",b)],{width:"400em",height:ke(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});o=de.makeSvgSpan(["hide-tail"],[S],e),o.style.height=ke(p),l=n.depth+h+d}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var T=0,E=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),T=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),E=T):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),T=4*C,E=Math.max(0,.25-n.depth)):(T=c?.2:0,E=T),o=ls.encloseSpan(n,r,T,E,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=ke(C)):r==="angl"&&C!==.049&&(o.style.borderTopWidth=ke(C),o.style.borderRightWidth=ke(C)),l=n.depth+E,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var D;if(t.backgroundColor)D=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];D=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(D.height=n.height,D.depth=n.depth),/cancel/.test(r)&&!c?de.makeSpan(["mord","cancel-lap"],[D],e):de.makeSpan(["mord"],[D],e)},j7=(t,e)=>{var n=0,r=new Ie.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Pt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Oe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ct(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:l}},htmlBuilder:U7,mathmlBuilder:j7});Oe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ct(e[0],"color-token").color,l=ct(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:o,body:c}},htmlBuilder:U7,mathmlBuilder:j7});Oe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Oe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:U7,mathmlBuilder:j7});Oe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var yO={};function pa(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<n.length;++h)yO[n[h]]=c;o&&(fm[e]=o),l&&(dm[e]=l)}var _O={};function G(t,e){_O[t]=e}function Hx(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Jm=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ne("{"+t.envName+"} can be used only in display mode.")};function H7(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function xo(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:d,emptySingleRow:m,maxNumCols:p,leqno:y}=e;if(t.gullet.beginGroup(),d||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Ne("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var S=[],T=[S],E=[],C=[],D=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function z(){D&&(t.gullet.macros.get("\\df@tag")?(D.push(t.subparse([new Pr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):D.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),C.push(Hx(t));;){var U=t.parseExpression(!1,d?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),S.push(U);var L=t.fetch().text;if(L==="&"){if(p&&S.length===p){if(d||c)throw new Ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(L==="\\end"){z(),S.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(T.length>1||!m)&&T.pop(),C.length<T.length+1&&C.push([]);break}else if(L==="\\\\"){t.consume();var I=void 0;t.gullet.future().text!==" "&&(I=t.parseSizeGroup(!0)),E.push(I?I.value:null),z(),C.push(Hx(t)),S=[],T.push(S),A()}else throw new Ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:T,cols:o,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:c,tags:D,leqno:y}}function F7(t){return t.slice(0,1)==="d"?"display":"text"}var ga=function(e,n){var r,i,o=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(o),d=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,y=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(Ze.SCRIPT).sizeMultiplier;y=.2778*(b/n.sizeMultiplier)}var S=e.colSeparationType==="CD"?nn({number:3,unit:"ex"},n):12*p,T=3*p,E=e.arraystretch*S,C=.7*E,D=.3*E,A=0;function z(Bt){for(var st=0;st<Bt.length;++st)st>0&&(A+=.25),d.push({pos:A,isDashed:Bt[st]})}for(z(l[0]),r=0;r<e.body.length;++r){var U=e.body[r],L=C,I=D;c<U.length&&(c=U.length);var M=new Array(U.length);for(i=0;i<U.length;++i){var k=St(U[i],n);I<k.depth&&(I=k.depth),L<k.height&&(L=k.height),M[i]=k}var H=e.rowGaps[r],q=0;H&&(q=nn(H,n),q>0&&(q+=D,I<q&&(I=q),q=0)),e.addJot&&(I+=T),M.height=L,M.depth=I,A+=L,M.pos=A,A+=I+q,h[r]=M,z(l[r+1])}var B=A/2+n.fontMetrics().axisHeight,P=e.cols||[],K=[],te,$,W=[];if(e.tags&&e.tags.some(Bt=>Bt))for(r=0;r<o;++r){var re=h[r],oe=re.pos-B,ye=e.tags[r],Y=void 0;ye===!0?Y=de.makeSpan(["eqn-num"],[],n):ye===!1?Y=de.makeSpan([],[],n):Y=de.makeSpan([],On(ye,n,!0),n),Y.depth=re.depth,Y.height=re.height,W.push({type:"elem",elem:Y,shift:oe})}for(i=0,$=0;i<c||$<P.length;++i,++$){for(var ee=P[$]||{},pe=!0;ee.type==="separator";){if(pe||(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(n.fontMetrics().doubleRuleSep),K.push(te)),ee.separator==="|"||ee.separator===":"){var Q=ee.separator==="|"?"solid":"dashed",ie=de.makeSpan(["vertical-separator"],[],n);ie.style.height=ke(A),ie.style.borderRightWidth=ke(m),ie.style.borderRightStyle=Q,ie.style.margin="0 "+ke(-m/2);var ue=A-B;ue&&(ie.style.verticalAlign=ke(-ue)),K.push(ie)}else throw new Ne("Invalid separator type: "+ee.separator);$++,ee=P[$]||{},pe=!1}if(!(i>=c)){var ge=void 0;(i>0||e.hskipBeforeAndAfter)&&(ge=At.deflt(ee.pregap,y),ge!==0&&(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(ge),K.push(te)));var be=[];for(r=0;r<o;++r){var Ce=h[r],ze=Ce[i];if(ze){var He=Ce.pos-B;ze.depth=Ce.depth,ze.height=Ce.height,be.push({type:"elem",elem:ze,shift:He})}}be=de.makeVList({positionType:"individualShift",children:be},n),be=de.makeSpan(["col-align-"+(ee.align||"c")],[be]),K.push(be),(i<c-1||e.hskipBeforeAndAfter)&&(ge=At.deflt(ee.postgap,y),ge!==0&&(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(ge),K.push(te)))}}if(h=de.makeSpan(["mtable"],K),d.length>0){for(var je=de.makeLineSpan("hline",n,m),Pe=de.makeLineSpan("hdashline",n,m),Ge=[{type:"elem",elem:h,shift:0}];d.length>0;){var Be=d.pop(),rt=Be.pos-B;Be.isDashed?Ge.push({type:"elem",elem:Pe,shift:rt}):Ge.push({type:"elem",elem:je,shift:rt})}h=de.makeVList({positionType:"individualShift",children:Ge},n)}if(W.length===0)return de.makeSpan(["mord"],[h],n);var $e=de.makeVList({positionType:"individualShift",children:W},n);return $e=de.makeSpan(["tag"],[$e],n),de.makeFragment([h,$e])},dJ={c:"center ",l:"left ",r:"right "},va=function(e,n){for(var r=[],i=new Ie.MathNode("mtd",[],["mtr-glue"]),o=new Ie.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],d=0;d<c.length;d++)h.push(new Ie.MathNode("mtd",[Pt(c[d],n)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(o):h.push(o)),r.push(new Ie.MathNode("mtr",h))}var m=new Ie.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ke(p));var y="",b="";if(e.cols&&e.cols.length>0){var S=e.cols,T="",E=!1,C=0,D=S.length;S[0].type==="separator"&&(y+="top ",C=1),S[S.length-1].type==="separator"&&(y+="bottom ",D-=1);for(var A=C;A<D;A++)S[A].type==="align"?(b+=dJ[S[A].align],E&&(T+="none "),E=!0):S[A].type==="separator"&&E&&(T+=S[A].separator==="|"?"solid ":"dashed ",E=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(T)&&m.setAttribute("columnlines",T.trim())}if(e.colSeparationType==="align"){for(var z=e.cols||[],U="",L=1;L<z.length;L++)U+=L%2?"0em ":"1em ";m.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var I="",M=e.hLinesBeforeRow;y+=M[0].length>0?"left ":"",y+=M[M.length-1].length>0?"right ":"";for(var k=1;k<M.length-1;k++)I+=M[k].length===0?"none ":M[k][0]?"dashed ":"solid ";return/[sd]/.test(I)&&m.setAttribute("rowlines",I.trim()),y!==""&&(m=new Ie.MathNode("menclose",[m]),m.setAttribute("notation",y.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ie.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},bO=function(e,n){e.envName.indexOf("ed")===-1&&Jm(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",l=xo(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:H7(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,d={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",p=0;p<n[0].body.length;p++){var y=ct(n[0].body[p],"textord");m+=y.text}c=Number(m),h=c*2}var b=!h;l.body.forEach(function(C){for(var D=1;D<C.length;D+=2){var A=ct(C[D],"styling"),z=ct(A.body[0],"ordgroup");z.body.unshift(d)}if(b)h<C.length&&(h=C.length);else{var U=C.length/2;if(c<U)throw new Ne("Too many math in a row: "+("expected "+c+", but got "+U),C[0])}});for(var S=0;S<h;++S){var T="r",E=0;S%2===1?T="l":S>0&&b&&(E=1),r[S]={type:"align",align:T,pregap:E,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};pa({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=Qm(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=L7(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Ne("Unknown column alignment: "+h,l)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return xo(t.parser,o,F7(t.envName))},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=xo(t.parser,r,F7(t.envName)),l=Math.max(0,...o.body.map(c=>c.length));return o.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=xo(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=Qm(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=L7(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Ne("Unknown column alignment: "+h,l)});if(i.length>1)throw new Ne("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=xo(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new Ne("{subarray} can contain only one column");return o},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=xo(t.parser,e,F7(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:bO,htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Jm(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:H7(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return xo(t.parser,e,"display")},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:bO,htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Jm(t);var e={autoTag:H7(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return xo(t.parser,e,"display")},htmlBuilder:ga,mathmlBuilder:va});pa({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Jm(t),JW(t.parser)},htmlBuilder:ga,mathmlBuilder:va});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");Oe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ne(t.funcName+" valid only within array environment")}});var Fx=yO;Oe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ne("Invalid environment name",i);for(var o="",l=0;l<i.body.length;++l)o+=ct(i.body[l],"textord").text;if(r==="\\begin"){if(!Fx.hasOwnProperty(o))throw new Ne("No such environment: "+o,i);var c=Fx[o],{args:h,optArgs:d}=n.parseArguments("\\begin{"+o+"}",c),m={mode:n.mode,envName:o,parser:n},p=c.handler(m,h,d);n.expect("\\end",!1);var y=n.nextToken,b=ct(n.parseFunction(),"environment");if(b.name!==o)throw new Ne("Mismatch: \\begin{"+o+"} matched by \\end{"+b.name+"}",y);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var wO=(t,e)=>{var n=t.font,r=e.withFont(n);return St(t.body,r)},SO=(t,e)=>{var n=t.font,r=e.withFont(n);return Pt(t.body,r)},Gx={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Oe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=mm(e[0]),o=r;return o in Gx&&(o=Gx[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:wO,mathmlBuilder:SO});Oe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=At.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Zm(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Oe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,l=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:o,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:wO,mathmlBuilder:SO});var xO=(t,e)=>{var n=e;return t==="display"?n=n.id>=Ze.SCRIPT.id?n.text():Ze.DISPLAY:t==="text"&&n.size===Ze.DISPLAY.size?n=Ze.TEXT:t==="script"?n=Ze.SCRIPT:t==="scriptscript"&&(n=Ze.SCRIPTSCRIPT),n},G7=(t,e)=>{var n=xO(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var l=St(t.numer,o,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}o=e.havingStyle(i);var d=St(t.denom,o,e),m,p,y;t.hasBarLine?(t.barSize?(p=nn(t.barSize,e),m=de.makeLineSpan("frac-line",e,p)):m=de.makeLineSpan("frac-line",e),p=m.height,y=m.height):(m=null,p=0,y=e.fontMetrics().defaultRuleThickness);var b,S,T;n.size===Ze.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?S=3*y:S=7*y,T=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,S=y):(b=e.fontMetrics().num3,S=3*y),T=e.fontMetrics().denom2);var E;if(m){var D=e.fontMetrics().axisHeight;b-l.depth-(D+.5*p)<S&&(b+=S-(b-l.depth-(D+.5*p))),D-.5*p-(d.height-T)<S&&(T+=S-(D-.5*p-(d.height-T)));var A=-(D-.5*p);E=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:T},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var C=b-l.depth-(d.height-T);C<S&&(b+=.5*(S-C),T+=.5*(S-C)),E=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:T},{type:"elem",elem:l,shift:-b}]},e)}o=e.havingStyle(n),E.height*=o.sizeMultiplier/e.sizeMultiplier,E.depth*=o.sizeMultiplier/e.sizeMultiplier;var z;n.size===Ze.DISPLAY.size?z=e.fontMetrics().delim1:n.size===Ze.SCRIPTSCRIPT.size?z=e.havingStyle(Ze.SCRIPT).fontMetrics().delim2:z=e.fontMetrics().delim2;var U,L;return t.leftDelim==null?U=J0(e,["mopen"]):U=es.customSizedDelim(t.leftDelim,z,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?L=de.makeSpan([]):t.rightDelim==null?L=J0(e,["mclose"]):L=es.customSizedDelim(t.rightDelim,z,!0,e.havingStyle(n),t.mode,["mclose"]),de.makeSpan(["mord"].concat(o.sizingClasses(e)),[U,de.makeSpan(["mfrac"],[E]),L],e)},$7=(t,e)=>{var n=new Ie.MathNode("mfrac",[Pt(t.numer,e),Pt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=nn(t.barSize,e);n.setAttribute("linethickness",ke(r))}var i=xO(t.size,e.style);if(i.size!==e.style.size){n=new Ie.MathNode("mstyle",[n]);var o=i.size===Ze.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ie.MathNode("mo",[new Ie.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var h=new Ie.MathNode("mo",[new Ie.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return q7(l)}return n};Oe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],l,c=null,h=null,d="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":d="display";break;case"\\tfrac":case"\\tbinom":d="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:l,leftDelim:c,rightDelim:h,size:d,barSize:null}},htmlBuilder:G7,mathmlBuilder:$7});Oe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Oe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var $x=["display","text","script","scriptscript"],Yx=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Oe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=mm(e[0]),l=o.type==="atom"&&o.family==="open"?Yx(o.text):null,c=mm(e[1]),h=c.type==="atom"&&c.family==="close"?Yx(c.text):null,d=ct(e[2],"size"),m,p=null;d.isBlank?m=!0:(p=d.value,m=p.number>0);var y="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var S=ct(b.body[0],"textord");y=$x[Number(S.text)]}}else b=ct(b,"textord"),y=$x[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:h,size:y}},htmlBuilder:G7,mathmlBuilder:$7});Oe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ct(e[0],"size").value,token:i}}});Oe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=HZ(ct(e[1],"infix").size),l=e[2],c=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:G7,mathmlBuilder:$7});var EO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?St(t.sup,e.havingStyle(n.sup()),e):St(t.sub,e.havingStyle(n.sub()),e),i=ct(t.base,"horizBrace")):i=ct(t,"horizBrace");var o=St(i.base,e.havingBaseStyle(Ze.DISPLAY)),l=ls.svgSpan(i,e),c;if(i.isOver?(c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=de.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),r){var h=de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},e):c=de.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},mJ=(t,e)=>{var n=ls.mathMLnode(t.label);return new Ie.MathNode(t.isOver?"mover":"munder",[Pt(t.base,e),n])};Oe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:EO,mathmlBuilder:mJ});Oe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ct(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:yn(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=On(t.body,e,!1);return de.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=So(t.body,e);return n instanceof Lr||(n=new Lr("mrow",[n])),n.setAttribute("href",t.href),n}});Oe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ct(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:yn(c)}}});Oe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:yn(e[0])}},htmlBuilder(t,e){var n=On(t.body,e,!1);return de.makeFragment(n)},mathmlBuilder(t,e){return new Ie.MathNode("mrow",Er(t.body,e))}});Oe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=ct(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(r){case"\\htmlClass":h.class=o,c={command:"\\htmlClass",class:o};break;case"\\htmlId":h.id=o,c={command:"\\htmlId",id:o};break;case"\\htmlStyle":h.style=o,c={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var d=o.split(","),m=0;m<d.length;m++){var p=d[m],y=p.indexOf("=");if(y<0)throw new Ne("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,y),S=p.slice(y+1);h["data-"+b.trim()]=S}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:h,body:yn(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=On(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=de.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>So(t.body,e)});Oe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:yn(e[0]),mathml:yn(e[1])}},htmlBuilder:(t,e)=>{var n=On(t.html,e,!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>So(t.mathml,e)});var rv=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!HD(r))throw new Ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Oe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var h=ct(n[0],"raw").string,d=h.split(","),m=0;m<d.length;m++){var p=d[m].split("=");if(p.length===2){var y=p[1].trim();switch(p[0].trim()){case"alt":c=y;break;case"width":i=rv(y);break;case"height":o=rv(y);break;case"totalheight":l=rv(y);break;default:throw new Ne("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=ct(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:o,totalheight:l,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=nn(t.height,e),r=0;t.totalheight.number>0&&(r=nn(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=nn(t.width,e));var o={height:ke(n+r)};i>0&&(o.width=ke(i)),r>0&&(o.verticalAlign=ke(-r));var l=new mW(t.src,t.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=nn(t.height,e),i=0;if(t.totalheight.number>0&&(i=nn(t.totalheight,e)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),t.width.number>0){var o=nn(t.width,e);n.setAttribute("width",ke(o))}return n.setAttribute("src",t.src),n}});Oe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ct(e[0],"size");if(n.settings.strict){var o=r[1]==="m",l=i.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return de.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=nn(t.dimension,e);return new Ie.SpaceNode(n)}});Oe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=de.makeSpan([],[St(t.body,e)]),n=de.makeSpan(["inner"],[n],e)):n=de.makeSpan(["inner"],[St(t.body,e)]);var r=de.makeSpan(["fix"],[]),i=de.makeSpan([t.alignment],[n,r],e),o=de.makeSpan(["strut"]);return o.style.height=ke(i.height+i.depth),i.depth&&(o.style.verticalAlign=ke(-i.depth)),i.children.unshift(o),i=de.makeSpan(["thinbox"],[i],e),de.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Pt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Oe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});Oe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ne("Mismatched "+t.funcName)}});var Xx=(t,e)=>{switch(e.style.size){case Ze.DISPLAY.size:return t.display;case Ze.TEXT.size:return t.text;case Ze.SCRIPT.size:return t.script;case Ze.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Oe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:yn(e[0]),text:yn(e[1]),script:yn(e[2]),scriptscript:yn(e[3])}},htmlBuilder:(t,e)=>{var n=Xx(t,e),r=On(n,e,!1);return de.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Xx(t,e);return So(n,e)}});var TO=(t,e,n,r,i,o,l)=>{t=de.makeSpan([],[t]);var c=n&&At.isCharacterBox(n),h,d;if(e){var m=St(e,r.havingStyle(i.sup()),r);d={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var p=St(n,r.havingStyle(i.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var y;if(d&&h){var b=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;y=de.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-o)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:d.kern},{type:"elem",elem:d.elem,marginLeft:ke(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var S=t.height-l;y=de.makeVList({positionType:"top",positionData:S,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-o)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},r)}else if(d){var T=t.depth+l;y=de.makeVList({positionType:"bottom",positionData:T,children:[{type:"elem",elem:t},{type:"kern",size:d.kern},{type:"elem",elem:d.elem,marginLeft:ke(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var E=[y];if(h&&o!==0&&!c){var C=de.makeSpan(["mspace"],[],r);C.style.marginRight=ke(o),E.unshift(C)}return de.makeSpan(["mop","op-limits"],E,r)},AO=["\\smallint"],dc=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ct(t.base,"op"),i=!0):o=ct(t,"op");var l=e.style,c=!1;l.size===Ze.DISPLAY.size&&o.symbol&&!AO.includes(o.name)&&(c=!0);var h;if(o.symbol){var d=c?"Size2-Regular":"Size1-Regular",m="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(m=o.name.slice(1),o.name=m==="oiint"?"\\iint":"\\iiint"),h=de.makeSymbol(o.name,d,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=h.italic,y=de.staticSvg(m+"Size"+(c?"2":"1"),e);h=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:y,shift:c?.08:0}]},e),o.name="\\"+m,h.classes.unshift("mop"),h.italic=p}}else if(o.body){var b=On(o.body,e,!0);b.length===1&&b[0]instanceof fi?(h=b[0],h.classes[0]="mop"):h=de.makeSpan(["mop"],b,e)}else{for(var S=[],T=1;T<o.name.length;T++)S.push(de.mathsym(o.name[T],o.mode,e));h=de.makeSpan(["mop"],S,e)}var E=0,C=0;return(h instanceof fi||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(E=(h.height-h.depth)/2-e.fontMetrics().axisHeight,C=h.italic),i?TO(h,n,r,e,l,C,E):(E&&(h.style.position="relative",h.style.top=ke(E)),h)},bh=(t,e)=>{var n;if(t.symbol)n=new Lr("mo",[di(t.name,t.mode)]),AO.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Lr("mo",Er(t.body,e));else{n=new Lr("mi",[new ra(t.name.slice(1))]);var r=new Lr("mo",[di("","text")]);t.parentIsSupSub?n=new Lr("mrow",[n,r]):n=eO([n,r])}return n},pJ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Oe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=pJ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:dc,mathmlBuilder:bh});Oe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yn(r)}},htmlBuilder:dc,mathmlBuilder:bh});var gJ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Oe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:dc,mathmlBuilder:bh});Oe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:dc,mathmlBuilder:bh});Oe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=gJ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:dc,mathmlBuilder:bh});var CO=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ct(t.base,"operatorname"),i=!0):o=ct(t,"operatorname");var l;if(o.body.length>0){for(var c=o.body.map(p=>{var y=p.text;return typeof y=="string"?{type:"textord",mode:p.mode,text:y}:p}),h=On(c,e.withFont("mathrm"),!0),d=0;d<h.length;d++){var m=h[d];m instanceof fi&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=de.makeSpan(["mop"],h,e)}else l=de.makeSpan(["mop"],[],e);return i?TO(l,n,r,e,e.style,0,0):l},vJ=(t,e)=>{for(var n=Er(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof Ie.SpaceNode))if(o instanceof Ie.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof Ie.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(m=>m.toText()).join("");n=[new Ie.TextNode(c)]}var h=new Ie.MathNode("mi",n);h.setAttribute("mathvariant","normal");var d=new Ie.MathNode("mo",[di("","text")]);return t.parentIsSupSub?new Ie.MathNode("mrow",[h,d]):Ie.newDocumentFragment([h,d])};Oe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:yn(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:CO,mathmlBuilder:vJ});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Cl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?de.makeFragment(On(t.body,e,!1)):de.makeSpan(["mord"],On(t.body,e,!0),e)},mathmlBuilder(t,e){return So(t.body,e,!0)}});Oe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=St(t.body,e.havingCrampedStyle()),r=de.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return de.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("mover",[Pt(t.body,e),n]);return r.setAttribute("accent","true"),r}});Oe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:yn(r)}},htmlBuilder:(t,e)=>{var n=On(t.body,e.withPhantom(),!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Er(t.body,e);return new Ie.MathNode("mphantom",n)}});Oe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[St(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),de.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Er(yn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Oe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan(["inner"],[St(t.body,e.withPhantom())]),r=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Er(yn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Oe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ct(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=St(t.body,e),r=nn(t.dy,e);return de.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mpadded",[Pt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Oe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Oe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=ct(e[0],"size"),l=ct(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ct(i,"size").value,width:o.value,height:l.value}},htmlBuilder(t,e){var n=de.makeSpan(["mord","rule"],[],e),r=nn(t.width,e),i=nn(t.height,e),o=t.shift?nn(t.shift,e):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=nn(t.width,e),r=nn(t.height,e),i=t.shift?nn(t.shift,e):0,o=e.color&&e.getColor()||"black",l=new Ie.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(r));var c=new Ie.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function RO(t,e,n){for(var r=On(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+e.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return de.makeFragment(r)}var Kx=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yJ=(t,e)=>{var n=e.havingSize(t.size);return RO(t.body,n,e)};Oe({type:"sizing",names:Kx,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Kx.indexOf(r)+1,body:o}},htmlBuilder:yJ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Er(t.body,n),i=new Ie.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});Oe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,l=n[0]&&ct(n[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var d=l.body[h];if(c=d.text,c==="t")i=!0;else if(c==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var m=e[0];return{type:"smash",mode:r.mode,body:m,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[St(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return de.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Pt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Oe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=St(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=de.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<Ze.TEXT.id&&(o=e.fontMetrics().xHeight);var l=i+o/4,c=n.height+n.depth+l+i,{span:h,ruleWidth:d,advanceWidth:m}=es.sqrtImage(c,e),p=h.height-d;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var y=h.height-n.height-l-d;n.style.paddingLeft=ke(m);var b=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+y)},{type:"elem",elem:h},{type:"kern",size:d}]},e);if(t.index){var S=e.havingStyle(Ze.SCRIPTSCRIPT),T=St(t.index,S,e),E=.6*(b.height-b.depth),C=de.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:T}]},e),D=de.makeSpan(["root"],[C]);return de.makeSpan(["mord","sqrt"],[D,b],e)}else return de.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ie.MathNode("mroot",[Pt(n,e),Pt(r,e)]):new Ie.MathNode("msqrt",[Pt(n,e)])}});var Qx={display:Ze.DISPLAY,text:Ze.TEXT,script:Ze.SCRIPT,scriptscript:Ze.SCRIPTSCRIPT};Oe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:o}},htmlBuilder(t,e){var n=Qx[t.style],r=e.havingStyle(n).withFont("");return RO(t.body,r,e)},mathmlBuilder(t,e){var n=Qx[t.style],r=e.havingStyle(n),i=Er(t.body,r),o=new Ie.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return o.setAttribute("scriptlevel",c[0]),o.setAttribute("displaystyle",c[1]),o}});var _J=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Ze.DISPLAY.size||r.alwaysHandleSupSub);return i?dc:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===Ze.DISPLAY.size||r.limits);return o?CO:null}else{if(r.type==="accent")return At.isCharacterBox(r.base)?P7:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?EO:null}else return null}else return null};Cl({type:"supsub",htmlBuilder(t,e){var n=_J(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,l=St(r,e),c,h,d=e.fontMetrics(),m=0,p=0,y=r&&At.isCharacterBox(r);if(i){var b=e.havingStyle(e.style.sup());c=St(i,b,e),y||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(o){var S=e.havingStyle(e.style.sub());h=St(o,S,e),y||(p=l.depth+S.fontMetrics().subDrop*S.sizeMultiplier/e.sizeMultiplier)}var T;e.style===Ze.DISPLAY?T=d.sup1:e.style.cramped?T=d.sup3:T=d.sup2;var E=e.sizeMultiplier,C=ke(.5/d.ptPerEm/E),D=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof fi||A)&&(D=ke(-l.italic))}var z;if(c&&h){m=Math.max(m,T,c.depth+.25*d.xHeight),p=Math.max(p,d.sub2);var U=d.defaultRuleThickness,L=4*U;if(m-c.depth-(h.height-p)<L){p=L-(m-c.depth)+h.height;var I=.8*d.xHeight-(m-c.depth);I>0&&(m+=I,p-=I)}var M=[{type:"elem",elem:h,shift:p,marginRight:C,marginLeft:D},{type:"elem",elem:c,shift:-m,marginRight:C}];z=de.makeVList({positionType:"individualShift",children:M},e)}else if(h){p=Math.max(p,d.sub1,h.height-.8*d.xHeight);var k=[{type:"elem",elem:h,marginLeft:D,marginRight:C}];z=de.makeVList({positionType:"shift",positionData:p,children:k},e)}else if(c)m=Math.max(m,T,c.depth+.25*d.xHeight),z=de.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var H=g6(l,"right")||"mord";return de.makeSpan([H],[l,de.makeSpan(["msupsub"],[z])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[Pt(t.base,e)];t.sub&&o.push(Pt(t.sub,e)),t.sup&&o.push(Pt(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var d=t.base;d&&d.type==="op"&&d.limits&&e.style===Ze.DISPLAY||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(e.style===Ze.DISPLAY||d.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===Ze.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===Ze.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Ze.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Ze.DISPLAY)?l="mover":l="msup"}return new Ie.MathNode(l,o)}});Cl({type:"atom",htmlBuilder(t,e){return de.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[di(t.text,t.mode)]);if(t.family==="bin"){var r=V7(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var IO={mi:"italic",mn:"normal",mtext:"normal"};Cl({type:"mathord",htmlBuilder(t,e){return de.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ie.MathNode("mi",[di(t.text,t.mode,e)]),r=V7(t,e)||"italic";return r!==IO[n.type]&&n.setAttribute("mathvariant",r),n}});Cl({type:"textord",htmlBuilder(t,e){return de.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=di(t.text,t.mode,e),r=V7(t,e)||"normal",i;return t.mode==="text"?i=new Ie.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ie.MathNode("mn",[n]):t.text==="\\prime"?i=new Ie.MathNode("mo",[n]):i=new Ie.MathNode("mi",[n]),r!==IO[i.type]&&i.setAttribute("mathvariant",r),i}});var iv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},av={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Cl({type:"spacing",htmlBuilder(t,e){if(av.hasOwnProperty(t.text)){var n=av[t.text].className||"";if(t.mode==="text"){var r=de.makeOrd(t,e,"textord");return r.classes.push(n),r}else return de.makeSpan(["mspace",n],[de.mathsym(t.text,t.mode,e)],e)}else{if(iv.hasOwnProperty(t.text))return de.makeSpan(["mspace",iv[t.text]],[],e);throw new Ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(av.hasOwnProperty(t.text))n=new Ie.MathNode("mtext",[new Ie.TextNode("")]);else{if(iv.hasOwnProperty(t.text))return new Ie.MathNode("mspace");throw new Ne('Unknown type of space "'+t.text+'"')}return n}});var Zx=()=>{var t=new Ie.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Cl({type:"tag",mathmlBuilder(t,e){var n=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[Zx(),new Ie.MathNode("mtd",[So(t.body,e)]),Zx(),new Ie.MathNode("mtd",[So(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Wx={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Jx={"\\textbf":"textbf","\\textmd":"textmd"},bJ={"\\textit":"textit","\\textup":"textup"},eE=(t,e)=>{var n=t.font;if(n){if(Wx[n])return e.withTextFontFamily(Wx[n]);if(Jx[n])return e.withTextFontWeight(Jx[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(bJ[n])};Oe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:yn(i),font:r}},htmlBuilder(t,e){var n=eE(t,e),r=On(t.body,n,!0);return de.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=eE(t,e);return So(t.body,n)}});Oe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=St(t.body,e),r=de.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("munder",[Pt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Oe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=St(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return de.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ie.MathNode("mpadded",[Pt(t.body,e)],["vcenter"])}});Oe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=tE(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(de.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(i.sizingClasses(e)),de.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ie.TextNode(tE(t)),r=new Ie.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var tE=t=>t.body.replace(/ /g,t.star?"":""),ao=WD,NO=`[ \r
	]`,wJ="\\\\[a-zA-Z@]+",SJ="\\\\[^\uD800-\uDFFF]",xJ="("+wJ+")"+NO+"*",EJ=`\\\\(
|[ \r	]+
?)[ \r	]*`,b6="[-]",TJ=new RegExp(b6+"+$"),AJ="("+NO+"+)|"+(EJ+"|")+"([!-\\[\\]---]"+(b6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(b6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+xJ)+("|"+SJ+")");class nE{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(AJ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Pr("EOF",new wr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ne("Unexpected character: '"+e[n]+"'",new Pr(e[n],new wr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Pr(i,new wr(this,n,this.tokenRegex.lastIndex))}}class CJ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var RJ=_O;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var rE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=rE[e.text],r==null||r>=n)throw new Ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=rE[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var Y7=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ne("\\newcommand's first argument must be a macro name");var o=i[0].text,l=t.isDefined(o);if(l&&!e)throw new Ne("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new Ne("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",d=t.expandNextToken();d.text!=="]"&&d.text!=="EOF";)h+=d.text,d=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Ne("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&r||t.macros.set(o,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>Y7(t,!1,!0,!1));G("\\renewcommand",t=>Y7(t,!0,!1,!1));G("\\providecommand",t=>Y7(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});G("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),ao[n],jt.math[n],jt.text[n]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var iE={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in iE?e=iE[n]:(n.slice(0,4)==="\\not"||n in jt.math&&["bin","rel"].includes(jt.math[n].group))&&(e="\\dotsb"),e});var X7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in X7?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in X7&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in X7?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var MO=ke(na["Main-Regular"][84][1]-.7*na["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+MO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+MO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var kO=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=p=>y=>{t&&(y.macros.set("|",l),i.length&&y.macros.set("\\|",c));var b=p;if(!p&&i.length){var S=y.future();S.text==="|"&&(y.popToken(),b=!0)}return{tokens:b?i:r,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var d=e.consumeArg().tokens,m=e.expandTokens([...o,...d,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",kO(!1));G("\\bra@set",kO(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var DO={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class IJ{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new CJ(RJ,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new nE(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Pr("EOF",r.loc)),this.pushTokens(i),new Pr("",wr.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,l=0,c=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new Ne("Extra }",o)}else if(o.text==="EOF")throw new Ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[c]:"}")+"'",o);if(e&&r)if((l===0||l===1&&e[c]==="{")&&o.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new Ne("Use of the macro doesn't match its definition",o)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ne("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ne("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var c=o.length-1;c>=0;--c){var h=o[c];if(h.text==="#"){if(c===0)throw new Ne("Incomplete placeholder at end of macro body",h);if(h=o[--c],h.text==="#")o.splice(c+1,1);else if(/^[1-9]$/.test(h.text))o.splice(c,2,...l[+h.text-1]);else throw new Ne("Not a valid argument number",h)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Pr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var c=new nE(i,this.settings),h=[],d=c.lex();d.text!=="EOF";)h.push(d),d=c.lex();h.reverse();var m={tokens:h,numArgs:o};return m}return i}isDefined(e){return this.macros.has(e)||ao.hasOwnProperty(e)||jt.math.hasOwnProperty(e)||jt.text.hasOwnProperty(e)||DO.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:ao.hasOwnProperty(e)&&!ao[e].primitive}}var aE=/^[]/,pd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),sv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},sE={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class e1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new IJ(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Pr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(e1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&ao[i.text]&&ao[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,l,c=e.slice(0,n),h=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?o=c[0]:o={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var d;return r==="\\\\abovefrac"?d=this.callFunction(r,[o,e[n],l],[]):d=this.callFunction(r,[o,l],[]),[d]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new Ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new Ne("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new Ne("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new Ne("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new Ne("Double superscript",o);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(pd[o.text]){var d=aE.test(o.text),m=[];for(m.push(new Pr(pd[o.text])),this.consume();;){var p=this.fetch().text;if(!pd[p]||aE.test(p)!==d)break;m.unshift(new Pr(pd[p])),this.consume()}var y=this.subparse(m);d?i={type:"ordgroup",mode:"math",body:y}:r={type:"ordgroup",mode:"math",body:y}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=ao[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new Ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new Ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new Ne("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(i,o);return this.callFunction(i,l,c,r,e)}callFunction(e,n,r,i,o){var l={funcName:e,parser:this,token:i,breakOnTokenText:o},c=ao[e];if(c&&c.handler)return c.handler(l,n,r);throw new Ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(c="primitive");var d=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)o.push(d);else if(d!=null)i.push(d);else throw new Ne("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new Ne("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Ne("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",l;(l=this.fetch()).text!=="EOF"&&e.test(o+l.text);)i=l,o+=i.text,this.consume();if(o==="")throw new Ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ne("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!HD(o))throw new Ne("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:wr.range(r,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!DO.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ne("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:wr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:wr.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:wr.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}sE.hasOwnProperty(n[0])&&!jt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=sE[n[0]]+n.slice(1));var o=TJ.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var l;if(jt[this.mode][n]){this.settings.strict&&this.mode==="math"&&p6.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=jt[this.mode][n].group,h=wr.range(e),d;if(vW.hasOwnProperty(c)){var m=c;d={type:"atom",mode:this.mode,family:m,loc:h,text:n}}else d={type:c,mode:this.mode,loc:h,text:n};l=d}else if(n.charCodeAt(0)>=128)this.settings.strict&&(jD(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:wr.range(e),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var y=o[0][p];if(!sv[y])throw new Ne("Unknown accent ' "+y+"'",e);var b=sv[y][this.mode]||sv[y].text;if(!b)throw new Ne("Accent "+y+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:wr.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}e1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var K7=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new e1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Pr("\\df@tag")])}]}return i},OO=function(e,n,r){n.textContent="";var i=Q7(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),OO=function(){throw new Ne("KaTeX doesn't work in quirks mode.")});var NJ=function(e,n){var r=Q7(e,n).toMarkup();return r},MJ=function(e,n){var r=new M7(n);return K7(e,r)},zO=function(e,n,r){if(r.throwOnError||!(e instanceof Ne))throw e;var i=de.makeSpan(["katex-error"],[new fi(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Q7=function(e,n){var r=new M7(n);try{var i=K7(e,r);return BW(i,e,r)}catch(o){return zO(o,e,r)}},kJ=function(e,n){var r=new M7(n);try{var i=K7(e,r);return UW(i,e,r)}catch(o){return zO(o,e,r)}},DJ="0.16.27",OJ={Span:_h,Anchor:O7,SymbolNode:fi,SvgNode:ss,PathNode:wo,LineNode:m6},zJ={version:DJ,render:OO,renderToString:NJ,ParseError:Ne,SETTINGS_SCHEMA:kd,__parse:MJ,__renderToDomTree:Q7,__renderToHTMLTree:kJ,__setFontMetrics:uW,__defineSymbol:w,__defineFunction:Oe,__defineMacro:G,__domTree:OJ};const er=({latex:t})=>{const e=ce.useRef(null);return ce.useEffect(()=>{if(e.current)try{zJ.render(t,e.current,{throwOnError:!1,displayMode:!1})}catch{e.current.innerText="Invalid LaTeX"}},[t]),j.jsx("span",{ref:e})},qJ=({structureName:t="Algebraic Structure (Alpha)"})=>j.jsxs("div",{className:Ax.overlay,children:[j.jsx("h2",{children:j.jsx(er,{latex:t})}),j.jsxs("div",{className:Ax.legend,children:[j.jsxs("p",{children:[" ",Gg.verified.label,": Green"]}),j.jsxs("p",{children:[" ",Gg.deprecated.label,": Flashing Yellow"]}),j.jsx("p",{children:" Duplicate Link: Dashed Blue Line"}),j.jsxs("p",{children:[" ",Gg.unverified.label,": Red"]})]})]}),VJ=({nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:o,nodeTypes:l,title:c="Mathverse Explorer"})=>j.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[j.jsxs(tF,{nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:o,nodeTypes:l,fitView:!0,panOnScroll:!0,selectionOnDrag:!1,panOnDrag:!0,children:[j.jsx(lF,{gap:20,color:"#333"}),j.jsx(pF,{}),j.jsx(RF,{nodeColor:h=>N7[h.data?.status]||"#eee"})]}),j.jsx(qJ,{structureName:c})]}),qO=t=>{const[e,n]=ce.useState(t),[r,i]=ce.useState(null),o=ce.useCallback(l=>{if(r===l){i(null),n(c=>({...c,[l==="up"?"greenVotes":"blackVotes"]:c[l==="up"?"greenVotes":"blackVotes"]-1}));return}if(r){i(l),n(c=>({greenVotes:l==="up"?c.greenVotes+1:c.greenVotes-1,blackVotes:l==="down"?c.blackVotes+1:c.blackVotes-1}));return}i(l),n(c=>({...c,[l==="up"?"greenVotes":"blackVotes"]:c[l==="up"?"greenVotes":"blackVotes"]+1}))},[r]);return{stats:e,userVote:r,handleVote:o}},LJ=10,PJ=-10,VO=t=>{if(t.status==="deprecated")return"deprecated";if(t.status==="deadend")return"deadend";const e=t.stats?.greenVotes||0,n=t.stats?.blackVotes||0,r=e-n;return r>=LJ&&t.status==="unverified"?"verified":r<=PJ?"trash":t.status},BJ=({data:t})=>{const{stats:e,userVote:n,handleVote:r}=qO({greenVotes:t.stats?.greenVotes||0,blackVotes:t.stats?.blackVotes||0}),o=`math-node-container status-${VO({...t,stats:e})}`,l=`vote-btn ${n==="up"?"active-up":""}`,c=`vote-btn ${n==="down"?"active-down":""}`;return j.jsxs("div",{className:o,children:[j.jsx(Yu,{type:"target",position:Ye.Top,style:{bottom:"0px"}}),j.jsx("div",{className:"math-display-area",children:j.jsx(er,{latex:t.displayLatex})}),j.jsxs("div",{className:"math-node-stats",children:[j.jsxs("button",{className:l,onClick:h=>{h.stopPropagation(),r("up")},title:"Vote Valid (Green)",children:[" ",e.greenVotes]}),j.jsxs("button",{className:c,onClick:h=>{h.stopPropagation(),r("down")},title:"Vote Invalid (Black)",children:[" ",e.blackVotes]})]}),j.jsx(Yu,{type:"source",position:Ye.Bottom,style:{bottom:"-25px"}})]})},UJ="_panel_qsoe1_4",jJ="_sectionInherited_qsoe1_25",HJ="_sectionCurrent_qsoe1_32",FJ="_headerRow_qsoe1_38",GJ="_headerTitle_qsoe1_48",$J="_closeBtn_qsoe1_53",YJ="_sectionTitle_qsoe1_68",XJ="_localPropHeader_qsoe1_76",KJ="_localPropTitle_qsoe1_85",QJ="_proposeBtn_qsoe1_90",ZJ="_adminZone_qsoe1_107",WJ="_deleteBtn_qsoe1_116",JJ="_toggleBtn_qsoe1_134",eee="_toggleContainer_qsoe1_154",tee="_toggleContent_qsoe1_158",nee="_axiomList_qsoe1_166",ree="_axiomItem_qsoe1_171",iee="_emptyState_qsoe1_176",aee="_axiomBox_qsoe1_183",see="_axiomLabel_qsoe1_191",oee="_latexBold_qsoe1_197",lee="_theoremHeaderRow_qsoe1_202",uee="_theoremName_qsoe1_209",cee="_theoremList_qsoe1_214",hee="_detailsToggle_qsoe1_220",fee="_detailsBox_qsoe1_231",dee="_detailsRow_qsoe1_240",mee="_detailsLabel_qsoe1_244",pee="_detailsContent_qsoe1_248",gee="_proofContent_qsoe1_253",vee="_miniDeleteBtn_qsoe1_260",pt={panel:UJ,sectionInherited:jJ,sectionCurrent:HJ,headerRow:FJ,headerTitle:GJ,closeBtn:$J,sectionTitle:YJ,localPropHeader:XJ,localPropTitle:KJ,proposeBtn:QJ,adminZone:ZJ,deleteBtn:WJ,toggleBtn:JJ,toggleContainer:eee,toggleContent:tee,axiomList:nee,axiomItem:ree,emptyState:iee,axiomBox:aee,axiomLabel:see,latexBold:oee,theoremHeaderRow:lee,theoremName:uee,theoremList:cee,detailsToggle:hee,detailsBox:fee,detailsRow:dee,detailsLabel:mee,detailsContent:pee,proofContent:gee,miniDeleteBtn:vee},yee=(t,e,n,r)=>{const i=e.find(c=>c.id===t),o={inheritedAxioms:[],inheritedTheorems:[],localTheorems:r.filter(c=>c.structureNodeId===t),localAxiom:void 0};if(!i)return o;o.localAxiom=n.find(c=>c.id===i.axiomId);let l=i.parentId;for(;l;){const c=e.find(m=>m.id===l);if(!c)break;const h=n.find(m=>m.id===c.axiomId);h&&o.inheritedAxioms.unshift(h);const d=r.filter(m=>m.structureNodeId===c.id);o.inheritedTheorems.unshift(...d),l=c.parentId}return o},_ee="_overlay_1snfz_2",bee="_container_1snfz_16",wee="_header_1snfz_28",See="_closeButton_1snfz_43",xee="_body_1snfz_51",Eee="_description_1snfz_61",Tee="_contextBox_1snfz_68",Aee="_contextLabel_1snfz_76",Cee="_separator_1snfz_84",Ree="_group_1snfz_93",Iee="_label_1snfz_99",Nee="_input_1snfz_105",Mee="_textarea_1snfz_105",kee="_preview_1snfz_113",Dee="_footer_1snfz_125",Oee="_cancelBtn_1snfz_134",zee="_submitBtn_1snfz_142",qee="_drawerOverlay_1snfz_158",Vee="_drawer_1snfz_158",Lee="_drawerHeader_1snfz_184",Pee="_drawerSearch_1snfz_199",Bee="_drawerBody_1snfz_205",Uee="_libraryItem_1snfz_214",jee="_libraryItemHeader_1snfz_231",Hee="_libraryItemTag_1snfz_240",Fee="_inputGroupRow_1snfz_260",Gee="_browseBtn_1snfz_267",$ee="_inputLocked_1snfz_286",Yee="_suggestionsDropdown_1snfz_298",Xee="_suggestionItem_1snfz_312",Kee="_suggestionDetail_1snfz_328",De={overlay:_ee,container:bee,header:wee,closeButton:See,body:xee,description:Eee,contextBox:Tee,contextLabel:Aee,separator:Cee,group:Ree,label:Iee,input:Nee,textarea:Mee,preview:kee,footer:Dee,cancelBtn:Oee,submitBtn:zee,drawerOverlay:qee,drawer:Vee,drawerHeader:Lee,drawerSearch:Pee,drawerBody:Bee,libraryItem:Uee,libraryItemHeader:jee,libraryItemTag:Hee,inputGroupRow:Fee,browseBtn:Gee,inputLocked:$ee,suggestionsDropdown:Yee,suggestionItem:Xee,suggestionDetail:Kee},Qee=({isOpen:t,onClose:e,onSelect:n,availableTheorems:r})=>{const[i,o]=ce.useState(""),l=ce.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.name.toLowerCase().includes(c)||h.statementLatex.toLowerCase().includes(c))},[r,i]);return t?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:De.drawerOverlay,onClick:e}),j.jsxs("div",{className:De.drawer,children:[j.jsxs("div",{className:De.drawerHeader,children:[j.jsx("h3",{children:"Theorem Library"}),j.jsx("button",{className:De.closeButton,onClick:e,children:""})]}),j.jsx("div",{className:De.drawerSearch,children:j.jsx("input",{className:De.input,placeholder:"Search theorems (e.g. 'Identity')...",value:i,onChange:c=>o(c.target.value),autoFocus:!0})}),j.jsx("div",{className:De.drawerBody,children:l.length>0?l.map(c=>j.jsxs("div",{className:De.libraryItem,onClick:()=>n(c),title:"Click to use this theorem as a template",children:[j.jsxs("div",{className:De.libraryItemHeader,children:[j.jsx("strong",{children:c.name}),j.jsxs("span",{className:De.libraryItemTag,children:["ID: ",c.id]})]}),j.jsx("div",{className:De.preview,style:{marginBottom:"5px"},children:j.jsx(er,{latex:c.statementLatex})}),j.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Proof: ",c.proofLatex]})]},c.id)):j.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No theorems found matching "',i,'"']})})]})]}):null},Zee=({structureName:t,availableTheorems:e,onClose:n,onSubmit:r})=>{const[i,o]=ce.useState(""),[l,c]=ce.useState(""),[h,d]=ce.useState(""),[m,p]=ce.useState(!1),[y,b]=ce.useState(!1),S=ce.useMemo(()=>{if(!i)return[];const C=i.toLowerCase();return e.filter(D=>D.name.toLowerCase().includes(C)).slice(0,5)},[i,e]),T=C=>{o(C.name),c(C.statementLatex),d(C.proofLatex),b(!1),p(!1)},E=()=>{!i||!l||!h||(r({name:i,statementLatex:l,proofLatex:h}),n())};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:De.overlay,children:j.jsxs("div",{className:De.container,children:[j.jsxs("div",{className:De.header,children:[j.jsx("h2",{children:"Propose Theorem"}),j.jsx("button",{className:De.closeButton,onClick:n,children:""})]}),j.jsxs("div",{className:De.body,children:[j.jsxs("p",{className:De.description,children:["Add a new property or theorem to ",j.jsx("strong",{children:t}),"."]}),j.jsxs("div",{className:De.group,style:{position:"relative"},children:[j.jsx("label",{className:De.label,children:"1. Theorem Name"}),j.jsxs("div",{className:De.inputGroupRow,children:[j.jsx("input",{className:De.input,placeholder:"e.g. Uniqueness of Identity",value:i,onChange:C=>{o(C.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),autoComplete:"off"}),j.jsx("button",{className:De.browseBtn,onClick:()=>p(!0),title:"Browse Theorem Library",children:""})]}),y&&S.length>0&&j.jsx("div",{className:De.suggestionsDropdown,children:S.map(C=>j.jsx("div",{className:De.suggestionItem,onClick:()=>T(C),children:j.jsx("strong",{children:C.name})},C.id))})]}),j.jsxs("div",{className:De.group,children:[j.jsx("label",{className:De.label,children:"Statement (LaTeX)"}),j.jsx("textarea",{className:De.textarea,rows:2,value:l,onChange:C=>c(C.target.value),placeholder:"\\forall g \\in G, ..."}),j.jsx("div",{className:De.preview,children:j.jsx(er,{latex:l||"Preview..."})})]}),j.jsxs("div",{className:De.group,children:[j.jsx("label",{className:De.label,children:"Proof (LaTeX)"}),j.jsx("textarea",{className:De.textarea,rows:4,value:h,onChange:C=>d(C.target.value),placeholder:"Suppose e and e' are identities..."}),j.jsx("div",{className:De.preview,children:j.jsx(er,{latex:h||"Preview..."})})]})]}),j.jsxs("div",{className:De.footer,children:[j.jsx("button",{className:De.cancelBtn,onClick:n,children:"Cancel"}),j.jsx("button",{className:De.submitBtn,onClick:E,children:"Propose Theorem"})]})]})}),j.jsx(Qee,{isOpen:m,onClose:()=>p(!1),onSelect:T,availableTheorems:e})]})},LO=ce.createContext(void 0),Wee=({children:t})=>{const[e,n]=ce.useState(null),[r,i]=ce.useState(null),[o,l]=ce.useState(!0);ce.useEffect(()=>{const m=yQ(Fg,async p=>{if(n(p),p)try{const y=sl(Wi,"users",p.uid),b=await RK(y);if(b.exists())i(b.data());else{const S={uid:p.uid,email:p.email,displayName:p.displayName,role:"novice",reputation:{creation:0,contributor:0},createdAt:Date.now()};await Cd(y,S),i(S)}}catch(y){console.error("Error fetching user profile:",y),i(null)}else i(null);l(!1)});return()=>m()},[]);const c=async()=>{try{await PQ(Fg,DZ)}catch(m){console.error("Login failed",m)}},h=async()=>{await _Q(Fg),i(null)},d=r?.role==="admin";return j.jsx(LO.Provider,{value:{user:e,profile:r,loading:o,login:c,logout:h,isAdmin:d},children:!o&&t})},t1=()=>{const t=ce.useContext(LO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Jee=t=>{const{profile:e}=t1(),{node:n,allNodes:r,allAxioms:i,allTheorems:o,onClose:l,onAddTheorem:c,onDelete:h,onDeleteTheorem:d}=t,m=yee(n.id,r,i,o),[p,y]=ce.useState(!1);return j.jsxs("div",{className:pt.panel,children:[j.jsx(ete,{onClose:l}),j.jsx(tte,{axioms:m.inheritedAxioms,theorems:m.inheritedTheorems}),j.jsx(nte,{node:n,axiom:m.localAxiom,theorems:m.localTheorems,onOpenAddTheorem:()=>y(!0),onDeleteTheorem:d}),p&&j.jsx(Zee,{structureName:n.displayLatex,availableTheorems:o,onClose:()=>y(!1),onSubmit:c}),e?.role==="admin"&&j.jsx("div",{className:pt.adminZone,children:j.jsx("button",{onClick:()=>h(n.id),className:pt.deleteBtn,children:" ADMIN DELETE STRUCTURE"})})]})},ete=({onClose:t})=>j.jsxs("div",{className:pt.headerRow,children:[j.jsx("h3",{className:pt.headerTitle,children:"Structure Details"}),j.jsx("button",{onClick:t,className:pt.closeBtn,children:"Close "})]}),tte=({axioms:t,theorems:e})=>{const[n,r]=ce.useState(!1),[i,o]=ce.useState(!1);return j.jsxs("section",{className:pt.sectionInherited,children:[j.jsx("h4",{className:pt.sectionTitle,children:"Heritage (Ancestry)"}),j.jsxs("div",{className:pt.toggleContainer,children:[j.jsxs("button",{onClick:()=>r(!n),className:pt.toggleBtn,children:[j.jsxs("span",{children:["Inherited Axioms (",t.length,")"]}),j.jsx("span",{children:n?"":""})]}),n&&j.jsx("div",{className:pt.toggleContent,children:t.length>0?j.jsx("ul",{className:pt.axiomList,children:t.map(l=>j.jsxs("li",{className:pt.axiomItem,children:[j.jsxs("strong",{children:[l.canonicalName,": "]}),j.jsx("span",{style:{color:"#444"},children:j.jsx(er,{latex:l.defaultLatex})})]},l.id))}):j.jsx("span",{className:pt.emptyState,children:"None (Genesis Node)"})})]}),j.jsxs("div",{children:[j.jsxs("button",{onClick:()=>o(!i),className:pt.toggleBtn,children:[j.jsxs("span",{children:["Inherited Theorems (",e.length,")"]}),j.jsx("span",{children:i?"":""})]}),i&&j.jsx("div",{className:pt.toggleContent,children:e.length>0?j.jsx("div",{className:pt.theoremList,children:e.map(l=>j.jsx(PO,{theorem:l},l.id))}):j.jsx("span",{className:pt.emptyState,children:"None inherited."})})]})]})},nte=({node:t,axiom:e,theorems:n,onOpenAddTheorem:r,onDeleteTheorem:i})=>j.jsxs("section",{className:pt.sectionCurrent,children:[j.jsxs("h3",{children:["Structure Name : ",j.jsx(er,{latex:t.displayLatex})]}),e&&j.jsxs("div",{className:pt.axiomBox,children:[j.jsxs("div",{className:pt.axiomLabel,children:["Added Axiom: ",j.jsx("strong",{children:e.canonicalName})]}),j.jsx("span",{className:pt.latexBold,children:j.jsx(er,{latex:e.defaultLatex})})]}),j.jsxs("div",{className:pt.localPropHeader,children:[j.jsx("h4",{className:pt.localPropTitle,children:"Local Theorems:"}),j.jsx("button",{onClick:r,className:pt.proposeBtn,children:"+ Propose Theorem"})]}),n.length>0?n.map(o=>j.jsx(PO,{theorem:o,onDelete:i},o.id)):j.jsx("p",{className:pt.emptyState,children:"No properties defined yet."})]}),PO=({theorem:t,onDelete:e})=>{const{profile:n}=t1(),{stats:r,userVote:i,handleVote:o}=qO({greenVotes:t.stats.greenVotes,blackVotes:t.stats.blackVotes}),c=`theorem-item status-${VO({...t,stats:r})}`,h=`vote-btn ${i==="up"?"active-up":""}`,d=`vote-btn ${i==="down"?"active-down":""}`;return j.jsxs("div",{className:c,children:[j.jsxs("div",{className:pt.theoremHeaderRow,children:[j.jsx("div",{className:pt.theoremName,children:t.name}),j.jsxs("div",{className:"math-node-stats",style:{margin:0,padding:0,border:"none"},children:[j.jsxs("button",{className:h,onClick:m=>{m.stopPropagation(),o("up")},title:"Vote Valid (Green)",children:[" ",r.greenVotes]}),j.jsxs("button",{className:d,onClick:m=>{m.stopPropagation(),o("down")},title:"Vote Invalid (Black)",children:[" ",r.blackVotes]}),n?.role==="admin"&&e&&j.jsx("button",{onClick:m=>{m.stopPropagation(),e(t.id)},className:pt.miniDeleteBtn,title:"Admin Delete",children:""})]})]}),j.jsx(rte,{statement:t.statementLatex,proof:t.proofLatex})]})},rte=({statement:t,proof:e})=>{const[n,r]=ce.useState(!1);return j.jsxs("div",{style:{marginTop:"2px"},children:[j.jsx("button",{onClick:()=>r(!n),className:pt.detailsToggle,children:n?" Hide Details":" Show Statement & Proof"}),n&&j.jsxs("div",{className:pt.detailsBox,children:[j.jsxs("div",{className:pt.detailsRow,children:[j.jsx("strong",{className:pt.detailsLabel,children:"Statement: "}),j.jsx("div",{className:pt.detailsContent,children:j.jsx(er,{latex:t})})]}),j.jsxs("div",{children:[j.jsx("strong",{className:pt.detailsLabel,children:"Proof: "}),j.jsx("div",{className:pt.proofContent,children:j.jsx(er,{latex:e})})]})]})]})};function Z7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ov,oE;function ite(){if(oE)return ov;oE=1;function t(){this.__data__=[],this.size=0}return ov=t,ov}var lv,lE;function mc(){if(lE)return lv;lE=1;function t(e,n){return e===n||e!==e&&n!==n}return lv=t,lv}var uv,uE;function n1(){if(uE)return uv;uE=1;var t=mc();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return uv=e,uv}var cv,cE;function ate(){if(cE)return cv;cE=1;var t=n1(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var c=o.length-1;return l==c?o.pop():n.call(o,l,1),--this.size,!0}return cv=r,cv}var hv,hE;function ste(){if(hE)return hv;hE=1;var t=n1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return hv=e,hv}var fv,fE;function ote(){if(fE)return fv;fE=1;var t=n1();function e(n){return t(this.__data__,n)>-1}return fv=e,fv}var dv,dE;function lte(){if(dE)return dv;dE=1;var t=n1();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return dv=e,dv}var mv,mE;function r1(){if(mE)return mv;mE=1;var t=ite(),e=ate(),n=ste(),r=ote(),i=lte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var d=l[c];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,mv=o,mv}var pv,pE;function ute(){if(pE)return pv;pE=1;var t=r1();function e(){this.__data__=new t,this.size=0}return pv=e,pv}var gv,gE;function cte(){if(gE)return gv;gE=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return gv=t,gv}var vv,vE;function hte(){if(vE)return vv;vE=1;function t(e){return this.__data__.get(e)}return vv=t,vv}var yv,yE;function fte(){if(yE)return yv;yE=1;function t(e){return this.__data__.has(e)}return yv=t,yv}var _v,_E;function BO(){if(_E)return _v;_E=1;var t=typeof Ff=="object"&&Ff&&Ff.Object===Object&&Ff;return _v=t,_v}var bv,bE;function Pi(){if(bE)return bv;bE=1;var t=BO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return bv=n,bv}var wv,wE;function pc(){if(wE)return wv;wE=1;var t=Pi(),e=t.Symbol;return wv=e,wv}var Sv,SE;function dte(){if(SE)return Sv;SE=1;var t=pc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(l){var c=n.call(l,i),h=l[i];try{l[i]=void 0;var d=!0}catch{}var m=r.call(l);return d&&(c?l[i]=h:delete l[i]),m}return Sv=o,Sv}var xv,xE;function mte(){if(xE)return xv;xE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return xv=n,xv}var Ev,EE;function Rl(){if(EE)return Ev;EE=1;var t=pc(),e=dte(),n=mte(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):n(c)}return Ev=l,Ev}var Tv,TE;function mi(){if(TE)return Tv;TE=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Tv=t,Tv}var Av,AE;function wh(){if(AE)return Av;AE=1;var t=Rl(),e=mi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(c){if(!e(c))return!1;var h=t(c);return h==r||h==i||h==n||h==o}return Av=l,Av}var Cv,CE;function pte(){if(CE)return Cv;CE=1;var t=Pi(),e=t["__core-js_shared__"];return Cv=e,Cv}var Rv,RE;function gte(){if(RE)return Rv;RE=1;var t=pte(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Rv=n,Rv}var Iv,IE;function UO(){if(IE)return Iv;IE=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Iv=n,Iv}var Nv,NE;function vte(){if(NE)return Nv;NE=1;var t=wh(),e=gte(),n=mi(),r=UO(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,d=c.hasOwnProperty,m=RegExp("^"+h.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var b=t(y)?m:o;return b.test(r(y))}return Nv=p,Nv}var Mv,ME;function yte(){if(ME)return Mv;ME=1;function t(e,n){return e?.[n]}return Mv=t,Mv}var kv,kE;function Il(){if(kE)return kv;kE=1;var t=vte(),e=yte();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return kv=n,kv}var Dv,DE;function W7(){if(DE)return Dv;DE=1;var t=Il(),e=Pi(),n=t(e,"Map");return Dv=n,Dv}var Ov,OE;function i1(){if(OE)return Ov;OE=1;var t=Il(),e=t(Object,"create");return Ov=e,Ov}var zv,zE;function _te(){if(zE)return zv;zE=1;var t=i1();function e(){this.__data__=t?t(null):{},this.size=0}return zv=e,zv}var qv,qE;function bte(){if(qE)return qv;qE=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return qv=t,qv}var Vv,VE;function wte(){if(VE)return Vv;VE=1;var t=i1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(t){var c=l[o];return c===e?void 0:c}return r.call(l,o)?l[o]:void 0}return Vv=i,Vv}var Lv,LE;function Ste(){if(LE)return Lv;LE=1;var t=i1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Lv=r,Lv}var Pv,PE;function xte(){if(PE)return Pv;PE=1;var t=i1(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Pv=n,Pv}var Bv,BE;function Ete(){if(BE)return Bv;BE=1;var t=_te(),e=bte(),n=wte(),r=Ste(),i=xte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var d=l[c];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Bv=o,Bv}var Uv,UE;function Tte(){if(UE)return Uv;UE=1;var t=Ete(),e=r1(),n=W7();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Uv=r,Uv}var jv,jE;function Ate(){if(jE)return jv;jE=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return jv=t,jv}var Hv,HE;function a1(){if(HE)return Hv;HE=1;var t=Ate();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Hv=e,Hv}var Fv,FE;function Cte(){if(FE)return Fv;FE=1;var t=a1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Fv=e,Fv}var Gv,GE;function Rte(){if(GE)return Gv;GE=1;var t=a1();function e(n){return t(this,n).get(n)}return Gv=e,Gv}var $v,$E;function Ite(){if($E)return $v;$E=1;var t=a1();function e(n){return t(this,n).has(n)}return $v=e,$v}var Yv,YE;function Nte(){if(YE)return Yv;YE=1;var t=a1();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Yv=e,Yv}var Xv,XE;function J7(){if(XE)return Xv;XE=1;var t=Tte(),e=Cte(),n=Rte(),r=Ite(),i=Nte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var d=l[c];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Xv=o,Xv}var Kv,KE;function Mte(){if(KE)return Kv;KE=1;var t=r1(),e=W7(),n=J7(),r=200;function i(o,l){var c=this.__data__;if(c instanceof t){var h=c.__data__;if(!e||h.length<r-1)return h.push([o,l]),this.size=++c.size,this;c=this.__data__=new n(h)}return c.set(o,l),this.size=c.size,this}return Kv=i,Kv}var Qv,QE;function s1(){if(QE)return Qv;QE=1;var t=r1(),e=ute(),n=cte(),r=hte(),i=fte(),o=Mte();function l(c){var h=this.__data__=new t(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,Qv=l,Qv}var Zv,ZE;function e_(){if(ZE)return Zv;ZE=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return Zv=t,Zv}var Wv,WE;function jO(){if(WE)return Wv;WE=1;var t=Il(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Wv=e,Wv}var Jv,JE;function o1(){if(JE)return Jv;JE=1;var t=jO();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Jv=e,Jv}var e4,eT;function l1(){if(eT)return e4;eT=1;var t=o1(),e=mc(),n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c){var h=o[l];(!(r.call(o,l)&&e(h,c))||c===void 0&&!(l in o))&&t(o,l,c)}return e4=i,e4}var t4,tT;function Sh(){if(tT)return t4;tT=1;var t=l1(),e=o1();function n(r,i,o,l){var c=!o;o||(o={});for(var h=-1,d=i.length;++h<d;){var m=i[h],p=l?l(o[m],r[m],m,o,r):void 0;p===void 0&&(p=r[m]),c?e(o,m,p):t(o,m,p)}return o}return t4=n,t4}var n4,nT;function kte(){if(nT)return n4;nT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return n4=t,n4}var r4,rT;function ya(){if(rT)return r4;rT=1;function t(e){return e!=null&&typeof e=="object"}return r4=t,r4}var i4,iT;function Dte(){if(iT)return i4;iT=1;var t=Rl(),e=ya(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return i4=r,i4}var a4,aT;function xh(){if(aT)return a4;aT=1;var t=Dte(),e=ya(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return a4=o,a4}var s4,sT;function Nn(){if(sT)return s4;sT=1;var t=Array.isArray;return s4=t,s4}var S0={exports:{}},o4,oT;function Ote(){if(oT)return o4;oT=1;function t(){return!1}return o4=t,o4}S0.exports;var lT;function gc(){return lT||(lT=1,(function(t,e){var n=Pi(),r=Ote(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,c=l?n.Buffer:void 0,h=c?c.isBuffer:void 0,d=h||r;t.exports=d})(S0,S0.exports)),S0.exports}var l4,uT;function u1(){if(uT)return l4;uT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return l4=n,l4}var u4,cT;function t_(){if(cT)return u4;cT=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return u4=e,u4}var c4,hT;function zte(){if(hT)return c4;hT=1;var t=Rl(),e=t_(),n=ya(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",d="[object Map]",m="[object Number]",p="[object Object]",y="[object RegExp]",b="[object Set]",S="[object String]",T="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",A="[object Float64Array]",z="[object Int8Array]",U="[object Int16Array]",L="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]",q={};q[D]=q[A]=q[z]=q[U]=q[L]=q[I]=q[M]=q[k]=q[H]=!0,q[r]=q[i]=q[E]=q[o]=q[C]=q[l]=q[c]=q[h]=q[d]=q[m]=q[p]=q[y]=q[b]=q[S]=q[T]=!1;function B(P){return n(P)&&e(P.length)&&!!q[t(P)]}return c4=B,c4}var h4,fT;function c1(){if(fT)return h4;fT=1;function t(e){return function(n){return e(n)}}return h4=t,h4}var x0={exports:{}};x0.exports;var dT;function n_(){return dT||(dT=1,(function(t,e){var n=BO(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,c=(function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(x0,x0.exports)),x0.exports}var f4,mT;function Eh(){if(mT)return f4;mT=1;var t=zte(),e=c1(),n=n_(),r=n&&n.isTypedArray,i=r?e(r):t;return f4=i,f4}var d4,pT;function HO(){if(pT)return d4;pT=1;var t=kte(),e=xh(),n=Nn(),r=gc(),i=u1(),o=Eh(),l=Object.prototype,c=l.hasOwnProperty;function h(d,m){var p=n(d),y=!p&&e(d),b=!p&&!y&&r(d),S=!p&&!y&&!b&&o(d),T=p||y||b||S,E=T?t(d.length,String):[],C=E.length;for(var D in d)(m||c.call(d,D))&&!(T&&(D=="length"||b&&(D=="offset"||D=="parent")||S&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||i(D,C)))&&E.push(D);return E}return d4=h,d4}var m4,gT;function h1(){if(gT)return m4;gT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return m4=e,m4}var p4,vT;function FO(){if(vT)return p4;vT=1;function t(e,n){return function(r){return e(n(r))}}return p4=t,p4}var g4,yT;function qte(){if(yT)return g4;yT=1;var t=FO(),e=t(Object.keys,Object);return g4=e,g4}var v4,_T;function r_(){if(_T)return v4;_T=1;var t=h1(),e=qte(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var c in Object(o))r.call(o,c)&&c!="constructor"&&l.push(c);return l}return v4=i,v4}var y4,bT;function fs(){if(bT)return y4;bT=1;var t=wh(),e=t_();function n(r){return r!=null&&e(r.length)&&!t(r)}return y4=n,y4}var _4,wT;function Eo(){if(wT)return _4;wT=1;var t=HO(),e=r_(),n=fs();function r(i){return n(i)?t(i):e(i)}return _4=r,_4}var b4,ST;function Vte(){if(ST)return b4;ST=1;var t=Sh(),e=Eo();function n(r,i){return r&&t(i,e(i),r)}return b4=n,b4}var w4,xT;function Lte(){if(xT)return w4;xT=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return w4=t,w4}var S4,ET;function Pte(){if(ET)return S4;ET=1;var t=mi(),e=h1(),n=Lte(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!t(l))return n(l);var c=e(l),h=[];for(var d in l)d=="constructor"&&(c||!i.call(l,d))||h.push(d);return h}return S4=o,S4}var x4,TT;function Nl(){if(TT)return x4;TT=1;var t=HO(),e=Pte(),n=fs();function r(i){return n(i)?t(i,!0):e(i)}return x4=r,x4}var E4,AT;function Bte(){if(AT)return E4;AT=1;var t=Sh(),e=Nl();function n(r,i){return r&&t(i,e(i),r)}return E4=n,E4}var E0={exports:{}};E0.exports;var CT;function GO(){return CT||(CT=1,(function(t,e){var n=Pi(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function h(d,m){if(m)return d.slice();var p=d.length,y=c?c(p):new d.constructor(p);return d.copy(y),y}t.exports=h})(E0,E0.exports)),E0.exports}var T4,RT;function $O(){if(RT)return T4;RT=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return T4=t,T4}var A4,IT;function YO(){if(IT)return A4;IT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[o++]=c)}return l}return A4=t,A4}var C4,NT;function XO(){if(NT)return C4;NT=1;function t(){return[]}return C4=t,C4}var R4,MT;function i_(){if(MT)return R4;MT=1;var t=YO(),e=XO(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return R4=o,R4}var I4,kT;function Ute(){if(kT)return I4;kT=1;var t=Sh(),e=i_();function n(r,i){return t(r,e(r),i)}return I4=n,I4}var N4,DT;function a_(){if(DT)return N4;DT=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return N4=t,N4}var M4,OT;function f1(){if(OT)return M4;OT=1;var t=FO(),e=t(Object.getPrototypeOf,Object);return M4=e,M4}var k4,zT;function KO(){if(zT)return k4;zT=1;var t=a_(),e=f1(),n=i_(),r=XO(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var c=[];l;)t(c,n(l)),l=e(l);return c}:r;return k4=o,k4}var D4,qT;function jte(){if(qT)return D4;qT=1;var t=Sh(),e=KO();function n(r,i){return t(r,e(r),i)}return D4=n,D4}var O4,VT;function QO(){if(VT)return O4;VT=1;var t=a_(),e=Nn();function n(r,i,o){var l=i(r);return e(r)?l:t(l,o(r))}return O4=n,O4}var z4,LT;function ZO(){if(LT)return z4;LT=1;var t=QO(),e=i_(),n=Eo();function r(i){return t(i,n,e)}return z4=r,z4}var q4,PT;function Hte(){if(PT)return q4;PT=1;var t=QO(),e=KO(),n=Nl();function r(i){return t(i,n,e)}return q4=r,q4}var V4,BT;function Fte(){if(BT)return V4;BT=1;var t=Il(),e=Pi(),n=t(e,"DataView");return V4=n,V4}var L4,UT;function Gte(){if(UT)return L4;UT=1;var t=Il(),e=Pi(),n=t(e,"Promise");return L4=n,L4}var P4,jT;function WO(){if(jT)return P4;jT=1;var t=Il(),e=Pi(),n=t(e,"Set");return P4=n,P4}var B4,HT;function $te(){if(HT)return B4;HT=1;var t=Il(),e=Pi(),n=t(e,"WeakMap");return B4=n,B4}var U4,FT;function vc(){if(FT)return U4;FT=1;var t=Fte(),e=W7(),n=Gte(),r=WO(),i=$te(),o=Rl(),l=UO(),c="[object Map]",h="[object Object]",d="[object Promise]",m="[object Set]",p="[object WeakMap]",y="[object DataView]",b=l(t),S=l(e),T=l(n),E=l(r),C=l(i),D=o;return(t&&D(new t(new ArrayBuffer(1)))!=y||e&&D(new e)!=c||n&&D(n.resolve())!=d||r&&D(new r)!=m||i&&D(new i)!=p)&&(D=function(A){var z=o(A),U=z==h?A.constructor:void 0,L=U?l(U):"";if(L)switch(L){case b:return y;case S:return c;case T:return d;case E:return m;case C:return p}return z}),U4=D,U4}var j4,GT;function Yte(){if(GT)return j4;GT=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return j4=n,j4}var H4,$T;function JO(){if($T)return H4;$T=1;var t=Pi(),e=t.Uint8Array;return H4=e,H4}var F4,YT;function s_(){if(YT)return F4;YT=1;var t=JO();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return F4=e,F4}var G4,XT;function Xte(){if(XT)return G4;XT=1;var t=s_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return G4=e,G4}var $4,KT;function Kte(){if(KT)return $4;KT=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return $4=e,$4}var Y4,QT;function Qte(){if(QT)return Y4;QT=1;var t=pc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Y4=r,Y4}var X4,ZT;function ez(){if(ZT)return X4;ZT=1;var t=s_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return X4=e,X4}var K4,WT;function Zte(){if(WT)return K4;WT=1;var t=s_(),e=Xte(),n=Kte(),r=Qte(),i=ez(),o="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",d="[object RegExp]",m="[object Set]",p="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",D="[object Int16Array]",A="[object Int32Array]",z="[object Uint8Array]",U="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]";function M(k,H,q){var B=k.constructor;switch(H){case b:return t(k);case o:case l:return new B(+k);case S:return e(k,q);case T:case E:case C:case D:case A:case z:case U:case L:case I:return i(k,q);case c:return new B;case h:case p:return new B(k);case d:return n(k);case m:return new B;case y:return r(k)}}return K4=M,K4}var Q4,JT;function tz(){if(JT)return Q4;JT=1;var t=mi(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return Q4=n,Q4}var Z4,eA;function nz(){if(eA)return Z4;eA=1;var t=tz(),e=f1(),n=h1();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return Z4=r,Z4}var W4,tA;function Wte(){if(tA)return W4;tA=1;var t=vc(),e=ya(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return W4=r,W4}var J4,nA;function Jte(){if(nA)return J4;nA=1;var t=Wte(),e=c1(),n=n_(),r=n&&n.isMap,i=r?e(r):t;return J4=i,J4}var ey,rA;function ene(){if(rA)return ey;rA=1;var t=vc(),e=ya(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return ey=r,ey}var ty,iA;function tne(){if(iA)return ty;iA=1;var t=ene(),e=c1(),n=n_(),r=n&&n.isSet,i=r?e(r):t;return ty=i,ty}var ny,aA;function rz(){if(aA)return ny;aA=1;var t=s1(),e=e_(),n=l1(),r=Vte(),i=Bte(),o=GO(),l=$O(),c=Ute(),h=jte(),d=ZO(),m=Hte(),p=vc(),y=Yte(),b=Zte(),S=nz(),T=Nn(),E=gc(),C=Jte(),D=mi(),A=tne(),z=Eo(),U=Nl(),L=1,I=2,M=4,k="[object Arguments]",H="[object Array]",q="[object Boolean]",B="[object Date]",P="[object Error]",K="[object Function]",te="[object GeneratorFunction]",$="[object Map]",W="[object Number]",re="[object Object]",oe="[object RegExp]",ye="[object Set]",Y="[object String]",ee="[object Symbol]",pe="[object WeakMap]",Q="[object ArrayBuffer]",ie="[object DataView]",ue="[object Float32Array]",ge="[object Float64Array]",be="[object Int8Array]",Ce="[object Int16Array]",ze="[object Int32Array]",He="[object Uint8Array]",je="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ge="[object Uint32Array]",Be={};Be[k]=Be[H]=Be[Q]=Be[ie]=Be[q]=Be[B]=Be[ue]=Be[ge]=Be[be]=Be[Ce]=Be[ze]=Be[$]=Be[W]=Be[re]=Be[oe]=Be[ye]=Be[Y]=Be[ee]=Be[He]=Be[je]=Be[Pe]=Be[Ge]=!0,Be[P]=Be[K]=Be[pe]=!1;function rt($e,Bt,st,Nt,Mn,zn){var Ht,Yt=Bt&L,Pn=Bt&I,ur=Bt&M;if(st&&(Ht=Mn?st($e,Nt,Mn,zn):st($e)),Ht!==void 0)return Ht;if(!D($e))return $e;var cr=T($e);if(cr){if(Ht=y($e),!Yt)return l($e,Ht)}else{var qn=p($e),ms=qn==K||qn==te;if(E($e))return o($e,Yt);if(qn==re||qn==k||ms&&!Mn){if(Ht=Pn||ms?{}:S($e),!Yt)return Pn?h($e,i(Ht,$e)):c($e,r(Ht,$e))}else{if(!Be[qn])return Mn?$e:{};Ht=b($e,qn,Yt)}}zn||(zn=new t);var gi=zn.get($e);if(gi)return gi;zn.set($e,Ht),A($e)?$e.forEach(function(an){Ht.add(rt(an,Bt,st,an,$e,zn))}):C($e)&&$e.forEach(function(an,Vt){Ht.set(Vt,rt(an,Bt,st,Vt,$e,zn))});var ps=ur?Pn?m:d:Pn?U:z,_a=cr?void 0:ps($e);return e(_a||$e,function(an,Vt){_a&&(Vt=an,an=$e[Vt]),n(Ht,Vt,rt(an,Bt,st,Vt,$e,zn))}),Ht}return ny=rt,ny}var ry,sA;function nne(){if(sA)return ry;sA=1;var t=rz(),e=4;function n(r){return t(r,e)}return ry=n,ry}var iy,oA;function o_(){if(oA)return iy;oA=1;function t(e){return function(){return e}}return iy=t,iy}var ay,lA;function rne(){if(lA)return ay;lA=1;function t(e){return function(n,r,i){for(var o=-1,l=Object(n),c=i(n),h=c.length;h--;){var d=c[e?h:++o];if(r(l[d],d,l)===!1)break}return n}}return ay=t,ay}var sy,uA;function l_(){if(uA)return sy;uA=1;var t=rne(),e=t();return sy=e,sy}var oy,cA;function u_(){if(cA)return oy;cA=1;var t=l_(),e=Eo();function n(r,i){return r&&t(r,i,e)}return oy=n,oy}var ly,hA;function ine(){if(hA)return ly;hA=1;var t=fs();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var l=i.length,c=r?l:-1,h=Object(i);(r?c--:++c<l)&&o(h[c],c,h)!==!1;);return i}}return ly=e,ly}var uy,fA;function d1(){if(fA)return uy;fA=1;var t=u_(),e=ine(),n=e(t);return uy=n,uy}var cy,dA;function Ml(){if(dA)return cy;dA=1;function t(e){return e}return cy=t,cy}var hy,mA;function iz(){if(mA)return hy;mA=1;var t=Ml();function e(n){return typeof n=="function"?n:t}return hy=e,hy}var fy,pA;function az(){if(pA)return fy;pA=1;var t=e_(),e=d1(),n=iz(),r=Nn();function i(o,l){var c=r(o)?t:e;return c(o,n(l))}return fy=i,fy}var dy,gA;function sz(){return gA||(gA=1,dy=az()),dy}var my,vA;function ane(){if(vA)return my;vA=1;var t=d1();function e(n,r){var i=[];return t(n,function(o,l,c){r(o,l,c)&&i.push(o)}),i}return my=e,my}var py,yA;function sne(){if(yA)return py;yA=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return py=e,py}var gy,_A;function one(){if(_A)return gy;_A=1;function t(e){return this.__data__.has(e)}return gy=t,gy}var vy,bA;function oz(){if(bA)return vy;bA=1;var t=J7(),e=sne(),n=one();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,vy=r,vy}var yy,wA;function lne(){if(wA)return yy;wA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return yy=t,yy}var _y,SA;function lz(){if(SA)return _y;SA=1;function t(e,n){return e.has(n)}return _y=t,_y}var by,xA;function uz(){if(xA)return by;xA=1;var t=oz(),e=lne(),n=lz(),r=1,i=2;function o(l,c,h,d,m,p){var y=h&r,b=l.length,S=c.length;if(b!=S&&!(y&&S>b))return!1;var T=p.get(l),E=p.get(c);if(T&&E)return T==c&&E==l;var C=-1,D=!0,A=h&i?new t:void 0;for(p.set(l,c),p.set(c,l);++C<b;){var z=l[C],U=c[C];if(d)var L=y?d(U,z,C,c,l,p):d(z,U,C,l,c,p);if(L!==void 0){if(L)continue;D=!1;break}if(A){if(!e(c,function(I,M){if(!n(A,M)&&(z===I||m(z,I,h,d,p)))return A.push(M)})){D=!1;break}}else if(!(z===U||m(z,U,h,d,p))){D=!1;break}}return p.delete(l),p.delete(c),D}return by=o,by}var wy,EA;function une(){if(EA)return wy;EA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return wy=t,wy}var Sy,TA;function c_(){if(TA)return Sy;TA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Sy=t,Sy}var xy,AA;function cne(){if(AA)return xy;AA=1;var t=pc(),e=JO(),n=mc(),r=uz(),i=une(),o=c_(),l=1,c=2,h="[object Boolean]",d="[object Date]",m="[object Error]",p="[object Map]",y="[object Number]",b="[object RegExp]",S="[object Set]",T="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",D="[object DataView]",A=t?t.prototype:void 0,z=A?A.valueOf:void 0;function U(L,I,M,k,H,q,B){switch(M){case D:if(L.byteLength!=I.byteLength||L.byteOffset!=I.byteOffset)return!1;L=L.buffer,I=I.buffer;case C:return!(L.byteLength!=I.byteLength||!q(new e(L),new e(I)));case h:case d:case y:return n(+L,+I);case m:return L.name==I.name&&L.message==I.message;case b:case T:return L==I+"";case p:var P=i;case S:var K=k&l;if(P||(P=o),L.size!=I.size&&!K)return!1;var te=B.get(L);if(te)return te==I;k|=c,B.set(L,I);var $=r(P(L),P(I),k,H,q,B);return B.delete(L),$;case E:if(z)return z.call(L)==z.call(I)}return!1}return xy=U,xy}var Ey,CA;function hne(){if(CA)return Ey;CA=1;var t=ZO(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c,h,d,m){var p=c&e,y=t(o),b=y.length,S=t(l),T=S.length;if(b!=T&&!p)return!1;for(var E=b;E--;){var C=y[E];if(!(p?C in l:r.call(l,C)))return!1}var D=m.get(o),A=m.get(l);if(D&&A)return D==l&&A==o;var z=!0;m.set(o,l),m.set(l,o);for(var U=p;++E<b;){C=y[E];var L=o[C],I=l[C];if(h)var M=p?h(I,L,C,l,o,m):h(L,I,C,o,l,m);if(!(M===void 0?L===I||d(L,I,c,h,m):M)){z=!1;break}U||(U=C=="constructor")}if(z&&!U){var k=o.constructor,H=l.constructor;k!=H&&"constructor"in o&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof H=="function"&&H instanceof H)&&(z=!1)}return m.delete(o),m.delete(l),z}return Ey=i,Ey}var Ty,RA;function fne(){if(RA)return Ty;RA=1;var t=s1(),e=uz(),n=cne(),r=hne(),i=vc(),o=Nn(),l=gc(),c=Eh(),h=1,d="[object Arguments]",m="[object Array]",p="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function S(T,E,C,D,A,z){var U=o(T),L=o(E),I=U?m:i(T),M=L?m:i(E);I=I==d?p:I,M=M==d?p:M;var k=I==p,H=M==p,q=I==M;if(q&&l(T)){if(!l(E))return!1;U=!0,k=!1}if(q&&!k)return z||(z=new t),U||c(T)?e(T,E,C,D,A,z):n(T,E,I,C,D,A,z);if(!(C&h)){var B=k&&b.call(T,"__wrapped__"),P=H&&b.call(E,"__wrapped__");if(B||P){var K=B?T.value():T,te=P?E.value():E;return z||(z=new t),A(K,te,C,D,z)}}return q?(z||(z=new t),r(T,E,C,D,A,z)):!1}return Ty=S,Ty}var Ay,IA;function cz(){if(IA)return Ay;IA=1;var t=fne(),e=ya();function n(r,i,o,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,l,n,c)}return Ay=n,Ay}var Cy,NA;function dne(){if(NA)return Cy;NA=1;var t=s1(),e=cz(),n=1,r=2;function i(o,l,c,h){var d=c.length,m=d,p=!h;if(o==null)return!m;for(o=Object(o);d--;){var y=c[d];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++d<m;){y=c[d];var b=y[0],S=o[b],T=y[1];if(p&&y[2]){if(S===void 0&&!(b in o))return!1}else{var E=new t;if(h)var C=h(S,T,b,o,l,E);if(!(C===void 0?e(T,S,n|r,h,E):C))return!1}}return!0}return Cy=i,Cy}var Ry,MA;function hz(){if(MA)return Ry;MA=1;var t=mi();function e(n){return n===n&&!t(n)}return Ry=e,Ry}var Iy,kA;function mne(){if(kA)return Iy;kA=1;var t=hz(),e=Eo();function n(r){for(var i=e(r),o=i.length;o--;){var l=i[o],c=r[l];i[o]=[l,c,t(c)]}return i}return Iy=n,Iy}var Ny,DA;function fz(){if(DA)return Ny;DA=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Ny=t,Ny}var My,OA;function pne(){if(OA)return My;OA=1;var t=dne(),e=mne(),n=fz();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return My=r,My}var ky,zA;function yc(){if(zA)return ky;zA=1;var t=Rl(),e=ya(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return ky=r,ky}var Dy,qA;function h_(){if(qA)return Dy;qA=1;var t=Nn(),e=yc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(t(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return Dy=i,Dy}var Oy,VA;function gne(){if(VA)return Oy;VA=1;var t=J7(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,c=i?i.apply(this,l):l[0],h=o.cache;if(h.has(c))return h.get(c);var d=r.apply(this,l);return o.cache=h.set(c,d)||h,d};return o.cache=new(n.Cache||t),o}return n.Cache=t,Oy=n,Oy}var zy,LA;function vne(){if(LA)return zy;LA=1;var t=gne(),e=500;function n(r){var i=t(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return zy=n,zy}var qy,PA;function yne(){if(PA)return qy;PA=1;var t=vne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,c,h,d){o.push(h?d.replace(n,"$1"):c||l)}),o});return qy=r,qy}var Vy,BA;function m1(){if(BA)return Vy;BA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Vy=t,Vy}var Ly,UA;function _ne(){if(UA)return Ly;UA=1;var t=pc(),e=m1(),n=Nn(),r=yc(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return o?o.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return Ly=l,Ly}var Py,jA;function dz(){if(jA)return Py;jA=1;var t=_ne();function e(n){return n==null?"":t(n)}return Py=e,Py}var By,HA;function p1(){if(HA)return By;HA=1;var t=Nn(),e=h_(),n=yne(),r=dz();function i(o,l){return t(o)?o:e(o,l)?[o]:n(r(o))}return By=i,By}var Uy,FA;function Th(){if(FA)return Uy;FA=1;var t=yc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Uy=e,Uy}var jy,GA;function g1(){if(GA)return jy;GA=1;var t=p1(),e=Th();function n(r,i){i=t(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return jy=n,jy}var Hy,$A;function bne(){if($A)return Hy;$A=1;var t=g1();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Hy=e,Hy}var Fy,YA;function wne(){if(YA)return Fy;YA=1;function t(e,n){return e!=null&&n in Object(e)}return Fy=t,Fy}var Gy,XA;function mz(){if(XA)return Gy;XA=1;var t=p1(),e=xh(),n=Nn(),r=u1(),i=t_(),o=Th();function l(c,h,d){h=t(h,c);for(var m=-1,p=h.length,y=!1;++m<p;){var b=o(h[m]);if(!(y=c!=null&&d(c,b)))break;c=c[b]}return y||++m!=p?y:(p=c==null?0:c.length,!!p&&i(p)&&r(b,p)&&(n(c)||e(c)))}return Gy=l,Gy}var $y,KA;function pz(){if(KA)return $y;KA=1;var t=wne(),e=mz();function n(r,i){return r!=null&&e(r,i,t)}return $y=n,$y}var Yy,QA;function Sne(){if(QA)return Yy;QA=1;var t=cz(),e=bne(),n=pz(),r=h_(),i=hz(),o=fz(),l=Th(),c=1,h=2;function d(m,p){return r(m)&&i(p)?o(l(m),p):function(y){var b=e(y,m);return b===void 0&&b===p?n(y,m):t(p,b,c|h)}}return Yy=d,Yy}var Xy,ZA;function gz(){if(ZA)return Xy;ZA=1;function t(e){return function(n){return n?.[e]}}return Xy=t,Xy}var Ky,WA;function xne(){if(WA)return Ky;WA=1;var t=g1();function e(n){return function(r){return t(r,n)}}return Ky=e,Ky}var Qy,JA;function Ene(){if(JA)return Qy;JA=1;var t=gz(),e=xne(),n=h_(),r=Th();function i(o){return n(o)?t(r(o)):e(o)}return Qy=i,Qy}var Zy,eC;function ds(){if(eC)return Zy;eC=1;var t=pne(),e=Sne(),n=Ml(),r=Nn(),i=Ene();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return Zy=o,Zy}var Wy,tC;function vz(){if(tC)return Wy;tC=1;var t=YO(),e=ane(),n=ds(),r=Nn();function i(o,l){var c=r(o)?t:e;return c(o,n(l,3))}return Wy=i,Wy}var Jy,nC;function Tne(){if(nC)return Jy;nC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return Jy=n,Jy}var e2,rC;function yz(){if(rC)return e2;rC=1;var t=Tne(),e=mz();function n(r,i){return r!=null&&e(r,i,t)}return e2=n,e2}var t2,iC;function Ane(){if(iC)return t2;iC=1;var t=r_(),e=vc(),n=xh(),r=Nn(),i=fs(),o=gc(),l=h1(),c=Eh(),h="[object Map]",d="[object Set]",m=Object.prototype,p=m.hasOwnProperty;function y(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||o(b)||c(b)||n(b)))return!b.length;var S=e(b);if(S==h||S==d)return!b.size;if(l(b))return!t(b).length;for(var T in b)if(p.call(b,T))return!1;return!0}return t2=y,t2}var n2,aC;function _z(){if(aC)return n2;aC=1;function t(e){return e===void 0}return n2=t,n2}var r2,sC;function bz(){if(sC)return r2;sC=1;var t=d1(),e=fs();function n(r,i){var o=-1,l=e(r)?Array(r.length):[];return t(r,function(c,h,d){l[++o]=i(c,h,d)}),l}return r2=n,r2}var i2,oC;function wz(){if(oC)return i2;oC=1;var t=m1(),e=ds(),n=bz(),r=Nn();function i(o,l){var c=r(o)?t:n;return c(o,e(l,3))}return i2=i,i2}var a2,lC;function Cne(){if(lC)return a2;lC=1;function t(e,n,r,i){var o=-1,l=e==null?0:e.length;for(i&&l&&(r=e[++o]);++o<l;)r=n(r,e[o],o,e);return r}return a2=t,a2}var s2,uC;function Rne(){if(uC)return s2;uC=1;function t(e,n,r,i,o){return o(e,function(l,c,h){r=i?(i=!1,l):n(r,l,c,h)}),r}return s2=t,s2}var o2,cC;function Sz(){if(cC)return o2;cC=1;var t=Cne(),e=d1(),n=ds(),r=Rne(),i=Nn();function o(l,c,h){var d=i(l)?t:r,m=arguments.length<3;return d(l,n(c,4),h,m,e)}return o2=o,o2}var l2,hC;function Ine(){if(hC)return l2;hC=1;var t=Rl(),e=Nn(),n=ya(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return l2=i,l2}var u2,fC;function Nne(){if(fC)return u2;fC=1;var t=gz(),e=t("length");return u2=e,u2}var c2,dC;function Mne(){if(dC)return c2;dC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+o+"]");function h(d){return c.test(d)}return c2=h,c2}var h2,mC;function kne(){if(mC)return h2;mC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",h="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+h+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=d+"?",T="["+o+"]?",E="(?:"+b+"(?:"+[m,p,y].join("|")+")"+T+S+")*",C=T+S+E,D="(?:"+[m+c+"?",c,p,y,l].join("|")+")",A=RegExp(h+"(?="+h+")|"+D+C,"g");function z(U){for(var L=A.lastIndex=0;A.test(U);)++L;return L}return h2=z,h2}var f2,pC;function Dne(){if(pC)return f2;pC=1;var t=Nne(),e=Mne(),n=kne();function r(i){return e(i)?n(i):t(i)}return f2=r,f2}var d2,gC;function One(){if(gC)return d2;gC=1;var t=r_(),e=vc(),n=fs(),r=Ine(),i=Dne(),o="[object Map]",l="[object Set]";function c(h){if(h==null)return 0;if(n(h))return r(h)?i(h):h.length;var d=e(h);return d==o||d==l?h.size:t(h).length}return d2=c,d2}var m2,vC;function zne(){if(vC)return m2;vC=1;var t=e_(),e=tz(),n=u_(),r=ds(),i=f1(),o=Nn(),l=gc(),c=wh(),h=mi(),d=Eh();function m(p,y,b){var S=o(p),T=S||l(p)||d(p);if(y=r(y,4),b==null){var E=p&&p.constructor;T?b=S?new E:[]:h(p)?b=c(E)?e(i(p)):{}:b={}}return(T?t:n)(p,function(C,D,A){return y(b,C,D,A)}),b}return m2=m,m2}var p2,yC;function qne(){if(yC)return p2;yC=1;var t=pc(),e=xh(),n=Nn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return p2=i,p2}var g2,_C;function f_(){if(_C)return g2;_C=1;var t=a_(),e=qne();function n(r,i,o,l,c){var h=-1,d=r.length;for(o||(o=e),c||(c=[]);++h<d;){var m=r[h];i>0&&o(m)?i>1?n(m,i-1,o,l,c):t(c,m):l||(c[c.length]=m)}return c}return g2=n,g2}var v2,bC;function Vne(){if(bC)return v2;bC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return v2=t,v2}var y2,wC;function xz(){if(wC)return y2;wC=1;var t=Vne(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,h=e(l.length-i,0),d=Array(h);++c<h;)d[c]=l[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=l[c];return m[i]=o(d),t(r,this,m)}}return y2=n,y2}var _2,SC;function Lne(){if(SC)return _2;SC=1;var t=o_(),e=jO(),n=Ml(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return _2=r,_2}var b2,xC;function Pne(){if(xC)return b2;xC=1;var t=800,e=16,n=Date.now;function r(i){var o=0,l=0;return function(){var c=n(),h=e-(c-l);if(l=c,h>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return b2=r,b2}var w2,EC;function Ez(){if(EC)return w2;EC=1;var t=Lne(),e=Pne(),n=e(t);return w2=n,w2}var S2,TC;function v1(){if(TC)return S2;TC=1;var t=Ml(),e=xz(),n=Ez();function r(i,o){return n(e(i,o,t),i+"")}return S2=r,S2}var x2,AC;function Tz(){if(AC)return x2;AC=1;function t(e,n,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(n(e[l],l,e))return l;return-1}return x2=t,x2}var E2,CC;function Bne(){if(CC)return E2;CC=1;function t(e){return e!==e}return E2=t,E2}var T2,RC;function Une(){if(RC)return T2;RC=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return T2=t,T2}var A2,IC;function jne(){if(IC)return A2;IC=1;var t=Tz(),e=Bne(),n=Une();function r(i,o,l){return o===o?n(i,o,l):t(i,e,l)}return A2=r,A2}var C2,NC;function Hne(){if(NC)return C2;NC=1;var t=jne();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return C2=e,C2}var R2,MC;function Fne(){if(MC)return R2;MC=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return R2=t,R2}var I2,kC;function Gne(){if(kC)return I2;kC=1;function t(){}return I2=t,I2}var N2,DC;function $ne(){if(DC)return N2;DC=1;var t=WO(),e=Gne(),n=c_(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return N2=i,N2}var M2,OC;function Yne(){if(OC)return M2;OC=1;var t=oz(),e=Hne(),n=Fne(),r=lz(),i=$ne(),o=c_(),l=200;function c(h,d,m){var p=-1,y=e,b=h.length,S=!0,T=[],E=T;if(m)S=!1,y=n;else if(b>=l){var C=d?null:i(h);if(C)return o(C);S=!1,y=r,E=new t}else E=d?[]:T;e:for(;++p<b;){var D=h[p],A=d?d(D):D;if(D=m||D!==0?D:0,S&&A===A){for(var z=E.length;z--;)if(E[z]===A)continue e;d&&E.push(A),T.push(D)}else y(E,A,m)||(E!==T&&E.push(A),T.push(D))}return T}return M2=c,M2}var k2,zC;function Az(){if(zC)return k2;zC=1;var t=fs(),e=ya();function n(r){return e(r)&&t(r)}return k2=n,k2}var D2,qC;function Xne(){if(qC)return D2;qC=1;var t=f_(),e=v1(),n=Yne(),r=Az(),i=e(function(o){return n(t(o,1,r,!0))});return D2=i,D2}var O2,VC;function Kne(){if(VC)return O2;VC=1;var t=m1();function e(n,r){return t(r,function(i){return n[i]})}return O2=e,O2}var z2,LC;function Cz(){if(LC)return z2;LC=1;var t=Kne(),e=Eo();function n(r){return r==null?[]:t(r,e(r))}return z2=n,z2}var q2,PC;function pi(){if(PC)return q2;PC=1;var t;if(typeof Z7=="function")try{t={clone:nne(),constant:o_(),each:sz(),filter:vz(),has:yz(),isArray:Nn(),isEmpty:Ane(),isFunction:wh(),isUndefined:_z(),keys:Eo(),map:wz(),reduce:Sz(),size:One(),transform:zne(),union:Xne(),values:Cz()}}catch{}return t||(t=window._),q2=t,q2}var V2,BC;function d_(){if(BC)return V2;BC=1;var t=pi();V2=i;var e="\0",n="\0",r="";function i(m){this._isDirected=t.has(m,"directed")?m.directed:!0,this._isMultigraph=t.has(m,"multigraph")?m.multigraph:!1,this._isCompound=t.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(m){return this._label=m,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultNodeLabelFn=m,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._in[p])})},i.prototype.sinks=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._out[p])})},i.prototype.setNodes=function(m,p){var y=arguments,b=this;return t.each(m,function(S){y.length>1?b.setNode(S,p):b.setNode(S)}),this},i.prototype.setNode=function(m,p){return t.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=p),this):(this._nodes[m]=arguments.length>1?p:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=n,this._children[m]={},this._children[n][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},i.prototype.node=function(m){return this._nodes[m]},i.prototype.hasNode=function(m){return t.has(this._nodes,m)},i.prototype.removeNode=function(m){var p=this;if(t.has(this._nodes,m)){var y=function(b){p.removeEdge(p._edgeObjs[b])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],t.each(this.children(m),function(b){p.setParent(b)}),delete this._children[m]),t.each(t.keys(this._in[m]),y),delete this._in[m],delete this._preds[m],t.each(t.keys(this._out[m]),y),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},i.prototype.setParent=function(m,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=n;else{p+="";for(var y=p;!t.isUndefined(y);y=this.parent(y))if(y===m)throw new Error("Setting "+p+" as parent of "+m+" would create a cycle");this.setNode(p)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=p,this._children[p][m]=!0,this},i.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},i.prototype.parent=function(m){if(this._isCompound){var p=this._parent[m];if(p!==n)return p}},i.prototype.children=function(m){if(t.isUndefined(m)&&(m=n),this._isCompound){var p=this._children[m];if(p)return t.keys(p)}else{if(m===n)return this.nodes();if(this.hasNode(m))return[]}},i.prototype.predecessors=function(m){var p=this._preds[m];if(p)return t.keys(p)},i.prototype.successors=function(m){var p=this._sucs[m];if(p)return t.keys(p)},i.prototype.neighbors=function(m){var p=this.predecessors(m);if(p)return t.union(p,this.successors(m))},i.prototype.isLeaf=function(m){var p;return this.isDirected()?p=this.successors(m):p=this.neighbors(m),p.length===0},i.prototype.filterNodes=function(m){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var y=this;t.each(this._nodes,function(T,E){m(E)&&p.setNode(E,T)}),t.each(this._edgeObjs,function(T){p.hasNode(T.v)&&p.hasNode(T.w)&&p.setEdge(T,y.edge(T))});var b={};function S(T){var E=y.parent(T);return E===void 0||p.hasNode(E)?(b[T]=E,E):E in b?b[E]:S(E)}return this._isCompound&&t.each(p.nodes(),function(T){p.setParent(T,S(T))}),p},i.prototype.setDefaultEdgeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultEdgeLabelFn=m,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(m,p){var y=this,b=arguments;return t.reduce(m,function(S,T){return b.length>1?y.setEdge(S,T,p):y.setEdge(S,T),T}),this},i.prototype.setEdge=function(){var m,p,y,b,S=!1,T=arguments[0];typeof T=="object"&&T!==null&&"v"in T?(m=T.v,p=T.w,y=T.name,arguments.length===2&&(b=arguments[1],S=!0)):(m=T,p=arguments[1],y=arguments[3],arguments.length>2&&(b=arguments[2],S=!0)),m=""+m,p=""+p,t.isUndefined(y)||(y=""+y);var E=c(this._isDirected,m,p,y);if(t.has(this._edgeLabels,E))return S&&(this._edgeLabels[E]=b),this;if(!t.isUndefined(y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(p),this._edgeLabels[E]=S?b:this._defaultEdgeLabelFn(m,p,y);var C=h(this._isDirected,m,p,y);return m=C.v,p=C.w,Object.freeze(C),this._edgeObjs[E]=C,o(this._preds[p],m),o(this._sucs[m],p),this._in[p][E]=C,this._out[m][E]=C,this._edgeCount++,this},i.prototype.edge=function(m,p,y){var b=arguments.length===1?d(this._isDirected,arguments[0]):c(this._isDirected,m,p,y);return this._edgeLabels[b]},i.prototype.hasEdge=function(m,p,y){var b=arguments.length===1?d(this._isDirected,arguments[0]):c(this._isDirected,m,p,y);return t.has(this._edgeLabels,b)},i.prototype.removeEdge=function(m,p,y){var b=arguments.length===1?d(this._isDirected,arguments[0]):c(this._isDirected,m,p,y),S=this._edgeObjs[b];return S&&(m=S.v,p=S.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[p],m),l(this._sucs[m],p),delete this._in[p][b],delete this._out[m][b],this._edgeCount--),this},i.prototype.inEdges=function(m,p){var y=this._in[m];if(y){var b=t.values(y);return p?t.filter(b,function(S){return S.v===p}):b}},i.prototype.outEdges=function(m,p){var y=this._out[m];if(y){var b=t.values(y);return p?t.filter(b,function(S){return S.w===p}):b}},i.prototype.nodeEdges=function(m,p){var y=this.inEdges(m,p);if(y)return y.concat(this.outEdges(m,p))};function o(m,p){m[p]?m[p]++:m[p]=1}function l(m,p){--m[p]||delete m[p]}function c(m,p,y,b){var S=""+p,T=""+y;if(!m&&S>T){var E=S;S=T,T=E}return S+r+T+r+(t.isUndefined(b)?e:b)}function h(m,p,y,b){var S=""+p,T=""+y;if(!m&&S>T){var E=S;S=T,T=E}var C={v:S,w:T};return b&&(C.name=b),C}function d(m,p){return c(m,p.v,p.w,p.name)}return V2}var L2,UC;function Qne(){return UC||(UC=1,L2="2.1.8"),L2}var P2,jC;function Zne(){return jC||(jC=1,P2={Graph:d_(),version:Qne()}),P2}var B2,HC;function Wne(){if(HC)return B2;HC=1;var t=pi(),e=d_();B2={write:n,read:o};function n(l){var c={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return t.isUndefined(l.graph())||(c.value=t.clone(l.graph())),c}function r(l){return t.map(l.nodes(),function(c){var h=l.node(c),d=l.parent(c),m={v:c};return t.isUndefined(h)||(m.value=h),t.isUndefined(d)||(m.parent=d),m})}function i(l){return t.map(l.edges(),function(c){var h=l.edge(c),d={v:c.v,w:c.w};return t.isUndefined(c.name)||(d.name=c.name),t.isUndefined(h)||(d.value=h),d})}function o(l){var c=new e(l.options).setGraph(l.value);return t.each(l.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),t.each(l.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}return B2}var U2,FC;function Jne(){if(FC)return U2;FC=1;var t=pi();U2=e;function e(n){var r={},i=[],o;function l(c){t.has(r,c)||(r[c]=!0,o.push(c),t.each(n.successors(c),l),t.each(n.predecessors(c),l))}return t.each(n.nodes(),function(c){o=[],l(c),o.length&&i.push(o)}),i}return U2}var j2,GC;function Rz(){if(GC)return j2;GC=1;var t=pi();j2=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var o=this._arr,l=o.length;return i[n]=l,o.push({key:n,priority:r}),this._decrease(l),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,o<r.length&&(l=r[o].priority<r[l].priority?o:l),l!==n&&(this._swap(n,l),this._heapify(l)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},e.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,l=i[n],c=i[r];i[n]=c,i[r]=l,o[c.key]=n,o[l.key]=r},j2}var H2,$C;function Iz(){if($C)return H2;$C=1;var t=pi(),e=Rz();H2=r;var n=t.constant(1);function r(o,l,c,h){return i(o,String(l),c||n,h||function(d){return o.outEdges(d)})}function i(o,l,c,h){var d={},m=new e,p,y,b=function(S){var T=S.v!==p?S.v:S.w,E=d[T],C=c(S),D=y.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+S+" Weight: "+C);D<E.distance&&(E.distance=D,E.predecessor=p,m.decrease(T,D))};for(o.nodes().forEach(function(S){var T=S===l?0:Number.POSITIVE_INFINITY;d[S]={distance:T},m.add(S,T)});m.size()>0&&(p=m.removeMin(),y=d[p],y.distance!==Number.POSITIVE_INFINITY);)h(p).forEach(b);return d}return H2}var F2,YC;function ere(){if(YC)return F2;YC=1;var t=Iz(),e=pi();F2=n;function n(r,i,o){return e.transform(r.nodes(),function(l,c){l[c]=t(r,c,i,o)},{})}return F2}var G2,XC;function Nz(){if(XC)return G2;XC=1;var t=pi();G2=e;function e(n){var r=0,i=[],o={},l=[];function c(h){var d=o[h]={onStack:!0,lowlink:r,index:r++};if(i.push(h),n.successors(h).forEach(function(y){t.has(o,y)?o[y].onStack&&(d.lowlink=Math.min(d.lowlink,o[y].index)):(c(y),d.lowlink=Math.min(d.lowlink,o[y].lowlink))}),d.lowlink===d.index){var m=[],p;do p=i.pop(),o[p].onStack=!1,m.push(p);while(h!==p);l.push(m)}}return n.nodes().forEach(function(h){t.has(o,h)||c(h)}),l}return G2}var $2,KC;function tre(){if(KC)return $2;KC=1;var t=pi(),e=Nz();$2=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return $2}var Y2,QC;function nre(){if(QC)return Y2;QC=1;var t=pi();Y2=n;var e=t.constant(1);function n(i,o,l){return r(i,o||e,l||function(c){return i.outEdges(c)})}function r(i,o,l){var c={},h=i.nodes();return h.forEach(function(d){c[d]={},c[d][d]={distance:0},h.forEach(function(m){d!==m&&(c[d][m]={distance:Number.POSITIVE_INFINITY})}),l(d).forEach(function(m){var p=m.v===d?m.w:m.v,y=o(m);c[d][p]={distance:y,predecessor:d}})}),h.forEach(function(d){var m=c[d];h.forEach(function(p){var y=c[p];h.forEach(function(b){var S=y[d],T=m[b],E=y[b],C=S.distance+T.distance;C<E.distance&&(E.distance=C,E.predecessor=T.predecessor)})})}),c}return Y2}var X2,ZC;function Mz(){if(ZC)return X2;ZC=1;var t=pi();X2=e,e.CycleException=n;function e(r){var i={},o={},l=[];function c(h){if(t.has(o,h))throw new n;t.has(i,h)||(o[h]=!0,i[h]=!0,t.each(r.predecessors(h),c),delete o[h],l.push(h))}if(t.each(r.sinks(),c),t.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,X2}var K2,WC;function rre(){if(WC)return K2;WC=1;var t=Mz();K2=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return K2}var Q2,JC;function kz(){if(JC)return Q2;JC=1;var t=pi();Q2=e;function e(r,i,o){t.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),c=[],h={};return t.each(i,function(d){if(!r.hasNode(d))throw new Error("Graph does not have node: "+d);n(r,d,o==="post",h,l,c)}),c}function n(r,i,o,l,c,h){t.has(l,i)||(l[i]=!0,o||h.push(i),t.each(c(i),function(d){n(r,d,o,l,c,h)}),o&&h.push(i))}return Q2}var Z2,eR;function ire(){if(eR)return Z2;eR=1;var t=kz();Z2=e;function e(n,r){return t(n,r,"post")}return Z2}var W2,tR;function are(){if(tR)return W2;tR=1;var t=kz();W2=e;function e(n,r){return t(n,r,"pre")}return W2}var J2,nR;function sre(){if(nR)return J2;nR=1;var t=pi(),e=d_(),n=Rz();J2=r;function r(i,o){var l=new e,c={},h=new n,d;function m(y){var b=y.v===d?y.w:y.v,S=h.priority(b);if(S!==void 0){var T=o(y);T<S&&(c[b]=d,h.decrease(b,T))}}if(i.nodeCount()===0)return l;t.each(i.nodes(),function(y){h.add(y,Number.POSITIVE_INFINITY),l.setNode(y)}),h.decrease(i.nodes()[0],0);for(var p=!1;h.size()>0;){if(d=h.removeMin(),t.has(c,d))l.setEdge(d,c[d]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(d).forEach(m)}return l}return J2}var e3,rR;function ore(){return rR||(rR=1,e3={components:Jne(),dijkstra:Iz(),dijkstraAll:ere(),findCycles:tre(),floydWarshall:nre(),isAcyclic:rre(),postorder:ire(),preorder:are(),prim:sre(),tarjan:Nz(),topsort:Mz()}),e3}var t3,iR;function lre(){if(iR)return t3;iR=1;var t=Zne();return t3={Graph:t.Graph,json:Wne(),alg:ore(),version:t.version},t3}var n3,aR;function Vi(){if(aR)return n3;aR=1;var t;if(typeof Z7=="function")try{t=lre()}catch{}return t||(t=window.graphlib),n3=t,n3}var r3,sR;function ure(){if(sR)return r3;sR=1;var t=rz(),e=1,n=4;function r(i){return t(i,e|n)}return r3=r,r3}var i3,oR;function y1(){if(oR)return i3;oR=1;var t=mc(),e=fs(),n=u1(),r=mi();function i(o,l,c){if(!r(c))return!1;var h=typeof l;return(h=="number"?e(c)&&n(l,c.length):h=="string"&&l in c)?t(c[l],o):!1}return i3=i,i3}var a3,lR;function cre(){if(lR)return a3;lR=1;var t=v1(),e=mc(),n=y1(),r=Nl(),i=Object.prototype,o=i.hasOwnProperty,l=t(function(c,h){c=Object(c);var d=-1,m=h.length,p=m>2?h[2]:void 0;for(p&&n(h[0],h[1],p)&&(m=1);++d<m;)for(var y=h[d],b=r(y),S=-1,T=b.length;++S<T;){var E=b[S],C=c[E];(C===void 0||e(C,i[E])&&!o.call(c,E))&&(c[E]=y[E])}return c});return a3=l,a3}var s3,uR;function hre(){if(uR)return s3;uR=1;var t=ds(),e=fs(),n=Eo();function r(i){return function(o,l,c){var h=Object(o);if(!e(o)){var d=t(l,3);o=n(o),l=function(p){return d(h[p],p,h)}}var m=i(o,l,c);return m>-1?h[d?o[m]:m]:void 0}}return s3=r,s3}var o3,cR;function fre(){if(cR)return o3;cR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return o3=e,o3}var l3,hR;function dre(){if(hR)return l3;hR=1;var t=fre(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return l3=n,l3}var u3,fR;function mre(){if(fR)return u3;fR=1;var t=dre(),e=mi(),n=yc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var m=typeof d.valueOf=="function"?d.valueOf():d;d=e(m)?m+"":m}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=o.test(d);return p||l.test(d)?c(d.slice(2),p?2:8):i.test(d)?r:+d}return u3=h,u3}var c3,dR;function Dz(){if(dR)return c3;dR=1;var t=mre(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return c3=r,c3}var h3,mR;function pre(){if(mR)return h3;mR=1;var t=Dz();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return h3=e,h3}var f3,pR;function gre(){if(pR)return f3;pR=1;var t=Tz(),e=ds(),n=pre(),r=Math.max;function i(o,l,c){var h=o==null?0:o.length;if(!h)return-1;var d=c==null?0:n(c);return d<0&&(d=r(h+d,0)),t(o,e(l,3),d)}return f3=i,f3}var d3,gR;function vre(){if(gR)return d3;gR=1;var t=hre(),e=gre(),n=t(e);return d3=n,d3}var m3,vR;function Oz(){if(vR)return m3;vR=1;var t=f_();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return m3=e,m3}var p3,yR;function yre(){if(yR)return p3;yR=1;var t=l_(),e=iz(),n=Nl();function r(i,o){return i==null?i:t(i,e(o),n)}return p3=r,p3}var g3,_R;function _re(){if(_R)return g3;_R=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return g3=t,g3}var v3,bR;function bre(){if(bR)return v3;bR=1;var t=o1(),e=u_(),n=ds();function r(i,o){var l={};return o=n(o,3),e(i,function(c,h,d){t(l,h,o(c,h,d))}),l}return v3=r,v3}var y3,wR;function m_(){if(wR)return y3;wR=1;var t=yc();function e(n,r,i){for(var o=-1,l=n.length;++o<l;){var c=n[o],h=r(c);if(h!=null&&(d===void 0?h===h&&!t(h):i(h,d)))var d=h,m=c}return m}return y3=e,y3}var _3,SR;function wre(){if(SR)return _3;SR=1;function t(e,n){return e>n}return _3=t,_3}var b3,xR;function Sre(){if(xR)return b3;xR=1;var t=m_(),e=wre(),n=Ml();function r(i){return i&&i.length?t(i,n,e):void 0}return b3=r,b3}var w3,ER;function zz(){if(ER)return w3;ER=1;var t=o1(),e=mc();function n(r,i,o){(o!==void 0&&!e(r[i],o)||o===void 0&&!(i in r))&&t(r,i,o)}return w3=n,w3}var S3,TR;function xre(){if(TR)return S3;TR=1;var t=Rl(),e=f1(),n=ya(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,h=l.call(Object);function d(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var y=c.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==h}return S3=d,S3}var x3,AR;function qz(){if(AR)return x3;AR=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return x3=t,x3}var E3,CR;function Ere(){if(CR)return E3;CR=1;var t=Sh(),e=Nl();function n(r){return t(r,e(r))}return E3=n,E3}var T3,RR;function Tre(){if(RR)return T3;RR=1;var t=zz(),e=GO(),n=ez(),r=$O(),i=nz(),o=xh(),l=Nn(),c=Az(),h=gc(),d=wh(),m=mi(),p=xre(),y=Eh(),b=qz(),S=Ere();function T(E,C,D,A,z,U,L){var I=b(E,D),M=b(C,D),k=L.get(M);if(k){t(E,D,k);return}var H=U?U(I,M,D+"",E,C,L):void 0,q=H===void 0;if(q){var B=l(M),P=!B&&h(M),K=!B&&!P&&y(M);H=M,B||P||K?l(I)?H=I:c(I)?H=r(I):P?(q=!1,H=e(M,!0)):K?(q=!1,H=n(M,!0)):H=[]:p(M)||o(M)?(H=I,o(I)?H=S(I):(!m(I)||d(I))&&(H=i(M))):q=!1}q&&(L.set(M,H),z(H,M,A,U,L),L.delete(M)),t(E,D,H)}return T3=T,T3}var A3,IR;function Are(){if(IR)return A3;IR=1;var t=s1(),e=zz(),n=l_(),r=Tre(),i=mi(),o=Nl(),l=qz();function c(h,d,m,p,y){h!==d&&n(d,function(b,S){if(y||(y=new t),i(b))r(h,d,S,m,c,p,y);else{var T=p?p(l(h,S),b,S+"",h,d,y):void 0;T===void 0&&(T=b),e(h,S,T)}},o)}return A3=c,A3}var C3,NR;function Cre(){if(NR)return C3;NR=1;var t=v1(),e=y1();function n(r){return t(function(i,o){var l=-1,c=o.length,h=c>1?o[c-1]:void 0,d=c>2?o[2]:void 0;for(h=r.length>3&&typeof h=="function"?(c--,h):void 0,d&&e(o[0],o[1],d)&&(h=c<3?void 0:h,c=1),i=Object(i);++l<c;){var m=o[l];m&&r(i,m,l,h)}return i})}return C3=n,C3}var R3,MR;function Rre(){if(MR)return R3;MR=1;var t=Are(),e=Cre(),n=e(function(r,i,o){t(r,i,o)});return R3=n,R3}var I3,kR;function Vz(){if(kR)return I3;kR=1;function t(e,n){return e<n}return I3=t,I3}var N3,DR;function Ire(){if(DR)return N3;DR=1;var t=m_(),e=Vz(),n=Ml();function r(i){return i&&i.length?t(i,n,e):void 0}return N3=r,N3}var M3,OR;function Nre(){if(OR)return M3;OR=1;var t=m_(),e=ds(),n=Vz();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return M3=r,M3}var k3,zR;function Mre(){if(zR)return k3;zR=1;var t=Pi(),e=function(){return t.Date.now()};return k3=e,k3}var D3,qR;function kre(){if(qR)return D3;qR=1;var t=l1(),e=p1(),n=u1(),r=mi(),i=Th();function o(l,c,h,d){if(!r(l))return l;c=e(c,l);for(var m=-1,p=c.length,y=p-1,b=l;b!=null&&++m<p;){var S=i(c[m]),T=h;if(S==="__proto__"||S==="constructor"||S==="prototype")return l;if(m!=y){var E=b[S];T=d?d(E,S,b):void 0,T===void 0&&(T=r(E)?E:n(c[m+1])?[]:{})}t(b,S,T),b=b[S]}return l}return D3=o,D3}var O3,VR;function Dre(){if(VR)return O3;VR=1;var t=g1(),e=kre(),n=p1();function r(i,o,l){for(var c=-1,h=o.length,d={};++c<h;){var m=o[c],p=t(i,m);l(p,m)&&e(d,n(m,i),p)}return d}return O3=r,O3}var z3,LR;function Ore(){if(LR)return z3;LR=1;var t=Dre(),e=pz();function n(r,i){return t(r,i,function(o,l){return e(r,l)})}return z3=n,z3}var q3,PR;function zre(){if(PR)return q3;PR=1;var t=Oz(),e=xz(),n=Ez();function r(i){return n(e(i,void 0,t),i+"")}return q3=r,q3}var V3,BR;function qre(){if(BR)return V3;BR=1;var t=Ore(),e=zre(),n=e(function(r,i){return r==null?{}:t(r,i)});return V3=n,V3}var L3,UR;function Vre(){if(UR)return L3;UR=1;var t=Math.ceil,e=Math.max;function n(r,i,o,l){for(var c=-1,h=e(t((i-r)/(o||1)),0),d=Array(h);h--;)d[l?h:++c]=r,r+=o;return d}return L3=n,L3}var P3,jR;function Lre(){if(jR)return P3;jR=1;var t=Vre(),e=y1(),n=Dz();function r(i){return function(o,l,c){return c&&typeof c!="number"&&e(o,l,c)&&(l=c=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),c=c===void 0?o<l?1:-1:n(c),t(o,l,c,i)}}return P3=r,P3}var B3,HR;function Pre(){if(HR)return B3;HR=1;var t=Lre(),e=t();return B3=e,B3}var U3,FR;function Bre(){if(FR)return U3;FR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return U3=t,U3}var j3,GR;function Ure(){if(GR)return j3;GR=1;var t=yc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,l=n===n,c=t(n),h=r!==void 0,d=r===null,m=r===r,p=t(r);if(!d&&!p&&!c&&n>r||c&&h&&m&&!d&&!p||o&&h&&m||!i&&m||!l)return 1;if(!o&&!c&&!p&&n<r||p&&i&&l&&!o&&!c||d&&i&&l||!h&&l||!m)return-1}return 0}return j3=e,j3}var H3,$R;function jre(){if($R)return H3;$R=1;var t=Ure();function e(n,r,i){for(var o=-1,l=n.criteria,c=r.criteria,h=l.length,d=i.length;++o<h;){var m=t(l[o],c[o]);if(m){if(o>=d)return m;var p=i[o];return m*(p=="desc"?-1:1)}}return n.index-r.index}return H3=e,H3}var F3,YR;function Hre(){if(YR)return F3;YR=1;var t=m1(),e=g1(),n=ds(),r=bz(),i=Bre(),o=c1(),l=jre(),c=Ml(),h=Nn();function d(m,p,y){p.length?p=t(p,function(T){return h(T)?function(E){return e(E,T.length===1?T[0]:T)}:T}):p=[c];var b=-1;p=t(p,o(n));var S=r(m,function(T,E,C){var D=t(p,function(A){return A(T)});return{criteria:D,index:++b,value:T}});return i(S,function(T,E){return l(T,E,y)})}return F3=d,F3}var G3,XR;function Fre(){if(XR)return G3;XR=1;var t=f_(),e=Hre(),n=v1(),r=y1(),i=n(function(o,l){if(o==null)return[];var c=l.length;return c>1&&r(o,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return G3=i,G3}var $3,KR;function Gre(){if(KR)return $3;KR=1;var t=dz(),e=0;function n(r){var i=++e;return t(r)+i}return $3=n,$3}var Y3,QR;function $re(){if(QR)return Y3;QR=1;function t(e,n,r){for(var i=-1,o=e.length,l=n.length,c={};++i<o;){var h=i<l?n[i]:void 0;r(c,e[i],h)}return c}return Y3=t,Y3}var X3,ZR;function Yre(){if(ZR)return X3;ZR=1;var t=l1(),e=$re();function n(r,i){return e(r||[],i||[],t)}return X3=n,X3}var K3,WR;function Jt(){if(WR)return K3;WR=1;var t;if(typeof Z7=="function")try{t={cloneDeep:ure(),constant:o_(),defaults:cre(),each:sz(),filter:vz(),find:vre(),flatten:Oz(),forEach:az(),forIn:yre(),has:yz(),isUndefined:_z(),last:_re(),map:wz(),mapValues:bre(),max:Sre(),merge:Rre(),min:Ire(),minBy:Nre(),now:Mre(),pick:qre(),range:Pre(),reduce:Sz(),sortBy:Fre(),uniqueId:Gre(),values:Cz(),zipObject:Yre()}}catch{}return t||(t=window._),K3=t,K3}var Q3,JR;function Xre(){if(JR)return Q3;JR=1,Q3=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,o=i._prev;o!==i;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return Q3}var Z3,eI;function Kre(){if(eI)return Z3;eI=1;var t=Jt(),e=Vi().Graph,n=Xre();Z3=i;var r=t.constant(1);function i(d,m){if(d.nodeCount()<=1)return[];var p=c(d,m||r),y=o(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(y,function(b){return d.outEdges(b.v,b.w)}),!0)}function o(d,m,p){for(var y=[],b=m[m.length-1],S=m[0],T;d.nodeCount();){for(;T=S.dequeue();)l(d,m,p,T);for(;T=b.dequeue();)l(d,m,p,T);if(d.nodeCount()){for(var E=m.length-2;E>0;--E)if(T=m[E].dequeue(),T){y=y.concat(l(d,m,p,T,!0));break}}}return y}function l(d,m,p,y,b){var S=b?[]:void 0;return t.forEach(d.inEdges(y.v),function(T){var E=d.edge(T),C=d.node(T.v);b&&S.push({v:T.v,w:T.w}),C.out-=E,h(m,p,C)}),t.forEach(d.outEdges(y.v),function(T){var E=d.edge(T),C=T.w,D=d.node(C);D.in-=E,h(m,p,D)}),d.removeNode(y.v),S}function c(d,m){var p=new e,y=0,b=0;t.forEach(d.nodes(),function(E){p.setNode(E,{v:E,in:0,out:0})}),t.forEach(d.edges(),function(E){var C=p.edge(E.v,E.w)||0,D=m(E),A=C+D;p.setEdge(E.v,E.w,A),b=Math.max(b,p.node(E.v).out+=D),y=Math.max(y,p.node(E.w).in+=D)});var S=t.range(b+y+3).map(function(){return new n}),T=y+1;return t.forEach(p.nodes(),function(E){h(S,T,p.node(E))}),{graph:p,buckets:S,zeroIdx:T}}function h(d,m,p){p.out?p.in?d[p.out-p.in+m].enqueue(p):d[d.length-1].enqueue(p):d[0].enqueue(p)}return Z3}var W3,tI;function Qre(){if(tI)return W3;tI=1;var t=Jt(),e=Kre();W3={run:n,undo:i};function n(o){var l=o.graph().acyclicer==="greedy"?e(o,c(o)):r(o);t.forEach(l,function(h){var d=o.edge(h);o.removeEdge(h),d.forwardName=h.name,d.reversed=!0,o.setEdge(h.w,h.v,d,t.uniqueId("rev"))});function c(h){return function(d){return h.edge(d).weight}}}function r(o){var l=[],c={},h={};function d(m){t.has(h,m)||(h[m]=!0,c[m]=!0,t.forEach(o.outEdges(m),function(p){t.has(c,p.w)?l.push(p):d(p.w)}),delete c[m])}return t.forEach(o.nodes(),d),l}function i(o){t.forEach(o.edges(),function(l){var c=o.edge(l);if(c.reversed){o.removeEdge(l);var h=c.forwardName;delete c.reversed,delete c.forwardName,o.setEdge(l.w,l.v,c,h)}})}return W3}var J3,nI;function xr(){if(nI)return J3;nI=1;var t=Jt(),e=Vi().Graph;J3={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:l,intersectRect:c,buildLayerMatrix:h,normalizeRanks:d,removeEmptyRanks:m,addBorderNode:p,maxRank:y,partition:b,time:S,notime:T};function n(E,C,D,A){var z;do z=t.uniqueId(A);while(E.hasNode(z));return D.dummy=C,E.setNode(z,D),z}function r(E){var C=new e().setGraph(E.graph());return t.forEach(E.nodes(),function(D){C.setNode(D,E.node(D))}),t.forEach(E.edges(),function(D){var A=C.edge(D.v,D.w)||{weight:0,minlen:1},z=E.edge(D);C.setEdge(D.v,D.w,{weight:A.weight+z.weight,minlen:Math.max(A.minlen,z.minlen)})}),C}function i(E){var C=new e({multigraph:E.isMultigraph()}).setGraph(E.graph());return t.forEach(E.nodes(),function(D){E.children(D).length||C.setNode(D,E.node(D))}),t.forEach(E.edges(),function(D){C.setEdge(D,E.edge(D))}),C}function o(E){var C=t.map(E.nodes(),function(D){var A={};return t.forEach(E.outEdges(D),function(z){A[z.w]=(A[z.w]||0)+E.edge(z).weight}),A});return t.zipObject(E.nodes(),C)}function l(E){var C=t.map(E.nodes(),function(D){var A={};return t.forEach(E.inEdges(D),function(z){A[z.v]=(A[z.v]||0)+E.edge(z).weight}),A});return t.zipObject(E.nodes(),C)}function c(E,C){var D=E.x,A=E.y,z=C.x-D,U=C.y-A,L=E.width/2,I=E.height/2;if(!z&&!U)throw new Error("Not possible to find intersection inside of the rectangle");var M,k;return Math.abs(U)*L>Math.abs(z)*I?(U<0&&(I=-I),M=I*z/U,k=I):(z<0&&(L=-L),M=L,k=L*U/z),{x:D+M,y:A+k}}function h(E){var C=t.map(t.range(y(E)+1),function(){return[]});return t.forEach(E.nodes(),function(D){var A=E.node(D),z=A.rank;t.isUndefined(z)||(C[z][A.order]=D)}),C}function d(E){var C=t.min(t.map(E.nodes(),function(D){return E.node(D).rank}));t.forEach(E.nodes(),function(D){var A=E.node(D);t.has(A,"rank")&&(A.rank-=C)})}function m(E){var C=t.min(t.map(E.nodes(),function(U){return E.node(U).rank})),D=[];t.forEach(E.nodes(),function(U){var L=E.node(U).rank-C;D[L]||(D[L]=[]),D[L].push(U)});var A=0,z=E.graph().nodeRankFactor;t.forEach(D,function(U,L){t.isUndefined(U)&&L%z!==0?--A:A&&t.forEach(U,function(I){E.node(I).rank+=A})})}function p(E,C,D,A){var z={width:0,height:0};return arguments.length>=4&&(z.rank=D,z.order=A),n(E,"border",z,C)}function y(E){return t.max(t.map(E.nodes(),function(C){var D=E.node(C).rank;if(!t.isUndefined(D))return D}))}function b(E,C){var D={lhs:[],rhs:[]};return t.forEach(E,function(A){C(A)?D.lhs.push(A):D.rhs.push(A)}),D}function S(E,C){var D=t.now();try{return C()}finally{console.log(E+" time: "+(t.now()-D)+"ms")}}function T(E,C){return C()}return J3}var e5,rI;function Zre(){if(rI)return e5;rI=1;var t=Jt(),e=xr();e5={run:n,undo:i};function n(o){o.graph().dummyChains=[],t.forEach(o.edges(),function(l){r(o,l)})}function r(o,l){var c=l.v,h=o.node(c).rank,d=l.w,m=o.node(d).rank,p=l.name,y=o.edge(l),b=y.labelRank;if(m!==h+1){o.removeEdge(l);var S,T,E;for(E=0,++h;h<m;++E,++h)y.points=[],T={width:0,height:0,edgeLabel:y,edgeObj:l,rank:h},S=e.addDummyNode(o,"edge",T,"_d"),h===b&&(T.width=y.width,T.height=y.height,T.dummy="edge-label",T.labelpos=y.labelpos),o.setEdge(c,S,{weight:y.weight},p),E===0&&o.graph().dummyChains.push(S),c=S;o.setEdge(c,d,{weight:y.weight},p)}}function i(o){t.forEach(o.graph().dummyChains,function(l){var c=o.node(l),h=c.edgeLabel,d;for(o.setEdge(c.edgeObj,h);c.dummy;)d=o.successors(l)[0],o.removeNode(l),h.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),l=d,c=o.node(l)})}return e5}var t5,iI;function pm(){if(iI)return t5;iI=1;var t=Jt();t5={longestPath:e,slack:n};function e(r){var i={};function o(l){var c=r.node(l);if(t.has(i,l))return c.rank;i[l]=!0;var h=t.min(t.map(r.outEdges(l),function(d){return o(d.w)-r.edge(d).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),c.rank=h}t.forEach(r.sources(),o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return t5}var n5,aI;function Lz(){if(aI)return n5;aI=1;var t=Jt(),e=Vi().Graph,n=pm().slack;n5=r;function r(c){var h=new e({directed:!1}),d=c.nodes()[0],m=c.nodeCount();h.setNode(d,{});for(var p,y;i(h,c)<m;)p=o(h,c),y=h.hasNode(p.v)?n(c,p):-n(c,p),l(h,c,y);return h}function i(c,h){function d(m){t.forEach(h.nodeEdges(m),function(p){var y=p.v,b=m===y?p.w:y;!c.hasNode(b)&&!n(h,p)&&(c.setNode(b,{}),c.setEdge(m,b,{}),d(b))})}return t.forEach(c.nodes(),d),c.nodeCount()}function o(c,h){return t.minBy(h.edges(),function(d){if(c.hasNode(d.v)!==c.hasNode(d.w))return n(h,d)})}function l(c,h,d){t.forEach(c.nodes(),function(m){h.node(m).rank+=d})}return n5}var r5,sI;function Wre(){if(sI)return r5;sI=1;var t=Jt(),e=Lz(),n=pm().slack,r=pm().longestPath,i=Vi().alg.preorder,o=Vi().alg.postorder,l=xr().simplify;r5=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=m,c.leaveEdge=b,c.enterEdge=S,c.exchangeEdges=T;function c(A){A=l(A),r(A);var z=e(A);p(z),h(z,A);for(var U,L;U=b(z);)L=S(z,A,U),T(z,A,U,L)}function h(A,z){var U=o(A,A.nodes());U=U.slice(0,U.length-1),t.forEach(U,function(L){d(A,z,L)})}function d(A,z,U){var L=A.node(U),I=L.parent;A.edge(U,I).cutvalue=m(A,z,U)}function m(A,z,U){var L=A.node(U),I=L.parent,M=!0,k=z.edge(U,I),H=0;return k||(M=!1,k=z.edge(I,U)),H=k.weight,t.forEach(z.nodeEdges(U),function(q){var B=q.v===U,P=B?q.w:q.v;if(P!==I){var K=B===M,te=z.edge(q).weight;if(H+=K?te:-te,C(A,U,P)){var $=A.edge(U,P).cutvalue;H+=K?-$:$}}}),H}function p(A,z){arguments.length<2&&(z=A.nodes()[0]),y(A,{},1,z)}function y(A,z,U,L,I){var M=U,k=A.node(L);return z[L]=!0,t.forEach(A.neighbors(L),function(H){t.has(z,H)||(U=y(A,z,U,H,L))}),k.low=M,k.lim=U++,I?k.parent=I:delete k.parent,U}function b(A){return t.find(A.edges(),function(z){return A.edge(z).cutvalue<0})}function S(A,z,U){var L=U.v,I=U.w;z.hasEdge(L,I)||(L=U.w,I=U.v);var M=A.node(L),k=A.node(I),H=M,q=!1;M.lim>k.lim&&(H=k,q=!0);var B=t.filter(z.edges(),function(P){return q===D(A,A.node(P.v),H)&&q!==D(A,A.node(P.w),H)});return t.minBy(B,function(P){return n(z,P)})}function T(A,z,U,L){var I=U.v,M=U.w;A.removeEdge(I,M),A.setEdge(L.v,L.w,{}),p(A),h(A,z),E(A,z)}function E(A,z){var U=t.find(A.nodes(),function(I){return!z.node(I).parent}),L=i(A,U);L=L.slice(1),t.forEach(L,function(I){var M=A.node(I).parent,k=z.edge(I,M),H=!1;k||(k=z.edge(M,I),H=!0),z.node(I).rank=z.node(M).rank+(H?k.minlen:-k.minlen)})}function C(A,z,U){return A.hasEdge(z,U)}function D(A,z,U){return U.low<=z.lim&&z.lim<=U.lim}return r5}var i5,oI;function Jre(){if(oI)return i5;oI=1;var t=pm(),e=t.longestPath,n=Lz(),r=Wre();i5=i;function i(h){switch(h.graph().ranker){case"network-simplex":c(h);break;case"tight-tree":l(h);break;case"longest-path":o(h);break;default:c(h)}}var o=e;function l(h){e(h),n(h)}function c(h){r(h)}return i5}var a5,lI;function eie(){if(lI)return a5;lI=1;var t=Jt();a5=e;function e(i){var o=r(i);t.forEach(i.graph().dummyChains,function(l){for(var c=i.node(l),h=c.edgeObj,d=n(i,o,h.v,h.w),m=d.path,p=d.lca,y=0,b=m[y],S=!0;l!==h.w;){if(c=i.node(l),S){for(;(b=m[y])!==p&&i.node(b).maxRank<c.rank;)y++;b===p&&(S=!1)}if(!S){for(;y<m.length-1&&i.node(b=m[y+1]).minRank<=c.rank;)y++;b=m[y]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,o,l,c){var h=[],d=[],m=Math.min(o[l].low,o[c].low),p=Math.max(o[l].lim,o[c].lim),y,b;y=l;do y=i.parent(y),h.push(y);while(y&&(o[y].low>m||p>o[y].lim));for(b=y,y=c;(y=i.parent(y))!==b;)d.push(y);return{path:h.concat(d.reverse()),lca:b}}function r(i){var o={},l=0;function c(h){var d=l;t.forEach(i.children(h),c),o[h]={low:d,lim:l++}}return t.forEach(i.children(),c),o}return a5}var s5,uI;function tie(){if(uI)return s5;uI=1;var t=Jt(),e=xr();s5={run:n,cleanup:l};function n(c){var h=e.addDummyNode(c,"root",{},"_root"),d=i(c),m=t.max(t.values(d))-1,p=2*m+1;c.graph().nestingRoot=h,t.forEach(c.edges(),function(b){c.edge(b).minlen*=p});var y=o(c)+1;t.forEach(c.children(),function(b){r(c,h,p,y,m,d,b)}),c.graph().nodeRankFactor=p}function r(c,h,d,m,p,y,b){var S=c.children(b);if(!S.length){b!==h&&c.setEdge(h,b,{weight:0,minlen:d});return}var T=e.addBorderNode(c,"_bt"),E=e.addBorderNode(c,"_bb"),C=c.node(b);c.setParent(T,b),C.borderTop=T,c.setParent(E,b),C.borderBottom=E,t.forEach(S,function(D){r(c,h,d,m,p,y,D);var A=c.node(D),z=A.borderTop?A.borderTop:D,U=A.borderBottom?A.borderBottom:D,L=A.borderTop?m:2*m,I=z!==U?1:p-y[b]+1;c.setEdge(T,z,{weight:L,minlen:I,nestingEdge:!0}),c.setEdge(U,E,{weight:L,minlen:I,nestingEdge:!0})}),c.parent(b)||c.setEdge(h,T,{weight:0,minlen:p+y[b]})}function i(c){var h={};function d(m,p){var y=c.children(m);y&&y.length&&t.forEach(y,function(b){d(b,p+1)}),h[m]=p}return t.forEach(c.children(),function(m){d(m,1)}),h}function o(c){return t.reduce(c.edges(),function(h,d){return h+c.edge(d).weight},0)}function l(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,t.forEach(c.edges(),function(d){var m=c.edge(d);m.nestingEdge&&c.removeEdge(d)})}return s5}var o5,cI;function nie(){if(cI)return o5;cI=1;var t=Jt(),e=xr();o5=n;function n(i){function o(l){var c=i.children(l),h=i.node(l);if(c.length&&t.forEach(c,o),t.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var d=h.minRank,m=h.maxRank+1;d<m;++d)r(i,"borderLeft","_bl",l,h,d),r(i,"borderRight","_br",l,h,d)}}t.forEach(i.children(),o)}function r(i,o,l,c,h,d){var m={width:0,height:0,rank:d,borderType:o},p=h[o][d-1],y=e.addDummyNode(i,"border",m,l);h[o][d]=y,i.setParent(y,c),p&&i.setEdge(p,y,{weight:1})}return o5}var l5,hI;function rie(){if(hI)return l5;hI=1;var t=Jt();l5={adjust:e,undo:n};function e(d){var m=d.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&r(d)}function n(d){var m=d.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&o(d),(m==="lr"||m==="rl")&&(c(d),r(d))}function r(d){t.forEach(d.nodes(),function(m){i(d.node(m))}),t.forEach(d.edges(),function(m){i(d.edge(m))})}function i(d){var m=d.width;d.width=d.height,d.height=m}function o(d){t.forEach(d.nodes(),function(m){l(d.node(m))}),t.forEach(d.edges(),function(m){var p=d.edge(m);t.forEach(p.points,l),t.has(p,"y")&&l(p)})}function l(d){d.y=-d.y}function c(d){t.forEach(d.nodes(),function(m){h(d.node(m))}),t.forEach(d.edges(),function(m){var p=d.edge(m);t.forEach(p.points,h),t.has(p,"x")&&h(p)})}function h(d){var m=d.x;d.x=d.y,d.y=m}return l5}var u5,fI;function iie(){if(fI)return u5;fI=1;var t=Jt();u5=e;function e(n){var r={},i=t.filter(n.nodes(),function(d){return!n.children(d).length}),o=t.max(t.map(i,function(d){return n.node(d).rank})),l=t.map(t.range(o+1),function(){return[]});function c(d){if(!t.has(r,d)){r[d]=!0;var m=n.node(d);l[m.rank].push(d),t.forEach(n.successors(d),c)}}var h=t.sortBy(i,function(d){return n.node(d).rank});return t.forEach(h,c),l}return u5}var c5,dI;function aie(){if(dI)return c5;dI=1;var t=Jt();c5=e;function e(r,i){for(var o=0,l=1;l<i.length;++l)o+=n(r,i[l-1],i[l]);return o}function n(r,i,o){for(var l=t.zipObject(o,t.map(o,function(y,b){return b})),c=t.flatten(t.map(i,function(y){return t.sortBy(t.map(r.outEdges(y),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),h=1;h<o.length;)h<<=1;var d=2*h-1;h-=1;var m=t.map(new Array(d),function(){return 0}),p=0;return t.forEach(c.forEach(function(y){var b=y.pos+h;m[b]+=y.weight;for(var S=0;b>0;)b%2&&(S+=m[b+1]),b=b-1>>1,m[b]+=y.weight;p+=y.weight*S})),p}return c5}var h5,mI;function sie(){if(mI)return h5;mI=1;var t=Jt();h5=e;function e(n,r){return t.map(r,function(i){var o=n.inEdges(i);if(o.length){var l=t.reduce(o,function(c,h){var d=n.edge(h),m=n.node(h.v);return{sum:c.sum+d.weight*m.order,weight:c.weight+d.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return h5}var f5,pI;function oie(){if(pI)return f5;pI=1;var t=Jt();f5=e;function e(i,o){var l={};t.forEach(i,function(h,d){var m=l[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:d};t.isUndefined(h.barycenter)||(m.barycenter=h.barycenter,m.weight=h.weight)}),t.forEach(o.edges(),function(h){var d=l[h.v],m=l[h.w];!t.isUndefined(d)&&!t.isUndefined(m)&&(m.indegree++,d.out.push(l[h.w]))});var c=t.filter(l,function(h){return!h.indegree});return n(c)}function n(i){var o=[];function l(d){return function(m){m.merged||(t.isUndefined(m.barycenter)||t.isUndefined(d.barycenter)||m.barycenter>=d.barycenter)&&r(d,m)}}function c(d){return function(m){m.in.push(d),--m.indegree===0&&i.push(m)}}for(;i.length;){var h=i.pop();o.push(h),t.forEach(h.in.reverse(),l(h)),t.forEach(h.out,c(h))}return t.map(t.filter(o,function(d){return!d.merged}),function(d){return t.pick(d,["vs","i","barycenter","weight"])})}function r(i,o){var l=0,c=0;i.weight&&(l+=i.barycenter*i.weight,c+=i.weight),o.weight&&(l+=o.barycenter*o.weight,c+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=l/c,i.weight=c,i.i=Math.min(o.i,i.i),o.merged=!0}return f5}var d5,gI;function lie(){if(gI)return d5;gI=1;var t=Jt(),e=xr();d5=n;function n(o,l){var c=e.partition(o,function(T){return t.has(T,"barycenter")}),h=c.lhs,d=t.sortBy(c.rhs,function(T){return-T.i}),m=[],p=0,y=0,b=0;h.sort(i(!!l)),b=r(m,d,b),t.forEach(h,function(T){b+=T.vs.length,m.push(T.vs),p+=T.barycenter*T.weight,y+=T.weight,b=r(m,d,b)});var S={vs:t.flatten(m,!0)};return y&&(S.barycenter=p/y,S.weight=y),S}function r(o,l,c){for(var h;l.length&&(h=t.last(l)).i<=c;)l.pop(),o.push(h.vs),c++;return c}function i(o){return function(l,c){return l.barycenter<c.barycenter?-1:l.barycenter>c.barycenter?1:o?c.i-l.i:l.i-c.i}}return d5}var m5,vI;function uie(){if(vI)return m5;vI=1;var t=Jt(),e=sie(),n=oie(),r=lie();m5=i;function i(c,h,d,m){var p=c.children(h),y=c.node(h),b=y?y.borderLeft:void 0,S=y?y.borderRight:void 0,T={};b&&(p=t.filter(p,function(U){return U!==b&&U!==S}));var E=e(c,p);t.forEach(E,function(U){if(c.children(U.v).length){var L=i(c,U.v,d,m);T[U.v]=L,t.has(L,"barycenter")&&l(U,L)}});var C=n(E,d);o(C,T);var D=r(C,m);if(b&&(D.vs=t.flatten([b,D.vs,S],!0),c.predecessors(b).length)){var A=c.node(c.predecessors(b)[0]),z=c.node(c.predecessors(S)[0]);t.has(D,"barycenter")||(D.barycenter=0,D.weight=0),D.barycenter=(D.barycenter*D.weight+A.order+z.order)/(D.weight+2),D.weight+=2}return D}function o(c,h){t.forEach(c,function(d){d.vs=t.flatten(d.vs.map(function(m){return h[m]?h[m].vs:m}),!0)})}function l(c,h){t.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}return m5}var p5,yI;function cie(){if(yI)return p5;yI=1;var t=Jt(),e=Vi().Graph;p5=n;function n(i,o,l){var c=r(i),h=new e({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(d){return i.node(d)});return t.forEach(i.nodes(),function(d){var m=i.node(d),p=i.parent(d);(m.rank===o||m.minRank<=o&&o<=m.maxRank)&&(h.setNode(d),h.setParent(d,p||c),t.forEach(i[l](d),function(y){var b=y.v===d?y.w:y.v,S=h.edge(b,d),T=t.isUndefined(S)?0:S.weight;h.setEdge(b,d,{weight:i.edge(y).weight+T})}),t.has(m,"minRank")&&h.setNode(d,{borderLeft:m.borderLeft[o],borderRight:m.borderRight[o]}))}),h}function r(i){for(var o;i.hasNode(o=t.uniqueId("_root")););return o}return p5}var g5,_I;function hie(){if(_I)return g5;_I=1;var t=Jt();g5=e;function e(n,r,i){var o={},l;t.forEach(i,function(c){for(var h=n.parent(c),d,m;h;){if(d=n.parent(h),d?(m=o[d],o[d]=h):(m=l,l=h),m&&m!==h){r.setEdge(m,h);return}h=d}})}return g5}var v5,bI;function fie(){if(bI)return v5;bI=1;var t=Jt(),e=iie(),n=aie(),r=uie(),i=cie(),o=hie(),l=Vi().Graph,c=xr();v5=h;function h(y){var b=c.maxRank(y),S=d(y,t.range(1,b+1),"inEdges"),T=d(y,t.range(b-1,-1,-1),"outEdges"),E=e(y);p(y,E);for(var C=Number.POSITIVE_INFINITY,D,A=0,z=0;z<4;++A,++z){m(A%2?S:T,A%4>=2),E=c.buildLayerMatrix(y);var U=n(y,E);U<C&&(z=0,D=t.cloneDeep(E),C=U)}p(y,D)}function d(y,b,S){return t.map(b,function(T){return i(y,T,S)})}function m(y,b){var S=new l;t.forEach(y,function(T){var E=T.graph().root,C=r(T,E,S,b);t.forEach(C.vs,function(D,A){T.node(D).order=A}),o(T,S,C.vs)})}function p(y,b){t.forEach(b,function(S){t.forEach(S,function(T,E){y.node(T).order=E})})}return v5}var y5,wI;function die(){if(wI)return y5;wI=1;var t=Jt(),e=Vi().Graph,n=xr();y5={positionX:S,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:c,verticalAlignment:h,horizontalCompaction:d,alignCoordinates:y,findSmallestWidthAlignment:p,balance:b};function r(C,D){var A={};function z(U,L){var I=0,M=0,k=U.length,H=t.last(L);return t.forEach(L,function(q,B){var P=o(C,q),K=P?C.node(P).order:k;(P||q===H)&&(t.forEach(L.slice(M,B+1),function(te){t.forEach(C.predecessors(te),function($){var W=C.node($),re=W.order;(re<I||K<re)&&!(W.dummy&&C.node(te).dummy)&&l(A,$,te)})}),M=B+1,I=K)}),L}return t.reduce(D,z),A}function i(C,D){var A={};function z(L,I,M,k,H){var q;t.forEach(t.range(I,M),function(B){q=L[B],C.node(q).dummy&&t.forEach(C.predecessors(q),function(P){var K=C.node(P);K.dummy&&(K.order<k||K.order>H)&&l(A,P,q)})})}function U(L,I){var M=-1,k,H=0;return t.forEach(I,function(q,B){if(C.node(q).dummy==="border"){var P=C.predecessors(q);P.length&&(k=C.node(P[0]).order,z(I,H,B,M,k),H=B,M=k)}z(I,H,I.length,k,L.length)}),I}return t.reduce(D,U),A}function o(C,D){if(C.node(D).dummy)return t.find(C.predecessors(D),function(A){return C.node(A).dummy})}function l(C,D,A){if(D>A){var z=D;D=A,A=z}var U=C[D];U||(C[D]=U={}),U[A]=!0}function c(C,D,A){if(D>A){var z=D;D=A,A=z}return t.has(C[D],A)}function h(C,D,A,z){var U={},L={},I={};return t.forEach(D,function(M){t.forEach(M,function(k,H){U[k]=k,L[k]=k,I[k]=H})}),t.forEach(D,function(M){var k=-1;t.forEach(M,function(H){var q=z(H);if(q.length){q=t.sortBy(q,function($){return I[$]});for(var B=(q.length-1)/2,P=Math.floor(B),K=Math.ceil(B);P<=K;++P){var te=q[P];L[H]===H&&k<I[te]&&!c(A,H,te)&&(L[te]=H,L[H]=U[H]=U[te],k=I[te])}}})}),{root:U,align:L}}function d(C,D,A,z,U){var L={},I=m(C,D,A,U),M=U?"borderLeft":"borderRight";function k(B,P){for(var K=I.nodes(),te=K.pop(),$={};te;)$[te]?B(te):($[te]=!0,K.push(te),K=K.concat(P(te))),te=K.pop()}function H(B){L[B]=I.inEdges(B).reduce(function(P,K){return Math.max(P,L[K.v]+I.edge(K))},0)}function q(B){var P=I.outEdges(B).reduce(function(te,$){return Math.min(te,L[$.w]-I.edge($))},Number.POSITIVE_INFINITY),K=C.node(B);P!==Number.POSITIVE_INFINITY&&K.borderType!==M&&(L[B]=Math.max(L[B],P))}return k(H,I.predecessors.bind(I)),k(q,I.successors.bind(I)),t.forEach(z,function(B){L[B]=L[A[B]]}),L}function m(C,D,A,z){var U=new e,L=C.graph(),I=T(L.nodesep,L.edgesep,z);return t.forEach(D,function(M){var k;t.forEach(M,function(H){var q=A[H];if(U.setNode(q),k){var B=A[k],P=U.edge(B,q);U.setEdge(B,q,Math.max(I(C,H,k),P||0))}k=H})}),U}function p(C,D){return t.minBy(t.values(D),function(A){var z=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY;return t.forIn(A,function(L,I){var M=E(C,I)/2;z=Math.max(L+M,z),U=Math.min(L-M,U)}),z-U})}function y(C,D){var A=t.values(D),z=t.min(A),U=t.max(A);t.forEach(["u","d"],function(L){t.forEach(["l","r"],function(I){var M=L+I,k=C[M],H;if(k!==D){var q=t.values(k);H=I==="l"?z-t.min(q):U-t.max(q),H&&(C[M]=t.mapValues(k,function(B){return B+H}))}})})}function b(C,D){return t.mapValues(C.ul,function(A,z){if(D)return C[D.toLowerCase()][z];var U=t.sortBy(t.map(C,z));return(U[1]+U[2])/2})}function S(C){var D=n.buildLayerMatrix(C),A=t.merge(r(C,D),i(C,D)),z={},U;t.forEach(["u","d"],function(I){U=I==="u"?D:t.values(D).reverse(),t.forEach(["l","r"],function(M){M==="r"&&(U=t.map(U,function(B){return t.values(B).reverse()}));var k=(I==="u"?C.predecessors:C.successors).bind(C),H=h(C,U,A,k),q=d(C,U,H.root,H.align,M==="r");M==="r"&&(q=t.mapValues(q,function(B){return-B})),z[I+M]=q})});var L=p(C,z);return y(z,L),b(z,C.graph().align)}function T(C,D,A){return function(z,U,L){var I=z.node(U),M=z.node(L),k=0,H;if(k+=I.width/2,t.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":H=-I.width/2;break;case"r":H=I.width/2;break}if(H&&(k+=A?H:-H),H=0,k+=(I.dummy?D:C)/2,k+=(M.dummy?D:C)/2,k+=M.width/2,t.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":H=M.width/2;break;case"r":H=-M.width/2;break}return H&&(k+=A?H:-H),H=0,k}}function E(C,D){return C.node(D).width}return y5}var _5,SI;function mie(){if(SI)return _5;SI=1;var t=Jt(),e=xr(),n=die().positionX;_5=r;function r(o){o=e.asNonCompoundGraph(o),i(o),t.forEach(n(o),function(l,c){o.node(c).x=l})}function i(o){var l=e.buildLayerMatrix(o),c=o.graph().ranksep,h=0;t.forEach(l,function(d){var m=t.max(t.map(d,function(p){return o.node(p).height}));t.forEach(d,function(p){o.node(p).y=h+m/2}),h+=m+c})}return _5}var b5,xI;function pie(){if(xI)return b5;xI=1;var t=Jt(),e=Qre(),n=Zre(),r=Jre(),i=xr().normalizeRanks,o=eie(),l=xr().removeEmptyRanks,c=tie(),h=nie(),d=rie(),m=fie(),p=mie(),y=xr(),b=Vi().Graph;b5=S;function S(Q,ie){var ue=ie&&ie.debugTiming?y.time:y.notime;ue("layout",function(){var ge=ue("  buildLayoutGraph",function(){return k(Q)});ue("  runLayout",function(){T(ge,ue)}),ue("  updateInputGraph",function(){E(Q,ge)})})}function T(Q,ie){ie("    makeSpaceForEdgeLabels",function(){H(Q)}),ie("    removeSelfEdges",function(){oe(Q)}),ie("    acyclic",function(){e.run(Q)}),ie("    nestingGraph.run",function(){c.run(Q)}),ie("    rank",function(){r(y.asNonCompoundGraph(Q))}),ie("    injectEdgeLabelProxies",function(){q(Q)}),ie("    removeEmptyRanks",function(){l(Q)}),ie("    nestingGraph.cleanup",function(){c.cleanup(Q)}),ie("    normalizeRanks",function(){i(Q)}),ie("    assignRankMinMax",function(){B(Q)}),ie("    removeEdgeLabelProxies",function(){P(Q)}),ie("    normalize.run",function(){n.run(Q)}),ie("    parentDummyChains",function(){o(Q)}),ie("    addBorderSegments",function(){h(Q)}),ie("    order",function(){m(Q)}),ie("    insertSelfEdges",function(){ye(Q)}),ie("    adjustCoordinateSystem",function(){d.adjust(Q)}),ie("    position",function(){p(Q)}),ie("    positionSelfEdges",function(){Y(Q)}),ie("    removeBorderNodes",function(){re(Q)}),ie("    normalize.undo",function(){n.undo(Q)}),ie("    fixupEdgeLabelCoords",function(){$(Q)}),ie("    undoCoordinateSystem",function(){d.undo(Q)}),ie("    translateGraph",function(){K(Q)}),ie("    assignNodeIntersects",function(){te(Q)}),ie("    reversePoints",function(){W(Q)}),ie("    acyclic.undo",function(){e.undo(Q)})}function E(Q,ie){t.forEach(Q.nodes(),function(ue){var ge=Q.node(ue),be=ie.node(ue);ge&&(ge.x=be.x,ge.y=be.y,ie.children(ue).length&&(ge.width=be.width,ge.height=be.height))}),t.forEach(Q.edges(),function(ue){var ge=Q.edge(ue),be=ie.edge(ue);ge.points=be.points,t.has(be,"x")&&(ge.x=be.x,ge.y=be.y)}),Q.graph().width=ie.graph().width,Q.graph().height=ie.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],D={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],z=["width","height"],U={width:0,height:0},L=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function k(Q){var ie=new b({multigraph:!0,compound:!0}),ue=pe(Q.graph());return ie.setGraph(t.merge({},D,ee(ue,C),t.pick(ue,A))),t.forEach(Q.nodes(),function(ge){var be=pe(Q.node(ge));ie.setNode(ge,t.defaults(ee(be,z),U)),ie.setParent(ge,Q.parent(ge))}),t.forEach(Q.edges(),function(ge){var be=pe(Q.edge(ge));ie.setEdge(ge,t.merge({},I,ee(be,L),t.pick(be,M)))}),ie}function H(Q){var ie=Q.graph();ie.ranksep/=2,t.forEach(Q.edges(),function(ue){var ge=Q.edge(ue);ge.minlen*=2,ge.labelpos.toLowerCase()!=="c"&&(ie.rankdir==="TB"||ie.rankdir==="BT"?ge.width+=ge.labeloffset:ge.height+=ge.labeloffset)})}function q(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie);if(ue.width&&ue.height){var ge=Q.node(ie.v),be=Q.node(ie.w),Ce={rank:(be.rank-ge.rank)/2+ge.rank,e:ie};y.addDummyNode(Q,"edge-proxy",Ce,"_ep")}})}function B(Q){var ie=0;t.forEach(Q.nodes(),function(ue){var ge=Q.node(ue);ge.borderTop&&(ge.minRank=Q.node(ge.borderTop).rank,ge.maxRank=Q.node(ge.borderBottom).rank,ie=t.max(ie,ge.maxRank))}),Q.graph().maxRank=ie}function P(Q){t.forEach(Q.nodes(),function(ie){var ue=Q.node(ie);ue.dummy==="edge-proxy"&&(Q.edge(ue.e).labelRank=ue.rank,Q.removeNode(ie))})}function K(Q){var ie=Number.POSITIVE_INFINITY,ue=0,ge=Number.POSITIVE_INFINITY,be=0,Ce=Q.graph(),ze=Ce.marginx||0,He=Ce.marginy||0;function je(Pe){var Ge=Pe.x,Be=Pe.y,rt=Pe.width,$e=Pe.height;ie=Math.min(ie,Ge-rt/2),ue=Math.max(ue,Ge+rt/2),ge=Math.min(ge,Be-$e/2),be=Math.max(be,Be+$e/2)}t.forEach(Q.nodes(),function(Pe){je(Q.node(Pe))}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.has(Ge,"x")&&je(Ge)}),ie-=ze,ge-=He,t.forEach(Q.nodes(),function(Pe){var Ge=Q.node(Pe);Ge.x-=ie,Ge.y-=ge}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.forEach(Ge.points,function(Be){Be.x-=ie,Be.y-=ge}),t.has(Ge,"x")&&(Ge.x-=ie),t.has(Ge,"y")&&(Ge.y-=ge)}),Ce.width=ue-ie+ze,Ce.height=be-ge+He}function te(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie),ge=Q.node(ie.v),be=Q.node(ie.w),Ce,ze;ue.points?(Ce=ue.points[0],ze=ue.points[ue.points.length-1]):(ue.points=[],Ce=be,ze=ge),ue.points.unshift(y.intersectRect(ge,Ce)),ue.points.push(y.intersectRect(be,ze))})}function $(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie);if(t.has(ue,"x"))switch((ue.labelpos==="l"||ue.labelpos==="r")&&(ue.width-=ue.labeloffset),ue.labelpos){case"l":ue.x-=ue.width/2+ue.labeloffset;break;case"r":ue.x+=ue.width/2+ue.labeloffset;break}})}function W(Q){t.forEach(Q.edges(),function(ie){var ue=Q.edge(ie);ue.reversed&&ue.points.reverse()})}function re(Q){t.forEach(Q.nodes(),function(ie){if(Q.children(ie).length){var ue=Q.node(ie),ge=Q.node(ue.borderTop),be=Q.node(ue.borderBottom),Ce=Q.node(t.last(ue.borderLeft)),ze=Q.node(t.last(ue.borderRight));ue.width=Math.abs(ze.x-Ce.x),ue.height=Math.abs(be.y-ge.y),ue.x=Ce.x+ue.width/2,ue.y=ge.y+ue.height/2}}),t.forEach(Q.nodes(),function(ie){Q.node(ie).dummy==="border"&&Q.removeNode(ie)})}function oe(Q){t.forEach(Q.edges(),function(ie){if(ie.v===ie.w){var ue=Q.node(ie.v);ue.selfEdges||(ue.selfEdges=[]),ue.selfEdges.push({e:ie,label:Q.edge(ie)}),Q.removeEdge(ie)}})}function ye(Q){var ie=y.buildLayerMatrix(Q);t.forEach(ie,function(ue){var ge=0;t.forEach(ue,function(be,Ce){var ze=Q.node(be);ze.order=Ce+ge,t.forEach(ze.selfEdges,function(He){y.addDummyNode(Q,"selfedge",{width:He.label.width,height:He.label.height,rank:ze.rank,order:Ce+ ++ge,e:He.e,label:He.label},"_se")}),delete ze.selfEdges})})}function Y(Q){t.forEach(Q.nodes(),function(ie){var ue=Q.node(ie);if(ue.dummy==="selfedge"){var ge=Q.node(ue.e.v),be=ge.x+ge.width/2,Ce=ge.y,ze=ue.x-be,He=ge.height/2;Q.setEdge(ue.e,ue.label),Q.removeNode(ie),ue.label.points=[{x:be+2*ze/3,y:Ce-He},{x:be+5*ze/6,y:Ce-He},{x:be+ze,y:Ce},{x:be+5*ze/6,y:Ce+He},{x:be+2*ze/3,y:Ce+He}],ue.label.x=ue.x,ue.label.y=ue.y}})}function ee(Q,ie){return t.mapValues(t.pick(Q,ie),Number)}function pe(Q){var ie={};return t.forEach(Q,function(ue,ge){ie[ge.toLowerCase()]=ue}),ie}return b5}var w5,EI;function gie(){if(EI)return w5;EI=1;var t=Jt(),e=xr(),n=Vi().Graph;w5={debugOrdering:r};function r(i){var o=e.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(c){l.setNode(c,{label:c}),l.setParent(c,"layer"+i.node(c).rank)}),t.forEach(i.edges(),function(c){l.setEdge(c.v,c.w,{},c.name)}),t.forEach(o,function(c,h){var d="layer"+h;l.setNode(d,{rank:"same"}),t.reduce(c,function(m,p){return l.setEdge(m,p,{style:"invis"}),p})}),l}return w5}var S5,TI;function vie(){return TI||(TI=1,S5="0.8.5"),S5}var x5,AI;function yie(){return AI||(AI=1,x5={graphlib:Vi(),layout:pie(),debug:gie(),util:{time:xr().time,notime:xr().notime},version:vie()}),x5}var _ie=yie();const CI=gm(_ie),bie=(t,e)=>({id:`e-${t}-${e}`,source:t,target:e,type:"smoothstep",markerEnd:{type:B0.ArrowClosed},style:{stroke:N7.parentLine}}),wie=(t,e)=>({id:`dup-${t}-${e}`,source:t,target:e,type:"straight",animated:!0,style:{stroke:N7.duplicateLine,strokeDasharray:5},label:"Duplicate"}),E5=300,T5=120,Sie=(t,e)=>{const n=new CI.graphlib.Graph;n.setGraph({rankdir:"TB",nodesep:50,ranksep:80}),n.setDefaultEdgeLabel(()=>({}));const r=[],i=[];return t.forEach(l=>{const c=l.displayLatex;let h="";if(l.axiomId){const p=e.find(y=>y.id===l.axiomId);p&&(h=`\\\\ \\text{\\small{Axiom: ${p.canonicalName}}} \\\\ {\\tiny ${p.defaultLatex}}`)}const d=`\\begin{matrix} \\text{\\textbf{${c}}} ${h} \\end{matrix}`;n.setNode(l.id,{width:E5,height:T5});const m={...l,displayLatex:d,stats:l.stats||{greenVotes:0,blackVotes:0}};r.push({id:l.id,type:"mathNode",data:m,position:{x:0,y:0},targetPosition:Ye.Top,sourcePosition:Ye.Bottom}),l.parentId&&(i.push(bie(l.parentId,l.id)),n.setEdge(l.parentId,l.id)),l.duplicateOfId&&i.push(wie(l.id,l.duplicateOfId))}),CI.layout(n),{nodes:r.map(l=>{const c=n.node(l.id);return{...l,position:{x:c.x-E5/2,y:c.y-T5/2},style:{width:E5,height:T5}}}),edges:i}},xie=({isOpen:t,onClose:e,onSelect:n,availableAxioms:r})=>{const[i,o]=ce.useState(""),l=ce.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.canonicalName.toLowerCase().includes(c)||h.defaultLatex.toLowerCase().includes(c))},[r,i]);return t?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:De.drawerOverlay,onClick:e}),j.jsxs("div",{className:De.drawer,children:[j.jsxs("div",{className:De.drawerHeader,children:[j.jsx("h3",{children:"Axiom Library"}),j.jsx("button",{className:De.closeButton,onClick:e,children:""})]}),j.jsx("div",{className:De.drawerSearch,children:j.jsx("input",{className:De.input,placeholder:"Search axioms (e.g. 'Commutativity' or '\\forall')...",value:i,onChange:c=>o(c.target.value),autoFocus:!0})}),j.jsx("div",{className:De.drawerBody,children:l.length>0?l.map(c=>j.jsxs("div",{className:De.libraryItem,onClick:()=>n(c),title:"Click to select this axiom",children:[j.jsxs("div",{className:De.libraryItemHeader,children:[j.jsx("strong",{children:c.canonicalName}),j.jsxs("span",{className:De.libraryItemTag,children:["ID: ",c.id]})]}),j.jsx("div",{className:De.preview,children:j.jsx(er,{latex:c.defaultLatex})})]},c.id)):j.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No axioms found matching "',i,'"']})})]})]}):null},Eie=({parentName:t,rootEnvironment:e,availableAxioms:n,onClose:r,onSubmit:i})=>{const[o,l]=ce.useState(""),[c,h]=ce.useState(""),[d,m]=ce.useState(`\\forall a, b \\in ${e.sets[0]}...`),[p,y]=ce.useState(!1),[b,S]=ce.useState(null),[T,E]=ce.useState(!1),C=ce.useMemo(()=>{if(!c||b)return[];const L=c.toLowerCase();return n.filter(I=>I.canonicalName.toLowerCase().includes(L)).slice(0,5)},[c,n,b]),D=L=>{h(L.canonicalName),m(L.defaultLatex),S(L.id),E(!1),y(!1)},A=L=>{h(L),E(!0),b&&S(null)},z=()=>{!o||!c||(i({structureName:o,axiomName:c,axiomLatex:d,existingAxiomId:b||void 0}),r())},U=`\\text{Sets: } \\{ ${e.sets.join(", ")} \\} \\quad \\text{Operators: } \\{ ${e.operators.join(", ")} \\}`;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:De.overlay,children:j.jsxs("div",{className:De.container,children:[j.jsxs("div",{className:De.header,children:[j.jsxs("h2",{children:["Extend: ",t]}),j.jsx("button",{className:De.closeButton,onClick:r,children:""})]}),j.jsxs("div",{className:De.body,children:[j.jsxs("p",{className:De.description,children:["Add an axiom to ",j.jsx("strong",{children:t})," to create a new Structure."]}),j.jsxs("div",{className:De.contextBox,children:[j.jsx("div",{className:De.contextLabel,children:"Defined Context (Immutable)"}),j.jsx(er,{latex:U})]}),j.jsxs("div",{className:De.group,style:{position:"relative"},children:[j.jsx("label",{className:De.label,children:"1. Select or Name New Axiom"}),j.jsxs("div",{className:De.inputGroupRow,children:[j.jsx("input",{className:De.input,placeholder:"Type to search (e.g. 'Commutativity')...",value:c,onChange:L=>A(L.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),autoComplete:"off"}),j.jsx("button",{className:De.browseBtn,onClick:()=>y(!0),title:"Browse Axiom Library",children:""})]}),T&&C.length>0&&j.jsx("div",{className:De.suggestionsDropdown,children:C.map(L=>j.jsxs("div",{className:De.suggestionItem,onClick:()=>D(L),children:[j.jsx("strong",{children:L.canonicalName}),j.jsxs("span",{className:De.suggestionDetail,children:["- ",j.jsx(er,{latex:L.defaultLatex})]})]},L.id))})]}),j.jsxs("div",{className:De.group,children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[j.jsx("label",{className:De.label,children:"Axiom Formula (LaTeX)"}),b&&j.jsx("span",{style:{fontSize:"0.75rem",color:"#2e7d32",fontWeight:"bold"},children:" Linked to Library"})]}),j.jsx("input",{className:b?De.inputLocked:De.input,value:d,onChange:L=>!b&&m(L.target.value),readOnly:!!b,title:b?"This formula is locked because it is linked to a library axiom.":""}),j.jsx("div",{className:De.preview,children:j.jsx(er,{latex:d||"Preview..."})})]}),j.jsx("hr",{className:De.separator}),j.jsxs("div",{className:De.group,children:[j.jsx("label",{className:De.label,children:"2. Resulting Structure Name"}),j.jsx("input",{className:De.input,placeholder:"e.g. Abelian Group",value:o,onChange:L=>l(L.target.value)})]})]}),j.jsxs("div",{className:De.footer,children:[j.jsx("button",{className:De.cancelBtn,onClick:r,children:"Cancel"}),j.jsx("button",{className:De.submitBtn,onClick:z,children:"Create Structure"})]})]})}),j.jsx(xie,{isOpen:p,onClose:()=>y(!1),onSelect:D,availableAxioms:n})]})},Tie="_explorerRoot_rof8f_3",Aie="_extendBtnContainer_rof8f_11",Cie="_extendBtn_rof8f_11",Rie="_plusIcon_rof8f_46",Iie="_backBtnContainer_rof8f_53",Nie="_backBtn_rof8f_53",Tu={explorerRoot:Tie,extendBtnContainer:Aie,extendBtn:Cie,plusIcon:Rie,backBtnContainer:Iie,backBtn:Nie},Mie=({universeId:t,onExit:e})=>{const{user:n}=t1(),[r,i]=ce.useState([]),[o,l]=ce.useState([]),[c,h]=ce.useState([]),[d,m]=ce.useState(null);ce.useEffect(()=>{const te=sl(Wi,"environments",t),$=ad(te,Y=>{Y.exists()&&m(Y.data())}),W=xK(Ug(Wi,"nodes"),EK("rootContextId","==",t)),re=ad(W,Y=>{const ee=Y.docs.map(pe=>pe.data());i(ee)}),oe=ad(Ug(Wi,"axioms"),Y=>{const ee=Y.docs.map(pe=>pe.data());l(ee)}),ye=ad(Ug(Wi,"theorems"),Y=>{const ee=Y.docs.map(pe=>pe.data());h(ee)});return()=>{$(),re(),oe(),ye()}},[t]);const{nodes:p,edges:y}=ce.useMemo(()=>Sie(r,o),[r,o]),[b,S,T]=nF(p),[E,C,D]=rF(y);ce.useEffect(()=>{S(p),C(y)},[p,y,S,C]);const[A,z]=ce.useState(null),[U,L]=ce.useState(!1),I=ce.useMemo(()=>({mathNode:BJ}),[]),M=ce.useMemo(()=>r.find(te=>te.id===A),[A,r]),k=ce.useCallback((te,$)=>{z($.id)},[]),H=ce.useCallback(()=>{z(null)},[]),q=async te=>{if(!A||!M||M.status==="deprecated"||M.status==="deadend")return;const $=Date.now();if(!n){alert("You must be signed in to contribute!");return}const W=n.uid;let re=te.existingAxiomId;if(!re){re=`ax-${$}`;const Y={id:re,canonicalName:te.axiomName,aliases:[],defaultLatex:te.axiomLatex,authorId:W,createdAt:$};try{await Cd(sl(Wi,"axioms",Y.id),Y)}catch(ee){console.error("Error creating axiom:",ee);return}}const ye={id:`struct-${$}`,type:"algebraic structure",parentId:A,axiomId:re,authorId:W,displayLatex:te.structureName,status:"unverified",rootContextId:t,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:$};try{await Cd(sl(Wi,"nodes",ye.id),ye),L(!1)}catch(Y){console.error("Error creating structure:",Y)}},B=async te=>{if(r.some(W=>W.parentId===te)){alert(`CRITICAL ERROR: Cannot delete this node because it has children.

Pruning a parent would orphan the entire branch. Please delete the children first.`);return}if(confirm(` ADMIN WARNING 

Are you sure you want to PERMANENTLY delete this node? This cannot be undone.`))try{await lx(sl(Wi,"nodes",te)),z(null)}catch(W){console.error("Delete failed:",W),alert("Delete failed. Check console for details.")}},P=async te=>{if(confirm(` ADMIN WARNING 

Are you sure you want to PERMANENTLY delete this theorem?`))try{await lx(sl(Wi,"theorems",te))}catch($){console.error("Theorem delete failed:",$),alert("Delete failed.")}},K=async te=>{if(!A)return;if(!n){alert("You must be signed in to contribute!");return}const $=n.uid,W=Date.now(),re={id:`th-${W}`,structureNodeId:A,name:te.name,aliases:[],statementLatex:te.statementLatex,proofLatex:te.proofLatex,authorId:$,createdAt:W,status:"unverified",stats:{greenVotes:0,blackVotes:0}};try{await Cd(sl(Wi,"theorems",re.id),re)}catch(oe){console.error("Error creating theorem:",oe)}};return j.jsxs("div",{className:Tu.explorerRoot,children:[j.jsx("div",{className:Tu.backBtnContainer,children:j.jsx("button",{onClick:e,className:Tu.backBtn,children:" Exit to Lobby"})}),A&&M?.status!=="deprecated"&&M?.status!=="deadend"&&j.jsx("div",{className:Tu.extendBtnContainer,children:j.jsxs("button",{onClick:()=>L(!0),className:Tu.extendBtn,children:[j.jsx("span",{className:Tu.plusIcon,children:"+"})," Extend Structure"]})}),j.jsx(VJ,{nodes:b,edges:E,onNodesChange:T,onEdgesChange:D,onNodeClick:k,onPaneClick:H,nodeTypes:I,title:`\\text{${d?.name||"Universe"}}`}),M&&j.jsx(Jee,{node:M,allNodes:r,allAxioms:o,allTheorems:c,onClose:()=>z(null),onAddTheorem:K,onDelete:B,onDeleteTheorem:P}),U&&M&&d&&j.jsx(Eie,{parentId:M.id,parentName:M.displayLatex,rootEnvironment:d,availableAxioms:o,onClose:()=>L(!1),onSubmit:q})]})},kie="_container_9m5ln_3",Die="_title_9m5ln_13",Oie="_subtitle_9m5ln_21",zie="_grid_9m5ln_30",qie="_card_9m5ln_39",Vie="_cardHeader_9m5ln_59",Lie="_cardTitle_9m5ln_63",Pie="_tagContainer_9m5ln_70",Bie="_tag_9m5ln_70",Uie="_description_9m5ln_86",jie="_enterBtn_9m5ln_93",li={container:kie,title:Die,subtitle:Oie,grid:zie,card:qie,cardHeader:Vie,cardTitle:Lie,tagContainer:Pie,tag:Bie,description:Uie,enterBtn:jie},Hie=[{id:"env-general-algebra",name:"Group Theory",sets:["G"],operators:["\\cdot"]},{id:"env-ring-theory",name:"Ring Theory",sets:["R"],operators:["+","\\cdot"]}],Fie=({onSelectUniverse:t})=>j.jsxs("div",{className:li.container,children:[j.jsx("h1",{className:li.title,children:"Algebraic Structures"}),j.jsx("p",{className:li.subtitle,children:"Select an algebraic context to explore. Each algebraic structure defines its own sets and operators, anchoring the evolution of its structures."}),j.jsx("div",{className:li.grid,children:Hie.map(e=>j.jsxs("div",{className:li.card,onClick:()=>t(e.id),children:[j.jsxs("div",{className:li.cardHeader,children:[j.jsx("h2",{className:li.cardTitle,children:e.name}),j.jsxs("div",{className:li.tagContainer,children:[j.jsxs("span",{className:li.tag,children:["Sets: ",j.jsx(er,{latex:`\\{ ${e.sets.join(", ")} \\}`})]}),j.jsxs("span",{className:li.tag,children:["Ops: ",j.jsx(er,{latex:`\\{ ${e.operators.join(", ")} \\}`})]})]})]}),j.jsxs("div",{className:li.description,children:["Explore the algebraic structures defined over",j.jsxs("strong",{children:[" ",e.sets.length," ",e.sets.length>1?"sets":"set"]})," and",j.jsxs("strong",{children:[" ",e.operators.length," ",e.operators.length>1?"operators":"operator"," "]}),"."]}),j.jsx("button",{className:li.enterBtn,children:"Enter Universe "})]},e.id))})]}),Gie="_loginBtn_1ia85_4",$ie="_container_1ia85_22",Yie="_avatar_1ia85_33",Xie="_userInfo_1ia85_40",Kie="_userName_1ia85_46",Qie="_adminBadge_1ia85_52",Zie="_logoutBtn_1ia85_60",rl={loginBtn:Gie,container:$ie,avatar:Yie,userInfo:Xie,userName:Kie,adminBadge:Qie,logoutBtn:Zie},Wie=()=>{const{user:t,profile:e,login:n,logout:r}=t1();return t?j.jsxs("div",{className:rl.container,children:[t.photoURL&&j.jsx("img",{src:t.photoURL,alt:`${t.displayName}'s avatar`,className:rl.avatar}),j.jsxs("div",{className:rl.userInfo,children:[j.jsx("span",{className:rl.userName,children:t.displayName}),e?.role==="admin"&&j.jsx("span",{className:rl.adminBadge,children:"Administrator"})]}),j.jsx("button",{onClick:r,className:rl.logoutBtn,"aria-label":"Sign out",children:"Sign Out"})]}):j.jsx("button",{onClick:n,className:rl.loginBtn,children:"Sign in with Google"})};function Jie(){const[t,e]=ce.useState(null);return j.jsxs(Wee,{children:[j.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:1e3},children:j.jsx(Wie,{})}),j.jsx("div",{className:"app-container",children:t?j.jsx(Mie,{universeId:t,onExit:()=>e(null)}):j.jsx(Fie,{onSelectUniverse:e})})]})}EV.createRoot(document.getElementById("root")).render(j.jsx(RI.StrictMode,{children:j.jsx(Jie,{})}));
