(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eg={exports:{}},g0={};var K9;function CL(){if(K9)return g0;K9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return g0.Fragment=e,g0.jsx=n,g0.jsxs=n,g0}var Q9;function RL(){return Q9||(Q9=1,Eg.exports=CL()),Eg.exports}var B=RL(),Tg={exports:{}},at={};var Z9;function IL(){if(Z9)return at;Z9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(Y,ee,pe){this.props=Y,this.context=ee,this.refs=E,this.updater=pe||x}C.prototype.isReactComponent={},C.prototype.setState=function(Y,ee){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ee,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function O(){}O.prototype=C.prototype;function A(Y,ee,pe){this.props=Y,this.context=ee,this.refs=E,this.updater=pe||x}var D=A.prototype=new O;D.constructor=A,S(D,C.prototype),D.isPureReactComponent=!0;var j=Array.isArray;function q(){}var I={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function k(Y,ee,pe){var Q=pe.ref;return{$$typeof:t,type:Y,key:ee,ref:Q!==void 0?Q:null,props:pe}}function H(Y,ee){return k(Y.type,ee,Y.props)}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function U(Y){var ee={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(pe){return ee[pe]})}var P=/\/+/g;function K(Y,ee){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):ee.toString(36)}function te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(q,q):(Y.status="pending",Y.then(function(ee){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ee)},function(ee){Y.status==="pending"&&(Y.status="rejected",Y.reason=ee)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function $(Y,ee,pe,Q,ie){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var ge=!1;if(Y===null)ge=!0;else switch(ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Y.$$typeof){case t:case e:ge=!0;break;case m:return ge=Y._init,$(ge(Y._payload),ee,pe,Q,ie)}}if(ge)return ie=ie(Y),ge=Q===""?"."+K(Y,0):Q,j(ie)?(pe="",ge!=null&&(pe=ge.replace(P,"$&/")+"/"),$(ie,ee,pe,"",function(Ve){return Ve})):ie!=null&&(V(ie)&&(ie=H(ie,pe+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(P,"$&/")+"/")+ge)),ee.push(ie)),1;ge=0;var be=Q===""?".":Q+":";if(j(Y))for(var Ce=0;Ce<Y.length;Ce++)Q=Y[Ce],ce=be+K(Q,Ce),ge+=$(Q,ee,pe,ce,ie);else if(Ce=b(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(Q=Y.next()).done;)Q=Q.value,ce=be+K(Q,Ce++),ge+=$(Q,ee,pe,ce,ie);else if(ce==="object"){if(typeof Y.then=="function")return $(te(Y),ee,pe,Q,ie);throw ee=String(Y),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(Y,ee,pe){if(Y==null)return Y;var Q=[],ie=0;return $(Y,Q,"","",function(ce){return ee.call(pe,ce,ie++)}),Q}function re(Y){if(Y._status===-1){var ee=Y._result;ee=ee(),ee.then(function(pe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=pe)},function(pe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=pe)}),Y._status===-1&&(Y._status=0,Y._result=ee)}if(Y._status===1)return Y._result.default;throw Y._result}var oe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ye={map:W,forEach:function(Y,ee,pe){W(Y,function(){ee.apply(this,arguments)},pe)},count:function(Y){var ee=0;return W(Y,function(){ee++}),ee},toArray:function(Y){return W(Y,function(ee){return ee})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return at.Activity=p,at.Children=ye,at.Component=C,at.Fragment=n,at.Profiler=i,at.PureComponent=A,at.StrictMode=r,at.Suspense=h,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,at.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},at.cache=function(Y){return function(){return Y.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(Y,ee,pe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Q=S({},Y.props),ie=Y.key;if(ee!=null)for(ce in ee.key!==void 0&&(ie=""+ee.key),ee)!M.call(ee,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&ee.ref===void 0||(Q[ce]=ee[ce]);var ce=arguments.length-2;if(ce===1)Q.children=pe;else if(1<ce){for(var ge=Array(ce),be=0;be<ce;be++)ge[be]=arguments[be+2];Q.children=ge}return k(Y.type,ie,Q)},at.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},at.createElement=function(Y,ee,pe){var Q,ie={},ce=null;if(ee!=null)for(Q in ee.key!==void 0&&(ce=""+ee.key),ee)M.call(ee,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=ee[Q]);var ge=arguments.length-2;if(ge===1)ie.children=pe;else if(1<ge){for(var be=Array(ge),Ce=0;Ce<ge;Ce++)be[Ce]=arguments[Ce+2];ie.children=be}if(Y&&Y.defaultProps)for(Q in ge=Y.defaultProps,ge)ie[Q]===void 0&&(ie[Q]=ge[Q]);return k(Y,ce,ie)},at.createRef=function(){return{current:null}},at.forwardRef=function(Y){return{$$typeof:c,render:Y}},at.isValidElement=V,at.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},at.memo=function(Y,ee){return{$$typeof:f,type:Y,compare:ee===void 0?null:ee}},at.startTransition=function(Y){var ee=I.T,pe={};I.T=pe;try{var Q=Y(),ie=I.S;ie!==null&&ie(pe,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(q,oe)}catch(ce){oe(ce)}finally{ee!==null&&pe.types!==null&&(ee.types=pe.types),I.T=ee}},at.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},at.use=function(Y){return I.H.use(Y)},at.useActionState=function(Y,ee,pe){return I.H.useActionState(Y,ee,pe)},at.useCallback=function(Y,ee){return I.H.useCallback(Y,ee)},at.useContext=function(Y){return I.H.useContext(Y)},at.useDebugValue=function(){},at.useDeferredValue=function(Y,ee){return I.H.useDeferredValue(Y,ee)},at.useEffect=function(Y,ee){return I.H.useEffect(Y,ee)},at.useEffectEvent=function(Y){return I.H.useEffectEvent(Y)},at.useId=function(){return I.H.useId()},at.useImperativeHandle=function(Y,ee,pe){return I.H.useImperativeHandle(Y,ee,pe)},at.useInsertionEffect=function(Y,ee){return I.H.useInsertionEffect(Y,ee)},at.useLayoutEffect=function(Y,ee){return I.H.useLayoutEffect(Y,ee)},at.useMemo=function(Y,ee){return I.H.useMemo(Y,ee)},at.useOptimistic=function(Y,ee){return I.H.useOptimistic(Y,ee)},at.useReducer=function(Y,ee,pe){return I.H.useReducer(Y,ee,pe)},at.useRef=function(Y){return I.H.useRef(Y)},at.useState=function(Y){return I.H.useState(Y)},at.useSyncExternalStore=function(Y,ee,pe){return I.H.useSyncExternalStore(Y,ee,pe)},at.useTransition=function(){return I.H.useTransition()},at.version="19.2.3",at}var W9;function oh(){return W9||(W9=1,Tg.exports=IL()),Tg.exports}var le=oh();const UI=Tm(le);var Ag={exports:{}},v0={},Cg={exports:{}},Rg={};var J9;function NL(){return J9||(J9=1,(function(t){function e($,W){var re=$.length;$.push(W);e:for(;0<re;){var oe=re-1>>>1,ye=$[oe];if(0<i(ye,W))$[oe]=W,$[re]=ye,re=oe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],re=$.pop();if(re!==W){$[0]=re;e:for(var oe=0,ye=$.length,Y=ye>>>1;oe<Y;){var ee=2*(oe+1)-1,pe=$[ee],Q=ee+1,ie=$[Q];if(0>i(pe,re))Q<ye&&0>i(ie,pe)?($[oe]=ie,$[Q]=re,oe=Q):($[oe]=pe,$[ee]=re,oe=ee);else if(Q<ye&&0>i(ie,re))$[oe]=ie,$[Q]=re,oe=Q;else break e}}return W}function i($,W){var re=$.sortIndex-W.sortIndex;return re!==0?re:$.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,p=null,v=3,b=!1,x=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D($){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=$)r(f),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(f)}}function j($){if(S=!1,D($),!x)if(n(h)!==null)x=!0,q||(q=!0,U());else{var W=n(f);W!==null&&te(j,W.startTime-$)}}var q=!1,I=-1,M=5,k=-1;function H(){return E?!0:!(t.unstable_now()-k<M)}function V(){if(E=!1,q){var $=t.unstable_now();k=$;var W=!0;try{e:{x=!1,S&&(S=!1,O(I),I=-1),b=!0;var re=v;try{t:{for(D($),p=n(h);p!==null&&!(p.expirationTime>$&&H());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,v=p.priorityLevel;var ye=oe(p.expirationTime<=$);if($=t.unstable_now(),typeof ye=="function"){p.callback=ye,D($),W=!0;break t}p===n(h)&&r(h),D($)}else r(h);p=n(h)}if(p!==null)W=!0;else{var Y=n(f);Y!==null&&te(j,Y.startTime-$),W=!1}}break e}finally{p=null,v=re,b=!1}W=void 0}}finally{W?U():q=!1}}}var U;if(typeof A=="function")U=function(){A(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,K=P.port2;P.port1.onmessage=V,U=function(){K.postMessage(null)}}else U=function(){C(V,0)};function te($,W){I=C(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var re=v;v=W;try{return $()}finally{v=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=v;v=$;try{return W()}finally{v=re}},t.unstable_scheduleCallback=function($,W,re){var oe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?oe+re:oe):re=oe,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,$={id:m++,callback:W,priorityLevel:$,startTime:re,expirationTime:ye,sortIndex:-1},re>oe?($.sortIndex=re,e(f,$),n(h)===null&&$===n(f)&&(S?(O(I),I=-1):S=!0,te(j,re-oe))):($.sortIndex=ye,e(h,$),x||b||(x=!0,q||(q=!0,U()))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var W=v;return function(){var re=v;v=W;try{return $.apply(this,arguments)}finally{v=re}}}})(Rg)),Rg}var ew;function ML(){return ew||(ew=1,Cg.exports=NL()),Cg.exports}var Ig={exports:{}},tr={};var tw;function kL(){if(tw)return tr;tw=1;var t=oh();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,m)},tr.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},tr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},tr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},tr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},tr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},tr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},tr.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},tr.requestFormReset=function(h){r.d.r(h)},tr.unstable_batchedUpdates=function(h,f){return h(f)},tr.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},tr.version="19.2.3",tr}var nw;function jI(){if(nw)return Ig.exports;nw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ig.exports=kL(),Ig.exports}var rw;function DL(){if(rw)return v0;rw=1;var t=ML(),e=oh(),n=jI();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,d=s;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return h(y),a;if(_===d)return h(y),s;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=_;else{for(var N=!1,F=y.child;F;){if(F===u){N=!0,u=y,d=_;break}if(F===d){N=!0,d=y,u=_;break}F=F.sibling}if(!N){for(F=_.child;F;){if(F===u){N=!0,u=_,d=y;break}if(F===d){N=!0,d=_,u=y;break}F=F.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var P=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===P?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case q:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case A:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case D:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return s=a.displayName||null,s!==null?s:K(a.type)||"Memo";case M:s=a._payload,a=a._init;try{return K(a(s))}catch{}}return null}var te=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},oe=[],ye=-1;function Y(a){return{current:a}}function ee(a){0>ye||(a.current=oe[ye],oe[ye]=null,ye--)}function pe(a,s){ye++,oe[ye]=a.current,a.current=s}var Q=Y(null),ie=Y(null),ce=Y(null),ge=Y(null);function be(a,s){switch(pe(ce,s),pe(ie,a),pe(Q,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?y9(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=y9(s),a=_9(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(Q),pe(Q,a)}function Ce(){ee(Q),ee(ie),ee(ce)}function Ve(a){a.memoizedState!==null&&pe(ge,a);var s=Q.current,u=_9(s,a.type);s!==u&&(pe(ie,a),pe(Q,u))}function He(a){ie.current===a&&(ee(Q),ee(ie)),ge.current===a&&(ee(ge),f0._currentValue=re)}var je,Pe;function Ge(a){if(je===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);je=s&&s[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+a+Pe}var Be=!1;function it(a,s){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(we){var ve=we}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(we){ve=we}a.call(Te.prototype)}}else{try{throw Error()}catch(we){ve=we}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),N=_[0],F=_[1];if(N&&F){var ne=N.split(`
`),me=F.split(`
`);for(y=d=0;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;for(;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;if(d===ne.length||y===me.length)for(d=ne.length-1,y=me.length-1;1<=d&&0<=y&&ne[d]!==me[y];)y--;for(;1<=d&&0<=y;d--,y--)if(ne[d]!==me[y]){if(d!==1||y!==1)do if(d--,y--,0>y||ne[d]!==me[y]){var xe=`
`+ne[d].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=d&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function $e(a,s){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==s&&s!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return it(a.type,!1);case 11:return it(a.type.render,!1);case 1:return it(a.type,!0);case 31:return Ge("Activity");default:return""}}function Ut(a){try{var s="",u=null;do s+=$e(a,u),u=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var st=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,kn=t.unstable_cancelCallback,qn=t.unstable_shouldYield,Ht=t.unstable_requestPaint,Yt=t.unstable_now,Fn=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,mr=t.unstable_UserBlockingPriority,Pn=t.unstable_NormalPriority,vs=t.unstable_LowPriority,xi=t.unstable_IdlePriority,ys=t.log,xa=t.unstable_setDisableYieldValue,an=null,qt=null;function pr(a){if(typeof ys=="function"&&xa(a),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(an,a)}catch{}}var en=Math.clz32?Math.clz32:Vl,zl=Math.log,_s=Math.LN2;function Vl(a){return a>>>=0,a===0?32:31-(zl(a)/_s|0)|0}var Zr=256,Sa=262144,sn=4194304;function Wr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jr(a,s,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var F=d&134217727;return F!==0?(d=F&~_,d!==0?y=Wr(d):(N&=F,N!==0?y=Wr(N):u||(u=F&~a,u!==0&&(y=Wr(u))))):(F=d&~_,F!==0?y=Wr(F):N!==0?y=Wr(N):u||(u=d&~a,u!==0&&(y=Wr(u)))),y===0?0:s!==0&&s!==y&&(s&_)===0&&(_=y&-y,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:y}function Mr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Ec(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var a=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),a}function ei(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Ea(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Tc(a,s,u,d,y,_){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var F=a.entanglements,ne=a.expirationTimes,me=a.hiddenUpdates;for(u=N&~u;0<u;){var xe=31-en(u),Te=1<<xe;F[xe]=0,ne[xe]=-1;var ve=me[xe];if(ve!==null)for(me[xe]=null,xe=0;xe<ve.length;xe++){var we=ve[xe];we!==null&&(we.lane&=-536870913)}u&=~Te}d!==0&&Ta(a,d,0),_!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~s))}function Ta(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-en(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function No(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var d=31-en(u),y=1<<d;y&s|a[d]&s&&(a[d]|=s),u&=~y}}function Mo(a,s){var u=s&-s;return u=(u&42)!==0?1:Aa(u),(u&(a.suspendedLanes|s))!==0?0:u}function Aa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Si(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ql(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:j9(a.type))}function kr(a,s){var u=W.p;try{return W.p=a,s()}finally{W.p=u}}var Dr=Math.random().toString(36).slice(2),on="__reactFiber$"+Dr,bn="__reactProps$"+Dr,Or="__reactContainer$"+Dr,Ca="__reactEvents$"+Dr,Pl="__reactListeners$"+Dr,Bl="__reactHandles$"+Dr,Ul="__reactResources$"+Dr,ti="__reactMarker$"+Dr;function bs(a){delete a[on],delete a[bn],delete a[Ca],delete a[Pl],delete a[Bl]}function ni(a){var s=a[on];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Or]||u[on]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=A9(a);a!==null;){if(u=a[on])return u;a=A9(a)}return s}a=u,u=a.parentNode}return null}function gr(a){if(a=a[on]||a[Or]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Jn(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function ri(a){var s=a[Ul];return s||(s=a[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ln(a){a[ti]=!0}var ko=new Set,Do={};function ii(a,s){ai(a,s),ai(a+"Capture",s)}function ai(a,s){for(Do[a]=s,a=0;a<s.length;a++)ko.add(s[a])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},zo={};function jl(a){return st.call(zo,a)?!0:st.call(ws,a)?!1:Oo.test(a)?zo[a]=!0:(ws[a]=!0,!1)}function xs(a,s,u){if(jl(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function ar(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function un(a,s,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+d)}}function wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Gi(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vo(a,s,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Et(a){if(!a._valueTracker){var s=Gi(a)?"checked":"value";a._valueTracker=Vo(a,s,""+a[s])}}function Ra(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return a&&(d=Gi(a)?a.checked?"true":"false":a.value),a=d,a!==u?(s.setValue(a),!0):!1}function zr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ia=/[\n"\\]/g;function er(a){return a.replace(Ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $i(a,s,u,d,y,_,N,F){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+wn(s)):a.value!==""+wn(s)&&(a.value=""+wn(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?Lo(a,N,wn(s)):u!=null?Lo(a,N,wn(u)):d!=null&&a.removeAttribute("value"),y==null&&_!=null&&(a.defaultChecked=!!_),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+wn(F):a.removeAttribute("name")}function Hl(a,s,u,d,y,_,N,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Et(a);return}u=u!=null?""+wn(u):"",s=s!=null?""+wn(s):u,F||s===a.value||(a.value=s),a.defaultValue=s}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=F?a.checked:!!d,a.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Et(a)}function Lo(a,s,u){s==="number"&&zr(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ei(a,s,u,d){if(a=a.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=s.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+wn(u),s=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function zh(a,s,u){if(s!=null&&(s=""+wn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+wn(u):""}function Ss(a,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(r(92));if(te(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=wn(s),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),Et(a)}function vr(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var Vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(a,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,u):typeof u!="number"||u===0||Vh.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Cc(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in s)d=s[y],s.hasOwnProperty(y)&&u[y]!==d&&Ac(a,y,d)}else for(var _ in s)s.hasOwnProperty(_)&&Ac(a,_,s[_])}function Fl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(a){return Es.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ti(){}var Rc=null;function si(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ts=null,Yi=null;function qo(a){var s=gr(a);if(s&&(a=s.stateNode)){var u=a[bn]||null;e:switch(a=s.stateNode,s.type){case"input":if($i(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+er(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==a&&d.form===a.form){var y=d[bn]||null;if(!y)throw Error(r(90));$i(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===a.form&&Ra(d)}break e;case"textarea":zh(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ei(a,!!u.multiple,s,!1)}}}var $l=!1;function As(a,s,u){if($l)return a(s,u);$l=!0;try{var d=a(s);return d}finally{if($l=!1,(Ts!==null||Yi!==null)&&(Mf(),Ts&&(s=Ts,a=Yi,Yi=Ts=null,qo(s),a)))for(s=0;s<a.length;s++)qo(a[s])}}function Ai(a,s){var u=a.stateNode;if(u===null)return null;var d=u[bn]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=!1;if(oi)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Po=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Po=!1}var Xi=null,Ic=null,Bo=null;function Nc(){if(Bo)return Bo;var a,s=Ic,u=s.length,d,y="value"in Xi?Xi.value:Xi.textContent,_=y.length;for(a=0;a<u&&s[a]===y[a];a++);var N=u-a;for(d=1;d<=N&&s[u-d]===y[_-d];d++);return Bo=y.slice(a,1<d?1-d:void 0)}function Uo(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Na(){return!0}function Ci(){return!1}function Gn(a){function s(u,d,y,_,N){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(u=a[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Na:Ci,this.isPropagationStopped=Ci,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),s}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Gn(Ma),Cs=p({},Ma,{view:0,detail:0}),Mc=Gn(Cs),Rs,Yl,Qi,Xl=p({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qi&&(Qi&&a.type==="mousemove"?(Rs=a.screenX-Qi.screenX,Yl=a.screenY-Qi.screenY):Yl=Rs=0,Qi=a),Rs)},movementY:function(a){return"movementY"in a?a.movementY:Yl}}),kc=Gn(Xl),jo=p({},Xl,{dataTransfer:0}),qh=Gn(jo),Ph=p({},Cs,{relatedTarget:0}),Ho=Gn(Ph),Dc=p({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=Gn(Dc),Kl=p({},Ma,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Uh=Gn(Kl),jh=p({},Ma,{data:0}),Zi=Gn(jh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $h(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Gh[a])?!!s[a]:!1}function Is(){return $h}var sr=p({},Cs,{key:function(a){if(a.key){var s=Hh[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Uo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Fh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(a){return a.type==="keypress"?Uo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Uo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Yh=Gn(sr),Xh=p({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ka=Gn(Xh),g=p({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),T=Gn(g),z=p({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Gn(z),he=p({},Xl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_e=Gn(he),Me=p({},Ma,{newState:0,oldState:0}),ot=Gn(Me),mn=[9,13,27,32],Rt=oi&&"CompositionEvent"in window,Xt=null;oi&&"documentMode"in document&&(Xt=document.documentMode);var li=oi&&"TextEvent"in window&&!Xt,Wi=oi&&(!Rt||Xt&&8<Xt&&11>=Xt),Ri=" ",Ii=!1;function Fo(a,s){switch(a){case"keyup":return mn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Zl=!1;function Zz(a,s){switch(a){case"compositionend":return Ql(s);case"keypress":return s.which!==32?null:(Ii=!0,Ri);case"textInput":return a=s.data,a===Ri&&Ii?null:a;default:return null}}function Wz(a,s){if(Zl)return a==="compositionend"||!Rt&&Fo(a,s)?(a=Nc(),Bo=Ic=Xi=null,Zl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wi&&s.locale!=="ko"?null:s.data;default:return null}}var Jz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Jz[a.type]:s==="textarea"}function N_(a,s,u,d){Ts?Yi?Yi.push(d):Yi=[d]:Ts=d,s=qf(s,"onChange"),0<s.length&&(u=new Ki("onChange","change",null,u,d),a.push({event:u,listeners:s}))}var Oc=null,zc=null;function eV(a){f9(a,0)}function Kh(a){var s=Jn(a);if(Ra(s))return a}function M_(a,s){if(a==="change")return s}var k_=!1;if(oi){var M1;if(oi){var k1="oninput"in document;if(!k1){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),k1=typeof D_.oninput=="function"}M1=k1}else M1=!1;k_=M1&&(!document.documentMode||9<document.documentMode)}function O_(){Oc&&(Oc.detachEvent("onpropertychange",z_),zc=Oc=null)}function z_(a){if(a.propertyName==="value"&&Kh(zc)){var s=[];N_(s,zc,a,si(a)),As(eV,s)}}function tV(a,s,u){a==="focusin"?(O_(),Oc=s,zc=u,Oc.attachEvent("onpropertychange",z_)):a==="focusout"&&O_()}function nV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Kh(zc)}function rV(a,s){if(a==="click")return Kh(s)}function iV(a,s){if(a==="input"||a==="change")return Kh(s)}function aV(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Vr=typeof Object.is=="function"?Object.is:aV;function Vc(a,s){if(Vr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!st.call(s,y)||!Vr(a[y],s[y]))return!1}return!0}function V_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function L_(a,s){var u=V_(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=s&&d>=s)return{node:u,offset:s-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=V_(u)}}function q_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?q_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function P_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=zr(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=zr(a.document)}return s}function D1(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var sV=oi&&"documentMode"in document&&11>=document.documentMode,Wl=null,O1=null,Lc=null,z1=!1;function B_(a,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;z1||Wl==null||Wl!==zr(d)||(d=Wl,"selectionStart"in d&&D1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Lc&&Vc(Lc,d)||(Lc=d,d=qf(O1,"onSelect"),0<d.length&&(s=new Ki("onSelect","select",null,s,u),a.push({event:s,listeners:d}),s.target=Wl)))}function Go(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Jl={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionrun:Go("Transition","TransitionRun"),transitionstart:Go("Transition","TransitionStart"),transitioncancel:Go("Transition","TransitionCancel"),transitionend:Go("Transition","TransitionEnd")},V1={},U_={};oi&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function $o(a){if(V1[a])return V1[a];if(!Jl[a])return a;var s=Jl[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in U_)return V1[a]=s[u];return a}var j_=$o("animationend"),H_=$o("animationiteration"),F_=$o("animationstart"),oV=$o("transitionrun"),lV=$o("transitionstart"),uV=$o("transitioncancel"),G_=$o("transitionend"),$_=new Map,L1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");L1.push("scrollEnd");function Ni(a,s){$_.set(a,s),ii(s,[a])}var Qh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ui=[],eu=0,q1=0;function Zh(){for(var a=eu,s=q1=eu=0;s<a;){var u=ui[s];ui[s++]=null;var d=ui[s];ui[s++]=null;var y=ui[s];ui[s++]=null;var _=ui[s];if(ui[s++]=null,d!==null&&y!==null){var N=d.pending;N===null?y.next=y:(y.next=N.next,N.next=y),d.pending=y}_!==0&&Y_(u,y,_)}}function Wh(a,s,u,d){ui[eu++]=a,ui[eu++]=s,ui[eu++]=u,ui[eu++]=d,q1|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function P1(a,s,u,d){return Wh(a,s,u,d),Jh(a)}function Yo(a,s){return Wh(a,null,null,s),Jh(a)}function Y_(a,s,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,_=a.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(y=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,y&&s!==null&&(y=31-en(u),a=_.hiddenUpdates,d=a[y],d===null?a[y]=[s]:d.push(s),s.lane=u|536870912),_):null}function Jh(a){if(50<a0)throw a0=0,Xp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var tu={};function cV(a,s,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(a,s,u,d){return new cV(a,s,u,d)}function B1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Da(a,s){var u=a.alternate;return u===null?(u=Lr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function X_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function ef(a,s,u,d,y,_){var N=0;if(d=a,typeof a=="function")B1(a)&&(N=1);else if(typeof a=="string")N=pL(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Lr(31,u,s,y),a.elementType=k,a.lanes=_,a;case S:return Xo(u.children,y,_,s);case E:N=8,y|=24;break;case C:return a=Lr(12,u,s,y|2),a.elementType=C,a.lanes=_,a;case j:return a=Lr(13,u,s,y),a.elementType=j,a.lanes=_,a;case q:return a=Lr(19,u,s,y),a.elementType=q,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:N=10;break e;case O:N=9;break e;case D:N=11;break e;case I:N=14;break e;case M:N=16,d=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=Lr(N,u,s,y),s.elementType=a,s.type=d,s.lanes=_,s}function Xo(a,s,u,d){return a=Lr(7,a,d,s),a.lanes=u,a}function U1(a,s,u){return a=Lr(6,a,null,s),a.lanes=u,a}function K_(a){var s=Lr(18,null,null,0);return s.stateNode=a,s}function j1(a,s,u){return s=Lr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Q_=new WeakMap;function ci(a,s){if(typeof a=="object"&&a!==null){var u=Q_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Ut(s)},Q_.set(a,s),s)}return{value:a,source:s,stack:Ut(s)}}var nu=[],ru=0,tf=null,qc=0,hi=[],fi=0,Ns=null,Ji=1,ea="";function Oa(a,s){nu[ru++]=qc,nu[ru++]=tf,tf=a,qc=s}function Z_(a,s,u){hi[fi++]=Ji,hi[fi++]=ea,hi[fi++]=Ns,Ns=a;var d=Ji;a=ea;var y=32-en(d)-1;d&=~(1<<y),u+=1;var _=32-en(s)+y;if(30<_){var N=y-y%5;_=(d&(1<<N)-1).toString(32),d>>=N,y-=N,Ji=1<<32-en(s)+y|u<<y|d,ea=_+a}else Ji=1<<_|u<<y|d,ea=a}function H1(a){a.return!==null&&(Oa(a,1),Z_(a,1,0))}function F1(a){for(;a===tf;)tf=nu[--ru],nu[ru]=null,qc=nu[--ru],nu[ru]=null;for(;a===Ns;)Ns=hi[--fi],hi[fi]=null,ea=hi[--fi],hi[fi]=null,Ji=hi[--fi],hi[fi]=null}function W_(a,s){hi[fi++]=Ji,hi[fi++]=ea,hi[fi++]=Ns,Ji=s.id,ea=s.overflow,Ns=a}var $n=null,Ft=null,yt=!1,Ms=null,di=!1,G1=Error(r(519));function ks(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pc(ci(s,a)),G1}function J_(a){var s=a.stateNode,u=a.type,d=a.memoizedProps;switch(s[on]=a,s[bn]=d,u){case"dialog":ft("cancel",s),ft("close",s);break;case"iframe":case"object":case"embed":ft("load",s);break;case"video":case"audio":for(u=0;u<o0.length;u++)ft(o0[u],s);break;case"source":ft("error",s);break;case"img":case"image":case"link":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"input":ft("invalid",s),Hl(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ft("invalid",s);break;case"textarea":ft("invalid",s),Ss(s,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||g9(s.textContent,u)?(d.popover!=null&&(ft("beforetoggle",s),ft("toggle",s)),d.onScroll!=null&&ft("scroll",s),d.onScrollEnd!=null&&ft("scrollend",s),d.onClick!=null&&(s.onclick=Ti),s=!0):s=!1,s||ks(a,!0)}function eb(a){for($n=a.return;$n;)switch($n.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:$n=$n.return}}function iu(a){if(a!==$n)return!1;if(!yt)return eb(a),yt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||ug(a.type,a.memoizedProps)),u=!u),u&&Ft&&ks(a),eb(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ft=T9(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ft=T9(a)}else s===27?(s=Ft,$s(a.type)?(a=mg,mg=null,Ft=a):Ft=s):Ft=$n?pi(a.stateNode.nextSibling):null;return!0}function Ko(){Ft=$n=null,yt=!1}function $1(){var a=Ms;return a!==null&&(wr===null?wr=a:wr.push.apply(wr,a),Ms=null),a}function Pc(a){Ms===null?Ms=[a]:Ms.push(a)}var Y1=Y(null),Qo=null,za=null;function Ds(a,s,u){pe(Y1,s._currentValue),s._currentValue=u}function Va(a){a._currentValue=Y1.current,ee(Y1)}function X1(a,s,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===u)break;a=a.return}}function K1(a,s,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){var N=y.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=y;for(var ne=0;ne<s.length;ne++)if(F.context===s[ne]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),X1(_.return,u,a),d||(N=null);break e}_=F.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),X1(N,u,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function au(a,s,u,d){a=null;for(var y=s,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var F=y.type;Vr(y.pendingProps.value,N.value)||(a!==null?a.push(F):a=[F])}}else if(y===ge.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(f0):a=[f0])}y=y.return}a!==null&&K1(s,a,u,d),s.flags|=262144}function nf(a){for(a=a.firstContext;a!==null;){if(!Vr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zo(a){Qo=a,za=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Yn(a){return tb(Qo,a)}function rf(a,s){return Qo===null&&Zo(a),tb(a,s)}function tb(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},za===null){if(a===null)throw Error(r(308));za=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else za=za.next=s;return u}var hV=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},fV=t.unstable_scheduleCallback,dV=t.unstable_NormalPriority,xn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Q1(){return{controller:new hV,data:new Map,refCount:0}}function Bc(a){a.refCount--,a.refCount===0&&fV(dV,function(){a.controller.abort()})}var Uc=null,Z1=0,su=0,ou=null;function mV(a,s){if(Uc===null){var u=Uc=[];Z1=0,su=eg(),ou={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Z1++,s.then(nb,nb),s}function nb(){if(--Z1===0&&Uc!==null){ou!==null&&(ou.status="fulfilled");var a=Uc;Uc=null,su=0,ou=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function pV(a,s){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var rb=$.S;$.S=function(a,s){B8=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mV(a,s),rb!==null&&rb(a,s)};var Wo=Y(null);function W1(){var a=Wo.current;return a!==null?a:Pt.pooledCache}function af(a,s){s===null?pe(Wo,Wo.current):pe(Wo,s.pool)}function ib(){var a=W1();return a===null?null:{parent:xn._currentValue,pool:a}}var lu=Error(r(460)),J1=Error(r(474)),sf=Error(r(542)),of={then:function(){}};function ab(a){return a=a.status,a==="fulfilled"||a==="rejected"}function sb(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ti,Ti),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,lb(a),a;default:if(typeof s.status=="string")s.then(Ti,Ti);else{if(a=Pt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=d}},function(d){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,lb(a),a}throw el=s,lu}}function Jo(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(el=u,lu):u}}var el=null;function ob(){if(el===null)throw Error(r(459));var a=el;return el=null,a}function lb(a){if(a===lu||a===sf)throw Error(r(483))}var uu=null,jc=0;function lf(a){var s=jc;return jc+=1,uu===null&&(uu=[]),sb(uu,a,s)}function Hc(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function uf(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function ub(a){function s(ue,ae){if(a){var fe=ue.deletions;fe===null?(ue.deletions=[ae],ue.flags|=16):fe.push(ae)}}function u(ue,ae){if(!a)return null;for(;ae!==null;)s(ue,ae),ae=ae.sibling;return null}function d(ue){for(var ae=new Map;ue!==null;)ue.key!==null?ae.set(ue.key,ue):ae.set(ue.index,ue),ue=ue.sibling;return ae}function y(ue,ae){return ue=Da(ue,ae),ue.index=0,ue.sibling=null,ue}function _(ue,ae,fe){return ue.index=fe,a?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<ae?(ue.flags|=67108866,ae):fe):(ue.flags|=67108866,ae)):(ue.flags|=1048576,ae)}function N(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function F(ue,ae,fe,Se){return ae===null||ae.tag!==6?(ae=U1(fe,ue.mode,Se),ae.return=ue,ae):(ae=y(ae,fe),ae.return=ue,ae)}function ne(ue,ae,fe,Se){var Ke=fe.type;return Ke===S?xe(ue,ae,fe.props.children,Se,fe.key):ae!==null&&(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Jo(Ke)===ae.type)?(ae=y(ae,fe.props),Hc(ae,fe),ae.return=ue,ae):(ae=ef(fe.type,fe.key,fe.props,null,ue.mode,Se),Hc(ae,fe),ae.return=ue,ae)}function me(ue,ae,fe,Se){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=j1(fe,ue.mode,Se),ae.return=ue,ae):(ae=y(ae,fe.children||[]),ae.return=ue,ae)}function xe(ue,ae,fe,Se,Ke){return ae===null||ae.tag!==7?(ae=Xo(fe,ue.mode,Se,Ke),ae.return=ue,ae):(ae=y(ae,fe),ae.return=ue,ae)}function Te(ue,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=U1(""+ae,ue.mode,fe),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return fe=ef(ae.type,ae.key,ae.props,null,ue.mode,fe),Hc(fe,ae),fe.return=ue,fe;case x:return ae=j1(ae,ue.mode,fe),ae.return=ue,ae;case M:return ae=Jo(ae),Te(ue,ae,fe)}if(te(ae)||U(ae))return ae=Xo(ae,ue.mode,fe,null),ae.return=ue,ae;if(typeof ae.then=="function")return Te(ue,lf(ae),fe);if(ae.$$typeof===A)return Te(ue,rf(ue,ae),fe);uf(ue,ae)}return null}function ve(ue,ae,fe,Se){var Ke=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ke!==null?null:F(ue,ae,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return fe.key===Ke?ne(ue,ae,fe,Se):null;case x:return fe.key===Ke?me(ue,ae,fe,Se):null;case M:return fe=Jo(fe),ve(ue,ae,fe,Se)}if(te(fe)||U(fe))return Ke!==null?null:xe(ue,ae,fe,Se,null);if(typeof fe.then=="function")return ve(ue,ae,lf(fe),Se);if(fe.$$typeof===A)return ve(ue,ae,rf(ue,fe),Se);uf(ue,fe)}return null}function we(ue,ae,fe,Se,Ke){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ue=ue.get(fe)||null,F(ae,ue,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:return ue=ue.get(Se.key===null?fe:Se.key)||null,ne(ae,ue,Se,Ke);case x:return ue=ue.get(Se.key===null?fe:Se.key)||null,me(ae,ue,Se,Ke);case M:return Se=Jo(Se),we(ue,ae,fe,Se,Ke)}if(te(Se)||U(Se))return ue=ue.get(fe)||null,xe(ae,ue,Se,Ke,null);if(typeof Se.then=="function")return we(ue,ae,fe,lf(Se),Ke);if(Se.$$typeof===A)return we(ue,ae,fe,rf(ae,Se),Ke);uf(ae,Se)}return null}function Ue(ue,ae,fe,Se){for(var Ke=null,Tt=null,Fe=ae,ut=ae=0,mt=null;Fe!==null&&ut<fe.length;ut++){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var At=ve(ue,Fe,fe[ut],Se);if(At===null){Fe===null&&(Fe=mt);break}a&&Fe&&At.alternate===null&&s(ue,Fe),ae=_(At,ae,ut),Tt===null?Ke=At:Tt.sibling=At,Tt=At,Fe=mt}if(ut===fe.length)return u(ue,Fe),yt&&Oa(ue,ut),Ke;if(Fe===null){for(;ut<fe.length;ut++)Fe=Te(ue,fe[ut],Se),Fe!==null&&(ae=_(Fe,ae,ut),Tt===null?Ke=Fe:Tt.sibling=Fe,Tt=Fe);return yt&&Oa(ue,ut),Ke}for(Fe=d(Fe);ut<fe.length;ut++)mt=we(Fe,ue,ut,fe[ut],Se),mt!==null&&(a&&mt.alternate!==null&&Fe.delete(mt.key===null?ut:mt.key),ae=_(mt,ae,ut),Tt===null?Ke=mt:Tt.sibling=mt,Tt=mt);return a&&Fe.forEach(function(Zs){return s(ue,Zs)}),yt&&Oa(ue,ut),Ke}function Je(ue,ae,fe,Se){if(fe==null)throw Error(r(151));for(var Ke=null,Tt=null,Fe=ae,ut=ae=0,mt=null,At=fe.next();Fe!==null&&!At.done;ut++,At=fe.next()){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var Zs=ve(ue,Fe,At.value,Se);if(Zs===null){Fe===null&&(Fe=mt);break}a&&Fe&&Zs.alternate===null&&s(ue,Fe),ae=_(Zs,ae,ut),Tt===null?Ke=Zs:Tt.sibling=Zs,Tt=Zs,Fe=mt}if(At.done)return u(ue,Fe),yt&&Oa(ue,ut),Ke;if(Fe===null){for(;!At.done;ut++,At=fe.next())At=Te(ue,At.value,Se),At!==null&&(ae=_(At,ae,ut),Tt===null?Ke=At:Tt.sibling=At,Tt=At);return yt&&Oa(ue,ut),Ke}for(Fe=d(Fe);!At.done;ut++,At=fe.next())At=we(Fe,ue,ut,At.value,Se),At!==null&&(a&&At.alternate!==null&&Fe.delete(At.key===null?ut:At.key),ae=_(At,ae,ut),Tt===null?Ke=At:Tt.sibling=At,Tt=At);return a&&Fe.forEach(function(AL){return s(ue,AL)}),yt&&Oa(ue,ut),Ke}function Vt(ue,ae,fe,Se){if(typeof fe=="object"&&fe!==null&&fe.type===S&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:e:{for(var Ke=fe.key;ae!==null;){if(ae.key===Ke){if(Ke=fe.type,Ke===S){if(ae.tag===7){u(ue,ae.sibling),Se=y(ae,fe.props.children),Se.return=ue,ue=Se;break e}}else if(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Jo(Ke)===ae.type){u(ue,ae.sibling),Se=y(ae,fe.props),Hc(Se,fe),Se.return=ue,ue=Se;break e}u(ue,ae);break}else s(ue,ae);ae=ae.sibling}fe.type===S?(Se=Xo(fe.props.children,ue.mode,Se,fe.key),Se.return=ue,ue=Se):(Se=ef(fe.type,fe.key,fe.props,null,ue.mode,Se),Hc(Se,fe),Se.return=ue,ue=Se)}return N(ue);case x:e:{for(Ke=fe.key;ae!==null;){if(ae.key===Ke)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){u(ue,ae.sibling),Se=y(ae,fe.children||[]),Se.return=ue,ue=Se;break e}else{u(ue,ae);break}else s(ue,ae);ae=ae.sibling}Se=j1(fe,ue.mode,Se),Se.return=ue,ue=Se}return N(ue);case M:return fe=Jo(fe),Vt(ue,ae,fe,Se)}if(te(fe))return Ue(ue,ae,fe,Se);if(U(fe)){if(Ke=U(fe),typeof Ke!="function")throw Error(r(150));return fe=Ke.call(fe),Je(ue,ae,fe,Se)}if(typeof fe.then=="function")return Vt(ue,ae,lf(fe),Se);if(fe.$$typeof===A)return Vt(ue,ae,rf(ue,fe),Se);uf(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ae!==null&&ae.tag===6?(u(ue,ae.sibling),Se=y(ae,fe),Se.return=ue,ue=Se):(u(ue,ae),Se=U1(fe,ue.mode,Se),Se.return=ue,ue=Se),N(ue)):u(ue,ae)}return function(ue,ae,fe,Se){try{jc=0;var Ke=Vt(ue,ae,fe,Se);return uu=null,Ke}catch(Fe){if(Fe===lu||Fe===sf)throw Fe;var Tt=Lr(29,Fe,null,ue.mode);return Tt.lanes=Se,Tt.return=ue,Tt}}}var tl=ub(!0),cb=ub(!1),Os=!1;function ep(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function zs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Vs(a,s,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(It&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,s=Jh(a),Y_(a,null,u),s}return Wh(a,d,s,u),Jh(a)}function Fc(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,No(a,u)}}function np(a,s){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?y=_=s:_=_.next=s}else y=_=s;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var rp=!1;function Gc(){if(rp){var a=ou;if(a!==null)throw a}}function $c(a,s,u,d){rp=!1;var y=a.updateQueue;Os=!1;var _=y.firstBaseUpdate,N=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var ne=F,me=ne.next;ne.next=null,N===null?_=me:N.next=me,N=ne;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,F=xe.lastBaseUpdate,F!==N&&(F===null?xe.firstBaseUpdate=me:F.next=me,xe.lastBaseUpdate=ne))}if(_!==null){var Te=y.baseState;N=0,xe=me=ne=null,F=_;do{var ve=F.lane&-536870913,we=ve!==F.lane;if(we?(dt&ve)===ve:(d&ve)===ve){ve!==0&&ve===su&&(rp=!0),xe!==null&&(xe=xe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ue=a,Je=F;ve=s;var Vt=u;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){Te=Ue.call(Vt,Te,ve);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,ve=typeof Ue=="function"?Ue.call(Vt,Te,ve):Ue,ve==null)break e;Te=p({},Te,ve);break e;case 2:Os=!0}}ve=F.callback,ve!==null&&(a.flags|=64,we&&(a.flags|=8192),we=y.callbacks,we===null?y.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:F.tag,payload:F.payload,callback:F.callback,next:null},xe===null?(me=xe=we,ne=Te):xe=xe.next=we,N|=ve;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;we=F,F=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);xe===null&&(ne=Te),y.baseState=ne,y.firstBaseUpdate=me,y.lastBaseUpdate=xe,_===null&&(y.shared.lanes=0),Us|=N,a.lanes=N,a.memoizedState=Te}}function hb(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function fb(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)hb(u[a],s)}var cu=Y(null),cf=Y(0);function db(a,s){a=Ga,pe(cf,a),pe(cu,s),Ga=a|s.baseLanes}function ip(){pe(cf,Ga),pe(cu,cu.current)}function ap(){Ga=cf.current,ee(cu),ee(cf)}var qr=Y(null),mi=null;function Ls(a){var s=a.alternate;pe(pn,pn.current&1),pe(qr,a),mi===null&&(s===null||cu.current!==null||s.memoizedState!==null)&&(mi=a)}function sp(a){pe(pn,pn.current),pe(qr,a),mi===null&&(mi=a)}function mb(a){a.tag===22?(pe(pn,pn.current),pe(qr,a),mi===null&&(mi=a)):qs()}function qs(){pe(pn,pn.current),pe(qr,qr.current)}function Pr(a){ee(qr),mi===a&&(mi=null),ee(pn)}var pn=Y(0);function hf(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||fg(u)||dg(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var La=0,lt=null,Ot=null,Sn=null,ff=!1,hu=!1,nl=!1,df=0,Yc=0,fu=null,gV=0;function cn(){throw Error(r(321))}function op(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Vr(a[u],s[u]))return!1;return!0}function lp(a,s,u,d,y,_){return La=_,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=a===null||a.memoizedState===null?Zb:Sp,nl=!1,_=u(d,y),nl=!1,hu&&(_=gb(s,u,d,y)),pb(a),_}function pb(a){$.H=Qc;var s=Ot!==null&&Ot.next!==null;if(La=0,Sn=Ot=lt=null,ff=!1,Yc=0,fu=null,s)throw Error(r(300));a===null||En||(a=a.dependencies,a!==null&&nf(a)&&(En=!0))}function gb(a,s,u,d){lt=a;var y=0;do{if(hu&&(fu=null),Yc=0,hu=!1,25<=y)throw Error(r(301));if(y+=1,Sn=Ot=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=Wb,_=s(u,d)}while(hu);return _}function vV(){var a=$.H,s=a.useState()[0];return s=typeof s.then=="function"?Xc(s):s,a=a.useState()[0],(Ot!==null?Ot.memoizedState:null)!==a&&(lt.flags|=1024),s}function up(){var a=df!==0;return df=0,a}function cp(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function hp(a){if(ff){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ff=!1}La=0,Sn=Ot=lt=null,hu=!1,Yc=df=0,fu=null}function or(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?lt.memoizedState=Sn=a:Sn=Sn.next=a,Sn}function gn(){if(Ot===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var s=Sn===null?lt.memoizedState:Sn.next;if(s!==null)Sn=s,Ot=a;else{if(a===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Sn===null?lt.memoizedState=Sn=a:Sn=Sn.next=a}return Sn}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(a){var s=Yc;return Yc+=1,fu===null&&(fu=[]),a=sb(fu,a,s),s=lt,(Sn===null?s.memoizedState:Sn.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Zb:Sp),a}function pf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xc(a);if(a.$$typeof===A)return Yn(a)}throw Error(r(438,String(a)))}function fp(a){var s=null,u=lt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=mf(),lt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),d=0;d<a;d++)u[d]=H;return s.index++,u}function qa(a,s){return typeof s=="function"?s(a):s}function gf(a){var s=gn();return dp(s,Ot,a)}function dp(a,s,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,_=d.pending;if(_!==null){if(y!==null){var N=y.next;y.next=_.next,_.next=N}s.baseQueue=y=_,d.pending=null}if(_=a.baseState,y===null)a.memoizedState=_;else{s=y.next;var F=N=null,ne=null,me=s,xe=!1;do{var Te=me.lane&-536870913;if(Te!==me.lane?(dt&Te)===Te:(La&Te)===Te){var ve=me.revertLane;if(ve===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Te===su&&(xe=!0);else if((La&ve)===ve){me=me.next,ve===su&&(xe=!0);continue}else Te={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=Te,N=_):ne=ne.next=Te,lt.lanes|=ve,Us|=ve;Te=me.action,nl&&u(_,Te),_=me.hasEagerState?me.eagerState:u(_,Te)}else ve={lane:Te,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=ve,N=_):ne=ne.next=ve,lt.lanes|=Te,Us|=Te;me=me.next}while(me!==null&&me!==s);if(ne===null?N=_:ne.next=F,!Vr(_,a.memoizedState)&&(En=!0,xe&&(u=ou,u!==null)))throw u;a.memoizedState=_,a.baseState=N,a.baseQueue=ne,d.lastRenderedState=_}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function mp(a){var s=gn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,_=s.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do _=a(_,N.action),N=N.next;while(N!==y);Vr(_,s.memoizedState)||(En=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,d]}function vb(a,s,u){var d=lt,y=gn(),_=yt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var N=!Vr((Ot||y).memoizedState,u);if(N&&(y.memoizedState=u,En=!0),y=y.queue,vp(bb.bind(null,d,y,a),[a]),y.getSnapshot!==s||N||Sn!==null&&Sn.memoizedState.tag&1){if(d.flags|=2048,du(9,{destroy:void 0},_b.bind(null,d,y,u,s),null),Pt===null)throw Error(r(349));_||(La&127)!==0||yb(d,s,u)}return u}function yb(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=lt.updateQueue,s===null?(s=mf(),lt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function _b(a,s,u,d){s.value=u,s.getSnapshot=d,wb(s)&&xb(a)}function bb(a,s,u){return u(function(){wb(s)&&xb(a)})}function wb(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Vr(a,u)}catch{return!0}}function xb(a){var s=Yo(a,2);s!==null&&xr(s,a,2)}function pp(a){var s=or();if(typeof a=="function"){var u=a;if(a=u(),nl){pr(!0);try{u()}finally{pr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:a},s}function Sb(a,s,u,d){return a.baseState=u,dp(a,Ot,typeof d=="function"?d:qa)}function yV(a,s,u,d,y){if(_f(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};$.T!==null?u(!0):_.isTransition=!1,d(_),u=s.pending,u===null?(_.next=s.pending=_,Eb(s,_)):(_.next=u.next,s.pending=u.next=_)}}function Eb(a,s){var u=s.action,d=s.payload,y=a.state;if(s.isTransition){var _=$.T,N={};$.T=N;try{var F=u(y,d),ne=$.S;ne!==null&&ne(N,F),Tb(a,s,F)}catch(me){gp(a,s,me)}finally{_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}else try{_=u(y,d),Tb(a,s,_)}catch(me){gp(a,s,me)}}function Tb(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Ab(a,s,d)},function(d){return gp(a,s,d)}):Ab(a,s,u)}function Ab(a,s,u){s.status="fulfilled",s.value=u,Cb(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,Eb(a,u)))}function gp(a,s,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,Cb(s),s=s.next;while(s!==d)}a.action=null}function Cb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Rb(a,s){return s}function Ib(a,s){if(yt){var u=Pt.formState;if(u!==null){e:{var d=lt;if(yt){if(Ft){t:{for(var y=Ft,_=di;y.nodeType!==8;){if(!_){y=null;break t}if(y=pi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Ft=pi(y.nextSibling),d=y.data==="F!";break e}}ks(d)}d=!1}d&&(s=u[0])}}return u=or(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rb,lastRenderedState:s},u.queue=d,u=Xb.bind(null,lt,d),d.dispatch=u,d=pp(!1),_=xp.bind(null,lt,!1,d.queue),d=or(),y={state:s,dispatch:null,action:a,pending:null},d.queue=y,u=yV.bind(null,lt,y,_,u),y.dispatch=u,d.memoizedState=a,[s,u,!1]}function Nb(a){var s=gn();return Mb(s,Ot,a)}function Mb(a,s,u){if(s=dp(a,s,Rb)[0],a=gf(qa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Xc(s)}catch(N){throw N===lu?sf:N}else d=s;s=gn();var y=s.queue,_=y.dispatch;return u!==s.memoizedState&&(lt.flags|=2048,du(9,{destroy:void 0},_V.bind(null,y,u),null)),[d,_,a]}function _V(a,s){a.action=s}function kb(a){var s=gn(),u=Ot;if(u!==null)return Mb(s,u,a);gn(),s=s.memoizedState,u=gn();var d=u.queue.dispatch;return u.memoizedState=a,[s,d,!1]}function du(a,s,u,d){return a={tag:a,create:u,deps:d,inst:s,next:null},s=lt.updateQueue,s===null&&(s=mf(),lt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,s.lastEffect=a),a}function Db(){return gn().memoizedState}function vf(a,s,u,d){var y=or();lt.flags|=a,y.memoizedState=du(1|s,{destroy:void 0},u,d===void 0?null:d)}function yf(a,s,u,d){var y=gn();d=d===void 0?null:d;var _=y.memoizedState.inst;Ot!==null&&d!==null&&op(d,Ot.memoizedState.deps)?y.memoizedState=du(s,_,u,d):(lt.flags|=a,y.memoizedState=du(1|s,_,u,d))}function Ob(a,s){vf(8390656,8,a,s)}function vp(a,s){yf(2048,8,a,s)}function bV(a){lt.flags|=4;var s=lt.updateQueue;if(s===null)s=mf(),lt.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function zb(a){var s=gn().memoizedState;return bV({ref:s,nextImpl:a}),function(){if((It&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Vb(a,s){return yf(4,2,a,s)}function Lb(a,s){return yf(4,4,a,s)}function qb(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Pb(a,s,u){u=u!=null?u.concat([a]):null,yf(4,4,qb.bind(null,s,a),u)}function yp(){}function Bb(a,s){var u=gn();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&op(s,d[1])?d[0]:(u.memoizedState=[a,s],a)}function Ub(a,s){var u=gn();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&op(s,d[1]))return d[0];if(d=a(),nl){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[d,s],d}function _p(a,s,u){return u===void 0||(La&1073741824)!==0&&(dt&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=j8(),lt.lanes|=a,Us|=a,u)}function jb(a,s,u,d){return Vr(u,s)?u:cu.current!==null?(a=_p(a,u,d),Vr(a,s)||(En=!0),a):(La&42)===0||(La&1073741824)!==0&&(dt&261930)===0?(En=!0,a.memoizedState=u):(a=j8(),lt.lanes|=a,Us|=a,s)}function Hb(a,s,u,d,y){var _=W.p;W.p=_!==0&&8>_?_:8;var N=$.T,F={};$.T=F,xp(a,!1,s,u);try{var ne=y(),me=$.S;if(me!==null&&me(F,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var xe=pV(ne,d);Kc(a,s,xe,jr(a))}else Kc(a,s,d,jr(a))}catch(Te){Kc(a,s,{then:function(){},status:"rejected",reason:Te},jr())}finally{W.p=_,N!==null&&F.types!==null&&(N.types=F.types),$.T=N}}function wV(){}function bp(a,s,u,d){if(a.tag!==5)throw Error(r(476));var y=Fb(a).queue;Hb(a,y,s,re,u===null?wV:function(){return Gb(a),u(d)})}function Fb(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:re},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Gb(a){var s=Fb(a);s.next===null&&(s=a.alternate.memoizedState),Kc(a,s.next.queue,{},jr())}function wp(){return Yn(f0)}function $b(){return gn().memoizedState}function Yb(){return gn().memoizedState}function xV(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=jr();a=zs(u);var d=Vs(s,a,u);d!==null&&(xr(d,s,u),Fc(d,s,u)),s={cache:Q1()},a.payload=s;return}s=s.return}}function SV(a,s,u){var d=jr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_f(a)?Kb(s,u):(u=P1(a,s,u,d),u!==null&&(xr(u,a,d),Qb(u,s,d)))}function Xb(a,s,u){var d=jr();Kc(a,s,u,d)}function Kc(a,s,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(_f(a))Kb(s,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,F=_(N,u);if(y.hasEagerState=!0,y.eagerState=F,Vr(F,N))return Wh(a,s,y,0),Pt===null&&Zh(),!1}catch{}if(u=P1(a,s,y,d),u!==null)return xr(u,a,d),Qb(u,s,d),!0}return!1}function xp(a,s,u,d){if(d={lane:2,revertLane:eg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_f(a)){if(s)throw Error(r(479))}else s=P1(a,u,d,2),s!==null&&xr(s,a,2)}function _f(a){var s=a.alternate;return a===lt||s!==null&&s===lt}function Kb(a,s){hu=ff=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function Qb(a,s,u){if((u&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,No(a,u)}}var Qc={readContext:Yn,use:pf,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Qc.useEffectEvent=cn;var Zb={readContext:Yn,use:pf,useCallback:function(a,s){return or().memoizedState=[a,s===void 0?null:s],a},useContext:Yn,useEffect:Ob,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,vf(4194308,4,qb.bind(null,s,a),u)},useLayoutEffect:function(a,s){return vf(4194308,4,a,s)},useInsertionEffect:function(a,s){vf(4,2,a,s)},useMemo:function(a,s){var u=or();s=s===void 0?null:s;var d=a();if(nl){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[d,s],d},useReducer:function(a,s,u){var d=or();if(u!==void 0){var y=u(s);if(nl){pr(!0);try{u(s)}finally{pr(!1)}}}else y=s;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=SV.bind(null,lt,a),[d.memoizedState,a]},useRef:function(a){var s=or();return a={current:a},s.memoizedState=a},useState:function(a){a=pp(a);var s=a.queue,u=Xb.bind(null,lt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:yp,useDeferredValue:function(a,s){var u=or();return _p(u,a,s)},useTransition:function(){var a=pp(!1);return a=Hb.bind(null,lt,a.queue,!0,!1),or().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var d=lt,y=or();if(yt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Pt===null)throw Error(r(349));(dt&127)!==0||yb(d,s,u)}y.memoizedState=u;var _={value:u,getSnapshot:s};return y.queue=_,Ob(bb.bind(null,d,_,a),[a]),d.flags|=2048,du(9,{destroy:void 0},_b.bind(null,d,_,u,s),null),u},useId:function(){var a=or(),s=Pt.identifierPrefix;if(yt){var u=ea,d=Ji;u=(d&~(1<<32-en(d)-1)).toString(32)+u,s="_"+s+"R_"+u,u=df++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=gV++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:wp,useFormState:Ib,useActionState:Ib,useOptimistic:function(a){var s=or();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=xp.bind(null,lt,!0,u),u.dispatch=s,[a,s]},useMemoCache:fp,useCacheRefresh:function(){return or().memoizedState=xV.bind(null,lt)},useEffectEvent:function(a){var s=or(),u={impl:a};return s.memoizedState=u,function(){if((It&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Sp={readContext:Yn,use:pf,useCallback:Bb,useContext:Yn,useEffect:vp,useImperativeHandle:Pb,useInsertionEffect:Vb,useLayoutEffect:Lb,useMemo:Ub,useReducer:gf,useRef:Db,useState:function(){return gf(qa)},useDebugValue:yp,useDeferredValue:function(a,s){var u=gn();return jb(u,Ot.memoizedState,a,s)},useTransition:function(){var a=gf(qa)[0],s=gn().memoizedState;return[typeof a=="boolean"?a:Xc(a),s]},useSyncExternalStore:vb,useId:$b,useHostTransitionStatus:wp,useFormState:Nb,useActionState:Nb,useOptimistic:function(a,s){var u=gn();return Sb(u,Ot,a,s)},useMemoCache:fp,useCacheRefresh:Yb};Sp.useEffectEvent=zb;var Wb={readContext:Yn,use:pf,useCallback:Bb,useContext:Yn,useEffect:vp,useImperativeHandle:Pb,useInsertionEffect:Vb,useLayoutEffect:Lb,useMemo:Ub,useReducer:mp,useRef:Db,useState:function(){return mp(qa)},useDebugValue:yp,useDeferredValue:function(a,s){var u=gn();return Ot===null?_p(u,a,s):jb(u,Ot.memoizedState,a,s)},useTransition:function(){var a=mp(qa)[0],s=gn().memoizedState;return[typeof a=="boolean"?a:Xc(a),s]},useSyncExternalStore:vb,useId:$b,useHostTransitionStatus:wp,useFormState:kb,useActionState:kb,useOptimistic:function(a,s){var u=gn();return Ot!==null?Sb(u,Ot,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:fp,useCacheRefresh:Yb};Wb.useEffectEvent=zb;function Ep(a,s,u,d){s=a.memoizedState,u=u(d,s),u=u==null?s:p({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Tp={enqueueSetState:function(a,s,u){a=a._reactInternals;var d=jr(),y=zs(d);y.payload=s,u!=null&&(y.callback=u),s=Vs(a,y,d),s!==null&&(xr(s,a,d),Fc(s,a,d))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var d=jr(),y=zs(d);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Vs(a,y,d),s!==null&&(xr(s,a,d),Fc(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=jr(),d=zs(u);d.tag=2,s!=null&&(d.callback=s),s=Vs(a,d,u),s!==null&&(xr(s,a,u),Fc(s,a,u))}};function Jb(a,s,u,d,y,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,_,N):s.prototype&&s.prototype.isPureReactComponent?!Vc(u,d)||!Vc(y,_):!0}function e8(a,s,u,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==a&&Tp.enqueueReplaceState(s,s.state,null)}function rl(a,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(a=a.defaultProps){u===s&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function t8(a){Qh(a)}function n8(a){console.error(a)}function r8(a){Qh(a)}function bf(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function i8(a,s,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ap(a,s,u){return u=zs(u),u.tag=3,u.payload={element:null},u.callback=function(){bf(a,s)},u}function a8(a){return a=zs(a),a.tag=3,a}function s8(a,s,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;a.payload=function(){return y(_)},a.callback=function(){i8(s,u,d)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){i8(s,u,d),typeof y!="function"&&(js===null?js=new Set([this]):js.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function EV(a,s,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&au(s,u,y,!0),u=qr.current,u!==null){switch(u.tag){case 31:case 13:return mi===null?kf():u.alternate===null&&hn===0&&(hn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===of?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),Zp(a,d,y)),!1;case 22:return u.flags|=65536,d===of?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),Zp(a,d,y)),!1}throw Error(r(435,u.tag))}return Zp(a,d,y),kf(),!1}if(yt)return s=qr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,d!==G1&&(a=Error(r(422),{cause:d}),Pc(ci(a,u)))):(d!==G1&&(s=Error(r(423),{cause:d}),Pc(ci(s,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=ci(d,u),y=Ap(a.stateNode,d,y),np(a,y),hn!==4&&(hn=2)),!1;var _=Error(r(520),{cause:d});if(_=ci(_,u),i0===null?i0=[_]:i0.push(_),hn!==4&&(hn=2),s===null)return!0;d=ci(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Ap(u.stateNode,d,a),np(u,a),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(js===null||!js.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=a8(y),s8(y,a,u,d),np(u,y),!1}u=u.return}while(u!==null);return!1}var Cp=Error(r(461)),En=!1;function Xn(a,s,u,d){s.child=a===null?cb(s,null,u,d):tl(s,a.child,u,d)}function o8(a,s,u,d,y){u=u.render;var _=s.ref;if("ref"in d){var N={};for(var F in d)F!=="ref"&&(N[F]=d[F])}else N=d;return Zo(s),d=lp(a,s,u,N,_,y),F=up(),a!==null&&!En?(cp(a,s,y),Pa(a,s,y)):(yt&&F&&H1(s),s.flags|=1,Xn(a,s,d,y),s.child)}function l8(a,s,u,d,y){if(a===null){var _=u.type;return typeof _=="function"&&!B1(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,u8(a,s,_,d,y)):(a=ef(u.type,null,d,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!zp(a,y)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:Vc,u(N,d)&&a.ref===s.ref)return Pa(a,s,y)}return s.flags|=1,a=Da(_,d),a.ref=s.ref,a.return=s,s.child=a}function u8(a,s,u,d,y){if(a!==null){var _=a.memoizedProps;if(Vc(_,d)&&a.ref===s.ref)if(En=!1,s.pendingProps=d=_,zp(a,y))(a.flags&131072)!==0&&(En=!0);else return s.lanes=a.lanes,Pa(a,s,y)}return Rp(a,s,u,d,y)}function c8(a,s,u,d){var y=d.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(d=s.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~_}else d=0,s.child=null;return h8(a,s,_,u,d)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&af(s,_!==null?_.cachePool:null),_!==null?db(s,_):ip(),mb(s);else return d=s.lanes=536870912,h8(a,s,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(af(s,_.cachePool),db(s,_),qs(),s.memoizedState=null):(a!==null&&af(s,null),ip(),qs());return Xn(a,s,y,u),s.child}function Zc(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function h8(a,s,u,d,y){var _=W1();return _=_===null?null:{parent:xn._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},a!==null&&af(s,null),ip(),mb(s),a!==null&&au(a,s,d,!0),s.childLanes=y,null}function wf(a,s){return s=Sf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function f8(a,s,u){return tl(s,a.child,null,u),a=wf(s,s.pendingProps),a.flags|=2,Pr(s),s.memoizedState=null,a}function TV(a,s,u){var d=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(yt){if(d.mode==="hidden")return a=wf(s,d),s.lanes=536870912,Zc(null,a);if(sp(s),(a=Ft)?(a=E9(a,di),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ns!==null?{id:Ji,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},u=K_(a),u.return=s,s.child=u,$n=s,Ft=null)):a=null,a===null)throw ks(s);return s.lanes=536870912,null}return wf(s,d)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(sp(s),y)if(s.flags&256)s.flags&=-257,s=f8(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(En||au(a,s,u,!1),y=(u&a.childLanes)!==0,En||y){if(d=Pt,d!==null&&(N=Mo(d,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,Yo(a,N),xr(d,a,N),Cp;kf(),s=f8(a,s,u)}else a=_.treeContext,Ft=pi(N.nextSibling),$n=s,yt=!0,Ms=null,di=!1,a!==null&&W_(s,a),s=wf(s,d),s.flags|=4096;return s}return a=Da(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function xf(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function Rp(a,s,u,d,y){return Zo(s),u=lp(a,s,u,d,void 0,y),d=up(),a!==null&&!En?(cp(a,s,y),Pa(a,s,y)):(yt&&d&&H1(s),s.flags|=1,Xn(a,s,u,y),s.child)}function d8(a,s,u,d,y,_){return Zo(s),s.updateQueue=null,u=gb(s,d,u,y),pb(a),d=up(),a!==null&&!En?(cp(a,s,_),Pa(a,s,_)):(yt&&d&&H1(s),s.flags|=1,Xn(a,s,u,_),s.child)}function m8(a,s,u,d,y){if(Zo(s),s.stateNode===null){var _=tu,N=u.contextType;typeof N=="object"&&N!==null&&(_=Yn(N)),_=new u(d,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Tp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=d,_.state=s.memoizedState,_.refs={},ep(s),N=u.contextType,_.context=typeof N=="object"&&N!==null?Yn(N):tu,_.state=s.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Ep(s,u,N,d),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Tp.enqueueReplaceState(_,_.state,null),$c(s,d,_,y),Gc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){_=s.stateNode;var F=s.memoizedProps,ne=rl(u,F);_.props=ne;var me=_.context,xe=u.contextType;N=tu,typeof xe=="object"&&xe!==null&&(N=Yn(xe));var Te=u.getDerivedStateFromProps;xe=typeof Te=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=s.pendingProps!==F,xe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||me!==N)&&e8(s,_,d,N),Os=!1;var ve=s.memoizedState;_.state=ve,$c(s,d,_,y),Gc(),me=s.memoizedState,F||ve!==me||Os?(typeof Te=="function"&&(Ep(s,u,Te,d),me=s.memoizedState),(ne=Os||Jb(s,u,ne,d,ve,me,N))?(xe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=me),_.props=d,_.state=me,_.context=N,d=ne):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,tp(a,s),N=s.memoizedProps,xe=rl(u,N),_.props=xe,Te=s.pendingProps,ve=_.context,me=u.contextType,ne=tu,typeof me=="object"&&me!==null&&(ne=Yn(me)),F=u.getDerivedStateFromProps,(me=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==Te||ve!==ne)&&e8(s,_,d,ne),Os=!1,ve=s.memoizedState,_.state=ve,$c(s,d,_,y),Gc();var we=s.memoizedState;N!==Te||ve!==we||Os||a!==null&&a.dependencies!==null&&nf(a.dependencies)?(typeof F=="function"&&(Ep(s,u,F,d),we=s.memoizedState),(xe=Os||Jb(s,u,xe,d,ve,we,ne)||a!==null&&a.dependencies!==null&&nf(a.dependencies))?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,we,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,we,ne)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=we),_.props=d,_.state=we,_.context=ne,d=xe):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ve===a.memoizedState||(s.flags|=1024),d=!1)}return _=d,xf(a,s),d=(s.flags&128)!==0,_||d?(_=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&d?(s.child=tl(s,a.child,null,y),s.child=tl(s,null,u,y)):Xn(a,s,u,y),s.memoizedState=_.state,a=s.child):a=Pa(a,s,y),a}function p8(a,s,u,d){return Ko(),s.flags|=256,Xn(a,s,u,d),s.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(a){return{baseLanes:a,cachePool:ib()}}function Mp(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Ur),a}function g8(a,s,u){var d=s.pendingProps,y=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),N&&(y=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(yt){if(y?Ls(s):qs(),(a=Ft)?(a=E9(a,di),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ns!==null?{id:Ji,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},u=K_(a),u.return=s,s.child=u,$n=s,Ft=null)):a=null,a===null)throw ks(s);return dg(a)?s.lanes=32:s.lanes=536870912,null}var F=d.children;return d=d.fallback,y?(qs(),y=s.mode,F=Sf({mode:"hidden",children:F},y),d=Xo(d,y,u,null),F.return=s,d.return=s,F.sibling=d,s.child=F,d=s.child,d.memoizedState=Np(u),d.childLanes=Mp(a,N,u),s.memoizedState=Ip,Zc(null,d)):(Ls(s),kp(s,F))}var ne=a.memoizedState;if(ne!==null&&(F=ne.dehydrated,F!==null)){if(_)s.flags&256?(Ls(s),s.flags&=-257,s=Dp(a,s,u)):s.memoizedState!==null?(qs(),s.child=a.child,s.flags|=128,s=null):(qs(),F=d.fallback,y=s.mode,d=Sf({mode:"visible",children:d.children},y),F=Xo(F,y,u,null),F.flags|=2,d.return=s,F.return=s,d.sibling=F,s.child=d,tl(s,a.child,null,u),d=s.child,d.memoizedState=Np(u),d.childLanes=Mp(a,N,u),s.memoizedState=Ip,s=Zc(null,d));else if(Ls(s),dg(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var me=N.dgst;N=me,d=Error(r(419)),d.stack="",d.digest=N,Pc({value:d,source:null,stack:null}),s=Dp(a,s,u)}else if(En||au(a,s,u,!1),N=(u&a.childLanes)!==0,En||N){if(N=Pt,N!==null&&(d=Mo(N,u),d!==0&&d!==ne.retryLane))throw ne.retryLane=d,Yo(a,d),xr(N,a,d),Cp;fg(F)||kf(),s=Dp(a,s,u)}else fg(F)?(s.flags|=192,s.child=a.child,s=null):(a=ne.treeContext,Ft=pi(F.nextSibling),$n=s,yt=!0,Ms=null,di=!1,a!==null&&W_(s,a),s=kp(s,d.children),s.flags|=4096);return s}return y?(qs(),F=d.fallback,y=s.mode,ne=a.child,me=ne.sibling,d=Da(ne,{mode:"hidden",children:d.children}),d.subtreeFlags=ne.subtreeFlags&65011712,me!==null?F=Da(me,F):(F=Xo(F,y,u,null),F.flags|=2),F.return=s,d.return=s,d.sibling=F,s.child=d,Zc(null,d),d=s.child,F=a.child.memoizedState,F===null?F=Np(u):(y=F.cachePool,y!==null?(ne=xn._currentValue,y=y.parent!==ne?{parent:ne,pool:ne}:y):y=ib(),F={baseLanes:F.baseLanes|u,cachePool:y}),d.memoizedState=F,d.childLanes=Mp(a,N,u),s.memoizedState=Ip,Zc(a.child,d)):(Ls(s),u=a.child,a=u.sibling,u=Da(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=u,s.memoizedState=null,u)}function kp(a,s){return s=Sf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Sf(a,s){return a=Lr(22,a,null,s),a.lanes=0,a}function Dp(a,s,u){return tl(s,a.child,null,u),a=kp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function v8(a,s,u){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),X1(a.return,s,u)}function Op(a,s,u,d,y,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=u,N.tailMode=y,N.treeForkCount=_)}function y8(a,s,u){var d=s.pendingProps,y=d.revealOrder,_=d.tail;d=d.children;var N=pn.current,F=(N&2)!==0;if(F?(N=N&1|2,s.flags|=128):N&=1,pe(pn,N),Xn(a,s,d,u),d=yt?qc:0,!F&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&v8(a,u,s);else if(a.tag===19)v8(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=s.child,y=null;u!==null;)a=u.alternate,a!==null&&hf(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),Op(s,!1,y,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&hf(a)===null){s.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Op(s,!0,u,null,_,d);break;case"together":Op(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Pa(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Us|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(au(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Da(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Da(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function zp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&nf(a)))}function AV(a,s,u){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),Ds(s,xn,a.memoizedState.cache),Ko();break;case 27:case 5:Ve(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sp(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Ls(s),s.flags|=128,null):(u&s.child.childLanes)!==0?g8(a,s,u):(Ls(s),a=Pa(a,s,u),a!==null?a.sibling:null);Ls(s);break;case 19:var y=(a.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(au(a,s,u,!1),d=(u&s.childLanes)!==0),y){if(d)return y8(a,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(pn,pn.current),d)break;return null;case 22:return s.lanes=0,c8(a,s,u,s.pendingProps);case 24:Ds(s,xn,a.memoizedState.cache)}return Pa(a,s,u)}function _8(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)En=!0;else{if(!zp(a,u)&&(s.flags&128)===0)return En=!1,AV(a,s,u);En=(a.flags&131072)!==0}else En=!1,yt&&(s.flags&1048576)!==0&&Z_(s,qc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=Jo(s.elementType),s.type=a,typeof a=="function")B1(a)?(d=rl(a,d),s.tag=1,s=m8(null,s,a,d,u)):(s.tag=0,s=Rp(null,s,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===D){s.tag=11,s=o8(null,s,a,d,u);break e}else if(y===I){s.tag=14,s=l8(null,s,a,d,u);break e}}throw s=K(a)||a,Error(r(306,s,""))}}return s;case 0:return Rp(a,s,s.type,s.pendingProps,u);case 1:return d=s.type,y=rl(d,s.pendingProps),m8(a,s,d,y,u);case 3:e:{if(be(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var _=s.memoizedState;y=_.element,tp(a,s),$c(s,d,null,u);var N=s.memoizedState;if(d=N.cache,Ds(s,xn,d),d!==_.cache&&K1(s,[xn],u,!0),Gc(),d=N.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=p8(a,s,d,u);break e}else if(d!==y){y=ci(Error(r(424)),s),Pc(y),s=p8(a,s,d,u);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ft=pi(a.firstChild),$n=s,yt=!0,Ms=null,di=!0,u=cb(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ko(),d===y){s=Pa(a,s,u);break e}Xn(a,s,d,u)}s=s.child}return s;case 26:return xf(a,s),a===null?(u=N9(s.type,null,s.pendingProps,null))?s.memoizedState=u:yt||(u=s.type,a=s.pendingProps,d=Pf(ce.current).createElement(u),d[on]=s,d[bn]=a,Kn(d,u,a),ln(d),s.stateNode=d):s.memoizedState=N9(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ve(s),a===null&&yt&&(d=s.stateNode=C9(s.type,s.pendingProps,ce.current),$n=s,di=!0,y=Ft,$s(s.type)?(mg=y,Ft=pi(d.firstChild)):Ft=y),Xn(a,s,s.pendingProps.children,u),xf(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&yt&&((y=d=Ft)&&(d=nL(d,s.type,s.pendingProps,di),d!==null?(s.stateNode=d,$n=s,Ft=pi(d.firstChild),di=!1,y=!0):y=!1),y||ks(s)),Ve(s),y=s.type,_=s.pendingProps,N=a!==null?a.memoizedProps:null,d=_.children,ug(y,_)?d=null:N!==null&&ug(y,N)&&(s.flags|=32),s.memoizedState!==null&&(y=lp(a,s,vV,null,null,u),f0._currentValue=y),xf(a,s),Xn(a,s,d,u),s.child;case 6:return a===null&&yt&&((a=u=Ft)&&(u=rL(u,s.pendingProps,di),u!==null?(s.stateNode=u,$n=s,Ft=null,a=!0):a=!1),a||ks(s)),null;case 13:return g8(a,s,u);case 4:return be(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=tl(s,null,d,u):Xn(a,s,d,u),s.child;case 11:return o8(a,s,s.type,s.pendingProps,u);case 7:return Xn(a,s,s.pendingProps,u),s.child;case 8:return Xn(a,s,s.pendingProps.children,u),s.child;case 12:return Xn(a,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,Ds(s,s.type,d.value),Xn(a,s,d.children,u),s.child;case 9:return y=s.type._context,d=s.pendingProps.children,Zo(s),y=Yn(y),d=d(y),s.flags|=1,Xn(a,s,d,u),s.child;case 14:return l8(a,s,s.type,s.pendingProps,u);case 15:return u8(a,s,s.type,s.pendingProps,u);case 19:return y8(a,s,u);case 31:return TV(a,s,u);case 22:return c8(a,s,u,s.pendingProps);case 24:return Zo(s),d=Yn(xn),a===null?(y=W1(),y===null&&(y=Pt,_=Q1(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),s.memoizedState={parent:d,cache:y},ep(s),Ds(s,xn,y)):((a.lanes&u)!==0&&(tp(a,s),$c(s,null,null,u),Gc()),y=a.memoizedState,_=s.memoizedState,y.parent!==d?(y={parent:d,cache:d},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ds(s,xn,d)):(d=_.cache,Ds(s,xn,d),d!==y.cache&&K1(s,[xn],u,!0))),Xn(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ba(a){a.flags|=4}function Vp(a,s,u,d,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if($8())a.flags|=8192;else throw el=of,J1}else a.flags&=-16777217}function b8(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!z9(s))if($8())a.flags|=8192;else throw el=of,J1}function Ef(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Ll():536870912,a.lanes|=s,vu|=s)}function Wc(a,s){if(!yt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Gt(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(s)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,s}function CV(a,s,u){var d=s.pendingProps;switch(F1(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return Gt(s),null;case 3:return u=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Va(xn),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(iu(s)?Ba(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$1())),Gt(s),null;case 26:var y=s.type,_=s.memoizedState;return a===null?(Ba(s),_!==null?(Gt(s),b8(s,_)):(Gt(s),Vp(s,y,null,d,u))):_?_!==a.memoizedState?(Ba(s),Gt(s),b8(s,_)):(Gt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&Ba(s),Gt(s),Vp(s,y,a,d,u)),null;case 27:if(He(s),u=ce.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Ba(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}a=Q.current,iu(s)?J_(s):(a=C9(y,d,u),s.stateNode=a,Ba(s))}return Gt(s),null;case 5:if(He(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Ba(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}if(_=Q.current,iu(s))J_(s);else{var N=Pf(ce.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?N.createElement(y,{is:d.is}):N.createElement(y)}}_[on]=s,_[bn]=d;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch(Kn(_,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ba(s)}}return Gt(s),Vp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&Ba(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=ce.current,iu(s)){if(a=s.stateNode,u=s.memoizedProps,d=null,y=$n,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[on]=s,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||g9(a.nodeValue,u)),a||ks(s,!0)}else a=Pf(a).createTextNode(d),a[on]=s,s.stateNode=a}return Gt(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(d=iu(s),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[on]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),a=!1}else u=$1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Pr(s),s):(Pr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Gt(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=iu(s),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[on]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),y=!1}else y=$1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Pr(s),s):(Pr(s),null)}return Pr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=s.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),Ef(s,s.updateQueue),Gt(s),null);case 4:return Ce(),a===null&&ig(s.stateNode.containerInfo),Gt(s),null;case 10:return Va(s.type),Gt(s),null;case 19:if(ee(pn),d=s.memoizedState,d===null)return Gt(s),null;if(y=(s.flags&128)!==0,_=d.rendering,_===null)if(y)Wc(d,!1);else{if(hn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=hf(a),_!==null){for(s.flags|=128,Wc(d,!1),a=_.updateQueue,s.updateQueue=a,Ef(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)X_(u,a),u=u.sibling;return pe(pn,pn.current&1|2),yt&&Oa(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&Yt()>If&&(s.flags|=128,y=!0,Wc(d,!1),s.lanes=4194304)}else{if(!y)if(a=hf(_),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,Ef(s,a),Wc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!yt)return Gt(s),null}else 2*Yt()-d.renderingStartTime>If&&u!==536870912&&(s.flags|=128,y=!0,Wc(d,!1),s.lanes=4194304);d.isBackwards?(_.sibling=s.child,s.child=_):(a=d.last,a!==null?a.sibling=_:s.child=_,d.last=_)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Yt(),a.sibling=null,u=pn.current,pe(pn,y?u&1|2:u&1),yt&&Oa(s,d.treeForkCount),a):(Gt(s),null);case 22:case 23:return Pr(s),ap(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),u=s.updateQueue,u!==null&&Ef(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),a!==null&&ee(Wo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Va(xn),Gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function RV(a,s){switch(F1(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Va(xn),Ce(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 31:if(s.memoizedState!==null){if(Pr(s),s.alternate===null)throw Error(r(340));Ko()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Pr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ko()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ee(pn),null;case 4:return Ce(),null;case 10:return Va(s.type),null;case 22:case 23:return Pr(s),ap(),a!==null&&ee(Wo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Va(xn),null;case 25:return null;default:return null}}function w8(a,s){switch(F1(s),s.tag){case 3:Va(xn),Ce();break;case 26:case 27:case 5:He(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&Pr(s);break;case 13:Pr(s);break;case 19:ee(pn);break;case 10:Va(s.type);break;case 22:case 23:Pr(s),ap(),a!==null&&ee(Wo);break;case 24:Va(xn)}}function Jc(a,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var _=u.create,N=u.inst;d=_(),N.destroy=d}u=u.next}while(u!==y)}}catch(F){kt(s,s.return,F)}}function Ps(a,s,u){try{var d=s.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&a)===a){var N=d.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,y=s;var ne=u,me=F;try{me()}catch(xe){kt(y,ne,xe)}}}d=d.next}while(d!==_)}}catch(xe){kt(s,s.return,xe)}}function x8(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{fb(s,u)}catch(d){kt(a,a.return,d)}}}function S8(a,s,u){u.props=rl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){kt(a,s,d)}}function e0(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){kt(a,s,y)}}function ta(a,s){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){kt(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){kt(a,s,y)}else u.current=null}function E8(a){var s=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){kt(a,a.return,y)}}function Lp(a,s,u){try{var d=a.stateNode;QV(d,a.type,u,s),d[bn]=s}catch(y){kt(a,a.return,y)}}function T8(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&$s(a.type)||a.tag===4}function qp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||T8(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&$s(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Pp(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ti));else if(d!==4&&(d===27&&$s(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(Pp(a,s,u),a=a.sibling;a!==null;)Pp(a,s,u),a=a.sibling}function Tf(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(d!==4&&(d===27&&$s(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Tf(a,s,u),a=a.sibling;a!==null;)Tf(a,s,u),a=a.sibling}function A8(a){var s=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Kn(s,d,u),s[on]=a,s[bn]=u}catch(_){kt(a,a.return,_)}}var Ua=!1,Tn=!1,Bp=!1,C8=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function IV(a,s){if(a=a.containerInfo,og=$f,a=P_(a),D1(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,F=-1,ne=-1,me=0,xe=0,Te=a,ve=null;t:for(;;){for(var we;Te!==u||y!==0&&Te.nodeType!==3||(F=N+y),Te!==_||d!==0&&Te.nodeType!==3||(ne=N+d),Te.nodeType===3&&(N+=Te.nodeValue.length),(we=Te.firstChild)!==null;)ve=Te,Te=we;for(;;){if(Te===a)break t;if(ve===u&&++me===y&&(F=N),ve===_&&++xe===d&&(ne=N),(we=Te.nextSibling)!==null)break;Te=ve,ve=Te.parentNode}Te=we}u=F===-1||ne===-1?null:{start:F,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(lg={focusedElem:a,selectionRange:u},$f=!1,Bn=s;Bn!==null;)if(s=Bn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Bn=a;else for(;Bn!==null;){switch(s=Bn,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=s,y=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var Ue=rl(u.type,y);a=d.getSnapshotBeforeUpdate(Ue,_),d.__reactInternalSnapshotBeforeUpdate=a}catch(Je){kt(u,u.return,Je)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)hg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":hg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Bn=a;break}Bn=s.return}}function R8(a,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ha(a,u),d&4&&Jc(5,u);break;case 1:if(Ha(a,u),d&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(N){kt(u,u.return,N)}else{var y=rl(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}d&64&&x8(u),d&512&&e0(u,u.return);break;case 3:if(Ha(a,u),d&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{fb(a,s)}catch(N){kt(u,u.return,N)}}break;case 27:s===null&&d&4&&A8(u);case 26:case 5:Ha(a,u),s===null&&d&4&&E8(u),d&512&&e0(u,u.return);break;case 12:Ha(a,u);break;case 31:Ha(a,u),d&4&&M8(a,u);break;case 13:Ha(a,u),d&4&&k8(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=qV.bind(null,u),iL(a,u))));break;case 22:if(d=u.memoizedState!==null||Ua,!d){s=s!==null&&s.memoizedState!==null||Tn,y=Ua;var _=Tn;Ua=d,(Tn=s)&&!_?Fa(a,u,(u.subtreeFlags&8772)!==0):Ha(a,u),Ua=y,Tn=_}break;case 30:break;default:Ha(a,u)}}function I8(a){var s=a.alternate;s!==null&&(a.alternate=null,I8(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&bs(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Kt=null,yr=!1;function ja(a,s,u){for(u=u.child;u!==null;)N8(a,s,u),u=u.sibling}function N8(a,s,u){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(an,u)}catch{}switch(u.tag){case 26:Tn||ta(u,s),ja(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Tn||ta(u,s);var d=Kt,y=yr;$s(u.type)&&(Kt=u.stateNode,yr=!1),ja(a,s,u),u0(u.stateNode),Kt=d,yr=y;break;case 5:Tn||ta(u,s);case 6:if(d=Kt,y=yr,Kt=null,ja(a,s,u),Kt=d,yr=y,Kt!==null)if(yr)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(u.stateNode)}catch(_){kt(u,s,_)}else try{Kt.removeChild(u.stateNode)}catch(_){kt(u,s,_)}break;case 18:Kt!==null&&(yr?(a=Kt,x9(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Tu(a)):x9(Kt,u.stateNode));break;case 4:d=Kt,y=yr,Kt=u.stateNode.containerInfo,yr=!0,ja(a,s,u),Kt=d,yr=y;break;case 0:case 11:case 14:case 15:Ps(2,u,s),Tn||Ps(4,u,s),ja(a,s,u);break;case 1:Tn||(ta(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&S8(u,s,d)),ja(a,s,u);break;case 21:ja(a,s,u);break;case 22:Tn=(d=Tn)||u.memoizedState!==null,ja(a,s,u),Tn=d;break;default:ja(a,s,u)}}function M8(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Tu(a)}catch(u){kt(s,s.return,u)}}}function k8(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Tu(a)}catch(u){kt(s,s.return,u)}}function NV(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new C8),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new C8),s;default:throw Error(r(435,a.tag))}}function Af(a,s){var u=NV(a);s.forEach(function(d){if(!u.has(d)){u.add(d);var y=PV.bind(null,a,d);d.then(y,y)}})}function _r(a,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],_=a,N=s,F=N;e:for(;F!==null;){switch(F.tag){case 27:if($s(F.type)){Kt=F.stateNode,yr=!1;break e}break;case 5:Kt=F.stateNode,yr=!1;break e;case 3:case 4:Kt=F.stateNode.containerInfo,yr=!0;break e}F=F.return}if(Kt===null)throw Error(r(160));N8(_,N,y),Kt=null,yr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)D8(s,a),s=s.sibling}var Mi=null;function D8(a,s){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:_r(s,a),br(a),d&4&&(Ps(3,a,a.return),Jc(3,a),Ps(5,a,a.return));break;case 1:_r(s,a),br(a),d&512&&(Tn||u===null||ta(u,u.return)),d&64&&Ua&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Mi;if(_r(s,a),br(a),d&512&&(Tn||u===null||ta(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[ti]||_[on]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),Kn(_,d,u),_[on]=a,ln(_),d=_;break e;case"link":var N=D9("link","href",y).get(d+(u.href||""));if(N){for(var F=0;F<N.length;F++)if(_=N[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(F,1);break t}}_=y.createElement(d),Kn(_,d,u),y.head.appendChild(_);break;case"meta":if(N=D9("meta","content",y).get(d+(u.content||""))){for(F=0;F<N.length;F++)if(_=N[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(F,1);break t}}_=y.createElement(d),Kn(_,d,u),y.head.appendChild(_);break;default:throw Error(r(468,d))}_[on]=a,ln(_),d=_}a.stateNode=d}else O9(y,a.type,a.stateNode);else a.stateNode=k9(y,d,a.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?O9(y,a.type,a.stateNode):k9(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Lp(a,a.memoizedProps,u.memoizedProps)}break;case 27:_r(s,a),br(a),d&512&&(Tn||u===null||ta(u,u.return)),u!==null&&d&4&&Lp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(_r(s,a),br(a),d&512&&(Tn||u===null||ta(u,u.return)),a.flags&32){y=a.stateNode;try{vr(y,"")}catch(Ue){kt(a,a.return,Ue)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,Lp(a,y,u!==null?u.memoizedProps:y)),d&1024&&(Bp=!0);break;case 6:if(_r(s,a),br(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ue){kt(a,a.return,Ue)}}break;case 3:if(jf=null,y=Mi,Mi=Bf(s.containerInfo),_r(s,a),Mi=y,br(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Tu(s.containerInfo)}catch(Ue){kt(a,a.return,Ue)}Bp&&(Bp=!1,O8(a));break;case 4:d=Mi,Mi=Bf(a.stateNode.containerInfo),_r(s,a),br(a),Mi=d;break;case 12:_r(s,a),br(a);break;case 31:_r(s,a),br(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Af(a,d)));break;case 13:_r(s,a),br(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rf=Yt()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Af(a,d)));break;case 22:y=a.memoizedState!==null;var ne=u!==null&&u.memoizedState!==null,me=Ua,xe=Tn;if(Ua=me||y,Tn=xe||ne,_r(s,a),Tn=xe,Ua=me,br(a),d&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(u===null||ne||Ua||Tn||il(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){ne=u=s;try{if(_=ne.stateNode,y)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=ne.stateNode;var Te=ne.memoizedProps.style,ve=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ue){kt(ne,ne.return,Ue)}}}else if(s.tag===6){if(u===null){ne=s;try{ne.stateNode.nodeValue=y?"":ne.memoizedProps}catch(Ue){kt(ne,ne.return,Ue)}}}else if(s.tag===18){if(u===null){ne=s;try{var we=ne.stateNode;y?S9(we,!0):S9(ne.stateNode,!1)}catch(Ue){kt(ne,ne.return,Ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Af(a,u))));break;case 19:_r(s,a),br(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Af(a,d)));break;case 30:break;case 21:break;default:_r(s,a),br(a)}}function br(a){var s=a.flags;if(s&2){try{for(var u,d=a.return;d!==null;){if(T8(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,_=qp(a);Tf(a,_,y);break;case 5:var N=u.stateNode;u.flags&32&&(vr(N,""),u.flags&=-33);var F=qp(a);Tf(a,F,N);break;case 3:case 4:var ne=u.stateNode.containerInfo,me=qp(a);Pp(a,me,ne);break;default:throw Error(r(161))}}catch(xe){kt(a,a.return,xe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function O8(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;O8(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ha(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)R8(a,s.alternate,s),s=s.sibling}function il(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ps(4,s,s.return),il(s);break;case 1:ta(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&S8(s,s.return,u),il(s);break;case 27:u0(s.stateNode);case 26:case 5:ta(s,s.return),il(s);break;case 22:s.memoizedState===null&&il(s);break;case 30:il(s);break;default:il(s)}a=a.sibling}}function Fa(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,y=a,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(y,_,u),Jc(4,_);break;case 1:if(Fa(y,_,u),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(me){kt(d,d.return,me)}if(d=_,y=d.updateQueue,y!==null){var F=d.stateNode;try{var ne=y.shared.hiddenCallbacks;if(ne!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ne.length;y++)hb(ne[y],F)}catch(me){kt(d,d.return,me)}}u&&N&64&&x8(_),e0(_,_.return);break;case 27:A8(_);case 26:case 5:Fa(y,_,u),u&&d===null&&N&4&&E8(_),e0(_,_.return);break;case 12:Fa(y,_,u);break;case 31:Fa(y,_,u),u&&N&4&&M8(y,_);break;case 13:Fa(y,_,u),u&&N&4&&k8(y,_);break;case 22:_.memoizedState===null&&Fa(y,_,u),e0(_,_.return);break;case 30:break;default:Fa(y,_,u)}s=s.sibling}}function Up(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Bc(u))}function jp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bc(a))}function ki(a,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)z8(a,s,u,d),s=s.sibling}function z8(a,s,u,d){var y=s.flags;switch(s.tag){case 0:case 11:case 15:ki(a,s,u,d),y&2048&&Jc(9,s);break;case 1:ki(a,s,u,d);break;case 3:ki(a,s,u,d),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bc(a)));break;case 12:if(y&2048){ki(a,s,u,d),a=s.stateNode;try{var _=s.memoizedProps,N=_.id,F=_.onPostCommit;typeof F=="function"&&F(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){kt(s,s.return,ne)}}else ki(a,s,u,d);break;case 31:ki(a,s,u,d);break;case 13:ki(a,s,u,d);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?ki(a,s,u,d):t0(a,s):_._visibility&2?ki(a,s,u,d):(_._visibility|=2,mu(a,s,u,d,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Up(N,s);break;case 24:ki(a,s,u,d),y&2048&&jp(s.alternate,s);break;default:ki(a,s,u,d)}}function mu(a,s,u,d,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,N=s,F=u,ne=d,me=N.flags;switch(N.tag){case 0:case 11:case 15:mu(_,N,F,ne,y),Jc(8,N);break;case 23:break;case 22:var xe=N.stateNode;N.memoizedState!==null?xe._visibility&2?mu(_,N,F,ne,y):t0(_,N):(xe._visibility|=2,mu(_,N,F,ne,y)),y&&me&2048&&Up(N.alternate,N);break;case 24:mu(_,N,F,ne,y),y&&me&2048&&jp(N.alternate,N);break;default:mu(_,N,F,ne,y)}s=s.sibling}}function t0(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,d=s,y=d.flags;switch(d.tag){case 22:t0(u,d),y&2048&&Up(d.alternate,d);break;case 24:t0(u,d),y&2048&&jp(d.alternate,d);break;default:t0(u,d)}s=s.sibling}}var n0=8192;function pu(a,s,u){if(a.subtreeFlags&n0)for(a=a.child;a!==null;)V8(a,s,u),a=a.sibling}function V8(a,s,u){switch(a.tag){case 26:pu(a,s,u),a.flags&n0&&a.memoizedState!==null&&gL(u,Mi,a.memoizedState,a.memoizedProps);break;case 5:pu(a,s,u);break;case 3:case 4:var d=Mi;Mi=Bf(a.stateNode.containerInfo),pu(a,s,u),Mi=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=n0,n0=16777216,pu(a,s,u),n0=d):pu(a,s,u));break;default:pu(a,s,u)}}function L8(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function r0(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Bn=d,P8(d,a)}L8(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)q8(a),a=a.sibling}function q8(a){switch(a.tag){case 0:case 11:case 15:r0(a),a.flags&2048&&Ps(9,a,a.return);break;case 3:r0(a);break;case 12:r0(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Cf(a)):r0(a);break;default:r0(a)}}function Cf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Bn=d,P8(d,a)}L8(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ps(8,s,s.return),Cf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Cf(s));break;default:Cf(s)}a=a.sibling}}function P8(a,s){for(;Bn!==null;){var u=Bn;switch(u.tag){case 0:case 11:case 15:Ps(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Bc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Bn=d;else e:for(u=a;Bn!==null;){d=Bn;var y=d.sibling,_=d.return;if(I8(d),d===u){Bn=null;break e}if(y!==null){y.return=_,Bn=y;break e}Bn=_}}}var MV={getCacheForType:function(a){var s=Yn(xn),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return Yn(xn).controller.signal}},kV=typeof WeakMap=="function"?WeakMap:Map,It=0,Pt=null,ht=null,dt=0,Mt=0,Br=null,Bs=!1,gu=!1,Hp=!1,Ga=0,hn=0,Us=0,al=0,Fp=0,Ur=0,vu=0,i0=null,wr=null,Gp=!1,Rf=0,B8=0,If=1/0,Nf=null,js=null,Dn=0,Hs=null,yu=null,$a=0,$p=0,Yp=null,U8=null,a0=0,Xp=null;function jr(){return(It&2)!==0&&dt!==0?dt&-dt:$.T!==null?eg():ql()}function j8(){if(Ur===0)if((dt&536870912)===0||yt){var a=Sa;Sa<<=1,(Sa&3932160)===0&&(Sa=262144),Ur=a}else Ur=536870912;return a=qr.current,a!==null&&(a.flags|=32),Ur}function xr(a,s,u){(a===Pt&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)&&(_u(a,0),Fs(a,dt,Ur,!1)),Ea(a,u),((It&2)===0||a!==Pt)&&(a===Pt&&((It&2)===0&&(al|=u),hn===4&&Fs(a,dt,Ur,!1)),na(a))}function H8(a,s,u){if((It&6)!==0)throw Error(r(327));var d=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Mr(a,s),y=d?zV(a,s):Qp(a,s,!0),_=d;do{if(y===0){gu&&!d&&Fs(a,s,0,!1);break}else{if(u=a.current.alternate,_&&!DV(u)){y=Qp(a,s,!1),_=!1;continue}if(y===2){if(_=s,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var F=a;y=i0;var ne=F.current.memoizedState.isDehydrated;if(ne&&(_u(F,N).flags|=256),N=Qp(F,N,!1),N!==2){if(Hp&&!ne){F.errorRecoveryDisabledLanes|=_,al|=_,y=4;break e}_=wr,wr=y,_!==null&&(wr===null?wr=_:wr.push.apply(wr,_))}y=N}if(_=!1,y!==2)continue}}if(y===1){_u(a,0),Fs(a,s,0,!0);break}e:{switch(d=a,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(d,s,Ur,!Bs);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=Rf+300-Yt(),10<y)){if(Fs(d,s,Ur,!Bs),Jr(d,0,!0)!==0)break e;$a=s,d.timeoutHandle=b9(F8.bind(null,d,u,wr,Nf,Gp,s,Ur,al,vu,Bs,_,"Throttled",-0,0),y);break e}F8(d,u,wr,Nf,Gp,s,Ur,al,vu,Bs,_,null,-0,0)}}break}while(!0);na(a)}function F8(a,s,u,d,y,_,N,F,ne,me,xe,Te,ve,we){if(a.timeoutHandle=-1,Te=s.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},V8(s,_,Te);var Ue=(_&62914560)===_?Rf-Yt():(_&4194048)===_?B8-Yt():0;if(Ue=vL(Te,Ue),Ue!==null){$a=_,a.cancelPendingCommit=Ue(W8.bind(null,a,s,_,u,d,y,N,F,ne,xe,Te,null,ve,we)),Fs(a,_,N,!me);return}}W8(a,s,_,u,d,y,N,F,ne)}function DV(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],_=y.getSnapshot;y=y.value;try{if(!Vr(_(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(a,s,u,d){s&=~Fp,s&=~al,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var y=s;0<y;){var _=31-en(y),N=1<<_;d[_]=-1,y&=~N}u!==0&&Ta(a,u,s)}function Mf(){return(It&6)===0?(s0(0),!1):!0}function Kp(){if(ht!==null){if(Mt===0)var a=ht.return;else a=ht,za=Qo=null,hp(a),uu=null,jc=0,a=ht;for(;a!==null;)w8(a.alternate,a),a=a.return;ht=null}}function _u(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,JV(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),$a=0,Kp(),Pt=a,ht=u=Da(a.current,null),dt=s,Mt=0,Br=null,Bs=!1,gu=Mr(a,s),Hp=!1,vu=Ur=Fp=al=Us=hn=0,wr=i0=null,Gp=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var y=31-en(d),_=1<<y;s|=a[y],d&=~_}return Ga=s,Zh(),u}function G8(a,s){lt=null,$.H=Qc,s===lu||s===sf?(s=ob(),Mt=3):s===J1?(s=ob(),Mt=4):Mt=s===Cp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Br=s,ht===null&&(hn=1,bf(a,ci(s,a.current)))}function $8(){var a=qr.current;return a===null?!0:(dt&4194048)===dt?mi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===mi:!1}function Y8(){var a=$.H;return $.H=Qc,a===null?Qc:a}function X8(){var a=$.A;return $.A=MV,a}function kf(){hn=4,Bs||(dt&4194048)!==dt&&qr.current!==null||(gu=!0),(Us&134217727)===0&&(al&134217727)===0||Pt===null||Fs(Pt,dt,Ur,!1)}function Qp(a,s,u){var d=It;It|=2;var y=Y8(),_=X8();(Pt!==a||dt!==s)&&(Nf=null,_u(a,s)),s=!1;var N=hn;e:do try{if(Mt!==0&&ht!==null){var F=ht,ne=Br;switch(Mt){case 8:Kp(),N=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(s=!0);var me=Mt;if(Mt=0,Br=null,bu(a,F,ne,me),u&&gu){N=0;break e}break;default:me=Mt,Mt=0,Br=null,bu(a,F,ne,me)}}OV(),N=hn;break}catch(xe){G8(a,xe)}while(!0);return s&&a.shellSuspendCounter++,za=Qo=null,It=d,$.H=y,$.A=_,ht===null&&(Pt=null,dt=0,Zh()),N}function OV(){for(;ht!==null;)K8(ht)}function zV(a,s){var u=It;It|=2;var d=Y8(),y=X8();Pt!==a||dt!==s?(Nf=null,If=Yt()+500,_u(a,s)):gu=Mr(a,s);e:do try{if(Mt!==0&&ht!==null){s=ht;var _=Br;t:switch(Mt){case 1:Mt=0,Br=null,bu(a,s,_,1);break;case 2:case 9:if(ab(_)){Mt=0,Br=null,Q8(s);break}s=function(){Mt!==2&&Mt!==9||Pt!==a||(Mt=7),na(a)},_.then(s,s);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:ab(_)?(Mt=0,Br=null,Q8(s)):(Mt=0,Br=null,bu(a,s,_,7));break;case 5:var N=null;switch(ht.tag){case 26:N=ht.memoizedState;case 5:case 27:var F=ht;if(N?z9(N):F.stateNode.complete){Mt=0,Br=null;var ne=F.sibling;if(ne!==null)ht=ne;else{var me=F.return;me!==null?(ht=me,Df(me)):ht=null}break t}}Mt=0,Br=null,bu(a,s,_,5);break;case 6:Mt=0,Br=null,bu(a,s,_,6);break;case 8:Kp(),hn=6;break e;default:throw Error(r(462))}}VV();break}catch(xe){G8(a,xe)}while(!0);return za=Qo=null,$.H=d,$.A=y,It=u,ht!==null?0:(Pt=null,dt=0,Zh(),hn)}function VV(){for(;ht!==null&&!qn();)K8(ht)}function K8(a){var s=_8(a.alternate,a,Ga);a.memoizedProps=a.pendingProps,s===null?Df(a):ht=s}function Q8(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=d8(u,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=d8(u,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:hp(s);default:w8(u,s),s=ht=X_(s,Ga),s=_8(u,s,Ga)}a.memoizedProps=a.pendingProps,s===null?Df(a):ht=s}function bu(a,s,u,d){za=Qo=null,hp(s),uu=null,jc=0;var y=s.return;try{if(EV(a,y,s,u,dt)){hn=1,bf(a,ci(u,a.current)),ht=null;return}}catch(_){if(y!==null)throw ht=y,_;hn=1,bf(a,ci(u,a.current)),ht=null;return}s.flags&32768?(yt||d===1?a=!0:gu||(dt&536870912)!==0?a=!1:(Bs=a=!0,(d===2||d===9||d===3||d===6)&&(d=qr.current,d!==null&&d.tag===13&&(d.flags|=16384))),Z8(s,a)):Df(s)}function Df(a){var s=a;do{if((s.flags&32768)!==0){Z8(s,Bs);return}a=s.return;var u=CV(s.alternate,s,Ga);if(u!==null){ht=u;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=a}while(s!==null);hn===0&&(hn=5)}function Z8(a,s){do{var u=RV(a.alternate,a);if(u!==null){u.flags&=32767,ht=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){ht=a;return}ht=a=u}while(a!==null);hn=6,ht=null}function W8(a,s,u,d,y,_,N,F,ne){a.cancelPendingCommit=null;do Of();while(Dn!==0);if((It&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=q1,Tc(a,u,_,N,F,ne),a===Pt&&(ht=Pt=null,dt=0),yu=s,Hs=a,$a=u,$p=_,Yp=y,U8=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,BV(Pn,function(){return r9(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=W.p,W.p=2,N=It,It|=4;try{IV(a,s,u)}finally{It=N,W.p=y,$.T=d}}Dn=1,J8(),e9(),t9()}}function J8(){if(Dn===1){Dn=0;var a=Hs,s=yu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=W.p;W.p=2;var y=It;It|=4;try{D8(s,a);var _=lg,N=P_(a.containerInfo),F=_.focusedElem,ne=_.selectionRange;if(N!==F&&F&&F.ownerDocument&&q_(F.ownerDocument.documentElement,F)){if(ne!==null&&D1(F)){var me=ne.start,xe=ne.end;if(xe===void 0&&(xe=me),"selectionStart"in F)F.selectionStart=me,F.selectionEnd=Math.min(xe,F.value.length);else{var Te=F.ownerDocument||document,ve=Te&&Te.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),Ue=F.textContent.length,Je=Math.min(ne.start,Ue),Vt=ne.end===void 0?Je:Math.min(ne.end,Ue);!we.extend&&Je>Vt&&(N=Vt,Vt=Je,Je=N);var ue=L_(F,Je),ae=L_(F,Vt);if(ue&&ae&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var fe=Te.createRange();fe.setStart(ue.node,ue.offset),we.removeAllRanges(),Je>Vt?(we.addRange(fe),we.extend(ae.node,ae.offset)):(fe.setEnd(ae.node,ae.offset),we.addRange(fe))}}}}for(Te=[],we=F;we=we.parentNode;)we.nodeType===1&&Te.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Se=Te[F];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}$f=!!og,lg=og=null}finally{It=y,W.p=d,$.T=u}}a.current=s,Dn=2}}function e9(){if(Dn===2){Dn=0;var a=Hs,s=yu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=W.p;W.p=2;var y=It;It|=4;try{R8(a,s.alternate,s)}finally{It=y,W.p=d,$.T=u}}Dn=3}}function t9(){if(Dn===4||Dn===3){Dn=0,Ht();var a=Hs,s=yu,u=$a,d=U8;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,yu=Hs=null,n9(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(js=null),Si(u),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(an,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=$.T,y=W.p,W.p=2,$.T=null;try{for(var _=a.onRecoverableError,N=0;N<d.length;N++){var F=d[N];_(F.value,{componentStack:F.stack})}}finally{$.T=s,W.p=y}}($a&3)!==0&&Of(),na(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===Xp?a0++:(a0=0,Xp=a):a0=0,s0(0)}}function n9(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Bc(s)))}function Of(){return J8(),e9(),t9(),r9()}function r9(){if(Dn!==5)return!1;var a=Hs,s=$p;$p=0;var u=Si($a),d=$.T,y=W.p;try{W.p=32>u?32:u,$.T=null,u=Yp,Yp=null;var _=Hs,N=$a;if(Dn=0,yu=Hs=null,$a=0,(It&6)!==0)throw Error(r(331));var F=It;if(It|=4,q8(_.current),z8(_,_.current,N,u),It=F,s0(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(an,_)}catch{}return!0}finally{W.p=y,$.T=d,n9(a,s)}}function i9(a,s,u){s=ci(u,s),s=Ap(a.stateNode,s,2),a=Vs(a,s,2),a!==null&&(Ea(a,2),na(a))}function kt(a,s,u){if(a.tag===3)i9(a,a,u);else for(;s!==null;){if(s.tag===3){i9(s,a,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))){a=ci(u,a),u=a8(2),d=Vs(s,u,2),d!==null&&(s8(u,d,s,a),Ea(d,2),na(d));break}}s=s.return}}function Zp(a,s,u){var d=a.pingCache;if(d===null){d=a.pingCache=new kV;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(u)||(Hp=!0,y.add(u),a=LV.bind(null,a,s,u),s.then(a,a))}function LV(a,s,u){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Pt===a&&(dt&u)===u&&(hn===4||hn===3&&(dt&62914560)===dt&&300>Yt()-Rf?(It&2)===0&&_u(a,0):Fp|=u,vu===dt&&(vu=0)),na(a)}function a9(a,s){s===0&&(s=Ll()),a=Yo(a,s),a!==null&&(Ea(a,s),na(a))}function qV(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),a9(a,u)}function PV(a,s){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),a9(a,u)}function BV(a,s){return Nt(a,s)}var zf=null,wu=null,Wp=!1,Vf=!1,Jp=!1,Gs=0;function na(a){a!==wu&&a.next===null&&(wu===null?zf=wu=a:wu=wu.next=a),Vf=!0,Wp||(Wp=!0,jV())}function s0(a,s){if(!Jp&&Vf){Jp=!0;do for(var u=!1,d=zf;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var N=d.suspendedLanes,F=d.pingedLanes;_=(1<<31-en(42|a)+1)-1,_&=y&~(N&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,u9(d,_))}else _=dt,_=Jr(d,d===Pt?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Mr(d,_)||(u=!0,u9(d,_));d=d.next}while(u);Jp=!1}}function UV(){s9()}function s9(){Vf=Wp=!1;var a=0;Gs!==0&&WV()&&(a=Gs);for(var s=Yt(),u=null,d=zf;d!==null;){var y=d.next,_=o9(d,s);_===0?(d.next=null,u===null?zf=y:u.next=y,y===null&&(wu=u)):(u=d,(a!==0||(_&3)!==0)&&(Vf=!0)),d=y}Dn!==0&&Dn!==5||s0(a),Gs!==0&&(Gs=0)}function o9(a,s){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-en(_),F=1<<N,ne=y[N];ne===-1?((F&u)===0||(F&d)!==0)&&(y[N]=Ec(F,s)):ne<=s&&(a.expiredLanes|=F),_&=~F}if(s=Pt,u=dt,u=Jr(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===s&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&kn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Mr(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(d!==null&&kn(d),Si(u)){case 2:case 8:u=mr;break;case 32:u=Pn;break;case 268435456:u=xi;break;default:u=Pn}return d=l9.bind(null,a),u=Nt(u,d),a.callbackPriority=s,a.callbackNode=u,s}return d!==null&&d!==null&&kn(d),a.callbackPriority=2,a.callbackNode=null,2}function l9(a,s){if(Dn!==0&&Dn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Of()&&a.callbackNode!==u)return null;var d=dt;return d=Jr(a,a===Pt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(H8(a,d,s),o9(a,Yt()),a.callbackNode!=null&&a.callbackNode===u?l9.bind(null,a):null)}function u9(a,s){if(Of())return null;H8(a,s,!0)}function jV(){eL(function(){(It&6)!==0?Nt(dr,UV):s9()})}function eg(){if(Gs===0){var a=su;a===0&&(a=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),Gs=a}return Gs}function c9(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Gl(""+a)}function h9(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function HV(a,s,u,d,y){if(s==="submit"&&u&&u.stateNode===y){var _=c9((y[bn]||null).action),N=d.submitter;N&&(s=(s=N[bn]||null)?c9(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var F=new Ki("action","action",null,d,y);a.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gs!==0){var ne=N?h9(y,N):new FormData(y);bp(u,{pending:!0,data:ne,method:y.method,action:_},null,ne)}}else typeof _=="function"&&(F.preventDefault(),ne=N?h9(y,N):new FormData(y),bp(u,{pending:!0,data:ne,method:y.method,action:_},_,ne))},currentTarget:y}]})}}for(var tg=0;tg<L1.length;tg++){var ng=L1[tg],FV=ng.toLowerCase(),GV=ng[0].toUpperCase()+ng.slice(1);Ni(FV,"on"+GV)}Ni(j_,"onAnimationEnd"),Ni(H_,"onAnimationIteration"),Ni(F_,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(oV,"onTransitionRun"),Ni(lV,"onTransitionStart"),Ni(uV,"onTransitionCancel"),Ni(G_,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var o0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$V=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(o0));function f9(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var _=void 0;if(s)for(var N=d.length-1;0<=N;N--){var F=d[N],ne=F.instance,me=F.currentTarget;if(F=F.listener,ne!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=me;try{_(y)}catch(xe){Qh(xe)}y.currentTarget=null,_=ne}else for(N=0;N<d.length;N++){if(F=d[N],ne=F.instance,me=F.currentTarget,F=F.listener,ne!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=me;try{_(y)}catch(xe){Qh(xe)}y.currentTarget=null,_=ne}}}}function ft(a,s){var u=s[Ca];u===void 0&&(u=s[Ca]=new Set);var d=a+"__bubble";u.has(d)||(d9(s,a,2,!1),u.add(d))}function rg(a,s,u){var d=0;s&&(d|=4),d9(u,a,d,s)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function ig(a){if(!a[Lf]){a[Lf]=!0,ko.forEach(function(u){u!=="selectionchange"&&($V.has(u)||rg(u,!1,a),rg(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Lf]||(s[Lf]=!0,rg("selectionchange",!1,s))}}function d9(a,s,u,d){switch(j9(s)){case 2:var y=bL;break;case 8:y=wL;break;default:y=_g}u=y.bind(null,s,u,a),y=void 0,!Po||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(s,u,{capture:!0,passive:y}):a.addEventListener(s,u,!0):y!==void 0?a.addEventListener(s,u,{passive:y}):a.addEventListener(s,u,!1)}function ag(a,s,u,d,y){var _=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var F=d.stateNode.containerInfo;if(F===y)break;if(N===4)for(N=d.return;N!==null;){var ne=N.tag;if((ne===3||ne===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;F!==null;){if(N=ni(F),N===null)return;if(ne=N.tag,ne===5||ne===6||ne===26||ne===27){d=_=N;continue e}F=F.parentNode}}d=d.return}As(function(){var me=_,xe=si(u),Te=[];e:{var ve=$_.get(a);if(ve!==void 0){var we=Ki,Ue=a;switch(a){case"keypress":if(Uo(u)===0)break e;case"keydown":case"keyup":we=Yh;break;case"focusin":Ue="focus",we=Ho;break;case"focusout":Ue="blur",we=Ho;break;case"beforeblur":case"afterblur":we=Ho;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=T;break;case j_:case H_:case F_:we=Bh;break;case G_:we=X;break;case"scroll":case"scrollend":we=Mc;break;case"wheel":we=_e;break;case"copy":case"cut":case"paste":we=Uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=ka;break;case"toggle":case"beforetoggle":we=ot}var Je=(s&4)!==0,Vt=!Je&&(a==="scroll"||a==="scrollend"),ue=Je?ve!==null?ve+"Capture":null:ve;Je=[];for(var ae=me,fe;ae!==null;){var Se=ae;if(fe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||fe===null||ue===null||(Se=Ai(ae,ue),Se!=null&&Je.push(l0(ae,Se,fe))),Vt)break;ae=ae.return}0<Je.length&&(ve=new we(ve,Ue,null,u,xe),Te.push({event:ve,listeners:Je}))}}if((s&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ve&&u!==Rc&&(Ue=u.relatedTarget||u.fromElement)&&(ni(Ue)||Ue[Or]))break e;if((we||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(Ue=u.relatedTarget||u.toElement,we=me,Ue=Ue?ni(Ue):null,Ue!==null&&(Vt=o(Ue),Je=Ue.tag,Ue!==Vt||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(we=null,Ue=me),we!==Ue)){if(Je=kc,Se="onMouseLeave",ue="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(Je=ka,Se="onPointerLeave",ue="onPointerEnter",ae="pointer"),Vt=we==null?ve:Jn(we),fe=Ue==null?ve:Jn(Ue),ve=new Je(Se,ae+"leave",we,u,xe),ve.target=Vt,ve.relatedTarget=fe,Se=null,ni(xe)===me&&(Je=new Je(ue,ae+"enter",Ue,u,xe),Je.target=fe,Je.relatedTarget=Vt,Se=Je),Vt=Se,we&&Ue)t:{for(Je=YV,ue=we,ae=Ue,fe=0,Se=ue;Se;Se=Je(Se))fe++;Se=0;for(var Ke=ae;Ke;Ke=Je(Ke))Se++;for(;0<fe-Se;)ue=Je(ue),fe--;for(;0<Se-fe;)ae=Je(ae),Se--;for(;fe--;){if(ue===ae||ae!==null&&ue===ae.alternate){Je=ue;break t}ue=Je(ue),ae=Je(ae)}Je=null}else Je=null;we!==null&&m9(Te,ve,we,Je,!1),Ue!==null&&Vt!==null&&m9(Te,Vt,Ue,Je,!0)}}e:{if(ve=me?Jn(me):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var Tt=M_;else if(I_(ve))if(k_)Tt=iV;else{Tt=nV;var Fe=tV}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?me&&Fl(me.elementType)&&(Tt=M_):Tt=rV;if(Tt&&(Tt=Tt(a,me))){N_(Te,Tt,u,xe);break e}Fe&&Fe(a,ve,me),a==="focusout"&&me&&ve.type==="number"&&me.memoizedProps.value!=null&&Lo(ve,"number",ve.value)}switch(Fe=me?Jn(me):window,a){case"focusin":(I_(Fe)||Fe.contentEditable==="true")&&(Wl=Fe,O1=me,Lc=null);break;case"focusout":Lc=O1=Wl=null;break;case"mousedown":z1=!0;break;case"contextmenu":case"mouseup":case"dragend":z1=!1,B_(Te,u,xe);break;case"selectionchange":if(sV)break;case"keydown":case"keyup":B_(Te,u,xe)}var ut;if(Rt)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Zl?Fo(a,u)&&(mt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(Wi&&u.locale!=="ko"&&(Zl||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Zl&&(ut=Nc()):(Xi=xe,Ic="value"in Xi?Xi.value:Xi.textContent,Zl=!0)),Fe=qf(me,mt),0<Fe.length&&(mt=new Zi(mt,a,null,u,xe),Te.push({event:mt,listeners:Fe}),ut?mt.data=ut:(ut=Ql(u),ut!==null&&(mt.data=ut)))),(ut=li?Zz(a,u):Wz(a,u))&&(mt=qf(me,"onBeforeInput"),0<mt.length&&(Fe=new Zi("onBeforeInput","beforeinput",null,u,xe),Te.push({event:Fe,listeners:mt}),Fe.data=ut)),HV(Te,a,me,u,xe)}f9(Te,s)})}function l0(a,s,u){return{instance:a,listener:s,currentTarget:u}}function qf(a,s){for(var u=s+"Capture",d=[];a!==null;){var y=a,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Ai(a,u),y!=null&&d.unshift(l0(a,y,_)),y=Ai(a,s),y!=null&&d.push(l0(a,y,_))),a.tag===3)return d;a=a.return}return[]}function YV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function m9(a,s,u,d,y){for(var _=s._reactName,N=[];u!==null&&u!==d;){var F=u,ne=F.alternate,me=F.stateNode;if(F=F.tag,ne!==null&&ne===d)break;F!==5&&F!==26&&F!==27||me===null||(ne=me,y?(me=Ai(u,_),me!=null&&N.unshift(l0(u,me,ne))):y||(me=Ai(u,_),me!=null&&N.push(l0(u,me,ne)))),u=u.return}N.length!==0&&a.push({event:s,listeners:N})}var XV=/\r\n?/g,KV=/\u0000|\uFFFD/g;function p9(a){return(typeof a=="string"?a:""+a).replace(XV,`
`).replace(KV,"")}function g9(a,s){return s=p9(s),p9(a)===s}function zt(a,s,u,d,y,_){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||vr(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&vr(a,""+d);break;case"className":ar(a,"class",d);break;case"tabIndex":ar(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(a,u,d);break;case"style":Cc(a,d,_);break;case"data":if(s!=="object"){ar(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Gl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&zt(a,s,"name",y.name,y,null),zt(a,s,"formEncType",y.formEncType,y,null),zt(a,s,"formMethod",y.formMethod,y,null),zt(a,s,"formTarget",y.formTarget,y,null)):(zt(a,s,"encType",y.encType,y,null),zt(a,s,"method",y.method,y,null),zt(a,s,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Gl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ti);break;case"onScroll":d!=null&&ft("scroll",a);break;case"onScrollEnd":d!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=Gl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":ft("beforetoggle",a),ft("toggle",a),xs(a,"popover",d);break;case"xlinkActuate":un(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":un(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":un(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":un(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":un(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":un(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":un(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":un(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":un(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":xs(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Lh.get(u)||u,xs(a,u,d))}}function sg(a,s,u,d,y,_){switch(u){case"style":Cc(a,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?vr(a,d):(typeof d=="number"||typeof d=="bigint")&&vr(a,""+d);break;case"onScroll":d!=null&&ft("scroll",a);break;case"onScrollEnd":d!=null&&ft("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),_=a[bn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(s,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):xs(a,u,d)}}}function Kn(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var d=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zt(a,s,_,N,u,null)}}y&&zt(a,s,"srcSet",u.srcSet,u,null),d&&zt(a,s,"src",u.src,u,null);return;case"input":ft("invalid",a);var F=_=N=y=null,ne=null,me=null;for(d in u)if(u.hasOwnProperty(d)){var xe=u[d];if(xe!=null)switch(d){case"name":y=xe;break;case"type":N=xe;break;case"checked":ne=xe;break;case"defaultChecked":me=xe;break;case"value":_=xe;break;case"defaultValue":F=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,s));break;default:zt(a,s,d,xe,u,null)}}Hl(a,_,F,ne,me,N,y,!1);return;case"select":ft("invalid",a),d=N=_=null;for(y in u)if(u.hasOwnProperty(y)&&(F=u[y],F!=null))switch(y){case"value":_=F;break;case"defaultValue":N=F;break;case"multiple":d=F;default:zt(a,s,y,F,u,null)}s=_,u=N,a.multiple=!!d,s!=null?Ei(a,!!d,s,!1):u!=null&&Ei(a,!!d,u,!0);return;case"textarea":ft("invalid",a),_=y=d=null;for(N in u)if(u.hasOwnProperty(N)&&(F=u[N],F!=null))switch(N){case"value":d=F;break;case"defaultValue":y=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:zt(a,s,N,F,u,null)}Ss(a,d,y,_);return;case"option":for(ne in u)u.hasOwnProperty(ne)&&(d=u[ne],d!=null)&&(ne==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":zt(a,s,ne,d,u,null));return;case"dialog":ft("beforetoggle",a),ft("toggle",a),ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(d=0;d<o0.length;d++)ft(o0[d],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(d=u[me],d!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zt(a,s,me,d,u,null)}return;default:if(Fl(s)){for(xe in u)u.hasOwnProperty(xe)&&(d=u[xe],d!==void 0&&sg(a,s,xe,d,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(d=u[F],d!=null&&zt(a,s,F,d,u,null))}function QV(a,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,N=null,F=null,ne=null,me=null,xe=null;for(we in u){var Te=u[we];if(u.hasOwnProperty(we)&&Te!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":ne=Te;default:d.hasOwnProperty(we)||zt(a,s,we,null,d,Te)}}for(var ve in d){var we=d[ve];if(Te=u[ve],d.hasOwnProperty(ve)&&(we!=null||Te!=null))switch(ve){case"type":_=we;break;case"name":y=we;break;case"checked":me=we;break;case"defaultChecked":xe=we;break;case"value":N=we;break;case"defaultValue":F=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,s));break;default:we!==Te&&zt(a,s,ve,we,d,Te)}}$i(a,N,F,ne,me,xe,_,y);return;case"select":we=N=F=ve=null;for(_ in u)if(ne=u[_],u.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":we=ne;default:d.hasOwnProperty(_)||zt(a,s,_,null,d,ne)}for(y in d)if(_=d[y],ne=u[y],d.hasOwnProperty(y)&&(_!=null||ne!=null))switch(y){case"value":ve=_;break;case"defaultValue":F=_;break;case"multiple":N=_;default:_!==ne&&zt(a,s,y,_,d,ne)}s=F,u=N,d=we,ve!=null?Ei(a,!!u,ve,!1):!!d!=!!u&&(s!=null?Ei(a,!!u,s,!0):Ei(a,!!u,u?[]:"",!1));return;case"textarea":we=ve=null;for(F in u)if(y=u[F],u.hasOwnProperty(F)&&y!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:zt(a,s,F,null,d,y)}for(N in d)if(y=d[N],_=u[N],d.hasOwnProperty(N)&&(y!=null||_!=null))switch(N){case"value":ve=y;break;case"defaultValue":we=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&zt(a,s,N,y,d,_)}zh(a,ve,we);return;case"option":for(var Ue in u)ve=u[Ue],u.hasOwnProperty(Ue)&&ve!=null&&!d.hasOwnProperty(Ue)&&(Ue==="selected"?a.selected=!1:zt(a,s,Ue,null,d,ve));for(ne in d)ve=d[ne],we=u[ne],d.hasOwnProperty(ne)&&ve!==we&&(ve!=null||we!=null)&&(ne==="selected"?a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":zt(a,s,ne,ve,d,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in u)ve=u[Je],u.hasOwnProperty(Je)&&ve!=null&&!d.hasOwnProperty(Je)&&zt(a,s,Je,null,d,ve);for(me in d)if(ve=d[me],we=u[me],d.hasOwnProperty(me)&&ve!==we&&(ve!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:zt(a,s,me,ve,d,we)}return;default:if(Fl(s)){for(var Vt in u)ve=u[Vt],u.hasOwnProperty(Vt)&&ve!==void 0&&!d.hasOwnProperty(Vt)&&sg(a,s,Vt,void 0,d,ve);for(xe in d)ve=d[xe],we=u[xe],!d.hasOwnProperty(xe)||ve===we||ve===void 0&&we===void 0||sg(a,s,xe,ve,d,we);return}}for(var ue in u)ve=u[ue],u.hasOwnProperty(ue)&&ve!=null&&!d.hasOwnProperty(ue)&&zt(a,s,ue,null,d,ve);for(Te in d)ve=d[Te],we=u[Te],!d.hasOwnProperty(Te)||ve===we||ve==null&&we==null||zt(a,s,Te,ve,d,we)}function v9(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],_=y.transferSize,N=y.initiatorType,F=y.duration;if(_&&F&&v9(N)){for(N=0,F=y.responseEnd,d+=1;d<u.length;d++){var ne=u[d],me=ne.startTime;if(me>F)break;var xe=ne.transferSize,Te=ne.initiatorType;xe&&v9(Te)&&(ne=ne.responseEnd,N+=xe*(ne<F?1:(F-me)/(ne-me)))}if(--d,s+=8*(_+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var og=null,lg=null;function Pf(a){return a.nodeType===9?a:a.ownerDocument}function y9(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _9(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function ug(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cg=null;function WV(){var a=window.event;return a&&a.type==="popstate"?a===cg?!1:(cg=a,!0):(cg=null,!1)}var b9=typeof setTimeout=="function"?setTimeout:void 0,JV=typeof clearTimeout=="function"?clearTimeout:void 0,w9=typeof Promise=="function"?Promise:void 0,eL=typeof queueMicrotask=="function"?queueMicrotask:typeof w9<"u"?function(a){return w9.resolve(null).then(a).catch(tL)}:b9;function tL(a){setTimeout(function(){throw a})}function $s(a){return a==="head"}function x9(a,s){var u=s,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),Tu(s);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")u0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,u0(u);for(var _=u.firstChild;_;){var N=_.nextSibling,F=_.nodeName;_[ti]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&u0(a.ownerDocument.body);u=y}while(u);Tu(s)}function S9(a,s){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function hg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hg(u),bs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function nL(a,s,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ti])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=pi(a.nextSibling),a===null)break}return null}function rL(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=pi(a.nextSibling),a===null))return null;return a}function E9(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=pi(a.nextSibling),a===null))return null;return a}function fg(a){return a.data==="$?"||a.data==="$~"}function dg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function iL(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function pi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var mg=null;function T9(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return pi(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function A9(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function C9(a,s,u){switch(s=Pf(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function u0(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);bs(a)}var gi=new Map,R9=new Set;function Bf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ya=W.d;W.d={f:aL,r:sL,D:oL,C:lL,L:uL,m:cL,X:fL,S:hL,M:dL};function aL(){var a=Ya.f(),s=Mf();return a||s}function sL(a){var s=gr(a);s!==null&&s.tag===5&&s.type==="form"?Gb(s):Ya.r(a)}var xu=typeof document>"u"?null:document;function I9(a,s,u){var d=xu;if(d&&typeof s=="string"&&s){var y=er(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),R9.has(y)||(R9.add(y),a={rel:a,crossOrigin:u,href:s},d.querySelector(y)===null&&(s=d.createElement("link"),Kn(s,"link",a),ln(s),d.head.appendChild(s)))}}function oL(a){Ya.D(a),I9("dns-prefetch",a,null)}function lL(a,s){Ya.C(a,s),I9("preconnect",a,s)}function uL(a,s,u){Ya.L(a,s,u);var d=xu;if(d&&a&&s){var y='link[rel="preload"][as="'+er(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+er(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+er(u.imageSizes)+'"]')):y+='[href="'+er(a)+'"]';var _=y;switch(s){case"style":_=Su(a);break;case"script":_=Eu(a)}gi.has(_)||(a=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),gi.set(_,a),d.querySelector(y)!==null||s==="style"&&d.querySelector(c0(_))||s==="script"&&d.querySelector(h0(_))||(s=d.createElement("link"),Kn(s,"link",a),ln(s),d.head.appendChild(s)))}}function cL(a,s){Ya.m(a,s);var u=xu;if(u&&a){var d=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+er(d)+'"][href="'+er(a)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Eu(a)}if(!gi.has(_)&&(a=p({rel:"modulepreload",href:a},s),gi.set(_,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(h0(_)))return}d=u.createElement("link"),Kn(d,"link",a),ln(d),u.head.appendChild(d)}}}function hL(a,s,u){Ya.S(a,s,u);var d=xu;if(d&&a){var y=ri(d).hoistableStyles,_=Su(a);s=s||"default";var N=y.get(_);if(!N){var F={loading:0,preload:null};if(N=d.querySelector(c0(_)))F.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},u),(u=gi.get(_))&&pg(a,u);var ne=N=d.createElement("link");ln(ne),Kn(ne,"link",a),ne._p=new Promise(function(me,xe){ne.onload=me,ne.onerror=xe}),ne.addEventListener("load",function(){F.loading|=1}),ne.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Uf(N,s,d)}N={type:"stylesheet",instance:N,count:1,state:F},y.set(_,N)}}}function fL(a,s){Ya.X(a,s);var u=xu;if(u&&a){var d=ri(u).hoistableScripts,y=Eu(a),_=d.get(y);_||(_=u.querySelector(h0(y)),_||(a=p({src:a,async:!0},s),(s=gi.get(y))&&gg(a,s),_=u.createElement("script"),ln(_),Kn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function dL(a,s){Ya.M(a,s);var u=xu;if(u&&a){var d=ri(u).hoistableScripts,y=Eu(a),_=d.get(y);_||(_=u.querySelector(h0(y)),_||(a=p({src:a,async:!0,type:"module"},s),(s=gi.get(y))&&gg(a,s),_=u.createElement("script"),ln(_),Kn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function N9(a,s,u,d){var y=(y=ce.current)?Bf(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Su(u.href),u=ri(y).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Su(u.href);var _=ri(y).hoistableStyles,N=_.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=y.querySelector(c0(a)))&&!_._p&&(N.instance=_,N.state.loading=5),gi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},gi.set(a,u),_||mL(y,a,u,N.state))),s&&d===null)throw Error(r(528,""));return N}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eu(u),u=ri(y).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Su(a){return'href="'+er(a)+'"'}function c0(a){return'link[rel="stylesheet"]['+a+"]"}function M9(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function mL(a,s,u,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Kn(s,"link",u),ln(s),a.head.appendChild(s))}function Eu(a){return'[src="'+er(a)+'"]'}function h0(a){return"script[async]"+a}function k9(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+er(u.href)+'"]');if(d)return s.instance=d,ln(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),ln(d),Kn(d,"style",y),Uf(d,u.precedence,a),s.instance=d;case"stylesheet":y=Su(u.href);var _=a.querySelector(c0(y));if(_)return s.state.loading|=4,s.instance=_,ln(_),_;d=M9(u),(y=gi.get(y))&&pg(d,y),_=(a.ownerDocument||a).createElement("link"),ln(_);var N=_;return N._p=new Promise(function(F,ne){N.onload=F,N.onerror=ne}),Kn(_,"link",d),s.state.loading|=4,Uf(_,u.precedence,a),s.instance=_;case"script":return _=Eu(u.src),(y=a.querySelector(h0(_)))?(s.instance=y,ln(y),y):(d=u,(y=gi.get(_))&&(d=p({},u),gg(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),ln(y),Kn(y,"link",d),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Uf(d,u.precedence,a));return s.instance}function Uf(a,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,N=0;N<d.length;N++){var F=d[N];if(F.dataset.precedence===s)_=F;else if(_!==y)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function pg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function gg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var jf=null;function D9(a,s,u){if(jf===null){var d=new Map,y=jf=new Map;y.set(u,d)}else y=jf,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var _=u[y];if(!(_[ti]||_[on]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=a+N;var F=d.get(N);F?F.push(_):d.set(N,[_])}}return d}function O9(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function pL(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function z9(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function gL(a,s,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Su(d.href),_=s.querySelector(c0(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Hf.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=_,ln(_);return}_=s.ownerDocument||s,d=M9(d),(y=gi.get(y))&&pg(d,y),_=_.createElement("link"),ln(_);var N=_;N._p=new Promise(function(F,ne){N.onload=F,N.onerror=ne}),Kn(_,"link",d),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Hf.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var vg=0;function vL(a,s){return a.stylesheets&&a.count===0&&Gf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Gf(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&vg===0&&(vg=62500*ZV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Gf(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>vg?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ff=null;function Gf(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ff=new Map,s.forEach(yL,a),Ff=null,Hf.call(a))}function yL(a,s){if(!(s.state.loading&4)){var u=Ff.get(a);if(u)var d=u.get(null);else{u=new Map,Ff.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var N=y[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),d=N)}d&&u.set(null,d)}y=s.instance,N=y.getAttribute("data-precedence"),_=u.get(N)||d,_===d&&u.set(null,y),u.set(N,y),this.count++,d=Hf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var f0={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function _L(a,s,u,d,y,_,N,F,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function V9(a,s,u,d,y,_,N,F,ne,me,xe,Te){return a=new _L(a,s,u,N,ne,me,xe,Te,F),s=1,_===!0&&(s|=24),_=Lr(3,null,null,s),a.current=_,_.stateNode=a,s=Q1(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:s},ep(_),a}function L9(a){return a?(a=tu,a):tu}function q9(a,s,u,d,y,_){y=L9(y),d.context===null?d.context=y:d.pendingContext=y,d=zs(s),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=Vs(a,d,s),u!==null&&(xr(u,a,s),Fc(u,a,s))}function P9(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function yg(a,s){P9(a,s),(a=a.alternate)&&P9(a,s)}function B9(a){if(a.tag===13||a.tag===31){var s=Yo(a,67108864);s!==null&&xr(s,a,67108864),yg(a,67108864)}}function U9(a){if(a.tag===13||a.tag===31){var s=jr();s=Aa(s);var u=Yo(a,s);u!==null&&xr(u,a,s),yg(a,s)}}var $f=!0;function bL(a,s,u,d){var y=$.T;$.T=null;var _=W.p;try{W.p=2,_g(a,s,u,d)}finally{W.p=_,$.T=y}}function wL(a,s,u,d){var y=$.T;$.T=null;var _=W.p;try{W.p=8,_g(a,s,u,d)}finally{W.p=_,$.T=y}}function _g(a,s,u,d){if($f){var y=bg(d);if(y===null)ag(a,s,d,Yf,u),H9(a,d);else if(SL(y,a,s,u,d))d.stopPropagation();else if(H9(a,d),s&4&&-1<xL.indexOf(a)){for(;y!==null;){var _=gr(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Wr(_.pendingLanes);if(N!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var ne=1<<31-en(N);F.entanglements[1]|=ne,N&=~ne}na(_),(It&6)===0&&(If=Yt()+500,s0(0))}}break;case 31:case 13:F=Yo(_,2),F!==null&&xr(F,_,2),Mf(),yg(_,2)}if(_=bg(d),_===null&&ag(a,s,d,Yf,u),_===y)break;y=_}y!==null&&d.stopPropagation()}else ag(a,s,d,null,u)}}function bg(a){return a=si(a),wg(a)}var Yf=null;function wg(a){if(Yf=null,a=ni(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Yf=a,null}function j9(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case dr:return 2;case mr:return 8;case Pn:case vs:return 32;case xi:return 268435456;default:return 32}default:return 32}}var xg=!1,Ys=null,Xs=null,Ks=null,d0=new Map,m0=new Map,Qs=[],xL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H9(a,s){switch(a){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":d0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":m0.delete(s.pointerId)}}function p0(a,s,u,d,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},s!==null&&(s=gr(s),s!==null&&B9(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function SL(a,s,u,d,y){switch(s){case"focusin":return Ys=p0(Ys,a,s,u,d,y),!0;case"dragenter":return Xs=p0(Xs,a,s,u,d,y),!0;case"mouseover":return Ks=p0(Ks,a,s,u,d,y),!0;case"pointerover":var _=y.pointerId;return d0.set(_,p0(d0.get(_)||null,a,s,u,d,y)),!0;case"gotpointercapture":return _=y.pointerId,m0.set(_,p0(m0.get(_)||null,a,s,u,d,y)),!0}return!1}function F9(a){var s=ni(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,kr(a.priority,function(){U9(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,kr(a.priority,function(){U9(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=bg(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Rc=d,u.target.dispatchEvent(d),Rc=null}else return s=gr(u),s!==null&&B9(s),a.blockedOn=u,!1;s.shift()}return!0}function G9(a,s,u){Xf(a)&&u.delete(s)}function EL(){xg=!1,Ys!==null&&Xf(Ys)&&(Ys=null),Xs!==null&&Xf(Xs)&&(Xs=null),Ks!==null&&Xf(Ks)&&(Ks=null),d0.forEach(G9),m0.forEach(G9)}function Kf(a,s){a.blockedOn===s&&(a.blockedOn=null,xg||(xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EL)))}var Qf=null;function $9(a){Qf!==a&&(Qf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qf===a&&(Qf=null);for(var s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],y=a[s+2];if(typeof d!="function"){if(wg(d||u)===null)continue;break}var _=gr(u);_!==null&&(a.splice(s,3),s-=3,bp(_,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Tu(a){function s(ne){return Kf(ne,a)}Ys!==null&&Kf(Ys,a),Xs!==null&&Kf(Xs,a),Ks!==null&&Kf(Ks,a),d0.forEach(s),m0.forEach(s);for(var u=0;u<Qs.length;u++){var d=Qs[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Qs.length&&(u=Qs[0],u.blockedOn===null);)F9(u),u.blockedOn===null&&Qs.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],_=u[d+1],N=y[bn]||null;if(typeof _=="function")N||$9(u);else if(N){var F=null;if(_&&_.hasAttribute("formAction")){if(y=_,N=_[bn]||null)F=N.formAction;else if(wg(y)!==null)continue}else F=N.action;typeof F=="function"?u[d+1]=F:(u.splice(d,3),d-=3),$9(u)}}}function Y9(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function Sg(a){this._internalRoot=a}Zf.prototype.render=Sg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,d=jr();q9(u,d,a,s,null,null)},Zf.prototype.unmount=Sg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;q9(a.current,2,null,a,null,null),Mf(),s[Or]=null}};function Zf(a){this._internalRoot=a}Zf.prototype.unstable_scheduleHydration=function(a){if(a){var s=ql();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Qs.length&&s!==0&&s<Qs[u].priority;u++);Qs.splice(u,0,a),u===0&&F9(a)}};var X9=e.version;if(X9!=="19.2.3")throw Error(r(527,X9,"19.2.3"));W.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var TL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{an=Wf.inject(TL),qt=Wf}catch{}}return v0.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,d="",y=t8,_=n8,N=r8;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=V9(a,1,!1,null,null,u,d,null,y,_,N,Y9),a[Or]=s.current,ig(a),new Sg(s)},v0.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var d=!1,y="",_=t8,N=n8,F=r8,ne=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(ne=u.formState)),s=V9(a,1,!0,s,u??null,d,y,ne,_,N,F,Y9),s.context=L9(null),u=s.current,d=jr(),d=Aa(d),y=zs(d),y.callback=null,Vs(u,y,d),u=d,s.current.lanes=u,Ea(s,u),na(s),a[Or]=s.current,ig(a),new Zf(s)},v0.version="19.2.3",v0}var iw;function OL(){if(iw)return Ag.exports;iw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ag.exports=DL(),Ag.exports}var zL=OL();const VL=Tm(zL);function In(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=In(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var LL={value:()=>{}};function Am(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ed(n)}function Ed(t){this._=t}function qL(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ed.prototype=Am.prototype={constructor:Ed,on:function(t,e){var n=this._,r=qL(t+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(t=r[o]).type)&&(i=PL(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(i=(t=r[o]).type)n[i]=aw(n[i],t.name,e);else if(e==null)for(i in n)n[i]=aw(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ed(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function PL(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function aw(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=LL,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var V5="http://www.w3.org/1999/xhtml";const sw={svg:"http://www.w3.org/2000/svg",xhtml:V5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sw.hasOwnProperty(e)?{space:sw[e],local:t}:t}function BL(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===V5&&e.documentElement.namespaceURI===V5?e.createElement(t):e.createElementNS(n,t)}}function UL(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function HI(t){var e=Cm(t);return(e.local?UL:BL)(e)}function jL(){}function k6(t){return t==null?jL:function(){return this.querySelector(t)}}function HL(t){typeof t!="function"&&(t=k6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=new Array(l),h,f,m=0;m<l;++m)(h=o[m])&&(f=t.call(h,h.__data__,m,o))&&("__data__"in h&&(f.__data__=h.__data__),c[m]=f);return new Kr(r,this._parents)}function FL(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function GL(){return[]}function FI(t){return t==null?GL:function(){return this.querySelectorAll(t)}}function $L(t){return function(){return FL(t.apply(this,arguments))}}function YL(t){typeof t=="function"?t=$L(t):t=FI(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var l=e[o],c=l.length,h,f=0;f<c;++f)(h=l[f])&&(r.push(t.call(h,h.__data__,f,l)),i.push(h));return new Kr(r,i)}function GI(t){return function(){return this.matches(t)}}function $I(t){return function(e){return e.matches(t)}}var XL=Array.prototype.find;function KL(t){return function(){return XL.call(this.children,t)}}function QL(){return this.firstElementChild}function ZL(t){return this.select(t==null?QL:KL(typeof t=="function"?t:$I(t)))}var WL=Array.prototype.filter;function JL(){return Array.from(this.children)}function eq(t){return function(){return WL.call(this.children,t)}}function tq(t){return this.selectAll(t==null?JL:eq(typeof t=="function"?t:$I(t)))}function nq(t){typeof t!="function"&&(t=GI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=[],h,f=0;f<l;++f)(h=o[f])&&t.call(h,h.__data__,f,o)&&c.push(h);return new Kr(r,this._parents)}function YI(t){return new Array(t.length)}function rq(){return new Kr(this._enter||this._groups.map(YI),this._parents)}function jd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}jd.prototype={constructor:jd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function iq(t){return function(){return t}}function aq(t,e,n,r,i,o){for(var l=0,c,h=e.length,f=o.length;l<f;++l)(c=e[l])?(c.__data__=o[l],r[l]=c):n[l]=new jd(t,o[l]);for(;l<h;++l)(c=e[l])&&(i[l]=c)}function sq(t,e,n,r,i,o,l){var c,h,f=new Map,m=e.length,p=o.length,v=new Array(m),b;for(c=0;c<m;++c)(h=e[c])&&(v[c]=b=l.call(h,h.__data__,c,e)+"",f.has(b)?i[c]=h:f.set(b,h));for(c=0;c<p;++c)b=l.call(t,o[c],c,o)+"",(h=f.get(b))?(r[c]=h,h.__data__=o[c],f.delete(b)):n[c]=new jd(t,o[c]);for(c=0;c<m;++c)(h=e[c])&&f.get(v[c])===h&&(i[c]=h)}function oq(t){return t.__data__}function lq(t,e){if(!arguments.length)return Array.from(this,oq);var n=e?sq:aq,r=this._parents,i=this._groups;typeof t!="function"&&(t=iq(t));for(var o=i.length,l=new Array(o),c=new Array(o),h=new Array(o),f=0;f<o;++f){var m=r[f],p=i[f],v=p.length,b=uq(t.call(m,m&&m.__data__,f,r)),x=b.length,S=c[f]=new Array(x),E=l[f]=new Array(x),C=h[f]=new Array(v);n(m,p,S,E,C,b,e);for(var O=0,A=0,D,j;O<x;++O)if(D=S[O]){for(O>=A&&(A=O+1);!(j=E[A])&&++A<x;);D._next=j||null}}return l=new Kr(l,r),l._enter=c,l._exit=h,l}function uq(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cq(){return new Kr(this._exit||this._groups.map(YI),this._parents)}function hq(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function fq(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,l=Math.min(i,o),c=new Array(i),h=0;h<l;++h)for(var f=n[h],m=r[h],p=f.length,v=c[h]=new Array(p),b,x=0;x<p;++x)(b=f[x]||m[x])&&(v[x]=b);for(;h<i;++h)c[h]=n[h];return new Kr(c,this._parents)}function dq(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function mq(t){t||(t=pq);function e(p,v){return p&&v?t(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],c=l.length,h=i[o]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(h[m]=f);h.sort(e)}return new Kr(i,this._parents).order()}function pq(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gq(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function vq(){return Array.from(this)}function yq(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function _q(){let t=0;for(const e of this)++t;return t}function bq(){return!this.node()}function wq(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,l=i.length,c;o<l;++o)(c=i[o])&&t.call(c,c.__data__,o,i);return this}function xq(t){return function(){this.removeAttribute(t)}}function Sq(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Eq(t,e){return function(){this.setAttribute(t,e)}}function Tq(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Aq(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Cq(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Rq(t,e){var n=Cm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Sq:xq:typeof e=="function"?n.local?Cq:Aq:n.local?Tq:Eq)(n,e))}function XI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Iq(t){return function(){this.style.removeProperty(t)}}function Nq(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mq(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function kq(t,e,n){return arguments.length>1?this.each((e==null?Iq:typeof e=="function"?Mq:Nq)(t,e,n??"")):Gu(this.node(),t)}function Gu(t,e){return t.style.getPropertyValue(e)||XI(t).getComputedStyle(t,null).getPropertyValue(e)}function Dq(t){return function(){delete this[t]}}function Oq(t,e){return function(){this[t]=e}}function zq(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vq(t,e){return arguments.length>1?this.each((e==null?Dq:typeof e=="function"?zq:Oq)(t,e)):this.node()[t]}function KI(t){return t.trim().split(/^|\s+/)}function D6(t){return t.classList||new QI(t)}function QI(t){this._node=t,this._names=KI(t.getAttribute("class")||"")}QI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ZI(t,e){for(var n=D6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function WI(t,e){for(var n=D6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Lq(t){return function(){ZI(this,t)}}function qq(t){return function(){WI(this,t)}}function Pq(t,e){return function(){(e.apply(this,arguments)?ZI:WI)(this,t)}}function Bq(t,e){var n=KI(t+"");if(arguments.length<2){for(var r=D6(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Pq:e?Lq:qq)(n,e))}function Uq(){this.textContent=""}function jq(t){return function(){this.textContent=t}}function Hq(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Fq(t){return arguments.length?this.each(t==null?Uq:(typeof t=="function"?Hq:jq)(t)):this.node().textContent}function Gq(){this.innerHTML=""}function $q(t){return function(){this.innerHTML=t}}function Yq(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Xq(t){return arguments.length?this.each(t==null?Gq:(typeof t=="function"?Yq:$q)(t)):this.node().innerHTML}function Kq(){this.nextSibling&&this.parentNode.appendChild(this)}function Qq(){return this.each(Kq)}function Zq(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wq(){return this.each(Zq)}function Jq(t){var e=typeof t=="function"?t:HI(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function eP(){return null}function tP(t,e){var n=typeof t=="function"?t:HI(t),r=e==null?eP:typeof e=="function"?e:k6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function nP(){var t=this.parentNode;t&&t.removeChild(this)}function rP(){return this.each(nP)}function iP(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function aP(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sP(t){return this.select(t?aP:iP)}function oP(t){return arguments.length?this.property("__data__",t):this.node().__data__}function lP(t){return function(e){t.call(this,e,this.__data__)}}function uP(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function cP(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function hP(t,e,n){return function(){var r=this.__on,i,o=lP(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fP(t,e,n){var r=uP(t+""),i,o=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,f=c.length,m;h<f;++h)for(i=0,m=c[h];i<o;++i)if((l=r[i]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?hP:cP,i=0;i<o;++i)this.each(c(r[i],e,n));return this}function JI(t,e,n){var r=XI(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dP(t,e){return function(){return JI(this,t,e)}}function mP(t,e){return function(){return JI(this,t,e.apply(this,arguments))}}function pP(t,e){return this.each((typeof e=="function"?mP:dP)(t,e))}function*gP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var eN=[null];function Kr(t,e){this._groups=t,this._parents=e}function lh(){return new Kr([[document.documentElement]],eN)}function vP(){return this}Kr.prototype=lh.prototype={constructor:Kr,select:HL,selectAll:YL,selectChild:ZL,selectChildren:tq,filter:nq,data:lq,enter:rq,exit:cq,join:hq,merge:fq,selection:vP,order:dq,sort:mq,call:gq,nodes:vq,node:yq,size:_q,empty:bq,each:wq,attr:Rq,style:kq,property:Vq,classed:Bq,text:Fq,html:Xq,raise:Qq,lower:Wq,append:Jq,insert:tP,remove:rP,clone:sP,datum:oP,on:fP,dispatch:pP,[Symbol.iterator]:gP};function Hr(t){return typeof t=="string"?new Kr([[document.querySelector(t)]],[document.documentElement]):new Kr([[t]],eN)}function yP(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Di(t,e){if(t=yP(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const _P={passive:!1},B0={capture:!0,passive:!1};function Ng(t){t.stopImmediatePropagation()}function Lu(t){t.preventDefault(),t.stopImmediatePropagation()}function tN(t){var e=t.document.documentElement,n=Hr(t).on("dragstart.drag",Lu,B0);"onselectstart"in e?n.on("selectstart.drag",Lu,B0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function nN(t,e){var n=t.document.documentElement,r=Hr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Lu,B0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ed=t=>()=>t;function L5(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:l,y:c,dx:h,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}L5.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function bP(t){return!t.ctrlKey&&!t.button}function wP(){return this.parentNode}function xP(t,e){return e??{x:t.x,y:t.y}}function SP(){return navigator.maxTouchPoints||"ontouchstart"in this}function rN(){var t=bP,e=wP,n=xP,r=SP,i={},o=Am("start","drag","end"),l=0,c,h,f,m,p=0;function v(D){D.on("mousedown.drag",b).filter(r).on("touchstart.drag",E).on("touchmove.drag",C,_P).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(D,j){if(!(m||!t.call(this,D,j))){var q=A(this,e.call(this,D,j),D,j,"mouse");q&&(Hr(D.view).on("mousemove.drag",x,B0).on("mouseup.drag",S,B0),tN(D.view),Ng(D),f=!1,c=D.clientX,h=D.clientY,q("start",D))}}function x(D){if(Lu(D),!f){var j=D.clientX-c,q=D.clientY-h;f=j*j+q*q>p}i.mouse("drag",D)}function S(D){Hr(D.view).on("mousemove.drag mouseup.drag",null),nN(D.view,f),Lu(D),i.mouse("end",D)}function E(D,j){if(t.call(this,D,j)){var q=D.changedTouches,I=e.call(this,D,j),M=q.length,k,H;for(k=0;k<M;++k)(H=A(this,I,D,j,q[k].identifier,q[k]))&&(Ng(D),H("start",D,q[k]))}}function C(D){var j=D.changedTouches,q=j.length,I,M;for(I=0;I<q;++I)(M=i[j[I].identifier])&&(Lu(D),M("drag",D,j[I]))}function O(D){var j=D.changedTouches,q=j.length,I,M;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),I=0;I<q;++I)(M=i[j[I].identifier])&&(Ng(D),M("end",D,j[I]))}function A(D,j,q,I,M,k){var H=o.copy(),V=Di(k||q,j),U,P,K;if((K=n.call(D,new L5("beforestart",{sourceEvent:q,target:v,identifier:M,active:l,x:V[0],y:V[1],dx:0,dy:0,dispatch:H}),I))!=null)return U=K.x-V[0]||0,P=K.y-V[1]||0,function te($,W,re){var oe=V,ye;switch($){case"start":i[M]=te,ye=l++;break;case"end":delete i[M],--l;case"drag":V=Di(re||W,j),ye=l;break}H.call($,D,new L5($,{sourceEvent:W,subject:K,target:v,identifier:M,active:ye,x:V[0]+U,y:V[1]+P,dx:V[0]-oe[0],dy:V[1]-oe[1],dispatch:H}),I)}}return v.filter=function(D){return arguments.length?(t=typeof D=="function"?D:ed(!!D),v):t},v.container=function(D){return arguments.length?(e=typeof D=="function"?D:ed(D),v):e},v.subject=function(D){return arguments.length?(n=typeof D=="function"?D:ed(D),v):n},v.touchable=function(D){return arguments.length?(r=typeof D=="function"?D:ed(!!D),v):r},v.on=function(){var D=o.on.apply(o,arguments);return D===o?v:D},v.clickDistance=function(D){return arguments.length?(p=(D=+D)*D,v):Math.sqrt(p)},v}function O6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function iN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uh(){}var U0=.7,Hd=1/U0,qu="\\s*([+-]?\\d+)\\s*",j0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EP=/^#([0-9a-f]{3,8})$/,TP=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),AP=new RegExp(`^rgb\\(${la},${la},${la}\\)$`),CP=new RegExp(`^rgba\\(${qu},${qu},${qu},${j0}\\)$`),RP=new RegExp(`^rgba\\(${la},${la},${la},${j0}\\)$`),IP=new RegExp(`^hsl\\(${j0},${la},${la}\\)$`),NP=new RegExp(`^hsla\\(${j0},${la},${la},${j0}\\)$`),ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O6(uh,yl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lw,formatHex:lw,formatHex8:MP,formatHsl:kP,formatRgb:uw,toString:uw});function lw(){return this.rgb().formatHex()}function MP(){return this.rgb().formatHex8()}function kP(){return aN(this).formatHsl()}function uw(){return this.rgb().formatRgb()}function yl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cw(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?td(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?td(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TP.exec(t))?new Cr(e[1],e[2],e[3],1):(e=AP.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CP.exec(t))?td(e[1],e[2],e[3],e[4]):(e=RP.exec(t))?td(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IP.exec(t))?dw(e[1],e[2]/100,e[3]/100,1):(e=NP.exec(t))?dw(e[1],e[2]/100,e[3]/100,e[4]):ow.hasOwnProperty(t)?cw(ow[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function cw(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function td(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function DP(t){return t instanceof uh||(t=yl(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function q5(t,e,n,r){return arguments.length===1?DP(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}O6(Cr,q5,iN(uh,{brighter(t){return t=t==null?Hd:Math.pow(Hd,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?U0:Math.pow(U0,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(ml(this.r),ml(this.g),ml(this.b),Fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hw,formatHex:hw,formatHex8:OP,formatRgb:fw,toString:fw}));function hw(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}`}function OP(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}${hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function fw(){const t=Fd(this.opacity);return`${t===1?"rgb(":"rgba("}${ml(this.r)}, ${ml(this.g)}, ${ml(this.b)}${t===1?")":`, ${t})`}`}function Fd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ml(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hl(t){return t=ml(t),(t<16?"0":"")+t.toString(16)}function dw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zi(t,e,n,r)}function aN(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof uh||(t=yl(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,h=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?o+i:2-o-i,l*=60):c=h>0&&h<1?0:l,new zi(l,c,h,t.opacity)}function zP(t,e,n,r){return arguments.length===1?aN(t):new zi(t,e,n,r??1)}function zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}O6(zi,zP,iN(uh,{brighter(t){return t=t==null?Hd:Math.pow(Hd,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?U0:Math.pow(U0,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(Mg(t>=240?t-240:t+120,i,r),Mg(t,i,r),Mg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zi(mw(this.h),nd(this.s),nd(this.l),Fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fd(this.opacity);return`${t===1?"hsl(":"hsla("}${mw(this.h)}, ${nd(this.s)*100}%, ${nd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mw(t){return t=(t||0)%360,t<0?t+360:t}function nd(t){return Math.max(0,Math.min(1,t||0))}function Mg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z6=t=>()=>t;function VP(t,e){return function(n){return t+n*e}}function LP(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qP(t){return(t=+t)==1?sN:function(e,n){return n-e?LP(e,n,t):z6(isNaN(e)?n:e)}}function sN(t,e){var n=e-t;return n?VP(t,n):z6(isNaN(t)?e:t)}const Gd=(function t(e){var n=qP(e);function r(i,o){var l=n((i=q5(i)).r,(o=q5(o)).r),c=n(i.g,o.g),h=n(i.b,o.b),f=sN(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function PP(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function BP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UP(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=N0(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function jP(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ia(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function HP(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=N0(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var P5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kg=new RegExp(P5.source,"g");function FP(t){return function(){return t}}function GP(t){return function(e){return t(e)+""}}function oN(t,e){var n=P5.lastIndex=kg.lastIndex=0,r,i,o,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=P5.exec(t))&&(i=kg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:ia(r,i)})),n=kg.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?GP(h[0].x):FP(e):(e=h.length,function(f){for(var m=0,p;m<e;++m)c[(p=h[m]).i]=p.x(f);return c.join("")})}function N0(t,e){var n=typeof e,r;return e==null||n==="boolean"?z6(e):(n==="number"?ia:n==="string"?(r=yl(e))?(e=r,Gd):oN:e instanceof yl?Gd:e instanceof Date?jP:BP(e)?PP:Array.isArray(e)?UP:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?HP:ia)(t,e)}var pw=180/Math.PI,B5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lN(t,e,n,r,i,o){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*pw,skewX:Math.atan(h)*pw,scaleX:l,scaleY:c}}var rd;function $P(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?B5:lN(e.a,e.b,e.c,e.d,e.e,e.f)}function YP(t){return t==null||(rd||(rd=document.createElementNS("http://www.w3.org/2000/svg","g")),rd.setAttribute("transform",t),!(t=rd.transform.baseVal.consolidate()))?B5:(t=t.matrix,lN(t.a,t.b,t.c,t.d,t.e,t.f))}function uN(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,m,p,v,b,x){if(f!==p||m!==v){var S=b.push("translate(",null,e,null,n);x.push({i:S-4,x:ia(f,p)},{i:S-2,x:ia(m,v)})}else(p||v)&&b.push("translate("+p+e+v+n)}function l(f,m,p,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ia(f,m)})):m&&p.push(i(p)+"rotate("+m+r)}function c(f,m,p,v){f!==m?v.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ia(f,m)}):m&&p.push(i(p)+"skewX("+m+r)}function h(f,m,p,v,b,x){if(f!==p||m!==v){var S=b.push(i(b)+"scale(",null,",",null,")");x.push({i:S-4,x:ia(f,p)},{i:S-2,x:ia(m,v)})}else(p!==1||v!==1)&&b.push(i(b)+"scale("+p+","+v+")")}return function(f,m){var p=[],v=[];return f=t(f),m=t(m),o(f.translateX,f.translateY,m.translateX,m.translateY,p,v),l(f.rotate,m.rotate,p,v),c(f.skewX,m.skewX,p,v),h(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,v),f=m=null,function(b){for(var x=-1,S=v.length,E;++x<S;)p[(E=v[x]).i]=E.x(b);return p.join("")}}}var XP=uN($P,"px, ","px)","deg)"),KP=uN(YP,", ",")",")"),QP=1e-12;function gw(t){return((t=Math.exp(t))+1/t)/2}function ZP(t){return((t=Math.exp(t))-1/t)/2}function WP(t){return((t=Math.exp(2*t))-1)/(t+1)}const Td=(function t(e,n,r){function i(o,l){var c=o[0],h=o[1],f=o[2],m=l[0],p=l[1],v=l[2],b=m-c,x=p-h,S=b*b+x*x,E,C;if(S<QP)C=Math.log(v/f)/e,E=function(I){return[c+I*b,h+I*x,f*Math.exp(e*I*C)]};else{var O=Math.sqrt(S),A=(v*v-f*f+r*S)/(2*f*n*O),D=(v*v-f*f-r*S)/(2*v*n*O),j=Math.log(Math.sqrt(A*A+1)-A),q=Math.log(Math.sqrt(D*D+1)-D);C=(q-j)/e,E=function(I){var M=I*C,k=gw(j),H=f/(n*O)*(k*WP(e*M+j)-ZP(j));return[c+H*b,h+H*x,f*k/gw(e*M+j)]}}return E.duration=C*1e3*e/Math.SQRT2,E}return i.rho=function(o){var l=Math.max(.001,+o),c=l*l,h=c*c;return t(l,c,h)},i})(Math.SQRT2,2,4);var $u=0,b0=0,y0=0,cN=1e3,$d,w0,Yd=0,_l=0,Rm=0,H0=typeof performance=="object"&&performance.now?performance:Date,hN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function V6(){return _l||(hN(JP),_l=H0.now()+Rm)}function JP(){_l=0}function Xd(){this._call=this._time=this._next=null}Xd.prototype=fN.prototype={constructor:Xd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?V6():+n)+(e==null?0:+e),!this._next&&w0!==this&&(w0?w0._next=this:$d=this,w0=this),this._call=t,this._time=n,U5()},stop:function(){this._call&&(this._call=null,this._time=1/0,U5())}};function fN(t,e,n){var r=new Xd;return r.restart(t,e,n),r}function eB(){V6(),++$u;for(var t=$d,e;t;)(e=_l-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$u}function vw(){_l=(Yd=H0.now())+Rm,$u=b0=0;try{eB()}finally{$u=0,nB(),_l=0}}function tB(){var t=H0.now(),e=t-Yd;e>cN&&(Rm-=e,Yd=t)}function nB(){for(var t,e=$d,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$d=n);w0=t,U5(r)}function U5(t){if(!$u){b0&&(b0=clearTimeout(b0));var e=t-_l;e>24?(t<1/0&&(b0=setTimeout(vw,t-H0.now()-Rm)),y0&&(y0=clearInterval(y0))):(y0||(Yd=H0.now(),y0=setInterval(tB,cN)),$u=1,hN(vw))}}function yw(t,e,n){var r=new Xd;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var rB=Am("start","end","cancel","interrupt"),iB=[],dN=0,_w=1,j5=2,Ad=3,bw=4,H5=5,Cd=6;function Im(t,e,n,r,i,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;aB(t,n,{name:e,index:r,group:i,on:rB,tween:iB,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:dN})}function L6(t,e){var n=Hi(t,e);if(n.state>dN)throw new Error("too late; already scheduled");return n}function va(t,e){var n=Hi(t,e);if(n.state>Ad)throw new Error("too late; already running");return n}function Hi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function aB(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=fN(o,0,n.time);function o(f){n.state=_w,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,v,b;if(n.state!==_w)return h();for(m in r)if(b=r[m],b.name===n.name){if(b.state===Ad)return yw(l);b.state===bw?(b.state=Cd,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Cd,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(yw(function(){n.state===Ad&&(n.state=bw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=j5,n.on.call("start",t,t.__data__,n.index,n.group),n.state===j5){for(n.state=Ad,i=new Array(v=n.tween.length),m=0,p=-1;m<v;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=b);i.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(h),n.state=H5,1),p=-1,v=i.length;++p<v;)i[p].call(t,m);n.state===H5&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Cd,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Rd(t,e){var n=t.__transition,r,i,o=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){o=!1;continue}i=r.state>j5&&r.state<H5,r.state=Cd,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}o&&delete t.__transition}}function sB(t){return this.each(function(){Rd(this,t)})}function oB(t,e){var n,r;return function(){var i=va(this,t),o=i.tween;if(o!==n){r=n=o;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function lB(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=va(this,t),l=o.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},h=0,f=i.length;h<f;++h)if(i[h].name===e){i[h]=c;break}h===f&&i.push(c)}o.tween=i}}function uB(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Hi(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?oB:lB)(n,t,e))}function q6(t,e,n){var r=t._id;return t.each(function(){var i=va(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Hi(i,r).value[e]}}function mN(t,e){var n;return(typeof e=="number"?ia:e instanceof yl?Gd:(n=yl(e))?(e=n,Gd):oN)(t,e)}function cB(t){return function(){this.removeAttribute(t)}}function hB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fB(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttribute(t);return l===i?null:l===r?o:o=e(r=l,n)}}function dB(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?o:o=e(r=l,n)}}function mB(t,e,n){var r,i,o;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c)))}}function pB(t,e,n){var r,i,o;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c)))}}function gB(t,e){var n=Cm(t),r=n==="transform"?KP:mN;return this.attrTween(t,typeof e=="function"?(n.local?pB:mB)(n,r,q6(this,"attr."+t,e)):e==null?(n.local?hB:cB)(n):(n.local?dB:fB)(n,r,e))}function vB(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function yB(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _B(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&yB(t,o)),n}return i._value=e,i}function bB(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&vB(t,o)),n}return i._value=e,i}function wB(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Cm(t);return this.tween(n,(r.local?_B:bB)(r,e))}function xB(t,e){return function(){L6(this,t).delay=+e.apply(this,arguments)}}function SB(t,e){return e=+e,function(){L6(this,t).delay=e}}function EB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xB:SB)(e,t)):Hi(this.node(),e).delay}function TB(t,e){return function(){va(this,t).duration=+e.apply(this,arguments)}}function AB(t,e){return e=+e,function(){va(this,t).duration=e}}function CB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?TB:AB)(e,t)):Hi(this.node(),e).duration}function RB(t,e){if(typeof e!="function")throw new Error;return function(){va(this,t).ease=e}}function IB(t){var e=this._id;return arguments.length?this.each(RB(e,t)):Hi(this.node(),e).ease}function NB(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;va(this,t).ease=n}}function MB(t){if(typeof t!="function")throw new Error;return this.each(NB(this._id,t))}function kB(t){typeof t!="function"&&(t=GI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,c=r[i]=[],h,f=0;f<l;++f)(h=o[f])&&t.call(h,h.__data__,f,o)&&c.push(h);return new is(r,this._parents,this._name,this._id)}function DB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),l=new Array(r),c=0;c<o;++c)for(var h=e[c],f=n[c],m=h.length,p=l[c]=new Array(m),v,b=0;b<m;++b)(v=h[b]||f[b])&&(p[b]=v);for(;c<r;++c)l[c]=e[c];return new is(l,this._parents,this._name,this._id)}function OB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function zB(t,e,n){var r,i,o=OB(e)?L6:va;return function(){var l=o(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function VB(t,e){var n=this._id;return arguments.length<2?Hi(this.node(),n).on.on(t):this.each(zB(n,t,e))}function LB(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qB(){return this.on("end.remove",LB(this._id))}function PB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=k6(t));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var c=r[l],h=c.length,f=o[l]=new Array(h),m,p,v=0;v<h;++v)(m=c[v])&&(p=t.call(m,m.__data__,v,c))&&("__data__"in m&&(p.__data__=m.__data__),f[v]=p,Im(f[v],e,n,v,f,Hi(m,n)));return new is(o,this._parents,e,n)}function BB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=FI(t));for(var r=this._groups,i=r.length,o=[],l=[],c=0;c<i;++c)for(var h=r[c],f=h.length,m,p=0;p<f;++p)if(m=h[p]){for(var v=t.call(m,m.__data__,p,h),b,x=Hi(m,n),S=0,E=v.length;S<E;++S)(b=v[S])&&Im(b,e,n,S,v,x);o.push(v),l.push(m)}return new is(o,l,e,n)}var UB=lh.prototype.constructor;function jB(){return new UB(this._groups,this._parents)}function HB(t,e){var n,r,i;return function(){var o=Gu(this,t),l=(this.style.removeProperty(t),Gu(this,t));return o===l?null:o===n&&l===r?i:i=e(n=o,r=l)}}function pN(t){return function(){this.style.removeProperty(t)}}function FB(t,e,n){var r,i=n+"",o;return function(){var l=Gu(this,t);return l===i?null:l===r?o:o=e(r=l,n)}}function GB(t,e,n){var r,i,o;return function(){var l=Gu(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),Gu(this,t))),l===h?null:l===r&&h===i?o:(i=h,o=e(r=l,c))}}function $B(t,e){var n,r,i,o="style."+e,l="end."+o,c;return function(){var h=va(this,t),f=h.on,m=h.value[o]==null?c||(c=pN(e)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(l,i=m),h.on=r}}function YB(t,e,n){var r=(t+="")=="transform"?XP:mN;return e==null?this.styleTween(t,HB(t,r)).on("end.style."+t,pN(t)):typeof e=="function"?this.styleTween(t,GB(t,r,q6(this,"style."+t,e))).each($B(this._id,t)):this.styleTween(t,FB(t,r,e),n).on("end.style."+t,null)}function XB(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function KB(t,e,n){var r,i;function o(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&XB(t,l,n)),r}return o._value=e,o}function QB(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,KB(t,e,n??""))}function ZB(t){return function(){this.textContent=t}}function WB(t){return function(){var e=t(this);this.textContent=e??""}}function JB(t){return this.tween("text",typeof t=="function"?WB(q6(this,"text",t)):ZB(t==null?"":t+""))}function eU(t){return function(e){this.textContent=t.call(this,e)}}function tU(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&eU(i)),e}return r._value=t,r}function nU(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,tU(t))}function rU(){for(var t=this._name,e=this._id,n=gN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],c=l.length,h,f=0;f<c;++f)if(h=l[f]){var m=Hi(h,e);Im(h,t,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new is(r,this._parents,t,n)}function iU(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var c={value:l},h={value:function(){--i===0&&o()}};n.each(function(){var f=va(this,r),m=f.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),f.on=e}),i===0&&o()})}var aU=0;function is(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function gN(){return++aU}var Xa=lh.prototype;is.prototype={constructor:is,select:PB,selectAll:BB,selectChild:Xa.selectChild,selectChildren:Xa.selectChildren,filter:kB,merge:DB,selection:jB,transition:rU,call:Xa.call,nodes:Xa.nodes,node:Xa.node,size:Xa.size,empty:Xa.empty,each:Xa.each,on:VB,attr:gB,attrTween:wB,style:YB,styleTween:QB,text:JB,textTween:nU,remove:qB,tween:uB,delay:EB,duration:CB,ease:IB,easeVarying:MB,end:iU,[Symbol.iterator]:Xa[Symbol.iterator]};function sU(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var oU={time:null,delay:0,duration:250,ease:sU};function lU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function uU(t){var e,n;t instanceof is?(e=t._id,t=t._name):(e=gN(),(n=oU).time=V6(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],c=l.length,h,f=0;f<c;++f)(h=l[f])&&Im(h,t,e,f,l,n||lU(h,e));return new is(r,this._parents,t,e)}lh.prototype.interrupt=sB;lh.prototype.transition=uU;const id=t=>()=>t;function cU(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Wa(t,e,n){this.k=t,this.x=e,this.y=n}Wa.prototype={constructor:Wa,scale:function(t){return t===1?this:new Wa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nm=new Wa(1,0,0);vN.prototype=Wa.prototype;function vN(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Nm;return t.__zoom}function Dg(t){t.stopImmediatePropagation()}function _0(t){t.preventDefault(),t.stopImmediatePropagation()}function hU(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function fU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ww(){return this.__zoom||Nm}function dU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function mU(){return navigator.maxTouchPoints||"ontouchstart"in this}function pU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function yN(){var t=hU,e=fU,n=pU,r=dU,i=mU,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Td,f=Am("start","zoom","end"),m,p,v,b=500,x=150,S=0,E=10;function C(K){K.property("__zoom",ww).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(K,te,$,W){var re=K.selection?K.selection():K;re.property("__zoom",ww),K!==re?j(K,te,$,W):re.interrupt().each(function(){q(this,arguments).event(W).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},C.scaleBy=function(K,te,$,W){C.scaleTo(K,function(){var re=this.__zoom.k,oe=typeof te=="function"?te.apply(this,arguments):te;return re*oe},$,W)},C.scaleTo=function(K,te,$,W){C.transform(K,function(){var re=e.apply(this,arguments),oe=this.__zoom,ye=$==null?D(re):typeof $=="function"?$.apply(this,arguments):$,Y=oe.invert(ye),ee=typeof te=="function"?te.apply(this,arguments):te;return n(A(O(oe,ee),ye,Y),re,l)},$,W)},C.translateBy=function(K,te,$,W){C.transform(K,function(){return n(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),l)},null,W)},C.translateTo=function(K,te,$,W,re){C.transform(K,function(){var oe=e.apply(this,arguments),ye=this.__zoom,Y=W==null?D(oe):typeof W=="function"?W.apply(this,arguments):W;return n(Nm.translate(Y[0],Y[1]).scale(ye.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof $=="function"?-$.apply(this,arguments):-$),oe,l)},W,re)};function O(K,te){return te=Math.max(o[0],Math.min(o[1],te)),te===K.k?K:new Wa(te,K.x,K.y)}function A(K,te,$){var W=te[0]-$[0]*K.k,re=te[1]-$[1]*K.k;return W===K.x&&re===K.y?K:new Wa(K.k,W,re)}function D(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function j(K,te,$,W){K.on("start.zoom",function(){q(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(W).end()}).tween("zoom",function(){var re=this,oe=arguments,ye=q(re,oe).event(W),Y=e.apply(re,oe),ee=$==null?D(Y):typeof $=="function"?$.apply(re,oe):$,pe=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=re.__zoom,ie=typeof te=="function"?te.apply(re,oe):te,ce=h(Q.invert(ee).concat(pe/Q.k),ie.invert(ee).concat(pe/ie.k));return function(ge){if(ge===1)ge=ie;else{var be=ce(ge),Ce=pe/be[2];ge=new Wa(Ce,ee[0]-be[0]*Ce,ee[1]-be[1]*Ce)}ye.zoom(null,ge)}})}function q(K,te,$){return!$&&K.__zooming||new I(K,te)}function I(K,te){this.that=K,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,te),this.taps=0}I.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,te){return this.mouse&&K!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var te=Hr(this.that).datum();f.call(K,this.that,new cU(K,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),te)}};function M(K,...te){if(!t.apply(this,arguments))return;var $=q(this,te).event(K),W=this.__zoom,re=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),oe=Di(K);if($.wheel)($.mouse[0][0]!==oe[0]||$.mouse[0][1]!==oe[1])&&($.mouse[1]=W.invert($.mouse[0]=oe)),clearTimeout($.wheel);else{if(W.k===re)return;$.mouse=[oe,W.invert(oe)],Rd(this),$.start()}_0(K),$.wheel=setTimeout(ye,x),$.zoom("mouse",n(A(O(W,re),$.mouse[0],$.mouse[1]),$.extent,l));function ye(){$.wheel=null,$.end()}}function k(K,...te){if(v||!t.apply(this,arguments))return;var $=K.currentTarget,W=q(this,te,!0).event(K),re=Hr(K.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",pe,!0),oe=Di(K,$),ye=K.clientX,Y=K.clientY;tN(K.view),Dg(K),W.mouse=[oe,this.__zoom.invert(oe)],Rd(this),W.start();function ee(Q){if(_0(Q),!W.moved){var ie=Q.clientX-ye,ce=Q.clientY-Y;W.moved=ie*ie+ce*ce>S}W.event(Q).zoom("mouse",n(A(W.that.__zoom,W.mouse[0]=Di(Q,$),W.mouse[1]),W.extent,l))}function pe(Q){re.on("mousemove.zoom mouseup.zoom",null),nN(Q.view,W.moved),_0(Q),W.event(Q).end()}}function H(K,...te){if(t.apply(this,arguments)){var $=this.__zoom,W=Di(K.changedTouches?K.changedTouches[0]:K,this),re=$.invert(W),oe=$.k*(K.shiftKey?.5:2),ye=n(A(O($,oe),W,re),e.apply(this,te),l);_0(K),c>0?Hr(this).transition().duration(c).call(j,ye,W,K):Hr(this).call(C.transform,ye,W,K)}}function V(K,...te){if(t.apply(this,arguments)){var $=K.touches,W=$.length,re=q(this,te,K.changedTouches.length===W).event(K),oe,ye,Y,ee;for(Dg(K),ye=0;ye<W;++ye)Y=$[ye],ee=Di(Y,this),ee=[ee,this.__zoom.invert(ee),Y.identifier],re.touch0?!re.touch1&&re.touch0[2]!==ee[2]&&(re.touch1=ee,re.taps=0):(re.touch0=ee,oe=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),oe&&(re.taps<2&&(p=ee[0],m=setTimeout(function(){m=null},b)),Rd(this),re.start())}}function U(K,...te){if(this.__zooming){var $=q(this,te).event(K),W=K.changedTouches,re=W.length,oe,ye,Y,ee;for(_0(K),oe=0;oe<re;++oe)ye=W[oe],Y=Di(ye,this),$.touch0&&$.touch0[2]===ye.identifier?$.touch0[0]=Y:$.touch1&&$.touch1[2]===ye.identifier&&($.touch1[0]=Y);if(ye=$.that.__zoom,$.touch1){var pe=$.touch0[0],Q=$.touch0[1],ie=$.touch1[0],ce=$.touch1[1],ge=(ge=ie[0]-pe[0])*ge+(ge=ie[1]-pe[1])*ge,be=(be=ce[0]-Q[0])*be+(be=ce[1]-Q[1])*be;ye=O(ye,Math.sqrt(ge/be)),Y=[(pe[0]+ie[0])/2,(pe[1]+ie[1])/2],ee=[(Q[0]+ce[0])/2,(Q[1]+ce[1])/2]}else if($.touch0)Y=$.touch0[0],ee=$.touch0[1];else return;$.zoom("touch",n(A(ye,Y,ee),$.extent,l))}}function P(K,...te){if(this.__zooming){var $=q(this,te).event(K),W=K.changedTouches,re=W.length,oe,ye;for(Dg(K),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),oe=0;oe<re;++oe)ye=W[oe],$.touch0&&$.touch0[2]===ye.identifier?delete $.touch0:$.touch1&&$.touch1[2]===ye.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(ye=Di(ye,this),Math.hypot(p[0]-ye[0],p[1]-ye[1])<E)){var Y=Hr(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return C.wheelDelta=function(K){return arguments.length?(r=typeof K=="function"?K:id(+K),C):r},C.filter=function(K){return arguments.length?(t=typeof K=="function"?K:id(!!K),C):t},C.touchable=function(K){return arguments.length?(i=typeof K=="function"?K:id(!!K),C):i},C.extent=function(K){return arguments.length?(e=typeof K=="function"?K:id([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),C):e},C.scaleExtent=function(K){return arguments.length?(o[0]=+K[0],o[1]=+K[1],C):[o[0],o[1]]},C.translateExtent=function(K){return arguments.length?(l[0][0]=+K[0][0],l[1][0]=+K[1][0],l[0][1]=+K[0][1],l[1][1]=+K[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(K){return arguments.length?(n=K,C):n},C.duration=function(K){return arguments.length?(c=+K,C):c},C.interpolate=function(K){return arguments.length?(h=K,C):h},C.on=function(){var K=f.on.apply(f,arguments);return K===f?C:K},C.clickDistance=function(K){return arguments.length?(S=(K=+K)*K,C):Math.sqrt(S)},C.tapDistance=function(K){return arguments.length?(E=+K,C):E},C}const ma={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},F0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_N=["Enter"," ","Escape"],bN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Yu;(function(t){t.Strict="strict",t.Loose="loose"})(Yu||(Yu={}));var pl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(pl||(pl={}));var G0;(function(t){t.Partial="partial",t.Full="full"})(G0||(G0={}));const wN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ro;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ro||(ro={}));var $0;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})($0||($0={}));var Ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ye||(Ye={}));const xw={[Ye.Left]:Ye.Right,[Ye.Right]:Ye.Left,[Ye.Top]:Ye.Bottom,[Ye.Bottom]:Ye.Top};function xN(t){return t===null?null:t?"valid":"invalid"}const SN=t=>"id"in t&&"source"in t&&"target"in t,gU=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),P6=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),ch=(t,e=[0,0])=>{const{width:n,height:r}=fs(t),i=t.origin??e,o=n*i[0],l=r*i[1];return{x:t.position.x-o,y:t.position.y-l}},vU=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let l=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(l=o?e.nodeLookup.get(i):P6(i)?i:e.nodeLookup.get(i.id));const c=l?Kd(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Mm(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return km(n)},hh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=Mm(n,Kd(i)),r=!0)}),r?km(n):{x:0,y:0,width:0,height:0}},B6=(t,e,[n,r,i]=[0,0,1],o=!1,l=!1)=>{const c={...dh(e,[n,r,i]),width:e.width/i,height:e.height/i},h=[];for(const f of t.values()){const{measured:m,selectable:p=!0,hidden:v=!1}=f;if(l&&!p||v)continue;const b=m.width??f.width??f.initialWidth??null,x=m.height??f.height??f.initialHeight??null,S=Y0(c,Ku(f)),E=(b??0)*(x??0),C=o&&S>0;(!f.internals.handleBounds||C||S>=E||f.dragging)&&h.push(f)}return h},yU=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function _U(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function bU({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},l){if(t.size===0)return Promise.resolve(!0);const c=_U(t,l),h=hh(c),f=U6(h,e,n,l?.minZoom??i,l?.maxZoom??o,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function EN({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:h,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)o?.("005",ma.error005());else{const b=c.measured.width,x=c.measured.height;b&&x&&(p=[[h,f],[h+b,f+x]])}else c&&Qu(l.extent)&&(p=[[l.extent[0][0]+h,l.extent[0][1]+f],[l.extent[1][0]+h,l.extent[1][1]+f]]);const v=Qu(p)?bl(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&o?.("015",ma.error015()),{position:{x:v.x-h+(l.measured.width??0)*m[0],y:v.y-f+(l.measured.height??0)*m[1]},positionAbsolute:v}}async function wU({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(v=>v.id)),l=[];for(const v of n){if(v.deletable===!1)continue;const b=o.has(v.id),x=!b&&v.parentId&&l.find(S=>S.id===v.parentId);(b||x)&&l.push(v)}const c=new Set(e.map(v=>v.id)),h=r.filter(v=>v.deletable!==!1),m=yU(l,h);for(const v of h)c.has(v.id)&&!m.find(x=>x.id===v.id)&&m.push(v);if(!i)return{edges:m,nodes:l};const p=await i({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Xu=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),bl=(t={x:0,y:0},e,n)=>({x:Xu(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Xu(t.y,e[0][1],e[1][1]-(n?.height??0))});function TN(t,e,n){const{width:r,height:i}=fs(n),{x:o,y:l}=n.internals.positionAbsolute;return bl(t,[[o,l],[o+r,l+i]],e)}const Sw=(t,e,n)=>t<e?Xu(Math.abs(t-e),1,e)/e:t>n?-Xu(Math.abs(t-n),1,e)/e:0,AN=(t,e,n=15,r=40)=>{const i=Sw(t.x,r,e.width-r)*n,o=Sw(t.y,r,e.height-r)*n;return[i,o]},Mm=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),F5=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),km=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Ku=(t,e=[0,0])=>{const{x:n,y:r}=P6(t)?t.internals.positionAbsolute:ch(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Kd=(t,e=[0,0])=>{const{x:n,y:r}=P6(t)?t.internals.positionAbsolute:ch(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},CN=(t,e)=>km(Mm(F5(t),F5(e))),Y0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},Ew=t=>Li(t.width)&&Li(t.height)&&Li(t.x)&&Li(t.y),Li=t=>!isNaN(t)&&isFinite(t),xU=(t,e)=>{},fh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),dh=({x:t,y:e},[n,r,i],o=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return o?fh(c,l):c},Qd=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Au(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function SU(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Au(t,n),i=Au(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Au(t.top??t.y??0,n),i=Au(t.bottom??t.y??0,n),o=Au(t.left??t.x??0,e),l=Au(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:o,x:o+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function EU(t,e,n,r,i,o){const{x:l,y:c}=Qd(t,[e,n,r]),{x:h,y:f}=Qd({x:t.x+t.width,y:t.y+t.height},[e,n,r]),m=i-h,p=o-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const U6=(t,e,n,r,i,o)=>{const l=SU(o,e,n),c=(e-l.x)/t.width,h=(n-l.y)/t.height,f=Math.min(c,h),m=Xu(f,r,i),p=t.x+t.width/2,v=t.y+t.height/2,b=e/2-p*m,x=n/2-v*m,S=EU(t,b,x,m,e,n),E={left:Math.min(S.left-l.left,0),top:Math.min(S.top-l.top,0),right:Math.min(S.right-l.right,0),bottom:Math.min(S.bottom-l.bottom,0)};return{x:b-E.left+E.right,y:x-E.top+E.bottom,zoom:m}},X0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Qu(t){return t!=null&&t!=="parent"}function fs(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function RN(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function IN(t,e={width:0,height:0},n,r,i){const o={...t},l=r.get(n);if(l){const c=l.origin||i;o.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],o.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return o}function Tw(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function TU(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function AU(t){return{...bN,...t||{}}}function M0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:l}=qi(t),c=dh({x:o-(i?.left??0),y:l-(i?.top??0)},r),{x:h,y:f}=n?fh(c,e):c;return{xSnapped:h,ySnapped:f,...c}}const j6=t=>({width:t.offsetWidth,height:t.offsetHeight}),NN=t=>t?.getRootNode?.()||window?.document,CU=["INPUT","SELECT","TEXTAREA"];function MN(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:CU.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const kN=t=>"clientX"in t,qi=(t,e)=>{const n=kN(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},Aw=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...j6(l)}})};function DN({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:c}){const h=t*.125+i*.375+l*.375+n*.125,f=e*.125+o*.375+c*.375+r*.125,m=Math.abs(h-t),p=Math.abs(f-e);return[h,f,m,p]}function ad(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Cw({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case Ye.Left:return[e-ad(e-r,o),n];case Ye.Right:return[e+ad(r-e,o),n];case Ye.Top:return[e,n-ad(n-i,o)];case Ye.Bottom:return[e,n+ad(i-n,o)]}}function ON({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top,curvature:l=.25}){const[c,h]=Cw({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[f,m]=Cw({pos:o,x1:r,y1:i,x2:t,y2:e,c:l}),[p,v,b,x]=DN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:h,targetControlX:f,targetControlY:m});return[`M${t},${e} C${c},${h} ${f},${m} ${r},${i}`,p,v,b,x]}function zN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[o,c,i,l]}function RU({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function IU({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=Mm(Kd(t),Kd(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Y0(l,km(o))>0}const NU=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,MU=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),kU=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||NU;let i;return SN(t)?i={...t}:i={...t,id:r(t)},MU(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function VN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,l,c]=zN({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,l,c]}const Rw={[Ye.Left]:{x:-1,y:0},[Ye.Right]:{x:1,y:0},[Ye.Top]:{x:0,y:-1},[Ye.Bottom]:{x:0,y:1}},DU=({source:t,sourcePosition:e=Ye.Bottom,target:n})=>e===Ye.Left||e===Ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Iw=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function OU({source:t,sourcePosition:e=Ye.Bottom,target:n,targetPosition:r=Ye.Top,center:i,offset:o,stepPosition:l}){const c=Rw[e],h=Rw[r],f={x:t.x+c.x*o,y:t.y+c.y*o},m={x:n.x+h.x*o,y:n.y+h.y*o},p=DU({source:f,sourcePosition:e,target:m}),v=p.x!==0?"x":"y",b=p[v];let x=[],S,E;const C={x:0,y:0},O={x:0,y:0},[,,A,D]=zN({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[v]*h[v]===-1){v==="x"?(S=i.x??f.x+(m.x-f.x)*l,E=i.y??(f.y+m.y)/2):(S=i.x??(f.x+m.x)/2,E=i.y??f.y+(m.y-f.y)*l);const q=[{x:S,y:f.y},{x:S,y:m.y}],I=[{x:f.x,y:E},{x:m.x,y:E}];c[v]===b?x=v==="x"?q:I:x=v==="x"?I:q}else{const q=[{x:f.x,y:m.y}],I=[{x:m.x,y:f.y}];if(v==="x"?x=c.x===b?I:q:x=c.y===b?q:I,e===r){const U=Math.abs(t[v]-n[v]);if(U<=o){const P=Math.min(o-1,o-U);c[v]===b?C[v]=(f[v]>t[v]?-1:1)*P:O[v]=(m[v]>n[v]?-1:1)*P}}if(e!==r){const U=v==="x"?"y":"x",P=c[v]===h[U],K=f[U]>m[U],te=f[U]<m[U];(c[v]===1&&(!P&&K||P&&te)||c[v]!==1&&(!P&&te||P&&K))&&(x=v==="x"?q:I)}const M={x:f.x+C.x,y:f.y+C.y},k={x:m.x+O.x,y:m.y+O.y},H=Math.max(Math.abs(M.x-x[0].x),Math.abs(k.x-x[0].x)),V=Math.max(Math.abs(M.y-x[0].y),Math.abs(k.y-x[0].y));H>=V?(S=(M.x+k.x)/2,E=x[0].y):(S=x[0].x,E=(M.y+k.y)/2)}return[[t,{x:f.x+C.x,y:f.y+C.y},...x,{x:m.x+O.x,y:m.y+O.y},n],S,E,A,D]}function zU(t,e,n,r){const i=Math.min(Iw(t,e)/2,Iw(e,n)/2,r),{x:o,y:l}=e;if(t.x===o&&o===n.x||t.y===l&&l===n.y)return`L${o} ${l}`;if(t.y===l){const f=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${o+i*f},${l}Q ${o},${l} ${o},${l+i*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${o},${l+i*h}Q ${o},${l} ${o+i*c},${l}`}function G5({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top,borderRadius:l=5,centerX:c,centerY:h,offset:f=20,stepPosition:m=.5}){const[p,v,b,x,S]=OU({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:c,y:h},offset:f,stepPosition:m});return[p.reduce((C,O,A)=>{let D="";return A>0&&A<p.length-1?D=zU(p[A-1],O,p[A+1],l):D=`${A===0?"M":"L"}${O.x} ${O.y}`,C+=D,C},""),v,b,x,S]}function Nw(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function VU(t){const{sourceNode:e,targetNode:n}=t;if(!Nw(e)||!Nw(n))return null;const r=e.internals.handleBounds||Mw(e.handles),i=n.internals.handleBounds||Mw(n.handles),o=kw(r?.source??[],t.sourceHandle),l=kw(t.connectionMode===Yu.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!o||!l)return t.onError?.("008",ma.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=o?.position||Ye.Bottom,h=l?.position||Ye.Top,f=wl(e,o,c),m=wl(n,l,h);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:h}}function Mw(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function wl(t,e,n=Ye.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,o=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??fs(t);if(r)return{x:i+l/2,y:o+c/2};switch(e?.position??n){case Ye.Top:return{x:i+l/2,y:o};case Ye.Right:return{x:i+l,y:o+c/2};case Ye.Bottom:return{x:i+l/2,y:o+c};case Ye.Left:return{x:i,y:o+c/2}}}function kw(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function $5(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function LU(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(h=>{if(h&&typeof h=="object"){const f=$5(h,e);o.has(f)||(l.push({id:f,color:h.color||n,...h}),o.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const LN=1e3,qU=10,H6={nodeOrigin:[0,0],nodeExtent:F0,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},PU={...H6,checkEquality:!0};function F6(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function BU(t,e,n){const r=F6(H6,n);for(const i of t.values())if(i.parentId)$6(i,t,e,r);else{const o=ch(i,r.nodeOrigin),l=Qu(i.extent)?i.extent:r.nodeExtent,c=bl(o,l,fs(i));i.internals.positionAbsolute=c}}function UU(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function G6(t){return t==="manual"}function Y5(t,e,n,r={}){const i=F6(PU,r),o={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!G6(i.zIndexMode)?LN:0;let h=t.length>0;e.clear(),n.clear();for(const f of t){let m=l.get(f.id);if(i.checkEquality&&f===m?.internals.userNode)e.set(f.id,m);else{const p=ch(f,i.nodeOrigin),v=Qu(f.extent)?f.extent:i.nodeExtent,b=bl(p,v,fs(f));m={...i.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:b,handleBounds:UU(f,m),z:qN(f,c,i.zIndexMode),userNode:f}},e.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),f.parentId&&$6(m,e,n,r,o)}return h}function jU(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function $6(t,e,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:c,zIndexMode:h}=F6(H6,r),f=t.parentId,m=e.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}jU(t,n),i&&!m.parentId&&m.internals.rootParentIndex===void 0&&h==="auto"&&(m.internals.rootParentIndex=++i.i,m.internals.z=m.internals.z+i.i*qU),i&&m.internals.rootParentIndex!==void 0&&(i.i=m.internals.rootParentIndex);const p=o&&!G6(h)?LN:0,{x:v,y:b,z:x}=HU(t,m,l,c,p,h),{positionAbsolute:S}=t.internals,E=v!==S.x||b!==S.y;(E||x!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:E?{x:v,y:b}:S,z:x}})}function qN(t,e,n){const r=Li(t.zIndex)?t.zIndex:0;return G6(n)?r:r+(t.selected?e:0)}function HU(t,e,n,r,i,o){const{x:l,y:c}=e.internals.positionAbsolute,h=fs(t),f=ch(t,n),m=Qu(t.extent)?bl(f,t.extent,h):f;let p=bl({x:l+m.x,y:c+m.y},r,h);t.extent==="parent"&&(p=TN(p,h,e));const v=qN(t,i,o),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>=v?b+1:v}}function Y6(t,e,n,r=[0,0]){const i=[],o=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const h=o.get(l.parentId)?.expandedRect??Ku(c),f=CN(h,l.rect);o.set(l.parentId,{expandedRect:f,parent:c})}return o.size>0&&o.forEach(({expandedRect:l,parent:c},h)=>{const f=c.internals.positionAbsolute,m=fs(c),p=c.origin??r,v=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,b=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,x=Math.max(m.width,Math.round(l.width)),S=Math.max(m.height,Math.round(l.height)),E=(x-m.width)*p[0],C=(S-m.height)*p[1];(v>0||b>0||E||C)&&(i.push({id:h,type:"position",position:{x:c.position.x-v+E,y:c.position.y-b+C}}),n.get(h)?.forEach(O=>{t.some(A=>A.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+v,y:O.position.y+b}})})),(m.width<l.width||m.height<l.height||v||b)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:x+(v?p[0]*v-E:0),height:S+(b?p[1]*b-C:0)}})}),i}function FU(t,e,n,r,i,o,l){const c=r?.querySelector(".xyflow__viewport");let h=!1;if(!c)return{changes:[],updatedInternals:h};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const b of t.values()){const x=e.get(b.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),h=!0;continue}const S=j6(b.nodeElement),E=x.measured.width!==S.width||x.measured.height!==S.height;if(!!(S.width&&S.height&&(E||!x.internals.handleBounds||b.force))){const O=b.nodeElement.getBoundingClientRect(),A=Qu(x.extent)?x.extent:o;let{positionAbsolute:D}=x.internals;x.parentId&&x.extent==="parent"?D=TN(D,S,e.get(x.parentId)):A&&(D=bl(D,A,S));const j={...x,measured:S,internals:{...x.internals,positionAbsolute:D,handleBounds:{source:Aw("source",b.nodeElement,O,p,x.id),target:Aw("target",b.nodeElement,O,p,x.id)}}};e.set(x.id,j),x.parentId&&$6(j,e,n,{nodeOrigin:i,zIndexMode:l}),h=!0,E&&(f.push({id:x.id,type:"dimensions",dimensions:S}),x.expandParent&&x.parentId&&v.push({id:x.id,parentId:x.parentId,rect:Ku(j,i)}))}}if(v.length>0){const b=Y6(v,e,n,i);f.push(...b)}return{changes:f,updatedInternals:h}}async function GU({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function Dw(t,e,n,r,i,o){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const h=r.get(l)||new Map;if(r.set(l,h.set(n,e)),o){l=`${i}-${t}-${o}`;const f=r.get(l)||new Map;r.set(l,f.set(n,e))}}function PN(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:l=null,targetHandle:c=null}=r,h={edgeId:r.id,source:i,target:o,sourceHandle:l,targetHandle:c},f=`${i}-${l}--${o}-${c}`,m=`${o}-${c}--${i}-${l}`;Dw("source",h,m,t,i,l),Dw("target",h,f,t,o,c),e.set(r.id,r)}}function BN(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:BN(n,e):!1}function Ow(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function $U(t,e,n,r){const i=new Map;for(const[o,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!BN(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(o);c&&i.set(o,{id:o,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function Og({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const h=n.get(l)?.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=n.get(t)?.internals.userNode;return[o?{...o,position:e.get(t)?.position||o.position,dragging:r}:i[0],i]}function YU({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},l=fh(o,e);return{x:l.x-o.x,y:l.y-o.y}}function XU({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},l=0,c=new Map,h=!1,f={x:0,y:0},m=null,p=!1,v=null,b=!1,x=!1,S=null;function E({noDragClassName:O,handleSelector:A,domNode:D,isSelectable:j,nodeId:q,nodeClickDistance:I=0}){v=Hr(D);function M({x:U,y:P}){const{nodeLookup:K,nodeExtent:te,snapGrid:$,snapToGrid:W,nodeOrigin:re,onNodeDrag:oe,onSelectionDrag:ye,onError:Y,updateNodePositions:ee}=e();o={x:U,y:P};let pe=!1;const Q=c.size>1,ie=Q&&te?F5(hh(c)):null,ce=Q&&W?YU({dragItems:c,snapGrid:$,x:U,y:P}):null;for(const[ge,be]of c){if(!K.has(ge))continue;let Ce={x:U-be.distance.x,y:P-be.distance.y};W&&(Ce=ce?{x:Math.round(Ce.x+ce.x),y:Math.round(Ce.y+ce.y)}:fh(Ce,$));let Ve=null;if(Q&&te&&!be.extent&&ie){const{positionAbsolute:Pe}=be.internals,Ge=Pe.x-ie.x+te[0][0],Be=Pe.x+be.measured.width-ie.x2+te[1][0],it=Pe.y-ie.y+te[0][1],$e=Pe.y+be.measured.height-ie.y2+te[1][1];Ve=[[Ge,it],[Be,$e]]}const{position:He,positionAbsolute:je}=EN({nodeId:ge,nextPosition:Ce,nodeLookup:K,nodeExtent:Ve||te,nodeOrigin:re,onError:Y});pe=pe||be.position.x!==He.x||be.position.y!==He.y,be.position=He,be.internals.positionAbsolute=je}if(x=x||pe,!!pe&&(ee(c,!0),S&&(r||oe||!q&&ye))){const[ge,be]=Og({nodeId:q,dragItems:c,nodeLookup:K});r?.(S,c,ge,be),oe?.(S,ge,be),q||ye?.(S,be)}}async function k(){if(!m)return;const{transform:U,panBy:P,autoPanSpeed:K,autoPanOnNodeDrag:te}=e();if(!te){h=!1,cancelAnimationFrame(l);return}const[$,W]=AN(f,m,K);($!==0||W!==0)&&(o.x=(o.x??0)-$/U[2],o.y=(o.y??0)-W/U[2],await P({x:$,y:W})&&M(o)),l=requestAnimationFrame(k)}function H(U){const{nodeLookup:P,multiSelectionActive:K,nodesDraggable:te,transform:$,snapGrid:W,snapToGrid:re,selectNodesOnDrag:oe,onNodeDragStart:ye,onSelectionDragStart:Y,unselectNodesAndEdges:ee}=e();p=!0,(!oe||!j)&&!K&&q&&(P.get(q)?.selected||ee()),j&&oe&&q&&t?.(q);const pe=M0(U.sourceEvent,{transform:$,snapGrid:W,snapToGrid:re,containerBounds:m});if(o=pe,c=$U(P,te,pe,q),c.size>0&&(n||ye||!q&&Y)){const[Q,ie]=Og({nodeId:q,dragItems:c,nodeLookup:P});n?.(U.sourceEvent,c,Q,ie),ye?.(U.sourceEvent,Q,ie),q||Y?.(U.sourceEvent,ie)}}const V=rN().clickDistance(I).on("start",U=>{const{domNode:P,nodeDragThreshold:K,transform:te,snapGrid:$,snapToGrid:W}=e();m=P?.getBoundingClientRect()||null,b=!1,x=!1,S=U.sourceEvent,K===0&&H(U),o=M0(U.sourceEvent,{transform:te,snapGrid:$,snapToGrid:W,containerBounds:m}),f=qi(U.sourceEvent,m)}).on("drag",U=>{const{autoPanOnNodeDrag:P,transform:K,snapGrid:te,snapToGrid:$,nodeDragThreshold:W,nodeLookup:re}=e(),oe=M0(U.sourceEvent,{transform:K,snapGrid:te,snapToGrid:$,containerBounds:m});if(S=U.sourceEvent,(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||q&&!re.has(q))&&(b=!0),!b){if(!h&&P&&p&&(h=!0,k()),!p){const ye=qi(U.sourceEvent,m),Y=ye.x-f.x,ee=ye.y-f.y;Math.sqrt(Y*Y+ee*ee)>W&&H(U)}(o.x!==oe.xSnapped||o.y!==oe.ySnapped)&&c&&p&&(f=qi(U.sourceEvent,m),M(oe))}}).on("end",U=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:P,updateNodePositions:K,onNodeDragStop:te,onSelectionDragStop:$}=e();if(x&&(K(c,!1),x=!1),i||te||!q&&$){const[W,re]=Og({nodeId:q,dragItems:c,nodeLookup:P,dragging:!1});i?.(U.sourceEvent,c,W,re),te?.(U.sourceEvent,W,re),q||$?.(U.sourceEvent,re)}}}).filter(U=>{const P=U.target;return!U.button&&(!O||!Ow(P,`.${O}`,D))&&(!A||Ow(P,A,D))});v.call(V)}function C(){v?.on(".drag",null)}return{update:E,destroy:C}}function KU(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())Y0(i,Ku(o))>0&&r.push(o);return r}const QU=250;function ZU(t,e,n,r){let i=[],o=1/0;const l=KU(t,n,e+QU);for(const c of l){const h=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:m,y:p}=wl(c,f,f.position,!0),v=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(p-t.y,2));v>e||(v<o?(i=[{...f,x:m,y:p}],o=v):v===o&&i.push({...f,x:m,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(h=>h.type===c)??i[0]}return i[0]}function UN(t,e,n,r,i,o=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],h=(n?c?.find(f=>f.id===n):c?.[0])??null;return h&&o?{...h,...wl(l,h,h.position,!0)}:h}function jN(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function WU(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const HN=()=>!0;function JU(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:l,domNode:c,nodeLookup:h,lib:f,autoPanOnConnect:m,flowId:p,panBy:v,cancelConnection:b,onConnectStart:x,onConnect:S,onConnectEnd:E,isValidConnection:C=HN,onReconnectEnd:O,updateConnection:A,getTransform:D,getFromHandle:j,autoPanSpeed:q,dragThreshold:I=1,handleDomNode:M}){const k=NN(t.target);let H=0,V;const{x:U,y:P}=qi(t),K=jN(o,M),te=c?.getBoundingClientRect();let $=!1;if(!te||!K)return;const W=UN(i,K,r,h,e);if(!W)return;let re=qi(t,te),oe=!1,ye=null,Y=!1,ee=null;function pe(){if(!m||!te)return;const[He,je]=AN(re,te,q);v({x:He,y:je}),H=requestAnimationFrame(pe)}const Q={...W,nodeId:i,type:K,position:W.position},ie=h.get(i);let ge={inProgress:!0,isValid:null,from:wl(ie,Q,Ye.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:re,toHandle:null,toPosition:xw[Q.position],toNode:null,pointer:re};function be(){$=!0,A(ge),x?.(t,{nodeId:i,handleId:r,handleType:K})}I===0&&be();function Ce(He){if(!$){const{x:$e,y:Ut}=qi(He),st=$e-U,Nt=Ut-P;if(!(st*st+Nt*Nt>I*I))return;be()}if(!j()||!Q){Ve(He);return}const je=D();re=qi(He,te),V=ZU(dh(re,je,!1,[1,1]),n,h,Q),oe||(pe(),oe=!0);const Pe=FN(He,{handle:V,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:C,doc:k,lib:f,flowId:p,nodeLookup:h});ee=Pe.handleDomNode,ye=Pe.connection,Y=WU(!!V,Pe.isValid);const Ge=h.get(i),Be=Ge?wl(Ge,Q,Ye.Left,!0):ge.from,it={...ge,from:Be,isValid:Y,to:Pe.toHandle&&Y?Qd({x:Pe.toHandle.x,y:Pe.toHandle.y},je):re,toHandle:Pe.toHandle,toPosition:Y&&Pe.toHandle?Pe.toHandle.position:xw[Q.position],toNode:Pe.toHandle?h.get(Pe.toHandle.nodeId):null,pointer:re};A(it),ge=it}function Ve(He){if(!("touches"in He&&He.touches.length>0)){if($){(V||ee)&&ye&&Y&&S?.(ye);const{inProgress:je,...Pe}=ge,Ge={...Pe,toPosition:ge.toHandle?ge.toPosition:null};E?.(He,Ge),o&&O?.(He,Ge)}b(),cancelAnimationFrame(H),oe=!1,Y=!1,ye=null,ee=null,k.removeEventListener("mousemove",Ce),k.removeEventListener("mouseup",Ve),k.removeEventListener("touchmove",Ce),k.removeEventListener("touchend",Ve)}}k.addEventListener("mousemove",Ce),k.addEventListener("mouseup",Ve),k.addEventListener("touchmove",Ce),k.addEventListener("touchend",Ve)}function FN(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:l,lib:c,flowId:h,isValidConnection:f=HN,nodeLookup:m}){const p=o==="target",v=e?l.querySelector(`.${c}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:b,y:x}=qi(t),S=l.elementFromPoint(b,x),E=S?.classList.contains(`${c}-flow__handle`)?S:v,C={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const O=jN(void 0,E),A=E.getAttribute("data-nodeid"),D=E.getAttribute("data-handleid"),j=E.classList.contains("connectable"),q=E.classList.contains("connectableend");if(!A||!O)return C;const I={source:p?A:r,sourceHandle:p?D:i,target:p?r:A,targetHandle:p?i:D};C.connection=I;const k=j&&q&&(n===Yu.Strict?p&&O==="source"||!p&&O==="target":A!==r||D!==i);C.isValid=k&&f(I),C.toHandle=UN(A,O,D,m,n,!0)}return C}const X5={onPointerDown:JU,isValid:FN};function ej({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Hr(t);function o({translateExtent:c,width:h,height:f,zoomStep:m=1,pannable:p=!0,zoomable:v=!0,inversePan:b=!1}){const x=A=>{if(A.sourceEvent.type!=="wheel"||!e)return;const D=n(),j=A.sourceEvent.ctrlKey&&X0()?10:1,q=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*m,I=D[2]*Math.pow(2,q*j);e.scaleTo(I)};let S=[0,0];const E=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(S=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const D=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!e)return;const j=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],q=[j[0]-S[0],j[1]-S[1]];S=j;const I=r()*Math.max(D[2],Math.log(D[2]))*(b?-1:1),M={x:D[0]-q[0]*I,y:D[1]-q[1]*I},k=[[0,0],[h,f]];e.setViewportConstrained({x:M.x,y:M.y,zoom:D[2]},k,c)},O=yN().on("start",E).on("zoom",p?C:null).on("zoom.wheel",v?x:null);i.call(O,{})}function l(){i.on("zoom",null)}return{update:o,destroy:l,pointer:Di}}const Dm=t=>({x:t.x,y:t.y,zoom:t.k}),zg=({x:t,y:e,zoom:n})=>Nm.translate(t,e).scale(n),Du=(t,e)=>t.target.closest(`.${e}`),GN=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),tj=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Vg=(t,e=0,n=tj,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},$N=t=>{const e=t.ctrlKey&&X0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function nj({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:h,onPanZoomEnd:f}){return m=>{if(Du(m,e))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const E=Di(m),C=$N(m),O=p*Math.pow(2,C);r.scaleTo(n,O,E,m);return}const v=m.deltaMode===1?20:1;let b=i===pl.Vertical?0:m.deltaX*v,x=i===pl.Horizontal?0:m.deltaY*v;!X0()&&m.shiftKey&&i!==pl.Vertical&&(b=m.deltaY*v,x=0),r.translateBy(n,-(b/p)*o,-(x/p)*o,{internal:!0});const S=Dm(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(m,S),t.panScrollTimeout=setTimeout(()=>{f?.(m,S),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(m,S))}}function rj({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",l=!e&&o&&!r.ctrlKey,c=Du(r,t);if(r.ctrlKey&&o&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function ij({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Dm(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function aj({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{t.usedRightMouseButton=!!(n&&GN(e,t.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,Dm(o.transform))}}function sj({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,o&&GN(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&o(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=Dm(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function oj({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:l,noWheelClassName:c,noPanClassName:h,lib:f,connectionInProgress:m}){return p=>{const v=t||e,b=n&&p.ctrlKey,x=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Du(p,`${f}-flow__node`)||Du(p,`${f}-flow__edge`)))return!0;if(!r&&!v&&!i&&!o&&!n||l||m&&!x||Du(p,c)&&x||Du(p,h)&&(!x||i&&x&&!t)||!n&&p.ctrlKey&&x)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!v&&!i&&!b&&x||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const S=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||x)&&S}}function lj({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:h}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=yN().scaleExtent([e,n]).translateExtent(r),v=Hr(t).call(p);O({x:i.x,y:i.y,zoom:Xu(i.zoom,e,n)},[[0,0],[m.width,m.height]],r);const b=v.on("wheel.zoom"),x=v.on("dblclick.zoom");p.wheelDelta($N);function S(V,U){return v?new Promise(P=>{p?.interpolate(U?.interpolate==="linear"?N0:Td).transform(Vg(v,U?.duration,U?.ease,()=>P(!0)),V)}):Promise.resolve(!1)}function E({noWheelClassName:V,noPanClassName:U,onPaneContextMenu:P,userSelectionActive:K,panOnScroll:te,panOnDrag:$,panOnScrollMode:W,panOnScrollSpeed:re,preventScrolling:oe,zoomOnPinch:ye,zoomOnScroll:Y,zoomOnDoubleClick:ee,zoomActivationKeyPressed:pe,lib:Q,onTransformChange:ie,connectionInProgress:ce,paneClickDistance:ge,selectionOnDrag:be}){K&&!f.isZoomingOrPanning&&C();const Ce=te&&!pe&&!K;p.clickDistance(be?1/0:!Li(ge)||ge<0?0:ge);const Ve=Ce?nj({zoomPanValues:f,noWheelClassName:V,d3Selection:v,d3Zoom:p,panOnScrollMode:W,panOnScrollSpeed:re,zoomOnPinch:ye,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):rj({noWheelClassName:V,preventScrolling:oe,d3ZoomHandler:b});if(v.on("wheel.zoom",Ve,{passive:!1}),!K){const je=ij({zoomPanValues:f,onDraggingChange:h,onPanZoomStart:l});p.on("start",je);const Pe=aj({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!P,onPanZoom:o,onTransformChange:ie});p.on("zoom",Pe);const Ge=sj({zoomPanValues:f,panOnDrag:$,panOnScroll:te,onPaneContextMenu:P,onPanZoomEnd:c,onDraggingChange:h});p.on("end",Ge)}const He=oj({zoomActivationKeyPressed:pe,panOnDrag:$,zoomOnScroll:Y,panOnScroll:te,zoomOnDoubleClick:ee,zoomOnPinch:ye,userSelectionActive:K,noPanClassName:U,noWheelClassName:V,lib:Q,connectionInProgress:ce});p.filter(He),ee?v.on("dblclick.zoom",x):v.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function O(V,U,P){const K=zg(V),te=p?.constrain()(K,U,P);return te&&await S(te),new Promise($=>$(te))}async function A(V,U){const P=zg(V);return await S(P,U),new Promise(K=>K(P))}function D(V){if(v){const U=zg(V),P=v.property("__zoom");(P.k!==V.zoom||P.x!==V.x||P.y!==V.y)&&p?.transform(v,U,null,{sync:!0})}}function j(){const V=v?vN(v.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function q(V,U){return v?new Promise(P=>{p?.interpolate(U?.interpolate==="linear"?N0:Td).scaleTo(Vg(v,U?.duration,U?.ease,()=>P(!0)),V)}):Promise.resolve(!1)}function I(V,U){return v?new Promise(P=>{p?.interpolate(U?.interpolate==="linear"?N0:Td).scaleBy(Vg(v,U?.duration,U?.ease,()=>P(!0)),V)}):Promise.resolve(!1)}function M(V){p?.scaleExtent(V)}function k(V){p?.translateExtent(V)}function H(V){const U=!Li(V)||V<0?0:V;p?.clickDistance(U)}return{update:E,destroy:C,setViewport:A,setViewportConstrained:O,getViewport:j,scaleTo:q,scaleBy:I,setScaleExtent:M,setTranslateExtent:k,syncViewport:D,setClickDistance:H}}var Zu;(function(t){t.Line="line",t.Handle="handle"})(Zu||(Zu={}));function uj({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const l=t-e,c=n-r,h=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(h[0]=h[0]*-1),c&&o&&(h[1]=h[1]*-1),h}function zw(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ws(t,e){return Math.max(0,e-t)}function Js(t,e){return Math.max(0,t-e)}function sd(t,e,n){return Math.max(0,e-t,t-n)}function Vw(t,e){return t?!e:e}function cj(t,e,n,r,i,o,l,c){let{affectsX:h,affectsY:f}=e;const{isHorizontal:m,isVertical:p}=e,v=m&&p,{xSnapped:b,ySnapped:x}=n,{minWidth:S,maxWidth:E,minHeight:C,maxHeight:O}=r,{x:A,y:D,width:j,height:q,aspectRatio:I}=t;let M=Math.floor(m?b-t.pointerX:0),k=Math.floor(p?x-t.pointerY:0);const H=j+(h?-M:M),V=q+(f?-k:k),U=-o[0]*j,P=-o[1]*q;let K=sd(H,S,E),te=sd(V,C,O);if(l){let re=0,oe=0;h&&M<0?re=Ws(A+M+U,l[0][0]):!h&&M>0&&(re=Js(A+H+U,l[1][0])),f&&k<0?oe=Ws(D+k+P,l[0][1]):!f&&k>0&&(oe=Js(D+V+P,l[1][1])),K=Math.max(K,re),te=Math.max(te,oe)}if(c){let re=0,oe=0;h&&M>0?re=Js(A+M,c[0][0]):!h&&M<0&&(re=Ws(A+H,c[1][0])),f&&k>0?oe=Js(D+k,c[0][1]):!f&&k<0&&(oe=Ws(D+V,c[1][1])),K=Math.max(K,re),te=Math.max(te,oe)}if(i){if(m){const re=sd(H/I,C,O)*I;if(K=Math.max(K,re),l){let oe=0;!h&&!f||h&&!f&&v?oe=Js(D+P+H/I,l[1][1])*I:oe=Ws(D+P+(h?M:-M)/I,l[0][1])*I,K=Math.max(K,oe)}if(c){let oe=0;!h&&!f||h&&!f&&v?oe=Ws(D+H/I,c[1][1])*I:oe=Js(D+(h?M:-M)/I,c[0][1])*I,K=Math.max(K,oe)}}if(p){const re=sd(V*I,S,E)/I;if(te=Math.max(te,re),l){let oe=0;!h&&!f||f&&!h&&v?oe=Js(A+V*I+U,l[1][0])/I:oe=Ws(A+(f?k:-k)*I+U,l[0][0])/I,te=Math.max(te,oe)}if(c){let oe=0;!h&&!f||f&&!h&&v?oe=Ws(A+V*I,c[1][0])/I:oe=Js(A+(f?k:-k)*I,c[0][0])/I,te=Math.max(te,oe)}}}k=k+(k<0?te:-te),M=M+(M<0?K:-K),i&&(v?H>V*I?k=(Vw(h,f)?-M:M)/I:M=(Vw(h,f)?-k:k)*I:m?(k=M/I,f=h):(M=k*I,h=f));const $=h?A+M:A,W=f?D+k:D;return{width:j+(h?-M:M),height:q+(f?-k:k),x:o[0]*M*(h?-1:1)+$,y:o[1]*k*(f?-1:1)+W}}const YN={width:0,height:0,x:0,y:0},hj={...YN,pointerX:0,pointerY:0,aspectRatio:1};function fj(t){return[[0,0],[t.measured.width,t.measured.height]]}function dj(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,l=t.measured.height??0,c=n[0]*o,h=n[1]*l;return[[r-c,i-h],[r+o-c,i+l-h]]}function mj({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Hr(t);let l={controlDirection:zw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:v,onResizeStart:b,onResize:x,onResizeEnd:S,shouldResize:E}){let C={...YN},O={...hj};l={boundaries:m,resizeDirection:v,keepAspectRatio:p,controlDirection:zw(f)};let A,D=null,j=[],q,I,M,k=!1;const H=rN().on("start",V=>{const{nodeLookup:U,transform:P,snapGrid:K,snapToGrid:te,nodeOrigin:$,paneDomNode:W}=n();if(A=U.get(e),!A)return;D=W?.getBoundingClientRect()??null;const{xSnapped:re,ySnapped:oe}=M0(V.sourceEvent,{transform:P,snapGrid:K,snapToGrid:te,containerBounds:D});C={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},O={...C,pointerX:re,pointerY:oe,aspectRatio:C.width/C.height},q=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(q=U.get(A.parentId),I=q&&A.extent==="parent"?fj(q):void 0),j=[],M=void 0;for(const[ye,Y]of U)if(Y.parentId===e&&(j.push({id:ye,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const ee=dj(Y,A,Y.origin??$);M?M=[[Math.min(ee[0][0],M[0][0]),Math.min(ee[0][1],M[0][1])],[Math.max(ee[1][0],M[1][0]),Math.max(ee[1][1],M[1][1])]]:M=ee}b?.(V,{...C})}).on("drag",V=>{const{transform:U,snapGrid:P,snapToGrid:K,nodeOrigin:te}=n(),$=M0(V.sourceEvent,{transform:U,snapGrid:P,snapToGrid:K,containerBounds:D}),W=[];if(!A)return;const{x:re,y:oe,width:ye,height:Y}=C,ee={},pe=A.origin??te,{width:Q,height:ie,x:ce,y:ge}=cj(O,l.controlDirection,$,l.boundaries,l.keepAspectRatio,pe,I,M),be=Q!==ye,Ce=ie!==Y,Ve=ce!==re&&be,He=ge!==oe&&Ce;if(!Ve&&!He&&!be&&!Ce)return;if((Ve||He||pe[0]===1||pe[1]===1)&&(ee.x=Ve?ce:C.x,ee.y=He?ge:C.y,C.x=ee.x,C.y=ee.y,j.length>0)){const Be=ce-re,it=ge-oe;for(const $e of j)$e.position={x:$e.position.x-Be+pe[0]*(Q-ye),y:$e.position.y-it+pe[1]*(ie-Y)},W.push($e)}if((be||Ce)&&(ee.width=be&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Q:C.width,ee.height=Ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ie:C.height,C.width=ee.width,C.height=ee.height),q&&A.expandParent){const Be=pe[0]*(ee.width??0);ee.x&&ee.x<Be&&(C.x=Be,O.x=O.x-(ee.x-Be));const it=pe[1]*(ee.height??0);ee.y&&ee.y<it&&(C.y=it,O.y=O.y-(ee.y-it))}const je=uj({width:C.width,prevWidth:ye,height:C.height,prevHeight:Y,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Pe={...C,direction:je};E?.(V,Pe)!==!1&&(k=!0,x?.(V,Pe),r(ee,W))}).on("end",V=>{k&&(S?.(V,{...C}),i?.({...C}),k=!1)});o.call(H)}function h(){o.on(".drag",null)}return{update:c,destroy:h}}var Lg={exports:{}},qg={},Pg={exports:{}},Bg={};var Lw;function pj(){if(Lw)return Bg;Lw=1;var t=oh();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(p,v){var b=v(),x=r({inst:{value:b,getSnapshot:v}}),S=x[0].inst,E=x[1];return o(function(){S.value=b,S.getSnapshot=v,h(S)&&E({inst:S})},[p,b,v]),i(function(){return h(S)&&E({inst:S}),p(function(){h(S)&&E({inst:S})})},[p]),l(b),b}function h(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Bg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Bg}var qw;function gj(){return qw||(qw=1,Pg.exports=pj()),Pg.exports}var Pw;function vj(){if(Pw)return qg;Pw=1;var t=oh(),e=gj();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return qg.useSyncExternalStoreWithSelector=function(f,m,p,v,b){var x=o(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function C(q){if(!O){if(O=!0,A=q,q=v(q),b!==void 0&&S.hasValue){var I=S.value;if(b(I,q))return D=I}return D=q}if(I=D,r(A,q))return I;var M=v(q);return b!==void 0&&b(I,M)?(A=q,I):(A=q,D=M)}var O=!1,A,D,j=p===void 0?null:p;return[function(){return C(m())},j===null?void 0:function(){return C(j())}]},[m,p,v,b]);var E=i(f,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),h(E),E},qg}var Bw;function yj(){return Bw||(Bw=1,Lg.exports=vj()),Lg.exports}var _j=yj();const bj=Tm(_j),wj={},Uw=t=>{let e;const n=new Set,r=(m,p)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const b=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,b))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(wj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,i,h);return h},xj=t=>t?Uw(t):Uw,{useDebugValue:Sj}=UI,{useSyncExternalStoreWithSelector:Ej}=bj,Tj=t=>t;function XN(t,e=Tj,n){const r=Ej(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Sj(r),r}const jw=(t,e)=>{const n=xj(t),r=(i,o=e)=>XN(n,i,o);return Object.assign(r,n),r},Aj=(t,e)=>t?jw(t,e):jw;function Qt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}jI();const Om=le.createContext(null),Cj=Om.Provider,KN=ma.error001();function wt(t,e){const n=le.useContext(Om);if(n===null)throw new Error(KN);return XN(n,t,e)}function Zt(){const t=le.useContext(Om);if(t===null)throw new Error(KN);return le.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Hw={display:"none"},Rj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},QN="react-flow__node-desc",ZN="react-flow__edge-desc",Ij="react-flow__aria-live",Nj=t=>t.ariaLiveMessage,Mj=t=>t.ariaLabelConfig;function kj({rfId:t}){const e=wt(Nj);return B.jsx("div",{id:`${Ij}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Rj,children:e})}function Dj({rfId:t,disableKeyboardA11y:e}){const n=wt(Mj);return B.jsxs(B.Fragment,{children:[B.jsx("div",{id:`${QN}-${t}`,style:Hw,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),B.jsx("div",{id:`${ZN}-${t}`,style:Hw,children:n["edge.a11yDescription.default"]}),!e&&B.jsx(kj,{rfId:t})]})}const zm=le.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const l=`${t}`.split("-");return B.jsx("div",{className:In(["react-flow__panel",n,...l]),style:r,ref:o,...i,children:e})});zm.displayName="Panel";function Oj({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:B.jsx(zm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:B.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const zj=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},od=t=>t.id;function Vj(t,e){return Qt(t.selectedNodes.map(od),e.selectedNodes.map(od))&&Qt(t.selectedEdges.map(od),e.selectedEdges.map(od))}function Lj({onSelectionChange:t}){const e=Zt(),{selectedNodes:n,selectedEdges:r}=wt(zj,Vj);return le.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const qj=t=>!!t.onSelectionChangeHandlers;function Pj({onSelectionChange:t}){const e=wt(qj);return t||e?B.jsx(Lj,{onSelectionChange:t}):null}const WN=[0,0],Bj={x:0,y:0,zoom:1},Uj=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Fw=[...Uj,"rfId"],jj=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Gw={translateExtent:F0,nodeOrigin:WN,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Hj(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:h}=wt(jj,Qt),f=Zt();le.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{m.current=Gw,c()}),[]);const m=le.useRef(Gw);return le.useEffect(()=>{for(const p of Fw){const v=t[p],b=m.current[p];v!==b&&(typeof t[p]>"u"||(p==="nodes"?e(v):p==="edges"?n(v):p==="minZoom"?r(v):p==="maxZoom"?i(v):p==="translateExtent"?o(v):p==="nodeExtent"?l(v):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:AU(v)}):p==="fitView"?f.setState({fitViewQueued:v}):p==="fitViewOptions"?f.setState({fitViewOptions:v}):f.setState({[p]:v})))}m.current=t},Fw.map(p=>t[p])),null}function $w(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Fj(t){const[e,n]=le.useState(t==="system"?null:t);return le.useEffect(()=>{if(t!=="system"){n(t);return}const r=$w(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:$w()?.matches?"dark":"light"}const Yw=typeof document<"u"?document:null;function K0(t=null,e={target:Yw,actInsideInputWithModifier:!0}){const[n,r]=le.useState(!1),i=le.useRef(!1),o=le.useRef(new Set([])),[l,c]=le.useMemo(()=>{if(t!==null){const f=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,v)=>p.concat(...v),[]);return[f,m]}return[[],[]]},[t]);return le.useEffect(()=>{const h=e?.target??Yw,f=e?.actInsideInputWithModifier??!0;if(t!==null){const m=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!f)&&MN(b))return!1;const S=Kw(b.code,c);if(o.current.add(b[S]),Xw(l,o.current,!1)){const E=b.composedPath?.()?.[0]||b.target,C=E?.nodeName==="BUTTON"||E?.nodeName==="A";e.preventDefault!==!1&&(i.current||!C)&&b.preventDefault(),r(!0)}},p=b=>{const x=Kw(b.code,c);Xw(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[x]),b.key==="Meta"&&o.current.clear(),i.current=!1},v=()=>{o.current.clear(),r(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",p),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",p),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,r]),n}function Xw(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function Kw(t,e){return e.includes(t)?"code":"key"}const Gj=()=>{const t=Zt();return le.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:l,panZoom:c}=t.getState(),h=U6(e,r,i,o,l,n?.padding??.1);return c?(await c.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:l}=t.getState();if(!l)return e;const{x:c,y:h}=l.getBoundingClientRect(),f={x:e.x-c,y:e.y-h},m=n.snapGrid??i,p=n.snapToGrid??o;return dh(f,r,p,m)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),l=Qd(e,n);return{x:l.x+i,y:l.y+o}}}),[])};function JN(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const l=r.get(o.id);l?l.push(o):r.set(o.id,[o])}for(const o of e){const l=r.get(o.id);if(!l){n.push(o);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...o};for(const h of l)$j(h,c);n.push(c)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function $j(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function eM(t,e){return JN(t,e)}function tM(t,e){return JN(t,e)}function ul(t,e){return{id:t,type:"select",selected:e}}function Ou(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const l=e.has(i);!(o.selected===void 0&&!l)&&o.selected!==l&&(n&&(o.selected=l),r.push(ul(o.id,l)))}return r}function Qw({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,o]of t.entries()){const l=e.get(o.id),c=l?.internals?.userNode??l;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Zw(t){return{id:t.id,type:"remove"}}const Ww=t=>gU(t),Yj=t=>SN(t);function nM(t){return le.forwardRef(t)}const Xj=typeof window<"u"?le.useLayoutEffect:le.useEffect;function Jw(t){const[e,n]=le.useState(BigInt(0)),[r]=le.useState(()=>Kj(()=>n(i=>i+BigInt(1))));return Xj(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Kj(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const rM=le.createContext(null);function Qj({children:t}){const e=Zt(),n=le.useCallback(c=>{const{nodes:h=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:x}=e.getState();let S=h;for(const C of c)S=typeof C=="function"?C(S):C;let E=Qw({items:S,lookup:v});for(const C of x.values())E=C(E);m&&f(S),E.length>0?p?.(E):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:O,setNodes:A}=e.getState();C&&A(O)})},[]),r=Jw(n),i=le.useCallback(c=>{const{edges:h=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:v}=e.getState();let b=h;for(const x of c)b=typeof x=="function"?x(b):x;m?f(b):p&&p(Qw({items:b,lookup:v}))},[]),o=Jw(i),l=le.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return B.jsx(rM.Provider,{value:l,children:t})}function Zj(){const t=le.useContext(rM);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Wj=t=>!!t.panZoom;function X6(){const t=Gj(),e=Zt(),n=Zj(),r=wt(Wj),i=le.useMemo(()=>{const o=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},h=p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState(),x=Ww(p)?p:v.get(p.id),S=x.parentId?IN(x.position,x.measured,x.parentId,v,b):x.position,E={...x,position:S,width:x.measured?.width??x.width,height:x.measured?.height??x.height};return Ku(E)},f=(p,v,b={replace:!1})=>{l(x=>x.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&Ww(E)?E:{...S,...E}}return S}))},m=(p,v,b={replace:!1})=>{c(x=>x.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&Yj(E)?E:{...S,...E}}return S}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>o(p)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(v=>({...v}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const v=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...v])},addEdges:p=>{const v=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:p=[],edges:v=[],transform:b}=e.getState(),[x,S,E]=b;return{nodes:p.map(C=>({...C})),edges:v.map(C=>({...C})),viewport:{x,y:S,zoom:E}}},deleteElements:async({nodes:p=[],edges:v=[]})=>{const{nodes:b,edges:x,onNodesDelete:S,onEdgesDelete:E,triggerNodeChanges:C,triggerEdgeChanges:O,onDelete:A,onBeforeDelete:D}=e.getState(),{nodes:j,edges:q}=await wU({nodesToRemove:p,edgesToRemove:v,nodes:b,edges:x,onBeforeDelete:D}),I=q.length>0,M=j.length>0;if(I){const k=q.map(Zw);E?.(q),O(k)}if(M){const k=j.map(Zw);S?.(j),C(k)}return(M||I)&&A?.({nodes:j,edges:q}),{deletedNodes:j,deletedEdges:q}},getIntersectingNodes:(p,v=!0,b)=>{const x=Ew(p),S=x?p:h(p),E=b!==void 0;return S?(b||e.getState().nodes).filter(C=>{const O=e.getState().nodeLookup.get(C.id);if(O&&!x&&(C.id===p.id||!O.internals.positionAbsolute))return!1;const A=Ku(E?C:O),D=Y0(A,S);return v&&D>0||D>=A.width*A.height||D>=S.width*S.height}):[]},isNodeIntersecting:(p,v,b=!0)=>{const S=Ew(p)?p:h(p);if(!S)return!1;const E=Y0(S,v);return b&&E>0||E>=v.width*v.height||E>=S.width*S.height},updateNode:f,updateNodeData:(p,v,b={replace:!1})=>{f(p,x=>{const S=typeof v=="function"?v(x):v;return b.replace?{...x,data:S}:{...x,data:{...x.data,...S}}},b)},updateEdge:m,updateEdgeData:(p,v,b={replace:!1})=>{m(p,x=>{const S=typeof v=="function"?v(x):v;return b.replace?{...x,data:S}:{...x,data:{...x.data,...S}}},b)},getNodesBounds:p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState();return vU(p,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:p,id:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}-${p}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}${p?v?`-${p}-${v}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const v=e.getState().fitViewResolver??TU();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:v}),n.nodeQueue.push(b=>[...b]),v.promise}}},[]);return le.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const ex=t=>t.selected,Jj=typeof window<"u"?window:void 0;function eH({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Zt(),{deleteElements:r}=X6(),i=K0(t,{actInsideInputWithModifier:!1}),o=K0(e,{target:Jj});le.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(ex),edges:l.filter(ex)}),n.setState({nodesSelectionActive:!1})}},[i]),le.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function tH(t){const e=Zt();le.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=j6(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",ma.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Vm={position:"absolute",width:"100%",height:"100%",top:0,left:0},nH=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function rH({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=pl.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:h,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:b=!0,children:x,noWheelClassName:S,noPanClassName:E,onViewportChange:C,isControlledViewport:O,paneClickDistance:A,selectionOnDrag:D}){const j=Zt(),q=le.useRef(null),{userSelectionActive:I,lib:M,connectionInProgress:k}=wt(nH,Qt),H=K0(v),V=le.useRef();tH(q);const U=le.useCallback(P=>{C?.({x:P[0],y:P[1],zoom:P[2]}),O||j.setState({transform:P})},[C,O]);return le.useEffect(()=>{if(q.current){V.current=lj({domNode:q.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:h,onDraggingChange:$=>j.setState({paneDragging:$}),onPanZoomStart:($,W)=>{const{onViewportChangeStart:re,onMoveStart:oe}=j.getState();oe?.($,W),re?.(W)},onPanZoom:($,W)=>{const{onViewportChange:re,onMove:oe}=j.getState();oe?.($,W),re?.(W)},onPanZoomEnd:($,W)=>{const{onViewportChangeEnd:re,onMoveEnd:oe}=j.getState();oe?.($,W),re?.(W)}});const{x:P,y:K,zoom:te}=V.current.getViewport();return j.setState({panZoom:V.current,transform:[P,K,te],domNode:q.current.closest(".react-flow")}),()=>{V.current?.destroy()}}},[]),le.useEffect(()=>{V.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:E,userSelectionActive:I,noWheelClassName:S,lib:M,onTransformChange:U,connectionInProgress:k,selectionOnDrag:D,paneClickDistance:A})},[t,e,n,r,i,o,l,c,H,b,E,I,S,M,U,k,D,A]),B.jsx("div",{className:"react-flow__renderer",ref:q,style:Vm,children:x})}const iH=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function aH(){const{userSelectionActive:t,userSelectionRect:e}=wt(iH,Qt);return t&&e?B.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Ug=(t,e)=>n=>{n.target===e.current&&t?.(n)},sH=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function oH({isSelecting:t,selectionKeyPressed:e,selectionMode:n=G0.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:c,onPaneClick:h,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:b,children:x}){const S=Zt(),{userSelectionActive:E,elementsSelectable:C,dragging:O,connectionInProgress:A}=wt(sH,Qt),D=C&&(t||E),j=le.useRef(null),q=le.useRef(),I=le.useRef(new Set),M=le.useRef(new Set),k=le.useRef(!1),H=re=>{if(k.current||A){k.current=!1;return}h?.(re),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},V=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}f?.(re)},U=m?re=>m(re):void 0,P=re=>{k.current&&(re.stopPropagation(),k.current=!1)},K=re=>{const{domNode:oe}=S.getState();if(q.current=oe?.getBoundingClientRect(),!q.current)return;const ye=re.target===j.current;if(!ye&&!!re.target.closest(".nokey")||!t||!(o&&ye||e)||re.button!==0||!re.isPrimary)return;re.target?.setPointerCapture?.(re.pointerId),k.current=!1;const{x:pe,y:Q}=qi(re.nativeEvent,q.current);S.setState({userSelectionRect:{width:0,height:0,startX:pe,startY:Q,x:pe,y:Q}}),ye||(re.stopPropagation(),re.preventDefault())},te=re=>{const{userSelectionRect:oe,transform:ye,nodeLookup:Y,edgeLookup:ee,connectionLookup:pe,triggerNodeChanges:Q,triggerEdgeChanges:ie,defaultEdgeOptions:ce,resetSelectedElements:ge}=S.getState();if(!q.current||!oe)return;const{x:be,y:Ce}=qi(re.nativeEvent,q.current),{startX:Ve,startY:He}=oe;if(!k.current){const it=e?0:i;if(Math.hypot(be-Ve,Ce-He)<=it)return;ge(),l?.(re)}k.current=!0;const je={startX:Ve,startY:He,x:be<Ve?be:Ve,y:Ce<He?Ce:He,width:Math.abs(be-Ve),height:Math.abs(Ce-He)},Pe=I.current,Ge=M.current;I.current=new Set(B6(Y,je,ye,n===G0.Partial,!0).map(it=>it.id)),M.current=new Set;const Be=ce?.selectable??!0;for(const it of I.current){const $e=pe.get(it);if($e)for(const{edgeId:Ut}of $e.values()){const st=ee.get(Ut);st&&(st.selectable??Be)&&M.current.add(Ut)}}if(!Tw(Pe,I.current)){const it=Ou(Y,I.current,!0);Q(it)}if(!Tw(Ge,M.current)){const it=Ou(ee,M.current);ie(it)}S.setState({userSelectionRect:je,userSelectionActive:!0,nodesSelectionActive:!1})},$=re=>{re.button===0&&(re.target?.releasePointerCapture?.(re.pointerId),!E&&re.target===j.current&&S.getState().userSelectionRect&&H?.(re),S.setState({userSelectionActive:!1,userSelectionRect:null}),k.current&&(c?.(re),S.setState({nodesSelectionActive:I.current.size>0})))},W=r===!0||Array.isArray(r)&&r.includes(0);return B.jsxs("div",{className:In(["react-flow__pane",{draggable:W,dragging:O,selection:t}]),onClick:D?void 0:Ug(H,j),onContextMenu:Ug(V,j),onWheel:Ug(U,j),onPointerEnter:D?void 0:p,onPointerMove:D?te:v,onPointerUp:D?$:void 0,onPointerDownCapture:D?K:void 0,onClickCapture:D?P:void 0,onPointerLeave:b,ref:j,style:Vm,children:[x,B.jsx(aH,{})]})}function K5({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:l,nodeLookup:c,onError:h}=e.getState(),f=c.get(t);if(!f){h?.("012",ma.error012(t));return}e.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(o({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function iM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:l}){const c=Zt(),[h,f]=le.useState(!1),m=le.useRef();return le.useEffect(()=>{m.current=XU({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{K5({id:p,store:c,nodeRef:t})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),le.useEffect(()=>{if(e)m.current?.destroy();else if(t.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,e,o,t,i]),h}const lH=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function aM(){const t=Zt();return le.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:l,onError:c,updateNodePositions:h,nodeLookup:f,nodeOrigin:m}=t.getState(),p=new Map,v=lH(l),b=i?o[0]:5,x=i?o[1]:5,S=n.direction.x*b*n.factor,E=n.direction.y*x*n.factor;for(const[,C]of f){if(!v(C))continue;let O={x:C.internals.positionAbsolute.x+S,y:C.internals.positionAbsolute.y+E};i&&(O=fh(O,o));const{position:A,positionAbsolute:D}=EN({nodeId:C.id,nextPosition:O,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});C.position=A,C.internals.positionAbsolute=D,p.set(C.id,C)}h(p)},[])}const K6=le.createContext(null),uH=K6.Provider;K6.Consumer;const sM=()=>le.useContext(K6),cH=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),hH=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:l}=r,{fromHandle:c,toHandle:h,isValid:f}=l,m=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:m,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:o===Yu.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:m&&f}};function fH({type:t="source",position:e=Ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:l,onConnect:c,children:h,className:f,onMouseDown:m,onTouchStart:p,...v},b){const x=l||null,S=t==="target",E=Zt(),C=sM(),{connectOnClick:O,noPanClassName:A,rfId:D}=wt(cH,Qt),{connectingFrom:j,connectingTo:q,clickConnecting:I,isPossibleEndHandle:M,connectionInProcess:k,clickConnectionInProcess:H,valid:V}=wt(hH(C,x,t),Qt);C||E.getState().onError?.("010",ma.error010());const U=te=>{const{defaultEdgeOptions:$,onConnect:W,hasDefaultEdges:re}=E.getState(),oe={...$,...te};if(re){const{edges:ye,setEdges:Y}=E.getState();Y(kU(oe,ye))}W?.(oe),c?.(oe)},P=te=>{if(!C)return;const $=kN(te.nativeEvent);if(i&&($&&te.button===0||!$)){const W=E.getState();X5.onPointerDown(te.nativeEvent,{handleDomNode:te.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:S,handleId:x,nodeId:C,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:U,isValidConnection:n||W.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}$?m?.(te):p?.(te)},K=te=>{const{onClickConnectStart:$,onClickConnectEnd:W,connectionClickStartHandle:re,connectionMode:oe,isValidConnection:ye,lib:Y,rfId:ee,nodeLookup:pe,connection:Q}=E.getState();if(!C||!re&&!i)return;if(!re){$?.(te.nativeEvent,{nodeId:C,handleId:x,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:C,type:t,id:x}});return}const ie=NN(te.target),ce=n||ye,{connection:ge,isValid:be}=X5.isValid(te.nativeEvent,{handle:{nodeId:C,id:x,type:t},connectionMode:oe,fromNodeId:re.nodeId,fromHandleId:re.id||null,fromType:re.type,isValidConnection:ce,flowId:ee,doc:ie,lib:Y,nodeLookup:pe});be&&ge&&U(ge);const Ce=structuredClone(Q);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,W?.(te,Ce),E.setState({connectionClickStartHandle:null})};return B.jsx("div",{"data-handleid":x,"data-nodeid":C,"data-handlepos":e,"data-id":`${D}-${C}-${x}-${t}`,className:In(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,f,{source:!S,target:S,connectable:r,connectablestart:i,connectableend:o,clickconnecting:I,connectingfrom:j,connectingto:q,valid:V,connectionindicator:r&&(!k||M)&&(k||H?o:i)}]),onMouseDown:P,onTouchStart:P,onClick:O?K:void 0,ref:b,...v,children:h})}const Wu=le.memo(nM(fH));function dH({data:t,isConnectable:e,sourcePosition:n=Ye.Bottom}){return B.jsxs(B.Fragment,{children:[t?.label,B.jsx(Wu,{type:"source",position:n,isConnectable:e})]})}function mH({data:t,isConnectable:e,targetPosition:n=Ye.Top,sourcePosition:r=Ye.Bottom}){return B.jsxs(B.Fragment,{children:[B.jsx(Wu,{type:"target",position:n,isConnectable:e}),t?.label,B.jsx(Wu,{type:"source",position:r,isConnectable:e})]})}function pH(){return null}function gH({data:t,isConnectable:e,targetPosition:n=Ye.Top}){return B.jsxs(B.Fragment,{children:[B.jsx(Wu,{type:"target",position:n,isConnectable:e}),t?.label]})}const Zd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},tx={input:dH,default:mH,output:gH,group:pH};function vH(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const yH=t=>{const{width:e,height:n,x:r,y:i}=hh(t.nodeLookup,{filter:o=>!!o.selected});return{width:Li(e)?e:null,height:Li(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function _H({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Zt(),{width:i,height:o,transformString:l,userSelectionActive:c}=wt(yH,Qt),h=aM(),f=le.useRef(null);if(le.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),iM({nodeRef:f}),c||!i||!o)return null;const m=t?v=>{const b=r.getState().nodes.filter(x=>x.selected);t(v,b)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(Zd,v.key)&&(v.preventDefault(),h({direction:Zd[v.key],factor:v.shiftKey?4:1}))};return B.jsx("div",{className:In(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:B.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o}})})}const nx=typeof window<"u"?window:void 0,bH=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function oM({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:x,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:C,zoomOnScroll:O,zoomOnPinch:A,panOnScroll:D,panOnScrollSpeed:j,panOnScrollMode:q,zoomOnDoubleClick:I,panOnDrag:M,defaultViewport:k,translateExtent:H,minZoom:V,maxZoom:U,preventScrolling:P,onSelectionContextMenu:K,noWheelClassName:te,noPanClassName:$,disableKeyboardA11y:W,onViewportChange:re,isControlledViewport:oe}){const{nodesSelectionActive:ye,userSelectionActive:Y}=wt(bH,Qt),ee=K0(f,{target:nx}),pe=K0(S,{target:nx}),Q=pe||M,ie=pe||D,ce=m&&Q!==!0,ge=ee||Y||ce;return eH({deleteKeyCode:h,multiSelectionKeyCode:x}),B.jsx(rH,{onPaneContextMenu:o,elementsSelectable:C,zoomOnScroll:O,zoomOnPinch:A,panOnScroll:ie,panOnScrollSpeed:j,panOnScrollMode:q,zoomOnDoubleClick:I,panOnDrag:!ee&&Q,defaultViewport:k,translateExtent:H,minZoom:V,maxZoom:U,zoomActivationKeyCode:E,preventScrolling:P,noWheelClassName:te,noPanClassName:$,onViewportChange:re,isControlledViewport:oe,paneClickDistance:c,selectionOnDrag:ce,children:B.jsxs(oH,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,panOnDrag:Q,isSelecting:!!ge,selectionMode:p,selectionKeyPressed:ee,paneClickDistance:c,selectionOnDrag:ce,children:[t,ye&&B.jsx(_H,{onSelectionContextMenu:K,noPanClassName:$,disableKeyboardA11y:W})]})})}oM.displayName="FlowRenderer";const wH=le.memo(oM),xH=t=>e=>t?B6(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function SH(t){return wt(le.useCallback(xH(t),[t]),Qt)}const EH=t=>t.updateNodeInternals;function TH(){const t=wt(EH),[e]=le.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return le.useEffect(()=>()=>{e?.disconnect()},[e]),e}function AH({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Zt(),o=le.useRef(null),l=le.useRef(null),c=le.useRef(t.sourcePosition),h=le.useRef(t.targetPosition),f=le.useRef(e),m=n&&!!t.internals.handleBounds;return le.useEffect(()=>{o.current&&!t.hidden&&(!m||l.current!==o.current)&&(l.current&&r?.unobserve(l.current),r?.observe(o.current),l.current=o.current)},[m,t.hidden]),le.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),le.useEffect(()=>{if(o.current){const p=f.current!==e,v=c.current!==t.sourcePosition,b=h.current!==t.targetPosition;(p||v||b)&&(f.current=e,c.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function CH({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:l,nodesDraggable:c,elementsSelectable:h,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:x,rfId:S,nodeTypes:E,nodeClickDistance:C,onError:O}){const{node:A,internals:D,isParent:j}=wt(be=>{const Ce=be.nodeLookup.get(t),Ve=be.parentLookup.has(t);return{node:Ce,internals:Ce.internals,isParent:Ve}},Qt);let q=A.type||"default",I=E?.[q]||tx[q];I===void 0&&(O?.("003",ma.error003(q)),q="default",I=E?.default||tx.default);const M=!!(A.draggable||c&&typeof A.draggable>"u"),k=!!(A.selectable||h&&typeof A.selectable>"u"),H=!!(A.connectable||f&&typeof A.connectable>"u"),V=!!(A.focusable||m&&typeof A.focusable>"u"),U=Zt(),P=RN(A),K=AH({node:A,nodeType:q,hasDimensions:P,resizeObserver:p}),te=iM({nodeRef:K,disabled:A.hidden||!M,noDragClassName:v,handleSelector:A.dragHandle,nodeId:t,isSelectable:k,nodeClickDistance:C}),$=aM();if(A.hidden)return null;const W=fs(A),re=vH(A),oe=k||M||e||n||r||i,ye=n?be=>n(be,{...D.userNode}):void 0,Y=r?be=>r(be,{...D.userNode}):void 0,ee=i?be=>i(be,{...D.userNode}):void 0,pe=o?be=>o(be,{...D.userNode}):void 0,Q=l?be=>l(be,{...D.userNode}):void 0,ie=be=>{const{selectNodesOnDrag:Ce,nodeDragThreshold:Ve}=U.getState();k&&(!Ce||!M||Ve>0)&&K5({id:t,store:U,nodeRef:K}),e&&e(be,{...D.userNode})},ce=be=>{if(!(MN(be.nativeEvent)||x)){if(_N.includes(be.key)&&k){const Ce=be.key==="Escape";K5({id:t,store:U,unselect:Ce,nodeRef:K})}else if(M&&A.selected&&Object.prototype.hasOwnProperty.call(Zd,be.key)){be.preventDefault();const{ariaLabelConfig:Ce}=U.getState();U.setState({ariaLiveMessage:Ce["node.a11yDescription.ariaLiveMessage"]({direction:be.key.replace("Arrow","").toLowerCase(),x:~~D.positionAbsolute.x,y:~~D.positionAbsolute.y})}),$({direction:Zd[be.key],factor:be.shiftKey?4:1})}}},ge=()=>{if(x||!K.current?.matches(":focus-visible"))return;const{transform:be,width:Ce,height:Ve,autoPanOnNodeFocus:He,setCenter:je}=U.getState();if(!He)return;B6(new Map([[t,A]]),{x:0,y:0,width:Ce,height:Ve},be,!0).length>0||je(A.position.x+W.width/2,A.position.y+W.height/2,{zoom:be[2]})};return B.jsx("div",{className:In(["react-flow__node",`react-flow__node-${q}`,{[b]:M},A.className,{selected:A.selected,selectable:k,parent:j,draggable:M,dragging:te}]),ref:K,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:P?"visible":"hidden",...A.style,...re},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:ye,onMouseMove:Y,onMouseLeave:ee,onContextMenu:pe,onClick:ie,onDoubleClick:Q,onKeyDown:V?ce:void 0,tabIndex:V?0:void 0,onFocus:V?ge:void 0,role:A.ariaRole??(V?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${QN}-${S}`,"aria-label":A.ariaLabel,...A.domAttributes,children:B.jsx(uH,{value:t,children:B.jsx(I,{id:t,data:A.data,type:q,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:A.selected??!1,selectable:k,draggable:M,deletable:A.deletable??!0,isConnectable:H,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:te,dragHandle:A.dragHandle,zIndex:D.z,parentId:A.parentId,...W})})})}var RH=le.memo(CH);const IH=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function lM(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=wt(IH,Qt),l=SH(t.onlyRenderVisibleElements),c=TH();return B.jsx("div",{className:"react-flow__nodes",style:Vm,children:l.map(h=>B.jsx(RH,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},h))})}lM.displayName="NodeRenderer";const NH=le.memo(lM);function MH(t){return wt(le.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);o&&l&&IU({sourceNode:o,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Qt)}const kH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return B.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},DH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return B.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},rx={[$0.Arrow]:kH,[$0.ArrowClosed]:DH};function OH(t){const e=Zt();return le.useMemo(()=>Object.prototype.hasOwnProperty.call(rx,t)?rx[t]:(e.getState().onError?.("009",ma.error009(t)),null),[t])}const zH=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const h=OH(e);return h?B.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0",children:B.jsx(h,{color:n,strokeWidth:l})}):null},uM=({defaultColor:t,rfId:e})=>{const n=wt(o=>o.edges),r=wt(o=>o.defaultEdgeOptions),i=le.useMemo(()=>LU(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?B.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:B.jsx("defs",{children:i.map(o=>B.jsx(zH,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};uM.displayName="MarkerDefinitions";var VH=le.memo(uM);function cM({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:f,...m}){const[p,v]=le.useState({x:1,y:0,width:0,height:0}),b=In(["react-flow__edge-textwrapper",f]),x=le.useRef(null);return le.useEffect(()=>{if(x.current){const S=x.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),n?B.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...m,children:[i&&B.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),B.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),h]}):null}cM.displayName="EdgeText";const LH=le.memo(cM);function Lm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h,interactionWidth:f=20,...m}){return B.jsxs(B.Fragment,{children:[B.jsx("path",{...m,d:t,fill:"none",className:In(["react-flow__edge-path",m.className])}),f?B.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Li(e)&&Li(n)?B.jsx(LH,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h}):null]})}function ix({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ye.Left||t===Ye.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function hM({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:o=Ye.Top}){const[l,c]=ix({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,f]=ix({pos:o,x1:r,y1:i,x2:t,y2:e}),[m,p,v,b]=DN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:h,targetControlY:f});return[`M${t},${e} C${l},${c} ${h},${f} ${r},${i}`,m,p,v,b]}function fM(t){return le.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l,targetPosition:c,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:C})=>{const[O,A,D]=hM({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:c}),j=t.isInternal?void 0:e;return B.jsx(Lm,{id:j,path:O,labelX:A,labelY:D,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:C})})}const qH=fM({isInternal:!1}),dM=fM({isInternal:!0});qH.displayName="SimpleBezierEdge";dM.displayName="SimpleBezierEdgeInternal";function mM(t){return le.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,sourcePosition:b=Ye.Bottom,targetPosition:x=Ye.Top,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:O})=>{const[A,D,j]=G5({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:o,targetPosition:x,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),q=t.isInternal?void 0:e;return B.jsx(Lm,{id:q,path:A,labelX:D,labelY:j,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:S,markerStart:E,interactionWidth:O})})}const pM=mM({isInternal:!1}),gM=mM({isInternal:!0});pM.displayName="SmoothStepEdge";gM.displayName="SmoothStepEdgeInternal";function vM(t){return le.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return B.jsx(pM,{...n,id:r,pathOptions:le.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const PH=vM({isInternal:!1}),yM=vM({isInternal:!0});PH.displayName="StepEdge";yM.displayName="StepEdgeInternal";function _M(t){return le.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:x,interactionWidth:S})=>{const[E,C,O]=VN({sourceX:n,sourceY:r,targetX:i,targetY:o}),A=t.isInternal?void 0:e;return B.jsx(Lm,{id:A,path:E,labelX:C,labelY:O,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:x,interactionWidth:S})})}const BH=_M({isInternal:!1}),bM=_M({isInternal:!0});BH.displayName="StraightEdge";bM.displayName="StraightEdgeInternal";function wM(t){return le.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l=Ye.Bottom,targetPosition:c=Ye.Top,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:O})=>{const[A,D,j]=ON({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:c,curvature:C?.curvature}),q=t.isInternal?void 0:e;return B.jsx(Lm,{id:q,path:A,labelX:D,labelY:j,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:O})})}const UH=wM({isInternal:!1}),xM=wM({isInternal:!0});UH.displayName="BezierEdge";xM.displayName="BezierEdgeInternal";const ax={default:xM,straight:bM,step:yM,smoothstep:gM,simplebezier:dM},sx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},jH=(t,e,n)=>n===Ye.Left?t-e:n===Ye.Right?t+e:t,HH=(t,e,n)=>n===Ye.Top?t-e:n===Ye.Bottom?t+e:t,ox="react-flow__edgeupdater";function lx({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:l,type:c}){return B.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:l,className:In([ox,`${ox}-${c}`]),cx:jH(e,r,t),cy:HH(n,r,t),r,stroke:"transparent",fill:"transparent"})}function FH({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:l,sourcePosition:c,targetPosition:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:v,setUpdateHover:b}){const x=Zt(),S=(D,j)=>{if(D.button!==0)return;const{autoPanOnConnect:q,domNode:I,isValidConnection:M,connectionMode:k,connectionRadius:H,lib:V,onConnectStart:U,onConnectEnd:P,cancelConnection:K,nodeLookup:te,rfId:$,panBy:W,updateConnection:re}=x.getState(),oe=j.type==="target",ye=(pe,Q)=>{v(!1),p?.(pe,n,j.type,Q)},Y=pe=>f?.(n,pe),ee=(pe,Q)=>{v(!0),m?.(D,n,j.type),U?.(pe,Q)};X5.onPointerDown(D.nativeEvent,{autoPanOnConnect:q,connectionMode:k,connectionRadius:H,domNode:I,handleId:j.id,nodeId:j.nodeId,nodeLookup:te,isTarget:oe,edgeUpdaterType:j.type,lib:V,flowId:$,cancelConnection:K,panBy:W,isValidConnection:M,onConnect:Y,onConnectStart:ee,onConnectEnd:P,onReconnectEnd:ye,updateConnection:re,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:D.currentTarget})},E=D=>S(D,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=D=>S(D,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>b(!0),A=()=>b(!1);return B.jsxs(B.Fragment,{children:[(t===!0||t==="source")&&B.jsx(lx,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:O,onMouseOut:A,type:"source"}),(t===!0||t==="target")&&B.jsx(lx,{position:h,centerX:o,centerY:l,radius:e,onMouseDown:C,onMouseEnter:O,onMouseOut:A,type:"target"})]})}function GH({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,rfId:x,edgeTypes:S,noPanClassName:E,onError:C,disableKeyboardA11y:O}){let A=wt(je=>je.edgeLookup.get(t));const D=wt(je=>je.defaultEdgeOptions);A=D?{...D,...A}:A;let j=A.type||"default",q=S?.[j]||ax[j];q===void 0&&(C?.("011",ma.error011(j)),j="default",q=S?.default||ax.default);const I=!!(A.focusable||e&&typeof A.focusable>"u"),M=typeof p<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),k=!!(A.selectable||r&&typeof A.selectable>"u"),H=le.useRef(null),[V,U]=le.useState(!1),[P,K]=le.useState(!1),te=Zt(),{zIndex:$,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee}=wt(le.useCallback(je=>{const Pe=je.nodeLookup.get(A.source),Ge=je.nodeLookup.get(A.target);if(!Pe||!Ge)return{zIndex:A.zIndex,...sx};const Be=VU({id:t,sourceNode:Pe,targetNode:Ge,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:je.connectionMode,onError:C});return{zIndex:RU({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ge,elevateOnSelect:je.elevateEdgesOnSelect,zIndexMode:je.zIndexMode}),...Be||sx}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),Qt),pe=le.useMemo(()=>A.markerStart?`url('#${$5(A.markerStart,x)}')`:void 0,[A.markerStart,x]),Q=le.useMemo(()=>A.markerEnd?`url('#${$5(A.markerEnd,x)}')`:void 0,[A.markerEnd,x]);if(A.hidden||W===null||re===null||oe===null||ye===null)return null;const ie=je=>{const{addSelectedEdges:Pe,unselectNodesAndEdges:Ge,multiSelectionActive:Be}=te.getState();k&&(te.setState({nodesSelectionActive:!1}),A.selected&&Be?(Ge({nodes:[],edges:[A]}),H.current?.blur()):Pe([t])),i&&i(je,A)},ce=o?je=>{o(je,{...A})}:void 0,ge=l?je=>{l(je,{...A})}:void 0,be=c?je=>{c(je,{...A})}:void 0,Ce=h?je=>{h(je,{...A})}:void 0,Ve=f?je=>{f(je,{...A})}:void 0,He=je=>{if(!O&&_N.includes(je.key)&&k){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ge}=te.getState();je.key==="Escape"?(H.current?.blur(),Pe({edges:[A]})):Ge([t])}};return B.jsx("svg",{style:{zIndex:$},children:B.jsxs("g",{className:In(["react-flow__edge",`react-flow__edge-${j}`,A.className,E,{selected:A.selected,animated:A.animated,inactive:!k&&!i,updating:V,selectable:k}]),onClick:ie,onDoubleClick:ce,onContextMenu:ge,onMouseEnter:be,onMouseMove:Ce,onMouseLeave:Ve,onKeyDown:I?He:void 0,tabIndex:I?0:void 0,role:A.ariaRole??(I?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":I?`${ZN}-${x}`:void 0,ref:H,...A.domAttributes,children:[!P&&B.jsx(q,{id:t,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:k,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:pe,markerEnd:Q,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),M&&B.jsx(FH,{edge:A,isReconnectable:M,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,sourceX:W,sourceY:re,targetX:oe,targetY:ye,sourcePosition:Y,targetPosition:ee,setUpdateHover:U,setReconnecting:K})]})})}var $H=le.memo(GH);const YH=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function SM({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:x,disableKeyboardA11y:S}){const{edgesFocusable:E,edgesReconnectable:C,elementsSelectable:O,onError:A}=wt(YH,Qt),D=MH(e);return B.jsxs("div",{className:"react-flow__edges",children:[B.jsx(VH,{defaultColor:t,rfId:n}),D.map(j=>B.jsx($H,{id:j,edgesFocusable:E,edgesReconnectable:C,elementsSelectable:O,noPanClassName:i,onReconnect:o,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:x,rfId:n,onError:A,edgeTypes:r,disableKeyboardA11y:S},j))]})}SM.displayName="EdgeRenderer";const XH=le.memo(SM),KH=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function QH({children:t}){const e=wt(KH);return B.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function ZH(t){const e=X6(),n=le.useRef(!1);le.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const WH=t=>t.panZoom?.syncViewport;function JH(t){const e=wt(WH),n=Zt();return le.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function eF(t){return t.connection.inProgress?{...t.connection,to:dh(t.connection.to,t.transform)}:{...t.connection}}function tF(t){return eF}function nF(t){const e=tF();return wt(e,Qt)}const rF=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function iF({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:l,isValid:c,inProgress:h}=wt(rF,Qt);return!(o&&i&&h)?null:B.jsx("svg",{style:t,width:o,height:l,className:"react-flow__connectionline react-flow__container",children:B.jsx("g",{className:In(["react-flow__connection",xN(c)]),children:B.jsx(EM,{style:e,type:n,CustomComponent:r,isValid:c})})})}const EM=({style:t,type:e=ro.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:l,fromHandle:c,fromPosition:h,to:f,toNode:m,toHandle:p,toPosition:v,pointer:b}=nF();if(!i)return;if(n)return B.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:o.x,fromY:o.y,toX:f.x,toY:f.y,fromPosition:h,toPosition:v,connectionStatus:xN(r),toNode:m,toHandle:p,pointer:b});let x="";const S={sourceX:o.x,sourceY:o.y,sourcePosition:h,targetX:f.x,targetY:f.y,targetPosition:v};switch(e){case ro.Bezier:[x]=ON(S);break;case ro.SimpleBezier:[x]=hM(S);break;case ro.Step:[x]=G5({...S,borderRadius:0});break;case ro.SmoothStep:[x]=G5(S);break;default:[x]=VN(S)}return B.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};EM.displayName="ConnectionLine";const aF={};function ux(t=aF){le.useRef(t),Zt(),le.useEffect(()=>{},[t])}function sF(){Zt(),le.useRef(!1),le.useEffect(()=>{},[])}function TM({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:S,connectionLineComponent:E,connectionLineContainerStyle:C,selectionKeyCode:O,selectionOnDrag:A,selectionMode:D,multiSelectionKeyCode:j,panActivationKeyCode:q,zoomActivationKeyCode:I,deleteKeyCode:M,onlyRenderVisibleElements:k,elementsSelectable:H,defaultViewport:V,translateExtent:U,minZoom:P,maxZoom:K,preventScrolling:te,defaultMarkerColor:$,zoomOnScroll:W,zoomOnPinch:re,panOnScroll:oe,panOnScrollSpeed:ye,panOnScrollMode:Y,zoomOnDoubleClick:ee,panOnDrag:pe,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:ce,onPaneMouseLeave:ge,onPaneScroll:be,onPaneContextMenu:Ce,paneClickDistance:Ve,nodeClickDistance:He,onEdgeContextMenu:je,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,onReconnect:$e,onReconnectStart:Ut,onReconnectEnd:st,noDragClassName:Nt,noWheelClassName:kn,noPanClassName:qn,disableKeyboardA11y:Ht,nodeExtent:Yt,rfId:Fn,viewport:dr,onViewportChange:mr}){return ux(t),ux(e),sF(),ZH(n),JH(dr),B.jsx(wH,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:ce,onPaneMouseLeave:ge,onPaneContextMenu:Ce,onPaneScroll:be,paneClickDistance:Ve,deleteKeyCode:M,selectionKeyCode:O,selectionOnDrag:A,selectionMode:D,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:q,zoomActivationKeyCode:I,elementsSelectable:H,zoomOnScroll:W,zoomOnPinch:re,zoomOnDoubleClick:ee,panOnScroll:oe,panOnScrollSpeed:ye,panOnScrollMode:Y,panOnDrag:pe,defaultViewport:V,translateExtent:U,minZoom:P,maxZoom:K,onSelectionContextMenu:p,preventScrolling:te,noDragClassName:Nt,noWheelClassName:kn,noPanClassName:qn,disableKeyboardA11y:Ht,onViewportChange:mr,isControlledViewport:!!dr,children:B.jsxs(QH,{children:[B.jsx(XH,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:$e,onReconnectStart:Ut,onReconnectEnd:st,onlyRenderVisibleElements:k,onEdgeContextMenu:je,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,defaultMarkerColor:$,noPanClassName:qn,disableKeyboardA11y:Ht,rfId:Fn}),B.jsx(iF,{style:S,type:x,component:E,containerStyle:C}),B.jsx("div",{className:"react-flow__edgelabel-renderer"}),B.jsx(NH,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:He,onlyRenderVisibleElements:k,noPanClassName:qn,noDragClassName:Nt,disableKeyboardA11y:Ht,nodeExtent:Yt,rfId:Fn}),B.jsx("div",{className:"react-flow__viewport-portal"})]})})}TM.displayName="GraphView";const oF=le.memo(TM),cx=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:v="basic"}={})=>{const b=new Map,x=new Map,S=new Map,E=new Map,C=r??e??[],O=n??t??[],A=m??[0,0],D=p??F0;PN(S,E,C);const j=Y5(O,b,x,{nodeOrigin:A,nodeExtent:D,zIndexMode:v});let q=[0,0,1];if(l&&i&&o){const I=hh(b,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:M,y:k,zoom:H}=U6(I,i,o,h,f,c?.padding??.1);q=[M,k,H]}return{rfId:"1",width:i??0,height:o??0,transform:q,nodes:O,nodesInitialized:j,nodeLookup:b,parentLookup:x,edges:C,edgeLookup:E,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:h,maxZoom:f,translateExtent:F0,nodeExtent:D,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Yu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...wN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:xU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:bN,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},lF=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v})=>Aj((b,x)=>{async function S(){const{nodeLookup:E,panZoom:C,fitViewOptions:O,fitViewResolver:A,width:D,height:j,minZoom:q,maxZoom:I}=x();C&&(await bU({nodes:E,width:D,height:j,panZoom:C,minZoom:q,maxZoom:I},O),A?.resolve(!0),b({fitViewResolver:null}))}return{...cx({nodes:t,edges:e,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:v}),setNodes:E=>{const{nodeLookup:C,parentLookup:O,nodeOrigin:A,elevateNodesOnSelect:D,fitViewQueued:j,zIndexMode:q}=x(),I=Y5(E,C,O,{nodeOrigin:A,nodeExtent:p,elevateNodesOnSelect:D,checkEquality:!0,zIndexMode:q});j&&I?(S(),b({nodes:E,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:E,nodesInitialized:I})},setEdges:E=>{const{connectionLookup:C,edgeLookup:O}=x();PN(C,O,E),b({edges:E})},setDefaultNodesAndEdges:(E,C)=>{if(E){const{setNodes:O}=x();O(E),b({hasDefaultNodes:!0})}if(C){const{setEdges:O}=x();O(C),b({hasDefaultEdges:!0})}},updateNodeInternals:E=>{const{triggerNodeChanges:C,nodeLookup:O,parentLookup:A,domNode:D,nodeOrigin:j,nodeExtent:q,debug:I,fitViewQueued:M,zIndexMode:k}=x(),{changes:H,updatedInternals:V}=FU(E,O,A,D,j,q,k);V&&(BU(O,A,{nodeOrigin:j,nodeExtent:q,zIndexMode:k}),M?(S(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),H?.length>0&&(I&&console.log("React Flow: trigger node changes",H),C?.(H)))},updateNodePositions:(E,C=!1)=>{const O=[];let A=[];const{nodeLookup:D,triggerNodeChanges:j,connection:q,updateConnection:I,onNodesChangeMiddlewareMap:M}=x();for(const[k,H]of E){const V=D.get(k),U=!!(V?.expandParent&&V?.parentId&&H?.position),P={id:k,type:"position",position:U?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:C};if(V&&q.inProgress&&q.fromNode.id===V.id){const K=wl(V,q.fromHandle,Ye.Left,!0);I({...q,from:K})}U&&V.parentId&&O.push({id:k,parentId:V.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),A.push(P)}if(O.length>0){const{parentLookup:k,nodeOrigin:H}=x(),V=Y6(O,D,k,H);A.push(...V)}for(const k of M.values())A=k(A);j(A)},triggerNodeChanges:E=>{const{onNodesChange:C,setNodes:O,nodes:A,hasDefaultNodes:D,debug:j}=x();if(E?.length){if(D){const q=eM(E,A);O(q)}j&&console.log("React Flow: trigger node changes",E),C?.(E)}},triggerEdgeChanges:E=>{const{onEdgesChange:C,setEdges:O,edges:A,hasDefaultEdges:D,debug:j}=x();if(E?.length){if(D){const q=tM(E,A);O(q)}j&&console.log("React Flow: trigger edge changes",E),C?.(E)}},addSelectedNodes:E=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:A,triggerNodeChanges:D,triggerEdgeChanges:j}=x();if(C){const q=E.map(I=>ul(I,!0));D(q);return}D(Ou(A,new Set([...E]),!0)),j(Ou(O))},addSelectedEdges:E=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:A,triggerNodeChanges:D,triggerEdgeChanges:j}=x();if(C){const q=E.map(I=>ul(I,!0));j(q);return}j(Ou(O,new Set([...E]))),D(Ou(A,new Set,!0))},unselectNodesAndEdges:({nodes:E,edges:C}={})=>{const{edges:O,nodes:A,nodeLookup:D,triggerNodeChanges:j,triggerEdgeChanges:q}=x(),I=E||A,M=C||O,k=I.map(V=>{const U=D.get(V.id);return U&&(U.selected=!1),ul(V.id,!1)}),H=M.map(V=>ul(V.id,!1));j(k),q(H)},setMinZoom:E=>{const{panZoom:C,maxZoom:O}=x();C?.setScaleExtent([E,O]),b({minZoom:E})},setMaxZoom:E=>{const{panZoom:C,minZoom:O}=x();C?.setScaleExtent([O,E]),b({maxZoom:E})},setTranslateExtent:E=>{x().panZoom?.setTranslateExtent(E),b({translateExtent:E})},resetSelectedElements:()=>{const{edges:E,nodes:C,triggerNodeChanges:O,triggerEdgeChanges:A,elementsSelectable:D}=x();if(!D)return;const j=C.reduce((I,M)=>M.selected?[...I,ul(M.id,!1)]:I,[]),q=E.reduce((I,M)=>M.selected?[...I,ul(M.id,!1)]:I,[]);O(j),A(q)},setNodeExtent:E=>{const{nodes:C,nodeLookup:O,parentLookup:A,nodeOrigin:D,elevateNodesOnSelect:j,nodeExtent:q,zIndexMode:I}=x();E[0][0]===q[0][0]&&E[0][1]===q[0][1]&&E[1][0]===q[1][0]&&E[1][1]===q[1][1]||(Y5(C,O,A,{nodeOrigin:D,nodeExtent:E,elevateNodesOnSelect:j,checkEquality:!1,zIndexMode:I}),b({nodeExtent:E}))},panBy:E=>{const{transform:C,width:O,height:A,panZoom:D,translateExtent:j}=x();return GU({delta:E,panZoom:D,transform:C,translateExtent:j,width:O,height:A})},setCenter:async(E,C,O)=>{const{width:A,height:D,maxZoom:j,panZoom:q}=x();if(!q)return Promise.resolve(!1);const I=typeof O?.zoom<"u"?O.zoom:j;return await q.setViewport({x:A/2-E*I,y:D/2-C*I,zoom:I},{duration:O?.duration,ease:O?.ease,interpolate:O?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...wN}})},updateConnection:E=>{b({connection:E})},reset:()=>b({...cx()})}},Object.is);function uF({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:h,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v,children:b}){const[x]=le.useState(()=>lF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:h,nodeOrigin:m,nodeExtent:p,zIndexMode:v}));return B.jsx(Cj,{value:x,children:B.jsx(Qj,{children:b})})}function cF({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:l,fitView:c,fitViewOptions:h,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b}){return le.useContext(Om)?B.jsx(B.Fragment,{children:t}):B.jsx(uF,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:l,fitView:c,initialFitViewOptions:h,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b,children:t})}const hF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function fF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:l,onNodeClick:c,onEdgeClick:h,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:v,onConnect:b,onConnectStart:x,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,onNodeMouseEnter:O,onNodeMouseMove:A,onNodeMouseLeave:D,onNodeContextMenu:j,onNodeDoubleClick:q,onNodeDragStart:I,onNodeDrag:M,onNodeDragStop:k,onNodesDelete:H,onEdgesDelete:V,onDelete:U,onSelectionChange:P,onSelectionDragStart:K,onSelectionDrag:te,onSelectionDragStop:$,onSelectionContextMenu:W,onSelectionStart:re,onSelectionEnd:oe,onBeforeDelete:ye,connectionMode:Y,connectionLineType:ee=ro.Bezier,connectionLineStyle:pe,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:ce="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:be=!1,selectionMode:Ce=G0.Full,panActivationKeyCode:Ve="Space",multiSelectionKeyCode:He=X0()?"Meta":"Control",zoomActivationKeyCode:je=X0()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ge,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:it,nodesDraggable:$e,autoPanOnNodeFocus:Ut,nodesConnectable:st,nodesFocusable:Nt,nodeOrigin:kn=WN,edgesFocusable:qn,edgesReconnectable:Ht,elementsSelectable:Yt=!0,defaultViewport:Fn=Bj,minZoom:dr=.5,maxZoom:mr=2,translateExtent:Pn=F0,preventScrolling:vs=!0,nodeExtent:xi,defaultMarkerColor:ys="#b1b1b7",zoomOnScroll:xa=!0,zoomOnPinch:an=!0,panOnScroll:qt=!1,panOnScrollSpeed:pr=.5,panOnScrollMode:en=pl.Free,zoomOnDoubleClick:zl=!0,panOnDrag:_s=!0,onPaneClick:Vl,onPaneMouseEnter:Zr,onPaneMouseMove:Sa,onPaneMouseLeave:sn,onPaneScroll:Wr,onPaneContextMenu:Jr,paneClickDistance:Mr=1,nodeClickDistance:Ec=0,children:Ll,onReconnect:ei,onReconnectStart:Ea,onReconnectEnd:Tc,onEdgeContextMenu:Ta,onEdgeDoubleClick:No,onEdgeMouseEnter:Mo,onEdgeMouseMove:Aa,onEdgeMouseLeave:Si,reconnectRadius:ql=10,onNodesChange:kr,onEdgesChange:Dr,noDragClassName:on="nodrag",noWheelClassName:bn="nowheel",noPanClassName:Or="nopan",fitView:Ca,fitViewOptions:Pl,connectOnClick:Bl,attributionPosition:Ul,proOptions:ti,defaultEdgeOptions:bs,elevateNodesOnSelect:ni=!0,elevateEdgesOnSelect:gr=!1,disableKeyboardA11y:Jn=!1,autoPanOnConnect:ri,autoPanOnNodeDrag:ln,autoPanSpeed:ko,connectionRadius:Do,isValidConnection:ii,onError:ai,style:Oo,id:ws,nodeDragThreshold:zo,connectionDragThreshold:jl,viewport:xs,onViewportChange:ar,width:un,height:wn,colorMode:Gi="light",debug:Vo,onScroll:Et,ariaLabelConfig:Ra,zIndexMode:zr="basic",...Ia},er){const $i=ws||"1",Hl=Fj(Gi),Lo=le.useCallback(Ei=>{Ei.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Et?.(Ei)},[Et]);return B.jsx("div",{"data-testid":"rf__wrapper",...Ia,onScroll:Lo,style:{...Oo,...hF},ref:er,className:In(["react-flow",i,Hl]),id:ws,role:"application",children:B.jsxs(cF,{nodes:t,edges:e,width:un,height:wn,fitView:Ca,fitViewOptions:Pl,minZoom:dr,maxZoom:mr,nodeOrigin:kn,nodeExtent:xi,zIndexMode:zr,children:[B.jsx(oF,{onInit:f,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:O,onNodeMouseMove:A,onNodeMouseLeave:D,onNodeContextMenu:j,onNodeDoubleClick:q,nodeTypes:o,edgeTypes:l,connectionLineType:ee,connectionLineStyle:pe,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:ge,selectionOnDrag:be,selectionMode:Ce,deleteKeyCode:ce,multiSelectionKeyCode:He,panActivationKeyCode:Ve,zoomActivationKeyCode:je,onlyRenderVisibleElements:Be,defaultViewport:Fn,translateExtent:Pn,minZoom:dr,maxZoom:mr,preventScrolling:vs,zoomOnScroll:xa,zoomOnPinch:an,zoomOnDoubleClick:zl,panOnScroll:qt,panOnScrollSpeed:pr,panOnScrollMode:en,panOnDrag:_s,onPaneClick:Vl,onPaneMouseEnter:Zr,onPaneMouseMove:Sa,onPaneMouseLeave:sn,onPaneScroll:Wr,onPaneContextMenu:Jr,paneClickDistance:Mr,nodeClickDistance:Ec,onSelectionContextMenu:W,onSelectionStart:re,onSelectionEnd:oe,onReconnect:ei,onReconnectStart:Ea,onReconnectEnd:Tc,onEdgeContextMenu:Ta,onEdgeDoubleClick:No,onEdgeMouseEnter:Mo,onEdgeMouseMove:Aa,onEdgeMouseLeave:Si,reconnectRadius:ql,defaultMarkerColor:ys,noDragClassName:on,noWheelClassName:bn,noPanClassName:Or,rfId:$i,disableKeyboardA11y:Jn,nodeExtent:xi,viewport:xs,onViewportChange:ar}),B.jsx(Hj,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:x,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,nodesDraggable:$e,autoPanOnNodeFocus:Ut,nodesConnectable:st,nodesFocusable:Nt,edgesFocusable:qn,edgesReconnectable:Ht,elementsSelectable:Yt,elevateNodesOnSelect:ni,elevateEdgesOnSelect:gr,minZoom:dr,maxZoom:mr,nodeExtent:xi,onNodesChange:kr,onEdgesChange:Dr,snapToGrid:Pe,snapGrid:Ge,connectionMode:Y,translateExtent:Pn,connectOnClick:Bl,defaultEdgeOptions:bs,fitView:Ca,fitViewOptions:Pl,onNodesDelete:H,onEdgesDelete:V,onDelete:U,onNodeDragStart:I,onNodeDrag:M,onNodeDragStop:k,onSelectionDrag:te,onSelectionDragStart:K,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:v,noPanClassName:Or,nodeOrigin:kn,rfId:$i,autoPanOnConnect:ri,autoPanOnNodeDrag:ln,autoPanSpeed:ko,onError:ai,connectionRadius:Do,isValidConnection:ii,selectNodesOnDrag:it,nodeDragThreshold:zo,connectionDragThreshold:jl,onBeforeDelete:ye,debug:Vo,ariaLabelConfig:Ra,zIndexMode:zr}),B.jsx(Pj,{onSelectionChange:P}),Ll,B.jsx(Oj,{proOptions:ti,position:Ul}),B.jsx(Dj,{rfId:$i,disableKeyboardA11y:Jn})]})})}var dF=nM(fF);function mF(t){const[e,n]=le.useState(t),r=le.useCallback(i=>n(o=>eM(i,o)),[]);return[e,n,r]}function pF(t){const[e,n]=le.useState(t),r=le.useCallback(i=>n(o=>tM(i,o)),[]);return[e,n,r]}function gF({dimensions:t,lineWidth:e,variant:n,className:r}){return B.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:In(["react-flow__background-pattern",n,r])})}function vF({radius:t,className:e}){return B.jsx("circle",{cx:t,cy:t,r:t,className:In(["react-flow__background-pattern","dots",e])})}var uo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(uo||(uo={}));const yF={[uo.Dots]:1,[uo.Lines]:1,[uo.Cross]:6},_F=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function AM({id:t,variant:e=uo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:l,bgColor:c,style:h,className:f,patternClassName:m}){const p=le.useRef(null),{transform:v,patternId:b}=wt(_F,Qt),x=r||yF[e],S=e===uo.Dots,E=e===uo.Cross,C=Array.isArray(n)?n:[n,n],O=[C[0]*v[2]||1,C[1]*v[2]||1],A=x*v[2],D=Array.isArray(o)?o:[o,o],j=E?[A,A]:O,q=[D[0]*v[2]||1+j[0]/2,D[1]*v[2]||1+j[1]/2],I=`${b}${t||""}`;return B.jsxs("svg",{className:In(["react-flow__background",f]),style:{...h,...Vm,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[B.jsx("pattern",{id:I,x:v[0]%O[0],y:v[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${q[0]},-${q[1]})`,children:S?B.jsx(vF,{radius:A/2,className:m}):B.jsx(gF,{dimensions:j,lineWidth:i,variant:e,className:m})}),B.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}AM.displayName="Background";const bF=le.memo(AM);function wF(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:B.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function xF(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:B.jsx("path",{d:"M0 0h32v4.2H0z"})})}function SF(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:B.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function EF(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:B.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function TF(){return B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:B.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ld({children:t,className:e,...n}){return B.jsx("button",{type:"button",className:In(["react-flow__controls-button",e]),...n,children:t})}const AF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function CM({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:l,onFitView:c,onInteractiveChange:h,className:f,children:m,position:p="bottom-left",orientation:v="vertical","aria-label":b}){const x=Zt(),{isInteractive:S,minZoomReached:E,maxZoomReached:C,ariaLabelConfig:O}=wt(AF,Qt),{zoomIn:A,zoomOut:D,fitView:j}=X6(),q=()=>{A(),o?.()},I=()=>{D(),l?.()},M=()=>{j(i),c?.()},k=()=>{x.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),h?.(!S)},H=v==="horizontal"?"horizontal":"vertical";return B.jsxs(zm,{className:In(["react-flow__controls",H,f]),position:p,style:t,"data-testid":"rf__controls","aria-label":b??O["controls.ariaLabel"],children:[e&&B.jsxs(B.Fragment,{children:[B.jsx(ld,{onClick:q,className:"react-flow__controls-zoomin",title:O["controls.zoomIn.ariaLabel"],"aria-label":O["controls.zoomIn.ariaLabel"],disabled:C,children:B.jsx(wF,{})}),B.jsx(ld,{onClick:I,className:"react-flow__controls-zoomout",title:O["controls.zoomOut.ariaLabel"],"aria-label":O["controls.zoomOut.ariaLabel"],disabled:E,children:B.jsx(xF,{})})]}),n&&B.jsx(ld,{className:"react-flow__controls-fitview",onClick:M,title:O["controls.fitView.ariaLabel"],"aria-label":O["controls.fitView.ariaLabel"],children:B.jsx(SF,{})}),r&&B.jsx(ld,{className:"react-flow__controls-interactive",onClick:k,title:O["controls.interactive.ariaLabel"],"aria-label":O["controls.interactive.ariaLabel"],children:S?B.jsx(TF,{}):B.jsx(EF,{})}),m]})}CM.displayName="Controls";const CF=le.memo(CM);function RF({id:t,x:e,y:n,width:r,height:i,style:o,color:l,strokeColor:c,strokeWidth:h,className:f,borderRadius:m,shapeRendering:p,selected:v,onClick:b}){const{background:x,backgroundColor:S}=o||{},E=l||x||S;return B.jsx("rect",{className:In(["react-flow__minimap-node",{selected:v},f]),x:e,y:n,rx:m,ry:m,width:r,height:i,style:{fill:E,stroke:c,strokeWidth:h},shapeRendering:p,onClick:b?C=>b(C,t):void 0})}const IF=le.memo(RF),NF=t=>t.nodes.map(e=>e.id),jg=t=>t instanceof Function?t:()=>t;function MF({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=IF,onClick:l}){const c=wt(NF,Qt),h=jg(e),f=jg(t),m=jg(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return B.jsx(B.Fragment,{children:c.map(v=>B.jsx(DF,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:l,shapeRendering:p},v))})}function kF({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:c,onClick:h}){const{node:f,x:m,y:p,width:v,height:b}=wt(x=>{const{internals:S}=x.nodeLookup.get(t),E=S.userNode,{x:C,y:O}=S.positionAbsolute,{width:A,height:D}=fs(E);return{node:E,x:C,y:O,width:A,height:D}},Qt);return!f||f.hidden||!RN(f)?null:B.jsx(c,{x:m,y:p,width:v,height:b,style:f.style,selected:!!f.selected,className:r(f),color:e(f),borderRadius:i,strokeColor:n(f),strokeWidth:o,shapeRendering:l,onClick:h,id:f.id})}const DF=le.memo(kF);var OF=le.memo(MF);const zF=200,VF=150,LF=t=>!t.hidden,qF=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?CN(hh(t.nodeLookup,{filter:LF}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},PF="react-flow__minimap-desc";function RM({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:h,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:v="bottom-right",onClick:b,onNodeClick:x,pannable:S=!1,zoomable:E=!1,ariaLabel:C,inversePan:O,zoomStep:A=1,offsetScale:D=5}){const j=Zt(),q=le.useRef(null),{boundingRect:I,viewBB:M,rfId:k,panZoom:H,translateExtent:V,flowWidth:U,flowHeight:P,ariaLabelConfig:K}=wt(qF,Qt),te=t?.width??zF,$=t?.height??VF,W=I.width/te,re=I.height/$,oe=Math.max(W,re),ye=oe*te,Y=oe*$,ee=D*oe,pe=I.x-(ye-I.width)/2-ee,Q=I.y-(Y-I.height)/2-ee,ie=ye+ee*2,ce=Y+ee*2,ge=`${PF}-${k}`,be=le.useRef(0),Ce=le.useRef();be.current=oe,le.useEffect(()=>{if(q.current&&H)return Ce.current=ej({domNode:q.current,panZoom:H,getTransform:()=>j.getState().transform,getViewScale:()=>be.current}),()=>{Ce.current?.destroy()}},[H]),le.useEffect(()=>{Ce.current?.update({translateExtent:V,width:U,height:P,inversePan:O,pannable:S,zoomStep:A,zoomable:E})},[S,E,O,A,V,U,P]);const Ve=b?Pe=>{const[Ge,Be]=Ce.current?.pointer(Pe)||[0,0];b(Pe,{x:Ge,y:Be})}:void 0,He=x?le.useCallback((Pe,Ge)=>{const Be=j.getState().nodeLookup.get(Ge).internals.userNode;x(Pe,Be)},[]):void 0,je=C??K["minimap.ariaLabel"];return B.jsx(zm,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*oe:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:In(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:B.jsxs("svg",{width:te,height:$,viewBox:`${pe} ${Q} ${ie} ${ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ge,ref:q,onClick:Ve,children:[je&&B.jsx("title",{id:ge,children:je}),B.jsx(OF,{onClick:He,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),B.jsx("path",{className:"react-flow__minimap-mask",d:`M${pe-ee},${Q-ee}h${ie+ee*2}v${ce+ee*2}h${-ie-ee*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}RM.displayName="MiniMap";const BF=le.memo(RM),UF=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,jF={[Zu.Line]:"right",[Zu.Handle]:"bottom-right"};function HF({nodeId:t,position:e,variant:n=Zu.Handle,className:r,style:i=void 0,children:o,color:l,minWidth:c=10,minHeight:h=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:v,autoScale:b=!0,shouldResize:x,onResizeStart:S,onResize:E,onResizeEnd:C}){const O=sM(),A=typeof t=="string"?t:O,D=Zt(),j=le.useRef(null),q=n===Zu.Handle,I=wt(le.useCallback(UF(q&&b),[q,b]),Qt),M=le.useRef(null),k=e??jF[n];le.useEffect(()=>{if(!(!j.current||!A))return M.current||(M.current=mj({domNode:j.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:V,transform:U,snapGrid:P,snapToGrid:K,nodeOrigin:te,domNode:$}=D.getState();return{nodeLookup:V,transform:U,snapGrid:P,snapToGrid:K,nodeOrigin:te,paneDomNode:$}},onChange:(V,U)=>{const{triggerNodeChanges:P,nodeLookup:K,parentLookup:te,nodeOrigin:$}=D.getState(),W=[],re={x:V.x,y:V.y},oe=K.get(A);if(oe&&oe.expandParent&&oe.parentId){const ye=oe.origin??$,Y=V.width??oe.measured.width??0,ee=V.height??oe.measured.height??0,pe={id:oe.id,parentId:oe.parentId,rect:{width:Y,height:ee,...IN({x:V.x??oe.position.x,y:V.y??oe.position.y},{width:Y,height:ee},oe.parentId,K,ye)}},Q=Y6([pe],K,te,$);W.push(...Q),re.x=V.x?Math.max(ye[0]*Y,V.x):void 0,re.y=V.y?Math.max(ye[1]*ee,V.y):void 0}if(re.x!==void 0&&re.y!==void 0){const ye={id:A,type:"position",position:{...re}};W.push(ye)}if(V.width!==void 0&&V.height!==void 0){const Y={id:A,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:V.width,height:V.height}};W.push(Y)}for(const ye of U){const Y={...ye,type:"position"};W.push(Y)}P(W)},onEnd:({width:V,height:U})=>{const P={id:A,type:"dimensions",resizing:!1,dimensions:{width:V,height:U}};D.getState().triggerNodeChanges([P])}})),M.current.update({controlPosition:k,boundaries:{minWidth:c,minHeight:h,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:v,onResizeStart:S,onResize:E,onResizeEnd:C,shouldResize:x}),()=>{M.current?.destroy()}},[k,c,h,f,m,p,S,E,C,x]);const H=k.split("-");return B.jsx("div",{className:In(["react-flow__resize-control","nodrag",...H,n,r]),ref:j,style:{...i,scale:I,...l&&{[q?"backgroundColor":"borderColor"]:l}},children:o})}le.memo(HF);const FF=()=>{};var hx={};const IM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},NM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=o>>2,p=(o&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(v=64)),r.push(n[m],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||p==null)throw new $F;const v=o<<2|c>>4;if(r.push(v),f!==64){const b=c<<4&240|f>>2;if(r.push(b),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YF=function(t){const e=IM(t);return NM.encodeByteArray(e,!0)},Wd=function(t){return YF(t).replace(/\./g,"")},MM=function(t){try{return NM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KF=()=>XF().__FIREBASE_DEFAULTS__,QF=()=>{if(typeof process>"u"||typeof hx>"u")return;const t=hx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MM(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return FF()||KF()||QF()||ZF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kM=t=>qm()?.emulatorHosts?.[t],WF=t=>{const e=kM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DM=()=>qm()?.config,OM=t=>qm()?.[`_${t}`];class JF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zM(t){return(await fetch(t,{credentials:"include"})).ok}function eG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wd(JSON.stringify(n)),Wd(JSON.stringify(l)),""].join(".")}const k0={};function tG(){const t={prod:[],emulator:[]};for(const e of Object.keys(k0))k0[e]?t.emulator.push(e):t.prod.push(e);return t}function nG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fx=!1;function VM(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||k0[t]===e||k0[t]||fx)return;k0[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=tG().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{fx=!0,l()},v}function m(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=nG(r),b=n("text"),x=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const A=v.element;c(A),m(E,S);const D=f();h(O,C),A.append(O,x,E,D),document.body.appendChild(A)}o?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function iG(){const t=qm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lG(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uG(){return!iG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cG(){try{return typeof indexedDB=="object"}catch{return!1}}function hG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const fG="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fG,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mh.prototype.create)}}class mh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?dG(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ds(i,c,r)}}function dG(t,e){return t.replace(mG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mG=/\{\$([^}]+)}/g;function pG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(dx(o)&&dx(l)){if(!xl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dx(t){return t!==null&&typeof t=="object"}function ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gG(t,e){const n=new vG(t,e);return n.subscribe.bind(n)}class vG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hg),i.error===void 0&&(i.error=Hg),i.complete===void 0&&(i.complete=Hg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hg(){}function Vn(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cl="[DEFAULT]";class _G{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wG(e))try{this.getOrInitializeService({instanceIdentifier:cl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cl){return this.instances.has(e)}getOptions(e=cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cl){return this.component?this.component.multipleInstances?e:cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bG(t){return t===cl?void 0:t}function wG(t){return t.instantiationMode==="EAGER"}class xG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _G(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const SG={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},EG=pt.INFO,TG={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},AG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q6{constructor(e){this.name=e,this._logLevel=EG,this._logHandler=AG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const CG=(t,e)=>e.some(n=>t instanceof n);let mx,px;function RG(){return mx||(mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IG(){return px||(px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LM=new WeakMap,Q5=new WeakMap,qM=new WeakMap,Fg=new WeakMap,Z6=new WeakMap;function NG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(co(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&LM.set(n,t)}).catch(()=>{}),Z6.set(e,t),e}function MG(t){if(Q5.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Q5.set(t,e)}let Z5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kG(t){Z5=t(Z5)}function DG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gg(this),e,...n);return qM.set(r,e.sort?e.sort():[e]),co(r)}:IG().includes(t)?function(...e){return t.apply(Gg(this),e),co(LM.get(this))}:function(...e){return co(t.apply(Gg(this),e))}}function OG(t){return typeof t=="function"?DG(t):(t instanceof IDBTransaction&&MG(t),CG(t,RG())?new Proxy(t,Z5):t)}function co(t){if(t instanceof IDBRequest)return NG(t);if(Fg.has(t))return Fg.get(t);const e=OG(t);return e!==t&&(Fg.set(t,e),Z6.set(e,t)),e}const Gg=t=>Z6.get(t);function zG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=co(l);return r&&l.addEventListener("upgradeneeded",h=>{r(co(l.result),h.oldVersion,h.newVersion,co(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const VG=["get","getKey","getAll","getAllKeys","count"],LG=["put","add","delete","clear"],$g=new Map;function gx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VG.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return $g.set(e,o),o}kG(t=>({...t,get:(e,n,r)=>gx(e,n)||t.get(e,n,r),has:(e,n)=>!!gx(e,n)||t.has(e,n)}));class qG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PG(t){return t.getComponent()?.type==="VERSION"}const W5="@firebase/app",vx="0.14.6";const as=new Q6("@firebase/app"),BG="@firebase/app-compat",UG="@firebase/analytics-compat",jG="@firebase/analytics",HG="@firebase/app-check-compat",FG="@firebase/app-check",GG="@firebase/auth",$G="@firebase/auth-compat",YG="@firebase/database",XG="@firebase/data-connect",KG="@firebase/database-compat",QG="@firebase/functions",ZG="@firebase/functions-compat",WG="@firebase/installations",JG="@firebase/installations-compat",e$="@firebase/messaging",t$="@firebase/messaging-compat",n$="@firebase/performance",r$="@firebase/performance-compat",i$="@firebase/remote-config",a$="@firebase/remote-config-compat",s$="@firebase/storage",o$="@firebase/storage-compat",l$="@firebase/firestore",u$="@firebase/ai",c$="@firebase/firestore-compat",h$="firebase",f$="12.6.0";const J5="[DEFAULT]",d$={[W5]:"fire-core",[BG]:"fire-core-compat",[jG]:"fire-analytics",[UG]:"fire-analytics-compat",[FG]:"fire-app-check",[HG]:"fire-app-check-compat",[GG]:"fire-auth",[$G]:"fire-auth-compat",[YG]:"fire-rtdb",[XG]:"fire-data-connect",[KG]:"fire-rtdb-compat",[QG]:"fire-fn",[ZG]:"fire-fn-compat",[WG]:"fire-iid",[JG]:"fire-iid-compat",[e$]:"fire-fcm",[t$]:"fire-fcm-compat",[n$]:"fire-perf",[r$]:"fire-perf-compat",[i$]:"fire-rc",[a$]:"fire-rc-compat",[s$]:"fire-gcs",[o$]:"fire-gcs-compat",[l$]:"fire-fst",[c$]:"fire-fst-compat",[u$]:"fire-vertex","fire-js":"fire-js",[h$]:"fire-js-all"};const Jd=new Map,m$=new Map,e6=new Map;function yx(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ju(t){const e=t.name;if(e6.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;e6.set(e,t);for(const n of Jd.values())yx(n,t);for(const n of m$.values())yx(n,t);return!0}function W6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vi(t){return t==null?!1:t.settings!==void 0}const p$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new mh("app","Firebase",p$);class g${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const uc=f$;function PM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:J5,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(n||(n=DM()),!n)throw ho.create("no-options");const o=Jd.get(i);if(o){if(xl(n,o.options)&&xl(r,o.config))return o;throw ho.create("duplicate-app",{appName:i})}const l=new xG(i);for(const h of e6.values())l.addComponent(h);const c=new g$(n,r,l);return Jd.set(i,c),c}function BM(t=J5){const e=Jd.get(t);if(!e&&t===J5&&DM())return PM();if(!e)throw ho.create("no-app",{appName:t});return e}function fo(t,e,n){let r=d$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(l.join(" "));return}Ju(new Sl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const v$="firebase-heartbeat-database",y$=1,Q0="firebase-heartbeat-store";let Yg=null;function UM(){return Yg||(Yg=zG(v$,y$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Q0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),Yg}async function _$(t){try{const n=(await UM()).transaction(Q0),r=await n.objectStore(Q0).get(jM(t));return await n.done,r}catch(e){if(e instanceof ds)as.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e?.message});as.warn(n.message)}}}async function _x(t,e){try{const r=(await UM()).transaction(Q0,"readwrite");await r.objectStore(Q0).put(e,jM(t)),await r.done}catch(n){if(n instanceof ds)as.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n?.message});as.warn(r.message)}}}function jM(t){return`${t.name}!${t.options.appId}`}const b$=1024,w$=30;class x${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>w$){const i=T$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bx(),{heartbeatsToSend:n,unsentEntries:r}=S$(this._heartbeatsCache.heartbeats),i=Wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return as.warn(e),""}}}function bx(){return new Date().toISOString().substring(0,10)}function S$(t,e=b$){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),wx(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cG()?hG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _x(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _x(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wx(t){return Wd(JSON.stringify({version:2,heartbeats:t})).length}function T$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function A$(t){Ju(new Sl("platform-logger",e=>new qG(e),"PRIVATE")),Ju(new Sl("heartbeat",e=>new x$(e),"PRIVATE")),fo(W5,vx,t),fo(W5,vx,"esm2020"),fo("fire-js","")}A$("");var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mo,HM;(function(){var t;function e(I,M){function k(){}k.prototype=M.prototype,I.F=M.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(H,V,U){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return M.prototype[V].apply(H,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,M,k){k||(k=0);const H=Array(16);if(typeof M=="string")for(var V=0;V<16;++V)H[V]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(V=0;V<16;++V)H[V]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=I.g[0],k=I.g[1],V=I.g[2];let U=I.g[3],P;P=M+(U^k&(V^U))+H[0]+3614090360&4294967295,M=k+(P<<7&4294967295|P>>>25),P=U+(V^M&(k^V))+H[1]+3905402710&4294967295,U=M+(P<<12&4294967295|P>>>20),P=V+(k^U&(M^k))+H[2]+606105819&4294967295,V=U+(P<<17&4294967295|P>>>15),P=k+(M^V&(U^M))+H[3]+3250441966&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(U^k&(V^U))+H[4]+4118548399&4294967295,M=k+(P<<7&4294967295|P>>>25),P=U+(V^M&(k^V))+H[5]+1200080426&4294967295,U=M+(P<<12&4294967295|P>>>20),P=V+(k^U&(M^k))+H[6]+2821735955&4294967295,V=U+(P<<17&4294967295|P>>>15),P=k+(M^V&(U^M))+H[7]+4249261313&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(U^k&(V^U))+H[8]+1770035416&4294967295,M=k+(P<<7&4294967295|P>>>25),P=U+(V^M&(k^V))+H[9]+2336552879&4294967295,U=M+(P<<12&4294967295|P>>>20),P=V+(k^U&(M^k))+H[10]+4294925233&4294967295,V=U+(P<<17&4294967295|P>>>15),P=k+(M^V&(U^M))+H[11]+2304563134&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(U^k&(V^U))+H[12]+1804603682&4294967295,M=k+(P<<7&4294967295|P>>>25),P=U+(V^M&(k^V))+H[13]+4254626195&4294967295,U=M+(P<<12&4294967295|P>>>20),P=V+(k^U&(M^k))+H[14]+2792965006&4294967295,V=U+(P<<17&4294967295|P>>>15),P=k+(M^V&(U^M))+H[15]+1236535329&4294967295,k=V+(P<<22&4294967295|P>>>10),P=M+(V^U&(k^V))+H[1]+4129170786&4294967295,M=k+(P<<5&4294967295|P>>>27),P=U+(k^V&(M^k))+H[6]+3225465664&4294967295,U=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(U^M))+H[11]+643717713&4294967295,V=U+(P<<14&4294967295|P>>>18),P=k+(U^M&(V^U))+H[0]+3921069994&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(V^U&(k^V))+H[5]+3593408605&4294967295,M=k+(P<<5&4294967295|P>>>27),P=U+(k^V&(M^k))+H[10]+38016083&4294967295,U=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(U^M))+H[15]+3634488961&4294967295,V=U+(P<<14&4294967295|P>>>18),P=k+(U^M&(V^U))+H[4]+3889429448&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(V^U&(k^V))+H[9]+568446438&4294967295,M=k+(P<<5&4294967295|P>>>27),P=U+(k^V&(M^k))+H[14]+3275163606&4294967295,U=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(U^M))+H[3]+4107603335&4294967295,V=U+(P<<14&4294967295|P>>>18),P=k+(U^M&(V^U))+H[8]+1163531501&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(V^U&(k^V))+H[13]+2850285829&4294967295,M=k+(P<<5&4294967295|P>>>27),P=U+(k^V&(M^k))+H[2]+4243563512&4294967295,U=M+(P<<9&4294967295|P>>>23),P=V+(M^k&(U^M))+H[7]+1735328473&4294967295,V=U+(P<<14&4294967295|P>>>18),P=k+(U^M&(V^U))+H[12]+2368359562&4294967295,k=V+(P<<20&4294967295|P>>>12),P=M+(k^V^U)+H[5]+4294588738&4294967295,M=k+(P<<4&4294967295|P>>>28),P=U+(M^k^V)+H[8]+2272392833&4294967295,U=M+(P<<11&4294967295|P>>>21),P=V+(U^M^k)+H[11]+1839030562&4294967295,V=U+(P<<16&4294967295|P>>>16),P=k+(V^U^M)+H[14]+4259657740&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(k^V^U)+H[1]+2763975236&4294967295,M=k+(P<<4&4294967295|P>>>28),P=U+(M^k^V)+H[4]+1272893353&4294967295,U=M+(P<<11&4294967295|P>>>21),P=V+(U^M^k)+H[7]+4139469664&4294967295,V=U+(P<<16&4294967295|P>>>16),P=k+(V^U^M)+H[10]+3200236656&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(k^V^U)+H[13]+681279174&4294967295,M=k+(P<<4&4294967295|P>>>28),P=U+(M^k^V)+H[0]+3936430074&4294967295,U=M+(P<<11&4294967295|P>>>21),P=V+(U^M^k)+H[3]+3572445317&4294967295,V=U+(P<<16&4294967295|P>>>16),P=k+(V^U^M)+H[6]+76029189&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(k^V^U)+H[9]+3654602809&4294967295,M=k+(P<<4&4294967295|P>>>28),P=U+(M^k^V)+H[12]+3873151461&4294967295,U=M+(P<<11&4294967295|P>>>21),P=V+(U^M^k)+H[15]+530742520&4294967295,V=U+(P<<16&4294967295|P>>>16),P=k+(V^U^M)+H[2]+3299628645&4294967295,k=V+(P<<23&4294967295|P>>>9),P=M+(V^(k|~U))+H[0]+4096336452&4294967295,M=k+(P<<6&4294967295|P>>>26),P=U+(k^(M|~V))+H[7]+1126891415&4294967295,U=M+(P<<10&4294967295|P>>>22),P=V+(M^(U|~k))+H[14]+2878612391&4294967295,V=U+(P<<15&4294967295|P>>>17),P=k+(U^(V|~M))+H[5]+4237533241&4294967295,k=V+(P<<21&4294967295|P>>>11),P=M+(V^(k|~U))+H[12]+1700485571&4294967295,M=k+(P<<6&4294967295|P>>>26),P=U+(k^(M|~V))+H[3]+2399980690&4294967295,U=M+(P<<10&4294967295|P>>>22),P=V+(M^(U|~k))+H[10]+4293915773&4294967295,V=U+(P<<15&4294967295|P>>>17),P=k+(U^(V|~M))+H[1]+2240044497&4294967295,k=V+(P<<21&4294967295|P>>>11),P=M+(V^(k|~U))+H[8]+1873313359&4294967295,M=k+(P<<6&4294967295|P>>>26),P=U+(k^(M|~V))+H[15]+4264355552&4294967295,U=M+(P<<10&4294967295|P>>>22),P=V+(M^(U|~k))+H[6]+2734768916&4294967295,V=U+(P<<15&4294967295|P>>>17),P=k+(U^(V|~M))+H[13]+1309151649&4294967295,k=V+(P<<21&4294967295|P>>>11),P=M+(V^(k|~U))+H[4]+4149444226&4294967295,M=k+(P<<6&4294967295|P>>>26),P=U+(k^(M|~V))+H[11]+3174756917&4294967295,U=M+(P<<10&4294967295|P>>>22),P=V+(M^(U|~k))+H[2]+718787259&4294967295,V=U+(P<<15&4294967295|P>>>17),P=k+(U^(V|~M))+H[9]+3951481745&4294967295,I.g[0]=I.g[0]+M&4294967295,I.g[1]=I.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,M){M===void 0&&(M=I.length);const k=M-this.blockSize,H=this.C;let V=this.h,U=0;for(;U<M;){if(V==0)for(;U<=k;)i(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<M;)if(H[V++]=I.charCodeAt(U++),V==this.blockSize){i(this,H),V=0;break}}else for(;U<M;)if(H[V++]=I[U++],V==this.blockSize){i(this,H),V=0;break}}this.h=V,this.o+=M},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var M=1;M<I.length-8;++M)I[M]=0;M=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=M&255,M/=256;for(this.v(I),I=Array(16),M=0,k=0;k<4;++k)for(let H=0;H<32;H+=8)I[M++]=this.g[k]>>>H&255;return I};function o(I,M){var k=c;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=M(I)}function l(I,M){this.h=M;const k=[];let H=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;H&&U==M||(k[V]=U,H=!1)}this.g=k}var c={};function h(I){return-128<=I&&I<128?o(I,function(M){return new l([M|0],M<0?-1:0)}):new l([I|0],I<0?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return E(f(-I));const M=[];let k=1;for(let H=0;I>=k;H++)M[H]=I/k|0,k*=4294967296;return new l(M,0)}function m(I,M){if(I.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(I.charAt(0)=="-")return E(m(I.substring(1),M));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(M,8));let H=p;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const P=parseInt(I.substring(U,U+V),M);V<8?(V=f(Math.pow(M,V)),H=H.j(V).add(f(P))):(H=H.j(k),H=H.add(f(P)))}return H}var p=h(0),v=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let I=0,M=1;for(let k=0;k<this.g.length;k++){const H=this.i(k);I+=(H>=0?H:4294967296+H)*M,M*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(S(this))return"-"+E(this).toString(I);const M=f(Math.pow(I,6));var k=this;let H="";for(;;){const V=D(k,M).g;k=C(k,V.j(M));let U=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=V,x(k))return U+H;for(;U.length<6;)U="0"+U;H=U+H}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(let M=0;M<I.g.length;M++)if(I.g[M]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=C(this,I),S(I)?-1:x(I)?0:1};function E(I){const M=I.g.length,k=[];for(let H=0;H<M;H++)k[H]=~I.g[H];return new l(k,~I.h).add(v)}t.abs=function(){return S(this)?E(this):this},t.add=function(I){const M=Math.max(this.g.length,I.g.length),k=[];let H=0;for(let V=0;V<=M;V++){let U=H+(this.i(V)&65535)+(I.i(V)&65535),P=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);H=P>>>16,U&=65535,P&=65535,k[V]=P<<16|U}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(I,M){return I.add(E(M))}t.j=function(I){if(x(this)||x(I))return p;if(S(this))return S(I)?E(this).j(E(I)):E(E(this).j(I));if(S(I))return E(this.j(E(I)));if(this.l(b)<0&&I.l(b)<0)return f(this.m()*I.m());const M=this.g.length+I.g.length,k=[];for(var H=0;H<2*M;H++)k[H]=0;for(H=0;H<this.g.length;H++)for(let V=0;V<I.g.length;V++){const U=this.i(H)>>>16,P=this.i(H)&65535,K=I.i(V)>>>16,te=I.i(V)&65535;k[2*H+2*V]+=P*te,O(k,2*H+2*V),k[2*H+2*V+1]+=U*te,O(k,2*H+2*V+1),k[2*H+2*V+1]+=P*K,O(k,2*H+2*V+1),k[2*H+2*V+2]+=U*K,O(k,2*H+2*V+2)}for(I=0;I<M;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=M;I<2*M;I++)k[I]=0;return new l(k,0)};function O(I,M){for(;(I[M]&65535)!=I[M];)I[M+1]+=I[M]>>>16,I[M]&=65535,M++}function A(I,M){this.g=I,this.h=M}function D(I,M){if(x(M))throw Error("division by zero");if(x(I))return new A(p,p);if(S(I))return M=D(E(I),M),new A(E(M.g),E(M.h));if(S(M))return M=D(I,E(M)),new A(E(M.g),M.h);if(I.g.length>30){if(S(I)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var k=v,H=M;H.l(I)<=0;)k=j(k),H=j(H);var V=q(k,1),U=q(H,1);for(H=q(H,2),k=q(k,2);!x(H);){var P=U.add(H);P.l(I)<=0&&(V=V.add(k),U=P),H=q(H,1),k=q(k,1)}return M=C(I,V.j(M)),new A(V,M)}for(V=p;I.l(M)>=0;){for(k=Math.max(1,Math.floor(I.m()/M.m())),H=Math.ceil(Math.log(k)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),U=f(k),P=U.j(M);S(P)||P.l(I)>0;)k-=H,U=f(k),P=U.j(M);x(U)&&(U=v),V=V.add(U),I=C(I,P)}return new A(V,I)}t.B=function(I){return D(this,I).h},t.and=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)&I.i(H);return new l(k,this.h&I.h)},t.or=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)|I.i(H);return new l(k,this.h|I.h)},t.xor=function(I){const M=Math.max(this.g.length,I.g.length),k=[];for(let H=0;H<M;H++)k[H]=this.i(H)^I.i(H);return new l(k,this.h^I.h)};function j(I){const M=I.g.length+1,k=[];for(let H=0;H<M;H++)k[H]=I.i(H)<<1|I.i(H-1)>>>31;return new l(k,I.h)}function q(I,M){const k=M>>5;M%=32;const H=I.g.length-k,V=[];for(let U=0;U<H;U++)V[U]=M>0?I.i(U+k)>>>M|I.i(U+k+1)<<32-M:I.i(U+k);return new l(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,mo=l}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FM,x0,GM,Id,t6,$M,YM,XM;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var T=0;T<g.length;++T){var z=g[T];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var z=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var he=g[X];if(!(he in z))break e;z=z[he]}g=g[g.length-1],X=z[g],T=T(X),T!=X&&T!=null&&e(z,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var z=[],X;for(X in T)Object.prototype.hasOwnProperty.call(T,X)&&z.push([X,T[X]]);return z}});var o=o||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function h(g,T,z){return g.call.apply(g.bind,arguments)}function f(g,T,z){return f=h,f.apply(null,arguments)}function m(g,T){var z=Array.prototype.slice.call(arguments,1);return function(){var X=z.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function p(g,T){function z(){}z.prototype=T.prototype,g.Z=T.prototype,g.prototype=new z,g.prototype.constructor=g,g.Ob=function(X,he,_e){for(var Me=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Me[ot-2]=arguments[ot];return T.prototype[he].apply(X,Me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const T=g.length;if(T>0){const z=Array(T);for(let X=0;X<T;X++)z[X]=g[X];return z}return[]}function x(g,T){for(let X=1;X<arguments.length;X++){const he=arguments[X];var z=typeof he;if(z=z!="object"?z:he?Array.isArray(he)?"array":z:"null",z=="array"||z=="object"&&typeof he.length=="number"){z=g.length||0;const _e=he.length||0;g.length=z+_e;for(let Me=0;Me<_e;Me++)g[z+Me]=he[Me]}else g.push(he)}}class S{constructor(T,z){this.i=T,this.j=z,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(g){l.setTimeout(()=>{throw g},0)}function C(){var g=I;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class O{constructor(){this.h=this.g=null}add(T,z){const X=A.get();X.set(T,z),this.h?this.h.next=X:this.g=X,this.h=X}}var A=new S(()=>new D,g=>g.reset());class D{constructor(){this.next=this.g=this.h=null}set(T,z){this.h=T,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let j,q=!1,I=new O,M=()=>{const g=Promise.resolve(void 0);j=()=>{g.then(k)}};function k(){for(var g;g=C();){try{g.h.call(g.g)}catch(z){E(z)}var T=A;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}q=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const z=()=>{};l.addEventListener("test",z,T),l.removeEventListener("test",z,T)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function K(g,T){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(K,V),K.prototype.init=function(g,T){const z=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(z=="mouseover"?T=g.fromElement:z=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(g,T,z,X,he){this.listener=g,this.proxy=null,this.src=T,this.type=z,this.capture=!!X,this.ha=he,this.key=++$,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function oe(g,T,z){for(const X in g)T.call(z,g[X],X,g)}function ye(g,T){for(const z in g)T.call(void 0,g[z],z,g)}function Y(g){const T={};for(const z in g)T[z]=g[z];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,T){let z,X;for(let he=1;he<arguments.length;he++){X=arguments[he];for(z in X)g[z]=X[z];for(let _e=0;_e<ee.length;_e++)z=ee[_e],Object.prototype.hasOwnProperty.call(X,z)&&(g[z]=X[z])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,T,z,X,he){const _e=g.toString();g=this.g[_e],g||(g=this.g[_e]=[],this.h++);const Me=ce(g,T,X,he);return Me>-1?(T=g[Me],z||(T.fa=!1)):(T=new W(T,this.src,_e,!!X,he),T.fa=z,g.push(T)),T};function ie(g,T){const z=T.type;if(z in g.g){var X=g.g[z],he=Array.prototype.indexOf.call(X,T,void 0),_e;(_e=he>=0)&&Array.prototype.splice.call(X,he,1),_e&&(re(T),g.g[z].length==0&&(delete g.g[z],g.h--))}}function ce(g,T,z,X){for(let he=0;he<g.length;++he){const _e=g[he];if(!_e.da&&_e.listener==T&&_e.capture==!!z&&_e.ha==X)return he}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),be={};function Ce(g,T,z,X,he){if(Array.isArray(T)){for(let _e=0;_e<T.length;_e++)Ce(g,T[_e],z,X,he);return null}return z=Ut(z),g&&g[te]?g.J(T,z,c(X)?!!X.capture:!1,he):Ve(g,T,z,!1,X,he)}function Ve(g,T,z,X,he,_e){if(!T)throw Error("Invalid event type");const Me=c(he)?!!he.capture:!!he;let ot=it(g);if(ot||(g[ge]=ot=new Q(g)),z=ot.add(T,z,X,Me,_e),z.proxy)return z;if(X=He(),z.proxy=X,X.src=g,X.listener=z,g.addEventListener)U||(he=Me),he===void 0&&(he=!1),g.addEventListener(T.toString(),X,he);else if(g.attachEvent)g.attachEvent(Ge(T.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return z}function He(){function g(z){return T.call(g.src,g.listener,z)}const T=Be;return g}function je(g,T,z,X,he){if(Array.isArray(T))for(var _e=0;_e<T.length;_e++)je(g,T[_e],z,X,he);else X=c(X)?!!X.capture:!!X,z=Ut(z),g&&g[te]?(g=g.i,_e=String(T).toString(),_e in g.g&&(T=g.g[_e],z=ce(T,z,X,he),z>-1&&(re(T[z]),Array.prototype.splice.call(T,z,1),T.length==0&&(delete g.g[_e],g.h--)))):g&&(g=it(g))&&(T=g.g[T.toString()],g=-1,T&&(g=ce(T,z,X,he)),(z=g>-1?T[g]:null)&&Pe(z))}function Pe(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[te])ie(T.i,g);else{var z=g.type,X=g.proxy;T.removeEventListener?T.removeEventListener(z,X,g.capture):T.detachEvent?T.detachEvent(Ge(z),X):T.addListener&&T.removeListener&&T.removeListener(X),(z=it(T))?(ie(z,g),z.h==0&&(z.src=null,T[ge]=null)):re(g)}}}function Ge(g){return g in be?be[g]:be[g]="on"+g}function Be(g,T){if(g.da)g=!0;else{T=new K(T,this);const z=g.listener,X=g.ha||g.src;g.fa&&Pe(g),g=z.call(X,T)}return g}function it(g){return g=g[ge],g instanceof Q?g:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ut(g){return typeof g=="function"?g:(g[$e]||(g[$e]=function(T){return g.handleEvent(T)}),g[$e])}function st(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}p(st,H),st.prototype[te]=!0,st.prototype.removeEventListener=function(g,T,z,X){je(this,g,T,z,X)};function Nt(g,T){var z,X=g.G;if(X)for(z=[];X;X=X.G)z.push(X);if(g=g.M,X=T.type||T,typeof T=="string")T=new V(T,g);else if(T instanceof V)T.target=T.target||g;else{var he=T;T=new V(X,g),pe(T,he)}he=!0;let _e,Me;if(z)for(Me=z.length-1;Me>=0;Me--)_e=T.g=z[Me],he=kn(_e,X,!0,T)&&he;if(_e=T.g=g,he=kn(_e,X,!0,T)&&he,he=kn(_e,X,!1,T)&&he,z)for(Me=0;Me<z.length;Me++)_e=T.g=z[Me],he=kn(_e,X,!1,T)&&he}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const z=g.g[T];for(let X=0;X<z.length;X++)re(z[X]);delete g.g[T],g.h--}}this.G=null},st.prototype.J=function(g,T,z,X){return this.i.add(String(g),T,!1,z,X)},st.prototype.K=function(g,T,z,X){return this.i.add(String(g),T,!0,z,X)};function kn(g,T,z,X){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let he=!0;for(let _e=0;_e<T.length;++_e){const Me=T[_e];if(Me&&!Me.da&&Me.capture==z){const ot=Me.listener,mn=Me.ha||Me.src;Me.fa&&ie(g.i,Me),he=ot.call(mn,X)!==!1&&he}}return he&&!X.defaultPrevented}function qn(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Ht(g){g.g=qn(()=>{g.g=null,g.i&&(g.i=!1,Ht(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Yt extends H{constructor(T,z){super(),this.m=T,this.l=z,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(g){H.call(this),this.h=g,this.g={}}p(Fn,H);var dr=[];function mr(g){oe(g.g,function(T,z){this.g.hasOwnProperty(z)&&Pe(T)},g),g.g={}}Fn.prototype.N=function(){Fn.Z.N.call(this),mr(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=l.JSON.stringify,vs=l.JSON.parse,xi=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function ys(){}function xa(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){V.call(this,"d")}p(qt,V);function pr(){V.call(this,"c")}p(pr,V);var en={},zl=null;function _s(){return zl=zl||new st}en.Ia="serverreachability";function Vl(g){V.call(this,en.Ia,g)}p(Vl,V);function Zr(g){const T=_s();Nt(T,new Vl(T))}en.STAT_EVENT="statevent";function Sa(g,T){V.call(this,en.STAT_EVENT,g),this.stat=T}p(Sa,V);function sn(g){const T=_s();Nt(T,new Sa(T,g))}en.Ja="timingevent";function Wr(g,T){V.call(this,en.Ja,g),this.size=T}p(Wr,V);function Jr(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Mr(){this.g=!0}Mr.prototype.ua=function(){this.g=!1};function Ec(g,T,z,X,he,_e){g.info(function(){if(g.g)if(_e){var Me="",ot=_e.split("&");for(let Rt=0;Rt<ot.length;Rt++){var mn=ot[Rt].split("=");if(mn.length>1){const Xt=mn[0];mn=mn[1];const li=Xt.split("_");Me=li.length>=2&&li[1]=="type"?Me+(Xt+"="+mn+"&"):Me+(Xt+"=redacted&")}}}else Me=null;else Me=_e;return"XMLHTTP REQ ("+X+") [attempt "+he+"]: "+T+`
`+z+`
`+Me})}function Ll(g,T,z,X,he,_e,Me){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+he+"]: "+T+`
`+z+`
`+_e+" "+Me})}function ei(g,T,z,X){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Tc(g,z)+(X?" "+X:"")})}function Ea(g,T){g.info(function(){return"TIMEOUT: "+T})}Mr.prototype.info=function(){};function Tc(g,T){if(!g.g)return T;if(!T)return null;try{const _e=JSON.parse(T);if(_e){for(g=0;g<_e.length;g++)if(Array.isArray(_e[g])){var z=_e[g];if(!(z.length<2)){var X=z[1];if(Array.isArray(X)&&!(X.length<1)){var he=X[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Me=1;Me<X.length;Me++)X[Me]=""}}}}return Pn(_e)}catch{return T}}var Ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Aa(){}p(Aa,ys),Aa.prototype.g=function(){return new XMLHttpRequest},Mo=new Aa;function Si(g){return encodeURIComponent(String(g))}function ql(g){var T=1;g=g.split(":");const z=[];for(;T>0&&g.length;)z.push(g.shift()),T--;return g.length&&z.push(g.join(":")),z}function kr(g,T,z,X){this.j=g,this.i=T,this.l=z,this.S=X||1,this.V=new Fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dr}function Dr(){this.i=null,this.g="",this.h=!1}var on={},bn={};function Or(g,T,z){g.M=1,g.A=Ra(un(T)),g.u=z,g.R=!0,Ca(g,null)}function Ca(g,T){g.F=Date.now(),ti(g),g.B=un(g.A);var z=g.B,X=g.S;Array.isArray(X)||(X=[String(X)]),Fl(z.i,"t",X),g.C=0,z=g.j.L,g.h=new Dr,g.g=Gh(g.j,z?T:null,!g.u),g.P>0&&(g.O=new Yt(f(g.Y,g,g.g),g.P)),T=g.V,z=g.g,X=g.ba;var he="readystatechange";Array.isArray(he)||(he&&(dr[0]=he.toString()),he=dr);for(let _e=0;_e<he.length;_e++){const Me=Ce(z,he[_e],X||T.handleEvent,!1,T.h||T);if(!Me)break;T.g[Me.key]=Me}T=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),Zr(),Ec(g.i,g.v,g.B,g.l,g.S,g.u)}kr.prototype.ba=function(g){g=g.target;const T=this.O;T&&Ci(g)==3?T.j():this.Y(g)},kr.prototype.Y=function(g){try{if(g==this.g)e:{const ot=Ci(this.g),mn=this.g.ya(),Rt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||Gn(this.g)))){this.K||ot!=4||mn==7||(mn==8||Rt<=0?Zr(3):Zr(2)),ni(this);var T=this.g.ca();this.X=T;var z=Pl(this);if(this.o=T==200,Ll(this.i,this.v,this.B,this.l,this.S,ot,T),this.o){if(this.U&&!this.L){t:{if(this.g){var X,he=this.g;if((X=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(X)){var _e=X;break t}}_e=null}if(g=_e)ei(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,g);else{this.o=!1,this.m=3,sn(12),Jn(this),gr(this);break e}}if(this.R){g=!0;let Xt;for(;!this.K&&this.C<z.length;)if(Xt=Ul(this,z),Xt==bn){ot==4&&(this.m=4,sn(14),g=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==on){this.m=4,sn(15),ei(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else ei(this.i,this.l,Xt,null),ri(this,Xt);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||z.length!=0||this.h.h||(this.m=1,sn(16),g=!1),this.o=this.o&&g,!g)ei(this.i,this.l,z,"[Invalid Chunked Response]"),Jn(this),gr(this);else if(z.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Dc(Me),Me.P=!0,sn(11))}}else ei(this.i,this.l,z,null),ri(this,z);ot==4&&Jn(this),this.o&&!this.K&&(ot==4?Uh(this.j,this):(this.o=!1,ti(this)))}else Ma(this.g),T==400&&z.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Jn(this),gr(this)}}}catch{}};function Pl(g){if(!Bl(g))return g.g.la();const T=Gn(g.g);if(T==="")return"";let z="";const X=T.length,he=Ci(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Jn(g),gr(g),"";g.h.i=new l.TextDecoder}for(let _e=0;_e<X;_e++)g.h.h=!0,z+=g.h.i.decode(T[_e],{stream:!(he&&_e==X-1)});return T.length=0,g.h.g+=z,g.C=0,g.h.g}function Bl(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Ul(g,T){var z=g.C,X=T.indexOf(`
`,z);return X==-1?bn:(z=Number(T.substring(z,X)),isNaN(z)?on:(X+=1,X+z>T.length?bn:(T=T.slice(X,X+z),g.C=X+z,T)))}kr.prototype.cancel=function(){this.K=!0,Jn(this)};function ti(g){g.T=Date.now()+g.H,bs(g,g.H)}function bs(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Jr(f(g.aa,g),T)}function ni(g){g.D&&(l.clearTimeout(g.D),g.D=null)}kr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ea(this.i,this.B),this.M!=2&&(Zr(),sn(17)),Jn(this),this.m=2,gr(this)):bs(this,this.T-g)};function gr(g){g.j.I==0||g.K||Uh(g.j,g)}function Jn(g){ni(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,mr(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function ri(g,T){try{var z=g.j;if(z.I!=0&&(z.g==g||ai(z.h,g))){if(!g.L&&ai(z.h,g)&&z.I==3){try{var X=z.Ba.g.parse(T)}catch{X=null}if(Array.isArray(X)&&X.length==3){var he=X;if(he[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<g.F)Kl(z),Rs(z);else break e;Ho(z),sn(18)}}else z.xa=he[1],0<z.xa-z.K&&he[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=Jr(f(z.Va,z),6e3));ii(z.h)<=1&&z.ta&&(z.ta=void 0)}else Zi(z,11)}else if((g.L||z.g==g)&&Kl(z),!P(T))for(he=z.Ba.g.parse(T),T=0;T<he.length;T++){let Rt=he[T];const Xt=Rt[0];if(!(Xt<=z.K))if(z.K=Xt,Rt=Rt[1],z.I==2)if(Rt[0]=="c"){z.M=Rt[1],z.ba=Rt[2];const li=Rt[3];li!=null&&(z.ka=li,z.j.info("VER="+z.ka));const Wi=Rt[4];Wi!=null&&(z.za=Wi,z.j.info("SVER="+z.za));const Ri=Rt[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(X=1.5*Ri,z.O=X,z.j.info("backChannelRequestTimeoutMs_="+X)),X=z;const Ii=g.g;if(Ii){const Fo=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var _e=X.h;_e.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Oo(_e,_e.h),_e.h=null))}if(X.G){const Ql=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(X.wa=Ql,Et(X.J,X.G,Ql))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-g.F,z.j.info("Handshake RTT: "+z.T+"ms")),X=z;var Me=g;if(X.na=Fh(X,X.L?X.ba:null,X.W),Me.L){ws(X.h,Me);var ot=Me,mn=X.O;mn&&(ot.H=mn),ot.D&&(ni(ot),ti(ot)),X.g=Me}else Ph(X);z.i.length>0&&Qi(z)}else Rt[0]!="stop"&&Rt[0]!="close"||Zi(z,7);else z.I==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Zi(z,7):Mc(z):Rt[0]!="noop"&&z.l&&z.l.qa(Rt),z.A=0)}}Zr(4)}catch{}}var ln=class{constructor(g,T){this.g=g,this.map=T}};function ko(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ii(g){return g.h?1:g.g?g.g.size:0}function ai(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Oo(g,T){g.g?g.g.add(T):g.h=T}function ws(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function zo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const z of g.g.values())T=T.concat(z.G);return T}return b(g.i)}var jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(g,T){if(g){g=g.split("&");for(let z=0;z<g.length;z++){const X=g[z].indexOf("=");let he,_e=null;X>=0?(he=g[z].substring(0,X),_e=g[z].substring(X+1)):he=g[z],T(he,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function ar(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof ar?(this.l=g.l,wn(this,g.j),this.o=g.o,this.g=g.g,Gi(this,g.u),this.h=g.h,Vo(this,Lh(g.i)),this.m=g.m):g&&(T=String(g).match(jl))?(this.l=!1,wn(this,T[1]||"",!0),this.o=zr(T[2]||""),this.g=zr(T[3]||"",!0),Gi(this,T[4]),this.h=zr(T[5]||"",!0),Vo(this,T[6]||"",!0),this.m=zr(T[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}ar.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Ia(T,$i,!0),":");var z=this.g;return(z||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Ia(T,$i,!0),"@"),g.push(Si(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&g.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&g.push("/"),g.push(Ia(z,z.charAt(0)=="/"?Lo:Hl,!0))),(z=this.i.toString())&&g.push("?",z),(z=this.m)&&g.push("#",Ia(z,zh)),g.join("")},ar.prototype.resolve=function(g){const T=un(this);let z=!!g.j;z?wn(T,g.j):z=!!g.o,z?T.o=g.o:z=!!g.g,z?T.g=g.g:z=g.u!=null;var X=g.h;if(z)Gi(T,g.u);else if(z=!!g.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var he=T.h.lastIndexOf("/");he!=-1&&(X=T.h.slice(0,he+1)+X)}if(he=X,he==".."||he==".")X="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){X=he.lastIndexOf("/",0)==0,he=he.split("/");const _e=[];for(let Me=0;Me<he.length;){const ot=he[Me++];ot=="."?X&&Me==he.length&&_e.push(""):ot==".."?((_e.length>1||_e.length==1&&_e[0]!="")&&_e.pop(),X&&Me==he.length&&_e.push("")):(_e.push(ot),X=!0)}X=_e.join("/")}else X=he}return z?T.h=X:z=g.i.toString()!=="",z?Vo(T,Lh(g.i)):z=!!g.m,z&&(T.m=g.m),T};function un(g){return new ar(g)}function wn(g,T,z){g.j=z?zr(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Gi(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Vo(g,T,z){T instanceof Ss?(g.i=T,Gl(g.i,g.l)):(z||(T=Ia(T,Ei)),g.i=new Ss(T,g.l))}function Et(g,T,z){g.i.set(T,z)}function Ra(g){return Et(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function zr(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ia(g,T,z){return typeof g=="string"?(g=encodeURI(g).replace(T,er),z&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function er(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var $i=/[#\/\?@]/g,Hl=/[#\?:]/g,Lo=/[#\?]/g,Ei=/[#\?@]/g,zh=/#/g;function Ss(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function vr(g){g.g||(g.g=new Map,g.h=0,g.i&&xs(g.i,function(T,z){g.add(decodeURIComponent(T.replace(/\+/g," ")),z)}))}t=Ss.prototype,t.add=function(g,T){vr(this),this.i=null,g=Es(this,g);let z=this.g.get(g);return z||this.g.set(g,z=[]),z.push(T),this.h+=1,this};function Vh(g,T){vr(g),T=Es(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function Ac(g,T){return vr(g),T=Es(g,T),g.g.has(T)}t.forEach=function(g,T){vr(this),this.g.forEach(function(z,X){z.forEach(function(he){g.call(T,he,X,this)},this)},this)};function Cc(g,T){vr(g);let z=[];if(typeof T=="string")Ac(g,T)&&(z=z.concat(g.g.get(Es(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)z=z.concat(g[T]);return z}t.set=function(g,T){return vr(this),this.i=null,g=Es(this,g),Ac(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=Cc(this,g),g.length>0?String(g[0]):T):T};function Fl(g,T,z){Vh(g,T),z.length>0&&(g.i=null,g.g.set(Es(g,T),b(z)),g.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let X=0;X<T.length;X++){var z=T[X];const he=Si(z);z=Cc(this,z);for(let _e=0;_e<z.length;_e++){let Me=he;z[_e]!==""&&(Me+="="+Si(z[_e])),g.push(Me)}}return this.i=g.join("&")};function Lh(g){const T=new Ss;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Es(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Gl(g,T){T&&!g.j&&(vr(g),g.i=null,g.g.forEach(function(z,X){const he=X.toLowerCase();X!=he&&(Vh(this,X),Fl(this,he,z))},g)),g.j=T}function Ti(g,T){const z=new Mr;if(l.Image){const X=new Image;X.onload=m(si,z,"TestLoadImage: loaded",!0,T,X),X.onerror=m(si,z,"TestLoadImage: error",!1,T,X),X.onabort=m(si,z,"TestLoadImage: abort",!1,T,X),X.ontimeout=m(si,z,"TestLoadImage: timeout",!1,T,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else T(!1)}function Rc(g,T){const z=new Mr,X=new AbortController,he=setTimeout(()=>{X.abort(),si(z,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:X.signal}).then(_e=>{clearTimeout(he),_e.ok?si(z,"TestPingServer: ok",!0,T):si(z,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(he),si(z,"TestPingServer: error",!1,T)})}function si(g,T,z,X,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),X(z)}catch{}}function Ts(){this.g=new xi}function Yi(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Yi,ys),Yi.prototype.g=function(){return new qo(this.i,this.h)};function qo(g,T){st.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(qo,st),t=qo.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Ai(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$l(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function $l(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?As(this):Ai(this),this.readyState==3&&$l(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,As(this))},t.Na=function(g){this.g&&(this.response=g,As(this))},t.ga=function(){this.g&&As(this)};function As(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ai(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var z=T.next();!z.done;)z=z.value,g.push(z[0]+": "+z[1]),z=T.next();return g.join(`\r
`)};function Ai(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function oi(g){let T="";return oe(g,function(z,X){T+=X,T+=":",T+=z,T+=`\r
`}),T}function Po(g,T,z){e:{for(X in z){var X=!1;break e}X=!0}X||(z=oi(z),typeof g=="string"?z!=null&&Si(z):Et(g,T,z))}function Dt(g){st.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Dt,st);var Xi=/^https?$/i,Ic=["POST","PUT"];t=Dt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,z,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(_e){Bo(this,_e);return}if(g=z||"",z=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var he in X)z.set(he,X[he]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const _e of X.keys())z.set(_e,X.get(_e));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(z.keys()).find(_e=>_e.toLowerCase()=="content-type"),he=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Ic,T,void 0)>=0)||X||he||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Me]of z)this.g.setRequestHeader(_e,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(_e){Bo(this,_e)}};function Bo(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,Nc(g),Na(g)}function Nc(g){g.A||(g.A=!0,Nt(g,"complete"),Nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Nt(this,"complete"),Nt(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Uo(this):this.Xa())},t.Xa=function(){Uo(this)};function Uo(g){if(g.h&&typeof o<"u"){if(g.v&&Ci(g)==4)setTimeout(g.Ca.bind(g),0);else if(Nt(g,"readystatechange"),Ci(g)==4){g.h=!1;try{const _e=g.ca();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var z;if(!(z=T)){var X;if(X=_e===0){let Me=String(g.D).match(jl)[1]||null;!Me&&l.self&&l.self.location&&(Me=l.self.location.protocol.slice(0,-1)),X=!Xi.test(Me?Me.toLowerCase():"")}z=X}if(z)Nt(g,"complete"),Nt(g,"success");else{g.o=6;try{var he=Ci(g)>2?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.ca()+"]",Nc(g)}}finally{Na(g)}}}}function Na(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const z=g.g;g.g=null,T||Nt(g,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),vs(T)}};function Gn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ma(g){const T={};g=(g.g&&Ci(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(P(g[X]))continue;var z=ql(g[X]);const he=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const _e=T[he]||[];T[he]=_e,_e.push(z)}ye(T,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(g,T,z){return z&&z.internalChannelParams&&z.internalChannelParams[g]||T}function Cs(g){this.za=0,this.i=[],this.j=new Mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,g),this.Za=Ki("retryDelaySeedMs",1e4,g),this.Ta=Ki("forwardChannelMaxRetries",2,g),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(g&&g.concurrentRequestLimit),this.Ba=new Ts,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cs.prototype,t.ka=8,t.I=1,t.connect=function(g,T,z,X){sn(0),this.W=g,this.H=T||{},z&&X!==void 0&&(this.H.OSID=z,this.H.OAID=X),this.F=this.X,this.J=Fh(this,null,this.W),Qi(this)};function Mc(g){if(Yl(g),g.I==3){var T=g.V++,z=un(g.J);if(Et(z,"SID",g.M),Et(z,"RID",T),Et(z,"TYPE","terminate"),jo(g,z),T=new kr(g,g.j,T),T.M=2,T.A=Ra(un(z)),z=!1,l.navigator&&l.navigator.sendBeacon)try{z=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!z&&l.Image&&(new Image().src=T.A,z=!0),z||(T.g=Gh(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ti(T)}Hh(g)}function Rs(g){g.g&&(Dc(g),g.g.cancel(),g.g=null)}function Yl(g){Rs(g),g.v&&(l.clearTimeout(g.v),g.v=null),Kl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Qi(g){if(!Do(g.h)&&!g.m){g.m=!0;var T=g.Ea;j||M(),q||(j(),q=!0),I.add(T,g),g.D=0}}function Xl(g,T){return ii(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Jr(f(g.Ea,g,T),jh(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const he=new kr(this,this.j,g);let _e=this.o;if(this.U&&(_e?(_e=Y(_e),pe(_e,this.U)):_e=this.U),this.u!==null||this.R||(he.J=_e,_e=null),this.S)e:{for(var T=0,z=0;z<this.i.length;z++){t:{var X=this.i[z];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(T+=X,T>4096){T=z;break e}if(T===4096||z===this.i.length-1){T=z+1;break e}}T=1e3}else T=1e3;T=qh(this,he,T),z=un(this.J),Et(z,"RID",g),Et(z,"CVER",22),this.G&&Et(z,"X-HTTP-Session-Id",this.G),jo(this,z),_e&&(this.R?T="headers="+Si(oi(_e))+"&"+T:this.u&&Po(z,this.u,_e)),Oo(this.h,he),this.Ra&&Et(z,"TYPE","init"),this.S?(Et(z,"$req",T),Et(z,"SID","null"),he.U=!0,Or(he,z,null)):Or(he,z,T),this.I=2}}else this.I==3&&(g?kc(this,g):this.i.length==0||Do(this.h)||kc(this))};function kc(g,T){var z;T?z=T.l:z=g.V++;const X=un(g.J);Et(X,"SID",g.M),Et(X,"RID",z),Et(X,"AID",g.K),jo(g,X),g.u&&g.o&&Po(X,g.u,g.o),z=new kr(g,g.j,z,g.D+1),g.u===null&&(z.J=g.o),T&&(g.i=T.G.concat(g.i)),T=qh(g,z,1e3),z.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Oo(g.h,z),Or(z,X,T)}function jo(g,T){g.H&&oe(g.H,function(z,X){Et(T,X,z)}),g.l&&oe({},function(z,X){Et(T,X,z)})}function qh(g,T,z){z=Math.min(g.i.length,z);const X=g.l?f(g.l.Ka,g.l,g):null;e:{var he=g.i;let ot=-1;for(;;){const mn=["count="+z];ot==-1?z>0?(ot=he[0].g,mn.push("ofs="+ot)):ot=0:mn.push("ofs="+ot);let Rt=!0;for(let Xt=0;Xt<z;Xt++){var _e=he[Xt].g;const li=he[Xt].map;if(_e-=ot,_e<0)ot=Math.max(0,he[Xt].g-100),Rt=!1;else try{_e="req"+_e+"_"||"";try{var Me=li instanceof Map?li:Object.entries(li);for(const[Wi,Ri]of Me){let Ii=Ri;c(Ri)&&(Ii=Pn(Ri)),mn.push(_e+Wi+"="+encodeURIComponent(Ii))}}catch(Wi){throw mn.push(_e+"type="+encodeURIComponent("_badmap")),Wi}}catch{X&&X(li)}}if(Rt){Me=mn.join("&");break e}}Me=void 0}return g=g.i.splice(0,z),T.G=g,Me}function Ph(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;j||M(),q||(j(),q=!0),I.add(T,g),g.A=0}}function Ho(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Jr(f(g.Da,g),jh(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Bh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Jr(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),Rs(this),Bh(this))};function Dc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Bh(g){g.g=new kr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=un(g.na);Et(T,"RID","rpc"),Et(T,"SID",g.M),Et(T,"AID",g.K),Et(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&Et(T,"TO",g.ia),Et(T,"TYPE","xmlhttp"),jo(g,T),g.u&&g.o&&Po(T,g.u,g.o),g.O&&(g.g.H=g.O);var z=g.g;g=g.ba,z.M=1,z.A=Ra(un(T)),z.u=null,z.R=!0,Ca(z,g)}t.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ho(this),sn(19))};function Kl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Uh(g,T){var z=null;if(g.g==T){Kl(g),Dc(g),g.g=null;var X=2}else if(ai(g.h,T))z=T.G,ws(g.h,T),X=1;else return;if(g.I!=0){if(T.o)if(X==1){z=T.u?T.u.length:0,T=Date.now()-T.F;var he=g.D;X=_s(),Nt(X,new Wr(X,z)),Qi(g)}else Ph(g);else if(he=T.m,he==3||he==0&&T.X>0||!(X==1&&Xl(g,T)||X==2&&Ho(g)))switch(z&&z.length>0&&(T=g.h,T.i=T.i.concat(z)),he){case 1:Zi(g,5);break;case 4:Zi(g,10);break;case 3:Zi(g,6);break;default:Zi(g,2)}}}function jh(g,T){let z=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(z*=2),z*T}function Zi(g,T){if(g.j.info("Error code "+T),T==2){var z=f(g.bb,g),X=g.Ua;const he=!X;X=new ar(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wn(X,"https"),Ra(X),he?Ti(X.toString(),z):Rc(X.toString(),z)}else sn(2);g.I=0,g.l&&g.l.pa(T),Hh(g),Yl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Hh(g){if(g.I=0,g.ja=[],g.l){const T=zo(g.h);(T.length!=0||g.i.length!=0)&&(x(g.ja,T),x(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Fh(g,T,z){var X=z instanceof ar?un(z):new ar(z);if(X.g!="")T&&(X.g=T+"."+X.g),Gi(X,X.u);else{var he=l.location;X=he.protocol,T=T?T+"."+he.hostname:he.hostname,he=+he.port;const _e=new ar(null);X&&wn(_e,X),T&&(_e.g=T),he&&Gi(_e,he),z&&(_e.h=z),X=_e}return z=g.G,T=g.wa,z&&T&&Et(X,z,T),Et(X,"VER",g.ka),jo(g,X),X}function Gh(g,T,z){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Dt(new Yi({ab:z})):new Dt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $h(){}t=$h.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Is(){}Is.prototype.g=function(g,T){return new sr(g,T)};function sr(g,T){st.call(this),this.g=new Cs(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!P(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!P(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new ka(this)}p(sr,st),sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Mc(this.g)},sr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var z={};z.__data__=g,g=z}else this.v&&(z={},z.__data__=Pn(g),g=z);T.i.push(new ln(T.Ya++,g)),T.I==3&&Qi(T)},sr.prototype.N=function(){this.g.l=null,delete this.j,Mc(this.g),delete this.g,sr.Z.N.call(this)};function Yh(g){qt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const z in T){g=z;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(Yh,qt);function Xh(){pr.call(this),this.status=1}p(Xh,pr);function ka(g){this.g=g}p(ka,$h),ka.prototype.ra=function(){Nt(this.g,"a")},ka.prototype.qa=function(g){Nt(this.g,new Yh(g))},ka.prototype.pa=function(g){Nt(this.g,new Xh)},ka.prototype.oa=function(){Nt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,XM=function(){return new Is},YM=function(){return _s()},$M=en,t6={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,Id=Ta,No.COMPLETE="complete",GM=No,xa.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",st.prototype.listen=st.prototype.J,x0=xa,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,FM=Dt}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const Sx="@firebase/firestore",Ex="4.9.3";class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");let cc="12.7.0";const El=new Q6("@firebase/firestore");function Iu(){return El.logLevel}function qe(t,...e){if(El.logLevel<=pt.DEBUG){const n=e.map(J6);El.debug(`Firestore (${cc}): ${t}`,...n)}}function ss(t,...e){if(El.logLevel<=pt.ERROR){const n=e.map(J6);El.error(`Firestore (${cc}): ${t}`,...n)}}function ec(t,...e){if(El.logLevel<=pt.WARN){const n=e.map(J6);El.warn(`Firestore (${cc}): ${t}`,...n)}}function J6(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KM(t,r,n)}function KM(t,e,n){let r=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KM(e,i,r)}function rt(t,e){return t}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class QM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rr.UNAUTHENTICATED)))}shutdown(){}}class R${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class I${constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ts,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ts)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new QM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new rr(e)}}class N${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new N$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=o=>{o.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function D$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class e7{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=D$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function gt(t,e){return t<e?-1:t>e?1:0}function n6(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Xg(i)===Xg(o)?gt(i,o):Xg(i)?1:-1}return gt(t.length,e.length)}const O$=55296,z$=57343;function Xg(t){const e=t.charCodeAt(0);return e>=O$&&e<=z$}function tc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const Ax="__name__";class ra{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ra.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return gt(e.length,n.length)}static compareSegments(e,n){const r=ra.isNumericId(e),i=ra.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ra.extractNumericId(e).compare(ra.extractNumericId(n)):n6(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class Lt extends ra{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const V$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends ra{construct(e,n,r){return new Zn(e,n,r)}static isValidIdentifier(e){return V$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ax}static keyField(){return new Zn([Ax])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new De(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new De(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new De(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Lt.fromString(e))}static fromName(e){return new Xe(Lt.fromString(e).popFirst(5))}static empty(){return new Xe(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Lt(e.slice()))}}function ZM(t,e,n){if(!n)throw new De(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L$(t,e,n,r){if(e===!0&&r===!0)throw new De(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cx(t){if(!Xe.isDocumentKey(t))throw new De(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rx(t){if(Xe.isDocumentKey(t))throw new De(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pm(t);throw new De(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gh(t,e){if(!WM(t))throw new De(Ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new De(Ee.INVALID_ARGUMENT,n);return!0}const Ix=-62135596800,Nx=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Nx);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ix)throw new De(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nx}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Rn("string",$t._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new $t(0,0))}static max(){return new et(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Z0=-1;function q$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new vo(i,Xe.empty(),e)}function P$(t){return new vo(t.readTime,t.key,Z0)}class vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(et.min(),Xe.empty(),Z0)}static max(){return new vo(et.max(),Xe.empty(),Z0)}}function B$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}const U$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hc(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==U$)throw t;qe("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function H$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bm.ce=-1;const t7=-1;function vh(t){return t==null}function em(t){return t===0&&1/t==-1/0}function F$(t){return typeof t=="number"&&Number.isInteger(t)&&!em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const JM="";function G$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mx(e)),e=$$(t.get(n),e);return Mx(e)}function $$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case JM:n+="";break;default:n+=o}}return n}function Mx(t){return t+JM+""}function kx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class rn{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dx(this.data.getIterator())}getIteratorFrom(e){return new Dx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class Dx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $r{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new $r([])}unionWith(e){let n=new zn(Zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class tk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tk("Invalid base64 string: "+o):o}})(e);return new Wn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const Y$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=Y$.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}const nk="server_timestamp",rk="__type__",ik="__previous_value__",ak="__local_write_time__";function n7(t){return(t?.mapValue?.fields||{})[rk]?.stringValue===nk}function Um(t){const e=t.mapValue.fields[ik];return n7(e)?Um(e):e}function W0(t){const e=yo(t.mapValue.fields[ak].timestampValue);return new $t(e.seconds,e.nanos)}class X${constructor(e,n,r,i,o,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const tm="(default)";class J0{constructor(e,n){this.projectId=e,this.database=n||tm}static empty(){return new J0("","")}get isDefaultDatabase(){return this.database===tm}isEqual(e){return e instanceof J0&&e.projectId===this.projectId&&e.database===this.database}}const sk="__type__",K$="__max__",hd={mapValue:{}},ok="__vector__",nm="value";function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n7(t)?4:Z$(t)?9007199254740991:Q$(t)?10:11:Qe(28295,{value:t})}function pa(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return W0(t).isEqual(W0(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=yo(i.timestampValue),c=yo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return _o(i.bytesValue).isEqual(_o(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return yn(i.geoPointValue.latitude)===yn(o.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return yn(i.integerValue)===yn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=yn(i.doubleValue),c=yn(o.doubleValue);return l===c?em(l)===em(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(kx(l)!==kx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!pa(l[h],c[h])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function eh(t,e){return(t.values||[]).find((n=>pa(n,e)))!==void 0}function nc(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=yn(o.integerValue||o.doubleValue),h=yn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return Ox(t.timestampValue,e.timestampValue);case 4:return Ox(W0(t),W0(e));case 5:return n6(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=_o(o),h=_o(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=gt(c[f],h[f]);if(m!==0)return m}return gt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=gt(yn(o.latitude),yn(l.latitude));return c!==0?c:gt(yn(o.longitude),yn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return zx(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},f=c[nm]?.arrayValue,m=h[nm]?.arrayValue,p=gt(f?.values?.length||0,m?.values?.length||0);return p!==0?p:zx(f,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===hd.mapValue&&l===hd.mapValue)return 0;if(o===hd.mapValue)return 1;if(l===hd.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const v=n6(h[p],m[p]);if(v!==0)return v;const b=nc(c[h[p]],f[m[p]]);if(b!==0)return b}return gt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function Ox(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=yo(t),r=yo(e),i=gt(n.seconds,r.seconds);return i!==0?i:gt(n.nanos,r.nanos)}function zx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=nc(n[i],r[i]);if(o)return o}return gt(n.length,r.length)}function rc(t){return r6(t)}function r6(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _o(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=r6(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${r6(n.fields[l])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Nd(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Um(t);return e?16+Nd(e):16;case 5:return 2*t.stringValue.length;case 6:return _o(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Nd(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ao(r.fields,((o,l)=>{i+=o.length+Nd(l)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function Vx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i6(t){return!!t&&"integerValue"in t}function r7(t){return!!t&&"arrayValue"in t}function Lx(t){return!!t&&"nullValue"in t}function qx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Md(t){return!!t&&"mapValue"in t}function Q$(t){return(t?.mapValue?.fields||{})[sk]?.stringValue===ok}function D0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=D0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=D0(t.arrayValue.values[n]);return e}return{...t}}function Z$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K$}class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=D0(n)}setAll(e){let n=Zn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=D0(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new ur(D0(this.value))}}function lk(t){const e=[];return Ao(t.fields,((n,r)=>{const i=new Zn([n]);if(Md(r)){const o=lk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new $r(e)}class Hn{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Hn(e,0,et.min(),et.min(),et.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new Hn(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Hn(e,2,n,et.min(),et.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,et.min(),et.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rm{constructor(e,n){this.position=e,this.inclusive=n}}function Px(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=nc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pa(t.position[n],e.position[n]))return!1;return!0}class im{constructor(e,n="asc"){this.field=e,this.dir=n}}function W$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class uk{}class Cn extends uk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eY(e,n,r):n==="array-contains"?new rY(e,r):n==="in"?new iY(e,r):n==="not-in"?new aY(e,r):n==="array-contains-any"?new sY(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tY(e,r):new nY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nc(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends uk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return ck(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ck(t){return t.op==="and"}function hk(t){return J$(t)&&ck(t)}function J$(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function a6(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(hk(t))return t.filters.map((e=>a6(e))).join(",");{const e=t.filters.map((n=>a6(n))).join(",");return`${t.op}(${e})`}}function fk(t,e){return t instanceof Cn?(function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&pa(r.value,i.value)})(t,e):t instanceof Ui?(function(r,i){return i instanceof Ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&fk(l,i.filters[c])),!0):!1})(t,e):void Qe(19439)}function dk(t){return t instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`})(t):t instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(dk).join(" ,")+"}"})(t):"Filter"}class eY extends Cn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class tY extends Cn{constructor(e,n){super(e,"in",n),this.keys=mk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nY extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=mk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mk(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class rY extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r7(n)&&eh(n.arrayValue,this.value)}}class iY extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class aY extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eh(this.value.arrayValue,n)}}class sY extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r7(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>eh(this.value.arrayValue,r)))}}class oY{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function Ux(t,e=null,n=[],r=[],i=null,o=null,l=null){return new oY(t,e,n,r,i,o,l)}function i7(t){const e=rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>a6(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>rc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>rc(r))).join(",")),e.Te=n}return e.Te}function a7(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bx(t.startAt,e.startAt)&&Bx(t.endAt,e.endAt)}function s6(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class yh{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lY(t,e,n,r,i,o,l,c){return new yh(t,e,n,r,i,o,l,c)}function jm(t){return new yh(t)}function jx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pk(t){return t.collectionGroup!==null}function O0(t){const e=rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new zn(Zn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new im(o,r))})),n.has(Zn.keyField().canonicalString())||e.Ie.push(new im(Zn.keyField(),r))}return e.Ie}function ca(t){const e=rt(t);return e.Ee||(e.Ee=uY(e,O0(t))),e.Ee}function uY(t,e){if(t.limitType==="F")return Ux(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new im(i.field,o)}));const n=t.endAt?new rm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rm(t.startAt.position,t.startAt.inclusive):null;return Ux(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function o6(t,e){const n=t.filters.concat([e]);return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function l6(t,e,n){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hm(t,e){return a7(ca(t),ca(e))&&t.limitType===e.limitType}function gk(t){return`${i7(ca(t))}|lt:${t.limitType}`}function Nu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>dk(i))).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>rc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>rc(i))).join(",")),`Target(${r})`})(ca(t))}; limitType=${t.limitType})`}function Fm(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of O0(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=Px(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,O0(r),i)||r.endAt&&!(function(l,c,h){const f=Px(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,O0(r),i))})(t,e)}function cY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vk(t){return(e,n)=>{let r=!1;for(const i of O0(t)){const o=hY(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hY(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?nc(h,f):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return ek(this.inner)}size(){return this.innerSize}}const fY=new rn(Xe.comparator);function os(){return fY}const yk=new rn(Xe.comparator);function S0(...t){let e=yk;for(const n of t)e=e.insert(n.key,n);return e}function _k(t){let e=yk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function fl(){return z0()}function bk(){return z0()}function z0(){return new Rl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dY=new rn(Xe.comparator),mY=new zn(Xe.comparator);function vt(...t){let e=mY;for(const n of t)e=e.add(n);return e}const pY=new zn(gt);function gY(){return pY}function s7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(e)?"-0":e}}function wk(t){return{integerValue:""+t}}function vY(t,e){return F$(e)?wk(e):s7(t,e)}class Gm{constructor(){this._=void 0}}function yY(t,e,n){return t instanceof th?(function(i,o){const l={fields:{[rk]:{stringValue:nk},[ak]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&n7(o)&&(o=Um(o)),o&&(l.fields[ik]=o),{mapValue:l}})(n,e):t instanceof nh?Sk(t,e):t instanceof rh?Ek(t,e):(function(i,o){const l=xk(i,o),c=Hx(l)+Hx(i.Ae);return i6(l)&&i6(i.Ae)?wk(c):s7(i.serializer,c)})(t,e)}function _Y(t,e,n){return t instanceof nh?Sk(t,e):t instanceof rh?Ek(t,e):n}function xk(t,e){return t instanceof am?(function(r){return i6(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class th extends Gm{}class nh extends Gm{constructor(e){super(),this.elements=e}}function Sk(t,e){const n=Tk(e);for(const r of t.elements)n.some((i=>pa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class rh extends Gm{constructor(e){super(),this.elements=e}}function Ek(t,e){let n=Tk(e);for(const r of t.elements)n=n.filter((i=>!pa(i,r)));return{arrayValue:{values:n}}}class am extends Gm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hx(t){return yn(t.integerValue||t.doubleValue)}function Tk(t){return r7(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bY{constructor(e,n){this.field=e,this.transform=n}}function wY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof nh&&i instanceof nh||r instanceof rh&&i instanceof rh?tc(r.elements,i.elements,pa):r instanceof am&&i instanceof am?pa(r.Ae,i.Ae):r instanceof th&&i instanceof th})(t.transform,e.transform)}class xY{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $m{}function Ak(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ym(t.key,cr.none()):new _h(t.key,t.data,cr.none());{const n=t.data,r=ur.empty();let i=new zn(Zn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Co(t.key,r,new $r(i.toArray()),cr.none())}}function SY(t,e,n){t instanceof _h?(function(i,o,l){const c=i.value.clone(),h=Gx(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Co?(function(i,o,l){if(!kd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Gx(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Ck(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function V0(t,e,n,r){return t instanceof _h?(function(o,l,c,h){if(!kd(o.precondition,l))return c;const f=o.value.clone(),m=$x(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Co?(function(o,l,c,h){if(!kd(o.precondition,l))return c;const f=$x(o.fieldTransforms,h,l),m=l.data;return m.setAll(Ck(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,l,c){return kd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function EY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=xk(r.transform,i||null);o!=null&&(n===null&&(n=ur.empty()),n.set(r.field,o))}return n||null}function Fx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,((o,l)=>wY(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _h extends $m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends $m{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ck(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Gx(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,_Y(l,c,n[i]))}return r}function $x(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,yY(o,l,e))}return r}class Ym extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rk extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&SY(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=V0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=V0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bk();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=Ak(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),vt())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,((n,r)=>Fx(n,r)))&&tc(this.baseMutations,e.baseMutations,((n,r)=>Fx(n,r)))}}class o7{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return dY})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new o7(e,n,r,i)}}let AY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class CY{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,bt;function Ik(t){switch(t){case Ee.OK:return Qe(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function Nk(t){if(t===void 0)return ss("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case An.OK:return Ee.OK;case An.CANCELLED:return Ee.CANCELLED;case An.UNKNOWN:return Ee.UNKNOWN;case An.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case An.INTERNAL:return Ee.INTERNAL;case An.UNAVAILABLE:return Ee.UNAVAILABLE;case An.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case An.NOT_FOUND:return Ee.NOT_FOUND;case An.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case An.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case An.ABORTED:return Ee.ABORTED;case An.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case An.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case An.DATA_LOSS:return Ee.DATA_LOSS;default:return Qe(39323,{code:t})}}(bt=An||(An={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";function RY(){return new TextEncoder}const IY=new mo([4294967295,4294967295],0);function Yx(t){const e=RY().encode(t),n=new HM;return n.update(e),new Uint8Array(n.digest())}function Xx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,o],0)]}class l7{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new E0(`Invalid padding: ${n}`);if(r<0)throw new E0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new E0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new E0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=mo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(IY)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yx(e),[r,i]=Xx(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new l7(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=Yx(e),[r,i]=Xx(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class E0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(et.min(),i,new rn(gt),os(),vt())}}class bh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bh(r,n,vt(),vt(),vt())}}class Dd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Mk{constructor(e,n){this.targetId=e,this.Ce=n}}class kk{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Kx{constructor(){this.ve=0,this.Fe=Qx(),this.Me=Wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:o})}})),new bh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Qx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NY{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=fd(),this.He=fd(),this.Ye=new rn(gt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(s6(o))if(r===0){const l=new Xe(o.path);this.et(n,l,Hn.newNoDocument(l,et.min()))}else xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=_o(r).toUint8Array()}catch(h){if(h instanceof tk)return ec("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new l7(l,i,o)}catch(h){return ec(h instanceof E0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&s6(c.target)){const h=new Xe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Hn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=vt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new Xm(e,n,this.Ye,this.je,r);return this.je=os(),this.Je=fd(),this.He=fd(),this.Ye=new rn(gt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Kx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zn(gt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zn(gt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fd(){return new rn(Xe.comparator)}function Qx(){return new rn(Xe.comparator)}const MY={asc:"ASCENDING",desc:"DESCENDING"},kY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DY={and:"AND",or:"OR"};class OY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function u6(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zY(t,e){return sm(t,e.toTimestamp())}function Yr(t){return xt(!!t,49232),et.fromTimestamp((function(n){const r=yo(n);return new $t(r.seconds,r.nanos)})(t))}function u7(t,e){return c6(t,e).canonicalString()}function c6(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ok(t){const e=Lt.fromString(t);return xt(Bk(e),10190,{key:e.toString()}),e}function om(t,e){return u7(t.databaseId,e.path)}function L0(t,e){const n=Ok(e);if(n.get(1)!==t.databaseId.projectId)throw new De(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(Vk(n))}function zk(t,e){return u7(t.databaseId,e)}function VY(t){const e=Ok(t);return e.length===4?Lt.emptyPath():Vk(e)}function h6(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vk(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zx(t,e,n){return{name:om(t,e),fields:n.value.mapValue.fields}}function LY(t,e){return"found"in e?(function(r,i){xt(!!i.found,43571),i.found.name,i.found.updateTime;const o=L0(r,i.found.name),l=Yr(i.found.updateTime),c=i.found.createTime?Yr(i.found.createTime):et.min(),h=new ur({mapValue:{fields:i.found.fields}});return Hn.newFoundDocument(o,l,c,h)})(t,e):"missing"in e?(function(r,i){xt(!!i.missing,3894),xt(!!i.readTime,22933);const o=L0(r,i.missing),l=Yr(i.readTime);return Hn.newNoDocument(o,l)})(t,e):Qe(7234,{result:e})}function qY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,m){return f.useProto3Json?(xt(m===void 0||typeof m=="string",58123),Wn.fromBase64String(m||"")):(xt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Wn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?Ee.UNKNOWN:Nk(f.code);return new De(m,f.message||"")})(l);n=new kk(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=L0(t,r.document.name),o=Yr(r.document.updateTime),l=r.document.createTime?Yr(r.document.createTime):et.min(),c=new ur({mapValue:{fields:r.document.fields}}),h=Hn.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Dd(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=L0(t,r.document),o=r.readTime?Yr(r.readTime):et.min(),l=Hn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Dd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=L0(t,r.document),o=r.removedTargetIds||[];n=new Dd([],o,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new CY(i,o),c=r.targetId;n=new Mk(c,l)}}return n}function Lk(t,e){let n;if(e instanceof _h)n={update:Zx(t,e.key,e.value)};else if(e instanceof Ym)n={delete:om(t,e.key)};else if(e instanceof Co)n={update:Zx(t,e.key,e.data),updateMask:YY(e.fieldMask)};else{if(!(e instanceof Rk))return Qe(16599,{Vt:e.type});n={verify:om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof th)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof am)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:zY(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Qe(27497)})(t,e.precondition)),n}function PY(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?Yr(i.updateTime):Yr(o);return l.isEqual(et.min())&&(l=Yr(o)),new xY(l,i.transformResults||[])})(n,e)))):[]}function BY(t,e){return{documents:[zk(t,e.path)]}}function UY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zk(t,i);const o=(function(f){if(f.length!==0)return Pk(Ui.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Mu(v.field),direction:FY(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=u6(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function jY(t){let e=VY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(p){const v=qk(p);return v instanceof Ui&&hk(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(x){return new im(ku(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,vh(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(p){const v=!!p.before,b=p.values||[];return new rm(b,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,b=p.values||[];return new rm(b,v)})(n.endAt)),lY(e,i,l,o,c,"F",h,f)}function HY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ku(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ku(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ku(n.unaryFilter.field);return Cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ku(n.unaryFilter.field);return Cn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Cn.create(ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((r=>qk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function FY(t){return MY[t]}function GY(t){return kY[t]}function $Y(t){return DY[t]}function Mu(t){return{fieldPath:t.canonicalString()}}function ku(t){return Zn.fromServerFormat(t.fieldPath)}function Pk(t){return t instanceof Cn?(function(n){if(n.op==="=="){if(qx(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NAN"}};if(Lx(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qx(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NAN"}};if(Lx(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(n.field),op:GY(n.op),value:n.value}}})(t):t instanceof Ui?(function(n){const r=n.getFilters().map((i=>Pk(i)));return r.length===1?r[0]:{compositeFilter:{op:$Y(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function YY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Bk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class oo{constructor(e,n,r,i,o=et.min(),l=et.min(),c=Wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XY{constructor(e){this.yt=e}}function KY(t){const e=jY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?l6(e,e.limit,"L"):e}class QY{constructor(){this.Cn=new ZY}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(vo.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class ZY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(Lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(Lt.comparator)).toArray()}}const Wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uk=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(Uk,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);class ic{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ic(0)}static cr(){return new ic(-1)}}const Jx="LruGarbageCollector",WY=1048576;function eS([t,e],[n,r]){const i=gt(t,n);return i===0?gt(e,r):i}class JY{constructor(e){this.Ir=e,this.buffer=new zn(eS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){qe(Jx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?qe(Jx,"Ignoring IndexedDB error during garbage collection: ",n):await hc(n)}await this.Vr(3e5)}))}}class tX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(Bm.ce);const r=new JY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(Wx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Iu()<=pt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function nX(t,e){return new tX(t,e)}class rX{constructor(){this.changes=new Rl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&V0(r.mutation,i,$r.empty(),$t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,vt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=vt()){const i=fl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=S0();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=fl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,vt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=os();const l=z0(),c=(function(){return z0()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Co)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),V0(m.mutation,f,m.mutation.getFieldMask(),$t.now())):l.set(f.key,$r.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new iX(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=z0();let i=new rn(((l,c)=>l-c)),o=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||$r.empty();m=c.applyToLocalView(f,m),r.set(h,m);const p=(i.get(c.batchId)||vt()).add(h);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,p=bk();m.forEach((v=>{if(!o.has(v)){const b=Ak(n.get(v),r.get(v));b!==null&&p.set(v,b),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ae.resolve(fl());let c=Z0,h=o;return l.next((f=>Ae.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,vt()))).next((m=>({batchId:c,changes:_k(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let i=S0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=S0();return this.indexManager.getCollectionParents(e,o).next((c=>Ae.forEach(c,(h=>{const f=(function(p,v){return new yh(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Hn.newInvalidDocument(m)))}));let c=S0();return l.forEach(((h,f)=>{const m=o.get(h);m!==void 0&&V0(m.mutation,f,$r.empty(),$t.now()),Fm(n,f)&&(c=c.insert(h,f))})),c}))}}class sX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:KY(i.bundledQuery),readTime:Yr(i.readTime)}})(n)),Ae.resolve()}}class oX{constructor(){this.overlays=new rn(Xe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fl();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=fl(),o=n.length+1,l=new Xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new rn(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=fl(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=fl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Ae.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new AY(n,r));let o=this.qr.get(n);o===void 0&&(o=vt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class lX{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class c7{constructor(){this.Qr=new zn(jn.$r),this.Ur=new zn(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new jn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new Lt([])),r=new jn(n,e),i=new jn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new Lt([])),r=new jn(n,e),i=new jn(n,e+1);let o=vt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new jn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||gt(e.Yr,n.Yr)}static Kr(e,n){return gt(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}class uX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zn(jn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TY(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new jn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?t7:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),i=new jn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(gt);return n.forEach((i=>{const o=new jn(i,0),l=new jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const l=new jn(new Xe(o),0);let c=new zn(gt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const o=new jn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new jn(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cX{constructor(e){this.ri=e,this.docs=(function(){return new rn(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hn.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=os();const l=n.path,c=new Xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||B$(P$(m),r)<=0||(i.has(m.key)||Fm(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hX(this)}getSize(e){return Ae.resolve(this.size)}}class hX extends rX{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class fX{constructor(e){this.persistence=e,this.si=new Rl((n=>i7(n)),a7),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new c7,this.targetCount=0,this.ai=ic.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(o).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class jk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bm(0),this.li=!1,this.li=!0,this.hi=new lX,this.referenceDelegate=e(this),this.Pi=new fX(this),this.indexManager=new QY,this.remoteDocumentCache=(function(i){return new cX(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new XY(n),this.Ii=new sX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uX(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new dX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class dX extends j${constructor(e){super(),this.currentSequenceNumber=e}}class h7{constructor(e){this.persistence=e,this.Ri=new c7,this.Vi=null}static mi(e){return new h7(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=Xe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lm{constructor(e,n){this.persistence=e,this.pi=new Rl((r=>G$(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=nX(this,n)}static mi(e,n){return new lm(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,et.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class f7{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=vt(),i=vt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new f7(e,n.fromCache,r,i)}}class mX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uG()?8:H$(ir())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new mX;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Iu()<=pt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Iu()<=pt.DEBUG&&qe("QueryEngine","Query:",Nu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Iu()<=pt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ca(n))):Ae.resolve())}ys(e,n){if(jx(n))return Ae.resolve(null);let r=ca(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=l6(n,null,"F"),r=ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=vt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,l6(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return jx(n)||i.isEqual(et.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?Ae.resolve(null):(Iu()<=pt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nu(n)),this.vs(e,l,n,q$(i,Z0)).next((c=>c)))}))}Ds(e,n){let r=new zn(vk(e));return n.forEach(((i,o)=>{Fm(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Iu()<=pt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Nu(n)),this.ps.getDocumentsMatchingQuery(e,n,vo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const d7="LocalStore",gX=3e8;class vX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rn(gt),this.xs=new Rl((o=>i7(o)),a7),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yX(t,e,n,r){return new vX(t,e,n,r)}async function Hk(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=vt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function _X(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const p=f.batch,v=p.keys();let b=Ae.resolve();return v.forEach((x=>{b=b.next((()=>m.getEntry(h,x))).next((S=>{const E=f.docVersions.get(x);xt(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=vt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Fk(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bX(t,e){const n=rt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,p))));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Wn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=gX?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,b,m)&&c.push(n.Pi.updateTargetData(o,b))}));let h=os(),f=vt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(wX(o,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(et.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function wX(t,e,n){let r=vt(),i=vt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=os();return n.forEach(((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(et.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):qe(d7,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function xX(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=t7),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SX(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new oo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function f6(t,e,n){const r=rt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!fc(l))throw l;qe(d7,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function tS(t,e,n){const r=rt(t);let i=et.min(),o=vt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const p=rt(h),v=p.xs.get(m);return v!==void 0?Ae.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,m)})(r,l,ca(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:et.min(),n?o:vt()))).next((c=>(EX(r,cY(e),c),{documents:c,Qs:o})))))}function EX(t,e,n){let r=t.Os.get(e)||et.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class nS{constructor(){this.activeTargetIds=gY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TX{constructor(){this.Mo=new nS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AX{Oo(e){}shutdown(){}}const rS="ConnectivityMonitor";class iS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qe(rS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){qe(rS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dd=null;function d6(){return dd===null?dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():dd++,"0x"+dd.toString(16)}const Kg="RestConnection",CX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===tm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=d6(),c=this.zo(e,n.toUriEncodedString());qe(Kg,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(c),m=lc(f);return this.Jo(e,c,h,r,m).then((p=>(qe(Kg,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw ec(Kg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=CX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class IX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nr="WebChannelConnection";class NX extends RX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=d6();return new Promise(((c,h)=>{const f=new FM;f.setWithCredentials(!0),f.listenOnce(GM.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Id.NO_ERROR:const p=f.getResponseJson();qe(nr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Id.TIMEOUT:qe(nr,`RPC '${e}' ${l} timed out`),h(new De(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const v=f.getStatus();if(qe(nr,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b?.error;if(x&&x.status&&x.message){const S=(function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(O)>=0?O:Ee.UNKNOWN})(x.status);h(new De(S,x.message))}else h(new De(Ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new De(Ee.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{qe(nr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);qe(nr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=d6(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=XM(),c=YM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");qe(nr,`Creating RPC '${e}' stream ${i}: ${m}`,h);const p=l.createWebChannel(m,h);this.I_(p);let v=!1,b=!1;const x=new IX({Yo:E=>{b?qe(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(qe(nr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),qe(nr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),S=(E,C,O)=>{E.listen(C,(A=>{try{O(A)}catch(D){setTimeout((()=>{throw D}),0)}}))};return S(p,x0.EventType.OPEN,(()=>{b||(qe(nr,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),S(p,x0.EventType.CLOSE,(()=>{b||(b=!0,qe(nr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),S(p,x0.EventType.ERROR,(E=>{b||(b=!0,ec(nr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),x.a_(new De(Ee.UNAVAILABLE,"The operation could not be completed")))})),S(p,x0.EventType.MESSAGE,(E=>{if(!b){const C=E.data[0];xt(!!C,16349);const O=C,A=O?.error||O[0]?.error;if(A){qe(nr,`RPC '${e}' stream ${i} received error:`,A);const D=A.status;let j=(function(M){const k=An[M];if(k!==void 0)return Nk(k)})(D),q=A.message;j===void 0&&(j=Ee.INTERNAL,q="Unknown error status: "+D+" with message "+A.message),b=!0,x.a_(new De(j,q)),p.close()}else qe(nr,`RPC '${e}' stream ${i} received:`,C),x.u_(C)}})),S(c,$M.STAT_EVENT,(E=>{E.stat===t6.PROXY?qe(nr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===t6.NOPROXY&&qe(nr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qg(){return typeof document<"u"?document:null}function Km(t){return new OY(t,!0)}class m7{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aS="PersistentStream";class Gk{constructor(e,n,r,i,o,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m7(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return qe(aS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(qe(aS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MX extends Gk{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qY(this.serializer,e),r=(function(o){if(!("targetChange"in o))return et.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?et.min():l.readTime?Yr(l.readTime):et.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=h6(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=s6(h)?{documents:BY(o,h)}:{query:UY(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Dk(o,l.resumeToken);const f=u6(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(et.min())>0){c.readTime=sm(o,l.snapshotVersion.toTimestamp());const f=u6(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=HY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=h6(this.serializer),n.removeTarget=e,this.q_(n)}}class kX extends Gk{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PY(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=h6(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Lk(this.serializer,r)))};this.q_(n)}}class DX{}class OX extends DX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,c6(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(Ee.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,c6(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(Ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Tl="RemoteStore";class VX{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Il(this)&&(qe(Tl,"Restarting streams for network reachability change."),await(async function(h){const f=rt(h);f.Ea.add(4),await wh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Qm(f)})(this))}))})),this.Ra=new zX(r,i)}}async function Qm(t){if(Il(t))for(const e of t.da)await e(!0)}async function wh(t){for(const e of t.da)await e(!1)}function $k(t,e){const n=rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),y7(n)?v7(n):dc(n).O_()&&g7(n,e))}function p7(t,e){const n=rt(t),r=dc(n);n.Ia.delete(e),r.O_()&&Yk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Il(n)&&n.Ra.set("Unknown"))}function g7(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).Y_(e)}function Yk(t,e){t.Va.Ue(e),dc(t).Z_(e)}function v7(t){t.Va=new NY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.Ra.ua()}function y7(t){return Il(t)&&!dc(t).x_()&&t.Ia.size>0}function Il(t){return rt(t).Ea.size===0}function Xk(t){t.Va=void 0}async function LX(t){t.Ra.set("Online")}async function qX(t){t.Ia.forEach(((e,n)=>{g7(t,e)}))}async function PX(t,e){Xk(t),y7(t)?(t.Ra.ha(e),v7(t)):t.Ra.set("Unknown")}async function BX(t,e,n){if(t.Ra.set("Online"),e instanceof kk&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){qe(Tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await um(t,r)}else if(e instanceof Dd?t.Va.Ze(e):e instanceof Mk?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await Fk(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Wn.EMPTY_BYTE_STRING,m.snapshotVersion)),Yk(o,h);const p=new oo(m.target,h,f,m.sequenceNumber);g7(o,p)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){qe(Tl,"Failed to raise snapshot:",r),await um(t,r)}}async function um(t,e,n){if(!fc(e))throw e;t.Ea.add(1),await wh(t),t.Ra.set("Offline"),n||(n=()=>Fk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe(Tl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qm(t)}))}function Kk(t,e){return e().catch((n=>um(t,n,e)))}async function Zm(t){const e=rt(t),n=wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t7;for(;UX(e);)try{const i=await xX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,jX(e,i)}catch(i){await um(e,i)}Qk(e)&&Zk(e)}function UX(t){return Il(t)&&t.Ta.length<10}function jX(t,e){t.Ta.push(e);const n=wo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Qk(t){return Il(t)&&!wo(t).x_()&&t.Ta.length>0}function Zk(t){wo(t).start()}async function HX(t){wo(t).ra()}async function FX(t){const e=wo(t);for(const n of t.Ta)e.ea(n.mutations)}async function GX(t,e,n){const r=t.Ta.shift(),i=o7.from(r,e,n);await Kk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Zm(t)}async function $X(t,e){e&&wo(t).X_&&await(async function(r,i){if((function(l){return Ik(l)&&l!==Ee.ABORTED})(i.code)){const o=r.Ta.shift();wo(r).B_(),await Kk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Zm(r)}})(t,e),Qk(t)&&Zk(t)}async function sS(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),qe(Tl,"RemoteStore received new credentials");const r=Il(n);n.Ea.add(3),await wh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qm(n)}async function YX(t,e){const n=rt(t);e?(n.Ea.delete(2),await Qm(n)):e||(n.Ea.add(2),await wh(n),n.Ra.set("Unknown"))}function dc(t){return t.ma||(t.ma=(function(n,r,i){const o=rt(n);return o.sa(),new MX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:LX.bind(null,t),t_:qX.bind(null,t),r_:PX.bind(null,t),H_:BX.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),y7(t)?v7(t):t.Ra.set("Unknown")):(await t.ma.stop(),Xk(t))}))),t.ma}function wo(t){return t.fa||(t.fa=(function(n,r,i){const o=rt(n);return o.sa(),new kX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:HX.bind(null,t),r_:$X.bind(null,t),ta:FX.bind(null,t),na:GX.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Zm(t)):(await t.fa.stop(),t.Ta.length>0&&(qe(Tl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class _7{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new _7(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b7(t,e){if(ss("AsyncQueue",`${e}: ${t}`),fc(t))return new De(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Pu{static emptySet(e){return new Pu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=S0(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oS{constructor(){this.ga=new rn(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ac{constructor(e,n,r,i,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new ac(e,n,Pu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class XX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KX{constructor(){this.queries=lS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=rt(n),o=i.queries;i.queries=lS(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new De(Ee.ABORTED,"Firestore shutting down"))}}function lS(){return new Rl((t=>gk(t)),Hm)}async function Wk(t,e){const n=rt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new XX,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=b7(l,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&w7(n)}async function Jk(t,e){const n=rt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QX(t,e){const n=rt(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&w7(n)}function ZX(t,e,n){const r=rt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function w7(t){t.Ca.forEach((e=>{e.next()}))}var m6,uS;(uS=m6||(m6={})).Ma="default",uS.Cache="cache";class eD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==m6.Cache}}class tD{constructor(e){this.key=e}}class nD{constructor(e){this.key=e}}class WX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=vk(e),this.tu=new Pu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new oS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),b=Fm(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?x!==S&&(r.track({type:3,doc:b}),E=!0):this.su(v,b)||(r.track({type:2,doc:b}),E=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(c=!0)):!v&&b?(r.track({type:0,doc:b}),E=!0):v&&!b&&(r.track({type:1,doc:v}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,x){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:E})}};return S(b)-S(x)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new ac(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new nD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new tD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const x7="SyncEngine";class JX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eK{constructor(e){this.key=e,this.hu=!1}}class tK{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Rl((c=>gk(c)),Hm),this.Iu=new Map,this.Eu=new Set,this.du=new rn(Xe.comparator),this.Au=new Map,this.Ru=new c7,this.Vu={},this.mu=new Map,this.fu=ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nK(t,e,n=!0){const r=lD(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await rD(r,e,n,!0),i}async function rK(t,e){const n=lD(t);await rD(n,e,!0,!1)}async function rD(t,e,n,r){const i=await SX(t.localStore,ca(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await iK(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&$k(t.remoteStore,i),c}async function iK(t,e,n,r,i){t.pu=(p,v,b)=>(async function(S,E,C,O){let A=E.view.ru(C);A.Cs&&(A=await tS(S.localStore,E.query,!1).then((({documents:I})=>E.view.ru(I,A))));const D=O&&O.targetChanges.get(E.targetId),j=O&&O.targetMismatches.get(E.targetId)!=null,q=E.view.applyChanges(A,S.isPrimaryClient,D,j);return hS(S,E.targetId,q.au),q.snapshot})(t,p,v,b);const o=await tS(t.localStore,e,!0),l=new WX(e,o.Qs),c=l.ru(o.documents),h=bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);hS(t,n,f.au);const m=new JX(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function aK(t,e,n){const r=rt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Hm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await f6(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&p7(r.remoteStore,i.targetId),p6(r,i.targetId)})).catch(hc)):(p6(r,i.targetId),await f6(r.localStore,i.targetId,!0))}async function sK(t,e){const n=rt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p7(n.remoteStore,r.targetId))}async function oK(t,e,n){const r=mK(t);try{const i=await(function(l,c){const h=rt(l),f=$t.now(),m=c.reduce(((b,x)=>b.add(x.key)),vt());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let x=os(),S=vt();return h.Ns.getEntries(b,m).next((E=>{x=E,x.forEach(((C,O)=>{O.isValidDocument()||(S=S.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,x))).next((E=>{p=E;const C=[];for(const O of c){const A=EY(O,p.get(O.key).overlayedDocument);A!=null&&C.push(new Co(O.key,A,lk(A.value.mapValue),cr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)})).next((E=>{v=E;const C=E.applyToLocalDocumentSet(p,S);return h.documentOverlayCache.saveOverlays(b,E.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:_k(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new rn(gt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await xh(r,i.changes),await Zm(r.remoteStore)}catch(i){const o=b7(i,"Failed to persist write");n.reject(o)}}async function iD(t,e){const n=rt(t);try{const r=await bX(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?xt(l.hu,14607):i.removedDocuments.size>0&&(xt(l.hu,42227),l.hu=!1))})),await xh(n,r,e)}catch(r){await hc(r)}}function cS(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=rt(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(c)&&(f=!0)})),f&&w7(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lK(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new rn(Xe.comparator);l=l.insert(o,Hn.newNoDocument(o,et.min()));const c=vt().add(o),h=new Xm(et.min(),new Map,new rn(gt),l,c);await iD(r,h),r.du=r.du.remove(o),r.Au.delete(e),S7(r)}else await f6(r.localStore,e,!1).then((()=>p6(r,e,n))).catch(hc)}async function uK(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await _X(n.localStore,e);sD(n,r,null),aD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xh(n,i)}catch(i){await hc(i)}}async function cK(t,e,n){const r=rt(t);try{const i=await(function(l,c){const h=rt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((p=>(xt(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);sD(r,e,n),aD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xh(r,i)}catch(i){await hc(i)}}function aD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function sD(t,e,n){const r=rt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function p6(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||oD(t,r)}))}function oD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(p7(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),S7(t))}function hS(t,e,n){for(const r of n)r instanceof tD?(t.Ru.addReference(r.key,e),hK(t,r)):r instanceof nD?(qe(x7,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oD(t,r.key)):Qe(19791,{wu:r})}function hK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(qe(x7,"New document in limbo: "+n),t.Eu.add(r),S7(t))}function S7(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new eK(n)),t.du=t.du.insert(n,r),$k(t.remoteStore,new oo(ca(jm(n.path)),r,"TargetPurposeLimboResolution",Bm.ce))}}async function xh(t,e,n){const r=rt(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=f7.As(h.targetId,f);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=rt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(f,(v=>Ae.forEach(v.Es,(b=>m.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Ae.forEach(v.ds,(b=>m.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!fc(p))throw p;qe(d7,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=m.Ms.get(v),x=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(x);m.Ms=m.Ms.insert(v,S)}}})(r.localStore,o))}async function fK(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){qe(x7,"User change. New user:",e.toKey());const r=await Hk(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new De(Ee.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xh(n,r.Ls)}}function dK(t,e){const n=rt(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let i=vt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function lD(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lK.bind(null,e),e.Pu.H_=QX.bind(null,e.eventManager),e.Pu.yu=ZX.bind(null,e.eventManager),e}function mK(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cK.bind(null,e),e}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yX(this.persistence,new pX,e.initialUser,this.serializer)}Cu(e){return new jk(h7.mi,this.serializer)}Du(e){return new TX}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class pK extends cm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof lm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new jk((r=>lm.mi(r,n)),this.serializer)}}class g6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fK.bind(null,this.syncEngine),await YX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KX})()}createDatastore(e){const n=Km(e.databaseInfo.databaseId),r=(function(o){return new NX(o)})(e.databaseInfo);return(function(o,l,c,h){return new OX(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new VX(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>cS(this.syncEngine,n,0)),(function(){return iS.v()?new iS:new AX})())}createSyncEngine(e,n){return(function(i,o,l,c,h,f,m){const p=new tK(i,o,l,c,h,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=rt(n);qe(Tl,"RemoteStore shutting down."),r.Ea.add(5),await wh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}g6.provider={build:()=>new g6};class uD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class gK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new De(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,o){const l=rt(i),c={documents:o.map((p=>om(l.serializer,p)))},h=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Lt.emptyPath(),c,o.length),f=new Map;h.forEach((p=>{const v=LY(l.serializer,p);f.set(v.key.toString(),v)}));const m=[];return o.forEach((p=>{const v=f.get(p.toString());xt(!!v,55234,{key:p}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ym(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Xe.fromPath(r);this.mutations.push(new Rk(i,this.precondition(i)))})),await(async function(r,i){const o=rt(r),l={writes:i.map((c=>Lk(o.serializer,c)))};await o.Go("Commit",o.serializer.databaseId,Lt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Qe(50498,{Gu:e.constructor.name});n=et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new De(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(et.min())?cr.exists(!1):cr.updateTime(n):cr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new De(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(n)}return cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vK{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new m7(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new gK(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!vh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ik(n)}return!1}}const xo="FirestoreClient";class yK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rr.UNAUTHENTICATED,this.clientId=e7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{qe(xo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(qe(xo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b7(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zg(t,e){t.asyncQueue.verifyOperationInProgress(),qe(xo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Hk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _K(t);qe(xo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>sS(e.remoteStore,i))),t._onlineComponents=e}async function _K(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(xo,"Using user provided OfflineComponentProvider");try{await Zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ee.FAILED_PRECONDITION||i.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await Zg(t,new cm)}}else qe(xo,"Using default OfflineComponentProvider"),await Zg(t,new pK(void 0));return t._offlineComponents}async function E7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(xo,"Using user provided OnlineComponentProvider"),await fS(t,t._uninitializedComponentsProvider._online)):(qe(xo,"Using default OnlineComponentProvider"),await fS(t,new g6))),t._onlineComponents}function bK(t){return E7(t).then((e=>e.syncEngine))}function wK(t){return E7(t).then((e=>e.datastore))}async function v6(t){const e=await E7(t),n=e.eventManager;return n.onListen=nK.bind(null,e.syncEngine),n.onUnlisten=aK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sK.bind(null,e.syncEngine),n}function xK(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,f){const m=new uD({next:v=>{m.Nu(),l.enqueueAndForget((()=>Jk(o,p)));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new De(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new De(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new eD(jm(c.path),m,{includeMetadataChanges:!0,qa:!0});return Wk(o,p)})(await v6(t),t.asyncQueue,e,n,r))),r.promise}function cD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const dS=new Map;const hD="firestore.googleapis.com",mS=!0;class pS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hD,this.ssl=mS}else this.host=e.host,this.ssl=e.ssl??mS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WY)throw new De(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new C$;switch(r.type){case"firstParty":return new M$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dS.get(n);r&&(qe("ComponentProvider","Removing Datastore"),dS.delete(n),r.terminate())})(this),Promise.resolve()}}function SK(t,e,n,r={}){t=ua(t,Wm);const i=lc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(zM(`https://${c}`),VM("Firestore",!0)),o.host!==hD&&o.host!==c&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!xl(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=rr.MOCK_USER;else{f=eG(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new rr(p)}t._authCredentials=new R$(new QM(f,m))}}class mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gh(n,dn._jsonSchema))return new dn(e,r||null,new Xe(Lt.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Rn("string",dn._jsonSchemaVersion),referencePath:Rn("string")};class po extends mc{constructor(e,n,r){super(e,n,jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Xe(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Od(t,e,...n){if(t=Vn(t),ZM("collection","path",e),t instanceof Wm){const r=Lt.fromString(e,...n);return Rx(r),new po(t,null,r)}{if(!(t instanceof dn||t instanceof po))throw new De(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return Rx(r),new po(t.firestore,null,r)}}function Ar(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=e7.newId()),ZM("doc","path",e),t instanceof Wm){const r=Lt.fromString(e,...n);return Cx(r),new dn(t,null,new Xe(r))}{if(!(t instanceof dn||t instanceof po))throw new De(Ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return Cx(r),new dn(t.firestore,t instanceof po?t.converter:null,new Xe(r))}}const gS="AsyncQueue";class vS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m7(this,"async_queue_retry"),this._c=()=>{const r=Qg();r&&qe(gS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fc(e))throw e;qe(gS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",yS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_7.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:yS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function _S(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Al extends Wm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vS(e),this._firestoreClient=void 0,await e}}}function EK(t,e){const n=typeof t=="object"?t:BM(),r=typeof t=="string"?t:tm,i=W6(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=WF("firestore");o&&SK(i,...o)}return i}function Jm(t){if(t._terminated)throw new De(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TK(t),t._firestoreClient}function TK(t){const e=t._freezeSettings(),n=(function(i,o,l,c){return new X$(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(Wn.fromBase64String(e))}catch(n){throw new De(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:Rn("string",Fr._jsonSchemaVersion),bytes:Rn("string")};class e1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t1{constructor(e){this._methodName=e}}class ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ha._jsonSchemaVersion}}static fromJSON(e){if(gh(e,ha._jsonSchema))return new ha(e.latitude,e.longitude)}}ha._jsonSchemaVersion="firestore/geoPoint/1.0",ha._jsonSchema={type:Rn("string",ha._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class fa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fa(e.vectorValues);throw new De(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fa._jsonSchemaVersion="firestore/vectorValue/1.0",fa._jsonSchema={type:Rn("string",fa._jsonSchemaVersion),vectorValues:Rn("object")};const AK=/^__.*__$/;class CK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new _h(e,this.data,n,this.fieldTransforms)}}class fD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class T7{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T7({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dD(this.Ac)&&AK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Km(e)}Cc(e,n,r,i=!1){return new T7({Ac:e,methodName:n,Dc:r,path:Zn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A7(t){const e=t._freezeSettings(),n=Km(t._databaseId);return new RK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mD(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);R7("Data must be an object, but it was:",l,r);const c=pD(r,l);let h,f;if(o.merge)h=new $r(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const p of o.mergeFields){const v=y6(e,p,n);if(!l.contains(v))throw new De(Ee.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);vD(m,v)||m.push(v)}h=new $r(m),f=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=l.fieldTransforms;return new CK(new ur(c),h,f)}class n1 extends t1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n1}}class C7 extends t1{_toFieldTransform(e){return new bY(e.path,new th)}isEqual(e){return e instanceof C7}}function IK(t,e,n,r){const i=t.Cc(1,e,n);R7("Data must be an object, but it was:",i,r);const o=[],l=ur.empty();Ao(r,((h,f)=>{const m=I7(e,h,n);f=Vn(f);const p=i.yc(m);if(f instanceof n1)o.push(m);else{const v=Sh(f,p);v!=null&&(o.push(m),l.set(m,v))}}));const c=new $r(o);return new fD(l,c,i.fieldTransforms)}function NK(t,e,n,r,i,o){const l=t.Cc(1,e,n),c=[y6(e,r,n)],h=[i];if(o.length%2!=0)throw new De(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(y6(e,o[v])),h.push(o[v+1]);const f=[],m=ur.empty();for(let v=c.length-1;v>=0;--v)if(!vD(f,c[v])){const b=c[v];let x=h[v];x=Vn(x);const S=l.yc(b);if(x instanceof n1)f.push(b);else{const E=Sh(x,S);E!=null&&(f.push(b),m.set(b,E))}}const p=new $r(f);return new fD(m,p,l.fieldTransforms)}function MK(t,e,n,r=!1){return Sh(n,t.Cc(r?4:3,e))}function Sh(t,e){if(gD(t=Vn(t)))return R7("Unsupported field value:",e,t),pD(t,e);if(t instanceof t1)return(function(r,i){if(!dD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=Sh(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$t.fromDate(r);return{timestampValue:sm(i.serializer,o)}}if(r instanceof $t){const o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(i.serializer,o)}}if(r instanceof ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fr)return{bytesValue:Dk(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u7(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fa)return(function(l,c){return{mapValue:{fields:{[sk]:{stringValue:ok},[nm]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return s7(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Pm(r)}`)})(t,e)}function pD(t,e){const n={};return ek(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,((r,i)=>{const o=Sh(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function gD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof ha||t instanceof Fr||t instanceof dn||t instanceof t1||t instanceof fa)}function R7(t,e,n){if(!gD(n)||!WM(n)){const r=Pm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function y6(t,e,n){if((e=Vn(e))instanceof e1)return e._internalPath;if(typeof e=="string")return I7(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const kK=new RegExp("[~\\*/\\[\\]]");function I7(t,e,n){if(e.search(kK)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new e1(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new De(Ee.INVALID_ARGUMENT,c+t+h)}function vD(t,e){return t.some((n=>n.isEqual(e)))}class fm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DK extends fm{data(){return super.data()}}function N7(t,e){return typeof e=="string"?I7(t,e):e instanceof e1?e._internalPath:e._delegate._internalPath}function OK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M7{}class zK extends M7{}function VK(t,e,...n){let r=[];e instanceof M7&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof k7)).length,c=o.filter((h=>h instanceof r1)).length;if(l>1||l>0&&c>0)throw new De(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class r1 extends zK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new r1(e,n,r)}_apply(e){const n=this._parse(e);return yD(e._query,n),new mc(e.firestore,e.converter,o6(e._query,n))}_parse(e){const n=A7(e.firestore);return(function(o,l,c,h,f,m,p){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new De(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){wS(p,m);const x=[];for(const S of p)x.push(bS(h,o,S));v={arrayValue:{values:x}}}else v=bS(h,o,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||wS(p,m),v=MK(c,l,p,m==="in"||m==="not-in");return Cn.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LK(t,e,n){const r=e,i=N7("where",t);return r1._create(i,r,n)}class k7 extends M7{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k7(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)yD(l,h),l=o6(l,h)})(e._query,n),new mc(e.firestore,e.converter,o6(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bS(t,e,n){if(typeof(n=Vn(n))=="string"){if(n==="")throw new De(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pk(e)&&n.indexOf("/")!==-1)throw new De(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Xe.isDocumentKey(r))throw new De(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vx(t,new Xe(r))}if(n instanceof dn)return Vx(t,n._key);throw new De(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(n)}.`)}function wS(t,e){if(!Array.isArray(t)||t.length===0)throw new De(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yD(t,e){const n=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _D{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[nm].arrayValue?.values?.map((r=>yn(r.doubleValue)));return new fa(n)}convertGeoPoint(e){return new ha(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(W0(e));default:return null}}convertTimestamp(e){const n=yo(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);xt(Bk(r),9688,{name:e});const i=new J0(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return i.isEqual(n)||ss(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function bD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qK extends _D{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}class zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends fm{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(N7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:Rn("string",go._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class zd extends go{data(e={}){return super.data(e)}}class Bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new zd(this._firestore,this._userDataWriter,r.key,r,new zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new zd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new zu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new zd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new zu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:PK(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e7.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}function BK(t){t=ua(t,dn);const e=ua(t.firestore,Al);return xK(Jm(e),t._key).then((n=>xD(e,t,n)))}Bu._jsonSchemaVersion="firestore/querySnapshot/1.0",Bu._jsonSchema={type:Rn("string",Bu._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class D7 extends _D{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function gl(t,e,n){t=ua(t,dn);const r=ua(t.firestore,Al),i=bD(t.converter,e,n);return wD(r,[mD(A7(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function _6(t){return wD(ua(t.firestore,Al),[new Ym(t._key,cr.none())])}function Vu(t,...e){t=Vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_S(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_S(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,c;if(t instanceof dn)l=ua(t.firestore,Al),c=jm(t._key.path),o={next:h=>{e[r]&&e[r](xD(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ua(t,mc);l=ua(h.firestore,Al),c=h._query;const f=new D7(l);o={next:m=>{e[r]&&e[r](new Bu(l,f,h,m))},error:e[r+1],complete:e[r+2]},OK(t._query)}return(function(f,m,p,v){const b=new uD(v),x=new eD(m,b,p);return f.asyncQueue.enqueueAndForget((async()=>Wk(await v6(f),x))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>Jk(await v6(f),x)))}})(Jm(l),c,i,o)}function wD(t,e){return(function(r,i){const o=new ts;return r.asyncQueue.enqueueAndForget((async()=>oK(await bK(r),i,o))),o.promise})(Jm(t),e)}function xD(t,e,n){const r=n.docs.get(e._key),i=new D7(t);return new go(t,i,e._key,r,new zu(n.hasPendingWrites,n.fromCache),e.converter)}const UK={maxAttempts:5};function T0(t,e){if((t=Vn(t)).firestore!==e)throw new De(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class jK{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=A7(e)}get(e){const n=T0(e,this._firestore),r=new qK(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Qe(24041);const o=i[0];if(o.isFoundDocument())return new fm(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new fm(this._firestore,r,n._key,null,n.converter);throw Qe(18433,{doc:o})}))}set(e,n,r){const i=T0(e,this._firestore),o=bD(i.converter,n,r),l=mD(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const o=T0(e,this._firestore);let l;return l=typeof(n=Vn(n))=="string"||n instanceof e1?NK(this._dataReader,"Transaction.update",o._key,n,r,i):IK(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,l),this}delete(e){const n=T0(e,this._firestore);return this._transaction.delete(n._key),this}}class HK extends jK{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=T0(e,this._firestore),r=new D7(this._firestore);return super.get(e).then((i=>new go(this._firestore,r,n._key,i._document,new zu(!1,!1),n.converter)))}}function FK(t,e,n){t=ua(t,Al);const r={...UK,...n};return(function(o){if(o.maxAttempts<1)throw new De(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,l,c){const h=new ts;return o.asyncQueue.enqueueAndForget((async()=>{const f=await wK(o);new vK(o.asyncQueue,f,c,l,h).ju()})),h.promise})(Jm(t),(i=>e(new HK(t,i))),r)}function GK(){return new C7("serverTimestamp")}(function(e,n=!0){(function(i){cc=i})(uc),Ju(new Sl("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Al(new I$(r.getProvider("auth-internal")),new k$(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new J0(f.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),fo(Sx,Ex,e),fo(Sx,Ex,"esm2020")})();var $K="firebase",YK="12.7.0";fo($K,YK,"app");function SD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XK=SD,ED=new mh("auth","Firebase",SD());const dm=new Q6("@firebase/auth");function KK(t,...e){dm.logLevel<=pt.WARN&&dm.warn(`Auth (${uc}): ${t}`,...e)}function Vd(t,...e){dm.logLevel<=pt.ERROR&&dm.error(`Auth (${uc}): ${t}`,...e)}function ga(t,...e){throw z7(t,...e)}function Bi(t,...e){return z7(t,...e)}function O7(t,e,n){const r={...XK(),[e]:n};return new mh("auth","Firebase",r).create(e,{appName:t.name})}function vl(t){return O7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ga(t,"argument-error"),O7(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z7(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ED.create(t,...e)}function nt(t,e,...n){if(!t)throw z7(e,...n)}function Ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function ls(t,e){t||Ja(e)}function b6(){return typeof self<"u"&&self.location?.href||""}function ZK(){return xS()==="http:"||xS()==="https:"}function xS(){return typeof self<"u"&&self.location?.protocol||null}function WK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZK()||sG()||"connection"in navigator)?navigator.onLine:!0}function JK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=rG()||oG()}get(){return WK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V7(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class TD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nQ=new Eh(3e4,6e4);function L7(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pc(t,e,n,r,i={}){return AD(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=ph({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return aG()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(f.credentials="include"),TD.fetch()(await CD(t,t.config.apiHost,n,c),f)})}async function AD(t,e,n){t._canInitEmulator=!1;const r={...eQ,...e};try{const i=new iQ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw md(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw md(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw md(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw O7(t,m,f);ga(t,m)}}catch(i){if(i instanceof ds)throw i;ga(t,"network-request-failed",{message:String(i)})}}async function rQ(t,e,n,r,i={}){const o=await pc(t,e,n,r,i);return"mfaPendingCredential"in o&&ga(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function CD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?V7(t.config,i):`${t.config.apiScheme}://${i}`;return tQ.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class iQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),nQ.get())})}}function md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bi(t,e,r);return i.customData._tokenResponse=n,i}async function aQ(t,e){return pc(t,"POST","/v1/accounts:delete",e)}async function mm(t,e){return pc(t,"POST","/v1/accounts:lookup",e)}function q0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sQ(t,e=!1){const n=Vn(t),r=await n.getIdToken(e),i=q7(r);nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:q0(Wg(i.auth_time)),issuedAtTime:q0(Wg(i.iat)),expirationTime:q0(Wg(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Wg(t){return Number(t)*1e3}function q7(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=MM(n);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SS(t){const e=q7(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&oQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class w6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=q0(this.lastLoginAt),this.creationTime=q0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pm(t){const e=t.auth,n=await t.getIdToken(),r=await ih(t,mm(e,{idToken:n}));nt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?RD(i.providerUserInfo):[],l=cQ(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new w6(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function uQ(t){const e=Vn(t);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hQ(t,e){const n=await AD(t,{},async()=>{const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await CD(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(h.credentials="include"),TD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fQ(t,e){return pc(t,"POST","/v2/accounts:revokeToken",L7(t,e))}class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const n=SS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await hQ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Uu;return r&&(nt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(nt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(nt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return Ja("not implemented")}}function eo(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new lQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new w6(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ih(this,this.stsTokenManager.getToken(this.auth,e));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sQ(this,e)}reload(){return uQ(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(vl(this.auth));const e=await this.getIdToken();return await ih(this,aQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:x,stsTokenManager:S}=n;nt(p&&S,e,"internal-error");const E=Uu.fromJSON(this.name,S);nt(typeof p=="string",e,"internal-error"),eo(r,e.name),eo(i,e.name),nt(typeof v=="boolean",e,"internal-error"),nt(typeof b=="boolean",e,"internal-error"),eo(o,e.name),eo(l,e.name),eo(c,e.name),eo(h,e.name),eo(f,e.name),eo(m,e.name);const C=new Pi({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:E,createdAt:f,lastLoginAt:m});return x&&Array.isArray(x)&&(C.providerData=x.map(O=>({...O}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Uu;i.updateFromServerResponse(n);const o=new Pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];nt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?RD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Uu;c.updateFromIdToken(r);const h=new Pi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new w6(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const ES=new Map;function es(t){ls(t instanceof Function,"Expected a class definition");let e=ES.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ES.set(t,e),e)}class ID{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ID.type="NONE";const TS=ID;function Ld(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ld("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mm(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(es(TS),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||es(TS);const l=Ld(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const v=await mm(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Pi._fromGetAccountInfoResponse(e,v,m)}else p=Pi._fromJSON(e,m);f!==o&&(c=p),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new ju(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new ju(o,e,r))}}function AS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ND(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zD(e))return"Blackberry";if(VD(e))return"Webos";if(MD(e))return"Safari";if((e.includes("chrome/")||kD(e))&&!e.includes("edge/"))return"Chrome";if(OD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ND(t=ir()){return/firefox\//i.test(t)}function MD(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kD(t=ir()){return/crios\//i.test(t)}function DD(t=ir()){return/iemobile/i.test(t)}function OD(t=ir()){return/android/i.test(t)}function zD(t=ir()){return/blackberry/i.test(t)}function VD(t=ir()){return/webos/i.test(t)}function P7(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dQ(t=ir()){return P7(t)&&!!window.navigator?.standalone}function mQ(){return lG()&&document.documentMode===10}function LD(t=ir()){return P7(t)||OD(t)||VD(t)||zD(t)||/windows phone/i.test(t)||DD(t)}function qD(t,e=[]){let n;switch(t){case"Browser":n=AS(ir());break;case"Worker":n=`${AS(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${r}`}class pQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gQ(t,e={}){return pc(t,"GET","/v2/passwordPolicy",L7(t,e))}const vQ=6;class yQ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class _Q{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CS(this),this.idTokenSubscription=new CS(this),this.beforeStateQueue=new pQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ED,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mm(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(vl(this));const n=e?Vn(e):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gQ(this),n=new yQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fQ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function i1(t){return Vn(t)}class CS{constructor(e){this.auth=e,this.observer=null,this.addObserver=gG(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let B7={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bQ(t){B7=t}function wQ(t){return B7.loadJS(t)}function xQ(){return B7.gapiScript}function SQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function EQ(t,e){const n=W6(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xl(o,e??{}))return i;ga(i,"already-initialized")}return n.initialize({options:e})}function TQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(es);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function AQ(t,e,n){const r=i1(t);nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=PD(e),{host:l,port:c}=CQ(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nt(xl(f,r.config.emulator)&&xl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,lc(l)?(zM(`${o}//${l}${h}`),VM("Auth",!0)):RQ()}function PD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CQ(t){const e=PD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:RS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:RS(l)}}}function RS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class BD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,n){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}async function Hu(t,e){return rQ(t,"POST","/v1/accounts:signInWithIdp",L7(t,e))}const IQ="http://localhost";class Cl extends BD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ga("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Cl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Hu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hu(e,n)}buildRequest(){const e={requestUri:IQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}class U7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Th extends U7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends Th{constructor(){super("facebook.com")}static credential(e){return Cl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class Za extends Th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cl._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";class ao extends Th{constructor(){super("github.com")}static credential(e){return Cl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class so extends Th{constructor(){super("twitter.com")}static credential(e,n){return Cl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";class sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Pi._fromIdTokenResponse(e,r,i),l=IS(r);return new sc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=IS(r);return new sc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function IS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gm extends ds{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gm(e,n,r,i)}}function UD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gm._fromErrorAndOperation(t,o,e,r):o})}async function NQ(t,e,n=!1){const r=await ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sc._forOperation(t,"link",r)}async function MQ(t,e,n=!1){const{auth:r}=t;if(Vi(r.app))return Promise.reject(vl(r));const i="reauthenticate";try{const o=await ih(t,UD(r,i,e,t),n);nt(o.idToken,r,"internal-error");const l=q7(o.idToken);nt(l,r,"internal-error");const{sub:c}=l;return nt(t.uid===c,r,"user-mismatch"),sc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ga(r,"user-mismatch"),o}}async function kQ(t,e,n=!1){if(Vi(t.app))return Promise.reject(vl(t));const r="signIn",i=await UD(t,r,e),o=await sc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function DQ(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function OQ(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function zQ(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function VQ(t){return Vn(t).signOut()}const vm="__sak";class jD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vm,"1"),this.storage.removeItem(vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LQ=1e3,qQ=10;class HD extends jD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);mQ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HD.type="LOCAL";const PQ=HD;class FD extends jD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FD.type="SESSION";const GD=FD;function BQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class a1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new a1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await BQ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}a1.receivers=[];function j7(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class UQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=j7("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function da(){return window}function jQ(t){da().location.href=t}function $D(){return typeof da().WorkerGlobalScope<"u"&&typeof da().importScripts=="function"}async function HQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FQ(){return navigator?.serviceWorker?.controller||null}function GQ(){return $D()?self:null}const YD="firebaseLocalStorageDb",$Q=1,ym="firebaseLocalStorage",XD="fbase_key";class Ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function s1(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function YQ(){const t=indexedDB.deleteDatabase(YD);return new Ah(t).toPromise()}function x6(){const t=indexedDB.open(YD,$Q);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:XD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await YQ(),e(await x6()))})})}async function NS(t,e,n){const r=s1(t,!0).put({[XD]:e,value:n});return new Ah(r).toPromise()}async function XQ(t,e){const n=s1(t,!1).get(e),r=await new Ah(n).toPromise();return r===void 0?null:r.value}function MS(t,e){const n=s1(t,!0).delete(e);return new Ah(n).toPromise()}const KQ=800,QQ=3;class KD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x6(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $D()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=a1._getInstance(GQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HQ(),!this.activeServiceWorker)return;this.sender=new UQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x6();return await NS(e,vm,"1"),await MS(e,vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=s1(i,!1).getAll();return new Ah(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KD.type="LOCAL";const ZQ=KD;new Eh(3e4,6e4);function QD(t,e){return e?es(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class H7 extends BD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WQ(t){return kQ(t.auth,new H7(t),t.bypassAuthState)}function JQ(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),MQ(n,new H7(t),t.bypassAuthState)}async function eZ(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),NQ(n,new H7(t),t.bypassAuthState)}class ZD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WQ;case"linkViaPopup":case"linkViaRedirect":return eZ;case"reauthViaPopup":case"reauthViaRedirect":return JQ;default:ga(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tZ=new Eh(2e3,1e4);async function nZ(t,e,n){if(Vi(t.app))return Promise.reject(Bi(t,"operation-not-supported-in-this-environment"));const r=i1(t);QK(t,e,U7);const i=QD(r,n);return new dl(r,"signInViaPopup",e,i).executeNotNull()}class dl extends ZD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=j7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tZ.get())};e()}}dl.currentPopupAction=null;const rZ="pendingRedirect",qd=new Map;class iZ extends ZD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await aZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aZ(t,e){const n=lZ(e),r=oZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sZ(t,e){qd.set(t._key(),e)}function oZ(t){return es(t._redirectPersistence)}function lZ(t){return Ld(rZ,t.config.apiKey,t.name)}async function uZ(t,e,n=!1){if(Vi(t.app))return Promise.reject(vl(t));const r=i1(t),i=QD(r,e),l=await new iZ(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const cZ=600*1e3;class hZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!WD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(kS(e))}saveEventToCache(e){this.cachedEventUids.add(kS(e)),this.lastProcessedEventTime=Date.now()}}function kS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WD(t);default:return!1}}async function dZ(t,e={}){return pc(t,"GET","/v1/projects",e)}const mZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pZ=/^https?/;async function gZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dZ(t);for(const n of e)try{if(vZ(n))return}catch{}ga(t,"unauthorized-domain")}function vZ(t){const e=b6(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!pZ.test(n))return!1;if(mZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yZ=new Eh(3e4,6e4);function DS(){const t=da().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _Z(t){return new Promise((e,n)=>{function r(){DS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DS(),n(Bi(t,"network-request-failed"))},timeout:yZ.get()})}if(da().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(da().gapi?.load)r();else{const i=SQ("iframefcb");return da()[i]=()=>{gapi.load?r():n(Bi(t,"network-request-failed"))},wQ(`${xQ()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function bZ(t){return Pd=Pd||_Z(t),Pd}const wZ=new Eh(5e3,15e3),xZ="__/auth/iframe",SZ="emulator/auth/iframe",EZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AZ(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V7(e,SZ):`https://${t.config.authDomain}/${xZ}`,r={apiKey:e.apiKey,appName:t.name,v:uc},i=TZ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ph(r).slice(1)}`}async function CZ(t){const e=await bZ(t),n=da().gapi;return nt(n,t,"internal-error"),e.open({where:document.body,url:AZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EZ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Bi(t,"network-request-failed"),c=da().setTimeout(()=>{o(l)},wZ.get());function h(){da().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}const RZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IZ=500,NZ=600,MZ="_blank",kZ="http://localhost";class OS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DZ(t,e,n,r=IZ,i=NZ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...RZ,width:r.toString(),height:i.toString(),top:o,left:l},f=ir().toLowerCase();n&&(c=kD(f)?MZ:n),ND(f)&&(e=e||kZ,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[b,x])=>`${v}${b}=${x},`,"");if(dQ(f)&&c!=="_self")return OZ(e||"",c),new OS(null);const p=window.open(e||"",c,m);nt(p,t,"popup-blocked");try{p.focus()}catch{}return new OS(p)}function OZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const zZ="__/auth/handler",VZ="emulator/auth/handler",LZ=encodeURIComponent("fac");async function zS(t,e,n,r,i,o){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uc,eventId:i};if(e instanceof U7){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",pG(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Th){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${LZ}=${encodeURIComponent(h)}`:"";return`${qZ(t)}?${ph(c).slice(1)}${f}`}function qZ({config:t}){return t.emulator?V7(t,VZ):`https://${t.authDomain}/${zZ}`}const Jg="webStorageSupport";class PZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GD,this._completeRedirectFn=uZ,this._overrideRedirectResult=sZ}async _openPopup(e,n,r,i){ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await zS(e,n,r,b6(),i);return DZ(e,o,j7())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await zS(e,n,r,b6(),i);return jQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ls(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CZ(e),r=new hZ(e);return n.register("authEvent",i=>(nt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jg,{type:Jg},i=>{const o=i?.[0]?.[Jg];o!==void 0&&n(!!o),ga(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LD()||MD()||P7()}}const BZ=PZ;var VS="@firebase/auth",LS="1.12.0";class UZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HZ(t){Ju(new Sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qD(t)},f=new _Q(r,i,o,h);return TQ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ju(new Sl("auth-internal",e=>{const n=i1(e.getProvider("auth").getImmediate());return(r=>new UZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(VS,LS,jZ(t)),fo(VS,LS,"esm2020")}const FZ=300,GZ=OM("authIdTokenMaxAge")||FZ;let qS=null;const $Z=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GZ)return;const i=n?.token;qS!==i&&(qS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YZ(t=BM()){const e=W6(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EQ(t,{popupRedirectResolver:BZ,persistence:[ZQ,PQ,GD]}),r=OM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=$Z(o.toString());OQ(n,l,()=>l(n.currentUser)),DQ(n,c=>l(c))}}const i=kM("auth");return i&&AQ(n,`http://${i}`),n}function XZ(){return document.getElementsByTagName("head")?.[0]??document}bQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Bi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",XZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HZ("Browser");const KZ={apiKey:"AIzaSyAIyve7JZp_0E3MNutgFkX0cAm9DqzfqC4",authDomain:"algebraic-structure-explorer.firebaseapp.com",projectId:"algebraic-structure-explorer",storageBucket:"algebraic-structure-explorer.firebasestorage.app",messagingSenderId:"195740710356",appId:"1:195740710356:web:132e427e9790fdc2705241",measurementId:"G-J5YLN1TFLL"},JD=PM(KZ),On=EK(JD),ev=YZ(JD),QZ=new Za,F7={verified:"#ccffcc",unverified:"#ffcccc",deprecated:"#ffff00",deadEnd:"#eeeeee",duplicateLine:"#0000FF",parentLine:"#555",text:"#000"},tv={verified:{label:"Verified"},unverified:{label:"Unverified"},deprecated:{label:"Duplicate Branch (Deprecated)"}},ZZ="_overlay_1pykk_1",WZ="_legend_1pykk_20",PS={overlay:ZZ,legend:WZ};class Tr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Tr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Xr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Xr(n,Tr.range(this,e))}}class Ne{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,o=l.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var h=c.slice(i,o).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;o+15<c.length?m=c.slice(o,o+15)+"":m=c.slice(o),r+=f+h+m}var p=new Error(r);return p.name="ParseError",p.__proto__=Ne.prototype,p.position=i,i!=null&&o!=null&&(p.length=o-i),p.rawMessage=e,p}}Ne.prototype.__proto__=Error.prototype;var JZ=function(e,n){return e===void 0?n:e},eW=/([A-Z])/g,tW=function(e){return e.replace(eW,"-$1").toLowerCase()},nW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},rW=/[&><"']/g;function iW(t){return String(t).replace(rW,e=>nW[e])}var eO=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},aW=function(e){var n=eO(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},sW=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},oW=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ct={deflt:JZ,escape:iW,hyphenate:tW,getBaseElem:eO,isCharacterBox:aW,protocolFromUrl:oW},Bd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function lW(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class G7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Bd)if(Bd.hasOwnProperty(n)){var r=Bd[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:lW(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Ct.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class to{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return aa[uW[this.id]]}sub(){return aa[cW[this.id]]}fracNum(){return aa[hW[this.id]]}fracDen(){return aa[fW[this.id]]}cramp(){return aa[dW[this.id]]}text(){return aa[mW[this.id]]}isTight(){return this.size>=2}}var $7=0,_m=1,Fu=2,ns=3,ah=4,vi=5,oc=6,hr=7,aa=[new to($7,0,!1),new to(_m,0,!0),new to(Fu,1,!1),new to(ns,1,!0),new to(ah,2,!1),new to(vi,2,!0),new to(oc,3,!1),new to(hr,3,!0)],uW=[ah,vi,ah,vi,oc,hr,oc,hr],cW=[vi,vi,vi,vi,hr,hr,hr,hr],hW=[Fu,ns,ah,vi,oc,hr,oc,hr],fW=[ns,ns,vi,vi,hr,hr,hr,hr],dW=[_m,_m,ns,ns,vi,vi,hr,hr],mW=[$7,_m,Fu,ns,Fu,ns,Fu,ns],We={DISPLAY:aa[$7],TEXT:aa[Fu],SCRIPT:aa[ah],SCRIPTSCRIPT:aa[oc]},S6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function pW(t){for(var e=0;e<S6.length;e++)for(var n=S6[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Ud=[];S6.forEach(t=>t.blocks.forEach(e=>Ud.push(...e)));function tO(t){for(var e=0;e<Ud.length;e+=2)if(t>=Ud[e]&&t<=Ud[e+1])return!0;return!1}var Cu=80,gW=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},vW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},yW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},_W=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},bW=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},wW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},xW=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},SW=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=gW(n,Cu);break;case"sqrtSize1":i=vW(n,Cu);break;case"sqrtSize2":i=yW(n,Cu);break;case"sqrtSize3":i=_W(n,Cu);break;case"sqrtSize4":i=bW(n,Cu);break;case"sqrtTall":i=xW(n,Cu,r)}return i},EW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},BS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},TW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Ch{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var sa={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},pd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},US={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function AW(t,e){sa[t]=e}function Y7(t,e,n){if(!sa[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=sa[e][r];if(!i&&t[0]in US&&(r=US[t[0]].charCodeAt(0),i=sa[e][r]),!i&&n==="text"&&tO(r)&&(i=sa[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var nv={};function CW(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!nv[e]){var n=nv[e]={cssEmPerMu:pd.quad[e]/18};for(var r in pd)pd.hasOwnProperty(r)&&(n[r]=pd[r][e])}return nv[e]}var RW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],jS=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],HS=function(e,n){return n.size<2?e:RW[e-1][n.size-1]};class Qa{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Qa.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=jS[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Qa(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:HS(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:jS[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=HS(Qa.BASESIZE,e);return this.size===n&&this.textSize===Qa.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Qa.BASESIZE?["sizing","reset-size"+this.size,"size"+Qa.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=CW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Qa.BASESIZE=6;var E6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},IW={ex:!0,em:!0,mu:!0},nO=function(e){return typeof e!="string"&&(e=e.unit),e in E6||e in IW||e==="ex"},nn=function(e,n){var r;if(e.unit in E6)r=E6[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},So=function(e){return e.filter(n=>n).join(" ")},rO=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},iO=function(e){var n=document.createElement(e);n.className=So(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},NW=/[\s"'>/=\x00-\x1f]/,aO=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ct.escape(So(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ct.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ct.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(NW.test(o))throw new Ne("Invalid attribute name '"+o+"'");n+=" "+o+'="'+Ct.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class Rh{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,rO.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return iO.call(this,"span")}toMarkup(){return aO.call(this,"span")}}class X7{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,rO.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return iO.call(this,"a")}toMarkup(){return aO.call(this,"a")}}class MW{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Ct.escape(this.src)+'"'+(' alt="'+Ct.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ct.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Ct.escape(n)+'"'),e+="'/>",e}}var kW={:"",:"",:"",:""};class yi{constructor(e,n,r,i,o,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var f=pW(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=kW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=So(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ct.escape(So(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ct.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Ct.escape(r)+'"');var o=Ct.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class us{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ct.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Eo{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",BS[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ct.escape(this.alternate)+'"/>':'<path d="'+Ct.escape(BS[this.pathName])+'"/>'}}class T6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ct.escape(this.attributes[n])+'"');return e+="/>",e}}function FS(t){if(t instanceof yi)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function DW(t){if(t instanceof Rh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var OW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},zW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},jt={math:{},text:{}};function w(t,e,n,r,i,o){jt[t][i]={font:e,group:n,replace:r},o&&r&&(jt[t][r]=jt[t][i])}var R="math",Re="text",L="main",Z="ams",Wt="accent-token",Le="bin",fr="close",gc="inner",Ze="mathord",Nn="op-token",Qr="open",o1="punct",J="rel",ms="spacing",se="textord";w(R,L,J,"","\\equiv",!0);w(R,L,J,"","\\prec",!0);w(R,L,J,"","\\succ",!0);w(R,L,J,"","\\sim",!0);w(R,L,J,"","\\perp");w(R,L,J,"","\\preceq",!0);w(R,L,J,"","\\succeq",!0);w(R,L,J,"","\\simeq",!0);w(R,L,J,"","\\mid",!0);w(R,L,J,"","\\ll",!0);w(R,L,J,"","\\gg",!0);w(R,L,J,"","\\asymp",!0);w(R,L,J,"","\\parallel");w(R,L,J,"","\\bowtie",!0);w(R,L,J,"","\\smile",!0);w(R,L,J,"","\\sqsubseteq",!0);w(R,L,J,"","\\sqsupseteq",!0);w(R,L,J,"","\\doteq",!0);w(R,L,J,"","\\frown",!0);w(R,L,J,"","\\ni",!0);w(R,L,J,"","\\propto",!0);w(R,L,J,"","\\vdash",!0);w(R,L,J,"","\\dashv",!0);w(R,L,J,"","\\owns");w(R,L,o1,".","\\ldotp");w(R,L,o1,"","\\cdotp");w(R,L,se,"#","\\#");w(Re,L,se,"#","\\#");w(R,L,se,"&","\\&");w(Re,L,se,"&","\\&");w(R,L,se,"","\\aleph",!0);w(R,L,se,"","\\forall",!0);w(R,L,se,"","\\hbar",!0);w(R,L,se,"","\\exists",!0);w(R,L,se,"","\\nabla",!0);w(R,L,se,"","\\flat",!0);w(R,L,se,"","\\ell",!0);w(R,L,se,"","\\natural",!0);w(R,L,se,"","\\clubsuit",!0);w(R,L,se,"","\\wp",!0);w(R,L,se,"","\\sharp",!0);w(R,L,se,"","\\diamondsuit",!0);w(R,L,se,"","\\Re",!0);w(R,L,se,"","\\heartsuit",!0);w(R,L,se,"","\\Im",!0);w(R,L,se,"","\\spadesuit",!0);w(R,L,se,"","\\S",!0);w(Re,L,se,"","\\S");w(R,L,se,"","\\P",!0);w(Re,L,se,"","\\P");w(R,L,se,"","\\dag");w(Re,L,se,"","\\dag");w(Re,L,se,"","\\textdagger");w(R,L,se,"","\\ddag");w(Re,L,se,"","\\ddag");w(Re,L,se,"","\\textdaggerdbl");w(R,L,fr,"","\\rmoustache",!0);w(R,L,Qr,"","\\lmoustache",!0);w(R,L,fr,"","\\rgroup",!0);w(R,L,Qr,"","\\lgroup",!0);w(R,L,Le,"","\\mp",!0);w(R,L,Le,"","\\ominus",!0);w(R,L,Le,"","\\uplus",!0);w(R,L,Le,"","\\sqcap",!0);w(R,L,Le,"","\\ast");w(R,L,Le,"","\\sqcup",!0);w(R,L,Le,"","\\bigcirc",!0);w(R,L,Le,"","\\bullet",!0);w(R,L,Le,"","\\ddagger");w(R,L,Le,"","\\wr",!0);w(R,L,Le,"","\\amalg");w(R,L,Le,"&","\\And");w(R,L,J,"","\\longleftarrow",!0);w(R,L,J,"","\\Leftarrow",!0);w(R,L,J,"","\\Longleftarrow",!0);w(R,L,J,"","\\longrightarrow",!0);w(R,L,J,"","\\Rightarrow",!0);w(R,L,J,"","\\Longrightarrow",!0);w(R,L,J,"","\\leftrightarrow",!0);w(R,L,J,"","\\longleftrightarrow",!0);w(R,L,J,"","\\Leftrightarrow",!0);w(R,L,J,"","\\Longleftrightarrow",!0);w(R,L,J,"","\\mapsto",!0);w(R,L,J,"","\\longmapsto",!0);w(R,L,J,"","\\nearrow",!0);w(R,L,J,"","\\hookleftarrow",!0);w(R,L,J,"","\\hookrightarrow",!0);w(R,L,J,"","\\searrow",!0);w(R,L,J,"","\\leftharpoonup",!0);w(R,L,J,"","\\rightharpoonup",!0);w(R,L,J,"","\\swarrow",!0);w(R,L,J,"","\\leftharpoondown",!0);w(R,L,J,"","\\rightharpoondown",!0);w(R,L,J,"","\\nwarrow",!0);w(R,L,J,"","\\rightleftharpoons",!0);w(R,Z,J,"","\\nless",!0);w(R,Z,J,"","\\@nleqslant");w(R,Z,J,"","\\@nleqq");w(R,Z,J,"","\\lneq",!0);w(R,Z,J,"","\\lneqq",!0);w(R,Z,J,"","\\@lvertneqq");w(R,Z,J,"","\\lnsim",!0);w(R,Z,J,"","\\lnapprox",!0);w(R,Z,J,"","\\nprec",!0);w(R,Z,J,"","\\npreceq",!0);w(R,Z,J,"","\\precnsim",!0);w(R,Z,J,"","\\precnapprox",!0);w(R,Z,J,"","\\nsim",!0);w(R,Z,J,"","\\@nshortmid");w(R,Z,J,"","\\nmid",!0);w(R,Z,J,"","\\nvdash",!0);w(R,Z,J,"","\\nvDash",!0);w(R,Z,J,"","\\ntriangleleft");w(R,Z,J,"","\\ntrianglelefteq",!0);w(R,Z,J,"","\\subsetneq",!0);w(R,Z,J,"","\\@varsubsetneq");w(R,Z,J,"","\\subsetneqq",!0);w(R,Z,J,"","\\@varsubsetneqq");w(R,Z,J,"","\\ngtr",!0);w(R,Z,J,"","\\@ngeqslant");w(R,Z,J,"","\\@ngeqq");w(R,Z,J,"","\\gneq",!0);w(R,Z,J,"","\\gneqq",!0);w(R,Z,J,"","\\@gvertneqq");w(R,Z,J,"","\\gnsim",!0);w(R,Z,J,"","\\gnapprox",!0);w(R,Z,J,"","\\nsucc",!0);w(R,Z,J,"","\\nsucceq",!0);w(R,Z,J,"","\\succnsim",!0);w(R,Z,J,"","\\succnapprox",!0);w(R,Z,J,"","\\ncong",!0);w(R,Z,J,"","\\@nshortparallel");w(R,Z,J,"","\\nparallel",!0);w(R,Z,J,"","\\nVDash",!0);w(R,Z,J,"","\\ntriangleright");w(R,Z,J,"","\\ntrianglerighteq",!0);w(R,Z,J,"","\\@nsupseteqq");w(R,Z,J,"","\\supsetneq",!0);w(R,Z,J,"","\\@varsupsetneq");w(R,Z,J,"","\\supsetneqq",!0);w(R,Z,J,"","\\@varsupsetneqq");w(R,Z,J,"","\\nVdash",!0);w(R,Z,J,"","\\precneqq",!0);w(R,Z,J,"","\\succneqq",!0);w(R,Z,J,"","\\@nsubseteqq");w(R,Z,Le,"","\\unlhd");w(R,Z,Le,"","\\unrhd");w(R,Z,J,"","\\nleftarrow",!0);w(R,Z,J,"","\\nrightarrow",!0);w(R,Z,J,"","\\nLeftarrow",!0);w(R,Z,J,"","\\nRightarrow",!0);w(R,Z,J,"","\\nleftrightarrow",!0);w(R,Z,J,"","\\nLeftrightarrow",!0);w(R,Z,J,"","\\vartriangle");w(R,Z,se,"","\\hslash");w(R,Z,se,"","\\triangledown");w(R,Z,se,"","\\lozenge");w(R,Z,se,"","\\circledS");w(R,Z,se,"","\\circledR");w(Re,Z,se,"","\\circledR");w(R,Z,se,"","\\measuredangle",!0);w(R,Z,se,"","\\nexists");w(R,Z,se,"","\\mho");w(R,Z,se,"","\\Finv",!0);w(R,Z,se,"","\\Game",!0);w(R,Z,se,"","\\backprime");w(R,Z,se,"","\\blacktriangle");w(R,Z,se,"","\\blacktriangledown");w(R,Z,se,"","\\blacksquare");w(R,Z,se,"","\\blacklozenge");w(R,Z,se,"","\\bigstar");w(R,Z,se,"","\\sphericalangle",!0);w(R,Z,se,"","\\complement",!0);w(R,Z,se,"","\\eth",!0);w(Re,L,se,"","");w(R,Z,se,"","\\diagup");w(R,Z,se,"","\\diagdown");w(R,Z,se,"","\\square");w(R,Z,se,"","\\Box");w(R,Z,se,"","\\Diamond");w(R,Z,se,"","\\yen",!0);w(Re,Z,se,"","\\yen",!0);w(R,Z,se,"","\\checkmark",!0);w(Re,Z,se,"","\\checkmark");w(R,Z,se,"","\\beth",!0);w(R,Z,se,"","\\daleth",!0);w(R,Z,se,"","\\gimel",!0);w(R,Z,se,"","\\digamma",!0);w(R,Z,se,"","\\varkappa");w(R,Z,Qr,"","\\@ulcorner",!0);w(R,Z,fr,"","\\@urcorner",!0);w(R,Z,Qr,"","\\@llcorner",!0);w(R,Z,fr,"","\\@lrcorner",!0);w(R,Z,J,"","\\leqq",!0);w(R,Z,J,"","\\leqslant",!0);w(R,Z,J,"","\\eqslantless",!0);w(R,Z,J,"","\\lesssim",!0);w(R,Z,J,"","\\lessapprox",!0);w(R,Z,J,"","\\approxeq",!0);w(R,Z,Le,"","\\lessdot");w(R,Z,J,"","\\lll",!0);w(R,Z,J,"","\\lessgtr",!0);w(R,Z,J,"","\\lesseqgtr",!0);w(R,Z,J,"","\\lesseqqgtr",!0);w(R,Z,J,"","\\doteqdot");w(R,Z,J,"","\\risingdotseq",!0);w(R,Z,J,"","\\fallingdotseq",!0);w(R,Z,J,"","\\backsim",!0);w(R,Z,J,"","\\backsimeq",!0);w(R,Z,J,"","\\subseteqq",!0);w(R,Z,J,"","\\Subset",!0);w(R,Z,J,"","\\sqsubset",!0);w(R,Z,J,"","\\preccurlyeq",!0);w(R,Z,J,"","\\curlyeqprec",!0);w(R,Z,J,"","\\precsim",!0);w(R,Z,J,"","\\precapprox",!0);w(R,Z,J,"","\\vartriangleleft");w(R,Z,J,"","\\trianglelefteq");w(R,Z,J,"","\\vDash",!0);w(R,Z,J,"","\\Vvdash",!0);w(R,Z,J,"","\\smallsmile");w(R,Z,J,"","\\smallfrown");w(R,Z,J,"","\\bumpeq",!0);w(R,Z,J,"","\\Bumpeq",!0);w(R,Z,J,"","\\geqq",!0);w(R,Z,J,"","\\geqslant",!0);w(R,Z,J,"","\\eqslantgtr",!0);w(R,Z,J,"","\\gtrsim",!0);w(R,Z,J,"","\\gtrapprox",!0);w(R,Z,Le,"","\\gtrdot");w(R,Z,J,"","\\ggg",!0);w(R,Z,J,"","\\gtrless",!0);w(R,Z,J,"","\\gtreqless",!0);w(R,Z,J,"","\\gtreqqless",!0);w(R,Z,J,"","\\eqcirc",!0);w(R,Z,J,"","\\circeq",!0);w(R,Z,J,"","\\triangleq",!0);w(R,Z,J,"","\\thicksim");w(R,Z,J,"","\\thickapprox");w(R,Z,J,"","\\supseteqq",!0);w(R,Z,J,"","\\Supset",!0);w(R,Z,J,"","\\sqsupset",!0);w(R,Z,J,"","\\succcurlyeq",!0);w(R,Z,J,"","\\curlyeqsucc",!0);w(R,Z,J,"","\\succsim",!0);w(R,Z,J,"","\\succapprox",!0);w(R,Z,J,"","\\vartriangleright");w(R,Z,J,"","\\trianglerighteq");w(R,Z,J,"","\\Vdash",!0);w(R,Z,J,"","\\shortmid");w(R,Z,J,"","\\shortparallel");w(R,Z,J,"","\\between",!0);w(R,Z,J,"","\\pitchfork",!0);w(R,Z,J,"","\\varpropto");w(R,Z,J,"","\\blacktriangleleft");w(R,Z,J,"","\\therefore",!0);w(R,Z,J,"","\\backepsilon");w(R,Z,J,"","\\blacktriangleright");w(R,Z,J,"","\\because",!0);w(R,Z,J,"","\\llless");w(R,Z,J,"","\\gggtr");w(R,Z,Le,"","\\lhd");w(R,Z,Le,"","\\rhd");w(R,Z,J,"","\\eqsim",!0);w(R,L,J,"","\\Join");w(R,Z,J,"","\\Doteq",!0);w(R,Z,Le,"","\\dotplus",!0);w(R,Z,Le,"","\\smallsetminus");w(R,Z,Le,"","\\Cap",!0);w(R,Z,Le,"","\\Cup",!0);w(R,Z,Le,"","\\doublebarwedge",!0);w(R,Z,Le,"","\\boxminus",!0);w(R,Z,Le,"","\\boxplus",!0);w(R,Z,Le,"","\\divideontimes",!0);w(R,Z,Le,"","\\ltimes",!0);w(R,Z,Le,"","\\rtimes",!0);w(R,Z,Le,"","\\leftthreetimes",!0);w(R,Z,Le,"","\\rightthreetimes",!0);w(R,Z,Le,"","\\curlywedge",!0);w(R,Z,Le,"","\\curlyvee",!0);w(R,Z,Le,"","\\circleddash",!0);w(R,Z,Le,"","\\circledast",!0);w(R,Z,Le,"","\\centerdot");w(R,Z,Le,"","\\intercal",!0);w(R,Z,Le,"","\\doublecap");w(R,Z,Le,"","\\doublecup");w(R,Z,Le,"","\\boxtimes",!0);w(R,Z,J,"","\\dashrightarrow",!0);w(R,Z,J,"","\\dashleftarrow",!0);w(R,Z,J,"","\\leftleftarrows",!0);w(R,Z,J,"","\\leftrightarrows",!0);w(R,Z,J,"","\\Lleftarrow",!0);w(R,Z,J,"","\\twoheadleftarrow",!0);w(R,Z,J,"","\\leftarrowtail",!0);w(R,Z,J,"","\\looparrowleft",!0);w(R,Z,J,"","\\leftrightharpoons",!0);w(R,Z,J,"","\\curvearrowleft",!0);w(R,Z,J,"","\\circlearrowleft",!0);w(R,Z,J,"","\\Lsh",!0);w(R,Z,J,"","\\upuparrows",!0);w(R,Z,J,"","\\upharpoonleft",!0);w(R,Z,J,"","\\downharpoonleft",!0);w(R,L,J,"","\\origof",!0);w(R,L,J,"","\\imageof",!0);w(R,Z,J,"","\\multimap",!0);w(R,Z,J,"","\\leftrightsquigarrow",!0);w(R,Z,J,"","\\rightrightarrows",!0);w(R,Z,J,"","\\rightleftarrows",!0);w(R,Z,J,"","\\twoheadrightarrow",!0);w(R,Z,J,"","\\rightarrowtail",!0);w(R,Z,J,"","\\looparrowright",!0);w(R,Z,J,"","\\curvearrowright",!0);w(R,Z,J,"","\\circlearrowright",!0);w(R,Z,J,"","\\Rsh",!0);w(R,Z,J,"","\\downdownarrows",!0);w(R,Z,J,"","\\upharpoonright",!0);w(R,Z,J,"","\\downharpoonright",!0);w(R,Z,J,"","\\rightsquigarrow",!0);w(R,Z,J,"","\\leadsto");w(R,Z,J,"","\\Rrightarrow",!0);w(R,Z,J,"","\\restriction");w(R,L,se,"","`");w(R,L,se,"$","\\$");w(Re,L,se,"$","\\$");w(Re,L,se,"$","\\textdollar");w(R,L,se,"%","\\%");w(Re,L,se,"%","\\%");w(R,L,se,"_","\\_");w(Re,L,se,"_","\\_");w(Re,L,se,"_","\\textunderscore");w(R,L,se,"","\\angle",!0);w(R,L,se,"","\\infty",!0);w(R,L,se,"","\\prime");w(R,L,se,"","\\triangle");w(R,L,se,"","\\Gamma",!0);w(R,L,se,"","\\Delta",!0);w(R,L,se,"","\\Theta",!0);w(R,L,se,"","\\Lambda",!0);w(R,L,se,"","\\Xi",!0);w(R,L,se,"","\\Pi",!0);w(R,L,se,"","\\Sigma",!0);w(R,L,se,"","\\Upsilon",!0);w(R,L,se,"","\\Phi",!0);w(R,L,se,"","\\Psi",!0);w(R,L,se,"","\\Omega",!0);w(R,L,se,"A","");w(R,L,se,"B","");w(R,L,se,"E","");w(R,L,se,"Z","");w(R,L,se,"H","");w(R,L,se,"I","");w(R,L,se,"K","");w(R,L,se,"M","");w(R,L,se,"N","");w(R,L,se,"O","");w(R,L,se,"P","");w(R,L,se,"T","");w(R,L,se,"X","");w(R,L,se,"","\\neg",!0);w(R,L,se,"","\\lnot");w(R,L,se,"","\\top");w(R,L,se,"","\\bot");w(R,L,se,"","\\emptyset");w(R,Z,se,"","\\varnothing");w(R,L,Ze,"","\\alpha",!0);w(R,L,Ze,"","\\beta",!0);w(R,L,Ze,"","\\gamma",!0);w(R,L,Ze,"","\\delta",!0);w(R,L,Ze,"","\\epsilon",!0);w(R,L,Ze,"","\\zeta",!0);w(R,L,Ze,"","\\eta",!0);w(R,L,Ze,"","\\theta",!0);w(R,L,Ze,"","\\iota",!0);w(R,L,Ze,"","\\kappa",!0);w(R,L,Ze,"","\\lambda",!0);w(R,L,Ze,"","\\mu",!0);w(R,L,Ze,"","\\nu",!0);w(R,L,Ze,"","\\xi",!0);w(R,L,Ze,"","\\omicron",!0);w(R,L,Ze,"","\\pi",!0);w(R,L,Ze,"","\\rho",!0);w(R,L,Ze,"","\\sigma",!0);w(R,L,Ze,"","\\tau",!0);w(R,L,Ze,"","\\upsilon",!0);w(R,L,Ze,"","\\phi",!0);w(R,L,Ze,"","\\chi",!0);w(R,L,Ze,"","\\psi",!0);w(R,L,Ze,"","\\omega",!0);w(R,L,Ze,"","\\varepsilon",!0);w(R,L,Ze,"","\\vartheta",!0);w(R,L,Ze,"","\\varpi",!0);w(R,L,Ze,"","\\varrho",!0);w(R,L,Ze,"","\\varsigma",!0);w(R,L,Ze,"","\\varphi",!0);w(R,L,Le,"","*",!0);w(R,L,Le,"+","+");w(R,L,Le,"","-",!0);w(R,L,Le,"","\\cdot",!0);w(R,L,Le,"","\\circ",!0);w(R,L,Le,"","\\div",!0);w(R,L,Le,"","\\pm",!0);w(R,L,Le,"","\\times",!0);w(R,L,Le,"","\\cap",!0);w(R,L,Le,"","\\cup",!0);w(R,L,Le,"","\\setminus",!0);w(R,L,Le,"","\\land");w(R,L,Le,"","\\lor");w(R,L,Le,"","\\wedge",!0);w(R,L,Le,"","\\vee",!0);w(R,L,se,"","\\surd");w(R,L,Qr,"","\\langle",!0);w(R,L,Qr,"","\\lvert");w(R,L,Qr,"","\\lVert");w(R,L,fr,"?","?");w(R,L,fr,"!","!");w(R,L,fr,"","\\rangle",!0);w(R,L,fr,"","\\rvert");w(R,L,fr,"","\\rVert");w(R,L,J,"=","=");w(R,L,J,":",":");w(R,L,J,"","\\approx",!0);w(R,L,J,"","\\cong",!0);w(R,L,J,"","\\ge");w(R,L,J,"","\\geq",!0);w(R,L,J,"","\\gets");w(R,L,J,">","\\gt",!0);w(R,L,J,"","\\in",!0);w(R,L,J,"","\\@not");w(R,L,J,"","\\subset",!0);w(R,L,J,"","\\supset",!0);w(R,L,J,"","\\subseteq",!0);w(R,L,J,"","\\supseteq",!0);w(R,Z,J,"","\\nsubseteq",!0);w(R,Z,J,"","\\nsupseteq",!0);w(R,L,J,"","\\models");w(R,L,J,"","\\leftarrow",!0);w(R,L,J,"","\\le");w(R,L,J,"","\\leq",!0);w(R,L,J,"<","\\lt",!0);w(R,L,J,"","\\rightarrow",!0);w(R,L,J,"","\\to");w(R,Z,J,"","\\ngeq",!0);w(R,Z,J,"","\\nleq",!0);w(R,L,ms,"","\\ ");w(R,L,ms,"","\\space");w(R,L,ms,"","\\nobreakspace");w(Re,L,ms,"","\\ ");w(Re,L,ms,""," ");w(Re,L,ms,"","\\space");w(Re,L,ms,"","\\nobreakspace");w(R,L,ms,null,"\\nobreak");w(R,L,ms,null,"\\allowbreak");w(R,L,o1,",",",");w(R,L,o1,";",";");w(R,Z,Le,"","\\barwedge",!0);w(R,Z,Le,"","\\veebar",!0);w(R,L,Le,"","\\odot",!0);w(R,L,Le,"","\\oplus",!0);w(R,L,Le,"","\\otimes",!0);w(R,L,se,"","\\partial",!0);w(R,L,Le,"","\\oslash",!0);w(R,Z,Le,"","\\circledcirc",!0);w(R,Z,Le,"","\\boxdot",!0);w(R,L,Le,"","\\bigtriangleup");w(R,L,Le,"","\\bigtriangledown");w(R,L,Le,"","\\dagger");w(R,L,Le,"","\\diamond");w(R,L,Le,"","\\star");w(R,L,Le,"","\\triangleleft");w(R,L,Le,"","\\triangleright");w(R,L,Qr,"{","\\{");w(Re,L,se,"{","\\{");w(Re,L,se,"{","\\textbraceleft");w(R,L,fr,"}","\\}");w(Re,L,se,"}","\\}");w(Re,L,se,"}","\\textbraceright");w(R,L,Qr,"{","\\lbrace");w(R,L,fr,"}","\\rbrace");w(R,L,Qr,"[","\\lbrack",!0);w(Re,L,se,"[","\\lbrack",!0);w(R,L,fr,"]","\\rbrack",!0);w(Re,L,se,"]","\\rbrack",!0);w(R,L,Qr,"(","\\lparen",!0);w(R,L,fr,")","\\rparen",!0);w(Re,L,se,"<","\\textless",!0);w(Re,L,se,">","\\textgreater",!0);w(R,L,Qr,"","\\lfloor",!0);w(R,L,fr,"","\\rfloor",!0);w(R,L,Qr,"","\\lceil",!0);w(R,L,fr,"","\\rceil",!0);w(R,L,se,"\\","\\backslash");w(R,L,se,"","|");w(R,L,se,"","\\vert");w(Re,L,se,"|","\\textbar",!0);w(R,L,se,"","\\|");w(R,L,se,"","\\Vert");w(Re,L,se,"","\\textbardbl");w(Re,L,se,"~","\\textasciitilde");w(Re,L,se,"\\","\\textbackslash");w(Re,L,se,"^","\\textasciicircum");w(R,L,J,"","\\uparrow",!0);w(R,L,J,"","\\Uparrow",!0);w(R,L,J,"","\\downarrow",!0);w(R,L,J,"","\\Downarrow",!0);w(R,L,J,"","\\updownarrow",!0);w(R,L,J,"","\\Updownarrow",!0);w(R,L,Nn,"","\\coprod");w(R,L,Nn,"","\\bigvee");w(R,L,Nn,"","\\bigwedge");w(R,L,Nn,"","\\biguplus");w(R,L,Nn,"","\\bigcap");w(R,L,Nn,"","\\bigcup");w(R,L,Nn,"","\\int");w(R,L,Nn,"","\\intop");w(R,L,Nn,"","\\iint");w(R,L,Nn,"","\\iiint");w(R,L,Nn,"","\\prod");w(R,L,Nn,"","\\sum");w(R,L,Nn,"","\\bigotimes");w(R,L,Nn,"","\\bigoplus");w(R,L,Nn,"","\\bigodot");w(R,L,Nn,"","\\oint");w(R,L,Nn,"","\\oiint");w(R,L,Nn,"","\\oiiint");w(R,L,Nn,"","\\bigsqcup");w(R,L,Nn,"","\\smallint");w(Re,L,gc,"","\\textellipsis");w(R,L,gc,"","\\mathellipsis");w(Re,L,gc,"","\\ldots",!0);w(R,L,gc,"","\\ldots",!0);w(R,L,gc,"","\\@cdots",!0);w(R,L,gc,"","\\ddots",!0);w(R,L,se,"","\\varvdots");w(Re,L,se,"","\\varvdots");w(R,L,Wt,"","\\acute");w(R,L,Wt,"","\\grave");w(R,L,Wt,"","\\ddot");w(R,L,Wt,"~","\\tilde");w(R,L,Wt,"","\\bar");w(R,L,Wt,"","\\breve");w(R,L,Wt,"","\\check");w(R,L,Wt,"^","\\hat");w(R,L,Wt,"","\\vec");w(R,L,Wt,"","\\dot");w(R,L,Wt,"","\\mathring");w(R,L,Ze,"","\\@imath");w(R,L,Ze,"","\\@jmath");w(R,L,se,"","");w(R,L,se,"","");w(Re,L,se,"","\\i",!0);w(Re,L,se,"","\\j",!0);w(Re,L,se,"","\\ss",!0);w(Re,L,se,"","\\ae",!0);w(Re,L,se,"","\\oe",!0);w(Re,L,se,"","\\o",!0);w(Re,L,se,"","\\AE",!0);w(Re,L,se,"","\\OE",!0);w(Re,L,se,"","\\O",!0);w(Re,L,Wt,"","\\'");w(Re,L,Wt,"","\\`");w(Re,L,Wt,"","\\^");w(Re,L,Wt,"","\\~");w(Re,L,Wt,"","\\=");w(Re,L,Wt,"","\\u");w(Re,L,Wt,"","\\.");w(Re,L,Wt,"","\\c");w(Re,L,Wt,"","\\r");w(Re,L,Wt,"","\\v");w(Re,L,Wt,"",'\\"');w(Re,L,Wt,"","\\H");w(Re,L,Wt,"","\\textcircled");var sO={"--":!0,"---":!0,"``":!0,"''":!0};w(Re,L,se,"","--",!0);w(Re,L,se,"","\\textendash");w(Re,L,se,"","---",!0);w(Re,L,se,"","\\textemdash");w(Re,L,se,"","`",!0);w(Re,L,se,"","\\textquoteleft");w(Re,L,se,"","'",!0);w(Re,L,se,"","\\textquoteright");w(Re,L,se,"","``",!0);w(Re,L,se,"","\\textquotedblleft");w(Re,L,se,"","''",!0);w(Re,L,se,"","\\textquotedblright");w(R,L,se,"","\\degree",!0);w(Re,L,se,"","\\degree");w(Re,L,se,"","\\textdegree",!0);w(R,L,se,"","\\pounds");w(R,L,se,"","\\mathsterling",!0);w(Re,L,se,"","\\pounds");w(Re,L,se,"","\\textsterling",!0);w(R,Z,se,"","\\maltese");w(Re,Z,se,"","\\maltese");var GS='0123456789/@."';for(var rv=0;rv<GS.length;rv++){var $S=GS.charAt(rv);w(R,L,se,$S,$S)}var YS='0123456789!@*()-=+";:?/.,';for(var iv=0;iv<YS.length;iv++){var XS=YS.charAt(iv);w(Re,L,se,XS,XS)}var bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var av=0;av<bm.length;av++){var gd=bm.charAt(av);w(R,L,Ze,gd,gd),w(Re,L,se,gd,gd)}w(R,Z,se,"C","");w(Re,Z,se,"C","");w(R,Z,se,"H","");w(Re,Z,se,"H","");w(R,Z,se,"N","");w(Re,Z,se,"N","");w(R,Z,se,"P","");w(Re,Z,se,"P","");w(R,Z,se,"Q","");w(Re,Z,se,"Q","");w(R,Z,se,"R","");w(Re,Z,se,"R","");w(R,Z,se,"Z","");w(Re,Z,se,"Z","");w(R,L,Ze,"h","");w(Re,L,Ze,"h","");var tt="";for(var lr=0;lr<bm.length;lr++){var fn=bm.charAt(lr);tt=String.fromCharCode(55349,56320+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56372+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56424+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56580+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56684+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56736+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56788+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56840+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56944+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),lr<26&&(tt=String.fromCharCode(55349,56632+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt),tt=String.fromCharCode(55349,56476+lr),w(R,L,Ze,fn,tt),w(Re,L,se,fn,tt))}tt="";w(R,L,Ze,"k",tt);w(Re,L,se,"k",tt);for(var sl=0;sl<10;sl++){var no=sl.toString();tt=String.fromCharCode(55349,57294+sl),w(R,L,Ze,no,tt),w(Re,L,se,no,tt),tt=String.fromCharCode(55349,57314+sl),w(R,L,Ze,no,tt),w(Re,L,se,no,tt),tt=String.fromCharCode(55349,57324+sl),w(R,L,Ze,no,tt),w(Re,L,se,no,tt),tt=String.fromCharCode(55349,57334+sl),w(R,L,Ze,no,tt),w(Re,L,se,no,tt)}var A6="";for(var sv=0;sv<A6.length;sv++){var vd=A6.charAt(sv);w(R,L,Ze,vd,vd),w(Re,L,se,vd,vd)}var yd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],KS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],VW=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var c=Math.floor((o-119808)/26);return[yd[c][2],yd[c][l]]}else if(120782<=o&&o<=120831){var h=Math.floor((o-120782)/10);return[KS[h][2],KS[h][l]]}else{if(o===120485||o===120486)return[yd[0][2],yd[0][l]];if(120486<o&&o<120782)return["",""];throw new Ne("Unsupported character: "+e)}},l1=function(e,n,r){return jt[r][e]&&jt[r][e].replace&&(e=jt[r][e].replace),{value:e,metrics:Y7(e,n,r)}},Oi=function(e,n,r,i,o){var l=l1(e,n,r),c=l.metrics;e=l.value;var h;if(c){var f=c.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),h=new yi(e,c.height,c.depth,f,c.skew,c.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),h=new yi(e,0,0,0,0,0,o);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},LW=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&l1(e,"Main-Bold",n).metrics?Oi(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||jt[n][e].font==="main"?Oi(e,"Main-Regular",n,r,i):Oi(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},qW=function(e,n,r,i,o){return o!=="textord"&&l1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},PW=function(e,n,r){var i=e.mode,o=e.text,l=["mord"],c=i==="math"||i==="text"&&n.font,h=c?n.font:n.fontFamily,f="",m="";if(o.charCodeAt(0)===55349&&([f,m]=VW(o,i)),f.length>0)return Oi(o,f,i,n,l.concat(m));if(h){var p,v;if(h==="boldsymbol"){var b=qW(o,i,n,l,r);p=b.fontName,v=[b.fontClass]}else c?(p=uO[h].fontName,v=[h]):(p=_d(h,n.fontWeight,n.fontShape),v=[h,n.fontWeight,n.fontShape]);if(l1(o,p,i).metrics)return Oi(o,p,i,n,l.concat(v));if(sO.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var x=[],S=0;S<o.length;S++)x.push(Oi(o[S],p,i,n,l.concat(v)));return lO(x)}}if(r==="mathord")return Oi(o,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var E=jt[i][o]&&jt[i][o].font;if(E==="ams"){var C=_d("amsrm",n.fontWeight,n.fontShape);return Oi(o,C,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(E==="main"||!E){var O=_d("textrm",n.fontWeight,n.fontShape);return Oi(o,O,i,n,l.concat(n.fontWeight,n.fontShape))}else{var A=_d(E,n.fontWeight,n.fontShape);return Oi(o,A,i,n,l.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},BW=(t,e)=>{if(So(t.classes)!==So(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},UW=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof yi&&r instanceof yi&&BW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},K7=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var l=e.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Sr=function(e,n,r,i){var o=new Rh(e,n,r,i);return K7(o),o},oO=(t,e,n,r)=>new Rh(t,e,n,r),jW=function(e,n,r){var i=Sr([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},HW=function(e,n,r,i){var o=new X7(e,n,r,i);return K7(o),o},lO=function(e){var n=new Ch(e);return K7(n),n},FW=function(e,n){return e instanceof Ch?Sr([],[e],n):e},GW=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,l=1;l<n.length;l++){var c=-n[l].shift-o-n[l].elem.depth,h=c-(n[l-1].elem.height+n[l-1].elem.depth);o=o+c,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var v=e.children[p];m-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},$W=function(e,n){for(var{children:r,depth:i}=GW(e),o=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var h=c.elem;o=Math.max(o,h.maxFontSize,h.height)}}o+=2;var f=Sr(["pstrut"],[]);f.style.height=ke(o);for(var m=[],p=i,v=i,b=i,x=0;x<r.length;x++){var S=r[x];if(S.type==="kern")b+=S.size;else{var E=S.elem,C=S.wrapperClasses||[],O=S.wrapperStyle||{},A=Sr(C,[f,E],void 0,O);A.style.top=ke(-o-b-E.depth),S.marginLeft&&(A.style.marginLeft=S.marginLeft),S.marginRight&&(A.style.marginRight=S.marginRight),m.push(A),b+=E.height+E.depth}p=Math.min(p,b),v=Math.max(v,b)}var D=Sr(["vlist"],m);D.style.height=ke(v);var j;if(p<0){var q=Sr([],[]),I=Sr(["vlist"],[q]);I.style.height=ke(-p);var M=Sr(["vlist-s"],[new yi("")]);j=[Sr(["vlist-r"],[D,M]),Sr(["vlist-r"],[I])]}else j=[Sr(["vlist-r"],[D])];var k=Sr(["vlist-t"],j);return j.length===2&&k.classes.push("vlist-t2"),k.height=v,k.depth=-p,k},YW=(t,e)=>{var n=Sr(["mspace"],[],e),r=nn(t,e);return n.style.marginRight=ke(r),n},_d=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},uO={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},cO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},XW=function(e,n){var[r,i,o]=cO[e],l=new Eo(r),c=new us([l],{width:ke(i),height:ke(o),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),h=oO(["overlay"],[c],n);return h.height=o,h.style.height=ke(o),h.style.width=ke(i),h},de={fontMap:uO,makeSymbol:Oi,mathsym:LW,makeSpan:Sr,makeSvgSpan:oO,makeLineSpan:jW,makeAnchor:HW,makeFragment:lO,wrapFragment:FW,makeVList:$W,makeOrd:PW,makeGlue:YW,staticSvg:XW,svgData:cO,tryCombineChars:UW},tn={number:3,unit:"mu"},ol={number:4,unit:"mu"},Ka={number:5,unit:"mu"},KW={mord:{mop:tn,mbin:ol,mrel:Ka,minner:tn},mop:{mord:tn,mop:tn,mrel:Ka,minner:tn},mbin:{mord:ol,mop:ol,mopen:ol,minner:ol},mrel:{mord:Ka,mop:Ka,mopen:Ka,minner:Ka},mopen:{},mclose:{mop:tn,mbin:ol,mrel:Ka,minner:tn},mpunct:{mord:tn,mop:tn,mrel:Ka,mopen:tn,mclose:tn,mpunct:tn,minner:tn},minner:{mord:tn,mop:tn,mbin:ol,mrel:Ka,mopen:tn,mpunct:tn,minner:tn}},QW={mord:{mop:tn},mop:{mord:tn,mop:tn},mbin:{},mrel:{},mopen:{},mclose:{mop:tn},mpunct:{},minner:{mop:tn}},hO={},wm={},xm={};function ze(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},h=0;h<n.length;++h)hO[n[h]]=c;e&&(o&&(wm[e]=o),l&&(xm[e]=l))}function Nl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Sm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},_n=function(e){return e.type==="ordgroup"?e.body:[e]},cs=de.makeSpan,ZW=["leftmost","mbin","mopen","mrel","mop","mpunct"],WW=["rightmost","mrel","mclose","mpunct"],JW={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},eJ={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ln=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],l=0;l<e.length;l++){var c=St(e[l],n);if(c instanceof Ch){var h=c.children;o.push(...h)}else o.push(c)}if(de.tryCombineChars(o),!r)return o;var f=n;if(e.length===1){var m=e[0];m.type==="sizing"?f=n.havingSize(m.size):m.type==="styling"&&(f=n.havingStyle(JW[m.style]))}var p=cs([i[0]||"leftmost"],[],n),v=cs([i[1]||"rightmost"],[],n),b=r==="root";return QS(o,(x,S)=>{var E=S.classes[0],C=x.classes[0];E==="mbin"&&WW.includes(C)?S.classes[0]="mord":C==="mbin"&&ZW.includes(E)&&(x.classes[0]="mord")},{node:p},v,b),QS(o,(x,S)=>{var E=C6(S),C=C6(x),O=E&&C?x.hasClass("mtight")?QW[E][C]:KW[E][C]:null;if(O)return de.makeGlue(O,f)},{node:p},v,b),o},QS=function t(e,n,r,i,o){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=fO(c);if(h){t(h.children,n,r,null,o);continue}var f=!c.hasClass("mspace");if(f){var m=n(c,r.node);m&&(r.insertAfter?r.insertAfter(m):(e.unshift(m),l++))}f?r.node=c:o&&c.hasClass("newline")&&(r.node=cs(["leftmost"])),r.insertAfter=(p=>v=>{e.splice(p+1,0,v),l++})(l)}i&&e.pop()},fO=function(e){return e instanceof Ch||e instanceof X7||e instanceof Rh&&e.hasClass("enclosing")?e:null},tJ=function t(e,n){var r=fO(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},C6=function(e,n){return e?(n&&(e=tJ(e,n)),eJ[e.classes[0]]||null):null},sh=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return cs(n.concat(r))},St=function(e,n,r){if(!e)return cs();if(wm[e.type]){var i=wm[e.type](e,n);if(r&&n.size!==r.size){i=cs(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function bd(t,e){var n=cs(["base"],t,e),r=cs(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function R6(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Ln(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var h=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(h=!0);h||(o.push(bd(l,e)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(bd(l,e)),l=[]),o.push(r[c]));l.length>0&&o.push(bd(l,e));var f;n?(f=bd(Ln(n,e,!0)),f.classes=["tag"],o.push(f)):i&&o.push(i);var m=cs(["katex-html"],o);if(m.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=ke(m.height+m.depth),m.depth&&(p.style.verticalAlign=ke(-m.depth))}return m}function dO(t){return new Ch(t)}let Gr=class{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=So(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof oa&&this.children[r+1]instanceof oa){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof oa;)i+=this.children[++r].toText();e.appendChild(new oa(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ct.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ct.escape(So(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}};class oa{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ct.escape(this.toText())}toText(){return this.text}}class nJ{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:Gr,TextNode:oa,SpaceNode:nJ,newDocumentFragment:dO},_i=function(e,n,r){return jt[n][e]&&jt[n][e].replace&&e.charCodeAt(0)!==55349&&!(sO.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=jt[n][e].replace),new Ie.TextNode(e)},Q7=function(e){return e.length===1?e[0]:new Ie.MathNode("mrow",e)},Z7=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;jt[i][o]&&jt[i][o].replace&&(o=jt[i][o].replace);var l=de.fontMap[r].fontName;return Y7(o,l,i)?de.fontMap[r].variant:null};function ov(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof oa&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof oa&&n.text===","}else return!1}var Nr=function(e,n,r){if(e.length===1){var i=Bt(e[0],n);return r&&i instanceof Gr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],l,c=0;c<e.length;c++){var h=Bt(e[c],n);if(h instanceof Gr&&l instanceof Gr){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(ov(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&ov(l))h.children=[...l.children,...h.children],o.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||ov(l))){var f=h.children[0];f instanceof Gr&&f.type==="mn"&&(f.children=[...l.children,...f.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof oa&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof oa&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),o.pop())}}}o.push(h),l=h}return o},To=function(e,n,r){return Q7(Nr(e,n,r))},Bt=function(e,n){if(!e)return new Ie.MathNode("mrow");if(xm[e.type]){var r=xm[e.type](e,n);return r}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function ZS(t,e,n,r,i){var o=Nr(t,n),l;o.length===1&&o[0]instanceof Gr&&["mrow","mtable"].includes(o[0].type)?l=o[0]:l=new Ie.MathNode("mrow",o);var c=new Ie.MathNode("annotation",[new Ie.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ie.MathNode("semantics",[l,c]),f=new Ie.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return de.makeSpan([m],[f])}var mO=function(e){return new Qa({style:e.displayMode?We.DISPLAY:We.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},pO=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=de.makeSpan(r,[e])}return e},rJ=function(e,n,r){var i=mO(r),o;if(r.output==="mathml")return ZS(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=R6(e,i);o=de.makeSpan(["katex"],[l])}else{var c=ZS(e,n,i,r.displayMode,!1),h=R6(e,i);o=de.makeSpan(["katex"],[c,h])}return pO(o,r)},iJ=function(e,n,r){var i=mO(r),o=R6(e,i),l=de.makeSpan(["katex"],[o]);return pO(l,r)},aJ={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},sJ=function(e){var n=new Ie.MathNode("mo",[new Ie.TextNode(aJ[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},oJ={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},lJ=function(e){return e.type==="ordgroup"?e.body.length:1},uJ=function(e,n){function r(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var f=e,m=lJ(f.base),p,v,b;if(m>5)h==="widehat"||h==="widecheck"?(p=420,c=2364,b=.42,v=h+"4"):(p=312,c=2340,b=.34,v="tilde4");else{var x=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][x],p=[0,239,300,360,420][x],b=[0,.24,.3,.3,.36,.42][x],v=h+x):(c=[0,600,1033,2339,2340][x],p=[0,260,286,306,312][x],b=[0,.26,.286,.3,.306,.34][x],v="tilde"+x)}var S=new Eo(v),E=new us([S],{width:"100%",height:ke(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[E],n),minWidth:0,height:b}}else{var C=[],O=oJ[h],[A,D,j]=O,q=j/1e3,I=A.length,M,k;if(I===1){var H=O[3];M=["hide-tail"],k=[H]}else if(I===2)M=["halfarrow-left","halfarrow-right"],k=["xMinYMin","xMaxYMin"];else if(I===3)M=["brace-left","brace-center","brace-right"],k=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+I+" children.");for(var V=0;V<I;V++){var U=new Eo(A[V]),P=new us([U],{width:"400em",height:ke(q),viewBox:"0 0 "+c+" "+j,preserveAspectRatio:k[V]+" slice"}),K=de.makeSvgSpan([M[V]],[P],n);if(I===1)return{span:K,minWidth:D,height:q};K.style.height=ke(q),C.push(K)}return{span:de.makeSpan(["stretchy"],C,n),minWidth:D,height:q}}}var{span:i,minWidth:o,height:l}=r();return i.height=l,i.style.height=ke(l),o>0&&(i.style.minWidth=ke(o)),i},cJ=function(e,n,r,i,o){var l,c=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=de.makeSpan(["stretchy",n],[],o),n==="fbox"){var h=o.color&&o.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new T6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new T6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new us(f,{width:"100%",height:ke(c)});l=de.makeSvgSpan([],[m],o)}return l.height=c,l.style.height=ke(c),l},hs={encloseSpan:cJ,mathMLnode:sJ,svgSpan:uJ};function ct(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function W7(t){var e=u1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function u1(t){return t&&(t.type==="atom"||zW.hasOwnProperty(t.type))?t:null}var J7=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=ct(t.base,"accent"),n=r.base,t.base=n,i=DW(St(t,e)),t.base=r):(r=ct(t,"accent"),n=r.base);var o=St(n,e.havingCrampedStyle()),l=r.isShifty&&Ct.isCharacterBox(n),c=0;if(l){var h=Ct.getBaseElem(n),f=St(h,e.havingCrampedStyle());c=FS(f).skew}var m=r.label==="\\c",p=m?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),v;if(r.isStretchy)v=hs.svgSpan(r,e),v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},e);else{var b,x;r.label==="\\vec"?(b=de.staticSvg("vec",e),x=de.svgData.vec[1]):(b=de.makeOrd({mode:r.mode,text:r.label},e,"textord"),b=FS(b),b.italic=0,x=b.width,m&&(p+=b.depth)),v=de.makeSpan(["accent-body"],[b]);var S=r.label==="\\textcircled";S&&(v.classes.push("accent-full"),p=o.height);var E=c;S||(E-=x/2),v.style.left=ke(E),r.label==="\\textcircled"&&(v.style.top=".2em"),v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:v}]},e)}var C=de.makeSpan(["mord","accent"],[v],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},gO=(t,e)=>{var n=t.isStretchy?hs.mathMLnode(t.label):new Ie.MathNode("mo",[_i(t.label,t.mode)]),r=new Ie.MathNode("mover",[Bt(t.base,e),n]);return r.setAttribute("accent","true"),r},hJ=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Sm(e[0]),r=!hJ.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:J7,mathmlBuilder:gO});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:J7,mathmlBuilder:gO});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=St(t.base,e),r=hs.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=hs.mathMLnode(t.label),r=new Ie.MathNode("munder",[Bt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var wd=t=>{var e=new Ie.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=de.wrapFragment(St(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=de.wrapFragment(St(t.below,r,e),e),l.classes.push(o+"-arrow-pad"));var c=hs.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:p}]},e)}else m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=hs.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=wd(Bt(t.body,e));if(t.below){var o=wd(Bt(t.below,e));r=new Ie.MathNode("munderover",[n,o,i])}else r=new Ie.MathNode("mover",[n,i])}else if(t.below){var l=wd(Bt(t.below,e));r=new Ie.MathNode("munder",[n,l])}else r=wd(),r=new Ie.MathNode("mover",[n,r]);return r}});var fJ=de.makeSpan;function vO(t,e){var n=Ln(t.body,e,!0);return fJ([t.mclass],n,e)}function yO(t,e){var n,r=Nr(t.body,e);return t.mclass==="minner"?n=new Ie.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ie.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ie.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:_n(i),isCharacterBox:Ct.isCharacterBox(i)}},htmlBuilder:vO,mathmlBuilder:yO});var c1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:c1(e[0]),body:_n(e[1]),isCharacterBox:Ct.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],l;r!=="\\stackrel"?l=c1(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:_n(i)},h={type:"supsub",mode:o.mode,base:c,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:Ct.isCharacterBox(h)}},htmlBuilder:vO,mathmlBuilder:yO});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:c1(e[0]),body:_n(e[0])}},htmlBuilder(t,e){var n=Ln(t.body,e,!0),r=de.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Nr(t.body,e),r=new Ie.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var dJ={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},WS=()=>({type:"styling",body:[],mode:"math",style:"display"}),JS=t=>t.type==="textord"&&t.text==="@",mJ=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function pJ(t,e,n){var r=dJ[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function gJ(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var l=e[o],c=WS(),h=0;h<l.length;h++)if(!JS(l[h]))c.body.push(l[h]);else{r.push(c),h+=1;var f=W7(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var v=!0,b=h+1;b<l.length;b++){if(mJ(l[b],f)){v=!1,h=b;break}if(JS(l[b]))throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(v)throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new Ne('Expected one of "<>AV=|." after @',l[h]);var x=pJ(f,m,t),S={type:"styling",body:[x],mode:"math",style:"display"};r.push(S),c=WS()}o%2===0?r.push(c):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=de.wrapFragment(St(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ie.MathNode("mrow",[Bt(t.label,e)]);return n=new Ie.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ie.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=de.wrapFragment(St(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ie.MathNode("mrow",[Bt(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ct(e[0],"ordgroup"),i=r.body,o="",l=0;l<i.length;l++){var c=ct(i[l],"textord");o+=c.text}var h=parseInt(o),f;if(isNaN(h))throw new Ne("\\@char has non-numeric argument "+o);if(h<0||h>=1114111)throw new Ne("\\@char with invalid code point "+o);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var _O=(t,e)=>{var n=Ln(t.body,e.withColor(t.color),!1);return de.makeFragment(n)},bO=(t,e)=>{var n=Nr(t.body,e.withColor(t.color)),r=new Ie.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ct(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:_n(i)}},htmlBuilder:_O,mathmlBuilder:bO});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ct(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:_O,mathmlBuilder:bO});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&ct(i,"size").value}},htmlBuilder(t,e){var n=de.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(nn(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ie.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(nn(t.size,e)))),n}});var I6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},wO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ne("Expected a control sequence",t);return e},vJ=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},xO=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(I6[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=I6[r.text]),ct(e.parseFunction(),"internal");throw new Ne("Invalid token after macro prefix",r)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ne("Expected a control sequence",r);for(var o=0,l,c=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new Ne('Argument number "'+r.text+'" out of order');o++,c.push([])}else{if(r.text==="EOF")throw new Ne("Expected a macro definition");c[o].push(r.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:o,delimiters:c},n===I6[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=wO(e.gullet.popToken());e.gullet.consumeSpaces();var i=vJ(e);return xO(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=wO(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return xO(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var A0=function(e,n,r){var i=jt.math[e]&&jt.math[e].replace,o=Y7(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},e_=function(e,n,r,i){var o=r.havingBaseStyle(n),l=de.makeSpan(i.concat(o.sizingClasses(r)),[e],r),c=o.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=o.sizeMultiplier,l},SO=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(o),e.height-=o,e.depth+=o},yJ=function(e,n,r,i,o,l){var c=de.makeSymbol(e,"Main-Regular",o,i),h=e_(c,n,i,l);return r&&SO(h,i,n),h},_J=function(e,n,r,i){return de.makeSymbol(e,"Size"+n+"-Regular",r,i)},EO=function(e,n,r,i,o,l){var c=_J(e,n,o,i),h=e_(de.makeSpan(["delimsizing","size"+n],[c],i),We.TEXT,i,l);return r&&SO(h,i,We.TEXT),h},lv=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=de.makeSpan(["delimsizinginner",i],[de.makeSpan([],[de.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},uv=function(e,n,r){var i=sa["Size4-Regular"][e.charCodeAt(0)]?sa["Size4-Regular"][e.charCodeAt(0)][4]:sa["Size1-Regular"][e.charCodeAt(0)][4],o=new Eo("inner",EW(e,Math.round(1e3*n))),l=new us([o],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=de.makeSvgSpan([],[l],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},N6=.008,xd={type:"kern",size:-1*N6},bJ=["|","\\lvert","\\rvert","\\vert"],wJ=["\\|","\\lVert","\\rVert","\\Vert"],TO=function(e,n,r,i,o,l){var c,h,f,m,p="",v=0;c=f=m=e,h=null;var b="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):bJ.includes(e)?(f="",p="vert",v=333):wJ.includes(e)?(f="",p="doublevert",v=556):e==="["||e==="\\lbrack"?(c="",f="",m="",b="Size4-Regular",p="lbrack",v=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",b="Size4-Regular",p="rbrack",v=667):e==="\\lfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="lfloor",v=667):e==="\\lceil"||e===""?(c="",f=m="",b="Size4-Regular",p="lceil",v=667):e==="\\rfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="rfloor",v=667):e==="\\rceil"||e===""?(c="",f=m="",b="Size4-Regular",p="rceil",v=667):e==="("||e==="\\lparen"?(c="",f="",m="",b="Size4-Regular",p="lparen",v=875):e===")"||e==="\\rparen"?(c="",f="",m="",b="Size4-Regular",p="rparen",v=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",b="Size4-Regular");var x=A0(c,b,o),S=x.height+x.depth,E=A0(f,b,o),C=E.height+E.depth,O=A0(m,b,o),A=O.height+O.depth,D=0,j=1;if(h!==null){var q=A0(h,b,o);D=q.height+q.depth,j=2}var I=S+A+D,M=Math.max(0,Math.ceil((n-I)/(j*C))),k=I+M*j*C,H=i.fontMetrics().axisHeight;r&&(H*=i.sizeMultiplier);var V=k/2-H,U=[];if(p.length>0){var P=k-S-A,K=Math.round(k*1e3),te=TW(p,Math.round(P*1e3)),$=new Eo(p,te),W=(v/1e3).toFixed(3)+"em",re=(K/1e3).toFixed(3)+"em",oe=new us([$],{width:W,height:re,viewBox:"0 0 "+v+" "+K}),ye=de.makeSvgSpan([],[oe],i);ye.height=K/1e3,ye.style.width=W,ye.style.height=re,U.push({type:"elem",elem:ye})}else{if(U.push(lv(m,b,o)),U.push(xd),h===null){var Y=k-S-A+2*N6;U.push(uv(f,Y,i))}else{var ee=(k-S-A-D)/2+2*N6;U.push(uv(f,ee,i)),U.push(xd),U.push(lv(h,b,o)),U.push(xd),U.push(uv(f,ee,i))}U.push(xd),U.push(lv(c,b,o))}var pe=i.havingBaseStyle(We.TEXT),Q=de.makeVList({positionType:"bottom",positionData:V,children:U},pe);return e_(de.makeSpan(["delimsizing","mult"],[Q],pe),We.TEXT,i,l)},cv=80,hv=.08,fv=function(e,n,r,i,o){var l=SW(e,i,r),c=new Eo(e,l),h=new us([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[h],o)},xJ=function(e,n){var r=n.havingBaseSizing(),i=IO("\\surd",e*r.sizeMultiplier,RO,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,h=0,f=0,m=0,p;return i.type==="small"?(m=1e3+1e3*l+cv,e<1?o=1:e<1.4&&(o=.7),h=(1+l+hv)/o,f=(1+l)/o,c=fv("sqrtMain",h,m,l,n),c.style.minWidth="0.853em",p=.833/o):i.type==="large"?(m=(1e3+cv)*P0[i.size],f=(P0[i.size]+l)/o,h=(P0[i.size]+l+hv)/o,c=fv("sqrtSize"+i.size,h,m,l,n),c.style.minWidth="1.02em",p=1/o):(h=e+l+hv,f=e+l,m=Math.floor(1e3*e+l)+cv,c=fv("sqrtTall",h,m,l,n),c.style.minWidth="0.742em",p=1.056),c.height=f,c.style.height=ke(h),{span:c,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},AO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],SJ=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],CO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],P0=[0,1.2,1.8,2.4,3],EJ=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),AO.includes(e)||CO.includes(e))return EO(e,n,!1,r,i,o);if(SJ.includes(e))return TO(e,P0[n],!1,r,i,o);throw new Ne("Illegal delimiter: '"+e+"'")},TJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],AJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],RO=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],CJ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},IO=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var c=A0(e,CJ(r[l]),"math"),h=c.height+c.depth;if(r[l].type==="small"){var f=i.havingBaseStyle(r[l].style);h*=f.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},NO=function(e,n,r,i,o,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;CO.includes(e)?c=TJ:AO.includes(e)?c=RO:c=AJ;var h=IO(e,n,c,i);return h.type==="small"?yJ(e,h.style,r,i,o,l):h.type==="large"?EO(e,h.size,r,i,o,l):TO(e,n,r,i,o,l)},RJ=function(e,n,r,i,o,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(n-c,r+c),p=Math.max(m/500*h,2*m-f);return NO(e,p,!0,i,o,l)},rs={sqrtImage:xJ,sizedDelim:EJ,sizeToMaxHeight:P0,customSizedDelim:NO,leftRightDelim:RJ},eE={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},IJ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function h1(t,e){var n=u1(t);if(n&&IJ.includes(n.text))return n;throw n?new Ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ne("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=h1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:eE[t.funcName].size,mclass:eE[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?de.makeSpan([t.mclass]):rs.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(_i(t.delim,t.mode));var n=new Ie.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(rs.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function tE(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:h1(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=h1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=ct(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{tE(t);for(var n=Ln(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=sh(e,["mopen"]):c=rs.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(c),o)for(var h=1;h<n.length;h++){var f=n[h],m=f.isMiddle;m&&(n[h]=rs.leftRightDelim(m.delim,r,i,m.options,t.mode,[]))}var p;if(t.right===".")p=sh(e,["mclose"]);else{var v=t.rightColor?e.withColor(t.rightColor):e;p=rs.leftRightDelim(t.right,r,i,v,t.mode,["mclose"])}return n.push(p),de.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{tE(t);var n=Nr(t.body,e);if(t.left!=="."){var r=new Ie.MathNode("mo",[_i(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ie.MathNode("mo",[_i(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Q7(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=h1(e[0],t);if(!t.parser.leftrightDepth)throw new Ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=sh(e,[]);else{n=rs.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?_i("|","text"):_i(t.delim,t.mode),r=new Ie.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var t_=(t,e)=>{var n=de.wrapFragment(St(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,l=0,c=Ct.isCharacterBox(t.body);if(r==="sout")o=de.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var h=nn({number:.6,unit:"pt"},e),f=nn({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=n.height+n.depth+h+f;n.style.paddingLeft=ke(p/2+h);var v=Math.floor(1e3*p*i),b=wW(v),x=new us([new Eo("phase",b)],{width:"400em",height:ke(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});o=de.makeSvgSpan(["hide-tail"],[x],e),o.style.height=ke(p),l=n.depth+h+f}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,E=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),E=S):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*C,E=Math.max(0,.25-n.depth)):(S=c?.2:0,E=S),o=hs.encloseSpan(n,r,S,E,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=ke(C)):r==="angl"&&C!==.049&&(o.style.borderTopWidth=ke(C),o.style.borderRightWidth=ke(C)),l=n.depth+E,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var O;if(t.backgroundColor)O=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];O=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(O.height=n.height,O.depth=n.depth),/cancel/.test(r)&&!c?de.makeSpan(["mord","cancel-lap"],[O],e):de.makeSpan(["mord"],[O],e)},n_=(t,e)=>{var n=0,r=new Ie.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Bt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ct(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:l}},htmlBuilder:t_,mathmlBuilder:n_});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ct(e[0],"color-token").color,l=ct(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:o,body:c}},htmlBuilder:t_,mathmlBuilder:n_});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:t_,mathmlBuilder:n_});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var MO={};function ya(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<n.length;++h)MO[n[h]]=c;o&&(wm[e]=o),l&&(xm[e]=l)}var kO={};function G(t,e){kO[t]=e}function nE(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var f1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ne("{"+t.envName+"} can be used only in display mode.")};function r_(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Ro(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:f,emptySingleRow:m,maxNumCols:p,leqno:v}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Ne("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var x=[],S=[x],E=[],C=[],O=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function D(){O&&(t.gullet.macros.get("\\df@tag")?(O.push(t.subparse([new Xr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):O.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),C.push(nE(t));;){var j=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),j={type:"ordgroup",mode:t.mode,body:j},n&&(j={type:"styling",mode:t.mode,style:n,body:[j]}),x.push(j);var q=t.fetch().text;if(q==="&"){if(p&&x.length===p){if(f||c)throw new Ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(q==="\\end"){D(),x.length===1&&j.type==="styling"&&j.body[0].body.length===0&&(S.length>1||!m)&&S.pop(),C.length<S.length+1&&C.push([]);break}else if(q==="\\\\"){t.consume();var I=void 0;t.gullet.future().text!==" "&&(I=t.parseSizeGroup(!0)),E.push(I?I.value:null),D(),C.push(nE(t)),x=[],S.push(x),A()}else throw new Ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:S,cols:o,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:c,tags:O,leqno:v}}function i_(t){return t.slice(0,1)==="d"?"display":"text"}var _a=function(e,n){var r,i,o=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(o),f=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,v=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(We.SCRIPT).sizeMultiplier;v=.2778*(b/n.sizeMultiplier)}var x=e.colSeparationType==="CD"?nn({number:3,unit:"ex"},n):12*p,S=3*p,E=e.arraystretch*x,C=.7*E,O=.3*E,A=0;function D(Ut){for(var st=0;st<Ut.length;++st)st>0&&(A+=.25),f.push({pos:A,isDashed:Ut[st]})}for(D(l[0]),r=0;r<e.body.length;++r){var j=e.body[r],q=C,I=O;c<j.length&&(c=j.length);var M=new Array(j.length);for(i=0;i<j.length;++i){var k=St(j[i],n);I<k.depth&&(I=k.depth),q<k.height&&(q=k.height),M[i]=k}var H=e.rowGaps[r],V=0;H&&(V=nn(H,n),V>0&&(V+=O,I<V&&(I=V),V=0)),e.addJot&&(I+=S),M.height=q,M.depth=I,A+=q,M.pos=A,A+=I+V,h[r]=M,D(l[r+1])}var U=A/2+n.fontMetrics().axisHeight,P=e.cols||[],K=[],te,$,W=[];if(e.tags&&e.tags.some(Ut=>Ut))for(r=0;r<o;++r){var re=h[r],oe=re.pos-U,ye=e.tags[r],Y=void 0;ye===!0?Y=de.makeSpan(["eqn-num"],[],n):ye===!1?Y=de.makeSpan([],[],n):Y=de.makeSpan([],Ln(ye,n,!0),n),Y.depth=re.depth,Y.height=re.height,W.push({type:"elem",elem:Y,shift:oe})}for(i=0,$=0;i<c||$<P.length;++i,++$){for(var ee=P[$]||{},pe=!0;ee.type==="separator";){if(pe||(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(n.fontMetrics().doubleRuleSep),K.push(te)),ee.separator==="|"||ee.separator===":"){var Q=ee.separator==="|"?"solid":"dashed",ie=de.makeSpan(["vertical-separator"],[],n);ie.style.height=ke(A),ie.style.borderRightWidth=ke(m),ie.style.borderRightStyle=Q,ie.style.margin="0 "+ke(-m/2);var ce=A-U;ce&&(ie.style.verticalAlign=ke(-ce)),K.push(ie)}else throw new Ne("Invalid separator type: "+ee.separator);$++,ee=P[$]||{},pe=!1}if(!(i>=c)){var ge=void 0;(i>0||e.hskipBeforeAndAfter)&&(ge=Ct.deflt(ee.pregap,v),ge!==0&&(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(ge),K.push(te)));var be=[];for(r=0;r<o;++r){var Ce=h[r],Ve=Ce[i];if(Ve){var He=Ce.pos-U;Ve.depth=Ce.depth,Ve.height=Ce.height,be.push({type:"elem",elem:Ve,shift:He})}}be=de.makeVList({positionType:"individualShift",children:be},n),be=de.makeSpan(["col-align-"+(ee.align||"c")],[be]),K.push(be),(i<c-1||e.hskipBeforeAndAfter)&&(ge=Ct.deflt(ee.postgap,v),ge!==0&&(te=de.makeSpan(["arraycolsep"],[]),te.style.width=ke(ge),K.push(te)))}}if(h=de.makeSpan(["mtable"],K),f.length>0){for(var je=de.makeLineSpan("hline",n,m),Pe=de.makeLineSpan("hdashline",n,m),Ge=[{type:"elem",elem:h,shift:0}];f.length>0;){var Be=f.pop(),it=Be.pos-U;Be.isDashed?Ge.push({type:"elem",elem:Pe,shift:it}):Ge.push({type:"elem",elem:je,shift:it})}h=de.makeVList({positionType:"individualShift",children:Ge},n)}if(W.length===0)return de.makeSpan(["mord"],[h],n);var $e=de.makeVList({positionType:"individualShift",children:W},n);return $e=de.makeSpan(["tag"],[$e],n),de.makeFragment([h,$e])},NJ={c:"center ",l:"left ",r:"right "},ba=function(e,n){for(var r=[],i=new Ie.MathNode("mtd",[],["mtr-glue"]),o=new Ie.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],f=0;f<c.length;f++)h.push(new Ie.MathNode("mtd",[Bt(c[f],n)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(o):h.push(o)),r.push(new Ie.MathNode("mtr",h))}var m=new Ie.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ke(p));var v="",b="";if(e.cols&&e.cols.length>0){var x=e.cols,S="",E=!1,C=0,O=x.length;x[0].type==="separator"&&(v+="top ",C=1),x[x.length-1].type==="separator"&&(v+="bottom ",O-=1);for(var A=C;A<O;A++)x[A].type==="align"?(b+=NJ[x[A].align],E&&(S+="none "),E=!0):x[A].type==="separator"&&E&&(S+=x[A].separator==="|"?"solid ":"dashed ",E=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(S)&&m.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var D=e.cols||[],j="",q=1;q<D.length;q++)j+=q%2?"0em ":"1em ";m.setAttribute("columnspacing",j.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var I="",M=e.hLinesBeforeRow;v+=M[0].length>0?"left ":"",v+=M[M.length-1].length>0?"right ":"";for(var k=1;k<M.length-1;k++)I+=M[k].length===0?"none ":M[k][0]?"dashed ":"solid ";return/[sd]/.test(I)&&m.setAttribute("rowlines",I.trim()),v!==""&&(m=new Ie.MathNode("menclose",[m]),m.setAttribute("notation",v.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ie.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},DO=function(e,n){e.envName.indexOf("ed")===-1&&f1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",l=Ro(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:r_(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",p=0;p<n[0].body.length;p++){var v=ct(n[0].body[p],"textord");m+=v.text}c=Number(m),h=c*2}var b=!h;l.body.forEach(function(C){for(var O=1;O<C.length;O+=2){var A=ct(C[O],"styling"),D=ct(A.body[0],"ordgroup");D.body.unshift(f)}if(b)h<C.length&&(h=C.length);else{var j=C.length/2;if(c<j)throw new Ne("Too many math in a row: "+("expected "+c+", but got "+j),C[0])}});for(var x=0;x<h;++x){var S="r",E=0;x%2===1?S="l":x>0&&b&&(E=1),r[x]={type:"align",align:S,pregap:E,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};ya({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=u1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=W7(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Ne("Unknown column alignment: "+h,l)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Ro(t.parser,o,i_(t.envName))},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Ro(t.parser,r,i_(t.envName)),l=Math.max(0,...o.body.map(c=>c.length));return o.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Ro(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=u1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=W7(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Ne("Unknown column alignment: "+h,l)});if(i.length>1)throw new Ne("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Ro(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new Ne("{subarray} can contain only one column");return o},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Ro(t.parser,e,i_(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:DO,htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&f1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:r_(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Ro(t.parser,e,"display")},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:DO,htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){f1(t);var e={autoTag:r_(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Ro(t.parser,e,"display")},htmlBuilder:_a,mathmlBuilder:ba});ya({type:"array",names:["CD"],props:{numArgs:0},handler(t){return f1(t),gJ(t.parser)},htmlBuilder:_a,mathmlBuilder:ba});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ne(t.funcName+" valid only within array environment")}});var rE=MO;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ne("Invalid environment name",i);for(var o="",l=0;l<i.body.length;++l)o+=ct(i.body[l],"textord").text;if(r==="\\begin"){if(!rE.hasOwnProperty(o))throw new Ne("No such environment: "+o,i);var c=rE[o],{args:h,optArgs:f}=n.parseArguments("\\begin{"+o+"}",c),m={mode:n.mode,envName:o,parser:n},p=c.handler(m,h,f);n.expect("\\end",!1);var v=n.nextToken,b=ct(n.parseFunction(),"environment");if(b.name!==o)throw new Ne("Mismatch: \\begin{"+o+"} matched by \\end{"+b.name+"}",v);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var OO=(t,e)=>{var n=t.font,r=e.withFont(n);return St(t.body,r)},zO=(t,e)=>{var n=t.font,r=e.withFont(n);return Bt(t.body,r)},iE={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=Sm(e[0]),o=r;return o in iE&&(o=iE[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:OO,mathmlBuilder:zO});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Ct.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:c1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,l=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:o,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:OO,mathmlBuilder:zO});var VO=(t,e)=>{var n=e;return t==="display"?n=n.id>=We.SCRIPT.id?n.text():We.DISPLAY:t==="text"&&n.size===We.DISPLAY.size?n=We.TEXT:t==="script"?n=We.SCRIPT:t==="scriptscript"&&(n=We.SCRIPTSCRIPT),n},a_=(t,e)=>{var n=VO(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var l=St(t.numer,o,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}o=e.havingStyle(i);var f=St(t.denom,o,e),m,p,v;t.hasBarLine?(t.barSize?(p=nn(t.barSize,e),m=de.makeLineSpan("frac-line",e,p)):m=de.makeLineSpan("frac-line",e),p=m.height,v=m.height):(m=null,p=0,v=e.fontMetrics().defaultRuleThickness);var b,x,S;n.size===We.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?x=3*v:x=7*v,S=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,x=v):(b=e.fontMetrics().num3,x=3*v),S=e.fontMetrics().denom2);var E;if(m){var O=e.fontMetrics().axisHeight;b-l.depth-(O+.5*p)<x&&(b+=x-(b-l.depth-(O+.5*p))),O-.5*p-(f.height-S)<x&&(S+=x-(O-.5*p-(f.height-S)));var A=-(O-.5*p);E=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var C=b-l.depth-(f.height-S);C<x&&(b+=.5*(x-C),S+=.5*(x-C)),E=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:l,shift:-b}]},e)}o=e.havingStyle(n),E.height*=o.sizeMultiplier/e.sizeMultiplier,E.depth*=o.sizeMultiplier/e.sizeMultiplier;var D;n.size===We.DISPLAY.size?D=e.fontMetrics().delim1:n.size===We.SCRIPTSCRIPT.size?D=e.havingStyle(We.SCRIPT).fontMetrics().delim2:D=e.fontMetrics().delim2;var j,q;return t.leftDelim==null?j=sh(e,["mopen"]):j=rs.customSizedDelim(t.leftDelim,D,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?q=de.makeSpan([]):t.rightDelim==null?q=sh(e,["mclose"]):q=rs.customSizedDelim(t.rightDelim,D,!0,e.havingStyle(n),t.mode,["mclose"]),de.makeSpan(["mord"].concat(o.sizingClasses(e)),[j,de.makeSpan(["mfrac"],[E]),q],e)},s_=(t,e)=>{var n=new Ie.MathNode("mfrac",[Bt(t.numer,e),Bt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=nn(t.barSize,e);n.setAttribute("linethickness",ke(r))}var i=VO(t.size,e.style);if(i.size!==e.style.size){n=new Ie.MathNode("mstyle",[n]);var o=i.size===We.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ie.MathNode("mo",[new Ie.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var h=new Ie.MathNode("mo",[new Ie.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return Q7(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],l,c=null,h=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:l,leftDelim:c,rightDelim:h,size:f,barSize:null}},htmlBuilder:a_,mathmlBuilder:s_});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var aE=["display","text","script","scriptscript"],sE=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=Sm(e[0]),l=o.type==="atom"&&o.family==="open"?sE(o.text):null,c=Sm(e[1]),h=c.type==="atom"&&c.family==="close"?sE(c.text):null,f=ct(e[2],"size"),m,p=null;f.isBlank?m=!0:(p=f.value,m=p.number>0);var v="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var x=ct(b.body[0],"textord");v=aE[Number(x.text)]}}else b=ct(b,"textord"),v=aE[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:h,size:v}},htmlBuilder:a_,mathmlBuilder:s_});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ct(e[0],"size").value,token:i}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=sW(ct(e[1],"infix").size),l=e[2],c=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:a_,mathmlBuilder:s_});var LO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?St(t.sup,e.havingStyle(n.sup()),e):St(t.sub,e.havingStyle(n.sub()),e),i=ct(t.base,"horizBrace")):i=ct(t,"horizBrace");var o=St(i.base,e.havingBaseStyle(We.DISPLAY)),l=hs.svgSpan(i,e),c;if(i.isOver?(c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=de.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),r){var h=de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},e):c=de.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},MJ=(t,e)=>{var n=hs.mathMLnode(t.label);return new Ie.MathNode(t.isOver?"mover":"munder",[Bt(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:LO,mathmlBuilder:MJ});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ct(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:_n(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Ln(t.body,e,!1);return de.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=To(t.body,e);return n instanceof Gr||(n=new Gr("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ct(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:_n(c)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:_n(e[0])}},htmlBuilder(t,e){var n=Ln(t.body,e,!1);return de.makeFragment(n)},mathmlBuilder(t,e){return new Ie.MathNode("mrow",Nr(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=ct(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(r){case"\\htmlClass":h.class=o,c={command:"\\htmlClass",class:o};break;case"\\htmlId":h.id=o,c={command:"\\htmlId",id:o};break;case"\\htmlStyle":h.style=o,c={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var f=o.split(","),m=0;m<f.length;m++){var p=f[m],v=p.indexOf("=");if(v<0)throw new Ne("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,v),x=p.slice(v+1);h["data-"+b.trim()]=x}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:h,body:_n(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Ln(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=de.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>To(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:_n(e[0]),mathml:_n(e[1])}},htmlBuilder:(t,e)=>{var n=Ln(t.html,e,!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>To(t.mathml,e)});var dv=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!nO(r))throw new Ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var h=ct(n[0],"raw").string,f=h.split(","),m=0;m<f.length;m++){var p=f[m].split("=");if(p.length===2){var v=p[1].trim();switch(p[0].trim()){case"alt":c=v;break;case"width":i=dv(v);break;case"height":o=dv(v);break;case"totalheight":l=dv(v);break;default:throw new Ne("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=ct(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:o,totalheight:l,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=nn(t.height,e),r=0;t.totalheight.number>0&&(r=nn(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=nn(t.width,e));var o={height:ke(n+r)};i>0&&(o.width=ke(i)),r>0&&(o.verticalAlign=ke(-r));var l=new MW(t.src,t.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=nn(t.height,e),i=0;if(t.totalheight.number>0&&(i=nn(t.totalheight,e)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),t.width.number>0){var o=nn(t.width,e);n.setAttribute("width",ke(o))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ct(e[0],"size");if(n.settings.strict){var o=r[1]==="m",l=i.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return de.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=nn(t.dimension,e);return new Ie.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=de.makeSpan([],[St(t.body,e)]),n=de.makeSpan(["inner"],[n],e)):n=de.makeSpan(["inner"],[St(t.body,e)]);var r=de.makeSpan(["fix"],[]),i=de.makeSpan([t.alignment],[n,r],e),o=de.makeSpan(["strut"]);return o.style.height=ke(i.height+i.depth),i.depth&&(o.style.verticalAlign=ke(-i.depth)),i.children.unshift(o),i=de.makeSpan(["thinbox"],[i],e),de.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Bt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ne("Mismatched "+t.funcName)}});var oE=(t,e)=>{switch(e.style.size){case We.DISPLAY.size:return t.display;case We.TEXT.size:return t.text;case We.SCRIPT.size:return t.script;case We.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:_n(e[0]),text:_n(e[1]),script:_n(e[2]),scriptscript:_n(e[3])}},htmlBuilder:(t,e)=>{var n=oE(t,e),r=Ln(n,e,!1);return de.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=oE(t,e);return To(n,e)}});var qO=(t,e,n,r,i,o,l)=>{t=de.makeSpan([],[t]);var c=n&&Ct.isCharacterBox(n),h,f;if(e){var m=St(e,r.havingStyle(i.sup()),r);f={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var p=St(n,r.havingStyle(i.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var v;if(f&&h){var b=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;v=de.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-o)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var x=t.height-l;v=de.makeVList({positionType:"top",positionData:x,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-o)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+l;v=de.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var E=[v];if(h&&o!==0&&!c){var C=de.makeSpan(["mspace"],[],r);C.style.marginRight=ke(o),E.unshift(C)}return de.makeSpan(["mop","op-limits"],E,r)},PO=["\\smallint"],vc=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ct(t.base,"op"),i=!0):o=ct(t,"op");var l=e.style,c=!1;l.size===We.DISPLAY.size&&o.symbol&&!PO.includes(o.name)&&(c=!0);var h;if(o.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(m=o.name.slice(1),o.name=m==="oiint"?"\\iint":"\\iiint"),h=de.makeSymbol(o.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=h.italic,v=de.staticSvg(m+"Size"+(c?"2":"1"),e);h=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},e),o.name="\\"+m,h.classes.unshift("mop"),h.italic=p}}else if(o.body){var b=Ln(o.body,e,!0);b.length===1&&b[0]instanceof yi?(h=b[0],h.classes[0]="mop"):h=de.makeSpan(["mop"],b,e)}else{for(var x=[],S=1;S<o.name.length;S++)x.push(de.mathsym(o.name[S],o.mode,e));h=de.makeSpan(["mop"],x,e)}var E=0,C=0;return(h instanceof yi||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(E=(h.height-h.depth)/2-e.fontMetrics().axisHeight,C=h.italic),i?qO(h,n,r,e,l,C,E):(E&&(h.style.position="relative",h.style.top=ke(E)),h)},Ih=(t,e)=>{var n;if(t.symbol)n=new Gr("mo",[_i(t.name,t.mode)]),PO.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Gr("mo",Nr(t.body,e));else{n=new Gr("mi",[new oa(t.name.slice(1))]);var r=new Gr("mo",[_i("","text")]);t.parentIsSupSub?n=new Gr("mrow",[n,r]):n=dO([n,r])}return n},kJ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=kJ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:vc,mathmlBuilder:Ih});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:_n(r)}},htmlBuilder:vc,mathmlBuilder:Ih});var DJ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:vc,mathmlBuilder:Ih});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:vc,mathmlBuilder:Ih});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=DJ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:vc,mathmlBuilder:Ih});var BO=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=ct(t.base,"operatorname"),i=!0):o=ct(t,"operatorname");var l;if(o.body.length>0){for(var c=o.body.map(p=>{var v=p.text;return typeof v=="string"?{type:"textord",mode:p.mode,text:v}:p}),h=Ln(c,e.withFont("mathrm"),!0),f=0;f<h.length;f++){var m=h[f];m instanceof yi&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=de.makeSpan(["mop"],h,e)}else l=de.makeSpan(["mop"],[],e);return i?qO(l,n,r,e,e.style,0,0):l},OJ=(t,e)=>{for(var n=Nr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof Ie.SpaceNode))if(o instanceof Ie.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof Ie.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(m=>m.toText()).join("");n=[new Ie.TextNode(c)]}var h=new Ie.MathNode("mi",n);h.setAttribute("mathvariant","normal");var f=new Ie.MathNode("mo",[_i("","text")]);return t.parentIsSupSub?new Ie.MathNode("mrow",[h,f]):Ie.newDocumentFragment([h,f])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:_n(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:BO,mathmlBuilder:OJ});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Nl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?de.makeFragment(Ln(t.body,e,!1)):de.makeSpan(["mord"],Ln(t.body,e,!0),e)},mathmlBuilder(t,e){return To(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=St(t.body,e.havingCrampedStyle()),r=de.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return de.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("mover",[Bt(t.body,e),n]);return r.setAttribute("accent","true"),r}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:_n(r)}},htmlBuilder:(t,e)=>{var n=Ln(t.body,e.withPhantom(),!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Nr(t.body,e);return new Ie.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[St(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),de.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Nr(_n(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan(["inner"],[St(t.body,e.withPhantom())]),r=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Nr(_n(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ct(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=St(t.body,e),r=nn(t.dy,e);return de.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mpadded",[Bt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=ct(e[0],"size"),l=ct(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ct(i,"size").value,width:o.value,height:l.value}},htmlBuilder(t,e){var n=de.makeSpan(["mord","rule"],[],e),r=nn(t.width,e),i=nn(t.height,e),o=t.shift?nn(t.shift,e):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=nn(t.width,e),r=nn(t.height,e),i=t.shift?nn(t.shift,e):0,o=e.color&&e.getColor()||"black",l=new Ie.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(r));var c=new Ie.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function UO(t,e,n){for(var r=Ln(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+e.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return de.makeFragment(r)}var lE=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],zJ=(t,e)=>{var n=e.havingSize(t.size);return UO(t.body,n,e)};ze({type:"sizing",names:lE,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:lE.indexOf(r)+1,body:o}},htmlBuilder:zJ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Nr(t.body,n),i=new Ie.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,l=n[0]&&ct(n[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var f=l.body[h];if(c=f.text,c==="t")i=!0;else if(c==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var m=e[0];return{type:"smash",mode:r.mode,body:m,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[St(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return de.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Bt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=St(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=de.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<We.TEXT.id&&(o=e.fontMetrics().xHeight);var l=i+o/4,c=n.height+n.depth+l+i,{span:h,ruleWidth:f,advanceWidth:m}=rs.sqrtImage(c,e),p=h.height-f;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var v=h.height-n.height-l-f;n.style.paddingLeft=ke(m);var b=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+v)},{type:"elem",elem:h},{type:"kern",size:f}]},e);if(t.index){var x=e.havingStyle(We.SCRIPTSCRIPT),S=St(t.index,x,e),E=.6*(b.height-b.depth),C=de.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:S}]},e),O=de.makeSpan(["root"],[C]);return de.makeSpan(["mord","sqrt"],[O,b],e)}else return de.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ie.MathNode("mroot",[Bt(n,e),Bt(r,e)]):new Ie.MathNode("msqrt",[Bt(n,e)])}});var uE={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:o}},htmlBuilder(t,e){var n=uE[t.style],r=e.havingStyle(n).withFont("");return UO(t.body,r,e)},mathmlBuilder(t,e){var n=uE[t.style],r=e.havingStyle(n),i=Nr(t.body,r),o=new Ie.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return o.setAttribute("scriptlevel",c[0]),o.setAttribute("displaystyle",c[1]),o}});var VJ=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===We.DISPLAY.size||r.alwaysHandleSupSub);return i?vc:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===We.DISPLAY.size||r.limits);return o?BO:null}else{if(r.type==="accent")return Ct.isCharacterBox(r.base)?J7:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?LO:null}else return null}else return null};Nl({type:"supsub",htmlBuilder(t,e){var n=VJ(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,l=St(r,e),c,h,f=e.fontMetrics(),m=0,p=0,v=r&&Ct.isCharacterBox(r);if(i){var b=e.havingStyle(e.style.sup());c=St(i,b,e),v||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(o){var x=e.havingStyle(e.style.sub());h=St(o,x,e),v||(p=l.depth+x.fontMetrics().subDrop*x.sizeMultiplier/e.sizeMultiplier)}var S;e.style===We.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var E=e.sizeMultiplier,C=ke(.5/f.ptPerEm/E),O=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof yi||A)&&(O=ke(-l.italic))}var D;if(c&&h){m=Math.max(m,S,c.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var j=f.defaultRuleThickness,q=4*j;if(m-c.depth-(h.height-p)<q){p=q-(m-c.depth)+h.height;var I=.8*f.xHeight-(m-c.depth);I>0&&(m+=I,p-=I)}var M=[{type:"elem",elem:h,shift:p,marginRight:C,marginLeft:O},{type:"elem",elem:c,shift:-m,marginRight:C}];D=de.makeVList({positionType:"individualShift",children:M},e)}else if(h){p=Math.max(p,f.sub1,h.height-.8*f.xHeight);var k=[{type:"elem",elem:h,marginLeft:O,marginRight:C}];D=de.makeVList({positionType:"shift",positionData:p,children:k},e)}else if(c)m=Math.max(m,S,c.depth+.25*f.xHeight),D=de.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var H=C6(l,"right")||"mord";return de.makeSpan([H],[l,de.makeSpan(["msupsub"],[D])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[Bt(t.base,e)];t.sub&&o.push(Bt(t.sub,e)),t.sup&&o.push(Bt(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===We.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===We.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===We.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===We.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===We.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===We.DISPLAY)?l="mover":l="msup"}return new Ie.MathNode(l,o)}});Nl({type:"atom",htmlBuilder(t,e){return de.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[_i(t.text,t.mode)]);if(t.family==="bin"){var r=Z7(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var jO={mi:"italic",mn:"normal",mtext:"normal"};Nl({type:"mathord",htmlBuilder(t,e){return de.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ie.MathNode("mi",[_i(t.text,t.mode,e)]),r=Z7(t,e)||"italic";return r!==jO[n.type]&&n.setAttribute("mathvariant",r),n}});Nl({type:"textord",htmlBuilder(t,e){return de.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=_i(t.text,t.mode,e),r=Z7(t,e)||"normal",i;return t.mode==="text"?i=new Ie.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ie.MathNode("mn",[n]):t.text==="\\prime"?i=new Ie.MathNode("mo",[n]):i=new Ie.MathNode("mi",[n]),r!==jO[i.type]&&i.setAttribute("mathvariant",r),i}});var mv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},pv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Nl({type:"spacing",htmlBuilder(t,e){if(pv.hasOwnProperty(t.text)){var n=pv[t.text].className||"";if(t.mode==="text"){var r=de.makeOrd(t,e,"textord");return r.classes.push(n),r}else return de.makeSpan(["mspace",n],[de.mathsym(t.text,t.mode,e)],e)}else{if(mv.hasOwnProperty(t.text))return de.makeSpan(["mspace",mv[t.text]],[],e);throw new Ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(pv.hasOwnProperty(t.text))n=new Ie.MathNode("mtext",[new Ie.TextNode("")]);else{if(mv.hasOwnProperty(t.text))return new Ie.MathNode("mspace");throw new Ne('Unknown type of space "'+t.text+'"')}return n}});var cE=()=>{var t=new Ie.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Nl({type:"tag",mathmlBuilder(t,e){var n=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[cE(),new Ie.MathNode("mtd",[To(t.body,e)]),cE(),new Ie.MathNode("mtd",[To(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var hE={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},fE={"\\textbf":"textbf","\\textmd":"textmd"},LJ={"\\textit":"textit","\\textup":"textup"},dE=(t,e)=>{var n=t.font;if(n){if(hE[n])return e.withTextFontFamily(hE[n]);if(fE[n])return e.withTextFontWeight(fE[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(LJ[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:_n(i),font:r}},htmlBuilder(t,e){var n=dE(t,e),r=Ln(t.body,n,!0);return de.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=dE(t,e);return To(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=St(t.body,e),r=de.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("munder",[Bt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=St(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return de.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ie.MathNode("mpadded",[Bt(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=mE(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(de.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(i.sizingClasses(e)),de.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ie.TextNode(mE(t)),r=new Ie.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var mE=t=>t.body.replace(/ /g,t.star?"":""),lo=hO,HO=`[ \r
	]`,qJ="\\\\[a-zA-Z@]+",PJ="\\\\[^\uD800-\uDFFF]",BJ="("+qJ+")"+HO+"*",UJ=`\\\\(
|[ \r	]+
?)[ \r	]*`,M6="[-]",jJ=new RegExp(M6+"+$"),HJ="("+HO+"+)|"+(UJ+"|")+"([!-\\[\\]---]"+(M6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(M6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+BJ)+("|"+PJ+")");class pE{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(HJ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Xr("EOF",new Tr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ne("Unexpected character: '"+e[n]+"'",new Xr(e[n],new Tr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Xr(i,new Tr(this,n,this.tokenRegex.lastIndex))}}class FJ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var GJ=kO;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var gE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=gE[e.text],r==null||r>=n)throw new Ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=gE[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var o_=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ne("\\newcommand's first argument must be a macro name");var o=i[0].text,l=t.isDefined(o);if(l&&!e)throw new Ne("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new Ne("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Ne("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&r||t.macros.set(o,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>o_(t,!1,!0,!1));G("\\renewcommand",t=>o_(t,!0,!1,!1));G("\\providecommand",t=>o_(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});G("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),lo[n],jt.math[n],jt.text[n]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var vE={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in vE?e=vE[n]:(n.slice(0,4)==="\\not"||n in jt.math&&["bin","rel"].includes(jt.math[n].group))&&(e="\\dotsb"),e});var l_={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in l_?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in l_&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in l_?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var FO=ke(sa["Main-Regular"][84][1]-.7*sa["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+FO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+FO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var GO=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=p=>v=>{t&&(v.macros.set("|",l),i.length&&v.macros.set("\\|",c));var b=p;if(!p&&i.length){var x=v.future();x.text==="|"&&(v.popToken(),b=!0)}return{tokens:b?i:r,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...o,...f,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",GO(!1));G("\\bra@set",GO(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var $O={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class $J{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new FJ(GJ,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new pE(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Xr("EOF",r.loc)),this.pushTokens(i),new Xr("",Tr.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,l=0,c=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new Ne("Extra }",o)}else if(o.text==="EOF")throw new Ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[c]:"}")+"'",o);if(e&&r)if((l===0||l===1&&e[c]==="{")&&o.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new Ne("Use of the macro doesn't match its definition",o)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ne("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ne("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var c=o.length-1;c>=0;--c){var h=o[c];if(h.text==="#"){if(c===0)throw new Ne("Incomplete placeholder at end of macro body",h);if(h=o[--c],h.text==="#")o.splice(c+1,1);else if(/^[1-9]$/.test(h.text))o.splice(c,2,...l[+h.text-1]);else throw new Ne("Not a valid argument number",h)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Xr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var c=new pE(i,this.settings),h=[],f=c.lex();f.text!=="EOF";)h.push(f),f=c.lex();h.reverse();var m={tokens:h,numArgs:o};return m}return i}isDefined(e){return this.macros.has(e)||lo.hasOwnProperty(e)||jt.math.hasOwnProperty(e)||jt.text.hasOwnProperty(e)||$O.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:lo.hasOwnProperty(e)&&!lo[e].primitive}}var yE=/^[]/,Sd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),gv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},_E={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class d1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new $J(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Xr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(d1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&lo[i.text]&&lo[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,l,c=e.slice(0,n),h=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?o=c[0]:o={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[o,e[n],l],[]):f=this.callFunction(r,[o,l],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new Ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new Ne("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new Ne("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new Ne("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new Ne("Double superscript",o);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(Sd[o.text]){var f=yE.test(o.text),m=[];for(m.push(new Xr(Sd[o.text])),this.consume();;){var p=this.fetch().text;if(!Sd[p]||yE.test(p)!==f)break;m.unshift(new Xr(Sd[p])),this.consume()}var v=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=lo[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new Ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new Ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new Ne("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(i,o);return this.callFunction(i,l,c,r,e)}callFunction(e,n,r,i,o){var l={funcName:e,parser:this,token:i,breakOnTokenText:o},c=lo[e];if(c&&c.handler)return c.handler(l,n,r);throw new Ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)o.push(f);else if(f!=null)i.push(f);else throw new Ne("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new Ne("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Ne("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",l;(l=this.fetch()).text!=="EOF"&&e.test(o+l.text);)i=l,o+=i.text,this.consume();if(o==="")throw new Ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ne("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!nO(o))throw new Ne("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Tr.range(r,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!$O.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ne("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Tr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Tr.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:Tr.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}_E.hasOwnProperty(n[0])&&!jt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=_E[n[0]]+n.slice(1));var o=jJ.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var l;if(jt[this.mode][n]){this.settings.strict&&this.mode==="math"&&A6.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=jt[this.mode][n].group,h=Tr.range(e),f;if(OW.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:h,text:n}}else f={type:c,mode:this.mode,loc:h,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(tO(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Tr.range(e),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var v=o[0][p];if(!gv[v])throw new Ne("Unknown accent ' "+v+"'",e);var b=gv[v][this.mode]||gv[v].text;if(!b)throw new Ne("Accent "+v+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Tr.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}d1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var u_=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new d1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Xr("\\df@tag")])}]}return i},YO=function(e,n,r){n.textContent="";var i=c_(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),YO=function(){throw new Ne("KaTeX doesn't work in quirks mode.")});var YJ=function(e,n){var r=c_(e,n).toMarkup();return r},XJ=function(e,n){var r=new G7(n);return u_(e,r)},XO=function(e,n,r){if(r.throwOnError||!(e instanceof Ne))throw e;var i=de.makeSpan(["katex-error"],[new yi(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},c_=function(e,n){var r=new G7(n);try{var i=u_(e,r);return rJ(i,e,r)}catch(o){return XO(o,e,r)}},KJ=function(e,n){var r=new G7(n);try{var i=u_(e,r);return iJ(i,e,r)}catch(o){return XO(o,e,r)}},QJ="0.16.27",ZJ={Span:Rh,Anchor:X7,SymbolNode:yi,SvgNode:us,PathNode:Eo,LineNode:T6},WJ={version:QJ,render:YO,renderToString:YJ,ParseError:Ne,SETTINGS_SCHEMA:Bd,__parse:XJ,__renderToDomTree:c_,__renderToHTMLTree:KJ,__setFontMetrics:AW,__defineSymbol:w,__defineFunction:ze,__defineMacro:G,__domTree:ZJ};const Rr=({latex:t})=>{const e=le.useRef(null);return le.useEffect(()=>{if(e.current)try{WJ.render(t,e.current,{throwOnError:!1,displayMode:!1})}catch{e.current.innerText="Invalid LaTeX"}},[t]),B.jsx("span",{ref:e})},JJ=({structureName:t="Algebraic Structure (Alpha)"})=>B.jsxs("div",{className:PS.overlay,children:[B.jsx("h2",{children:B.jsx(Rr,{latex:t})}),B.jsxs("div",{className:PS.legend,children:[B.jsxs("p",{children:[" ",tv.verified.label,": Green"]}),B.jsxs("p",{children:[" ",tv.deprecated.label,": Flashing Yellow"]}),B.jsx("p",{children:" Duplicate Link: Dashed Blue Line"}),B.jsxs("p",{children:[" ",tv.unverified.label,": Red"]})]})]}),eee=({nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:o,nodeTypes:l,title:c="Mathverse Explorer"})=>B.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[B.jsxs(dF,{nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:o,nodeTypes:l,fitView:!0,panOnScroll:!0,selectionOnDrag:!1,panOnDrag:!0,children:[B.jsx(bF,{gap:20,color:"#333"}),B.jsx(CF,{}),B.jsx(BF,{nodeColor:h=>F7[h.data?.status]||"#eee"})]}),B.jsx(JJ,{structureName:c})]}),KO=le.createContext(void 0),yc=()=>{const t=le.useContext(KO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},tee=({children:t})=>{const[e,n]=le.useState(null),[r,i]=le.useState(null),[o,l]=le.useState(!0);le.useEffect(()=>zQ(ev,async p=>{if(n(p),p){const v=Ar(On,"users",p.uid);try{const b=await BK(v);if(b.exists())i(b.data());else{const x={uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,role:"citizen",reputation:1,createdAt:GK()};await gl(v,x),i(x),console.log("New User Profile Created in Firestore via AuthProvider.")}}catch(b){console.error("Error fetching/creating user profile:",b)}}else i(null);l(!1)}),[]);const f={user:e,profile:r,loading:o,signInWithGoogle:async()=>{try{await nZ(ev,QZ)}catch(m){throw console.error("Login Failed:",m),m}},logout:()=>VQ(ev)};return B.jsx(KO.Provider,{value:f,children:!o&&t})},QO=(t,e,n,r)=>{const{user:i}=yc(),[o,l]=le.useState({greenVotes:n,blackVotes:r}),[c,h]=le.useState(null),[f,m]=le.useState(!1);le.useEffect(()=>{l({greenVotes:n,blackVotes:r})},[n,r]),le.useEffect(()=>{if(!i||!t){h(null);return}const v=Ar(On,e,t,"votes",i.uid),b=Vu(v,x=>{if(x.exists()){const S=x.data();S.choice==="green"?h("up"):S.choice==="black"&&h("down")}else h(null)});return()=>b()},[i,t,e]);const p=le.useCallback(async v=>{if(!i){alert("Please sign in to vote!");return}m(!0);const b=Ar(On,e,t),x=Ar(On,e,t,"votes",i.uid);try{await FK(On,async S=>{const E=await S.get(x),C=await S.get(b);if(!C.exists())throw new Error("Document does not exist!");const O=C.data().stats||{greenVotes:0,blackVotes:0},A=E.exists()?E.data().choice:null,D=v==="up"?"green":"black";let j=O.greenVotes,q=O.blackVotes;A===D?(S.delete(x),D==="green"?j--:q--):(S.set(x,{choice:D,timestamp:Date.now()}),A==="green"&&j--,A==="black"&&q--,D==="green"?j++:q++),S.update(b,{stats:{greenVotes:Math.max(0,j),blackVotes:Math.max(0,q)}})})}catch(S){console.error("Voting Transaction Failed:",S),alert("Vote failed. Please check your connection.")}finally{m(!1)}},[i,t,e]);return{stats:o,userVote:c,handleVote:p,isLoading:f}},nee=10,ree=-10,ZO=t=>{if(t.status==="deprecated")return"deprecated";if(t.status==="deadend")return"deadend";const e=t.stats?.greenVotes||0,n=t.stats?.blackVotes||0,r=e-n;return r>=nee&&t.status==="unverified"?"verified":r<=ree?"trash":t.status},iee=({data:t})=>{const{stats:e,userVote:n,handleVote:r,isLoading:i}=QO(t.id,"nodes",t.stats?.greenVotes||0,t.stats?.blackVotes||0),l=`math-node-container status-${ZO({...t,stats:e})}`,c=`vote-btn ${n==="up"?"active-up":""}`,h=`vote-btn ${n==="down"?"active-down":""}`;return B.jsxs("div",{className:l,children:[B.jsx(Wu,{type:"target",position:Ye.Top,style:{bottom:"0px"}}),B.jsx("div",{className:"math-display-area",children:B.jsx(Rr,{latex:t.displayLatex})}),B.jsxs("div",{className:"math-node-stats",children:[B.jsxs("button",{className:c,onClick:f=>{f.stopPropagation(),r("up")},disabled:i,title:"Vote Valid (Green)",children:[" ",e.greenVotes]}),B.jsxs("button",{className:h,onClick:f=>{f.stopPropagation(),r("down")},disabled:i,title:"Vote Invalid (Black)",children:[" ",e.blackVotes]})]}),B.jsx(Wu,{type:"source",position:Ye.Bottom,style:{bottom:"-25px"}})]})},aee="_panel_qsoe1_4",see="_sectionInherited_qsoe1_25",oee="_sectionCurrent_qsoe1_32",lee="_headerRow_qsoe1_38",uee="_headerTitle_qsoe1_48",cee="_closeBtn_qsoe1_53",hee="_sectionTitle_qsoe1_68",fee="_localPropHeader_qsoe1_76",dee="_proposeBtn_qsoe1_90",mee="_adminZone_qsoe1_107",pee="_deleteBtn_qsoe1_116",gee="_toggleContainer_qsoe1_154",vee="_toggleContent_qsoe1_158",yee="_axiomList_qsoe1_166",_ee="_emptyState_qsoe1_176",bee="_axiomBox_qsoe1_183",wee="_latexBold_qsoe1_197",xee="_theoremHeaderRow_qsoe1_202",See="_theoremName_qsoe1_209",Eee="_miniDeleteBtn_qsoe1_260",vn={panel:aee,sectionInherited:see,sectionCurrent:oee,headerRow:lee,headerTitle:uee,closeBtn:cee,sectionTitle:hee,localPropHeader:fee,proposeBtn:dee,adminZone:mee,deleteBtn:pee,toggleContainer:gee,toggleContent:vee,axiomList:yee,emptyState:_ee,axiomBox:bee,latexBold:wee,theoremHeaderRow:xee,theoremName:See,miniDeleteBtn:Eee},Tee=(t,e,n,r)=>{const i=e.find(c=>c.id===t),o={inheritedAxioms:[],inheritedTheorems:[],localTheorems:r.filter(c=>c.structureNodeId===t),localAxiom:void 0};if(!i)return o;o.localAxiom=n.find(c=>c.id===i.axiomId);let l=i.parentId;for(;l;){const c=e.find(m=>m.id===l);if(!c)break;const h=n.find(m=>m.id===c.axiomId);h&&o.inheritedAxioms.unshift(h);const f=r.filter(m=>m.structureNodeId===c.id);o.inheritedTheorems.unshift(...f),l=c.parentId}return o},Aee="_overlay_1snfz_2",Cee="_container_1snfz_16",Ree="_header_1snfz_28",Iee="_closeButton_1snfz_43",Nee="_body_1snfz_51",Mee="_description_1snfz_61",kee="_contextBox_1snfz_68",Dee="_contextLabel_1snfz_76",Oee="_separator_1snfz_84",zee="_group_1snfz_93",Vee="_label_1snfz_99",Lee="_input_1snfz_105",qee="_textarea_1snfz_105",Pee="_preview_1snfz_113",Bee="_footer_1snfz_125",Uee="_cancelBtn_1snfz_134",jee="_submitBtn_1snfz_142",Hee="_drawerOverlay_1snfz_158",Fee="_drawer_1snfz_158",Gee="_drawerHeader_1snfz_184",$ee="_drawerSearch_1snfz_199",Yee="_drawerBody_1snfz_205",Xee="_libraryItem_1snfz_214",Kee="_libraryItemHeader_1snfz_231",Qee="_libraryItemTag_1snfz_240",Zee="_inputGroupRow_1snfz_260",Wee="_browseBtn_1snfz_267",Jee="_inputLocked_1snfz_286",ete="_suggestionsDropdown_1snfz_298",tte="_suggestionItem_1snfz_312",nte="_suggestionDetail_1snfz_328",Oe={overlay:Aee,container:Cee,header:Ree,closeButton:Iee,body:Nee,description:Mee,contextBox:kee,contextLabel:Dee,separator:Oee,group:zee,label:Vee,input:Lee,textarea:qee,preview:Pee,footer:Bee,cancelBtn:Uee,submitBtn:jee,drawerOverlay:Hee,drawer:Fee,drawerHeader:Gee,drawerSearch:$ee,drawerBody:Yee,libraryItem:Xee,libraryItemHeader:Kee,libraryItemTag:Qee,inputGroupRow:Zee,browseBtn:Wee,inputLocked:Jee,suggestionsDropdown:ete,suggestionItem:tte,suggestionDetail:nte},rte=({isOpen:t,onClose:e,onSelect:n,availableTheorems:r})=>{const[i,o]=le.useState(""),l=le.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.name.toLowerCase().includes(c)||h.statementLatex.toLowerCase().includes(c))},[r,i]);return t?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Oe.drawerOverlay,onClick:e}),B.jsxs("div",{className:Oe.drawer,children:[B.jsxs("div",{className:Oe.drawerHeader,children:[B.jsx("h3",{children:"Theorem Library"}),B.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),B.jsx("div",{className:Oe.drawerSearch,children:B.jsx("input",{className:Oe.input,placeholder:"Search theorems (e.g. 'Identity')...",value:i,onChange:c=>o(c.target.value),autoFocus:!0})}),B.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>B.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to use this theorem as a template",children:[B.jsxs("div",{className:Oe.libraryItemHeader,children:[B.jsx("strong",{children:c.name}),B.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),B.jsx("div",{className:Oe.preview,style:{marginBottom:"5px"},children:B.jsx(Rr,{latex:c.statementLatex})}),B.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Proof: ",c.proofLatex]})]},c.id)):B.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No theorems found matching "',i,'"']})})]})]}):null},ite=({structureName:t,availableTheorems:e,onClose:n,onSubmit:r})=>{const[i,o]=le.useState(""),[l,c]=le.useState(""),[h,f]=le.useState(""),[m,p]=le.useState(!1),[v,b]=le.useState(!1),x=le.useMemo(()=>{if(!i)return[];const C=i.toLowerCase();return e.filter(O=>O.name.toLowerCase().includes(C)).slice(0,5)},[i,e]),S=C=>{o(C.name),c(C.statementLatex),f(C.proofLatex),b(!1),p(!1)},E=()=>{!i||!l||!h||(r({name:i,statementLatex:l,proofLatex:h}),n())};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Oe.overlay,children:B.jsxs("div",{className:Oe.container,children:[B.jsxs("div",{className:Oe.header,children:[B.jsx("h2",{children:"Propose Theorem"}),B.jsx("button",{className:Oe.closeButton,onClick:n,children:""})]}),B.jsxs("div",{className:Oe.body,children:[B.jsxs("p",{className:Oe.description,children:["Add a new property or theorem to ",B.jsx("strong",{children:t}),"."]}),B.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[B.jsx("label",{className:Oe.label,children:"1. Theorem Name"}),B.jsxs("div",{className:Oe.inputGroupRow,children:[B.jsx("input",{className:Oe.input,placeholder:"e.g. Uniqueness of Identity",value:i,onChange:C=>{o(C.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),autoComplete:"off"}),B.jsx("button",{className:Oe.browseBtn,onClick:()=>p(!0),title:"Browse Theorem Library",children:""})]}),v&&x.length>0&&B.jsx("div",{className:Oe.suggestionsDropdown,children:x.map(C=>B.jsx("div",{className:Oe.suggestionItem,onClick:()=>S(C),children:B.jsx("strong",{children:C.name})},C.id))})]}),B.jsxs("div",{className:Oe.group,children:[B.jsx("label",{className:Oe.label,children:"Statement (LaTeX)"}),B.jsx("textarea",{className:Oe.textarea,rows:2,value:l,onChange:C=>c(C.target.value),placeholder:"\\forall g \\in G, ..."}),B.jsx("div",{className:Oe.preview,children:B.jsx(Rr,{latex:l||"Preview..."})})]}),B.jsxs("div",{className:Oe.group,children:[B.jsx("label",{className:Oe.label,children:"Proof (LaTeX)"}),B.jsx("textarea",{className:Oe.textarea,rows:4,value:h,onChange:C=>f(C.target.value),placeholder:"Suppose e and e' are identities..."}),B.jsx("div",{className:Oe.preview,children:B.jsx(Rr,{latex:h||"Preview..."})})]})]}),B.jsxs("div",{className:Oe.footer,children:[B.jsx("button",{className:Oe.cancelBtn,onClick:n,children:"Cancel"}),B.jsx("button",{className:Oe.submitBtn,onClick:E,children:"Propose Theorem"})]})]})}),B.jsx(rte,{isOpen:m,onClose:()=>p(!1),onSelect:S,availableTheorems:e})]})},ate=t=>{const{profile:e}=yc(),{node:n,allNodes:r,allAxioms:i,allTheorems:o,onClose:l,onAddTheorem:c,onDelete:h,onDeleteTheorem:f}=t,m=Tee(n.id,r,i,o),[p,v]=le.useState(!1);return B.jsxs("div",{className:vn.panel,children:[B.jsxs("div",{className:vn.headerRow,children:[B.jsx("h3",{className:vn.headerTitle,children:"Structure Details"}),B.jsx("button",{onClick:l,className:vn.closeBtn,children:"Close "})]}),B.jsxs("section",{className:vn.sectionInherited,children:[B.jsx("h4",{className:vn.sectionTitle,children:"Heritage"}),B.jsx("div",{className:vn.toggleContainer,children:B.jsxs("div",{className:vn.toggleContent,children:[B.jsx("strong",{children:"Inherited Axioms:"}),m.inheritedAxioms.length>0?B.jsx("ul",{className:vn.axiomList,children:m.inheritedAxioms.map(b=>B.jsx("li",{children:b.canonicalName},b.id))}):B.jsx("span",{className:vn.emptyState,children:" None"})]})})]}),B.jsxs("section",{className:vn.sectionCurrent,children:[B.jsx("h3",{children:n.displayLatex}),m.localAxiom&&B.jsxs("div",{className:vn.axiomBox,children:[B.jsx("strong",{children:"Axiom: "}),B.jsx("span",{className:vn.latexBold,children:B.jsx(Rr,{latex:m.localAxiom.defaultLatex})})]}),B.jsxs("div",{className:vn.localPropHeader,children:[B.jsx("h4",{children:"Theorems:"}),B.jsx("button",{onClick:()=>v(!0),className:vn.proposeBtn,children:"+ Add Theorem"})]}),m.localTheorems.length>0?m.localTheorems.map(b=>B.jsx(ste,{theorem:b,onDelete:f},b.id)):B.jsx("p",{className:vn.emptyState,children:"No properties defined yet."})]}),p&&B.jsx(ite,{structureName:n.displayLatex,availableTheorems:o,onClose:()=>v(!1),onSubmit:c}),e?.role==="admin"&&B.jsx("div",{className:vn.adminZone,children:B.jsx("button",{onClick:()=>h(n.id),className:vn.deleteBtn,children:"DELETE STRUCTURE"})})]})},ste=({theorem:t,onDelete:e})=>{const{profile:n}=yc(),{stats:r,userVote:i,handleVote:o,isLoading:l}=QO(t.id,"theorems",t.stats.greenVotes,t.stats.blackVotes),h=`theorem-item status-${ZO({...t,stats:r})}`,f=`vote-btn ${i==="up"?"active-up":""}`,m=`vote-btn ${i==="down"?"active-down":""}`;return B.jsxs("div",{className:h,children:[B.jsxs("div",{className:vn.theoremHeaderRow,children:[B.jsx("div",{className:vn.theoremName,children:t.name}),B.jsxs("div",{className:"math-node-stats",style:{margin:0,border:"none",padding:0},children:[B.jsxs("button",{className:f,onClick:p=>{p.stopPropagation(),o("up")},disabled:l,title:"Vote Valid",children:[" ",r.greenVotes]}),B.jsxs("button",{className:m,onClick:p=>{p.stopPropagation(),o("down")},disabled:l,title:"Vote Invalid",children:[" ",r.blackVotes]}),n?.role==="admin"&&e&&B.jsx("button",{onClick:p=>{p.stopPropagation(),e(t.id)},className:vn.miniDeleteBtn,title:"Delete Theorem",children:""})]})]}),B.jsx("div",{style:{marginTop:"5px",fontSize:"0.9rem"},children:B.jsx(Rr,{latex:t.statementLatex})})]})};function h_(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vv,bE;function ote(){if(bE)return vv;bE=1;function t(){this.__data__=[],this.size=0}return vv=t,vv}var yv,wE;function _c(){if(wE)return yv;wE=1;function t(e,n){return e===n||e!==e&&n!==n}return yv=t,yv}var _v,xE;function m1(){if(xE)return _v;xE=1;var t=_c();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return _v=e,_v}var bv,SE;function lte(){if(SE)return bv;SE=1;var t=m1(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var c=o.length-1;return l==c?o.pop():n.call(o,l,1),--this.size,!0}return bv=r,bv}var wv,EE;function ute(){if(EE)return wv;EE=1;var t=m1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return wv=e,wv}var xv,TE;function cte(){if(TE)return xv;TE=1;var t=m1();function e(n){return t(this.__data__,n)>-1}return xv=e,xv}var Sv,AE;function hte(){if(AE)return Sv;AE=1;var t=m1();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Sv=e,Sv}var Ev,CE;function p1(){if(CE)return Ev;CE=1;var t=ote(),e=lte(),n=ute(),r=cte(),i=hte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Ev=o,Ev}var Tv,RE;function fte(){if(RE)return Tv;RE=1;var t=p1();function e(){this.__data__=new t,this.size=0}return Tv=e,Tv}var Av,IE;function dte(){if(IE)return Av;IE=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Av=t,Av}var Cv,NE;function mte(){if(NE)return Cv;NE=1;function t(e){return this.__data__.get(e)}return Cv=t,Cv}var Rv,ME;function pte(){if(ME)return Rv;ME=1;function t(e){return this.__data__.has(e)}return Rv=t,Rv}var Iv,kE;function WO(){if(kE)return Iv;kE=1;var t=typeof Jf=="object"&&Jf&&Jf.Object===Object&&Jf;return Iv=t,Iv}var Nv,DE;function Fi(){if(DE)return Nv;DE=1;var t=WO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Nv=n,Nv}var Mv,OE;function bc(){if(OE)return Mv;OE=1;var t=Fi(),e=t.Symbol;return Mv=e,Mv}var kv,zE;function gte(){if(zE)return kv;zE=1;var t=bc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(l){var c=n.call(l,i),h=l[i];try{l[i]=void 0;var f=!0}catch{}var m=r.call(l);return f&&(c?l[i]=h:delete l[i]),m}return kv=o,kv}var Dv,VE;function vte(){if(VE)return Dv;VE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Dv=n,Dv}var Ov,LE;function Ml(){if(LE)return Ov;LE=1;var t=bc(),e=gte(),n=vte(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):n(c)}return Ov=l,Ov}var zv,qE;function bi(){if(qE)return zv;qE=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return zv=t,zv}var Vv,PE;function Nh(){if(PE)return Vv;PE=1;var t=Ml(),e=bi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(c){if(!e(c))return!1;var h=t(c);return h==r||h==i||h==n||h==o}return Vv=l,Vv}var Lv,BE;function yte(){if(BE)return Lv;BE=1;var t=Fi(),e=t["__core-js_shared__"];return Lv=e,Lv}var qv,UE;function _te(){if(UE)return qv;UE=1;var t=yte(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return qv=n,qv}var Pv,jE;function JO(){if(jE)return Pv;jE=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Pv=n,Pv}var Bv,HE;function bte(){if(HE)return Bv;HE=1;var t=Nh(),e=_te(),n=bi(),r=JO(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,f=c.hasOwnProperty,m=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||e(v))return!1;var b=t(v)?m:o;return b.test(r(v))}return Bv=p,Bv}var Uv,FE;function wte(){if(FE)return Uv;FE=1;function t(e,n){return e?.[n]}return Uv=t,Uv}var jv,GE;function kl(){if(GE)return jv;GE=1;var t=bte(),e=wte();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return jv=n,jv}var Hv,$E;function f_(){if($E)return Hv;$E=1;var t=kl(),e=Fi(),n=t(e,"Map");return Hv=n,Hv}var Fv,YE;function g1(){if(YE)return Fv;YE=1;var t=kl(),e=t(Object,"create");return Fv=e,Fv}var Gv,XE;function xte(){if(XE)return Gv;XE=1;var t=g1();function e(){this.__data__=t?t(null):{},this.size=0}return Gv=e,Gv}var $v,KE;function Ste(){if(KE)return $v;KE=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return $v=t,$v}var Yv,QE;function Ete(){if(QE)return Yv;QE=1;var t=g1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(t){var c=l[o];return c===e?void 0:c}return r.call(l,o)?l[o]:void 0}return Yv=i,Yv}var Xv,ZE;function Tte(){if(ZE)return Xv;ZE=1;var t=g1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Xv=r,Xv}var Kv,WE;function Ate(){if(WE)return Kv;WE=1;var t=g1(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Kv=n,Kv}var Qv,JE;function Cte(){if(JE)return Qv;JE=1;var t=xte(),e=Ste(),n=Ete(),r=Tte(),i=Ate();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Qv=o,Qv}var Zv,eT;function Rte(){if(eT)return Zv;eT=1;var t=Cte(),e=p1(),n=f_();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Zv=r,Zv}var Wv,tT;function Ite(){if(tT)return Wv;tT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Wv=t,Wv}var Jv,nT;function v1(){if(nT)return Jv;nT=1;var t=Ite();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Jv=e,Jv}var e4,rT;function Nte(){if(rT)return e4;rT=1;var t=v1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return e4=e,e4}var t4,iT;function Mte(){if(iT)return t4;iT=1;var t=v1();function e(n){return t(this,n).get(n)}return t4=e,t4}var n4,aT;function kte(){if(aT)return n4;aT=1;var t=v1();function e(n){return t(this,n).has(n)}return n4=e,n4}var r4,sT;function Dte(){if(sT)return r4;sT=1;var t=v1();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return r4=e,r4}var i4,oT;function d_(){if(oT)return i4;oT=1;var t=Rte(),e=Nte(),n=Mte(),r=kte(),i=Dte();function o(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,i4=o,i4}var a4,lT;function Ote(){if(lT)return a4;lT=1;var t=p1(),e=f_(),n=d_(),r=200;function i(o,l){var c=this.__data__;if(c instanceof t){var h=c.__data__;if(!e||h.length<r-1)return h.push([o,l]),this.size=++c.size,this;c=this.__data__=new n(h)}return c.set(o,l),this.size=c.size,this}return a4=i,a4}var s4,uT;function y1(){if(uT)return s4;uT=1;var t=p1(),e=fte(),n=dte(),r=mte(),i=pte(),o=Ote();function l(c){var h=this.__data__=new t(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,s4=l,s4}var o4,cT;function m_(){if(cT)return o4;cT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return o4=t,o4}var l4,hT;function ez(){if(hT)return l4;hT=1;var t=kl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return l4=e,l4}var u4,fT;function _1(){if(fT)return u4;fT=1;var t=ez();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return u4=e,u4}var c4,dT;function b1(){if(dT)return c4;dT=1;var t=_1(),e=_c(),n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c){var h=o[l];(!(r.call(o,l)&&e(h,c))||c===void 0&&!(l in o))&&t(o,l,c)}return c4=i,c4}var h4,mT;function Mh(){if(mT)return h4;mT=1;var t=b1(),e=_1();function n(r,i,o,l){var c=!o;o||(o={});for(var h=-1,f=i.length;++h<f;){var m=i[h],p=l?l(o[m],r[m],m,o,r):void 0;p===void 0&&(p=r[m]),c?e(o,m,p):t(o,m,p)}return o}return h4=n,h4}var f4,pT;function zte(){if(pT)return f4;pT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return f4=t,f4}var d4,gT;function wa(){if(gT)return d4;gT=1;function t(e){return e!=null&&typeof e=="object"}return d4=t,d4}var m4,vT;function Vte(){if(vT)return m4;vT=1;var t=Ml(),e=wa(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return m4=r,m4}var p4,yT;function kh(){if(yT)return p4;yT=1;var t=Vte(),e=wa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return p4=o,p4}var g4,_T;function Mn(){if(_T)return g4;_T=1;var t=Array.isArray;return g4=t,g4}var C0={exports:{}},v4,bT;function Lte(){if(bT)return v4;bT=1;function t(){return!1}return v4=t,v4}C0.exports;var wT;function wc(){return wT||(wT=1,(function(t,e){var n=Fi(),r=Lte(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,c=l?n.Buffer:void 0,h=c?c.isBuffer:void 0,f=h||r;t.exports=f})(C0,C0.exports)),C0.exports}var y4,xT;function w1(){if(xT)return y4;xT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return y4=n,y4}var _4,ST;function p_(){if(ST)return _4;ST=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return _4=e,_4}var b4,ET;function qte(){if(ET)return b4;ET=1;var t=Ml(),e=p_(),n=wa(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",S="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",D="[object Int8Array]",j="[object Int16Array]",q="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]",V={};V[O]=V[A]=V[D]=V[j]=V[q]=V[I]=V[M]=V[k]=V[H]=!0,V[r]=V[i]=V[E]=V[o]=V[C]=V[l]=V[c]=V[h]=V[f]=V[m]=V[p]=V[v]=V[b]=V[x]=V[S]=!1;function U(P){return n(P)&&e(P.length)&&!!V[t(P)]}return b4=U,b4}var w4,TT;function x1(){if(TT)return w4;TT=1;function t(e){return function(n){return e(n)}}return w4=t,w4}var R0={exports:{}};R0.exports;var AT;function g_(){return AT||(AT=1,(function(t,e){var n=WO(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,c=(function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(R0,R0.exports)),R0.exports}var x4,CT;function Dh(){if(CT)return x4;CT=1;var t=qte(),e=x1(),n=g_(),r=n&&n.isTypedArray,i=r?e(r):t;return x4=i,x4}var S4,RT;function tz(){if(RT)return S4;RT=1;var t=zte(),e=kh(),n=Mn(),r=wc(),i=w1(),o=Dh(),l=Object.prototype,c=l.hasOwnProperty;function h(f,m){var p=n(f),v=!p&&e(f),b=!p&&!v&&r(f),x=!p&&!v&&!b&&o(f),S=p||v||b||x,E=S?t(f.length,String):[],C=E.length;for(var O in f)(m||c.call(f,O))&&!(S&&(O=="length"||b&&(O=="offset"||O=="parent")||x&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,C)))&&E.push(O);return E}return S4=h,S4}var E4,IT;function S1(){if(IT)return E4;IT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return E4=e,E4}var T4,NT;function nz(){if(NT)return T4;NT=1;function t(e,n){return function(r){return e(n(r))}}return T4=t,T4}var A4,MT;function Pte(){if(MT)return A4;MT=1;var t=nz(),e=t(Object.keys,Object);return A4=e,A4}var C4,kT;function v_(){if(kT)return C4;kT=1;var t=S1(),e=Pte(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var c in Object(o))r.call(o,c)&&c!="constructor"&&l.push(c);return l}return C4=i,C4}var R4,DT;function ps(){if(DT)return R4;DT=1;var t=Nh(),e=p_();function n(r){return r!=null&&e(r.length)&&!t(r)}return R4=n,R4}var I4,OT;function Io(){if(OT)return I4;OT=1;var t=tz(),e=v_(),n=ps();function r(i){return n(i)?t(i):e(i)}return I4=r,I4}var N4,zT;function Bte(){if(zT)return N4;zT=1;var t=Mh(),e=Io();function n(r,i){return r&&t(i,e(i),r)}return N4=n,N4}var M4,VT;function Ute(){if(VT)return M4;VT=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return M4=t,M4}var k4,LT;function jte(){if(LT)return k4;LT=1;var t=bi(),e=S1(),n=Ute(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!t(l))return n(l);var c=e(l),h=[];for(var f in l)f=="constructor"&&(c||!i.call(l,f))||h.push(f);return h}return k4=o,k4}var D4,qT;function Dl(){if(qT)return D4;qT=1;var t=tz(),e=jte(),n=ps();function r(i){return n(i)?t(i,!0):e(i)}return D4=r,D4}var O4,PT;function Hte(){if(PT)return O4;PT=1;var t=Mh(),e=Dl();function n(r,i){return r&&t(i,e(i),r)}return O4=n,O4}var I0={exports:{}};I0.exports;var BT;function rz(){return BT||(BT=1,(function(t,e){var n=Fi(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function h(f,m){if(m)return f.slice();var p=f.length,v=c?c(p):new f.constructor(p);return f.copy(v),v}t.exports=h})(I0,I0.exports)),I0.exports}var z4,UT;function iz(){if(UT)return z4;UT=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return z4=t,z4}var V4,jT;function az(){if(jT)return V4;jT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[o++]=c)}return l}return V4=t,V4}var L4,HT;function sz(){if(HT)return L4;HT=1;function t(){return[]}return L4=t,L4}var q4,FT;function y_(){if(FT)return q4;FT=1;var t=az(),e=sz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return q4=o,q4}var P4,GT;function Fte(){if(GT)return P4;GT=1;var t=Mh(),e=y_();function n(r,i){return t(r,e(r),i)}return P4=n,P4}var B4,$T;function __(){if($T)return B4;$T=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return B4=t,B4}var U4,YT;function E1(){if(YT)return U4;YT=1;var t=nz(),e=t(Object.getPrototypeOf,Object);return U4=e,U4}var j4,XT;function oz(){if(XT)return j4;XT=1;var t=__(),e=E1(),n=y_(),r=sz(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var c=[];l;)t(c,n(l)),l=e(l);return c}:r;return j4=o,j4}var H4,KT;function Gte(){if(KT)return H4;KT=1;var t=Mh(),e=oz();function n(r,i){return t(r,e(r),i)}return H4=n,H4}var F4,QT;function lz(){if(QT)return F4;QT=1;var t=__(),e=Mn();function n(r,i,o){var l=i(r);return e(r)?l:t(l,o(r))}return F4=n,F4}var G4,ZT;function uz(){if(ZT)return G4;ZT=1;var t=lz(),e=y_(),n=Io();function r(i){return t(i,n,e)}return G4=r,G4}var $4,WT;function $te(){if(WT)return $4;WT=1;var t=lz(),e=oz(),n=Dl();function r(i){return t(i,n,e)}return $4=r,$4}var Y4,JT;function Yte(){if(JT)return Y4;JT=1;var t=kl(),e=Fi(),n=t(e,"DataView");return Y4=n,Y4}var X4,eA;function Xte(){if(eA)return X4;eA=1;var t=kl(),e=Fi(),n=t(e,"Promise");return X4=n,X4}var K4,tA;function cz(){if(tA)return K4;tA=1;var t=kl(),e=Fi(),n=t(e,"Set");return K4=n,K4}var Q4,nA;function Kte(){if(nA)return Q4;nA=1;var t=kl(),e=Fi(),n=t(e,"WeakMap");return Q4=n,Q4}var Z4,rA;function xc(){if(rA)return Z4;rA=1;var t=Yte(),e=f_(),n=Xte(),r=cz(),i=Kte(),o=Ml(),l=JO(),c="[object Map]",h="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",b=l(t),x=l(e),S=l(n),E=l(r),C=l(i),O=o;return(t&&O(new t(new ArrayBuffer(1)))!=v||e&&O(new e)!=c||n&&O(n.resolve())!=f||r&&O(new r)!=m||i&&O(new i)!=p)&&(O=function(A){var D=o(A),j=D==h?A.constructor:void 0,q=j?l(j):"";if(q)switch(q){case b:return v;case x:return c;case S:return f;case E:return m;case C:return p}return D}),Z4=O,Z4}var W4,iA;function Qte(){if(iA)return W4;iA=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return W4=n,W4}var J4,aA;function hz(){if(aA)return J4;aA=1;var t=Fi(),e=t.Uint8Array;return J4=e,J4}var ey,sA;function b_(){if(sA)return ey;sA=1;var t=hz();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return ey=e,ey}var ty,oA;function Zte(){if(oA)return ty;oA=1;var t=b_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return ty=e,ty}var ny,lA;function Wte(){if(lA)return ny;lA=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return ny=e,ny}var ry,uA;function Jte(){if(uA)return ry;uA=1;var t=bc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ry=r,ry}var iy,cA;function fz(){if(cA)return iy;cA=1;var t=b_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return iy=e,iy}var ay,hA;function ene(){if(hA)return ay;hA=1;var t=b_(),e=Zte(),n=Wte(),r=Jte(),i=fz(),o="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",D="[object Uint8Array]",j="[object Uint8ClampedArray]",q="[object Uint16Array]",I="[object Uint32Array]";function M(k,H,V){var U=k.constructor;switch(H){case b:return t(k);case o:case l:return new U(+k);case x:return e(k,V);case S:case E:case C:case O:case A:case D:case j:case q:case I:return i(k,V);case c:return new U;case h:case p:return new U(k);case f:return n(k);case m:return new U;case v:return r(k)}}return ay=M,ay}var sy,fA;function dz(){if(fA)return sy;fA=1;var t=bi(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return sy=n,sy}var oy,dA;function mz(){if(dA)return oy;dA=1;var t=dz(),e=E1(),n=S1();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return oy=r,oy}var ly,mA;function tne(){if(mA)return ly;mA=1;var t=xc(),e=wa(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return ly=r,ly}var uy,pA;function nne(){if(pA)return uy;pA=1;var t=tne(),e=x1(),n=g_(),r=n&&n.isMap,i=r?e(r):t;return uy=i,uy}var cy,gA;function rne(){if(gA)return cy;gA=1;var t=xc(),e=wa(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return cy=r,cy}var hy,vA;function ine(){if(vA)return hy;vA=1;var t=rne(),e=x1(),n=g_(),r=n&&n.isSet,i=r?e(r):t;return hy=i,hy}var fy,yA;function pz(){if(yA)return fy;yA=1;var t=y1(),e=m_(),n=b1(),r=Bte(),i=Hte(),o=rz(),l=iz(),c=Fte(),h=Gte(),f=uz(),m=$te(),p=xc(),v=Qte(),b=ene(),x=mz(),S=Mn(),E=wc(),C=nne(),O=bi(),A=ine(),D=Io(),j=Dl(),q=1,I=2,M=4,k="[object Arguments]",H="[object Array]",V="[object Boolean]",U="[object Date]",P="[object Error]",K="[object Function]",te="[object GeneratorFunction]",$="[object Map]",W="[object Number]",re="[object Object]",oe="[object RegExp]",ye="[object Set]",Y="[object String]",ee="[object Symbol]",pe="[object WeakMap]",Q="[object ArrayBuffer]",ie="[object DataView]",ce="[object Float32Array]",ge="[object Float64Array]",be="[object Int8Array]",Ce="[object Int16Array]",Ve="[object Int32Array]",He="[object Uint8Array]",je="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ge="[object Uint32Array]",Be={};Be[k]=Be[H]=Be[Q]=Be[ie]=Be[V]=Be[U]=Be[ce]=Be[ge]=Be[be]=Be[Ce]=Be[Ve]=Be[$]=Be[W]=Be[re]=Be[oe]=Be[ye]=Be[Y]=Be[ee]=Be[He]=Be[je]=Be[Pe]=Be[Ge]=!0,Be[P]=Be[K]=Be[pe]=!1;function it($e,Ut,st,Nt,kn,qn){var Ht,Yt=Ut&q,Fn=Ut&I,dr=Ut&M;if(st&&(Ht=kn?st($e,Nt,kn,qn):st($e)),Ht!==void 0)return Ht;if(!O($e))return $e;var mr=S($e);if(mr){if(Ht=v($e),!Yt)return l($e,Ht)}else{var Pn=p($e),vs=Pn==K||Pn==te;if(E($e))return o($e,Yt);if(Pn==re||Pn==k||vs&&!kn){if(Ht=Fn||vs?{}:x($e),!Yt)return Fn?h($e,i(Ht,$e)):c($e,r(Ht,$e))}else{if(!Be[Pn])return kn?$e:{};Ht=b($e,Pn,Yt)}}qn||(qn=new t);var xi=qn.get($e);if(xi)return xi;qn.set($e,Ht),A($e)?$e.forEach(function(an){Ht.add(it(an,Ut,st,an,$e,qn))}):C($e)&&$e.forEach(function(an,qt){Ht.set(qt,it(an,Ut,st,qt,$e,qn))});var ys=dr?Fn?m:f:Fn?j:D,xa=mr?void 0:ys($e);return e(xa||$e,function(an,qt){xa&&(qt=an,an=$e[qt]),n(Ht,qt,it(an,Ut,st,qt,$e,qn))}),Ht}return fy=it,fy}var dy,_A;function ane(){if(_A)return dy;_A=1;var t=pz(),e=4;function n(r){return t(r,e)}return dy=n,dy}var my,bA;function w_(){if(bA)return my;bA=1;function t(e){return function(){return e}}return my=t,my}var py,wA;function sne(){if(wA)return py;wA=1;function t(e){return function(n,r,i){for(var o=-1,l=Object(n),c=i(n),h=c.length;h--;){var f=c[e?h:++o];if(r(l[f],f,l)===!1)break}return n}}return py=t,py}var gy,xA;function x_(){if(xA)return gy;xA=1;var t=sne(),e=t();return gy=e,gy}var vy,SA;function S_(){if(SA)return vy;SA=1;var t=x_(),e=Io();function n(r,i){return r&&t(r,i,e)}return vy=n,vy}var yy,EA;function one(){if(EA)return yy;EA=1;var t=ps();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var l=i.length,c=r?l:-1,h=Object(i);(r?c--:++c<l)&&o(h[c],c,h)!==!1;);return i}}return yy=e,yy}var _y,TA;function T1(){if(TA)return _y;TA=1;var t=S_(),e=one(),n=e(t);return _y=n,_y}var by,AA;function Ol(){if(AA)return by;AA=1;function t(e){return e}return by=t,by}var wy,CA;function gz(){if(CA)return wy;CA=1;var t=Ol();function e(n){return typeof n=="function"?n:t}return wy=e,wy}var xy,RA;function vz(){if(RA)return xy;RA=1;var t=m_(),e=T1(),n=gz(),r=Mn();function i(o,l){var c=r(o)?t:e;return c(o,n(l))}return xy=i,xy}var Sy,IA;function yz(){return IA||(IA=1,Sy=vz()),Sy}var Ey,NA;function lne(){if(NA)return Ey;NA=1;var t=T1();function e(n,r){var i=[];return t(n,function(o,l,c){r(o,l,c)&&i.push(o)}),i}return Ey=e,Ey}var Ty,MA;function une(){if(MA)return Ty;MA=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Ty=e,Ty}var Ay,kA;function cne(){if(kA)return Ay;kA=1;function t(e){return this.__data__.has(e)}return Ay=t,Ay}var Cy,DA;function _z(){if(DA)return Cy;DA=1;var t=d_(),e=une(),n=cne();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Cy=r,Cy}var Ry,OA;function hne(){if(OA)return Ry;OA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Ry=t,Ry}var Iy,zA;function bz(){if(zA)return Iy;zA=1;function t(e,n){return e.has(n)}return Iy=t,Iy}var Ny,VA;function wz(){if(VA)return Ny;VA=1;var t=_z(),e=hne(),n=bz(),r=1,i=2;function o(l,c,h,f,m,p){var v=h&r,b=l.length,x=c.length;if(b!=x&&!(v&&x>b))return!1;var S=p.get(l),E=p.get(c);if(S&&E)return S==c&&E==l;var C=-1,O=!0,A=h&i?new t:void 0;for(p.set(l,c),p.set(c,l);++C<b;){var D=l[C],j=c[C];if(f)var q=v?f(j,D,C,c,l,p):f(D,j,C,l,c,p);if(q!==void 0){if(q)continue;O=!1;break}if(A){if(!e(c,function(I,M){if(!n(A,M)&&(D===I||m(D,I,h,f,p)))return A.push(M)})){O=!1;break}}else if(!(D===j||m(D,j,h,f,p))){O=!1;break}}return p.delete(l),p.delete(c),O}return Ny=o,Ny}var My,LA;function fne(){if(LA)return My;LA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return My=t,My}var ky,qA;function E_(){if(qA)return ky;qA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return ky=t,ky}var Dy,PA;function dne(){if(PA)return Dy;PA=1;var t=bc(),e=hz(),n=_c(),r=wz(),i=fne(),o=E_(),l=1,c=2,h="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",x="[object Set]",S="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",A=t?t.prototype:void 0,D=A?A.valueOf:void 0;function j(q,I,M,k,H,V,U){switch(M){case O:if(q.byteLength!=I.byteLength||q.byteOffset!=I.byteOffset)return!1;q=q.buffer,I=I.buffer;case C:return!(q.byteLength!=I.byteLength||!V(new e(q),new e(I)));case h:case f:case v:return n(+q,+I);case m:return q.name==I.name&&q.message==I.message;case b:case S:return q==I+"";case p:var P=i;case x:var K=k&l;if(P||(P=o),q.size!=I.size&&!K)return!1;var te=U.get(q);if(te)return te==I;k|=c,U.set(q,I);var $=r(P(q),P(I),k,H,V,U);return U.delete(q),$;case E:if(D)return D.call(q)==D.call(I)}return!1}return Dy=j,Dy}var Oy,BA;function mne(){if(BA)return Oy;BA=1;var t=uz(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c,h,f,m){var p=c&e,v=t(o),b=v.length,x=t(l),S=x.length;if(b!=S&&!p)return!1;for(var E=b;E--;){var C=v[E];if(!(p?C in l:r.call(l,C)))return!1}var O=m.get(o),A=m.get(l);if(O&&A)return O==l&&A==o;var D=!0;m.set(o,l),m.set(l,o);for(var j=p;++E<b;){C=v[E];var q=o[C],I=l[C];if(h)var M=p?h(I,q,C,l,o,m):h(q,I,C,o,l,m);if(!(M===void 0?q===I||f(q,I,c,h,m):M)){D=!1;break}j||(j=C=="constructor")}if(D&&!j){var k=o.constructor,H=l.constructor;k!=H&&"constructor"in o&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof H=="function"&&H instanceof H)&&(D=!1)}return m.delete(o),m.delete(l),D}return Oy=i,Oy}var zy,UA;function pne(){if(UA)return zy;UA=1;var t=y1(),e=wz(),n=dne(),r=mne(),i=xc(),o=Mn(),l=wc(),c=Dh(),h=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function x(S,E,C,O,A,D){var j=o(S),q=o(E),I=j?m:i(S),M=q?m:i(E);I=I==f?p:I,M=M==f?p:M;var k=I==p,H=M==p,V=I==M;if(V&&l(S)){if(!l(E))return!1;j=!0,k=!1}if(V&&!k)return D||(D=new t),j||c(S)?e(S,E,C,O,A,D):n(S,E,I,C,O,A,D);if(!(C&h)){var U=k&&b.call(S,"__wrapped__"),P=H&&b.call(E,"__wrapped__");if(U||P){var K=U?S.value():S,te=P?E.value():E;return D||(D=new t),A(K,te,C,O,D)}}return V?(D||(D=new t),r(S,E,C,O,A,D)):!1}return zy=x,zy}var Vy,jA;function xz(){if(jA)return Vy;jA=1;var t=pne(),e=wa();function n(r,i,o,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,l,n,c)}return Vy=n,Vy}var Ly,HA;function gne(){if(HA)return Ly;HA=1;var t=y1(),e=xz(),n=1,r=2;function i(o,l,c,h){var f=c.length,m=f,p=!h;if(o==null)return!m;for(o=Object(o);f--;){var v=c[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<m;){v=c[f];var b=v[0],x=o[b],S=v[1];if(p&&v[2]){if(x===void 0&&!(b in o))return!1}else{var E=new t;if(h)var C=h(x,S,b,o,l,E);if(!(C===void 0?e(S,x,n|r,h,E):C))return!1}}return!0}return Ly=i,Ly}var qy,FA;function Sz(){if(FA)return qy;FA=1;var t=bi();function e(n){return n===n&&!t(n)}return qy=e,qy}var Py,GA;function vne(){if(GA)return Py;GA=1;var t=Sz(),e=Io();function n(r){for(var i=e(r),o=i.length;o--;){var l=i[o],c=r[l];i[o]=[l,c,t(c)]}return i}return Py=n,Py}var By,$A;function Ez(){if($A)return By;$A=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return By=t,By}var Uy,YA;function yne(){if(YA)return Uy;YA=1;var t=gne(),e=vne(),n=Ez();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return Uy=r,Uy}var jy,XA;function Sc(){if(XA)return jy;XA=1;var t=Ml(),e=wa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return jy=r,jy}var Hy,KA;function T_(){if(KA)return Hy;KA=1;var t=Mn(),e=Sc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(t(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return Hy=i,Hy}var Fy,QA;function _ne(){if(QA)return Fy;QA=1;var t=d_(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,c=i?i.apply(this,l):l[0],h=o.cache;if(h.has(c))return h.get(c);var f=r.apply(this,l);return o.cache=h.set(c,f)||h,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,Fy=n,Fy}var Gy,ZA;function bne(){if(ZA)return Gy;ZA=1;var t=_ne(),e=500;function n(r){var i=t(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return Gy=n,Gy}var $y,WA;function wne(){if(WA)return $y;WA=1;var t=bne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,c,h,f){o.push(h?f.replace(n,"$1"):c||l)}),o});return $y=r,$y}var Yy,JA;function A1(){if(JA)return Yy;JA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Yy=t,Yy}var Xy,eC;function xne(){if(eC)return Xy;eC=1;var t=bc(),e=A1(),n=Mn(),r=Sc(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return o?o.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return Xy=l,Xy}var Ky,tC;function Tz(){if(tC)return Ky;tC=1;var t=xne();function e(n){return n==null?"":t(n)}return Ky=e,Ky}var Qy,nC;function C1(){if(nC)return Qy;nC=1;var t=Mn(),e=T_(),n=wne(),r=Tz();function i(o,l){return t(o)?o:e(o,l)?[o]:n(r(o))}return Qy=i,Qy}var Zy,rC;function Oh(){if(rC)return Zy;rC=1;var t=Sc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Zy=e,Zy}var Wy,iC;function R1(){if(iC)return Wy;iC=1;var t=C1(),e=Oh();function n(r,i){i=t(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return Wy=n,Wy}var Jy,aC;function Sne(){if(aC)return Jy;aC=1;var t=R1();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Jy=e,Jy}var e2,sC;function Ene(){if(sC)return e2;sC=1;function t(e,n){return e!=null&&n in Object(e)}return e2=t,e2}var t2,oC;function Az(){if(oC)return t2;oC=1;var t=C1(),e=kh(),n=Mn(),r=w1(),i=p_(),o=Oh();function l(c,h,f){h=t(h,c);for(var m=-1,p=h.length,v=!1;++m<p;){var b=o(h[m]);if(!(v=c!=null&&f(c,b)))break;c=c[b]}return v||++m!=p?v:(p=c==null?0:c.length,!!p&&i(p)&&r(b,p)&&(n(c)||e(c)))}return t2=l,t2}var n2,lC;function Cz(){if(lC)return n2;lC=1;var t=Ene(),e=Az();function n(r,i){return r!=null&&e(r,i,t)}return n2=n,n2}var r2,uC;function Tne(){if(uC)return r2;uC=1;var t=xz(),e=Sne(),n=Cz(),r=T_(),i=Sz(),o=Ez(),l=Oh(),c=1,h=2;function f(m,p){return r(m)&&i(p)?o(l(m),p):function(v){var b=e(v,m);return b===void 0&&b===p?n(v,m):t(p,b,c|h)}}return r2=f,r2}var i2,cC;function Rz(){if(cC)return i2;cC=1;function t(e){return function(n){return n?.[e]}}return i2=t,i2}var a2,hC;function Ane(){if(hC)return a2;hC=1;var t=R1();function e(n){return function(r){return t(r,n)}}return a2=e,a2}var s2,fC;function Cne(){if(fC)return s2;fC=1;var t=Rz(),e=Ane(),n=T_(),r=Oh();function i(o){return n(o)?t(r(o)):e(o)}return s2=i,s2}var o2,dC;function gs(){if(dC)return o2;dC=1;var t=yne(),e=Tne(),n=Ol(),r=Mn(),i=Cne();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return o2=o,o2}var l2,mC;function Iz(){if(mC)return l2;mC=1;var t=az(),e=lne(),n=gs(),r=Mn();function i(o,l){var c=r(o)?t:e;return c(o,n(l,3))}return l2=i,l2}var u2,pC;function Rne(){if(pC)return u2;pC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return u2=n,u2}var c2,gC;function Nz(){if(gC)return c2;gC=1;var t=Rne(),e=Az();function n(r,i){return r!=null&&e(r,i,t)}return c2=n,c2}var h2,vC;function Ine(){if(vC)return h2;vC=1;var t=v_(),e=xc(),n=kh(),r=Mn(),i=ps(),o=wc(),l=S1(),c=Dh(),h="[object Map]",f="[object Set]",m=Object.prototype,p=m.hasOwnProperty;function v(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||o(b)||c(b)||n(b)))return!b.length;var x=e(b);if(x==h||x==f)return!b.size;if(l(b))return!t(b).length;for(var S in b)if(p.call(b,S))return!1;return!0}return h2=v,h2}var f2,yC;function Mz(){if(yC)return f2;yC=1;function t(e){return e===void 0}return f2=t,f2}var d2,_C;function kz(){if(_C)return d2;_C=1;var t=T1(),e=ps();function n(r,i){var o=-1,l=e(r)?Array(r.length):[];return t(r,function(c,h,f){l[++o]=i(c,h,f)}),l}return d2=n,d2}var m2,bC;function Dz(){if(bC)return m2;bC=1;var t=A1(),e=gs(),n=kz(),r=Mn();function i(o,l){var c=r(o)?t:n;return c(o,e(l,3))}return m2=i,m2}var p2,wC;function Nne(){if(wC)return p2;wC=1;function t(e,n,r,i){var o=-1,l=e==null?0:e.length;for(i&&l&&(r=e[++o]);++o<l;)r=n(r,e[o],o,e);return r}return p2=t,p2}var g2,xC;function Mne(){if(xC)return g2;xC=1;function t(e,n,r,i,o){return o(e,function(l,c,h){r=i?(i=!1,l):n(r,l,c,h)}),r}return g2=t,g2}var v2,SC;function Oz(){if(SC)return v2;SC=1;var t=Nne(),e=T1(),n=gs(),r=Mne(),i=Mn();function o(l,c,h){var f=i(l)?t:r,m=arguments.length<3;return f(l,n(c,4),h,m,e)}return v2=o,v2}var y2,EC;function kne(){if(EC)return y2;EC=1;var t=Ml(),e=Mn(),n=wa(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return y2=i,y2}var _2,TC;function Dne(){if(TC)return _2;TC=1;var t=Rz(),e=t("length");return _2=e,_2}var b2,AC;function One(){if(AC)return b2;AC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+o+"]");function h(f){return c.test(f)}return b2=h,b2}var w2,CC;function zne(){if(CC)return w2;CC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+h+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",S="["+o+"]?",E="(?:"+b+"(?:"+[m,p,v].join("|")+")"+S+x+")*",C=S+x+E,O="(?:"+[m+c+"?",c,p,v,l].join("|")+")",A=RegExp(h+"(?="+h+")|"+O+C,"g");function D(j){for(var q=A.lastIndex=0;A.test(j);)++q;return q}return w2=D,w2}var x2,RC;function Vne(){if(RC)return x2;RC=1;var t=Dne(),e=One(),n=zne();function r(i){return e(i)?n(i):t(i)}return x2=r,x2}var S2,IC;function Lne(){if(IC)return S2;IC=1;var t=v_(),e=xc(),n=ps(),r=kne(),i=Vne(),o="[object Map]",l="[object Set]";function c(h){if(h==null)return 0;if(n(h))return r(h)?i(h):h.length;var f=e(h);return f==o||f==l?h.size:t(h).length}return S2=c,S2}var E2,NC;function qne(){if(NC)return E2;NC=1;var t=m_(),e=dz(),n=S_(),r=gs(),i=E1(),o=Mn(),l=wc(),c=Nh(),h=bi(),f=Dh();function m(p,v,b){var x=o(p),S=x||l(p)||f(p);if(v=r(v,4),b==null){var E=p&&p.constructor;S?b=x?new E:[]:h(p)?b=c(E)?e(i(p)):{}:b={}}return(S?t:n)(p,function(C,O,A){return v(b,C,O,A)}),b}return E2=m,E2}var T2,MC;function Pne(){if(MC)return T2;MC=1;var t=bc(),e=kh(),n=Mn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return T2=i,T2}var A2,kC;function A_(){if(kC)return A2;kC=1;var t=__(),e=Pne();function n(r,i,o,l,c){var h=-1,f=r.length;for(o||(o=e),c||(c=[]);++h<f;){var m=r[h];i>0&&o(m)?i>1?n(m,i-1,o,l,c):t(c,m):l||(c[c.length]=m)}return c}return A2=n,A2}var C2,DC;function Bne(){if(DC)return C2;DC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return C2=t,C2}var R2,OC;function zz(){if(OC)return R2;OC=1;var t=Bne(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,h=e(l.length-i,0),f=Array(h);++c<h;)f[c]=l[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=l[c];return m[i]=o(f),t(r,this,m)}}return R2=n,R2}var I2,zC;function Une(){if(zC)return I2;zC=1;var t=w_(),e=ez(),n=Ol(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return I2=r,I2}var N2,VC;function jne(){if(VC)return N2;VC=1;var t=800,e=16,n=Date.now;function r(i){var o=0,l=0;return function(){var c=n(),h=e-(c-l);if(l=c,h>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return N2=r,N2}var M2,LC;function Vz(){if(LC)return M2;LC=1;var t=Une(),e=jne(),n=e(t);return M2=n,M2}var k2,qC;function I1(){if(qC)return k2;qC=1;var t=Ol(),e=zz(),n=Vz();function r(i,o){return n(e(i,o,t),i+"")}return k2=r,k2}var D2,PC;function Lz(){if(PC)return D2;PC=1;function t(e,n,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(n(e[l],l,e))return l;return-1}return D2=t,D2}var O2,BC;function Hne(){if(BC)return O2;BC=1;function t(e){return e!==e}return O2=t,O2}var z2,UC;function Fne(){if(UC)return z2;UC=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return z2=t,z2}var V2,jC;function Gne(){if(jC)return V2;jC=1;var t=Lz(),e=Hne(),n=Fne();function r(i,o,l){return o===o?n(i,o,l):t(i,e,l)}return V2=r,V2}var L2,HC;function $ne(){if(HC)return L2;HC=1;var t=Gne();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return L2=e,L2}var q2,FC;function Yne(){if(FC)return q2;FC=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return q2=t,q2}var P2,GC;function Xne(){if(GC)return P2;GC=1;function t(){}return P2=t,P2}var B2,$C;function Kne(){if($C)return B2;$C=1;var t=cz(),e=Xne(),n=E_(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return B2=i,B2}var U2,YC;function Qne(){if(YC)return U2;YC=1;var t=_z(),e=$ne(),n=Yne(),r=bz(),i=Kne(),o=E_(),l=200;function c(h,f,m){var p=-1,v=e,b=h.length,x=!0,S=[],E=S;if(m)x=!1,v=n;else if(b>=l){var C=f?null:i(h);if(C)return o(C);x=!1,v=r,E=new t}else E=f?[]:S;e:for(;++p<b;){var O=h[p],A=f?f(O):O;if(O=m||O!==0?O:0,x&&A===A){for(var D=E.length;D--;)if(E[D]===A)continue e;f&&E.push(A),S.push(O)}else v(E,A,m)||(E!==S&&E.push(A),S.push(O))}return S}return U2=c,U2}var j2,XC;function qz(){if(XC)return j2;XC=1;var t=ps(),e=wa();function n(r){return e(r)&&t(r)}return j2=n,j2}var H2,KC;function Zne(){if(KC)return H2;KC=1;var t=A_(),e=I1(),n=Qne(),r=qz(),i=e(function(o){return n(t(o,1,r,!0))});return H2=i,H2}var F2,QC;function Wne(){if(QC)return F2;QC=1;var t=A1();function e(n,r){return t(r,function(i){return n[i]})}return F2=e,F2}var G2,ZC;function Pz(){if(ZC)return G2;ZC=1;var t=Wne(),e=Io();function n(r){return r==null?[]:t(r,e(r))}return G2=n,G2}var $2,WC;function wi(){if(WC)return $2;WC=1;var t;if(typeof h_=="function")try{t={clone:ane(),constant:w_(),each:yz(),filter:Iz(),has:Nz(),isArray:Mn(),isEmpty:Ine(),isFunction:Nh(),isUndefined:Mz(),keys:Io(),map:Dz(),reduce:Oz(),size:Lne(),transform:qne(),union:Zne(),values:Pz()}}catch{}return t||(t=window._),$2=t,$2}var Y2,JC;function C_(){if(JC)return Y2;JC=1;var t=wi();Y2=i;var e="\0",n="\0",r="";function i(m){this._isDirected=t.has(m,"directed")?m.directed:!0,this._isMultigraph=t.has(m,"multigraph")?m.multigraph:!1,this._isCompound=t.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(m){return this._label=m,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultNodeLabelFn=m,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._in[p])})},i.prototype.sinks=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._out[p])})},i.prototype.setNodes=function(m,p){var v=arguments,b=this;return t.each(m,function(x){v.length>1?b.setNode(x,p):b.setNode(x)}),this},i.prototype.setNode=function(m,p){return t.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=p),this):(this._nodes[m]=arguments.length>1?p:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=n,this._children[m]={},this._children[n][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},i.prototype.node=function(m){return this._nodes[m]},i.prototype.hasNode=function(m){return t.has(this._nodes,m)},i.prototype.removeNode=function(m){var p=this;if(t.has(this._nodes,m)){var v=function(b){p.removeEdge(p._edgeObjs[b])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],t.each(this.children(m),function(b){p.setParent(b)}),delete this._children[m]),t.each(t.keys(this._in[m]),v),delete this._in[m],delete this._preds[m],t.each(t.keys(this._out[m]),v),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},i.prototype.setParent=function(m,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=n;else{p+="";for(var v=p;!t.isUndefined(v);v=this.parent(v))if(v===m)throw new Error("Setting "+p+" as parent of "+m+" would create a cycle");this.setNode(p)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=p,this._children[p][m]=!0,this},i.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},i.prototype.parent=function(m){if(this._isCompound){var p=this._parent[m];if(p!==n)return p}},i.prototype.children=function(m){if(t.isUndefined(m)&&(m=n),this._isCompound){var p=this._children[m];if(p)return t.keys(p)}else{if(m===n)return this.nodes();if(this.hasNode(m))return[]}},i.prototype.predecessors=function(m){var p=this._preds[m];if(p)return t.keys(p)},i.prototype.successors=function(m){var p=this._sucs[m];if(p)return t.keys(p)},i.prototype.neighbors=function(m){var p=this.predecessors(m);if(p)return t.union(p,this.successors(m))},i.prototype.isLeaf=function(m){var p;return this.isDirected()?p=this.successors(m):p=this.neighbors(m),p.length===0},i.prototype.filterNodes=function(m){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;t.each(this._nodes,function(S,E){m(E)&&p.setNode(E,S)}),t.each(this._edgeObjs,function(S){p.hasNode(S.v)&&p.hasNode(S.w)&&p.setEdge(S,v.edge(S))});var b={};function x(S){var E=v.parent(S);return E===void 0||p.hasNode(E)?(b[S]=E,E):E in b?b[E]:x(E)}return this._isCompound&&t.each(p.nodes(),function(S){p.setParent(S,x(S))}),p},i.prototype.setDefaultEdgeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultEdgeLabelFn=m,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(m,p){var v=this,b=arguments;return t.reduce(m,function(x,S){return b.length>1?v.setEdge(x,S,p):v.setEdge(x,S),S}),this},i.prototype.setEdge=function(){var m,p,v,b,x=!1,S=arguments[0];typeof S=="object"&&S!==null&&"v"in S?(m=S.v,p=S.w,v=S.name,arguments.length===2&&(b=arguments[1],x=!0)):(m=S,p=arguments[1],v=arguments[3],arguments.length>2&&(b=arguments[2],x=!0)),m=""+m,p=""+p,t.isUndefined(v)||(v=""+v);var E=c(this._isDirected,m,p,v);if(t.has(this._edgeLabels,E))return x&&(this._edgeLabels[E]=b),this;if(!t.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(p),this._edgeLabels[E]=x?b:this._defaultEdgeLabelFn(m,p,v);var C=h(this._isDirected,m,p,v);return m=C.v,p=C.w,Object.freeze(C),this._edgeObjs[E]=C,o(this._preds[p],m),o(this._sucs[m],p),this._in[p][E]=C,this._out[m][E]=C,this._edgeCount++,this},i.prototype.edge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return this._edgeLabels[b]},i.prototype.hasEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return t.has(this._edgeLabels,b)},i.prototype.removeEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v),x=this._edgeObjs[b];return x&&(m=x.v,p=x.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[p],m),l(this._sucs[m],p),delete this._in[p][b],delete this._out[m][b],this._edgeCount--),this},i.prototype.inEdges=function(m,p){var v=this._in[m];if(v){var b=t.values(v);return p?t.filter(b,function(x){return x.v===p}):b}},i.prototype.outEdges=function(m,p){var v=this._out[m];if(v){var b=t.values(v);return p?t.filter(b,function(x){return x.w===p}):b}},i.prototype.nodeEdges=function(m,p){var v=this.inEdges(m,p);if(v)return v.concat(this.outEdges(m,p))};function o(m,p){m[p]?m[p]++:m[p]=1}function l(m,p){--m[p]||delete m[p]}function c(m,p,v,b){var x=""+p,S=""+v;if(!m&&x>S){var E=x;x=S,S=E}return x+r+S+r+(t.isUndefined(b)?e:b)}function h(m,p,v,b){var x=""+p,S=""+v;if(!m&&x>S){var E=x;x=S,S=E}var C={v:x,w:S};return b&&(C.name=b),C}function f(m,p){return c(m,p.v,p.w,p.name)}return Y2}var X2,eR;function Jne(){return eR||(eR=1,X2="2.1.8"),X2}var K2,tR;function ere(){return tR||(tR=1,K2={Graph:C_(),version:Jne()}),K2}var Q2,nR;function tre(){if(nR)return Q2;nR=1;var t=wi(),e=C_();Q2={write:n,read:o};function n(l){var c={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return t.isUndefined(l.graph())||(c.value=t.clone(l.graph())),c}function r(l){return t.map(l.nodes(),function(c){var h=l.node(c),f=l.parent(c),m={v:c};return t.isUndefined(h)||(m.value=h),t.isUndefined(f)||(m.parent=f),m})}function i(l){return t.map(l.edges(),function(c){var h=l.edge(c),f={v:c.v,w:c.w};return t.isUndefined(c.name)||(f.name=c.name),t.isUndefined(h)||(f.value=h),f})}function o(l){var c=new e(l.options).setGraph(l.value);return t.each(l.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),t.each(l.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}return Q2}var Z2,rR;function nre(){if(rR)return Z2;rR=1;var t=wi();Z2=e;function e(n){var r={},i=[],o;function l(c){t.has(r,c)||(r[c]=!0,o.push(c),t.each(n.successors(c),l),t.each(n.predecessors(c),l))}return t.each(n.nodes(),function(c){o=[],l(c),o.length&&i.push(o)}),i}return Z2}var W2,iR;function Bz(){if(iR)return W2;iR=1;var t=wi();W2=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var o=this._arr,l=o.length;return i[n]=l,o.push({key:n,priority:r}),this._decrease(l),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,o<r.length&&(l=r[o].priority<r[l].priority?o:l),l!==n&&(this._swap(n,l),this._heapify(l)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},e.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,l=i[n],c=i[r];i[n]=c,i[r]=l,o[c.key]=n,o[l.key]=r},W2}var J2,aR;function Uz(){if(aR)return J2;aR=1;var t=wi(),e=Bz();J2=r;var n=t.constant(1);function r(o,l,c,h){return i(o,String(l),c||n,h||function(f){return o.outEdges(f)})}function i(o,l,c,h){var f={},m=new e,p,v,b=function(x){var S=x.v!==p?x.v:x.w,E=f[S],C=c(x),O=v.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+C);O<E.distance&&(E.distance=O,E.predecessor=p,m.decrease(S,O))};for(o.nodes().forEach(function(x){var S=x===l?0:Number.POSITIVE_INFINITY;f[x]={distance:S},m.add(x,S)});m.size()>0&&(p=m.removeMin(),v=f[p],v.distance!==Number.POSITIVE_INFINITY);)h(p).forEach(b);return f}return J2}var e3,sR;function rre(){if(sR)return e3;sR=1;var t=Uz(),e=wi();e3=n;function n(r,i,o){return e.transform(r.nodes(),function(l,c){l[c]=t(r,c,i,o)},{})}return e3}var t3,oR;function jz(){if(oR)return t3;oR=1;var t=wi();t3=e;function e(n){var r=0,i=[],o={},l=[];function c(h){var f=o[h]={onStack:!0,lowlink:r,index:r++};if(i.push(h),n.successors(h).forEach(function(v){t.has(o,v)?o[v].onStack&&(f.lowlink=Math.min(f.lowlink,o[v].index)):(c(v),f.lowlink=Math.min(f.lowlink,o[v].lowlink))}),f.lowlink===f.index){var m=[],p;do p=i.pop(),o[p].onStack=!1,m.push(p);while(h!==p);l.push(m)}}return n.nodes().forEach(function(h){t.has(o,h)||c(h)}),l}return t3}var n3,lR;function ire(){if(lR)return n3;lR=1;var t=wi(),e=jz();n3=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return n3}var r3,uR;function are(){if(uR)return r3;uR=1;var t=wi();r3=n;var e=t.constant(1);function n(i,o,l){return r(i,o||e,l||function(c){return i.outEdges(c)})}function r(i,o,l){var c={},h=i.nodes();return h.forEach(function(f){c[f]={},c[f][f]={distance:0},h.forEach(function(m){f!==m&&(c[f][m]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(m){var p=m.v===f?m.w:m.v,v=o(m);c[f][p]={distance:v,predecessor:f}})}),h.forEach(function(f){var m=c[f];h.forEach(function(p){var v=c[p];h.forEach(function(b){var x=v[f],S=m[b],E=v[b],C=x.distance+S.distance;C<E.distance&&(E.distance=C,E.predecessor=S.predecessor)})})}),c}return r3}var i3,cR;function Hz(){if(cR)return i3;cR=1;var t=wi();i3=e,e.CycleException=n;function e(r){var i={},o={},l=[];function c(h){if(t.has(o,h))throw new n;t.has(i,h)||(o[h]=!0,i[h]=!0,t.each(r.predecessors(h),c),delete o[h],l.push(h))}if(t.each(r.sinks(),c),t.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,i3}var a3,hR;function sre(){if(hR)return a3;hR=1;var t=Hz();a3=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return a3}var s3,fR;function Fz(){if(fR)return s3;fR=1;var t=wi();s3=e;function e(r,i,o){t.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),c=[],h={};return t.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,o==="post",h,l,c)}),c}function n(r,i,o,l,c,h){t.has(l,i)||(l[i]=!0,o||h.push(i),t.each(c(i),function(f){n(r,f,o,l,c,h)}),o&&h.push(i))}return s3}var o3,dR;function ore(){if(dR)return o3;dR=1;var t=Fz();o3=e;function e(n,r){return t(n,r,"post")}return o3}var l3,mR;function lre(){if(mR)return l3;mR=1;var t=Fz();l3=e;function e(n,r){return t(n,r,"pre")}return l3}var u3,pR;function ure(){if(pR)return u3;pR=1;var t=wi(),e=C_(),n=Bz();u3=r;function r(i,o){var l=new e,c={},h=new n,f;function m(v){var b=v.v===f?v.w:v.v,x=h.priority(b);if(x!==void 0){var S=o(v);S<x&&(c[b]=f,h.decrease(b,S))}}if(i.nodeCount()===0)return l;t.each(i.nodes(),function(v){h.add(v,Number.POSITIVE_INFINITY),l.setNode(v)}),h.decrease(i.nodes()[0],0);for(var p=!1;h.size()>0;){if(f=h.removeMin(),t.has(c,f))l.setEdge(f,c[f]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(f).forEach(m)}return l}return u3}var c3,gR;function cre(){return gR||(gR=1,c3={components:nre(),dijkstra:Uz(),dijkstraAll:rre(),findCycles:ire(),floydWarshall:are(),isAcyclic:sre(),postorder:ore(),preorder:lre(),prim:ure(),tarjan:jz(),topsort:Hz()}),c3}var h3,vR;function hre(){if(vR)return h3;vR=1;var t=ere();return h3={Graph:t.Graph,json:tre(),alg:cre(),version:t.version},h3}var f3,yR;function ji(){if(yR)return f3;yR=1;var t;if(typeof h_=="function")try{t=hre()}catch{}return t||(t=window.graphlib),f3=t,f3}var d3,_R;function fre(){if(_R)return d3;_R=1;var t=pz(),e=1,n=4;function r(i){return t(i,e|n)}return d3=r,d3}var m3,bR;function N1(){if(bR)return m3;bR=1;var t=_c(),e=ps(),n=w1(),r=bi();function i(o,l,c){if(!r(c))return!1;var h=typeof l;return(h=="number"?e(c)&&n(l,c.length):h=="string"&&l in c)?t(c[l],o):!1}return m3=i,m3}var p3,wR;function dre(){if(wR)return p3;wR=1;var t=I1(),e=_c(),n=N1(),r=Dl(),i=Object.prototype,o=i.hasOwnProperty,l=t(function(c,h){c=Object(c);var f=-1,m=h.length,p=m>2?h[2]:void 0;for(p&&n(h[0],h[1],p)&&(m=1);++f<m;)for(var v=h[f],b=r(v),x=-1,S=b.length;++x<S;){var E=b[x],C=c[E];(C===void 0||e(C,i[E])&&!o.call(c,E))&&(c[E]=v[E])}return c});return p3=l,p3}var g3,xR;function mre(){if(xR)return g3;xR=1;var t=gs(),e=ps(),n=Io();function r(i){return function(o,l,c){var h=Object(o);if(!e(o)){var f=t(l,3);o=n(o),l=function(p){return f(h[p],p,h)}}var m=i(o,l,c);return m>-1?h[f?o[m]:m]:void 0}}return g3=r,g3}var v3,SR;function pre(){if(SR)return v3;SR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return v3=e,v3}var y3,ER;function gre(){if(ER)return y3;ER=1;var t=pre(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return y3=n,y3}var _3,TR;function vre(){if(TR)return _3;TR=1;var t=gre(),e=bi(),n=Sc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||l.test(f)?c(f.slice(2),p?2:8):i.test(f)?r:+f}return _3=h,_3}var b3,AR;function Gz(){if(AR)return b3;AR=1;var t=vre(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return b3=r,b3}var w3,CR;function yre(){if(CR)return w3;CR=1;var t=Gz();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return w3=e,w3}var x3,RR;function _re(){if(RR)return x3;RR=1;var t=Lz(),e=gs(),n=yre(),r=Math.max;function i(o,l,c){var h=o==null?0:o.length;if(!h)return-1;var f=c==null?0:n(c);return f<0&&(f=r(h+f,0)),t(o,e(l,3),f)}return x3=i,x3}var S3,IR;function bre(){if(IR)return S3;IR=1;var t=mre(),e=_re(),n=t(e);return S3=n,S3}var E3,NR;function $z(){if(NR)return E3;NR=1;var t=A_();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return E3=e,E3}var T3,MR;function wre(){if(MR)return T3;MR=1;var t=x_(),e=gz(),n=Dl();function r(i,o){return i==null?i:t(i,e(o),n)}return T3=r,T3}var A3,kR;function xre(){if(kR)return A3;kR=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return A3=t,A3}var C3,DR;function Sre(){if(DR)return C3;DR=1;var t=_1(),e=S_(),n=gs();function r(i,o){var l={};return o=n(o,3),e(i,function(c,h,f){t(l,h,o(c,h,f))}),l}return C3=r,C3}var R3,OR;function R_(){if(OR)return R3;OR=1;var t=Sc();function e(n,r,i){for(var o=-1,l=n.length;++o<l;){var c=n[o],h=r(c);if(h!=null&&(f===void 0?h===h&&!t(h):i(h,f)))var f=h,m=c}return m}return R3=e,R3}var I3,zR;function Ere(){if(zR)return I3;zR=1;function t(e,n){return e>n}return I3=t,I3}var N3,VR;function Tre(){if(VR)return N3;VR=1;var t=R_(),e=Ere(),n=Ol();function r(i){return i&&i.length?t(i,n,e):void 0}return N3=r,N3}var M3,LR;function Yz(){if(LR)return M3;LR=1;var t=_1(),e=_c();function n(r,i,o){(o!==void 0&&!e(r[i],o)||o===void 0&&!(i in r))&&t(r,i,o)}return M3=n,M3}var k3,qR;function Are(){if(qR)return k3;qR=1;var t=Ml(),e=E1(),n=wa(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,h=l.call(Object);function f(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var v=c.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==h}return k3=f,k3}var D3,PR;function Xz(){if(PR)return D3;PR=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return D3=t,D3}var O3,BR;function Cre(){if(BR)return O3;BR=1;var t=Mh(),e=Dl();function n(r){return t(r,e(r))}return O3=n,O3}var z3,UR;function Rre(){if(UR)return z3;UR=1;var t=Yz(),e=rz(),n=fz(),r=iz(),i=mz(),o=kh(),l=Mn(),c=qz(),h=wc(),f=Nh(),m=bi(),p=Are(),v=Dh(),b=Xz(),x=Cre();function S(E,C,O,A,D,j,q){var I=b(E,O),M=b(C,O),k=q.get(M);if(k){t(E,O,k);return}var H=j?j(I,M,O+"",E,C,q):void 0,V=H===void 0;if(V){var U=l(M),P=!U&&h(M),K=!U&&!P&&v(M);H=M,U||P||K?l(I)?H=I:c(I)?H=r(I):P?(V=!1,H=e(M,!0)):K?(V=!1,H=n(M,!0)):H=[]:p(M)||o(M)?(H=I,o(I)?H=x(I):(!m(I)||f(I))&&(H=i(M))):V=!1}V&&(q.set(M,H),D(H,M,A,j,q),q.delete(M)),t(E,O,H)}return z3=S,z3}var V3,jR;function Ire(){if(jR)return V3;jR=1;var t=y1(),e=Yz(),n=x_(),r=Rre(),i=bi(),o=Dl(),l=Xz();function c(h,f,m,p,v){h!==f&&n(f,function(b,x){if(v||(v=new t),i(b))r(h,f,x,m,c,p,v);else{var S=p?p(l(h,x),b,x+"",h,f,v):void 0;S===void 0&&(S=b),e(h,x,S)}},o)}return V3=c,V3}var L3,HR;function Nre(){if(HR)return L3;HR=1;var t=I1(),e=N1();function n(r){return t(function(i,o){var l=-1,c=o.length,h=c>1?o[c-1]:void 0,f=c>2?o[2]:void 0;for(h=r.length>3&&typeof h=="function"?(c--,h):void 0,f&&e(o[0],o[1],f)&&(h=c<3?void 0:h,c=1),i=Object(i);++l<c;){var m=o[l];m&&r(i,m,l,h)}return i})}return L3=n,L3}var q3,FR;function Mre(){if(FR)return q3;FR=1;var t=Ire(),e=Nre(),n=e(function(r,i,o){t(r,i,o)});return q3=n,q3}var P3,GR;function Kz(){if(GR)return P3;GR=1;function t(e,n){return e<n}return P3=t,P3}var B3,$R;function kre(){if($R)return B3;$R=1;var t=R_(),e=Kz(),n=Ol();function r(i){return i&&i.length?t(i,n,e):void 0}return B3=r,B3}var U3,YR;function Dre(){if(YR)return U3;YR=1;var t=R_(),e=gs(),n=Kz();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return U3=r,U3}var j3,XR;function Ore(){if(XR)return j3;XR=1;var t=Fi(),e=function(){return t.Date.now()};return j3=e,j3}var H3,KR;function zre(){if(KR)return H3;KR=1;var t=b1(),e=C1(),n=w1(),r=bi(),i=Oh();function o(l,c,h,f){if(!r(l))return l;c=e(c,l);for(var m=-1,p=c.length,v=p-1,b=l;b!=null&&++m<p;){var x=i(c[m]),S=h;if(x==="__proto__"||x==="constructor"||x==="prototype")return l;if(m!=v){var E=b[x];S=f?f(E,x,b):void 0,S===void 0&&(S=r(E)?E:n(c[m+1])?[]:{})}t(b,x,S),b=b[x]}return l}return H3=o,H3}var F3,QR;function Vre(){if(QR)return F3;QR=1;var t=R1(),e=zre(),n=C1();function r(i,o,l){for(var c=-1,h=o.length,f={};++c<h;){var m=o[c],p=t(i,m);l(p,m)&&e(f,n(m,i),p)}return f}return F3=r,F3}var G3,ZR;function Lre(){if(ZR)return G3;ZR=1;var t=Vre(),e=Cz();function n(r,i){return t(r,i,function(o,l){return e(r,l)})}return G3=n,G3}var $3,WR;function qre(){if(WR)return $3;WR=1;var t=$z(),e=zz(),n=Vz();function r(i){return n(e(i,void 0,t),i+"")}return $3=r,$3}var Y3,JR;function Pre(){if(JR)return Y3;JR=1;var t=Lre(),e=qre(),n=e(function(r,i){return r==null?{}:t(r,i)});return Y3=n,Y3}var X3,eI;function Bre(){if(eI)return X3;eI=1;var t=Math.ceil,e=Math.max;function n(r,i,o,l){for(var c=-1,h=e(t((i-r)/(o||1)),0),f=Array(h);h--;)f[l?h:++c]=r,r+=o;return f}return X3=n,X3}var K3,tI;function Ure(){if(tI)return K3;tI=1;var t=Bre(),e=N1(),n=Gz();function r(i){return function(o,l,c){return c&&typeof c!="number"&&e(o,l,c)&&(l=c=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),c=c===void 0?o<l?1:-1:n(c),t(o,l,c,i)}}return K3=r,K3}var Q3,nI;function jre(){if(nI)return Q3;nI=1;var t=Ure(),e=t();return Q3=e,Q3}var Z3,rI;function Hre(){if(rI)return Z3;rI=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Z3=t,Z3}var W3,iI;function Fre(){if(iI)return W3;iI=1;var t=Sc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,l=n===n,c=t(n),h=r!==void 0,f=r===null,m=r===r,p=t(r);if(!f&&!p&&!c&&n>r||c&&h&&m&&!f&&!p||o&&h&&m||!i&&m||!l)return 1;if(!o&&!c&&!p&&n<r||p&&i&&l&&!o&&!c||f&&i&&l||!h&&l||!m)return-1}return 0}return W3=e,W3}var J3,aI;function Gre(){if(aI)return J3;aI=1;var t=Fre();function e(n,r,i){for(var o=-1,l=n.criteria,c=r.criteria,h=l.length,f=i.length;++o<h;){var m=t(l[o],c[o]);if(m){if(o>=f)return m;var p=i[o];return m*(p=="desc"?-1:1)}}return n.index-r.index}return J3=e,J3}var e5,sI;function $re(){if(sI)return e5;sI=1;var t=A1(),e=R1(),n=gs(),r=kz(),i=Hre(),o=x1(),l=Gre(),c=Ol(),h=Mn();function f(m,p,v){p.length?p=t(p,function(S){return h(S)?function(E){return e(E,S.length===1?S[0]:S)}:S}):p=[c];var b=-1;p=t(p,o(n));var x=r(m,function(S,E,C){var O=t(p,function(A){return A(S)});return{criteria:O,index:++b,value:S}});return i(x,function(S,E){return l(S,E,v)})}return e5=f,e5}var t5,oI;function Yre(){if(oI)return t5;oI=1;var t=A_(),e=$re(),n=I1(),r=N1(),i=n(function(o,l){if(o==null)return[];var c=l.length;return c>1&&r(o,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return t5=i,t5}var n5,lI;function Xre(){if(lI)return n5;lI=1;var t=Tz(),e=0;function n(r){var i=++e;return t(r)+i}return n5=n,n5}var r5,uI;function Kre(){if(uI)return r5;uI=1;function t(e,n,r){for(var i=-1,o=e.length,l=n.length,c={};++i<o;){var h=i<l?n[i]:void 0;r(c,e[i],h)}return c}return r5=t,r5}var i5,cI;function Qre(){if(cI)return i5;cI=1;var t=b1(),e=Kre();function n(r,i){return e(r||[],i||[],t)}return i5=n,i5}var a5,hI;function Jt(){if(hI)return a5;hI=1;var t;if(typeof h_=="function")try{t={cloneDeep:fre(),constant:w_(),defaults:dre(),each:yz(),filter:Iz(),find:bre(),flatten:$z(),forEach:vz(),forIn:wre(),has:Nz(),isUndefined:Mz(),last:xre(),map:Dz(),mapValues:Sre(),max:Tre(),merge:Mre(),min:kre(),minBy:Dre(),now:Ore(),pick:Pre(),range:jre(),reduce:Oz(),sortBy:Yre(),uniqueId:Xre(),values:Pz(),zipObject:Qre()}}catch{}return t||(t=window._),a5=t,a5}var s5,fI;function Zre(){if(fI)return s5;fI=1,s5=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,o=i._prev;o!==i;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return s5}var o5,dI;function Wre(){if(dI)return o5;dI=1;var t=Jt(),e=ji().Graph,n=Zre();o5=i;var r=t.constant(1);function i(f,m){if(f.nodeCount()<=1)return[];var p=c(f,m||r),v=o(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(v,function(b){return f.outEdges(b.v,b.w)}),!0)}function o(f,m,p){for(var v=[],b=m[m.length-1],x=m[0],S;f.nodeCount();){for(;S=x.dequeue();)l(f,m,p,S);for(;S=b.dequeue();)l(f,m,p,S);if(f.nodeCount()){for(var E=m.length-2;E>0;--E)if(S=m[E].dequeue(),S){v=v.concat(l(f,m,p,S,!0));break}}}return v}function l(f,m,p,v,b){var x=b?[]:void 0;return t.forEach(f.inEdges(v.v),function(S){var E=f.edge(S),C=f.node(S.v);b&&x.push({v:S.v,w:S.w}),C.out-=E,h(m,p,C)}),t.forEach(f.outEdges(v.v),function(S){var E=f.edge(S),C=S.w,O=f.node(C);O.in-=E,h(m,p,O)}),f.removeNode(v.v),x}function c(f,m){var p=new e,v=0,b=0;t.forEach(f.nodes(),function(E){p.setNode(E,{v:E,in:0,out:0})}),t.forEach(f.edges(),function(E){var C=p.edge(E.v,E.w)||0,O=m(E),A=C+O;p.setEdge(E.v,E.w,A),b=Math.max(b,p.node(E.v).out+=O),v=Math.max(v,p.node(E.w).in+=O)});var x=t.range(b+v+3).map(function(){return new n}),S=v+1;return t.forEach(p.nodes(),function(E){h(x,S,p.node(E))}),{graph:p,buckets:x,zeroIdx:S}}function h(f,m,p){p.out?p.in?f[p.out-p.in+m].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return o5}var l5,mI;function Jre(){if(mI)return l5;mI=1;var t=Jt(),e=Wre();l5={run:n,undo:i};function n(o){var l=o.graph().acyclicer==="greedy"?e(o,c(o)):r(o);t.forEach(l,function(h){var f=o.edge(h);o.removeEdge(h),f.forwardName=h.name,f.reversed=!0,o.setEdge(h.w,h.v,f,t.uniqueId("rev"))});function c(h){return function(f){return h.edge(f).weight}}}function r(o){var l=[],c={},h={};function f(m){t.has(h,m)||(h[m]=!0,c[m]=!0,t.forEach(o.outEdges(m),function(p){t.has(c,p.w)?l.push(p):f(p.w)}),delete c[m])}return t.forEach(o.nodes(),f),l}function i(o){t.forEach(o.edges(),function(l){var c=o.edge(l);if(c.reversed){o.removeEdge(l);var h=c.forwardName;delete c.reversed,delete c.forwardName,o.setEdge(l.w,l.v,c,h)}})}return l5}var u5,pI;function Ir(){if(pI)return u5;pI=1;var t=Jt(),e=ji().Graph;u5={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:l,intersectRect:c,buildLayerMatrix:h,normalizeRanks:f,removeEmptyRanks:m,addBorderNode:p,maxRank:v,partition:b,time:x,notime:S};function n(E,C,O,A){var D;do D=t.uniqueId(A);while(E.hasNode(D));return O.dummy=C,E.setNode(D,O),D}function r(E){var C=new e().setGraph(E.graph());return t.forEach(E.nodes(),function(O){C.setNode(O,E.node(O))}),t.forEach(E.edges(),function(O){var A=C.edge(O.v,O.w)||{weight:0,minlen:1},D=E.edge(O);C.setEdge(O.v,O.w,{weight:A.weight+D.weight,minlen:Math.max(A.minlen,D.minlen)})}),C}function i(E){var C=new e({multigraph:E.isMultigraph()}).setGraph(E.graph());return t.forEach(E.nodes(),function(O){E.children(O).length||C.setNode(O,E.node(O))}),t.forEach(E.edges(),function(O){C.setEdge(O,E.edge(O))}),C}function o(E){var C=t.map(E.nodes(),function(O){var A={};return t.forEach(E.outEdges(O),function(D){A[D.w]=(A[D.w]||0)+E.edge(D).weight}),A});return t.zipObject(E.nodes(),C)}function l(E){var C=t.map(E.nodes(),function(O){var A={};return t.forEach(E.inEdges(O),function(D){A[D.v]=(A[D.v]||0)+E.edge(D).weight}),A});return t.zipObject(E.nodes(),C)}function c(E,C){var O=E.x,A=E.y,D=C.x-O,j=C.y-A,q=E.width/2,I=E.height/2;if(!D&&!j)throw new Error("Not possible to find intersection inside of the rectangle");var M,k;return Math.abs(j)*q>Math.abs(D)*I?(j<0&&(I=-I),M=I*D/j,k=I):(D<0&&(q=-q),M=q,k=q*j/D),{x:O+M,y:A+k}}function h(E){var C=t.map(t.range(v(E)+1),function(){return[]});return t.forEach(E.nodes(),function(O){var A=E.node(O),D=A.rank;t.isUndefined(D)||(C[D][A.order]=O)}),C}function f(E){var C=t.min(t.map(E.nodes(),function(O){return E.node(O).rank}));t.forEach(E.nodes(),function(O){var A=E.node(O);t.has(A,"rank")&&(A.rank-=C)})}function m(E){var C=t.min(t.map(E.nodes(),function(j){return E.node(j).rank})),O=[];t.forEach(E.nodes(),function(j){var q=E.node(j).rank-C;O[q]||(O[q]=[]),O[q].push(j)});var A=0,D=E.graph().nodeRankFactor;t.forEach(O,function(j,q){t.isUndefined(j)&&q%D!==0?--A:A&&t.forEach(j,function(I){E.node(I).rank+=A})})}function p(E,C,O,A){var D={width:0,height:0};return arguments.length>=4&&(D.rank=O,D.order=A),n(E,"border",D,C)}function v(E){return t.max(t.map(E.nodes(),function(C){var O=E.node(C).rank;if(!t.isUndefined(O))return O}))}function b(E,C){var O={lhs:[],rhs:[]};return t.forEach(E,function(A){C(A)?O.lhs.push(A):O.rhs.push(A)}),O}function x(E,C){var O=t.now();try{return C()}finally{console.log(E+" time: "+(t.now()-O)+"ms")}}function S(E,C){return C()}return u5}var c5,gI;function eie(){if(gI)return c5;gI=1;var t=Jt(),e=Ir();c5={run:n,undo:i};function n(o){o.graph().dummyChains=[],t.forEach(o.edges(),function(l){r(o,l)})}function r(o,l){var c=l.v,h=o.node(c).rank,f=l.w,m=o.node(f).rank,p=l.name,v=o.edge(l),b=v.labelRank;if(m!==h+1){o.removeEdge(l);var x,S,E;for(E=0,++h;h<m;++E,++h)v.points=[],S={width:0,height:0,edgeLabel:v,edgeObj:l,rank:h},x=e.addDummyNode(o,"edge",S,"_d"),h===b&&(S.width=v.width,S.height=v.height,S.dummy="edge-label",S.labelpos=v.labelpos),o.setEdge(c,x,{weight:v.weight},p),E===0&&o.graph().dummyChains.push(x),c=x;o.setEdge(c,f,{weight:v.weight},p)}}function i(o){t.forEach(o.graph().dummyChains,function(l){var c=o.node(l),h=c.edgeLabel,f;for(o.setEdge(c.edgeObj,h);c.dummy;)f=o.successors(l)[0],o.removeNode(l),h.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),l=f,c=o.node(l)})}return c5}var h5,vI;function Em(){if(vI)return h5;vI=1;var t=Jt();h5={longestPath:e,slack:n};function e(r){var i={};function o(l){var c=r.node(l);if(t.has(i,l))return c.rank;i[l]=!0;var h=t.min(t.map(r.outEdges(l),function(f){return o(f.w)-r.edge(f).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),c.rank=h}t.forEach(r.sources(),o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return h5}var f5,yI;function Qz(){if(yI)return f5;yI=1;var t=Jt(),e=ji().Graph,n=Em().slack;f5=r;function r(c){var h=new e({directed:!1}),f=c.nodes()[0],m=c.nodeCount();h.setNode(f,{});for(var p,v;i(h,c)<m;)p=o(h,c),v=h.hasNode(p.v)?n(c,p):-n(c,p),l(h,c,v);return h}function i(c,h){function f(m){t.forEach(h.nodeEdges(m),function(p){var v=p.v,b=m===v?p.w:v;!c.hasNode(b)&&!n(h,p)&&(c.setNode(b,{}),c.setEdge(m,b,{}),f(b))})}return t.forEach(c.nodes(),f),c.nodeCount()}function o(c,h){return t.minBy(h.edges(),function(f){if(c.hasNode(f.v)!==c.hasNode(f.w))return n(h,f)})}function l(c,h,f){t.forEach(c.nodes(),function(m){h.node(m).rank+=f})}return f5}var d5,_I;function tie(){if(_I)return d5;_I=1;var t=Jt(),e=Qz(),n=Em().slack,r=Em().longestPath,i=ji().alg.preorder,o=ji().alg.postorder,l=Ir().simplify;d5=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=m,c.leaveEdge=b,c.enterEdge=x,c.exchangeEdges=S;function c(A){A=l(A),r(A);var D=e(A);p(D),h(D,A);for(var j,q;j=b(D);)q=x(D,A,j),S(D,A,j,q)}function h(A,D){var j=o(A,A.nodes());j=j.slice(0,j.length-1),t.forEach(j,function(q){f(A,D,q)})}function f(A,D,j){var q=A.node(j),I=q.parent;A.edge(j,I).cutvalue=m(A,D,j)}function m(A,D,j){var q=A.node(j),I=q.parent,M=!0,k=D.edge(j,I),H=0;return k||(M=!1,k=D.edge(I,j)),H=k.weight,t.forEach(D.nodeEdges(j),function(V){var U=V.v===j,P=U?V.w:V.v;if(P!==I){var K=U===M,te=D.edge(V).weight;if(H+=K?te:-te,C(A,j,P)){var $=A.edge(j,P).cutvalue;H+=K?-$:$}}}),H}function p(A,D){arguments.length<2&&(D=A.nodes()[0]),v(A,{},1,D)}function v(A,D,j,q,I){var M=j,k=A.node(q);return D[q]=!0,t.forEach(A.neighbors(q),function(H){t.has(D,H)||(j=v(A,D,j,H,q))}),k.low=M,k.lim=j++,I?k.parent=I:delete k.parent,j}function b(A){return t.find(A.edges(),function(D){return A.edge(D).cutvalue<0})}function x(A,D,j){var q=j.v,I=j.w;D.hasEdge(q,I)||(q=j.w,I=j.v);var M=A.node(q),k=A.node(I),H=M,V=!1;M.lim>k.lim&&(H=k,V=!0);var U=t.filter(D.edges(),function(P){return V===O(A,A.node(P.v),H)&&V!==O(A,A.node(P.w),H)});return t.minBy(U,function(P){return n(D,P)})}function S(A,D,j,q){var I=j.v,M=j.w;A.removeEdge(I,M),A.setEdge(q.v,q.w,{}),p(A),h(A,D),E(A,D)}function E(A,D){var j=t.find(A.nodes(),function(I){return!D.node(I).parent}),q=i(A,j);q=q.slice(1),t.forEach(q,function(I){var M=A.node(I).parent,k=D.edge(I,M),H=!1;k||(k=D.edge(M,I),H=!0),D.node(I).rank=D.node(M).rank+(H?k.minlen:-k.minlen)})}function C(A,D,j){return A.hasEdge(D,j)}function O(A,D,j){return j.low<=D.lim&&D.lim<=j.lim}return d5}var m5,bI;function nie(){if(bI)return m5;bI=1;var t=Em(),e=t.longestPath,n=Qz(),r=tie();m5=i;function i(h){switch(h.graph().ranker){case"network-simplex":c(h);break;case"tight-tree":l(h);break;case"longest-path":o(h);break;default:c(h)}}var o=e;function l(h){e(h),n(h)}function c(h){r(h)}return m5}var p5,wI;function rie(){if(wI)return p5;wI=1;var t=Jt();p5=e;function e(i){var o=r(i);t.forEach(i.graph().dummyChains,function(l){for(var c=i.node(l),h=c.edgeObj,f=n(i,o,h.v,h.w),m=f.path,p=f.lca,v=0,b=m[v],x=!0;l!==h.w;){if(c=i.node(l),x){for(;(b=m[v])!==p&&i.node(b).maxRank<c.rank;)v++;b===p&&(x=!1)}if(!x){for(;v<m.length-1&&i.node(b=m[v+1]).minRank<=c.rank;)v++;b=m[v]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,o,l,c){var h=[],f=[],m=Math.min(o[l].low,o[c].low),p=Math.max(o[l].lim,o[c].lim),v,b;v=l;do v=i.parent(v),h.push(v);while(v&&(o[v].low>m||p>o[v].lim));for(b=v,v=c;(v=i.parent(v))!==b;)f.push(v);return{path:h.concat(f.reverse()),lca:b}}function r(i){var o={},l=0;function c(h){var f=l;t.forEach(i.children(h),c),o[h]={low:f,lim:l++}}return t.forEach(i.children(),c),o}return p5}var g5,xI;function iie(){if(xI)return g5;xI=1;var t=Jt(),e=Ir();g5={run:n,cleanup:l};function n(c){var h=e.addDummyNode(c,"root",{},"_root"),f=i(c),m=t.max(t.values(f))-1,p=2*m+1;c.graph().nestingRoot=h,t.forEach(c.edges(),function(b){c.edge(b).minlen*=p});var v=o(c)+1;t.forEach(c.children(),function(b){r(c,h,p,v,m,f,b)}),c.graph().nodeRankFactor=p}function r(c,h,f,m,p,v,b){var x=c.children(b);if(!x.length){b!==h&&c.setEdge(h,b,{weight:0,minlen:f});return}var S=e.addBorderNode(c,"_bt"),E=e.addBorderNode(c,"_bb"),C=c.node(b);c.setParent(S,b),C.borderTop=S,c.setParent(E,b),C.borderBottom=E,t.forEach(x,function(O){r(c,h,f,m,p,v,O);var A=c.node(O),D=A.borderTop?A.borderTop:O,j=A.borderBottom?A.borderBottom:O,q=A.borderTop?m:2*m,I=D!==j?1:p-v[b]+1;c.setEdge(S,D,{weight:q,minlen:I,nestingEdge:!0}),c.setEdge(j,E,{weight:q,minlen:I,nestingEdge:!0})}),c.parent(b)||c.setEdge(h,S,{weight:0,minlen:p+v[b]})}function i(c){var h={};function f(m,p){var v=c.children(m);v&&v.length&&t.forEach(v,function(b){f(b,p+1)}),h[m]=p}return t.forEach(c.children(),function(m){f(m,1)}),h}function o(c){return t.reduce(c.edges(),function(h,f){return h+c.edge(f).weight},0)}function l(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,t.forEach(c.edges(),function(f){var m=c.edge(f);m.nestingEdge&&c.removeEdge(f)})}return g5}var v5,SI;function aie(){if(SI)return v5;SI=1;var t=Jt(),e=Ir();v5=n;function n(i){function o(l){var c=i.children(l),h=i.node(l);if(c.length&&t.forEach(c,o),t.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var f=h.minRank,m=h.maxRank+1;f<m;++f)r(i,"borderLeft","_bl",l,h,f),r(i,"borderRight","_br",l,h,f)}}t.forEach(i.children(),o)}function r(i,o,l,c,h,f){var m={width:0,height:0,rank:f,borderType:o},p=h[o][f-1],v=e.addDummyNode(i,"border",m,l);h[o][f]=v,i.setParent(v,c),p&&i.setEdge(p,v,{weight:1})}return v5}var y5,EI;function sie(){if(EI)return y5;EI=1;var t=Jt();y5={adjust:e,undo:n};function e(f){var m=f.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&r(f)}function n(f){var m=f.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&o(f),(m==="lr"||m==="rl")&&(c(f),r(f))}function r(f){t.forEach(f.nodes(),function(m){i(f.node(m))}),t.forEach(f.edges(),function(m){i(f.edge(m))})}function i(f){var m=f.width;f.width=f.height,f.height=m}function o(f){t.forEach(f.nodes(),function(m){l(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,l),t.has(p,"y")&&l(p)})}function l(f){f.y=-f.y}function c(f){t.forEach(f.nodes(),function(m){h(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,h),t.has(p,"x")&&h(p)})}function h(f){var m=f.x;f.x=f.y,f.y=m}return y5}var _5,TI;function oie(){if(TI)return _5;TI=1;var t=Jt();_5=e;function e(n){var r={},i=t.filter(n.nodes(),function(f){return!n.children(f).length}),o=t.max(t.map(i,function(f){return n.node(f).rank})),l=t.map(t.range(o+1),function(){return[]});function c(f){if(!t.has(r,f)){r[f]=!0;var m=n.node(f);l[m.rank].push(f),t.forEach(n.successors(f),c)}}var h=t.sortBy(i,function(f){return n.node(f).rank});return t.forEach(h,c),l}return _5}var b5,AI;function lie(){if(AI)return b5;AI=1;var t=Jt();b5=e;function e(r,i){for(var o=0,l=1;l<i.length;++l)o+=n(r,i[l-1],i[l]);return o}function n(r,i,o){for(var l=t.zipObject(o,t.map(o,function(v,b){return b})),c=t.flatten(t.map(i,function(v){return t.sortBy(t.map(r.outEdges(v),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),h=1;h<o.length;)h<<=1;var f=2*h-1;h-=1;var m=t.map(new Array(f),function(){return 0}),p=0;return t.forEach(c.forEach(function(v){var b=v.pos+h;m[b]+=v.weight;for(var x=0;b>0;)b%2&&(x+=m[b+1]),b=b-1>>1,m[b]+=v.weight;p+=v.weight*x})),p}return b5}var w5,CI;function uie(){if(CI)return w5;CI=1;var t=Jt();w5=e;function e(n,r){return t.map(r,function(i){var o=n.inEdges(i);if(o.length){var l=t.reduce(o,function(c,h){var f=n.edge(h),m=n.node(h.v);return{sum:c.sum+f.weight*m.order,weight:c.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return w5}var x5,RI;function cie(){if(RI)return x5;RI=1;var t=Jt();x5=e;function e(i,o){var l={};t.forEach(i,function(h,f){var m=l[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:f};t.isUndefined(h.barycenter)||(m.barycenter=h.barycenter,m.weight=h.weight)}),t.forEach(o.edges(),function(h){var f=l[h.v],m=l[h.w];!t.isUndefined(f)&&!t.isUndefined(m)&&(m.indegree++,f.out.push(l[h.w]))});var c=t.filter(l,function(h){return!h.indegree});return n(c)}function n(i){var o=[];function l(f){return function(m){m.merged||(t.isUndefined(m.barycenter)||t.isUndefined(f.barycenter)||m.barycenter>=f.barycenter)&&r(f,m)}}function c(f){return function(m){m.in.push(f),--m.indegree===0&&i.push(m)}}for(;i.length;){var h=i.pop();o.push(h),t.forEach(h.in.reverse(),l(h)),t.forEach(h.out,c(h))}return t.map(t.filter(o,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function r(i,o){var l=0,c=0;i.weight&&(l+=i.barycenter*i.weight,c+=i.weight),o.weight&&(l+=o.barycenter*o.weight,c+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=l/c,i.weight=c,i.i=Math.min(o.i,i.i),o.merged=!0}return x5}var S5,II;function hie(){if(II)return S5;II=1;var t=Jt(),e=Ir();S5=n;function n(o,l){var c=e.partition(o,function(S){return t.has(S,"barycenter")}),h=c.lhs,f=t.sortBy(c.rhs,function(S){return-S.i}),m=[],p=0,v=0,b=0;h.sort(i(!!l)),b=r(m,f,b),t.forEach(h,function(S){b+=S.vs.length,m.push(S.vs),p+=S.barycenter*S.weight,v+=S.weight,b=r(m,f,b)});var x={vs:t.flatten(m,!0)};return v&&(x.barycenter=p/v,x.weight=v),x}function r(o,l,c){for(var h;l.length&&(h=t.last(l)).i<=c;)l.pop(),o.push(h.vs),c++;return c}function i(o){return function(l,c){return l.barycenter<c.barycenter?-1:l.barycenter>c.barycenter?1:o?c.i-l.i:l.i-c.i}}return S5}var E5,NI;function fie(){if(NI)return E5;NI=1;var t=Jt(),e=uie(),n=cie(),r=hie();E5=i;function i(c,h,f,m){var p=c.children(h),v=c.node(h),b=v?v.borderLeft:void 0,x=v?v.borderRight:void 0,S={};b&&(p=t.filter(p,function(j){return j!==b&&j!==x}));var E=e(c,p);t.forEach(E,function(j){if(c.children(j.v).length){var q=i(c,j.v,f,m);S[j.v]=q,t.has(q,"barycenter")&&l(j,q)}});var C=n(E,f);o(C,S);var O=r(C,m);if(b&&(O.vs=t.flatten([b,O.vs,x],!0),c.predecessors(b).length)){var A=c.node(c.predecessors(b)[0]),D=c.node(c.predecessors(x)[0]);t.has(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+A.order+D.order)/(O.weight+2),O.weight+=2}return O}function o(c,h){t.forEach(c,function(f){f.vs=t.flatten(f.vs.map(function(m){return h[m]?h[m].vs:m}),!0)})}function l(c,h){t.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}return E5}var T5,MI;function die(){if(MI)return T5;MI=1;var t=Jt(),e=ji().Graph;T5=n;function n(i,o,l){var c=r(i),h=new e({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(f){return i.node(f)});return t.forEach(i.nodes(),function(f){var m=i.node(f),p=i.parent(f);(m.rank===o||m.minRank<=o&&o<=m.maxRank)&&(h.setNode(f),h.setParent(f,p||c),t.forEach(i[l](f),function(v){var b=v.v===f?v.w:v.v,x=h.edge(b,f),S=t.isUndefined(x)?0:x.weight;h.setEdge(b,f,{weight:i.edge(v).weight+S})}),t.has(m,"minRank")&&h.setNode(f,{borderLeft:m.borderLeft[o],borderRight:m.borderRight[o]}))}),h}function r(i){for(var o;i.hasNode(o=t.uniqueId("_root")););return o}return T5}var A5,kI;function mie(){if(kI)return A5;kI=1;var t=Jt();A5=e;function e(n,r,i){var o={},l;t.forEach(i,function(c){for(var h=n.parent(c),f,m;h;){if(f=n.parent(h),f?(m=o[f],o[f]=h):(m=l,l=h),m&&m!==h){r.setEdge(m,h);return}h=f}})}return A5}var C5,DI;function pie(){if(DI)return C5;DI=1;var t=Jt(),e=oie(),n=lie(),r=fie(),i=die(),o=mie(),l=ji().Graph,c=Ir();C5=h;function h(v){var b=c.maxRank(v),x=f(v,t.range(1,b+1),"inEdges"),S=f(v,t.range(b-1,-1,-1),"outEdges"),E=e(v);p(v,E);for(var C=Number.POSITIVE_INFINITY,O,A=0,D=0;D<4;++A,++D){m(A%2?x:S,A%4>=2),E=c.buildLayerMatrix(v);var j=n(v,E);j<C&&(D=0,O=t.cloneDeep(E),C=j)}p(v,O)}function f(v,b,x){return t.map(b,function(S){return i(v,S,x)})}function m(v,b){var x=new l;t.forEach(v,function(S){var E=S.graph().root,C=r(S,E,x,b);t.forEach(C.vs,function(O,A){S.node(O).order=A}),o(S,x,C.vs)})}function p(v,b){t.forEach(b,function(x){t.forEach(x,function(S,E){v.node(S).order=E})})}return C5}var R5,OI;function gie(){if(OI)return R5;OI=1;var t=Jt(),e=ji().Graph,n=Ir();R5={positionX:x,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:c,verticalAlignment:h,horizontalCompaction:f,alignCoordinates:v,findSmallestWidthAlignment:p,balance:b};function r(C,O){var A={};function D(j,q){var I=0,M=0,k=j.length,H=t.last(q);return t.forEach(q,function(V,U){var P=o(C,V),K=P?C.node(P).order:k;(P||V===H)&&(t.forEach(q.slice(M,U+1),function(te){t.forEach(C.predecessors(te),function($){var W=C.node($),re=W.order;(re<I||K<re)&&!(W.dummy&&C.node(te).dummy)&&l(A,$,te)})}),M=U+1,I=K)}),q}return t.reduce(O,D),A}function i(C,O){var A={};function D(q,I,M,k,H){var V;t.forEach(t.range(I,M),function(U){V=q[U],C.node(V).dummy&&t.forEach(C.predecessors(V),function(P){var K=C.node(P);K.dummy&&(K.order<k||K.order>H)&&l(A,P,V)})})}function j(q,I){var M=-1,k,H=0;return t.forEach(I,function(V,U){if(C.node(V).dummy==="border"){var P=C.predecessors(V);P.length&&(k=C.node(P[0]).order,D(I,H,U,M,k),H=U,M=k)}D(I,H,I.length,k,q.length)}),I}return t.reduce(O,j),A}function o(C,O){if(C.node(O).dummy)return t.find(C.predecessors(O),function(A){return C.node(A).dummy})}function l(C,O,A){if(O>A){var D=O;O=A,A=D}var j=C[O];j||(C[O]=j={}),j[A]=!0}function c(C,O,A){if(O>A){var D=O;O=A,A=D}return t.has(C[O],A)}function h(C,O,A,D){var j={},q={},I={};return t.forEach(O,function(M){t.forEach(M,function(k,H){j[k]=k,q[k]=k,I[k]=H})}),t.forEach(O,function(M){var k=-1;t.forEach(M,function(H){var V=D(H);if(V.length){V=t.sortBy(V,function($){return I[$]});for(var U=(V.length-1)/2,P=Math.floor(U),K=Math.ceil(U);P<=K;++P){var te=V[P];q[H]===H&&k<I[te]&&!c(A,H,te)&&(q[te]=H,q[H]=j[H]=j[te],k=I[te])}}})}),{root:j,align:q}}function f(C,O,A,D,j){var q={},I=m(C,O,A,j),M=j?"borderLeft":"borderRight";function k(U,P){for(var K=I.nodes(),te=K.pop(),$={};te;)$[te]?U(te):($[te]=!0,K.push(te),K=K.concat(P(te))),te=K.pop()}function H(U){q[U]=I.inEdges(U).reduce(function(P,K){return Math.max(P,q[K.v]+I.edge(K))},0)}function V(U){var P=I.outEdges(U).reduce(function(te,$){return Math.min(te,q[$.w]-I.edge($))},Number.POSITIVE_INFINITY),K=C.node(U);P!==Number.POSITIVE_INFINITY&&K.borderType!==M&&(q[U]=Math.max(q[U],P))}return k(H,I.predecessors.bind(I)),k(V,I.successors.bind(I)),t.forEach(D,function(U){q[U]=q[A[U]]}),q}function m(C,O,A,D){var j=new e,q=C.graph(),I=S(q.nodesep,q.edgesep,D);return t.forEach(O,function(M){var k;t.forEach(M,function(H){var V=A[H];if(j.setNode(V),k){var U=A[k],P=j.edge(U,V);j.setEdge(U,V,Math.max(I(C,H,k),P||0))}k=H})}),j}function p(C,O){return t.minBy(t.values(O),function(A){var D=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;return t.forIn(A,function(q,I){var M=E(C,I)/2;D=Math.max(q+M,D),j=Math.min(q-M,j)}),D-j})}function v(C,O){var A=t.values(O),D=t.min(A),j=t.max(A);t.forEach(["u","d"],function(q){t.forEach(["l","r"],function(I){var M=q+I,k=C[M],H;if(k!==O){var V=t.values(k);H=I==="l"?D-t.min(V):j-t.max(V),H&&(C[M]=t.mapValues(k,function(U){return U+H}))}})})}function b(C,O){return t.mapValues(C.ul,function(A,D){if(O)return C[O.toLowerCase()][D];var j=t.sortBy(t.map(C,D));return(j[1]+j[2])/2})}function x(C){var O=n.buildLayerMatrix(C),A=t.merge(r(C,O),i(C,O)),D={},j;t.forEach(["u","d"],function(I){j=I==="u"?O:t.values(O).reverse(),t.forEach(["l","r"],function(M){M==="r"&&(j=t.map(j,function(U){return t.values(U).reverse()}));var k=(I==="u"?C.predecessors:C.successors).bind(C),H=h(C,j,A,k),V=f(C,j,H.root,H.align,M==="r");M==="r"&&(V=t.mapValues(V,function(U){return-U})),D[I+M]=V})});var q=p(C,D);return v(D,q),b(D,C.graph().align)}function S(C,O,A){return function(D,j,q){var I=D.node(j),M=D.node(q),k=0,H;if(k+=I.width/2,t.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":H=-I.width/2;break;case"r":H=I.width/2;break}if(H&&(k+=A?H:-H),H=0,k+=(I.dummy?O:C)/2,k+=(M.dummy?O:C)/2,k+=M.width/2,t.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":H=M.width/2;break;case"r":H=-M.width/2;break}return H&&(k+=A?H:-H),H=0,k}}function E(C,O){return C.node(O).width}return R5}var I5,zI;function vie(){if(zI)return I5;zI=1;var t=Jt(),e=Ir(),n=gie().positionX;I5=r;function r(o){o=e.asNonCompoundGraph(o),i(o),t.forEach(n(o),function(l,c){o.node(c).x=l})}function i(o){var l=e.buildLayerMatrix(o),c=o.graph().ranksep,h=0;t.forEach(l,function(f){var m=t.max(t.map(f,function(p){return o.node(p).height}));t.forEach(f,function(p){o.node(p).y=h+m/2}),h+=m+c})}return I5}var N5,VI;function yie(){if(VI)return N5;VI=1;var t=Jt(),e=Jre(),n=eie(),r=nie(),i=Ir().normalizeRanks,o=rie(),l=Ir().removeEmptyRanks,c=iie(),h=aie(),f=sie(),m=pie(),p=vie(),v=Ir(),b=ji().Graph;N5=x;function x(Q,ie){var ce=ie&&ie.debugTiming?v.time:v.notime;ce("layout",function(){var ge=ce("  buildLayoutGraph",function(){return k(Q)});ce("  runLayout",function(){S(ge,ce)}),ce("  updateInputGraph",function(){E(Q,ge)})})}function S(Q,ie){ie("    makeSpaceForEdgeLabels",function(){H(Q)}),ie("    removeSelfEdges",function(){oe(Q)}),ie("    acyclic",function(){e.run(Q)}),ie("    nestingGraph.run",function(){c.run(Q)}),ie("    rank",function(){r(v.asNonCompoundGraph(Q))}),ie("    injectEdgeLabelProxies",function(){V(Q)}),ie("    removeEmptyRanks",function(){l(Q)}),ie("    nestingGraph.cleanup",function(){c.cleanup(Q)}),ie("    normalizeRanks",function(){i(Q)}),ie("    assignRankMinMax",function(){U(Q)}),ie("    removeEdgeLabelProxies",function(){P(Q)}),ie("    normalize.run",function(){n.run(Q)}),ie("    parentDummyChains",function(){o(Q)}),ie("    addBorderSegments",function(){h(Q)}),ie("    order",function(){m(Q)}),ie("    insertSelfEdges",function(){ye(Q)}),ie("    adjustCoordinateSystem",function(){f.adjust(Q)}),ie("    position",function(){p(Q)}),ie("    positionSelfEdges",function(){Y(Q)}),ie("    removeBorderNodes",function(){re(Q)}),ie("    normalize.undo",function(){n.undo(Q)}),ie("    fixupEdgeLabelCoords",function(){$(Q)}),ie("    undoCoordinateSystem",function(){f.undo(Q)}),ie("    translateGraph",function(){K(Q)}),ie("    assignNodeIntersects",function(){te(Q)}),ie("    reversePoints",function(){W(Q)}),ie("    acyclic.undo",function(){e.undo(Q)})}function E(Q,ie){t.forEach(Q.nodes(),function(ce){var ge=Q.node(ce),be=ie.node(ce);ge&&(ge.x=be.x,ge.y=be.y,ie.children(ce).length&&(ge.width=be.width,ge.height=be.height))}),t.forEach(Q.edges(),function(ce){var ge=Q.edge(ce),be=ie.edge(ce);ge.points=be.points,t.has(be,"x")&&(ge.x=be.x,ge.y=be.y)}),Q.graph().width=ie.graph().width,Q.graph().height=ie.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],D=["width","height"],j={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function k(Q){var ie=new b({multigraph:!0,compound:!0}),ce=pe(Q.graph());return ie.setGraph(t.merge({},O,ee(ce,C),t.pick(ce,A))),t.forEach(Q.nodes(),function(ge){var be=pe(Q.node(ge));ie.setNode(ge,t.defaults(ee(be,D),j)),ie.setParent(ge,Q.parent(ge))}),t.forEach(Q.edges(),function(ge){var be=pe(Q.edge(ge));ie.setEdge(ge,t.merge({},I,ee(be,q),t.pick(be,M)))}),ie}function H(Q){var ie=Q.graph();ie.ranksep/=2,t.forEach(Q.edges(),function(ce){var ge=Q.edge(ce);ge.minlen*=2,ge.labelpos.toLowerCase()!=="c"&&(ie.rankdir==="TB"||ie.rankdir==="BT"?ge.width+=ge.labeloffset:ge.height+=ge.labeloffset)})}function V(Q){t.forEach(Q.edges(),function(ie){var ce=Q.edge(ie);if(ce.width&&ce.height){var ge=Q.node(ie.v),be=Q.node(ie.w),Ce={rank:(be.rank-ge.rank)/2+ge.rank,e:ie};v.addDummyNode(Q,"edge-proxy",Ce,"_ep")}})}function U(Q){var ie=0;t.forEach(Q.nodes(),function(ce){var ge=Q.node(ce);ge.borderTop&&(ge.minRank=Q.node(ge.borderTop).rank,ge.maxRank=Q.node(ge.borderBottom).rank,ie=t.max(ie,ge.maxRank))}),Q.graph().maxRank=ie}function P(Q){t.forEach(Q.nodes(),function(ie){var ce=Q.node(ie);ce.dummy==="edge-proxy"&&(Q.edge(ce.e).labelRank=ce.rank,Q.removeNode(ie))})}function K(Q){var ie=Number.POSITIVE_INFINITY,ce=0,ge=Number.POSITIVE_INFINITY,be=0,Ce=Q.graph(),Ve=Ce.marginx||0,He=Ce.marginy||0;function je(Pe){var Ge=Pe.x,Be=Pe.y,it=Pe.width,$e=Pe.height;ie=Math.min(ie,Ge-it/2),ce=Math.max(ce,Ge+it/2),ge=Math.min(ge,Be-$e/2),be=Math.max(be,Be+$e/2)}t.forEach(Q.nodes(),function(Pe){je(Q.node(Pe))}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.has(Ge,"x")&&je(Ge)}),ie-=Ve,ge-=He,t.forEach(Q.nodes(),function(Pe){var Ge=Q.node(Pe);Ge.x-=ie,Ge.y-=ge}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.forEach(Ge.points,function(Be){Be.x-=ie,Be.y-=ge}),t.has(Ge,"x")&&(Ge.x-=ie),t.has(Ge,"y")&&(Ge.y-=ge)}),Ce.width=ce-ie+Ve,Ce.height=be-ge+He}function te(Q){t.forEach(Q.edges(),function(ie){var ce=Q.edge(ie),ge=Q.node(ie.v),be=Q.node(ie.w),Ce,Ve;ce.points?(Ce=ce.points[0],Ve=ce.points[ce.points.length-1]):(ce.points=[],Ce=be,Ve=ge),ce.points.unshift(v.intersectRect(ge,Ce)),ce.points.push(v.intersectRect(be,Ve))})}function $(Q){t.forEach(Q.edges(),function(ie){var ce=Q.edge(ie);if(t.has(ce,"x"))switch((ce.labelpos==="l"||ce.labelpos==="r")&&(ce.width-=ce.labeloffset),ce.labelpos){case"l":ce.x-=ce.width/2+ce.labeloffset;break;case"r":ce.x+=ce.width/2+ce.labeloffset;break}})}function W(Q){t.forEach(Q.edges(),function(ie){var ce=Q.edge(ie);ce.reversed&&ce.points.reverse()})}function re(Q){t.forEach(Q.nodes(),function(ie){if(Q.children(ie).length){var ce=Q.node(ie),ge=Q.node(ce.borderTop),be=Q.node(ce.borderBottom),Ce=Q.node(t.last(ce.borderLeft)),Ve=Q.node(t.last(ce.borderRight));ce.width=Math.abs(Ve.x-Ce.x),ce.height=Math.abs(be.y-ge.y),ce.x=Ce.x+ce.width/2,ce.y=ge.y+ce.height/2}}),t.forEach(Q.nodes(),function(ie){Q.node(ie).dummy==="border"&&Q.removeNode(ie)})}function oe(Q){t.forEach(Q.edges(),function(ie){if(ie.v===ie.w){var ce=Q.node(ie.v);ce.selfEdges||(ce.selfEdges=[]),ce.selfEdges.push({e:ie,label:Q.edge(ie)}),Q.removeEdge(ie)}})}function ye(Q){var ie=v.buildLayerMatrix(Q);t.forEach(ie,function(ce){var ge=0;t.forEach(ce,function(be,Ce){var Ve=Q.node(be);Ve.order=Ce+ge,t.forEach(Ve.selfEdges,function(He){v.addDummyNode(Q,"selfedge",{width:He.label.width,height:He.label.height,rank:Ve.rank,order:Ce+ ++ge,e:He.e,label:He.label},"_se")}),delete Ve.selfEdges})})}function Y(Q){t.forEach(Q.nodes(),function(ie){var ce=Q.node(ie);if(ce.dummy==="selfedge"){var ge=Q.node(ce.e.v),be=ge.x+ge.width/2,Ce=ge.y,Ve=ce.x-be,He=ge.height/2;Q.setEdge(ce.e,ce.label),Q.removeNode(ie),ce.label.points=[{x:be+2*Ve/3,y:Ce-He},{x:be+5*Ve/6,y:Ce-He},{x:be+Ve,y:Ce},{x:be+5*Ve/6,y:Ce+He},{x:be+2*Ve/3,y:Ce+He}],ce.label.x=ce.x,ce.label.y=ce.y}})}function ee(Q,ie){return t.mapValues(t.pick(Q,ie),Number)}function pe(Q){var ie={};return t.forEach(Q,function(ce,ge){ie[ge.toLowerCase()]=ce}),ie}return N5}var M5,LI;function _ie(){if(LI)return M5;LI=1;var t=Jt(),e=Ir(),n=ji().Graph;M5={debugOrdering:r};function r(i){var o=e.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(c){l.setNode(c,{label:c}),l.setParent(c,"layer"+i.node(c).rank)}),t.forEach(i.edges(),function(c){l.setEdge(c.v,c.w,{},c.name)}),t.forEach(o,function(c,h){var f="layer"+h;l.setNode(f,{rank:"same"}),t.reduce(c,function(m,p){return l.setEdge(m,p,{style:"invis"}),p})}),l}return M5}var k5,qI;function bie(){return qI||(qI=1,k5="0.8.5"),k5}var D5,PI;function wie(){return PI||(PI=1,D5={graphlib:ji(),layout:yie(),debug:_ie(),util:{time:Ir().time,notime:Ir().notime},version:bie()}),D5}var xie=wie();const BI=Tm(xie),Sie=(t,e)=>({id:`e-${t}-${e}`,source:t,target:e,type:"smoothstep",markerEnd:{type:$0.ArrowClosed},style:{stroke:F7.parentLine}}),Eie=(t,e)=>({id:`dup-${t}-${e}`,source:t,target:e,type:"straight",animated:!0,style:{stroke:F7.duplicateLine,strokeDasharray:5},label:"Duplicate"}),O5=300,z5=120,Tie=(t,e)=>{const n=new BI.graphlib.Graph;n.setGraph({rankdir:"TB",nodesep:50,ranksep:80}),n.setDefaultEdgeLabel(()=>({}));const r=[],i=[];return t.forEach(l=>{const c=l.displayLatex;let h="";if(l.axiomId){const p=e.find(v=>v.id===l.axiomId);p&&(h=`\\\\ \\text{\\small{Axiom: ${p.canonicalName}}} \\\\ {\\tiny ${p.defaultLatex}}`)}const f=`\\begin{matrix} \\text{\\textbf{${c}}} ${h} \\end{matrix}`;n.setNode(l.id,{width:O5,height:z5});const m={...l,displayLatex:f,stats:l.stats||{greenVotes:0,blackVotes:0}};r.push({id:l.id,type:"mathNode",data:m,position:{x:0,y:0},targetPosition:Ye.Top,sourcePosition:Ye.Bottom}),l.parentId&&(i.push(Sie(l.parentId,l.id)),n.setEdge(l.parentId,l.id)),l.duplicateOfId&&i.push(Eie(l.id,l.duplicateOfId))}),BI.layout(n),{nodes:r.map(l=>{const c=n.node(l.id);return{...l,position:{x:c.x-O5/2,y:c.y-z5/2},style:{width:O5,height:z5}}}),edges:i}},Aie=({isOpen:t,onClose:e,onSelect:n,availableAxioms:r})=>{const[i,o]=le.useState(""),l=le.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.canonicalName.toLowerCase().includes(c)||h.defaultLatex.toLowerCase().includes(c))},[r,i]);return t?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Oe.drawerOverlay,onClick:e}),B.jsxs("div",{className:Oe.drawer,children:[B.jsxs("div",{className:Oe.drawerHeader,children:[B.jsx("h3",{children:"Axiom Library"}),B.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),B.jsx("div",{className:Oe.drawerSearch,children:B.jsx("input",{className:Oe.input,placeholder:"Search axioms (e.g. 'Commutativity' or '\\forall')...",value:i,onChange:c=>o(c.target.value),autoFocus:!0})}),B.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>B.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to select this axiom",children:[B.jsxs("div",{className:Oe.libraryItemHeader,children:[B.jsx("strong",{children:c.canonicalName}),B.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),B.jsx("div",{className:Oe.preview,children:B.jsx(Rr,{latex:c.defaultLatex})})]},c.id)):B.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No axioms found matching "',i,'"']})})]})]}):null},Cie=({parentName:t,rootEnvironment:e,availableAxioms:n,onClose:r,onSubmit:i})=>{const[o,l]=le.useState(""),[c,h]=le.useState(""),[f,m]=le.useState(`\\forall a, b \\in ${e.sets[0]}...`),[p,v]=le.useState(!1),[b,x]=le.useState(null),[S,E]=le.useState(!1),C=le.useMemo(()=>{if(!c||b)return[];const q=c.toLowerCase();return n.filter(I=>I.canonicalName.toLowerCase().includes(q)).slice(0,5)},[c,n,b]),O=q=>{h(q.canonicalName),m(q.defaultLatex),x(q.id),E(!1),v(!1)},A=q=>{h(q),E(!0),b&&x(null)},D=()=>{!o||!c||(i({structureName:o,axiomName:c,axiomLatex:f,existingAxiomId:b||void 0}),r())},j=`\\text{Sets: } \\{ ${e.sets.join(", ")} \\} \\quad \\text{Operators: } \\{ ${e.operators.join(", ")} \\}`;return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Oe.overlay,children:B.jsxs("div",{className:Oe.container,children:[B.jsxs("div",{className:Oe.header,children:[B.jsxs("h2",{children:["Extend: ",t]}),B.jsx("button",{className:Oe.closeButton,onClick:r,children:""})]}),B.jsxs("div",{className:Oe.body,children:[B.jsxs("p",{className:Oe.description,children:["Add an axiom to ",B.jsx("strong",{children:t})," to create a new Structure."]}),B.jsxs("div",{className:Oe.contextBox,children:[B.jsx("div",{className:Oe.contextLabel,children:"Defined Context (Immutable)"}),B.jsx(Rr,{latex:j})]}),B.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[B.jsx("label",{className:Oe.label,children:"1. Select or Name New Axiom"}),B.jsxs("div",{className:Oe.inputGroupRow,children:[B.jsx("input",{className:Oe.input,placeholder:"Type to search (e.g. 'Commutativity')...",value:c,onChange:q=>A(q.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),autoComplete:"off"}),B.jsx("button",{className:Oe.browseBtn,onClick:()=>v(!0),title:"Browse Axiom Library",children:""})]}),S&&C.length>0&&B.jsx("div",{className:Oe.suggestionsDropdown,children:C.map(q=>B.jsxs("div",{className:Oe.suggestionItem,onClick:()=>O(q),children:[B.jsx("strong",{children:q.canonicalName}),B.jsxs("span",{className:Oe.suggestionDetail,children:["- ",B.jsx(Rr,{latex:q.defaultLatex})]})]},q.id))})]}),B.jsxs("div",{className:Oe.group,children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[B.jsx("label",{className:Oe.label,children:"Axiom Formula (LaTeX)"}),b&&B.jsx("span",{style:{fontSize:"0.75rem",color:"#2e7d32",fontWeight:"bold"},children:" Linked to Library"})]}),B.jsx("input",{className:b?Oe.inputLocked:Oe.input,value:f,onChange:q=>!b&&m(q.target.value),readOnly:!!b,title:b?"This formula is locked because it is linked to a library axiom.":""}),B.jsx("div",{className:Oe.preview,children:B.jsx(Rr,{latex:f||"Preview..."})})]}),B.jsx("hr",{className:Oe.separator}),B.jsxs("div",{className:Oe.group,children:[B.jsx("label",{className:Oe.label,children:"2. Resulting Structure Name"}),B.jsx("input",{className:Oe.input,placeholder:"e.g. Abelian Group",value:o,onChange:q=>l(q.target.value)})]})]}),B.jsxs("div",{className:Oe.footer,children:[B.jsx("button",{className:Oe.cancelBtn,onClick:r,children:"Cancel"}),B.jsx("button",{className:Oe.submitBtn,onClick:D,children:"Create Structure"})]})]})}),B.jsx(Aie,{isOpen:p,onClose:()=>v(!1),onSelect:O,availableAxioms:n})]})},Rie="_explorerRoot_rof8f_3",Iie="_extendBtnContainer_rof8f_11",Nie="_extendBtn_rof8f_11",Mie="_plusIcon_rof8f_46",kie="_backBtnContainer_rof8f_53",Die="_backBtn_rof8f_53",Ru={explorerRoot:Rie,extendBtnContainer:Iie,extendBtn:Nie,plusIcon:Mie,backBtnContainer:kie,backBtn:Die},Oie=({universeId:t,onExit:e})=>{const{user:n}=yc(),[r,i]=le.useState([]),[o,l]=le.useState([]),[c,h]=le.useState([]),[f,m]=le.useState(null);le.useEffect(()=>{const te=Ar(On,"environments",t),$=Vu(te,Y=>{Y.exists()&&m(Y.data())}),W=VK(Od(On,"nodes"),LK("rootContextId","==",t)),re=Vu(W,Y=>{const ee=Y.docs.map(pe=>pe.data());i(ee)}),oe=Vu(Od(On,"axioms"),Y=>{const ee=Y.docs.map(pe=>pe.data());l(ee)}),ye=Vu(Od(On,"theorems"),Y=>{const ee=Y.docs.map(pe=>pe.data());h(ee)});return()=>{$(),re(),oe(),ye()}},[t]);const{nodes:p,edges:v}=le.useMemo(()=>Tie(r,o),[r,o]),[b,x,S]=mF(p),[E,C,O]=pF(v);le.useEffect(()=>{x(p),C(v)},[p,v,x,C]);const[A,D]=le.useState(null),[j,q]=le.useState(!1),I=le.useMemo(()=>({mathNode:iee}),[]),M=le.useMemo(()=>r.find(te=>te.id===A),[A,r]),k=le.useCallback((te,$)=>{D($.id)},[]),H=le.useCallback(()=>{D(null)},[]),V=async te=>{if(!A||!M||M.status==="deprecated"||M.status==="deadend")return;const $=Date.now();if(!n){alert("You must be signed in to contribute!");return}const W=n.uid;let re=te.existingAxiomId;if(!re){re=`ax-${$}`;const Y={id:re,canonicalName:te.axiomName,aliases:[],defaultLatex:te.axiomLatex,authorId:W,createdAt:$};try{await gl(Ar(On,"axioms",Y.id),Y)}catch(ee){console.error("Error creating axiom:",ee);return}}const ye={id:`struct-${$}`,type:"algebraic structure",parentId:A,axiomId:re,authorId:W,displayLatex:te.structureName,status:"unverified",rootContextId:t,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:$};try{await gl(Ar(On,"nodes",ye.id),ye),q(!1)}catch(Y){console.error("Error creating structure:",Y)}},U=async te=>{if(r.some(W=>W.parentId===te)){alert(`CRITICAL ERROR: Cannot delete this node because it has children.

Pruning a parent would orphan the entire branch. Please delete the children first.`);return}if(confirm(` ADMIN WARNING 

Are you sure you want to PERMANENTLY delete this node? This cannot be undone.`))try{await _6(Ar(On,"nodes",te)),D(null)}catch(W){console.error("Delete failed:",W),alert("Delete failed. Check console for details.")}},P=async te=>{if(confirm(` ADMIN WARNING 

Are you sure you want to PERMANENTLY delete this theorem?`))try{await _6(Ar(On,"theorems",te))}catch($){console.error("Theorem delete failed:",$),alert("Delete failed.")}},K=async te=>{if(!A)return;if(!n){alert("You must be signed in to contribute!");return}const $=n.uid,W=Date.now(),re={id:`th-${W}`,structureNodeId:A,name:te.name,aliases:[],statementLatex:te.statementLatex,proofLatex:te.proofLatex,authorId:$,createdAt:W,status:"unverified",stats:{greenVotes:0,blackVotes:0}};try{await gl(Ar(On,"theorems",re.id),re)}catch(oe){console.error("Error creating theorem:",oe)}};return B.jsxs("div",{className:Ru.explorerRoot,children:[B.jsx("div",{className:Ru.backBtnContainer,children:B.jsx("button",{onClick:e,className:Ru.backBtn,children:" Exit to Lobby"})}),A&&M?.status!=="deprecated"&&M?.status!=="deadend"&&B.jsx("div",{className:Ru.extendBtnContainer,children:B.jsxs("button",{onClick:()=>q(!0),className:Ru.extendBtn,children:[B.jsx("span",{className:Ru.plusIcon,children:"+"})," Extend Structure"]})}),B.jsx(eee,{nodes:b,edges:E,onNodesChange:S,onEdgesChange:O,onNodeClick:k,onPaneClick:H,nodeTypes:I,title:`\\text{${f?.name||"Universe"}}`}),M&&B.jsx(ate,{node:M,allNodes:r,allAxioms:o,allTheorems:c,onClose:()=>D(null),onAddTheorem:K,onDelete:U,onDeleteTheorem:P}),j&&M&&f&&B.jsx(Cie,{parentId:M.id,parentName:M.displayLatex,rootEnvironment:f,availableAxioms:o,onClose:()=>q(!1),onSubmit:V})]})},zie="_overlay_1waj4_3",Vie="_modal_1waj4_23",Lie="_header_1waj4_42",qie="_title_1waj4_52",Pie="_closeBtn_1waj4_59",Bie="_form_1waj4_76",Uie="_errorBanner_1waj4_81",jie="_sectionLabel_1waj4_91",Hie="_formGroup_1waj4_101",Fie="_row_1waj4_105",Gie="_label_1waj4_114",$ie="_input_1waj4_122",Yie="_textarea_1waj4_122",Xie="_divider_1waj4_151",Kie="_previewBox_1waj4_159",Qie="_previewLabel_1waj4_170",Zie="_previewContent_1waj4_177",Wie="_footer_1waj4_183",Jie="_cancelBtn_1waj4_192",eae="_createBtn_1waj4_208",_t={overlay:zie,modal:Vie,header:Lie,title:qie,closeBtn:Pie,form:Bie,errorBanner:Uie,sectionLabel:jie,formGroup:Hie,row:Fie,label:Gie,input:$ie,textarea:Yie,divider:Xie,previewBox:Kie,previewLabel:Qie,previewContent:Zie,footer:Wie,cancelBtn:Jie,createBtn:eae},tae=({onClose:t,onSubmit:e})=>{const[n,r]=le.useState(""),[i,o]=le.useState(""),[l,c]=le.useState(""),[h,f]=le.useState(""),[m,p]=le.useState(""),[v,b]=le.useState(""),[x,S]=le.useState(null),E=C=>{if(C.preventDefault(),S(null),!n.trim())return S("Universe Name is required.");if(!i.trim())return S("At least one Set is required.");if(!h.trim())return S("Root Node Name is required.");if(!m.trim())return S("Initial Axiom Name is required.");if(!v.trim())return S("Initial Axiom LaTeX is required.");const O=i.split(",").map(D=>D.trim()).filter(D=>D.length>0),A=l.split(",").map(D=>D.trim()).filter(D=>D.length>0);if(O.length===0)return S("Please enter valid set notation.");e({envName:n.trim(),sets:O,operators:A,rootNodeName:h.trim(),rootAxiomName:m.trim(),rootAxiomLatex:v.trim()})};return B.jsx("div",{className:_t.overlay,children:B.jsxs("div",{className:_t.modal,children:[B.jsxs("div",{className:_t.header,children:[B.jsx("h2",{className:_t.title,children:"Create New Universe"}),B.jsx("button",{onClick:t,className:_t.closeBtn,children:""})]}),B.jsxs("form",{onSubmit:E,className:_t.form,children:[x&&B.jsx("div",{className:_t.errorBanner,children:x}),B.jsx("div",{className:_t.sectionLabel,children:"1. Environment Context"}),B.jsxs("div",{className:_t.formGroup,children:[B.jsx("label",{className:_t.label,children:"Universe Name"}),B.jsx("input",{type:"text",value:n,onChange:C=>r(C.target.value),placeholder:"e.g. Group Theory",className:_t.input,autoFocus:!0})]}),B.jsxs("div",{className:_t.row,children:[B.jsxs("div",{className:_t.formGroup,children:[B.jsx("label",{className:_t.label,children:"Sets (comma sep.)"}),B.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),placeholder:"e.g. G",className:_t.input})]}),B.jsxs("div",{className:_t.formGroup,children:[B.jsx("label",{className:_t.label,children:"Operators"}),B.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"e.g. *",className:_t.input})]})]}),B.jsx("hr",{className:_t.divider}),B.jsx("div",{className:_t.sectionLabel,children:"2. Genesis Node (Root)"}),B.jsxs("div",{className:_t.formGroup,children:[B.jsx("label",{className:_t.label,children:"Root Structure Name"}),B.jsx("input",{type:"text",value:h,onChange:C=>f(C.target.value),placeholder:"e.g. Magma",className:_t.input})]}),B.jsxs("div",{className:_t.formGroup,children:[B.jsx("label",{className:_t.label,children:"Initial Axiom Name"}),B.jsx("input",{type:"text",value:m,onChange:C=>p(C.target.value),placeholder:"e.g. Closure",className:_t.input})]}),B.jsxs("div",{className:_t.formGroup,children:[B.jsx("label",{className:_t.label,children:"Initial Axiom Definition (LaTeX)"}),B.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"\\forall a, b \\in G, a * b \\in G",className:_t.textarea,rows:3}),v&&B.jsxs("div",{className:_t.previewBox,children:[B.jsx("span",{className:_t.previewLabel,children:"Preview:"}),B.jsx("div",{className:_t.previewContent,children:B.jsx(Rr,{latex:v})})]})]}),B.jsxs("div",{className:_t.footer,children:[B.jsx("button",{type:"button",onClick:t,className:_t.cancelBtn,children:"Cancel"}),B.jsx("button",{type:"submit",className:_t.createBtn,children:"Initialize Universe"})]})]})]})})},nae="_container_10839_3",rae="_loading_10839_13",iae="_title_10839_19",aae="_subtitle_10839_27",sae="_grid_10839_36",oae="_card_10839_45",lae="_cardHeader_10839_67",uae="_cardTitle_10839_72",cae="_tagContainer_10839_80",hae="_tag_10839_80",fae="_description_10839_97",dae="_enterBtn_10839_104",mae="_createCard_10839_124",pae="_createContent_10839_141",gae="_plusIcon_10839_147",vae="_deleteBtn_10839_167",Un={container:nae,loading:rae,title:iae,subtitle:aae,grid:sae,card:oae,cardHeader:lae,cardTitle:uae,tagContainer:cae,tag:hae,description:fae,enterBtn:dae,createCard:mae,createContent:pae,plusIcon:gae,deleteBtn:vae},yae=({onSelectUniverse:t})=>{const{profile:e}=yc(),n=e?.role==="admin",[r,i]=le.useState([]),[o,l]=le.useState(!1),[c,h]=le.useState(!0);le.useEffect(()=>{const p=Vu(Od(On,"environments"),v=>{const b=v.docs.map(x=>({id:x.id,...x.data()}));i(b),h(!1)});return()=>p()},[]);const f=async p=>{const v=Date.now(),b=`env-${v}`,x=`ax-${v}`,S=`node-${v}`,E=e?.uid||"system",C={id:b,name:p.envName,sets:p.sets,operators:p.operators},O={id:x,canonicalName:p.rootAxiomName,aliases:[],defaultLatex:p.rootAxiomLatex,authorId:E,createdAt:v},A={id:S,type:"algebraic structure",parentId:null,axiomId:x,authorId:E,displayLatex:`\\text{${p.rootNodeName}}`,status:"verified",rootContextId:b,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:v};try{await gl(Ar(On,"environments",b),C),await gl(Ar(On,"axioms",x),O),await gl(Ar(On,"nodes",S),A),console.log(`Created Universe: ${b}, Node: ${S}`),l(!1)}catch(D){console.error("Failed to create universe:",D),alert("Error creating universe. See console.")}},m=async(p,v)=>{if(p.stopPropagation(),!!confirm(` ADMIN WARNING 
Delete this Universe? This does not delete the nodes inside it yet.`))try{await _6(Ar(On,"environments",v))}catch(b){console.error("Delete failed:",b)}};return c?B.jsx("div",{className:Un.loading,children:"Loading..."}):B.jsxs("div",{className:Un.container,children:[B.jsx("h1",{className:Un.title,children:"Algebraic Structures"}),B.jsx("p",{className:Un.subtitle,children:"Select a context to explore."}),B.jsxs("div",{className:Un.grid,children:[n&&B.jsx("div",{className:`${Un.card} ${Un.createCard}`,onClick:()=>l(!0),children:B.jsxs("div",{className:Un.createContent,children:[B.jsx("div",{className:Un.plusIcon,children:"+"}),B.jsx("h3",{children:"Create Universe"})]})}),r.map(p=>B.jsxs("div",{className:Un.card,onClick:()=>t(p.id),children:[B.jsxs("div",{className:Un.cardHeader,children:[B.jsx("h2",{className:Un.cardTitle,children:p.name}),n&&B.jsx("button",{className:Un.deleteBtn,onClick:v=>m(v,p.id),children:""}),B.jsxs("div",{className:Un.tagContainer,children:[B.jsxs("span",{className:Un.tag,children:["Sets: ",B.jsx(Rr,{latex:`\\{ ${p.sets.join(", ")} \\}`})]}),B.jsxs("span",{className:Un.tag,children:["Ops: ",B.jsx(Rr,{latex:`\\{ ${p.operators.join(", ")} \\}`})]})]})]}),B.jsxs("div",{className:Un.description,children:["Contains ",B.jsxs("strong",{children:[p.sets.length," Sets"]})," and ",B.jsxs("strong",{children:[p.operators.length," Operators"]}),"."]}),B.jsx("button",{className:Un.enterBtn,children:"Enter "})]},p.id))]}),o&&B.jsx(tae,{onClose:()=>l(!1),onSubmit:f})]})},_ae="_loginBtn_1ia85_4",bae="_container_1ia85_22",wae="_avatar_1ia85_33",xae="_userInfo_1ia85_40",Sae="_userName_1ia85_46",Eae="_adminBadge_1ia85_52",Tae="_logoutBtn_1ia85_60",ll={loginBtn:_ae,container:bae,avatar:wae,userInfo:xae,userName:Sae,adminBadge:Eae,logoutBtn:Tae},Aae=()=>{const{user:t,profile:e,signInWithGoogle:n,logout:r}=yc();return t?B.jsxs("div",{className:ll.container,children:[t.photoURL&&B.jsx("img",{src:t.photoURL,alt:`${t.displayName}'s avatar`,className:ll.avatar}),B.jsxs("div",{className:ll.userInfo,children:[B.jsx("span",{className:ll.userName,children:t.displayName}),e?.role==="admin"&&B.jsx("span",{className:ll.adminBadge,children:"Administrator"})]}),B.jsx("button",{onClick:r,className:ll.logoutBtn,"aria-label":"Sign out",children:"Sign Out"})]}):B.jsx("button",{onClick:n,className:ll.loginBtn,children:"Sign in with Google"})};function Cae(){const[t,e]=le.useState(null);return B.jsxs(tee,{children:[B.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:1e3},children:B.jsx(Aae,{})}),B.jsx("div",{className:"app-container",children:t?B.jsx(Oie,{universeId:t,onExit:()=>e(null)}):B.jsx(yae,{onSelectUniverse:e})})]})}VL.createRoot(document.getElementById("root")).render(B.jsx(UI.StrictMode,{children:B.jsx(Cae,{})}));
