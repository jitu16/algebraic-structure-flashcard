(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ig={exports:{}},v0={};var W9;function LL(){if(W9)return v0;W9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return v0.Fragment=e,v0.jsx=n,v0.jsxs=n,v0}var J9;function qL(){return J9||(J9=1,Ig.exports=LL()),Ig.exports}var L=qL(),Ng={exports:{}},at={};var ew;function PL(){if(ew)return at;ew=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(Y,W,me){this.props=Y,this.context=W,this.refs=E,this.updater=me||x}C.prototype.isReactComponent={},C.prototype.setState=function(Y,W){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,W,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=C.prototype;function T(Y,W,me){this.props=Y,this.context=W,this.refs=E,this.updater=me||x}var O=T.prototype=new M;O.constructor=T,S(O,C.prototype),O.isPureReactComponent=!0;var B=Array.isArray;function q(){}var R={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function D(Y,W,me){var Q=me.ref;return{$$typeof:t,type:Y,key:W,ref:Q!==void 0?Q:null,props:me}}function H(Y,W){return D(Y.type,W,Y.props)}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function j(Y){var W={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(me){return W[me]})}var U=/\/+/g;function K(Y,W){return typeof Y=="object"&&Y!==null&&Y.key!=null?j(""+Y.key):W.toString(36)}function ne(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(q,q):(Y.status="pending",Y.then(function(W){Y.status==="pending"&&(Y.status="fulfilled",Y.value=W)},function(W){Y.status==="pending"&&(Y.status="rejected",Y.reason=W)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function $(Y,W,me,Q,ie){var le=typeof Y;(le==="undefined"||le==="boolean")&&(Y=null);var he=!1;if(Y===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(Y.$$typeof){case t:case e:he=!0;break;case m:return he=Y._init,$(he(Y._payload),W,me,Q,ie)}}if(he)return ie=ie(Y),he=Q===""?"."+K(Y,0):Q,B(ie)?(me="",he!=null&&(me=he.replace(U,"$&/")+"/"),$(ie,W,me,"",function(Ve){return Ve})):ie!=null&&(V(ie)&&(ie=H(ie,me+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(U,"$&/")+"/")+he)),W.push(ie)),1;he=0;var _e=Q===""?".":Q+":";if(B(Y))for(var Ce=0;Ce<Y.length;Ce++)Q=Y[Ce],le=_e+K(Q,Ce),he+=$(Q,W,me,le,ie);else if(Ce=b(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(Q=Y.next()).done;)Q=Q.value,le=_e+K(Q,Ce++),he+=$(Q,W,me,le,ie);else if(le==="object"){if(typeof Y.then=="function")return $(ne(Y),W,me,Q,ie);throw W=String(Y),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return he}function ee(Y,W,me){if(Y==null)return Y;var Q=[],ie=0;return $(Y,Q,"","",function(le){return W.call(me,le,ie++)}),Q}function re(Y){if(Y._status===-1){var W=Y._result;W=W(),W.then(function(me){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=me)},function(me){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=me)}),Y._status===-1&&(Y._status=0,Y._result=W)}if(Y._status===1)return Y._result.default;throw Y._result}var ce=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},de={map:ee,forEach:function(Y,W,me){ee(Y,function(){W.apply(this,arguments)},me)},count:function(Y){var W=0;return ee(Y,function(){W++}),W},toArray:function(Y){return ee(Y,function(W){return W})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return at.Activity=p,at.Children=de,at.Component=C,at.Fragment=n,at.Profiler=i,at.PureComponent=T,at.StrictMode=r,at.Suspense=h,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,at.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return R.H.useMemoCache(Y)}},at.cache=function(Y){return function(){return Y.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(Y,W,me){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Q=S({},Y.props),ie=Y.key;if(W!=null)for(le in W.key!==void 0&&(ie=""+W.key),W)!k.call(W,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&W.ref===void 0||(Q[le]=W[le]);var le=arguments.length-2;if(le===1)Q.children=me;else if(1<le){for(var he=Array(le),_e=0;_e<le;_e++)he[_e]=arguments[_e+2];Q.children=he}return D(Y.type,ie,Q)},at.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},at.createElement=function(Y,W,me){var Q,ie={},le=null;if(W!=null)for(Q in W.key!==void 0&&(le=""+W.key),W)k.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=W[Q]);var he=arguments.length-2;if(he===1)ie.children=me;else if(1<he){for(var _e=Array(he),Ce=0;Ce<he;Ce++)_e[Ce]=arguments[Ce+2];ie.children=_e}if(Y&&Y.defaultProps)for(Q in he=Y.defaultProps,he)ie[Q]===void 0&&(ie[Q]=he[Q]);return D(Y,le,ie)},at.createRef=function(){return{current:null}},at.forwardRef=function(Y){return{$$typeof:c,render:Y}},at.isValidElement=V,at.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},at.memo=function(Y,W){return{$$typeof:f,type:Y,compare:W===void 0?null:W}},at.startTransition=function(Y){var W=R.T,me={};R.T=me;try{var Q=Y(),ie=R.S;ie!==null&&ie(me,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(q,ce)}catch(le){ce(le)}finally{W!==null&&me.types!==null&&(W.types=me.types),R.T=W}},at.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},at.use=function(Y){return R.H.use(Y)},at.useActionState=function(Y,W,me){return R.H.useActionState(Y,W,me)},at.useCallback=function(Y,W){return R.H.useCallback(Y,W)},at.useContext=function(Y){return R.H.useContext(Y)},at.useDebugValue=function(){},at.useDeferredValue=function(Y,W){return R.H.useDeferredValue(Y,W)},at.useEffect=function(Y,W){return R.H.useEffect(Y,W)},at.useEffectEvent=function(Y){return R.H.useEffectEvent(Y)},at.useId=function(){return R.H.useId()},at.useImperativeHandle=function(Y,W,me){return R.H.useImperativeHandle(Y,W,me)},at.useInsertionEffect=function(Y,W){return R.H.useInsertionEffect(Y,W)},at.useLayoutEffect=function(Y,W){return R.H.useLayoutEffect(Y,W)},at.useMemo=function(Y,W){return R.H.useMemo(Y,W)},at.useOptimistic=function(Y,W){return R.H.useOptimistic(Y,W)},at.useReducer=function(Y,W,me){return R.H.useReducer(Y,W,me)},at.useRef=function(Y){return R.H.useRef(Y)},at.useState=function(Y){return R.H.useState(Y)},at.useSyncExternalStore=function(Y,W,me){return R.H.useSyncExternalStore(Y,W,me)},at.useTransition=function(){return R.H.useTransition()},at.version="19.2.3",at}var tw;function uh(){return tw||(tw=1,Ng.exports=PL()),Ng.exports}var oe=uh();const FI=Nm(oe);var Mg={exports:{}},y0={},kg={exports:{}},Dg={};var nw;function BL(){return nw||(nw=1,(function(t){function e($,ee){var re=$.length;$.push(ee);e:for(;0<re;){var ce=re-1>>>1,de=$[ce];if(0<i(de,ee))$[ce]=ee,$[re]=de,re=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],re=$.pop();if(re!==ee){$[0]=re;e:for(var ce=0,de=$.length,Y=de>>>1;ce<Y;){var W=2*(ce+1)-1,me=$[W],Q=W+1,ie=$[Q];if(0>i(me,re))Q<de&&0>i(ie,me)?($[ce]=ie,$[Q]=re,ce=Q):($[ce]=me,$[W]=re,ce=W);else if(Q<de&&0>i(ie,re))$[ce]=ie,$[Q]=re,ce=Q;else break e}}return ee}function i($,ee){var re=$.sortIndex-ee.sortIndex;return re!==0?re:$.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,p=null,v=3,b=!1,x=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O($){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=$)r(f),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(f)}}function B($){if(S=!1,O($),!x)if(n(h)!==null)x=!0,q||(q=!0,j());else{var ee=n(f);ee!==null&&ne(B,ee.startTime-$)}}var q=!1,R=-1,k=5,D=-1;function H(){return E?!0:!(t.unstable_now()-D<k)}function V(){if(E=!1,q){var $=t.unstable_now();D=$;var ee=!0;try{e:{x=!1,S&&(S=!1,M(R),R=-1),b=!0;var re=v;try{t:{for(O($),p=n(h);p!==null&&!(p.expirationTime>$&&H());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,v=p.priorityLevel;var de=ce(p.expirationTime<=$);if($=t.unstable_now(),typeof de=="function"){p.callback=de,O($),ee=!0;break t}p===n(h)&&r(h),O($)}else r(h);p=n(h)}if(p!==null)ee=!0;else{var Y=n(f);Y!==null&&ne(B,Y.startTime-$),ee=!1}}break e}finally{p=null,v=re,b=!1}ee=void 0}}finally{ee?j():q=!1}}}var j;if(typeof T=="function")j=function(){T(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=V,j=function(){K.postMessage(null)}}else j=function(){C(V,0)};function ne($,ee){R=C(function(){$(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var re=v;v=ee;try{return $()}finally{v=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=v;v=$;try{return ee()}finally{v=re}},t.unstable_scheduleCallback=function($,ee,re){var ce=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ce+re:ce):re=ce,$){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=re+de,$={id:m++,callback:ee,priorityLevel:$,startTime:re,expirationTime:de,sortIndex:-1},re>ce?($.sortIndex=re,e(f,$),n(h)===null&&$===n(f)&&(S?(M(R),R=-1):S=!0,ne(B,re-ce))):($.sortIndex=de,e(h,$),x||b||(x=!0,q||(q=!0,j()))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var ee=v;return function(){var re=v;v=ee;try{return $.apply(this,arguments)}finally{v=re}}}})(Dg)),Dg}var rw;function UL(){return rw||(rw=1,kg.exports=BL()),kg.exports}var Og={exports:{}},ir={};var iw;function jL(){if(iw)return ir;iw=1;var t=uh();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},ir.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},ir.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},ir.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ir.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ir.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},ir.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ir.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},ir.requestFormReset=function(h){r.d.r(h)},ir.unstable_batchedUpdates=function(h,f){return h(f)},ir.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.2.3",ir}var aw;function GI(){if(aw)return Og.exports;aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Og.exports=jL(),Og.exports}var sw;function HL(){if(sw)return y0;sw=1;var t=UL(),e=uh(),n=GI();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return h(y),a;if(_===d)return h(y),o;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=_;else{for(var N=!1,F=y.child;F;){if(F===u){N=!0,u=y,d=_;break}if(F===d){N=!0,d=y,u=_;break}F=F.sibling}if(!N){for(F=_.child;F;){if(F===u){N=!0,u=_,d=y;break}if(F===d){N=!0,d=_,u=y;break}F=F.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case T:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case O:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:K(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return K(a(o))}catch{}}return null}var ne=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ce=[],de=-1;function Y(a){return{current:a}}function W(a){0>de||(a.current=ce[de],ce[de]=null,de--)}function me(a,o){de++,ce[de]=a.current,a.current=o}var Q=Y(null),ie=Y(null),le=Y(null),he=Y(null);function _e(a,o){switch(me(le,o),me(ie,a),me(Q,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?w9(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=w9(o),a=x9(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(Q),me(Q,a)}function Ce(){W(Q),W(ie),W(le)}function Ve(a){a.memoizedState!==null&&me(he,a);var o=Q.current,u=x9(o,a.type);o!==u&&(me(ie,a),me(Q,u))}function He(a){ie.current===a&&(W(Q),W(ie)),he.current===a&&(W(he),d0._currentValue=re)}var je,Pe;function Ge(a){if(je===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);je=o&&o[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+a+Pe}var Be=!1;function it(a,o){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(we){var ye=we}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(we){ye=we}a.call(Te.prototype)}}else{try{throw Error()}catch(we){ye=we}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(we){if(we&&ye&&typeof we.stack=="string")return[we.stack,ye.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),N=_[0],F=_[1];if(N&&F){var te=N.split(`
`),ve=F.split(`
`);for(y=d=0;d<te.length&&!te[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ve.length&&!ve[y].includes("DetermineComponentFrameRoot");)y++;if(d===te.length||y===ve.length)for(d=te.length-1,y=ve.length-1;1<=d&&0<=y&&te[d]!==ve[y];)y--;for(;1<=d&&0<=y;d--,y--)if(te[d]!==ve[y]){if(d!==1||y!==1)do if(d--,y--,0>y||te[d]!==ve[y]){var xe=`
`+te[d].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=d&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function $e(a,o){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return it(a.type,!1);case 11:return it(a.type.render,!1);case 1:return it(a.type,!0);case 31:return Ge("Activity");default:return""}}function Ht(a){try{var o="",u=null;do o+=$e(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var st=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,Vn=t.unstable_cancelCallback,Bn=t.unstable_shouldYield,$t=t.unstable_requestPaint,Qt=t.unstable_now,Gn=t.unstable_getCurrentPriorityLevel,gr=t.unstable_ImmediatePriority,vr=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,_s=t.unstable_LowPriority,Ei=t.unstable_IdlePriority,bs=t.log,Ea=t.unstable_setDisableYieldValue,cn=null,Bt=null;function yr(a){if(typeof bs=="function"&&Ea(a),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(cn,a)}catch{}}var rn=Math.clz32?Math.clz32:Pl,ql=Math.log,ws=Math.LN2;function Pl(a){return a>>>=0,a===0?32:31-(ql(a)/ws|0)|0}var Jr=256,Ta=262144,hn=4194304;function ei(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ti(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var F=d&134217727;return F!==0?(d=F&~_,d!==0?y=ei(d):(N&=F,N!==0?y=ei(N):u||(u=F&~a,u!==0&&(y=ei(u))))):(F=d&~_,F!==0?y=ei(F):N!==0?y=ei(N):u||(u=d&~a,u!==0&&(y=ei(u)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:y}function kr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Tc(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var a=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),a}function ni(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Aa(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ac(a,o,u,d,y,_){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var F=a.entanglements,te=a.expirationTimes,ve=a.hiddenUpdates;for(u=N&~u;0<u;){var xe=31-rn(u),Te=1<<xe;F[xe]=0,te[xe]=-1;var ye=ve[xe];if(ye!==null)for(ve[xe]=null,xe=0;xe<ye.length;xe++){var we=ye[xe];we!==null&&(we.lane&=-536870913)}u&=~Te}d!==0&&Ca(a,d,0),_!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~o))}function Ca(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-rn(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function Do(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-rn(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function Oo(a,o){var u=o&-o;return u=(u&42)!==0?1:Ra(u),(u&(a.suspendedLanes|o))!==0?0:u}function Ra(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ti(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ul(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:G9(a.type))}function Dr(a,o){var u=ee.p;try{return ee.p=a,o()}finally{ee.p=u}}var Or=Math.random().toString(36).slice(2),fn="__reactFiber$"+Or,Sn="__reactProps$"+Or,zr="__reactContainer$"+Or,Ia="__reactEvents$"+Or,jl="__reactListeners$"+Or,Hl="__reactHandles$"+Or,Fl="__reactResources$"+Or,ri="__reactMarker$"+Or;function xs(a){delete a[fn],delete a[Sn],delete a[Ia],delete a[jl],delete a[Hl]}function ii(a){var o=a[fn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[zr]||u[fn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=I9(a);a!==null;){if(u=a[fn])return u;a=I9(a)}return o}a=u,u=a.parentNode}return null}function _r(a){if(a=a[fn]||a[zr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function nr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ai(a){var o=a[Fl];return o||(o=a[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function dn(a){a[ri]=!0}var zo=new Set,Vo={};function si(a,o){oi(a,o),oi(a+"Capture",o)}function oi(a,o){for(Vo[a]=o,a=0;a<o.length;a++)zo.add(o[a])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ss={},qo={};function Gl(a){return st.call(qo,a)?!0:st.call(Ss,a)?!1:Lo.test(a)?qo[a]=!0:(Ss[a]=!0,!1)}function Es(a,o,u){if(Gl(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ur(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function mn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function En(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Yi(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Po(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(N){u=""+N,_.call(this,N)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Et(a){if(!a._valueTracker){var o=Yi(a)?"checked":"value";a._valueTracker=Po(a,o,""+a[o])}}function Na(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=Yi(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function Vr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ma=/[\n"\\]/g;function rr(a){return a.replace(Ma,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xi(a,o,u,d,y,_,N,F){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+En(o)):a.value!==""+En(o)&&(a.value=""+En(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?Bo(a,N,En(o)):u!=null?Bo(a,N,En(u)):d!=null&&a.removeAttribute("value"),y==null&&_!=null&&(a.defaultChecked=!!_),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+En(F):a.removeAttribute("name")}function $l(a,o,u,d,y,_,N,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Et(a);return}u=u!=null?""+En(u):"",o=o!=null?""+En(o):u,F||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=F?a.checked:!!d,a.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Et(a)}function Bo(a,o,u){o==="number"&&Vr(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ai(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+En(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Ph(a,o,u){if(o!=null&&(o=""+En(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+En(u):""}function Ts(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(ne(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=En(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),Et(a)}function br(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||Bh.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Rc(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&Cc(a,y,d)}else for(var _ in o)o.hasOwnProperty(_)&&Cc(a,_,o[_])}function Yl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(a){return As.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ci(){}var Ic=null;function li(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cs=null,Ki=null;function Uo(a){var o=_r(a);if(o&&(a=o.stateNode)){var u=a[Sn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Xi(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+rr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[Sn]||null;if(!y)throw Error(r(90));Xi(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&Na(d)}break e;case"textarea":Ph(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ai(a,!!u.multiple,o,!1)}}}var Kl=!1;function Rs(a,o,u){if(Kl)return a(o,u);Kl=!0;try{var d=a(o);return d}finally{if(Kl=!1,(Cs!==null||Ki!==null)&&(zf(),Cs&&(o=Cs,a=Ki,Ki=Cs=null,Uo(o),a)))for(o=0;o<a.length;o++)Uo(a[o])}}function Ri(a,o){var u=a.stateNode;if(u===null)return null;var d=u[Sn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(ui)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{jo=!1}var Qi=null,Nc=null,Ho=null;function Mc(){if(Ho)return Ho;var a,o=Nc,u=o.length,d,y="value"in Qi?Qi.value:Qi.textContent,_=y.length;for(a=0;a<u&&o[a]===y[a];a++);var N=u-a;for(d=1;d<=N&&o[u-d]===y[_-d];d++);return Ho=y.slice(a,1<d?1-d:void 0)}function Fo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ka(){return!0}function Ii(){return!1}function $n(a){function o(u,d,y,_,N){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(u=a[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ka:Ii,this.isPropagationStopped=Ii,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),o}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=$n(Da),Is=p({},Da,{view:0,detail:0}),kc=$n(Is),Ns,Ql,Wi,Zl=p({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Wi&&(Wi&&a.type==="mousemove"?(Ns=a.screenX-Wi.screenX,Ql=a.screenY-Wi.screenY):Ql=Ns=0,Wi=a),Ns)},movementY:function(a){return"movementY"in a?a.movementY:Ql}}),Dc=$n(Zl),Go=p({},Zl,{dataTransfer:0}),jh=$n(Go),Hh=p({},Is,{relatedTarget:0}),$o=$n(Hh),Oc=p({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=$n(Oc),Wl=p({},Da,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Gh=$n(Wl),$h=p({},Da,{data:0}),Ji=$n($h),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Kh[a])?!!o[a]:!1}function Ms(){return Qh}var cr=p({},Is,{key:function(a){if(a.key){var o=Yh[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Fo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Xh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(a){return a.type==="keypress"?Fo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Zh=$n(cr),Wh=p({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=$n(Wh),g=p({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),A=$n(g),z=p({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=$n(z),fe=p({},Zl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),be=$n(fe),Me=p({},Da,{newState:0,oldState:0}),ot=$n(Me),yn=[9,13,27,32],Rt=ui&&"CompositionEvent"in window,Zt=null;ui&&"documentMode"in document&&(Zt=document.documentMode);var ci=ui&&"TextEvent"in window&&!Zt,ea=ui&&(!Rt||Zt&&8<Zt&&11>=Zt),Ni=" ",Mi=!1;function Yo(a,o){switch(a){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var eu=!1;function oV(a,o){switch(a){case"compositionend":return Jl(o);case"keypress":return o.which!==32?null:(Mi=!0,Ni);case"textInput":return a=o.data,a===Ni&&Mi?null:a;default:return null}}function lV(a,o){if(eu)return a==="compositionend"||!Rt&&Yo(a,o)?(a=Mc(),Ho=Nc=Qi=null,eu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ea&&o.locale!=="ko"?null:o.data;default:return null}}var uV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k7(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!uV[a.type]:o==="textarea"}function D7(a,o,u,d){Cs?Ki?Ki.push(d):Ki=[d]:Cs=d,o=jf(o,"onChange"),0<o.length&&(u=new Zi("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var zc=null,Vc=null;function cV(a){p9(a,0)}function Jh(a){var o=nr(a);if(Na(o))return a}function O7(a,o){if(a==="change")return o}var z7=!1;if(ui){var V1;if(ui){var L1="oninput"in document;if(!L1){var V7=document.createElement("div");V7.setAttribute("oninput","return;"),L1=typeof V7.oninput=="function"}V1=L1}else V1=!1;z7=V1&&(!document.documentMode||9<document.documentMode)}function L7(){zc&&(zc.detachEvent("onpropertychange",q7),Vc=zc=null)}function q7(a){if(a.propertyName==="value"&&Jh(Vc)){var o=[];D7(o,Vc,a,li(a)),Rs(cV,o)}}function hV(a,o,u){a==="focusin"?(L7(),zc=o,Vc=u,zc.attachEvent("onpropertychange",q7)):a==="focusout"&&L7()}function fV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jh(Vc)}function dV(a,o){if(a==="click")return Jh(o)}function mV(a,o){if(a==="input"||a==="change")return Jh(o)}function pV(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Lr=typeof Object.is=="function"?Object.is:pV;function Lc(a,o){if(Lr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!st.call(o,y)||!Lr(a[y],o[y]))return!1}return!0}function P7(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function B7(a,o){var u=P7(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=P7(u)}}function U7(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?U7(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function j7(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Vr(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Vr(a.document)}return o}function q1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var gV=ui&&"documentMode"in document&&11>=document.documentMode,tu=null,P1=null,qc=null,B1=!1;function H7(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;B1||tu==null||tu!==Vr(d)||(d=tu,"selectionStart"in d&&q1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qc&&Lc(qc,d)||(qc=d,d=jf(P1,"onSelect"),0<d.length&&(o=new Zi("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=tu)))}function Xo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var nu={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionrun:Xo("Transition","TransitionRun"),transitionstart:Xo("Transition","TransitionStart"),transitioncancel:Xo("Transition","TransitionCancel"),transitionend:Xo("Transition","TransitionEnd")},U1={},F7={};ui&&(F7=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function Ko(a){if(U1[a])return U1[a];if(!nu[a])return a;var o=nu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in F7)return U1[a]=o[u];return a}var G7=Ko("animationend"),$7=Ko("animationiteration"),Y7=Ko("animationstart"),vV=Ko("transitionrun"),yV=Ko("transitionstart"),_V=Ko("transitioncancel"),X7=Ko("transitionend"),K7=new Map,j1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");j1.push("scrollEnd");function ki(a,o){K7.set(a,o),si(o,[a])}var ef=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},hi=[],ru=0,H1=0;function tf(){for(var a=ru,o=H1=ru=0;o<a;){var u=hi[o];hi[o++]=null;var d=hi[o];hi[o++]=null;var y=hi[o];hi[o++]=null;var _=hi[o];if(hi[o++]=null,d!==null&&y!==null){var N=d.pending;N===null?y.next=y:(y.next=N.next,N.next=y),d.pending=y}_!==0&&Q7(u,y,_)}}function nf(a,o,u,d){hi[ru++]=a,hi[ru++]=o,hi[ru++]=u,hi[ru++]=d,H1|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function F1(a,o,u,d){return nf(a,o,u,d),rf(a)}function Qo(a,o){return nf(a,null,null,o),rf(a)}function Q7(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,_=a.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(y=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,y&&o!==null&&(y=31-rn(u),a=_.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),_):null}function rf(a){if(50<s0)throw s0=0,Jp=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var iu={};function bV(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(a,o,u,d){return new bV(a,o,u,d)}function G1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function za(a,o){var u=a.alternate;return u===null?(u=qr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Z7(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function af(a,o,u,d,y,_){var N=0;if(d=a,typeof a=="function")G1(a)&&(N=1);else if(typeof a=="string")N=TL(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=qr(31,u,o,y),a.elementType=D,a.lanes=_,a;case S:return Zo(u.children,y,_,o);case E:N=8,y|=24;break;case C:return a=qr(12,u,o,y|2),a.elementType=C,a.lanes=_,a;case B:return a=qr(13,u,o,y),a.elementType=B,a.lanes=_,a;case q:return a=qr(19,u,o,y),a.elementType=q,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:N=10;break e;case M:N=9;break e;case O:N=11;break e;case R:N=14;break e;case k:N=16,d=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=qr(N,u,o,y),o.elementType=a,o.type=d,o.lanes=_,o}function Zo(a,o,u,d){return a=qr(7,a,d,o),a.lanes=u,a}function $1(a,o,u){return a=qr(6,a,null,o),a.lanes=u,a}function W7(a){var o=qr(18,null,null,0);return o.stateNode=a,o}function Y1(a,o,u){return o=qr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var J7=new WeakMap;function fi(a,o){if(typeof a=="object"&&a!==null){var u=J7.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Ht(o)},J7.set(a,o),o)}return{value:a,source:o,stack:Ht(o)}}var au=[],su=0,sf=null,Pc=0,di=[],mi=0,ks=null,ta=1,na="";function Va(a,o){au[su++]=Pc,au[su++]=sf,sf=a,Pc=o}function eb(a,o,u){di[mi++]=ta,di[mi++]=na,di[mi++]=ks,ks=a;var d=ta;a=na;var y=32-rn(d)-1;d&=~(1<<y),u+=1;var _=32-rn(o)+y;if(30<_){var N=y-y%5;_=(d&(1<<N)-1).toString(32),d>>=N,y-=N,ta=1<<32-rn(o)+y|u<<y|d,na=_+a}else ta=1<<_|u<<y|d,na=a}function X1(a){a.return!==null&&(Va(a,1),eb(a,1,0))}function K1(a){for(;a===sf;)sf=au[--su],au[su]=null,Pc=au[--su],au[su]=null;for(;a===ks;)ks=di[--mi],di[mi]=null,na=di[--mi],di[mi]=null,ta=di[--mi],di[mi]=null}function tb(a,o){di[mi++]=ta,di[mi++]=na,di[mi++]=ks,ta=o.id,na=o.overflow,ks=a}var Yn=null,Yt=null,yt=!1,Ds=null,pi=!1,Q1=Error(r(519));function Os(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(fi(o,a)),Q1}function nb(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[fn]=a,o[Sn]=d,u){case"dialog":ft("cancel",o),ft("close",o);break;case"iframe":case"object":case"embed":ft("load",o);break;case"video":case"audio":for(u=0;u<l0.length;u++)ft(l0[u],o);break;case"source":ft("error",o);break;case"img":case"image":case"link":ft("error",o),ft("load",o);break;case"details":ft("toggle",o);break;case"input":ft("invalid",o),$l(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ft("invalid",o);break;case"textarea":ft("invalid",o),Ts(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||_9(o.textContent,u)?(d.popover!=null&&(ft("beforetoggle",o),ft("toggle",o)),d.onScroll!=null&&ft("scroll",o),d.onScrollEnd!=null&&ft("scrollend",o),d.onClick!=null&&(o.onclick=Ci),o=!0):o=!1,o||Os(a,!0)}function rb(a){for(Yn=a.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:Yn=Yn.return}}function ou(a){if(a!==Yn)return!1;if(!yt)return rb(a),yt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||mg(a.type,a.memoizedProps)),u=!u),u&&Yt&&Os(a),rb(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Yt=R9(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Yt=R9(a)}else o===27?(o=Yt,Xs(a.type)?(a=_g,_g=null,Yt=a):Yt=o):Yt=Yn?vi(a.stateNode.nextSibling):null;return!0}function Wo(){Yt=Yn=null,yt=!1}function Z1(){var a=Ds;return a!==null&&(Er===null?Er=a:Er.push.apply(Er,a),Ds=null),a}function Bc(a){Ds===null?Ds=[a]:Ds.push(a)}var W1=Y(null),Jo=null,La=null;function zs(a,o,u){me(W1,o._currentValue),o._currentValue=u}function qa(a){a._currentValue=W1.current,W(W1)}function J1(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function ep(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){var N=y.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=y;for(var te=0;te<o.length;te++)if(F.context===o[te]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),J1(_.return,u,a),d||(N=null);break e}_=F.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,_=N.alternate,_!==null&&(_.lanes|=u),J1(N,u,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function lu(a,o,u,d){a=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var F=y.type;Lr(y.pendingProps.value,N.value)||(a!==null?a.push(F):a=[F])}}else if(y===he.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(d0):a=[d0])}y=y.return}a!==null&&ep(o,a,u,d),o.flags|=262144}function of(a){for(a=a.firstContext;a!==null;){if(!Lr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function el(a){Jo=a,La=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xn(a){return ib(Jo,a)}function lf(a,o){return Jo===null&&el(a),ib(a,o)}function ib(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},La===null){if(a===null)throw Error(r(308));La=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else La=La.next=o;return u}var wV=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},xV=t.unstable_scheduleCallback,SV=t.unstable_NormalPriority,Tn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new wV,data:new Map,refCount:0}}function Uc(a){a.refCount--,a.refCount===0&&xV(SV,function(){a.controller.abort()})}var jc=null,np=0,uu=0,cu=null;function EV(a,o){if(jc===null){var u=jc=[];np=0,uu=ag(),cu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return np++,o.then(ab,ab),o}function ab(){if(--np===0&&jc!==null){cu!==null&&(cu.status="fulfilled");var a=jc;jc=null,uu=0,cu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function TV(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var sb=$.S;$.S=function(a,o){H8=Qt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&EV(a,o),sb!==null&&sb(a,o)};var tl=Y(null);function rp(){var a=tl.current;return a!==null?a:Ut.pooledCache}function uf(a,o){o===null?me(tl,tl.current):me(tl,o.pool)}function ob(){var a=rp();return a===null?null:{parent:Tn._currentValue,pool:a}}var hu=Error(r(460)),ip=Error(r(474)),cf=Error(r(542)),hf={then:function(){}};function lb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ub(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ci,Ci),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hb(a),a;default:if(typeof o.status=="string")o.then(Ci,Ci);else{if(a=Ut,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hb(a),a}throw rl=o,hu}}function nl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(rl=u,hu):u}}var rl=null;function cb(){if(rl===null)throw Error(r(459));var a=rl;return rl=null,a}function hb(a){if(a===hu||a===cf)throw Error(r(483))}var fu=null,Hc=0;function ff(a){var o=Hc;return Hc+=1,fu===null&&(fu=[]),ub(fu,a,o)}function Fc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function df(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function fb(a){function o(ue,ae){if(a){var pe=ue.deletions;pe===null?(ue.deletions=[ae],ue.flags|=16):pe.push(ae)}}function u(ue,ae){if(!a)return null;for(;ae!==null;)o(ue,ae),ae=ae.sibling;return null}function d(ue){for(var ae=new Map;ue!==null;)ue.key!==null?ae.set(ue.key,ue):ae.set(ue.index,ue),ue=ue.sibling;return ae}function y(ue,ae){return ue=za(ue,ae),ue.index=0,ue.sibling=null,ue}function _(ue,ae,pe){return ue.index=pe,a?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<ae?(ue.flags|=67108866,ae):pe):(ue.flags|=67108866,ae)):(ue.flags|=1048576,ae)}function N(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function F(ue,ae,pe,Se){return ae===null||ae.tag!==6?(ae=$1(pe,ue.mode,Se),ae.return=ue,ae):(ae=y(ae,pe),ae.return=ue,ae)}function te(ue,ae,pe,Se){var Ke=pe.type;return Ke===S?xe(ue,ae,pe.props.children,Se,pe.key):ae!==null&&(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===k&&nl(Ke)===ae.type)?(ae=y(ae,pe.props),Fc(ae,pe),ae.return=ue,ae):(ae=af(pe.type,pe.key,pe.props,null,ue.mode,Se),Fc(ae,pe),ae.return=ue,ae)}function ve(ue,ae,pe,Se){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Y1(pe,ue.mode,Se),ae.return=ue,ae):(ae=y(ae,pe.children||[]),ae.return=ue,ae)}function xe(ue,ae,pe,Se,Ke){return ae===null||ae.tag!==7?(ae=Zo(pe,ue.mode,Se,Ke),ae.return=ue,ae):(ae=y(ae,pe),ae.return=ue,ae)}function Te(ue,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=$1(""+ae,ue.mode,pe),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return pe=af(ae.type,ae.key,ae.props,null,ue.mode,pe),Fc(pe,ae),pe.return=ue,pe;case x:return ae=Y1(ae,ue.mode,pe),ae.return=ue,ae;case k:return ae=nl(ae),Te(ue,ae,pe)}if(ne(ae)||j(ae))return ae=Zo(ae,ue.mode,pe,null),ae.return=ue,ae;if(typeof ae.then=="function")return Te(ue,ff(ae),pe);if(ae.$$typeof===T)return Te(ue,lf(ue,ae),pe);df(ue,ae)}return null}function ye(ue,ae,pe,Se){var Ke=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ke!==null?null:F(ue,ae,""+pe,Se);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return pe.key===Ke?te(ue,ae,pe,Se):null;case x:return pe.key===Ke?ve(ue,ae,pe,Se):null;case k:return pe=nl(pe),ye(ue,ae,pe,Se)}if(ne(pe)||j(pe))return Ke!==null?null:xe(ue,ae,pe,Se,null);if(typeof pe.then=="function")return ye(ue,ae,ff(pe),Se);if(pe.$$typeof===T)return ye(ue,ae,lf(ue,pe),Se);df(ue,pe)}return null}function we(ue,ae,pe,Se,Ke){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ue=ue.get(pe)||null,F(ae,ue,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:return ue=ue.get(Se.key===null?pe:Se.key)||null,te(ae,ue,Se,Ke);case x:return ue=ue.get(Se.key===null?pe:Se.key)||null,ve(ae,ue,Se,Ke);case k:return Se=nl(Se),we(ue,ae,pe,Se,Ke)}if(ne(Se)||j(Se))return ue=ue.get(pe)||null,xe(ae,ue,Se,Ke,null);if(typeof Se.then=="function")return we(ue,ae,pe,ff(Se),Ke);if(Se.$$typeof===T)return we(ue,ae,pe,lf(ae,Se),Ke);df(ae,Se)}return null}function Ue(ue,ae,pe,Se){for(var Ke=null,Tt=null,Fe=ae,ut=ae=0,mt=null;Fe!==null&&ut<pe.length;ut++){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var At=ye(ue,Fe,pe[ut],Se);if(At===null){Fe===null&&(Fe=mt);break}a&&Fe&&At.alternate===null&&o(ue,Fe),ae=_(At,ae,ut),Tt===null?Ke=At:Tt.sibling=At,Tt=At,Fe=mt}if(ut===pe.length)return u(ue,Fe),yt&&Va(ue,ut),Ke;if(Fe===null){for(;ut<pe.length;ut++)Fe=Te(ue,pe[ut],Se),Fe!==null&&(ae=_(Fe,ae,ut),Tt===null?Ke=Fe:Tt.sibling=Fe,Tt=Fe);return yt&&Va(ue,ut),Ke}for(Fe=d(Fe);ut<pe.length;ut++)mt=we(Fe,ue,ut,pe[ut],Se),mt!==null&&(a&&mt.alternate!==null&&Fe.delete(mt.key===null?ut:mt.key),ae=_(mt,ae,ut),Tt===null?Ke=mt:Tt.sibling=mt,Tt=mt);return a&&Fe.forEach(function(Js){return o(ue,Js)}),yt&&Va(ue,ut),Ke}function Je(ue,ae,pe,Se){if(pe==null)throw Error(r(151));for(var Ke=null,Tt=null,Fe=ae,ut=ae=0,mt=null,At=pe.next();Fe!==null&&!At.done;ut++,At=pe.next()){Fe.index>ut?(mt=Fe,Fe=null):mt=Fe.sibling;var Js=ye(ue,Fe,At.value,Se);if(Js===null){Fe===null&&(Fe=mt);break}a&&Fe&&Js.alternate===null&&o(ue,Fe),ae=_(Js,ae,ut),Tt===null?Ke=Js:Tt.sibling=Js,Tt=Js,Fe=mt}if(At.done)return u(ue,Fe),yt&&Va(ue,ut),Ke;if(Fe===null){for(;!At.done;ut++,At=pe.next())At=Te(ue,At.value,Se),At!==null&&(ae=_(At,ae,ut),Tt===null?Ke=At:Tt.sibling=At,Tt=At);return yt&&Va(ue,ut),Ke}for(Fe=d(Fe);!At.done;ut++,At=pe.next())At=we(Fe,ue,ut,At.value,Se),At!==null&&(a&&At.alternate!==null&&Fe.delete(At.key===null?ut:At.key),ae=_(At,ae,ut),Tt===null?Ke=At:Tt.sibling=At,Tt=At);return a&&Fe.forEach(function(VL){return o(ue,VL)}),yt&&Va(ue,ut),Ke}function Lt(ue,ae,pe,Se){if(typeof pe=="object"&&pe!==null&&pe.type===S&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:e:{for(var Ke=pe.key;ae!==null;){if(ae.key===Ke){if(Ke=pe.type,Ke===S){if(ae.tag===7){u(ue,ae.sibling),Se=y(ae,pe.props.children),Se.return=ue,ue=Se;break e}}else if(ae.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===k&&nl(Ke)===ae.type){u(ue,ae.sibling),Se=y(ae,pe.props),Fc(Se,pe),Se.return=ue,ue=Se;break e}u(ue,ae);break}else o(ue,ae);ae=ae.sibling}pe.type===S?(Se=Zo(pe.props.children,ue.mode,Se,pe.key),Se.return=ue,ue=Se):(Se=af(pe.type,pe.key,pe.props,null,ue.mode,Se),Fc(Se,pe),Se.return=ue,ue=Se)}return N(ue);case x:e:{for(Ke=pe.key;ae!==null;){if(ae.key===Ke)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){u(ue,ae.sibling),Se=y(ae,pe.children||[]),Se.return=ue,ue=Se;break e}else{u(ue,ae);break}else o(ue,ae);ae=ae.sibling}Se=Y1(pe,ue.mode,Se),Se.return=ue,ue=Se}return N(ue);case k:return pe=nl(pe),Lt(ue,ae,pe,Se)}if(ne(pe))return Ue(ue,ae,pe,Se);if(j(pe)){if(Ke=j(pe),typeof Ke!="function")throw Error(r(150));return pe=Ke.call(pe),Je(ue,ae,pe,Se)}if(typeof pe.then=="function")return Lt(ue,ae,ff(pe),Se);if(pe.$$typeof===T)return Lt(ue,ae,lf(ue,pe),Se);df(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(u(ue,ae.sibling),Se=y(ae,pe),Se.return=ue,ue=Se):(u(ue,ae),Se=$1(pe,ue.mode,Se),Se.return=ue,ue=Se),N(ue)):u(ue,ae)}return function(ue,ae,pe,Se){try{Hc=0;var Ke=Lt(ue,ae,pe,Se);return fu=null,Ke}catch(Fe){if(Fe===hu||Fe===cf)throw Fe;var Tt=qr(29,Fe,null,ue.mode);return Tt.lanes=Se,Tt.return=ue,Tt}}}var il=fb(!0),db=fb(!1),Vs=!1;function ap(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ls(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qs(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(It&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=rf(a),Q7(a,null,u),o}return nf(a,d,o,u),rf(a)}function Gc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,Do(a,u)}}function op(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=N:_=_.next=N,u=u.next}while(u!==null);_===null?y=_=o:_=_.next=o}else y=_=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var lp=!1;function $c(){if(lp){var a=cu;if(a!==null)throw a}}function Yc(a,o,u,d){lp=!1;var y=a.updateQueue;Vs=!1;var _=y.firstBaseUpdate,N=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var te=F,ve=te.next;te.next=null,N===null?_=ve:N.next=ve,N=te;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,F=xe.lastBaseUpdate,F!==N&&(F===null?xe.firstBaseUpdate=ve:F.next=ve,xe.lastBaseUpdate=te))}if(_!==null){var Te=y.baseState;N=0,xe=ve=te=null,F=_;do{var ye=F.lane&-536870913,we=ye!==F.lane;if(we?(dt&ye)===ye:(d&ye)===ye){ye!==0&&ye===uu&&(lp=!0),xe!==null&&(xe=xe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ue=a,Je=F;ye=o;var Lt=u;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){Te=Ue.call(Lt,Te,ye);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,ye=typeof Ue=="function"?Ue.call(Lt,Te,ye):Ue,ye==null)break e;Te=p({},Te,ye);break e;case 2:Vs=!0}}ye=F.callback,ye!==null&&(a.flags|=64,we&&(a.flags|=8192),we=y.callbacks,we===null?y.callbacks=[ye]:we.push(ye))}else we={lane:ye,tag:F.tag,payload:F.payload,callback:F.callback,next:null},xe===null?(ve=xe=we,te=Te):xe=xe.next=we,N|=ye;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;we=F,F=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);xe===null&&(te=Te),y.baseState=te,y.firstBaseUpdate=ve,y.lastBaseUpdate=xe,_===null&&(y.shared.lanes=0),Hs|=N,a.lanes=N,a.memoizedState=Te}}function mb(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function pb(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)mb(u[a],o)}var du=Y(null),mf=Y(0);function gb(a,o){a=Ya,me(mf,a),me(du,o),Ya=a|o.baseLanes}function up(){me(mf,Ya),me(du,du.current)}function cp(){Ya=mf.current,W(du),W(mf)}var Pr=Y(null),gi=null;function Ps(a){var o=a.alternate;me(_n,_n.current&1),me(Pr,a),gi===null&&(o===null||du.current!==null||o.memoizedState!==null)&&(gi=a)}function hp(a){me(_n,_n.current),me(Pr,a),gi===null&&(gi=a)}function vb(a){a.tag===22?(me(_n,_n.current),me(Pr,a),gi===null&&(gi=a)):Bs()}function Bs(){me(_n,_n.current),me(Pr,Pr.current)}function Br(a){W(Pr),gi===a&&(gi=null),W(_n)}var _n=Y(0);function pf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||vg(u)||yg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pa=0,lt=null,zt=null,An=null,gf=!1,mu=!1,al=!1,vf=0,Xc=0,pu=null,AV=0;function pn(){throw Error(r(321))}function fp(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Lr(a[u],o[u]))return!1;return!0}function dp(a,o,u,d,y,_){return Pa=_,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=a===null||a.memoizedState===null?e8:Rp,al=!1,_=u(d,y),al=!1,mu&&(_=_b(o,u,d,y)),yb(a),_}function yb(a){$.H=Zc;var o=zt!==null&&zt.next!==null;if(Pa=0,An=zt=lt=null,gf=!1,Xc=0,pu=null,o)throw Error(r(300));a===null||Cn||(a=a.dependencies,a!==null&&of(a)&&(Cn=!0))}function _b(a,o,u,d){lt=a;var y=0;do{if(mu&&(pu=null),Xc=0,mu=!1,25<=y)throw Error(r(301));if(y+=1,An=zt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=t8,_=o(u,d)}while(mu);return _}function CV(){var a=$.H,o=a.useState()[0];return o=typeof o.then=="function"?Kc(o):o,a=a.useState()[0],(zt!==null?zt.memoizedState:null)!==a&&(lt.flags|=1024),o}function mp(){var a=vf!==0;return vf=0,a}function pp(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function gp(a){if(gf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}gf=!1}Pa=0,An=zt=lt=null,mu=!1,Xc=vf=0,pu=null}function hr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?lt.memoizedState=An=a:An=An.next=a,An}function bn(){if(zt===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=zt.next;var o=An===null?lt.memoizedState:An.next;if(o!==null)An=o,zt=a;else{if(a===null)throw lt.alternate===null?Error(r(467)):Error(r(310));zt=a,a={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},An===null?lt.memoizedState=An=a:An=An.next=a}return An}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(a){var o=Xc;return Xc+=1,pu===null&&(pu=[]),a=ub(pu,a,o),o=lt,(An===null?o.memoizedState:An.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?e8:Rp),a}function _f(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Kc(a);if(a.$$typeof===T)return Xn(a)}throw Error(r(438,String(a)))}function vp(a){var o=null,u=lt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=yf(),lt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=H;return o.index++,u}function Ba(a,o){return typeof o=="function"?o(a):o}function bf(a){var o=bn();return yp(o,zt,a)}function yp(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,_=d.pending;if(_!==null){if(y!==null){var N=y.next;y.next=_.next,_.next=N}o.baseQueue=y=_,d.pending=null}if(_=a.baseState,y===null)a.memoizedState=_;else{o=y.next;var F=N=null,te=null,ve=o,xe=!1;do{var Te=ve.lane&-536870913;if(Te!==ve.lane?(dt&Te)===Te:(Pa&Te)===Te){var ye=ve.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Te===uu&&(xe=!0);else if((Pa&ye)===ye){ve=ve.next,ye===uu&&(xe=!0);continue}else Te={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(F=te=Te,N=_):te=te.next=Te,lt.lanes|=ye,Hs|=ye;Te=ve.action,al&&u(_,Te),_=ve.hasEagerState?ve.eagerState:u(_,Te)}else ye={lane:Te,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(F=te=ye,N=_):te=te.next=ye,lt.lanes|=Te,Hs|=Te;ve=ve.next}while(ve!==null&&ve!==o);if(te===null?N=_:te.next=F,!Lr(_,a.memoizedState)&&(Cn=!0,xe&&(u=cu,u!==null)))throw u;a.memoizedState=_,a.baseState=N,a.baseQueue=te,d.lastRenderedState=_}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function _p(a){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,_=o.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do _=a(_,N.action),N=N.next;while(N!==y);Lr(_,o.memoizedState)||(Cn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function bb(a,o,u){var d=lt,y=bn(),_=yt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!Lr((zt||y).memoizedState,u);if(N&&(y.memoizedState=u,Cn=!0),y=y.queue,xp(Sb.bind(null,d,y,a),[a]),y.getSnapshot!==o||N||An!==null&&An.memoizedState.tag&1){if(d.flags|=2048,gu(9,{destroy:void 0},xb.bind(null,d,y,u,o),null),Ut===null)throw Error(r(349));_||(Pa&127)!==0||wb(d,o,u)}return u}function wb(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o=yf(),lt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function xb(a,o,u,d){o.value=u,o.getSnapshot=d,Eb(o)&&Tb(a)}function Sb(a,o,u){return u(function(){Eb(o)&&Tb(a)})}function Eb(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Lr(a,u)}catch{return!0}}function Tb(a){var o=Qo(a,2);o!==null&&Tr(o,a,2)}function bp(a){var o=hr();if(typeof a=="function"){var u=a;if(a=u(),al){yr(!0);try{u()}finally{yr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:a},o}function Ab(a,o,u,d){return a.baseState=u,yp(a,zt,typeof d=="function"?d:Ba)}function RV(a,o,u,d,y){if(Sf(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};$.T!==null?u(!0):_.isTransition=!1,d(_),u=o.pending,u===null?(_.next=o.pending=_,Cb(o,_)):(_.next=u.next,o.pending=u.next=_)}}function Cb(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var _=$.T,N={};$.T=N;try{var F=u(y,d),te=$.S;te!==null&&te(N,F),Rb(a,o,F)}catch(ve){wp(a,o,ve)}finally{_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}else try{_=u(y,d),Rb(a,o,_)}catch(ve){wp(a,o,ve)}}function Rb(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Ib(a,o,d)},function(d){return wp(a,o,d)}):Ib(a,o,u)}function Ib(a,o,u){o.status="fulfilled",o.value=u,Nb(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Cb(a,u)))}function wp(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Nb(o),o=o.next;while(o!==d)}a.action=null}function Nb(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Mb(a,o){return o}function kb(a,o){if(yt){var u=Ut.formState;if(u!==null){e:{var d=lt;if(yt){if(Yt){t:{for(var y=Yt,_=pi;y.nodeType!==8;){if(!_){y=null;break t}if(y=vi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Yt=vi(y.nextSibling),d=y.data==="F!";break e}}Os(d)}d=!1}d&&(o=u[0])}}return u=hr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mb,lastRenderedState:o},u.queue=d,u=Zb.bind(null,lt,d),d.dispatch=u,d=bp(!1),_=Cp.bind(null,lt,!1,d.queue),d=hr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=RV.bind(null,lt,y,_,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function Db(a){var o=bn();return Ob(o,zt,a)}function Ob(a,o,u){if(o=yp(a,o,Mb)[0],a=bf(Ba)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Kc(o)}catch(N){throw N===hu?cf:N}else d=o;o=bn();var y=o.queue,_=y.dispatch;return u!==o.memoizedState&&(lt.flags|=2048,gu(9,{destroy:void 0},IV.bind(null,y,u),null)),[d,_,a]}function IV(a,o){a.action=o}function zb(a){var o=bn(),u=zt;if(u!==null)return Ob(o,u,a);bn(),o=o.memoizedState,u=bn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function gu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=lt.updateQueue,o===null&&(o=yf(),lt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function Vb(){return bn().memoizedState}function wf(a,o,u,d){var y=hr();lt.flags|=a,y.memoizedState=gu(1|o,{destroy:void 0},u,d===void 0?null:d)}function xf(a,o,u,d){var y=bn();d=d===void 0?null:d;var _=y.memoizedState.inst;zt!==null&&d!==null&&fp(d,zt.memoizedState.deps)?y.memoizedState=gu(o,_,u,d):(lt.flags|=a,y.memoizedState=gu(1|o,_,u,d))}function Lb(a,o){wf(8390656,8,a,o)}function xp(a,o){xf(2048,8,a,o)}function NV(a){lt.flags|=4;var o=lt.updateQueue;if(o===null)o=yf(),lt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function qb(a){var o=bn().memoizedState;return NV({ref:o,nextImpl:a}),function(){if((It&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Pb(a,o){return xf(4,2,a,o)}function Bb(a,o){return xf(4,4,a,o)}function Ub(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function jb(a,o,u){u=u!=null?u.concat([a]):null,xf(4,4,Ub.bind(null,o,a),u)}function Sp(){}function Hb(a,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&fp(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function Fb(a,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&fp(o,d[1]))return d[0];if(d=a(),al){yr(!0);try{a()}finally{yr(!1)}}return u.memoizedState=[d,o],d}function Ep(a,o,u){return u===void 0||(Pa&1073741824)!==0&&(dt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=G8(),lt.lanes|=a,Hs|=a,u)}function Gb(a,o,u,d){return Lr(u,o)?u:du.current!==null?(a=Ep(a,u,d),Lr(a,o)||(Cn=!0),a):(Pa&42)===0||(Pa&1073741824)!==0&&(dt&261930)===0?(Cn=!0,a.memoizedState=u):(a=G8(),lt.lanes|=a,Hs|=a,o)}function $b(a,o,u,d,y){var _=ee.p;ee.p=_!==0&&8>_?_:8;var N=$.T,F={};$.T=F,Cp(a,!1,o,u);try{var te=y(),ve=$.S;if(ve!==null&&ve(F,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var xe=TV(te,d);Qc(a,o,xe,Hr(a))}else Qc(a,o,d,Hr(a))}catch(Te){Qc(a,o,{then:function(){},status:"rejected",reason:Te},Hr())}finally{ee.p=_,N!==null&&F.types!==null&&(N.types=F.types),$.T=N}}function MV(){}function Tp(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=Yb(a).queue;$b(a,y,o,re,u===null?MV:function(){return Xb(a),u(d)})}function Yb(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Xb(a){var o=Yb(a);o.next===null&&(o=a.alternate.memoizedState),Qc(a,o.next.queue,{},Hr())}function Ap(){return Xn(d0)}function Kb(){return bn().memoizedState}function Qb(){return bn().memoizedState}function kV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Hr();a=Ls(u);var d=qs(o,a,u);d!==null&&(Tr(d,o,u),Gc(d,o,u)),o={cache:tp()},a.payload=o;return}o=o.return}}function DV(a,o,u){var d=Hr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sf(a)?Wb(o,u):(u=F1(a,o,u,d),u!==null&&(Tr(u,a,d),Jb(u,o,d)))}function Zb(a,o,u){var d=Hr();Qc(a,o,u,d)}function Qc(a,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sf(a))Wb(o,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var N=o.lastRenderedState,F=_(N,u);if(y.hasEagerState=!0,y.eagerState=F,Lr(F,N))return nf(a,o,y,0),Ut===null&&tf(),!1}catch{}if(u=F1(a,o,y,d),u!==null)return Tr(u,a,d),Jb(u,o,d),!0}return!1}function Cp(a,o,u,d){if(d={lane:2,revertLane:ag(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Sf(a)){if(o)throw Error(r(479))}else o=F1(a,u,d,2),o!==null&&Tr(o,a,2)}function Sf(a){var o=a.alternate;return a===lt||o!==null&&o===lt}function Wb(a,o){mu=gf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Jb(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,Do(a,u)}}var Zc={readContext:Xn,use:_f,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};Zc.useEffectEvent=pn;var e8={readContext:Xn,use:_f,useCallback:function(a,o){return hr().memoizedState=[a,o===void 0?null:o],a},useContext:Xn,useEffect:Lb,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,wf(4194308,4,Ub.bind(null,o,a),u)},useLayoutEffect:function(a,o){return wf(4194308,4,a,o)},useInsertionEffect:function(a,o){wf(4,2,a,o)},useMemo:function(a,o){var u=hr();o=o===void 0?null:o;var d=a();if(al){yr(!0);try{a()}finally{yr(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=hr();if(u!==void 0){var y=u(o);if(al){yr(!0);try{u(o)}finally{yr(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=DV.bind(null,lt,a),[d.memoizedState,a]},useRef:function(a){var o=hr();return a={current:a},o.memoizedState=a},useState:function(a){a=bp(a);var o=a.queue,u=Zb.bind(null,lt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Sp,useDeferredValue:function(a,o){var u=hr();return Ep(u,a,o)},useTransition:function(){var a=bp(!1);return a=$b.bind(null,lt,a.queue,!0,!1),hr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=lt,y=hr();if(yt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Ut===null)throw Error(r(349));(dt&127)!==0||wb(d,o,u)}y.memoizedState=u;var _={value:u,getSnapshot:o};return y.queue=_,Lb(Sb.bind(null,d,_,a),[a]),d.flags|=2048,gu(9,{destroy:void 0},xb.bind(null,d,_,u,o),null),u},useId:function(){var a=hr(),o=Ut.identifierPrefix;if(yt){var u=na,d=ta;u=(d&~(1<<32-rn(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=vf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=AV++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Ap,useFormState:kb,useActionState:kb,useOptimistic:function(a){var o=hr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Cp.bind(null,lt,!0,u),u.dispatch=o,[a,o]},useMemoCache:vp,useCacheRefresh:function(){return hr().memoizedState=kV.bind(null,lt)},useEffectEvent:function(a){var o=hr(),u={impl:a};return o.memoizedState=u,function(){if((It&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Rp={readContext:Xn,use:_f,useCallback:Hb,useContext:Xn,useEffect:xp,useImperativeHandle:jb,useInsertionEffect:Pb,useLayoutEffect:Bb,useMemo:Fb,useReducer:bf,useRef:Vb,useState:function(){return bf(Ba)},useDebugValue:Sp,useDeferredValue:function(a,o){var u=bn();return Gb(u,zt.memoizedState,a,o)},useTransition:function(){var a=bf(Ba)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:Kc(a),o]},useSyncExternalStore:bb,useId:Kb,useHostTransitionStatus:Ap,useFormState:Db,useActionState:Db,useOptimistic:function(a,o){var u=bn();return Ab(u,zt,a,o)},useMemoCache:vp,useCacheRefresh:Qb};Rp.useEffectEvent=qb;var t8={readContext:Xn,use:_f,useCallback:Hb,useContext:Xn,useEffect:xp,useImperativeHandle:jb,useInsertionEffect:Pb,useLayoutEffect:Bb,useMemo:Fb,useReducer:_p,useRef:Vb,useState:function(){return _p(Ba)},useDebugValue:Sp,useDeferredValue:function(a,o){var u=bn();return zt===null?Ep(u,a,o):Gb(u,zt.memoizedState,a,o)},useTransition:function(){var a=_p(Ba)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:Kc(a),o]},useSyncExternalStore:bb,useId:Kb,useHostTransitionStatus:Ap,useFormState:zb,useActionState:zb,useOptimistic:function(a,o){var u=bn();return zt!==null?Ab(u,zt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:vp,useCacheRefresh:Qb};t8.useEffectEvent=qb;function Ip(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Np={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=Hr(),y=Ls(d);y.payload=o,u!=null&&(y.callback=u),o=qs(a,y,d),o!==null&&(Tr(o,a,d),Gc(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=Hr(),y=Ls(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=qs(a,y,d),o!==null&&(Tr(o,a,d),Gc(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Hr(),d=Ls(u);d.tag=2,o!=null&&(d.callback=o),o=qs(a,d,u),o!==null&&(Tr(o,a,u),Gc(o,a,u))}};function n8(a,o,u,d,y,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,_,N):o.prototype&&o.prototype.isPureReactComponent?!Lc(u,d)||!Lc(y,_):!0}function r8(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&Np.enqueueReplaceState(o,o.state,null)}function sl(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function i8(a){ef(a)}function a8(a){console.error(a)}function s8(a){ef(a)}function Ef(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function o8(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Mp(a,o,u){return u=Ls(u),u.tag=3,u.payload={element:null},u.callback=function(){Ef(a,o)},u}function l8(a){return a=Ls(a),a.tag=3,a}function u8(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;a.payload=function(){return y(_)},a.callback=function(){o8(o,u,d)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){o8(o,u,d),typeof y!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function OV(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&lu(o,u,y,!0),u=Pr.current,u!==null){switch(u.tag){case 31:case 13:return gi===null?Vf():u.alternate===null&&gn===0&&(gn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===hf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),ng(a,d,y)),!1;case 22:return u.flags|=65536,d===hf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),ng(a,d,y)),!1}throw Error(r(435,u.tag))}return ng(a,d,y),Vf(),!1}if(yt)return o=Pr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Q1&&(a=Error(r(422),{cause:d}),Bc(fi(a,u)))):(d!==Q1&&(o=Error(r(423),{cause:d}),Bc(fi(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=fi(d,u),y=Mp(a.stateNode,d,y),op(a,y),gn!==4&&(gn=2)),!1;var _=Error(r(520),{cause:d});if(_=fi(_,u),a0===null?a0=[_]:a0.push(_),gn!==4&&(gn=2),o===null)return!0;d=fi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Mp(u.stateNode,d,a),op(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fs===null||!Fs.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=l8(y),u8(y,a,u,d),op(u,y),!1}u=u.return}while(u!==null);return!1}var kp=Error(r(461)),Cn=!1;function Kn(a,o,u,d){o.child=a===null?db(o,null,u,d):il(o,a.child,u,d)}function c8(a,o,u,d,y){u=u.render;var _=o.ref;if("ref"in d){var N={};for(var F in d)F!=="ref"&&(N[F]=d[F])}else N=d;return el(o),d=dp(a,o,u,N,_,y),F=mp(),a!==null&&!Cn?(pp(a,o,y),Ua(a,o,y)):(yt&&F&&X1(o),o.flags|=1,Kn(a,o,d,y),o.child)}function h8(a,o,u,d,y){if(a===null){var _=u.type;return typeof _=="function"&&!G1(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,f8(a,o,_,d,y)):(a=af(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Bp(a,y)){var N=_.memoizedProps;if(u=u.compare,u=u!==null?u:Lc,u(N,d)&&a.ref===o.ref)return Ua(a,o,y)}return o.flags|=1,a=za(_,d),a.ref=o.ref,a.return=o,o.child=a}function f8(a,o,u,d,y){if(a!==null){var _=a.memoizedProps;if(Lc(_,d)&&a.ref===o.ref)if(Cn=!1,o.pendingProps=d=_,Bp(a,y))(a.flags&131072)!==0&&(Cn=!0);else return o.lanes=a.lanes,Ua(a,o,y)}return Dp(a,o,u,d,y)}function d8(a,o,u,d){var y=d.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(d=o.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~_}else d=0,o.child=null;return m8(a,o,_,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&uf(o,_!==null?_.cachePool:null),_!==null?gb(o,_):up(),vb(o);else return d=o.lanes=536870912,m8(a,o,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(uf(o,_.cachePool),gb(o,_),Bs(),o.memoizedState=null):(a!==null&&uf(o,null),up(),Bs());return Kn(a,o,y,u),o.child}function Wc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function m8(a,o,u,d,y){var _=rp();return _=_===null?null:{parent:Tn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&uf(o,null),up(),vb(o),a!==null&&lu(a,o,d,!0),o.childLanes=y,null}function Tf(a,o){return o=Cf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function p8(a,o,u){return il(o,a.child,null,u),a=Tf(o,o.pendingProps),a.flags|=2,Br(o),o.memoizedState=null,a}function zV(a,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(yt){if(d.mode==="hidden")return a=Tf(o,d),o.lanes=536870912,Wc(null,a);if(hp(o),(a=Yt)?(a=C9(a,pi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ks!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},u=W7(a),u.return=o,o.child=u,Yn=o,Yt=null)):a=null,a===null)throw Os(o);return o.lanes=536870912,null}return Tf(o,d)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(hp(o),y)if(o.flags&256)o.flags&=-257,o=p8(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Cn||lu(a,o,u,!1),y=(u&a.childLanes)!==0,Cn||y){if(d=Ut,d!==null&&(N=Oo(d,u),N!==0&&N!==_.retryLane))throw _.retryLane=N,Qo(a,N),Tr(d,a,N),kp;Vf(),o=p8(a,o,u)}else a=_.treeContext,Yt=vi(N.nextSibling),Yn=o,yt=!0,Ds=null,pi=!1,a!==null&&tb(o,a),o=Tf(o,d),o.flags|=4096;return o}return a=za(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Af(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Dp(a,o,u,d,y){return el(o),u=dp(a,o,u,d,void 0,y),d=mp(),a!==null&&!Cn?(pp(a,o,y),Ua(a,o,y)):(yt&&d&&X1(o),o.flags|=1,Kn(a,o,u,y),o.child)}function g8(a,o,u,d,y,_){return el(o),o.updateQueue=null,u=_b(o,d,u,y),yb(a),d=mp(),a!==null&&!Cn?(pp(a,o,_),Ua(a,o,_)):(yt&&d&&X1(o),o.flags|=1,Kn(a,o,u,_),o.child)}function v8(a,o,u,d,y){if(el(o),o.stateNode===null){var _=iu,N=u.contextType;typeof N=="object"&&N!==null&&(_=Xn(N)),_=new u(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Np,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},ap(o),N=u.contextType,_.context=typeof N=="object"&&N!==null?Xn(N):iu,_.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Ip(o,u,N,d),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Np.enqueueReplaceState(_,_.state,null),Yc(o,d,_,y),$c(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){_=o.stateNode;var F=o.memoizedProps,te=sl(u,F);_.props=te;var ve=_.context,xe=u.contextType;N=iu,typeof xe=="object"&&xe!==null&&(N=Xn(xe));var Te=u.getDerivedStateFromProps;xe=typeof Te=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,xe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||ve!==N)&&r8(o,_,d,N),Vs=!1;var ye=o.memoizedState;_.state=ye,Yc(o,d,_,y),$c(),ve=o.memoizedState,F||ye!==ve||Vs?(typeof Te=="function"&&(Ip(o,u,Te,d),ve=o.memoizedState),(te=Vs||n8(o,u,te,d,ye,ve,N))?(xe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ve),_.props=d,_.state=ve,_.context=N,d=te):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,sp(a,o),N=o.memoizedProps,xe=sl(u,N),_.props=xe,Te=o.pendingProps,ye=_.context,ve=u.contextType,te=iu,typeof ve=="object"&&ve!==null&&(te=Xn(ve)),F=u.getDerivedStateFromProps,(ve=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==Te||ye!==te)&&r8(o,_,d,te),Vs=!1,ye=o.memoizedState,_.state=ye,Yc(o,d,_,y),$c();var we=o.memoizedState;N!==Te||ye!==we||Vs||a!==null&&a.dependencies!==null&&of(a.dependencies)?(typeof F=="function"&&(Ip(o,u,F,d),we=o.memoizedState),(xe=Vs||n8(o,u,xe,d,ye,we,te)||a!==null&&a.dependencies!==null&&of(a.dependencies))?(ve||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,we,te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,we,te)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),_.props=d,_.state=we,_.context=te,d=xe):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ye===a.memoizedState||(o.flags|=1024),d=!1)}return _=d,Af(a,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&d?(o.child=il(o,a.child,null,y),o.child=il(o,null,u,y)):Kn(a,o,u,y),o.memoizedState=_.state,a=o.child):a=Ua(a,o,y),a}function y8(a,o,u,d){return Wo(),o.flags|=256,Kn(a,o,u,d),o.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zp(a){return{baseLanes:a,cachePool:ob()}}function Vp(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=jr),a}function _8(a,o,u){var d=o.pendingProps,y=!1,_=(o.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(_n.current&2)!==0),N&&(y=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(yt){if(y?Ps(o):Bs(),(a=Yt)?(a=C9(a,pi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ks!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},u=W7(a),u.return=o,o.child=u,Yn=o,Yt=null)):a=null,a===null)throw Os(o);return yg(a)?o.lanes=32:o.lanes=536870912,null}var F=d.children;return d=d.fallback,y?(Bs(),y=o.mode,F=Cf({mode:"hidden",children:F},y),d=Zo(d,y,u,null),F.return=o,d.return=o,F.sibling=d,o.child=F,d=o.child,d.memoizedState=zp(u),d.childLanes=Vp(a,N,u),o.memoizedState=Op,Wc(null,d)):(Ps(o),Lp(o,F))}var te=a.memoizedState;if(te!==null&&(F=te.dehydrated,F!==null)){if(_)o.flags&256?(Ps(o),o.flags&=-257,o=qp(a,o,u)):o.memoizedState!==null?(Bs(),o.child=a.child,o.flags|=128,o=null):(Bs(),F=d.fallback,y=o.mode,d=Cf({mode:"visible",children:d.children},y),F=Zo(F,y,u,null),F.flags|=2,d.return=o,F.return=o,d.sibling=F,o.child=d,il(o,a.child,null,u),d=o.child,d.memoizedState=zp(u),d.childLanes=Vp(a,N,u),o.memoizedState=Op,o=Wc(null,d));else if(Ps(o),yg(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var ve=N.dgst;N=ve,d=Error(r(419)),d.stack="",d.digest=N,Bc({value:d,source:null,stack:null}),o=qp(a,o,u)}else if(Cn||lu(a,o,u,!1),N=(u&a.childLanes)!==0,Cn||N){if(N=Ut,N!==null&&(d=Oo(N,u),d!==0&&d!==te.retryLane))throw te.retryLane=d,Qo(a,d),Tr(N,a,d),kp;vg(F)||Vf(),o=qp(a,o,u)}else vg(F)?(o.flags|=192,o.child=a.child,o=null):(a=te.treeContext,Yt=vi(F.nextSibling),Yn=o,yt=!0,Ds=null,pi=!1,a!==null&&tb(o,a),o=Lp(o,d.children),o.flags|=4096);return o}return y?(Bs(),F=d.fallback,y=o.mode,te=a.child,ve=te.sibling,d=za(te,{mode:"hidden",children:d.children}),d.subtreeFlags=te.subtreeFlags&65011712,ve!==null?F=za(ve,F):(F=Zo(F,y,u,null),F.flags|=2),F.return=o,d.return=o,d.sibling=F,o.child=d,Wc(null,d),d=o.child,F=a.child.memoizedState,F===null?F=zp(u):(y=F.cachePool,y!==null?(te=Tn._currentValue,y=y.parent!==te?{parent:te,pool:te}:y):y=ob(),F={baseLanes:F.baseLanes|u,cachePool:y}),d.memoizedState=F,d.childLanes=Vp(a,N,u),o.memoizedState=Op,Wc(a.child,d)):(Ps(o),u=a.child,a=u.sibling,u=za(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function Lp(a,o){return o=Cf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Cf(a,o){return a=qr(22,a,null,o),a.lanes=0,a}function qp(a,o,u){return il(o,a.child,null,u),a=Lp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function b8(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),J1(a.return,o,u)}function Pp(a,o,u,d,y,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:_}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=u,N.tailMode=y,N.treeForkCount=_)}function w8(a,o,u){var d=o.pendingProps,y=d.revealOrder,_=d.tail;d=d.children;var N=_n.current,F=(N&2)!==0;if(F?(N=N&1|2,o.flags|=128):N&=1,me(_n,N),Kn(a,o,d,u),d=yt?Pc:0,!F&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&b8(a,u,o);else if(a.tag===19)b8(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&pf(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Pp(o,!1,y,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&pf(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Pp(o,!0,u,null,_,d);break;case"together":Pp(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ua(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Hs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(lu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=za(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=za(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Bp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&of(a)))}function VV(a,o,u){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),zs(o,Tn,a.memoizedState.cache),Wo();break;case 27:case 5:Ve(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:zs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,hp(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Ps(o),o.flags|=128,null):(u&o.child.childLanes)!==0?_8(a,o,u):(Ps(o),a=Ua(a,o,u),a!==null?a.sibling:null);Ps(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(lu(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return w8(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(_n,_n.current),d)break;return null;case 22:return o.lanes=0,d8(a,o,u,o.pendingProps);case 24:zs(o,Tn,a.memoizedState.cache)}return Ua(a,o,u)}function x8(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Cn=!0;else{if(!Bp(a,u)&&(o.flags&128)===0)return Cn=!1,VV(a,o,u);Cn=(a.flags&131072)!==0}else Cn=!1,yt&&(o.flags&1048576)!==0&&eb(o,Pc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=nl(o.elementType),o.type=a,typeof a=="function")G1(a)?(d=sl(a,d),o.tag=1,o=v8(null,o,a,d,u)):(o.tag=0,o=Dp(null,o,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===O){o.tag=11,o=c8(null,o,a,d,u);break e}else if(y===R){o.tag=14,o=h8(null,o,a,d,u);break e}}throw o=K(a)||a,Error(r(306,o,""))}}return o;case 0:return Dp(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=sl(d,o.pendingProps),v8(a,o,d,y,u);case 3:e:{if(_e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;y=_.element,sp(a,o),Yc(o,d,null,u);var N=o.memoizedState;if(d=N.cache,zs(o,Tn,d),d!==_.cache&&ep(o,[Tn],u,!0),$c(),d=N.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=y8(a,o,d,u);break e}else if(d!==y){y=fi(Error(r(424)),o),Bc(y),o=y8(a,o,d,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Yt=vi(a.firstChild),Yn=o,yt=!0,Ds=null,pi=!0,u=db(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Wo(),d===y){o=Ua(a,o,u);break e}Kn(a,o,d,u)}o=o.child}return o;case 26:return Af(a,o),a===null?(u=D9(o.type,null,o.pendingProps,null))?o.memoizedState=u:yt||(u=o.type,a=o.pendingProps,d=Hf(le.current).createElement(u),d[fn]=o,d[Sn]=a,Qn(d,u,a),dn(d),o.stateNode=d):o.memoizedState=D9(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ve(o),a===null&&yt&&(d=o.stateNode=N9(o.type,o.pendingProps,le.current),Yn=o,pi=!0,y=Yt,Xs(o.type)?(_g=y,Yt=vi(d.firstChild)):Yt=y),Kn(a,o,o.pendingProps.children,u),Af(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&yt&&((y=d=Yt)&&(d=fL(d,o.type,o.pendingProps,pi),d!==null?(o.stateNode=d,Yn=o,Yt=vi(d.firstChild),pi=!1,y=!0):y=!1),y||Os(o)),Ve(o),y=o.type,_=o.pendingProps,N=a!==null?a.memoizedProps:null,d=_.children,mg(y,_)?d=null:N!==null&&mg(y,N)&&(o.flags|=32),o.memoizedState!==null&&(y=dp(a,o,CV,null,null,u),d0._currentValue=y),Af(a,o),Kn(a,o,d,u),o.child;case 6:return a===null&&yt&&((a=u=Yt)&&(u=dL(u,o.pendingProps,pi),u!==null?(o.stateNode=u,Yn=o,Yt=null,a=!0):a=!1),a||Os(o)),null;case 13:return _8(a,o,u);case 4:return _e(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=il(o,null,d,u):Kn(a,o,d,u),o.child;case 11:return c8(a,o,o.type,o.pendingProps,u);case 7:return Kn(a,o,o.pendingProps,u),o.child;case 8:return Kn(a,o,o.pendingProps.children,u),o.child;case 12:return Kn(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,zs(o,o.type,d.value),Kn(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,el(o),y=Xn(y),d=d(y),o.flags|=1,Kn(a,o,d,u),o.child;case 14:return h8(a,o,o.type,o.pendingProps,u);case 15:return f8(a,o,o.type,o.pendingProps,u);case 19:return w8(a,o,u);case 31:return zV(a,o,u);case 22:return d8(a,o,u,o.pendingProps);case 24:return el(o),d=Xn(Tn),a===null?(y=rp(),y===null&&(y=Ut,_=tp(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),o.memoizedState={parent:d,cache:y},ap(o),zs(o,Tn,y)):((a.lanes&u)!==0&&(sp(a,o),Yc(o,null,null,u),$c()),y=a.memoizedState,_=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),zs(o,Tn,d)):(d=_.cache,zs(o,Tn,d),d!==y.cache&&ep(o,[Tn],u,!0))),Kn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ja(a){a.flags|=4}function Up(a,o,u,d,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(K8())a.flags|=8192;else throw rl=hf,ip}else a.flags&=-16777217}function S8(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!q9(o))if(K8())a.flags|=8192;else throw rl=hf,ip}function Rf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Bl():536870912,a.lanes|=o,bu|=o)}function Jc(a,o){if(!yt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Xt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function LV(a,o,u){var d=o.pendingProps;switch(K1(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return Xt(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),qa(Tn),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ou(o)?ja(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Z1())),Xt(o),null;case 26:var y=o.type,_=o.memoizedState;return a===null?(ja(o),_!==null?(Xt(o),S8(o,_)):(Xt(o),Up(o,y,null,d,u))):_?_!==a.memoizedState?(ja(o),Xt(o),S8(o,_)):(Xt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&ja(o),Xt(o),Up(o,y,a,d,u)),null;case 27:if(He(o),u=le.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&ja(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Xt(o),null}a=Q.current,ou(o)?nb(o):(a=N9(y,d,u),o.stateNode=a,ja(o))}return Xt(o),null;case 5:if(He(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&ja(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Xt(o),null}if(_=Q.current,ou(o))nb(o);else{var N=Hf(le.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?N.createElement(y,{is:d.is}):N.createElement(y)}}_[fn]=o,_[Sn]=d;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=_;e:switch(Qn(_,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ja(o)}}return Xt(o),Up(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&ja(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=le.current,ou(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=Yn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[fn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||_9(a.nodeValue,u)),a||Os(o,!0)}else a=Hf(a).createTextNode(d),a[fn]=o,o.stateNode=a}return Xt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=ou(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[fn]=o}else Wo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),a=!1}else u=Z1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Br(o),o):(Br(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Xt(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ou(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[fn]=o}else Wo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),y=!1}else y=Z1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Br(o),o):(Br(o),null)}return Br(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Rf(o,o.updateQueue),Xt(o),null);case 4:return Ce(),a===null&&ug(o.stateNode.containerInfo),Xt(o),null;case 10:return qa(o.type),Xt(o),null;case 19:if(W(_n),d=o.memoizedState,d===null)return Xt(o),null;if(y=(o.flags&128)!==0,_=d.rendering,_===null)if(y)Jc(d,!1);else{if(gn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=pf(a),_!==null){for(o.flags|=128,Jc(d,!1),a=_.updateQueue,o.updateQueue=a,Rf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)Z7(u,a),u=u.sibling;return me(_n,_n.current&1|2),yt&&Va(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&Qt()>Df&&(o.flags|=128,y=!0,Jc(d,!1),o.lanes=4194304)}else{if(!y)if(a=pf(_),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Rf(o,a),Jc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!yt)return Xt(o),null}else 2*Qt()-d.renderingStartTime>Df&&u!==536870912&&(o.flags|=128,y=!0,Jc(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(a=d.last,a!==null?a.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Qt(),a.sibling=null,u=_n.current,me(_n,y?u&1|2:u&1),yt&&Va(o,d.treeForkCount),a):(Xt(o),null);case 22:case 23:return Br(o),cp(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),u=o.updateQueue,u!==null&&Rf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&W(tl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),qa(Tn),Xt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function qV(a,o){switch(K1(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return qa(Tn),Ce(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(Br(o),o.alternate===null)throw Error(r(340));Wo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Br(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Wo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return W(_n),null;case 4:return Ce(),null;case 10:return qa(o.type),null;case 22:case 23:return Br(o),cp(),a!==null&&W(tl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return qa(Tn),null;case 25:return null;default:return null}}function E8(a,o){switch(K1(o),o.tag){case 3:qa(Tn),Ce();break;case 26:case 27:case 5:He(o);break;case 4:Ce();break;case 31:o.memoizedState!==null&&Br(o);break;case 13:Br(o);break;case 19:W(_n);break;case 10:qa(o.type);break;case 22:case 23:Br(o),cp(),a!==null&&W(tl);break;case 24:qa(Tn)}}function e0(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var _=u.create,N=u.inst;d=_(),N.destroy=d}u=u.next}while(u!==y)}}catch(F){kt(o,o.return,F)}}function Us(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&a)===a){var N=d.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,y=o;var te=u,ve=F;try{ve()}catch(xe){kt(y,te,xe)}}}d=d.next}while(d!==_)}}catch(xe){kt(o,o.return,xe)}}function T8(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{pb(o,u)}catch(d){kt(a,a.return,d)}}}function A8(a,o,u){u.props=sl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){kt(a,o,d)}}function t0(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){kt(a,o,y)}}function ra(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){kt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){kt(a,o,y)}else u.current=null}function C8(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){kt(a,a.return,y)}}function jp(a,o,u){try{var d=a.stateNode;sL(d,a.type,u,o),d[Sn]=o}catch(y){kt(a,a.return,y)}}function R8(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xs(a.type)||a.tag===4}function Hp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||R8(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fp(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ci));else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Fp(a,o,u),a=a.sibling;a!==null;)Fp(a,o,u),a=a.sibling}function If(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(If(a,o,u),a=a.sibling;a!==null;)If(a,o,u),a=a.sibling}function I8(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Qn(o,d,u),o[fn]=a,o[Sn]=u}catch(_){kt(a,a.return,_)}}var Ha=!1,Rn=!1,Gp=!1,N8=typeof WeakSet=="function"?WeakSet:Set,jn=null;function PV(a,o){if(a=a.containerInfo,fg=Qf,a=j7(a),q1(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var N=0,F=-1,te=-1,ve=0,xe=0,Te=a,ye=null;t:for(;;){for(var we;Te!==u||y!==0&&Te.nodeType!==3||(F=N+y),Te!==_||d!==0&&Te.nodeType!==3||(te=N+d),Te.nodeType===3&&(N+=Te.nodeValue.length),(we=Te.firstChild)!==null;)ye=Te,Te=we;for(;;){if(Te===a)break t;if(ye===u&&++ve===y&&(F=N),ye===_&&++xe===d&&(te=N),(we=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=we}u=F===-1||te===-1?null:{start:F,end:te}}else u=null}u=u||{start:0,end:0}}else u=null;for(dg={focusedElem:a,selectionRange:u},Qf=!1,jn=o;jn!==null;)if(o=jn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,jn=a;else for(;jn!==null;){switch(o=jn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,y=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var Ue=sl(u.type,y);a=d.getSnapshotBeforeUpdate(Ue,_),d.__reactInternalSnapshotBeforeUpdate=a}catch(Je){kt(u,u.return,Je)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)gg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":gg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,jn=a;break}jn=o.return}}function M8(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ga(a,u),d&4&&e0(5,u);break;case 1:if(Ga(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){kt(u,u.return,N)}else{var y=sl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}d&64&&T8(u),d&512&&t0(u,u.return);break;case 3:if(Ga(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{pb(a,o)}catch(N){kt(u,u.return,N)}}break;case 27:o===null&&d&4&&I8(u);case 26:case 5:Ga(a,u),o===null&&d&4&&C8(u),d&512&&t0(u,u.return);break;case 12:Ga(a,u);break;case 31:Ga(a,u),d&4&&O8(a,u);break;case 13:Ga(a,u),d&4&&z8(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=XV.bind(null,u),mL(a,u))));break;case 22:if(d=u.memoizedState!==null||Ha,!d){o=o!==null&&o.memoizedState!==null||Rn,y=Ha;var _=Rn;Ha=d,(Rn=o)&&!_?$a(a,u,(u.subtreeFlags&8772)!==0):Ga(a,u),Ha=y,Rn=_}break;case 30:break;default:Ga(a,u)}}function k8(a){var o=a.alternate;o!==null&&(a.alternate=null,k8(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&xs(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Wt=null,wr=!1;function Fa(a,o,u){for(u=u.child;u!==null;)D8(a,o,u),u=u.sibling}function D8(a,o,u){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(cn,u)}catch{}switch(u.tag){case 26:Rn||ra(u,o),Fa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rn||ra(u,o);var d=Wt,y=wr;Xs(u.type)&&(Wt=u.stateNode,wr=!1),Fa(a,o,u),c0(u.stateNode),Wt=d,wr=y;break;case 5:Rn||ra(u,o);case 6:if(d=Wt,y=wr,Wt=null,Fa(a,o,u),Wt=d,wr=y,Wt!==null)if(wr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(u.stateNode)}catch(_){kt(u,o,_)}else try{Wt.removeChild(u.stateNode)}catch(_){kt(u,o,_)}break;case 18:Wt!==null&&(wr?(a=Wt,T9(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Ru(a)):T9(Wt,u.stateNode));break;case 4:d=Wt,y=wr,Wt=u.stateNode.containerInfo,wr=!0,Fa(a,o,u),Wt=d,wr=y;break;case 0:case 11:case 14:case 15:Us(2,u,o),Rn||Us(4,u,o),Fa(a,o,u);break;case 1:Rn||(ra(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&A8(u,o,d)),Fa(a,o,u);break;case 21:Fa(a,o,u);break;case 22:Rn=(d=Rn)||u.memoizedState!==null,Fa(a,o,u),Rn=d;break;default:Fa(a,o,u)}}function O8(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ru(a)}catch(u){kt(o,o.return,u)}}}function z8(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ru(a)}catch(u){kt(o,o.return,u)}}function BV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new N8),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new N8),o;default:throw Error(r(435,a.tag))}}function Nf(a,o){var u=BV(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=KV.bind(null,a,d);d.then(y,y)}})}function xr(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],_=a,N=o,F=N;e:for(;F!==null;){switch(F.tag){case 27:if(Xs(F.type)){Wt=F.stateNode,wr=!1;break e}break;case 5:Wt=F.stateNode,wr=!1;break e;case 3:case 4:Wt=F.stateNode.containerInfo,wr=!0;break e}F=F.return}if(Wt===null)throw Error(r(160));D8(_,N,y),Wt=null,wr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)V8(o,a),o=o.sibling}var Di=null;function V8(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xr(o,a),Sr(a),d&4&&(Us(3,a,a.return),e0(3,a),Us(5,a,a.return));break;case 1:xr(o,a),Sr(a),d&512&&(Rn||u===null||ra(u,u.return)),d&64&&Ha&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Di;if(xr(o,a),Sr(a),d&512&&(Rn||u===null||ra(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[ri]||_[fn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),Qn(_,d,u),_[fn]=a,dn(_),d=_;break e;case"link":var N=V9("link","href",y).get(d+(u.href||""));if(N){for(var F=0;F<N.length;F++)if(_=N[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(F,1);break t}}_=y.createElement(d),Qn(_,d,u),y.head.appendChild(_);break;case"meta":if(N=V9("meta","content",y).get(d+(u.content||""))){for(F=0;F<N.length;F++)if(_=N[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(F,1);break t}}_=y.createElement(d),Qn(_,d,u),y.head.appendChild(_);break;default:throw Error(r(468,d))}_[fn]=a,dn(_),d=_}a.stateNode=d}else L9(y,a.type,a.stateNode);else a.stateNode=z9(y,d,a.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?L9(y,a.type,a.stateNode):z9(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&jp(a,a.memoizedProps,u.memoizedProps)}break;case 27:xr(o,a),Sr(a),d&512&&(Rn||u===null||ra(u,u.return)),u!==null&&d&4&&jp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(xr(o,a),Sr(a),d&512&&(Rn||u===null||ra(u,u.return)),a.flags&32){y=a.stateNode;try{br(y,"")}catch(Ue){kt(a,a.return,Ue)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,jp(a,y,u!==null?u.memoizedProps:y)),d&1024&&(Gp=!0);break;case 6:if(xr(o,a),Sr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ue){kt(a,a.return,Ue)}}break;case 3:if($f=null,y=Di,Di=Ff(o.containerInfo),xr(o,a),Di=y,Sr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ru(o.containerInfo)}catch(Ue){kt(a,a.return,Ue)}Gp&&(Gp=!1,L8(a));break;case 4:d=Di,Di=Ff(a.stateNode.containerInfo),xr(o,a),Sr(a),Di=d;break;case 12:xr(o,a),Sr(a);break;case 31:xr(o,a),Sr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Nf(a,d)));break;case 13:xr(o,a),Sr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kf=Qt()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Nf(a,d)));break;case 22:y=a.memoizedState!==null;var te=u!==null&&u.memoizedState!==null,ve=Ha,xe=Rn;if(Ha=ve||y,Rn=xe||te,xr(o,a),Rn=xe,Ha=ve,Sr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||te||Ha||Rn||ol(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){te=u=o;try{if(_=te.stateNode,y)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Ue){kt(te,te.return,Ue)}}}else if(o.tag===6){if(u===null){te=o;try{te.stateNode.nodeValue=y?"":te.memoizedProps}catch(Ue){kt(te,te.return,Ue)}}}else if(o.tag===18){if(u===null){te=o;try{var we=te.stateNode;y?A9(we,!0):A9(te.stateNode,!1)}catch(Ue){kt(te,te.return,Ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Nf(a,u))));break;case 19:xr(o,a),Sr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Nf(a,d)));break;case 30:break;case 21:break;default:xr(o,a),Sr(a)}}function Sr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(R8(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,_=Hp(a);If(a,_,y);break;case 5:var N=u.stateNode;u.flags&32&&(br(N,""),u.flags&=-33);var F=Hp(a);If(a,F,N);break;case 3:case 4:var te=u.stateNode.containerInfo,ve=Hp(a);Fp(a,ve,te);break;default:throw Error(r(161))}}catch(xe){kt(a,a.return,xe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function L8(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;L8(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ga(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)M8(a,o.alternate,o),o=o.sibling}function ol(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Us(4,o,o.return),ol(o);break;case 1:ra(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&A8(o,o.return,u),ol(o);break;case 27:c0(o.stateNode);case 26:case 5:ra(o,o.return),ol(o);break;case 22:o.memoizedState===null&&ol(o);break;case 30:ol(o);break;default:ol(o)}a=a.sibling}}function $a(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,_=o,N=_.flags;switch(_.tag){case 0:case 11:case 15:$a(y,_,u),e0(4,_);break;case 1:if($a(y,_,u),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ve){kt(d,d.return,ve)}if(d=_,y=d.updateQueue,y!==null){var F=d.stateNode;try{var te=y.shared.hiddenCallbacks;if(te!==null)for(y.shared.hiddenCallbacks=null,y=0;y<te.length;y++)mb(te[y],F)}catch(ve){kt(d,d.return,ve)}}u&&N&64&&T8(_),t0(_,_.return);break;case 27:I8(_);case 26:case 5:$a(y,_,u),u&&d===null&&N&4&&C8(_),t0(_,_.return);break;case 12:$a(y,_,u);break;case 31:$a(y,_,u),u&&N&4&&O8(y,_);break;case 13:$a(y,_,u),u&&N&4&&z8(y,_);break;case 22:_.memoizedState===null&&$a(y,_,u),t0(_,_.return);break;case 30:break;default:$a(y,_,u)}o=o.sibling}}function $p(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Uc(u))}function Yp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Uc(a))}function Oi(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)q8(a,o,u,d),o=o.sibling}function q8(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(a,o,u,d),y&2048&&e0(9,o);break;case 1:Oi(a,o,u,d);break;case 3:Oi(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Uc(a)));break;case 12:if(y&2048){Oi(a,o,u,d),a=o.stateNode;try{var _=o.memoizedProps,N=_.id,F=_.onPostCommit;typeof F=="function"&&F(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(te){kt(o,o.return,te)}}else Oi(a,o,u,d);break;case 31:Oi(a,o,u,d);break;case 13:Oi(a,o,u,d);break;case 23:break;case 22:_=o.stateNode,N=o.alternate,o.memoizedState!==null?_._visibility&2?Oi(a,o,u,d):n0(a,o):_._visibility&2?Oi(a,o,u,d):(_._visibility|=2,vu(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&$p(N,o);break;case 24:Oi(a,o,u,d),y&2048&&Yp(o.alternate,o);break;default:Oi(a,o,u,d)}}function vu(a,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,N=o,F=u,te=d,ve=N.flags;switch(N.tag){case 0:case 11:case 15:vu(_,N,F,te,y),e0(8,N);break;case 23:break;case 22:var xe=N.stateNode;N.memoizedState!==null?xe._visibility&2?vu(_,N,F,te,y):n0(_,N):(xe._visibility|=2,vu(_,N,F,te,y)),y&&ve&2048&&$p(N.alternate,N);break;case 24:vu(_,N,F,te,y),y&&ve&2048&&Yp(N.alternate,N);break;default:vu(_,N,F,te,y)}o=o.sibling}}function n0(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:n0(u,d),y&2048&&$p(d.alternate,d);break;case 24:n0(u,d),y&2048&&Yp(d.alternate,d);break;default:n0(u,d)}o=o.sibling}}var r0=8192;function yu(a,o,u){if(a.subtreeFlags&r0)for(a=a.child;a!==null;)P8(a,o,u),a=a.sibling}function P8(a,o,u){switch(a.tag){case 26:yu(a,o,u),a.flags&r0&&a.memoizedState!==null&&AL(u,Di,a.memoizedState,a.memoizedProps);break;case 5:yu(a,o,u);break;case 3:case 4:var d=Di;Di=Ff(a.stateNode.containerInfo),yu(a,o,u),Di=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=r0,r0=16777216,yu(a,o,u),r0=d):yu(a,o,u));break;default:yu(a,o,u)}}function B8(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function i0(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];jn=d,j8(d,a)}B8(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)U8(a),a=a.sibling}function U8(a){switch(a.tag){case 0:case 11:case 15:i0(a),a.flags&2048&&Us(9,a,a.return);break;case 3:i0(a);break;case 12:i0(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Mf(a)):i0(a);break;default:i0(a)}}function Mf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];jn=d,j8(d,a)}B8(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Us(8,o,o.return),Mf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Mf(o));break;default:Mf(o)}a=a.sibling}}function j8(a,o){for(;jn!==null;){var u=jn;switch(u.tag){case 0:case 11:case 15:Us(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Uc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,jn=d;else e:for(u=a;jn!==null;){d=jn;var y=d.sibling,_=d.return;if(k8(d),d===u){jn=null;break e}if(y!==null){y.return=_,jn=y;break e}jn=_}}}var UV={getCacheForType:function(a){var o=Xn(Tn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Xn(Tn).controller.signal}},jV=typeof WeakMap=="function"?WeakMap:Map,It=0,Ut=null,ht=null,dt=0,Mt=0,Ur=null,js=!1,_u=!1,Xp=!1,Ya=0,gn=0,Hs=0,ll=0,Kp=0,jr=0,bu=0,a0=null,Er=null,Qp=!1,kf=0,H8=0,Df=1/0,Of=null,Fs=null,Ln=0,Gs=null,wu=null,Xa=0,Zp=0,Wp=null,F8=null,s0=0,Jp=null;function Hr(){return(It&2)!==0&&dt!==0?dt&-dt:$.T!==null?ag():Ul()}function G8(){if(jr===0)if((dt&536870912)===0||yt){var a=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),jr=a}else jr=536870912;return a=Pr.current,a!==null&&(a.flags|=32),jr}function Tr(a,o,u){(a===Ut&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)&&(xu(a,0),$s(a,dt,jr,!1)),Aa(a,u),((It&2)===0||a!==Ut)&&(a===Ut&&((It&2)===0&&(ll|=u),gn===4&&$s(a,dt,jr,!1)),ia(a))}function $8(a,o,u){if((It&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||kr(a,o),y=d?GV(a,o):tg(a,o,!0),_=d;do{if(y===0){_u&&!d&&$s(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!HV(u)){y=tg(a,o,!1),_=!1;continue}if(y===2){if(_=o,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var F=a;y=a0;var te=F.current.memoizedState.isDehydrated;if(te&&(xu(F,N).flags|=256),N=tg(F,N,!1),N!==2){if(Xp&&!te){F.errorRecoveryDisabledLanes|=_,ll|=_,y=4;break e}_=Er,Er=y,_!==null&&(Er===null?Er=_:Er.push.apply(Er,_))}y=N}if(_=!1,y!==2)continue}}if(y===1){xu(a,0),$s(a,o,0,!0);break}e:{switch(d=a,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:$s(d,o,jr,!js);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=kf+300-Qt(),10<y)){if($s(d,o,jr,!js),ti(d,0,!0)!==0)break e;Xa=o,d.timeoutHandle=S9(Y8.bind(null,d,u,Er,Of,Qp,o,jr,ll,bu,js,_,"Throttled",-0,0),y);break e}Y8(d,u,Er,Of,Qp,o,jr,ll,bu,js,_,null,-0,0)}}break}while(!0);ia(a)}function Y8(a,o,u,d,y,_,N,F,te,ve,xe,Te,ye,we){if(a.timeoutHandle=-1,Te=o.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},P8(o,_,Te);var Ue=(_&62914560)===_?kf-Qt():(_&4194048)===_?H8-Qt():0;if(Ue=CL(Te,Ue),Ue!==null){Xa=_,a.cancelPendingCommit=Ue(t9.bind(null,a,o,_,u,d,y,N,F,te,xe,Te,null,ye,we)),$s(a,_,N,!ve);return}}t9(a,o,_,u,d,y,N,F,te)}function HV(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],_=y.getSnapshot;y=y.value;try{if(!Lr(_(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $s(a,o,u,d){o&=~Kp,o&=~ll,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var _=31-rn(y),N=1<<_;d[_]=-1,y&=~N}u!==0&&Ca(a,u,o)}function zf(){return(It&6)===0?(o0(0),!1):!0}function eg(){if(ht!==null){if(Mt===0)var a=ht.return;else a=ht,La=Jo=null,gp(a),fu=null,Hc=0,a=ht;for(;a!==null;)E8(a.alternate,a),a=a.return;ht=null}}function xu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,uL(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Xa=0,eg(),Ut=a,ht=u=za(a.current,null),dt=o,Mt=0,Ur=null,js=!1,_u=kr(a,o),Xp=!1,bu=jr=Kp=ll=Hs=gn=0,Er=a0=null,Qp=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-rn(d),_=1<<y;o|=a[y],d&=~_}return Ya=o,tf(),u}function X8(a,o){lt=null,$.H=Zc,o===hu||o===cf?(o=cb(),Mt=3):o===ip?(o=cb(),Mt=4):Mt=o===kp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ur=o,ht===null&&(gn=1,Ef(a,fi(o,a.current)))}function K8(){var a=Pr.current;return a===null?!0:(dt&4194048)===dt?gi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===gi:!1}function Q8(){var a=$.H;return $.H=Zc,a===null?Zc:a}function Z8(){var a=$.A;return $.A=UV,a}function Vf(){gn=4,js||(dt&4194048)!==dt&&Pr.current!==null||(_u=!0),(Hs&134217727)===0&&(ll&134217727)===0||Ut===null||$s(Ut,dt,jr,!1)}function tg(a,o,u){var d=It;It|=2;var y=Q8(),_=Z8();(Ut!==a||dt!==o)&&(Of=null,xu(a,o)),o=!1;var N=gn;e:do try{if(Mt!==0&&ht!==null){var F=ht,te=Ur;switch(Mt){case 8:eg(),N=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(o=!0);var ve=Mt;if(Mt=0,Ur=null,Su(a,F,te,ve),u&&_u){N=0;break e}break;default:ve=Mt,Mt=0,Ur=null,Su(a,F,te,ve)}}FV(),N=gn;break}catch(xe){X8(a,xe)}while(!0);return o&&a.shellSuspendCounter++,La=Jo=null,It=d,$.H=y,$.A=_,ht===null&&(Ut=null,dt=0,tf()),N}function FV(){for(;ht!==null;)W8(ht)}function GV(a,o){var u=It;It|=2;var d=Q8(),y=Z8();Ut!==a||dt!==o?(Of=null,Df=Qt()+500,xu(a,o)):_u=kr(a,o);e:do try{if(Mt!==0&&ht!==null){o=ht;var _=Ur;t:switch(Mt){case 1:Mt=0,Ur=null,Su(a,o,_,1);break;case 2:case 9:if(lb(_)){Mt=0,Ur=null,J8(o);break}o=function(){Mt!==2&&Mt!==9||Ut!==a||(Mt=7),ia(a)},_.then(o,o);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:lb(_)?(Mt=0,Ur=null,J8(o)):(Mt=0,Ur=null,Su(a,o,_,7));break;case 5:var N=null;switch(ht.tag){case 26:N=ht.memoizedState;case 5:case 27:var F=ht;if(N?q9(N):F.stateNode.complete){Mt=0,Ur=null;var te=F.sibling;if(te!==null)ht=te;else{var ve=F.return;ve!==null?(ht=ve,Lf(ve)):ht=null}break t}}Mt=0,Ur=null,Su(a,o,_,5);break;case 6:Mt=0,Ur=null,Su(a,o,_,6);break;case 8:eg(),gn=6;break e;default:throw Error(r(462))}}$V();break}catch(xe){X8(a,xe)}while(!0);return La=Jo=null,$.H=d,$.A=y,It=u,ht!==null?0:(Ut=null,dt=0,tf(),gn)}function $V(){for(;ht!==null&&!Bn();)W8(ht)}function W8(a){var o=x8(a.alternate,a,Ya);a.memoizedProps=a.pendingProps,o===null?Lf(a):ht=o}function J8(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=g8(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=g8(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:gp(o);default:E8(u,o),o=ht=Z7(o,Ya),o=x8(u,o,Ya)}a.memoizedProps=a.pendingProps,o===null?Lf(a):ht=o}function Su(a,o,u,d){La=Jo=null,gp(o),fu=null,Hc=0;var y=o.return;try{if(OV(a,y,o,u,dt)){gn=1,Ef(a,fi(u,a.current)),ht=null;return}}catch(_){if(y!==null)throw ht=y,_;gn=1,Ef(a,fi(u,a.current)),ht=null;return}o.flags&32768?(yt||d===1?a=!0:_u||(dt&536870912)!==0?a=!1:(js=a=!0,(d===2||d===9||d===3||d===6)&&(d=Pr.current,d!==null&&d.tag===13&&(d.flags|=16384))),e9(o,a)):Lf(o)}function Lf(a){var o=a;do{if((o.flags&32768)!==0){e9(o,js);return}a=o.return;var u=LV(o.alternate,o,Ya);if(u!==null){ht=u;return}if(o=o.sibling,o!==null){ht=o;return}ht=o=a}while(o!==null);gn===0&&(gn=5)}function e9(a,o){do{var u=qV(a.alternate,a);if(u!==null){u.flags&=32767,ht=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ht=a;return}ht=a=u}while(a!==null);gn=6,ht=null}function t9(a,o,u,d,y,_,N,F,te){a.cancelPendingCommit=null;do qf();while(Ln!==0);if((It&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=H1,Ac(a,u,_,N,F,te),a===Ut&&(ht=Ut=null,dt=0),wu=o,Gs=a,Xa=u,Zp=_,Wp=y,F8=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,QV(Un,function(){return s9(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=ee.p,ee.p=2,N=It,It|=4;try{PV(a,o,u)}finally{It=N,ee.p=y,$.T=d}}Ln=1,n9(),r9(),i9()}}function n9(){if(Ln===1){Ln=0;var a=Gs,o=wu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=ee.p;ee.p=2;var y=It;It|=4;try{V8(o,a);var _=dg,N=j7(a.containerInfo),F=_.focusedElem,te=_.selectionRange;if(N!==F&&F&&F.ownerDocument&&U7(F.ownerDocument.documentElement,F)){if(te!==null&&q1(F)){var ve=te.start,xe=te.end;if(xe===void 0&&(xe=ve),"selectionStart"in F)F.selectionStart=ve,F.selectionEnd=Math.min(xe,F.value.length);else{var Te=F.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var we=ye.getSelection(),Ue=F.textContent.length,Je=Math.min(te.start,Ue),Lt=te.end===void 0?Je:Math.min(te.end,Ue);!we.extend&&Je>Lt&&(N=Lt,Lt=Je,Je=N);var ue=B7(F,Je),ae=B7(F,Lt);if(ue&&ae&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var pe=Te.createRange();pe.setStart(ue.node,ue.offset),we.removeAllRanges(),Je>Lt?(we.addRange(pe),we.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),we.addRange(pe))}}}}for(Te=[],we=F;we=we.parentNode;)we.nodeType===1&&Te.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Se=Te[F];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Qf=!!fg,dg=fg=null}finally{It=y,ee.p=d,$.T=u}}a.current=o,Ln=2}}function r9(){if(Ln===2){Ln=0;var a=Gs,o=wu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=ee.p;ee.p=2;var y=It;It|=4;try{M8(a,o.alternate,o)}finally{It=y,ee.p=d,$.T=u}}Ln=3}}function i9(){if(Ln===4||Ln===3){Ln=0,$t();var a=Gs,o=wu,u=Xa,d=F8;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,wu=Gs=null,a9(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Fs=null),Ti(u),o=o.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(cn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,y=ee.p,ee.p=2,$.T=null;try{for(var _=a.onRecoverableError,N=0;N<d.length;N++){var F=d[N];_(F.value,{componentStack:F.stack})}}finally{$.T=o,ee.p=y}}(Xa&3)!==0&&qf(),ia(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===Jp?s0++:(s0=0,Jp=a):s0=0,o0(0)}}function a9(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Uc(o)))}function qf(){return n9(),r9(),i9(),s9()}function s9(){if(Ln!==5)return!1;var a=Gs,o=Zp;Zp=0;var u=Ti(Xa),d=$.T,y=ee.p;try{ee.p=32>u?32:u,$.T=null,u=Wp,Wp=null;var _=Gs,N=Xa;if(Ln=0,wu=Gs=null,Xa=0,(It&6)!==0)throw Error(r(331));var F=It;if(It|=4,U8(_.current),q8(_,_.current,N,u),It=F,o0(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(cn,_)}catch{}return!0}finally{ee.p=y,$.T=d,a9(a,o)}}function o9(a,o,u){o=fi(u,o),o=Mp(a.stateNode,o,2),a=qs(a,o,2),a!==null&&(Aa(a,2),ia(a))}function kt(a,o,u){if(a.tag===3)o9(a,a,u);else for(;o!==null;){if(o.tag===3){o9(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))){a=fi(u,a),u=l8(2),d=qs(o,u,2),d!==null&&(u8(u,d,o,a),Aa(d,2),ia(d));break}}o=o.return}}function ng(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new jV;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(Xp=!0,y.add(u),a=YV.bind(null,a,o,u),o.then(a,a))}function YV(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Ut===a&&(dt&u)===u&&(gn===4||gn===3&&(dt&62914560)===dt&&300>Qt()-kf?(It&2)===0&&xu(a,0):Kp|=u,bu===dt&&(bu=0)),ia(a)}function l9(a,o){o===0&&(o=Bl()),a=Qo(a,o),a!==null&&(Aa(a,o),ia(a))}function XV(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),l9(a,u)}function KV(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),l9(a,u)}function QV(a,o){return Nt(a,o)}var Pf=null,Eu=null,rg=!1,Bf=!1,ig=!1,Ys=0;function ia(a){a!==Eu&&a.next===null&&(Eu===null?Pf=Eu=a:Eu=Eu.next=a),Bf=!0,rg||(rg=!0,WV())}function o0(a,o){if(!ig&&Bf){ig=!0;do for(var u=!1,d=Pf;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var N=d.suspendedLanes,F=d.pingedLanes;_=(1<<31-rn(42|a)+1)-1,_&=y&~(N&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,f9(d,_))}else _=dt,_=ti(d,d===Ut?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||kr(d,_)||(u=!0,f9(d,_));d=d.next}while(u);ig=!1}}function ZV(){u9()}function u9(){Bf=rg=!1;var a=0;Ys!==0&&lL()&&(a=Ys);for(var o=Qt(),u=null,d=Pf;d!==null;){var y=d.next,_=c9(d,o);_===0?(d.next=null,u===null?Pf=y:u.next=y,y===null&&(Eu=u)):(u=d,(a!==0||(_&3)!==0)&&(Bf=!0)),d=y}Ln!==0&&Ln!==5||o0(a),Ys!==0&&(Ys=0)}function c9(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-rn(_),F=1<<N,te=y[N];te===-1?((F&u)===0||(F&d)!==0)&&(y[N]=Tc(F,o)):te<=o&&(a.expiredLanes|=F),_&=~F}if(o=Ut,u=dt,u=ti(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Vn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||kr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&Vn(d),Ti(u)){case 2:case 8:u=vr;break;case 32:u=Un;break;case 268435456:u=Ei;break;default:u=Un}return d=h9.bind(null,a),u=Nt(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&Vn(d),a.callbackPriority=2,a.callbackNode=null,2}function h9(a,o){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(qf()&&a.callbackNode!==u)return null;var d=dt;return d=ti(a,a===Ut?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:($8(a,d,o),c9(a,Qt()),a.callbackNode!=null&&a.callbackNode===u?h9.bind(null,a):null)}function f9(a,o){if(qf())return null;$8(a,o,!0)}function WV(){cL(function(){(It&6)!==0?Nt(gr,ZV):u9()})}function ag(){if(Ys===0){var a=uu;a===0&&(a=Jr,Jr<<=1,(Jr&261888)===0&&(Jr=256)),Ys=a}return Ys}function d9(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Xl(""+a)}function m9(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function JV(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var _=d9((y[Sn]||null).action),N=d.submitter;N&&(o=(o=N[Sn]||null)?d9(o.formAction):N.getAttribute("formAction"),o!==null&&(_=o,N=null));var F=new Zi("action","action",null,d,y);a.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var te=N?m9(y,N):new FormData(y);Tp(u,{pending:!0,data:te,method:y.method,action:_},null,te)}}else typeof _=="function"&&(F.preventDefault(),te=N?m9(y,N):new FormData(y),Tp(u,{pending:!0,data:te,method:y.method,action:_},_,te))},currentTarget:y}]})}}for(var sg=0;sg<j1.length;sg++){var og=j1[sg],eL=og.toLowerCase(),tL=og[0].toUpperCase()+og.slice(1);ki(eL,"on"+tL)}ki(G7,"onAnimationEnd"),ki($7,"onAnimationIteration"),ki(Y7,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(vV,"onTransitionRun"),ki(yV,"onTransitionStart"),ki(_V,"onTransitionCancel"),ki(X7,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(l0));function p9(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var N=d.length-1;0<=N;N--){var F=d[N],te=F.instance,ve=F.currentTarget;if(F=F.listener,te!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=ve;try{_(y)}catch(xe){ef(xe)}y.currentTarget=null,_=te}else for(N=0;N<d.length;N++){if(F=d[N],te=F.instance,ve=F.currentTarget,F=F.listener,te!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=ve;try{_(y)}catch(xe){ef(xe)}y.currentTarget=null,_=te}}}}function ft(a,o){var u=o[Ia];u===void 0&&(u=o[Ia]=new Set);var d=a+"__bubble";u.has(d)||(g9(o,a,2,!1),u.add(d))}function lg(a,o,u){var d=0;o&&(d|=4),g9(u,a,d,o)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function ug(a){if(!a[Uf]){a[Uf]=!0,zo.forEach(function(u){u!=="selectionchange"&&(nL.has(u)||lg(u,!1,a),lg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Uf]||(o[Uf]=!0,lg("selectionchange",!1,o))}}function g9(a,o,u,d){switch(G9(o)){case 2:var y=NL;break;case 8:y=ML;break;default:y=Eg}u=y.bind(null,o,u,a),y=void 0,!jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function cg(a,o,u,d,y){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var F=d.stateNode.containerInfo;if(F===y)break;if(N===4)for(N=d.return;N!==null;){var te=N.tag;if((te===3||te===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;F!==null;){if(N=ii(F),N===null)return;if(te=N.tag,te===5||te===6||te===26||te===27){d=_=N;continue e}F=F.parentNode}}d=d.return}Rs(function(){var ve=_,xe=li(u),Te=[];e:{var ye=K7.get(a);if(ye!==void 0){var we=Zi,Ue=a;switch(a){case"keypress":if(Fo(u)===0)break e;case"keydown":case"keyup":we=Zh;break;case"focusin":Ue="focus",we=$o;break;case"focusout":Ue="blur",we=$o;break;case"beforeblur":case"afterblur":we=$o;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=A;break;case G7:case $7:case Y7:we=Fh;break;case X7:we=X;break;case"scroll":case"scrollend":we=kc;break;case"wheel":we=be;break;case"copy":case"cut":case"paste":we=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Oa;break;case"toggle":case"beforetoggle":we=ot}var Je=(o&4)!==0,Lt=!Je&&(a==="scroll"||a==="scrollend"),ue=Je?ye!==null?ye+"Capture":null:ye;Je=[];for(var ae=ve,pe;ae!==null;){var Se=ae;if(pe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||pe===null||ue===null||(Se=Ri(ae,ue),Se!=null&&Je.push(u0(ae,Se,pe))),Lt)break;ae=ae.return}0<Je.length&&(ye=new we(ye,Ue,null,u,xe),Te.push({event:ye,listeners:Je}))}}if((o&7)===0){e:{if(ye=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ye&&u!==Ic&&(Ue=u.relatedTarget||u.fromElement)&&(ii(Ue)||Ue[zr]))break e;if((we||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,we?(Ue=u.relatedTarget||u.toElement,we=ve,Ue=Ue?ii(Ue):null,Ue!==null&&(Lt=s(Ue),Je=Ue.tag,Ue!==Lt||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(we=null,Ue=ve),we!==Ue)){if(Je=Dc,Se="onMouseLeave",ue="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(Je=Oa,Se="onPointerLeave",ue="onPointerEnter",ae="pointer"),Lt=we==null?ye:nr(we),pe=Ue==null?ye:nr(Ue),ye=new Je(Se,ae+"leave",we,u,xe),ye.target=Lt,ye.relatedTarget=pe,Se=null,ii(xe)===ve&&(Je=new Je(ue,ae+"enter",Ue,u,xe),Je.target=pe,Je.relatedTarget=Lt,Se=Je),Lt=Se,we&&Ue)t:{for(Je=rL,ue=we,ae=Ue,pe=0,Se=ue;Se;Se=Je(Se))pe++;Se=0;for(var Ke=ae;Ke;Ke=Je(Ke))Se++;for(;0<pe-Se;)ue=Je(ue),pe--;for(;0<Se-pe;)ae=Je(ae),Se--;for(;pe--;){if(ue===ae||ae!==null&&ue===ae.alternate){Je=ue;break t}ue=Je(ue),ae=Je(ae)}Je=null}else Je=null;we!==null&&v9(Te,ye,we,Je,!1),Ue!==null&&Lt!==null&&v9(Te,Lt,Ue,Je,!0)}}e:{if(ye=ve?nr(ve):window,we=ye.nodeName&&ye.nodeName.toLowerCase(),we==="select"||we==="input"&&ye.type==="file")var Tt=O7;else if(k7(ye))if(z7)Tt=mV;else{Tt=fV;var Fe=hV}else we=ye.nodeName,!we||we.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ve&&Yl(ve.elementType)&&(Tt=O7):Tt=dV;if(Tt&&(Tt=Tt(a,ve))){D7(Te,Tt,u,xe);break e}Fe&&Fe(a,ye,ve),a==="focusout"&&ve&&ye.type==="number"&&ve.memoizedProps.value!=null&&Bo(ye,"number",ye.value)}switch(Fe=ve?nr(ve):window,a){case"focusin":(k7(Fe)||Fe.contentEditable==="true")&&(tu=Fe,P1=ve,qc=null);break;case"focusout":qc=P1=tu=null;break;case"mousedown":B1=!0;break;case"contextmenu":case"mouseup":case"dragend":B1=!1,H7(Te,u,xe);break;case"selectionchange":if(gV)break;case"keydown":case"keyup":H7(Te,u,xe)}var ut;if(Rt)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else eu?Yo(a,u)&&(mt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(ea&&u.locale!=="ko"&&(eu||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&eu&&(ut=Mc()):(Qi=xe,Nc="value"in Qi?Qi.value:Qi.textContent,eu=!0)),Fe=jf(ve,mt),0<Fe.length&&(mt=new Ji(mt,a,null,u,xe),Te.push({event:mt,listeners:Fe}),ut?mt.data=ut:(ut=Jl(u),ut!==null&&(mt.data=ut)))),(ut=ci?oV(a,u):lV(a,u))&&(mt=jf(ve,"onBeforeInput"),0<mt.length&&(Fe=new Ji("onBeforeInput","beforeinput",null,u,xe),Te.push({event:Fe,listeners:mt}),Fe.data=ut)),JV(Te,a,ve,u,xe)}p9(Te,o)})}function u0(a,o,u){return{instance:a,listener:o,currentTarget:u}}function jf(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Ri(a,u),y!=null&&d.unshift(u0(a,y,_)),y=Ri(a,o),y!=null&&d.push(u0(a,y,_))),a.tag===3)return d;a=a.return}return[]}function rL(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function v9(a,o,u,d,y){for(var _=o._reactName,N=[];u!==null&&u!==d;){var F=u,te=F.alternate,ve=F.stateNode;if(F=F.tag,te!==null&&te===d)break;F!==5&&F!==26&&F!==27||ve===null||(te=ve,y?(ve=Ri(u,_),ve!=null&&N.unshift(u0(u,ve,te))):y||(ve=Ri(u,_),ve!=null&&N.push(u0(u,ve,te)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var iL=/\r\n?/g,aL=/\u0000|\uFFFD/g;function y9(a){return(typeof a=="string"?a:""+a).replace(iL,`
`).replace(aL,"")}function _9(a,o){return o=y9(o),y9(a)===o}function Vt(a,o,u,d,y,_){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||br(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&br(a,""+d);break;case"className":ur(a,"class",d);break;case"tabIndex":ur(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(a,u,d);break;case"style":Rc(a,d,_);break;case"data":if(o!=="object"){ur(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Xl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&Vt(a,o,"name",y.name,y,null),Vt(a,o,"formEncType",y.formEncType,y,null),Vt(a,o,"formMethod",y.formMethod,y,null),Vt(a,o,"formTarget",y.formTarget,y,null)):(Vt(a,o,"encType",y.encType,y,null),Vt(a,o,"method",y.method,y,null),Vt(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Xl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ci);break;case"onScroll":d!=null&&ft("scroll",a);break;case"onScrollEnd":d!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=Xl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":ft("beforetoggle",a),ft("toggle",a),Es(a,"popover",d);break;case"xlinkActuate":mn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":mn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":mn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":mn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":mn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":mn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":mn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":mn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":mn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Es(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Uh.get(u)||u,Es(a,u,d))}}function hg(a,o,u,d,y,_){switch(u){case"style":Rc(a,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?br(a,d):(typeof d=="number"||typeof d=="bigint")&&br(a,""+d);break;case"onScroll":d!=null&&ft("scroll",a);break;case"onScrollEnd":d!=null&&ft("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),_=a[Sn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Es(a,u,d)}}}function Qn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var d=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var N=u[_];if(N!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Vt(a,o,_,N,u,null)}}y&&Vt(a,o,"srcSet",u.srcSet,u,null),d&&Vt(a,o,"src",u.src,u,null);return;case"input":ft("invalid",a);var F=_=N=y=null,te=null,ve=null;for(d in u)if(u.hasOwnProperty(d)){var xe=u[d];if(xe!=null)switch(d){case"name":y=xe;break;case"type":N=xe;break;case"checked":te=xe;break;case"defaultChecked":ve=xe;break;case"value":_=xe;break;case"defaultValue":F=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:Vt(a,o,d,xe,u,null)}}$l(a,_,F,te,ve,N,y,!1);return;case"select":ft("invalid",a),d=N=_=null;for(y in u)if(u.hasOwnProperty(y)&&(F=u[y],F!=null))switch(y){case"value":_=F;break;case"defaultValue":N=F;break;case"multiple":d=F;default:Vt(a,o,y,F,u,null)}o=_,u=N,a.multiple=!!d,o!=null?Ai(a,!!d,o,!1):u!=null&&Ai(a,!!d,u,!0);return;case"textarea":ft("invalid",a),_=y=d=null;for(N in u)if(u.hasOwnProperty(N)&&(F=u[N],F!=null))switch(N){case"value":d=F;break;case"defaultValue":y=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Vt(a,o,N,F,u,null)}Ts(a,d,y,_);return;case"option":for(te in u)u.hasOwnProperty(te)&&(d=u[te],d!=null)&&(te==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":Vt(a,o,te,d,u,null));return;case"dialog":ft("beforetoggle",a),ft("toggle",a),ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(d=0;d<l0.length;d++)ft(l0[d],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in u)if(u.hasOwnProperty(ve)&&(d=u[ve],d!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Vt(a,o,ve,d,u,null)}return;default:if(Yl(o)){for(xe in u)u.hasOwnProperty(xe)&&(d=u[xe],d!==void 0&&hg(a,o,xe,d,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(d=u[F],d!=null&&Vt(a,o,F,d,u,null))}function sL(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,N=null,F=null,te=null,ve=null,xe=null;for(we in u){var Te=u[we];if(u.hasOwnProperty(we)&&Te!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":te=Te;default:d.hasOwnProperty(we)||Vt(a,o,we,null,d,Te)}}for(var ye in d){var we=d[ye];if(Te=u[ye],d.hasOwnProperty(ye)&&(we!=null||Te!=null))switch(ye){case"type":_=we;break;case"name":y=we;break;case"checked":ve=we;break;case"defaultChecked":xe=we;break;case"value":N=we;break;case"defaultValue":F=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:we!==Te&&Vt(a,o,ye,we,d,Te)}}Xi(a,N,F,te,ve,xe,_,y);return;case"select":we=N=F=ye=null;for(_ in u)if(te=u[_],u.hasOwnProperty(_)&&te!=null)switch(_){case"value":break;case"multiple":we=te;default:d.hasOwnProperty(_)||Vt(a,o,_,null,d,te)}for(y in d)if(_=d[y],te=u[y],d.hasOwnProperty(y)&&(_!=null||te!=null))switch(y){case"value":ye=_;break;case"defaultValue":F=_;break;case"multiple":N=_;default:_!==te&&Vt(a,o,y,_,d,te)}o=F,u=N,d=we,ye!=null?Ai(a,!!u,ye,!1):!!d!=!!u&&(o!=null?Ai(a,!!u,o,!0):Ai(a,!!u,u?[]:"",!1));return;case"textarea":we=ye=null;for(F in u)if(y=u[F],u.hasOwnProperty(F)&&y!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Vt(a,o,F,null,d,y)}for(N in d)if(y=d[N],_=u[N],d.hasOwnProperty(N)&&(y!=null||_!=null))switch(N){case"value":ye=y;break;case"defaultValue":we=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&Vt(a,o,N,y,d,_)}Ph(a,ye,we);return;case"option":for(var Ue in u)ye=u[Ue],u.hasOwnProperty(Ue)&&ye!=null&&!d.hasOwnProperty(Ue)&&(Ue==="selected"?a.selected=!1:Vt(a,o,Ue,null,d,ye));for(te in d)ye=d[te],we=u[te],d.hasOwnProperty(te)&&ye!==we&&(ye!=null||we!=null)&&(te==="selected"?a.selected=ye&&typeof ye!="function"&&typeof ye!="symbol":Vt(a,o,te,ye,d,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in u)ye=u[Je],u.hasOwnProperty(Je)&&ye!=null&&!d.hasOwnProperty(Je)&&Vt(a,o,Je,null,d,ye);for(ve in d)if(ye=d[ve],we=u[ve],d.hasOwnProperty(ve)&&ye!==we&&(ye!=null||we!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:Vt(a,o,ve,ye,d,we)}return;default:if(Yl(o)){for(var Lt in u)ye=u[Lt],u.hasOwnProperty(Lt)&&ye!==void 0&&!d.hasOwnProperty(Lt)&&hg(a,o,Lt,void 0,d,ye);for(xe in d)ye=d[xe],we=u[xe],!d.hasOwnProperty(xe)||ye===we||ye===void 0&&we===void 0||hg(a,o,xe,ye,d,we);return}}for(var ue in u)ye=u[ue],u.hasOwnProperty(ue)&&ye!=null&&!d.hasOwnProperty(ue)&&Vt(a,o,ue,null,d,ye);for(Te in d)ye=d[Te],we=u[Te],!d.hasOwnProperty(Te)||ye===we||ye==null&&we==null||Vt(a,o,Te,ye,d,we)}function b9(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],_=y.transferSize,N=y.initiatorType,F=y.duration;if(_&&F&&b9(N)){for(N=0,F=y.responseEnd,d+=1;d<u.length;d++){var te=u[d],ve=te.startTime;if(ve>F)break;var xe=te.transferSize,Te=te.initiatorType;xe&&b9(Te)&&(te=te.responseEnd,N+=xe*(te<F?1:(F-ve)/(te-ve)))}if(--d,o+=8*(_+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var fg=null,dg=null;function Hf(a){return a.nodeType===9?a:a.ownerDocument}function w9(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x9(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function mg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pg=null;function lL(){var a=window.event;return a&&a.type==="popstate"?a===pg?!1:(pg=a,!0):(pg=null,!1)}var S9=typeof setTimeout=="function"?setTimeout:void 0,uL=typeof clearTimeout=="function"?clearTimeout:void 0,E9=typeof Promise=="function"?Promise:void 0,cL=typeof queueMicrotask=="function"?queueMicrotask:typeof E9<"u"?function(a){return E9.resolve(null).then(a).catch(hL)}:S9;function hL(a){setTimeout(function(){throw a})}function Xs(a){return a==="head"}function T9(a,o){var u=o,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),Ru(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")c0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,c0(u);for(var _=u.firstChild;_;){var N=_.nextSibling,F=_.nodeName;_[ri]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=N}}else u==="body"&&c0(a.ownerDocument.body);u=y}while(u);Ru(o)}function A9(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function gg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":gg(u),xs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function fL(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ri])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=vi(a.nextSibling),a===null)break}return null}function dL(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=vi(a.nextSibling),a===null))return null;return a}function C9(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=vi(a.nextSibling),a===null))return null;return a}function vg(a){return a.data==="$?"||a.data==="$~"}function yg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function mL(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function vi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var _g=null;function R9(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return vi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function I9(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function N9(a,o,u){switch(o=Hf(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function c0(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);xs(a)}var yi=new Map,M9=new Set;function Ff(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ka=ee.d;ee.d={f:pL,r:gL,D:vL,C:yL,L:_L,m:bL,X:xL,S:wL,M:SL};function pL(){var a=Ka.f(),o=zf();return a||o}function gL(a){var o=_r(a);o!==null&&o.tag===5&&o.type==="form"?Xb(o):Ka.r(a)}var Tu=typeof document>"u"?null:document;function k9(a,o,u){var d=Tu;if(d&&typeof o=="string"&&o){var y=rr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),M9.has(y)||(M9.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Qn(o,"link",a),dn(o),d.head.appendChild(o)))}}function vL(a){Ka.D(a),k9("dns-prefetch",a,null)}function yL(a,o){Ka.C(a,o),k9("preconnect",a,o)}function _L(a,o,u){Ka.L(a,o,u);var d=Tu;if(d&&a&&o){var y='link[rel="preload"][as="'+rr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+rr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+rr(u.imageSizes)+'"]')):y+='[href="'+rr(a)+'"]';var _=y;switch(o){case"style":_=Au(a);break;case"script":_=Cu(a)}yi.has(_)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),yi.set(_,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(h0(_))||o==="script"&&d.querySelector(f0(_))||(o=d.createElement("link"),Qn(o,"link",a),dn(o),d.head.appendChild(o)))}}function bL(a,o){Ka.m(a,o);var u=Tu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+rr(d)+'"][href="'+rr(a)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Cu(a)}if(!yi.has(_)&&(a=p({rel:"modulepreload",href:a},o),yi.set(_,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(f0(_)))return}d=u.createElement("link"),Qn(d,"link",a),dn(d),u.head.appendChild(d)}}}function wL(a,o,u){Ka.S(a,o,u);var d=Tu;if(d&&a){var y=ai(d).hoistableStyles,_=Au(a);o=o||"default";var N=y.get(_);if(!N){var F={loading:0,preload:null};if(N=d.querySelector(h0(_)))F.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=yi.get(_))&&bg(a,u);var te=N=d.createElement("link");dn(te),Qn(te,"link",a),te._p=new Promise(function(ve,xe){te.onload=ve,te.onerror=xe}),te.addEventListener("load",function(){F.loading|=1}),te.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Gf(N,o,d)}N={type:"stylesheet",instance:N,count:1,state:F},y.set(_,N)}}}function xL(a,o){Ka.X(a,o);var u=Tu;if(u&&a){var d=ai(u).hoistableScripts,y=Cu(a),_=d.get(y);_||(_=u.querySelector(f0(y)),_||(a=p({src:a,async:!0},o),(o=yi.get(y))&&wg(a,o),_=u.createElement("script"),dn(_),Qn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function SL(a,o){Ka.M(a,o);var u=Tu;if(u&&a){var d=ai(u).hoistableScripts,y=Cu(a),_=d.get(y);_||(_=u.querySelector(f0(y)),_||(a=p({src:a,async:!0,type:"module"},o),(o=yi.get(y))&&wg(a,o),_=u.createElement("script"),dn(_),Qn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function D9(a,o,u,d){var y=(y=le.current)?Ff(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Au(u.href),u=ai(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Au(u.href);var _=ai(y).hoistableStyles,N=_.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=y.querySelector(h0(a)))&&!_._p&&(N.instance=_,N.state.loading=5),yi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},yi.set(a,u),_||EL(y,a,u,N.state))),o&&d===null)throw Error(r(528,""));return N}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Cu(u),u=ai(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Au(a){return'href="'+rr(a)+'"'}function h0(a){return'link[rel="stylesheet"]['+a+"]"}function O9(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function EL(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Qn(o,"link",u),dn(o),a.head.appendChild(o))}function Cu(a){return'[src="'+rr(a)+'"]'}function f0(a){return"script[async]"+a}function z9(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+rr(u.href)+'"]');if(d)return o.instance=d,dn(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),dn(d),Qn(d,"style",y),Gf(d,u.precedence,a),o.instance=d;case"stylesheet":y=Au(u.href);var _=a.querySelector(h0(y));if(_)return o.state.loading|=4,o.instance=_,dn(_),_;d=O9(u),(y=yi.get(y))&&bg(d,y),_=(a.ownerDocument||a).createElement("link"),dn(_);var N=_;return N._p=new Promise(function(F,te){N.onload=F,N.onerror=te}),Qn(_,"link",d),o.state.loading|=4,Gf(_,u.precedence,a),o.instance=_;case"script":return _=Cu(u.src),(y=a.querySelector(f0(_)))?(o.instance=y,dn(y),y):(d=u,(y=yi.get(_))&&(d=p({},u),wg(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),dn(y),Qn(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Gf(d,u.precedence,a));return o.instance}function Gf(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,N=0;N<d.length;N++){var F=d[N];if(F.dataset.precedence===o)_=F;else if(_!==y)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function bg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function wg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var $f=null;function V9(a,o,u){if($f===null){var d=new Map,y=$f=new Map;y.set(u,d)}else y=$f,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var _=u[y];if(!(_[ri]||_[fn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(o)||"";N=a+N;var F=d.get(N);F?F.push(_):d.set(N,[_])}}return d}function L9(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function TL(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function q9(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function AL(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Au(d.href),_=o.querySelector(h0(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Yf.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,dn(_);return}_=o.ownerDocument||o,d=O9(d),(y=yi.get(y))&&bg(d,y),_=_.createElement("link"),dn(_);var N=_;N._p=new Promise(function(F,te){N.onload=F,N.onerror=te}),Qn(_,"link",d),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Yf.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var xg=0;function CL(a,o){return a.stylesheets&&a.count===0&&Kf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Kf(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&xg===0&&(xg=62500*oL());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Kf(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>xg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Xf=null;function Kf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Xf=new Map,o.forEach(RL,a),Xf=null,Yf.call(a))}function RL(a,o){if(!(o.state.loading&4)){var u=Xf.get(a);if(u)var d=u.get(null);else{u=new Map,Xf.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var N=y[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),d=N)}d&&u.set(null,d)}y=o.instance,N=y.getAttribute("data-precedence"),_=u.get(N)||d,_===d&&u.set(null,y),u.set(N,y),this.count++,d=Yf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var d0={$$typeof:T,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function IL(a,o,u,d,y,_,N,F,te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function P9(a,o,u,d,y,_,N,F,te,ve,xe,Te){return a=new IL(a,o,u,N,te,ve,xe,Te,F),o=1,_===!0&&(o|=24),_=qr(3,null,null,o),a.current=_,_.stateNode=a,o=tp(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:o},ap(_),a}function B9(a){return a?(a=iu,a):iu}function U9(a,o,u,d,y,_){y=B9(y),d.context===null?d.context=y:d.pendingContext=y,d=Ls(o),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=qs(a,d,o),u!==null&&(Tr(u,a,o),Gc(u,a,o))}function j9(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Sg(a,o){j9(a,o),(a=a.alternate)&&j9(a,o)}function H9(a){if(a.tag===13||a.tag===31){var o=Qo(a,67108864);o!==null&&Tr(o,a,67108864),Sg(a,67108864)}}function F9(a){if(a.tag===13||a.tag===31){var o=Hr();o=Ra(o);var u=Qo(a,o);u!==null&&Tr(u,a,o),Sg(a,o)}}var Qf=!0;function NL(a,o,u,d){var y=$.T;$.T=null;var _=ee.p;try{ee.p=2,Eg(a,o,u,d)}finally{ee.p=_,$.T=y}}function ML(a,o,u,d){var y=$.T;$.T=null;var _=ee.p;try{ee.p=8,Eg(a,o,u,d)}finally{ee.p=_,$.T=y}}function Eg(a,o,u,d){if(Qf){var y=Tg(d);if(y===null)cg(a,o,d,Zf,u),$9(a,d);else if(DL(y,a,o,u,d))d.stopPropagation();else if($9(a,d),o&4&&-1<kL.indexOf(a)){for(;y!==null;){var _=_r(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=ei(_.pendingLanes);if(N!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var te=1<<31-rn(N);F.entanglements[1]|=te,N&=~te}ia(_),(It&6)===0&&(Df=Qt()+500,o0(0))}}break;case 31:case 13:F=Qo(_,2),F!==null&&Tr(F,_,2),zf(),Sg(_,2)}if(_=Tg(d),_===null&&cg(a,o,d,Zf,u),_===y)break;y=_}y!==null&&d.stopPropagation()}else cg(a,o,d,null,u)}}function Tg(a){return a=li(a),Ag(a)}var Zf=null;function Ag(a){if(Zf=null,a=ii(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Zf=a,null}function G9(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case gr:return 2;case vr:return 8;case Un:case _s:return 32;case Ei:return 268435456;default:return 32}default:return 32}}var Cg=!1,Ks=null,Qs=null,Zs=null,m0=new Map,p0=new Map,Ws=[],kL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $9(a,o){switch(a){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":m0.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":p0.delete(o.pointerId)}}function g0(a,o,u,d,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},o!==null&&(o=_r(o),o!==null&&H9(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function DL(a,o,u,d,y){switch(o){case"focusin":return Ks=g0(Ks,a,o,u,d,y),!0;case"dragenter":return Qs=g0(Qs,a,o,u,d,y),!0;case"mouseover":return Zs=g0(Zs,a,o,u,d,y),!0;case"pointerover":var _=y.pointerId;return m0.set(_,g0(m0.get(_)||null,a,o,u,d,y)),!0;case"gotpointercapture":return _=y.pointerId,p0.set(_,g0(p0.get(_)||null,a,o,u,d,y)),!0}return!1}function Y9(a){var o=ii(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Dr(a.priority,function(){F9(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Dr(a.priority,function(){F9(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Tg(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Ic=d,u.target.dispatchEvent(d),Ic=null}else return o=_r(u),o!==null&&H9(o),a.blockedOn=u,!1;o.shift()}return!0}function X9(a,o,u){Wf(a)&&u.delete(o)}function OL(){Cg=!1,Ks!==null&&Wf(Ks)&&(Ks=null),Qs!==null&&Wf(Qs)&&(Qs=null),Zs!==null&&Wf(Zs)&&(Zs=null),m0.forEach(X9),p0.forEach(X9)}function Jf(a,o){a.blockedOn===o&&(a.blockedOn=null,Cg||(Cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OL)))}var ed=null;function K9(a){ed!==a&&(ed=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ed===a&&(ed=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if(Ag(d||u)===null)continue;break}var _=_r(u);_!==null&&(a.splice(o,3),o-=3,Tp(_,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Ru(a){function o(te){return Jf(te,a)}Ks!==null&&Jf(Ks,a),Qs!==null&&Jf(Qs,a),Zs!==null&&Jf(Zs,a),m0.forEach(o),p0.forEach(o);for(var u=0;u<Ws.length;u++){var d=Ws[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Ws.length&&(u=Ws[0],u.blockedOn===null);)Y9(u),u.blockedOn===null&&Ws.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],_=u[d+1],N=y[Sn]||null;if(typeof _=="function")N||K9(u);else if(N){var F=null;if(_&&_.hasAttribute("formAction")){if(y=_,N=_[Sn]||null)F=N.formAction;else if(Ag(y)!==null)continue}else F=N.action;typeof F=="function"?u[d+1]=F:(u.splice(d,3),d-=3),K9(u)}}}function Q9(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Rg(a){this._internalRoot=a}td.prototype.render=Rg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Hr();U9(u,d,a,o,null,null)},td.prototype.unmount=Rg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;U9(a.current,2,null,a,null,null),zf(),o[zr]=null}};function td(a){this._internalRoot=a}td.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ul();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ws.length&&o!==0&&o<Ws[u].priority;u++);Ws.splice(u,0,a),u===0&&Y9(a)}};var Z9=e.version;if(Z9!=="19.2.3")throw Error(r(527,Z9,"19.2.3"));ee.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var zL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{cn=nd.inject(zL),Bt=nd}catch{}}return y0.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=i8,_=a8,N=s8;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=P9(a,1,!1,null,null,u,d,null,y,_,N,Q9),a[zr]=o.current,ug(a),new Rg(o)},y0.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",_=i8,N=a8,F=s8,te=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(te=u.formState)),o=P9(a,1,!0,o,u??null,d,y,te,_,N,F,Q9),o.context=B9(null),u=o.current,d=Hr(),d=Ra(d),y=Ls(d),y.callback=null,qs(u,y,d),u=d,o.current.lanes=u,Aa(o,u),ia(o),a[zr]=o.current,ug(a),new td(o)},y0.version="19.2.3",y0}var ow;function FL(){if(ow)return Mg.exports;ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mg.exports=HL(),Mg.exports}var GL=FL();const $L=Nm(GL);function Dn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Dn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var YL={value:()=>{}};function Mm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Rd(n)}function Rd(t){this._=t}function XL(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Rd.prototype=Mm.prototype={constructor:Rd,on:function(t,e){var n=this._,r=XL(t+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(t=r[s]).type)&&(i=KL(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(i=(t=r[s]).type)n[i]=lw(n[i],t.name,e);else if(e==null)for(i in n)n[i]=lw(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rd(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function KL(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function lw(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=YL,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var U5="http://www.w3.org/1999/xhtml";const uw={svg:"http://www.w3.org/2000/svg",xhtml:U5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function km(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),uw.hasOwnProperty(e)?{space:uw[e],local:t}:t}function QL(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===U5&&e.documentElement.namespaceURI===U5?e.createElement(t):e.createElementNS(n,t)}}function ZL(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $I(t){var e=km(t);return(e.local?ZL:QL)(e)}function WL(){}function V6(t){return t==null?WL:function(){return this.querySelector(t)}}function JL(t){typeof t!="function"&&(t=V6(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=new Array(l),h,f,m=0;m<l;++m)(h=s[m])&&(f=t.call(h,h.__data__,m,s))&&("__data__"in h&&(f.__data__=h.__data__),c[m]=f);return new Zr(r,this._parents)}function eq(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tq(){return[]}function YI(t){return t==null?tq:function(){return this.querySelectorAll(t)}}function nq(t){return function(){return eq(t.apply(this,arguments))}}function rq(t){typeof t=="function"?t=nq(t):t=YI(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var l=e[s],c=l.length,h,f=0;f<c;++f)(h=l[f])&&(r.push(t.call(h,h.__data__,f,l)),i.push(h));return new Zr(r,i)}function XI(t){return function(){return this.matches(t)}}function KI(t){return function(e){return e.matches(t)}}var iq=Array.prototype.find;function aq(t){return function(){return iq.call(this.children,t)}}function sq(){return this.firstElementChild}function oq(t){return this.select(t==null?sq:aq(typeof t=="function"?t:KI(t)))}var lq=Array.prototype.filter;function uq(){return Array.from(this.children)}function cq(t){return function(){return lq.call(this.children,t)}}function hq(t){return this.selectAll(t==null?uq:cq(typeof t=="function"?t:KI(t)))}function fq(t){typeof t!="function"&&(t=XI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],h,f=0;f<l;++f)(h=s[f])&&t.call(h,h.__data__,f,s)&&c.push(h);return new Zr(r,this._parents)}function QI(t){return new Array(t.length)}function dq(){return new Zr(this._enter||this._groups.map(QI),this._parents)}function Yd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Yd.prototype={constructor:Yd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mq(t){return function(){return t}}function pq(t,e,n,r,i,s){for(var l=0,c,h=e.length,f=s.length;l<f;++l)(c=e[l])?(c.__data__=s[l],r[l]=c):n[l]=new Yd(t,s[l]);for(;l<h;++l)(c=e[l])&&(i[l]=c)}function gq(t,e,n,r,i,s,l){var c,h,f=new Map,m=e.length,p=s.length,v=new Array(m),b;for(c=0;c<m;++c)(h=e[c])&&(v[c]=b=l.call(h,h.__data__,c,e)+"",f.has(b)?i[c]=h:f.set(b,h));for(c=0;c<p;++c)b=l.call(t,s[c],c,s)+"",(h=f.get(b))?(r[c]=h,h.__data__=s[c],f.delete(b)):n[c]=new Yd(t,s[c]);for(c=0;c<m;++c)(h=e[c])&&f.get(v[c])===h&&(i[c]=h)}function vq(t){return t.__data__}function yq(t,e){if(!arguments.length)return Array.from(this,vq);var n=e?gq:pq,r=this._parents,i=this._groups;typeof t!="function"&&(t=mq(t));for(var s=i.length,l=new Array(s),c=new Array(s),h=new Array(s),f=0;f<s;++f){var m=r[f],p=i[f],v=p.length,b=_q(t.call(m,m&&m.__data__,f,r)),x=b.length,S=c[f]=new Array(x),E=l[f]=new Array(x),C=h[f]=new Array(v);n(m,p,S,E,C,b,e);for(var M=0,T=0,O,B;M<x;++M)if(O=S[M]){for(M>=T&&(T=M+1);!(B=E[T])&&++T<x;);O._next=B||null}}return l=new Zr(l,r),l._enter=c,l._exit=h,l}function _q(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bq(){return new Zr(this._exit||this._groups.map(QI),this._parents)}function wq(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function xq(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,l=Math.min(i,s),c=new Array(i),h=0;h<l;++h)for(var f=n[h],m=r[h],p=f.length,v=c[h]=new Array(p),b,x=0;x<p;++x)(b=f[x]||m[x])&&(v[x]=b);for(;h<i;++h)c[h]=n[h];return new Zr(c,this._parents)}function Sq(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Eq(t){t||(t=Tq);function e(p,v){return p&&v?t(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],c=l.length,h=i[s]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(h[m]=f);h.sort(e)}return new Zr(i,this._parents).order()}function Tq(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Aq(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Cq(){return Array.from(this)}function Rq(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function Iq(){let t=0;for(const e of this)++t;return t}function Nq(){return!this.node()}function Mq(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,l=i.length,c;s<l;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function kq(t){return function(){this.removeAttribute(t)}}function Dq(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Oq(t,e){return function(){this.setAttribute(t,e)}}function zq(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Vq(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Lq(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function qq(t,e){var n=km(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Dq:kq:typeof e=="function"?n.local?Lq:Vq:n.local?zq:Oq)(n,e))}function ZI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Pq(t){return function(){this.style.removeProperty(t)}}function Bq(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Uq(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function jq(t,e,n){return arguments.length>1?this.each((e==null?Pq:typeof e=="function"?Uq:Bq)(t,e,n??"")):$u(this.node(),t)}function $u(t,e){return t.style.getPropertyValue(e)||ZI(t).getComputedStyle(t,null).getPropertyValue(e)}function Hq(t){return function(){delete this[t]}}function Fq(t,e){return function(){this[t]=e}}function Gq(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $q(t,e){return arguments.length>1?this.each((e==null?Hq:typeof e=="function"?Gq:Fq)(t,e)):this.node()[t]}function WI(t){return t.trim().split(/^|\s+/)}function L6(t){return t.classList||new JI(t)}function JI(t){this._node=t,this._names=WI(t.getAttribute("class")||"")}JI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function eN(t,e){for(var n=L6(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function tN(t,e){for(var n=L6(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yq(t){return function(){eN(this,t)}}function Xq(t){return function(){tN(this,t)}}function Kq(t,e){return function(){(e.apply(this,arguments)?eN:tN)(this,t)}}function Qq(t,e){var n=WI(t+"");if(arguments.length<2){for(var r=L6(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Kq:e?Yq:Xq)(n,e))}function Zq(){this.textContent=""}function Wq(t){return function(){this.textContent=t}}function Jq(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function eP(t){return arguments.length?this.each(t==null?Zq:(typeof t=="function"?Jq:Wq)(t)):this.node().textContent}function tP(){this.innerHTML=""}function nP(t){return function(){this.innerHTML=t}}function rP(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function iP(t){return arguments.length?this.each(t==null?tP:(typeof t=="function"?rP:nP)(t)):this.node().innerHTML}function aP(){this.nextSibling&&this.parentNode.appendChild(this)}function sP(){return this.each(aP)}function oP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lP(){return this.each(oP)}function uP(t){var e=typeof t=="function"?t:$I(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function cP(){return null}function hP(t,e){var n=typeof t=="function"?t:$I(t),r=e==null?cP:typeof e=="function"?e:V6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function fP(){var t=this.parentNode;t&&t.removeChild(this)}function dP(){return this.each(fP)}function mP(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pP(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gP(t){return this.select(t?pP:mP)}function vP(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yP(t){return function(e){t.call(this,e,this.__data__)}}function _P(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function bP(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function wP(t,e,n){return function(){var r=this.__on,i,s=yP(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function xP(t,e,n){var r=_P(t+""),i,s=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,f=c.length,m;h<f;++h)for(i=0,m=c[h];i<s;++i)if((l=r[i]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?wP:bP,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function nN(t,e,n){var r=ZI(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function SP(t,e){return function(){return nN(this,t,e)}}function EP(t,e){return function(){return nN(this,t,e.apply(this,arguments))}}function TP(t,e){return this.each((typeof e=="function"?EP:SP)(t,e))}function*AP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var rN=[null];function Zr(t,e){this._groups=t,this._parents=e}function ch(){return new Zr([[document.documentElement]],rN)}function CP(){return this}Zr.prototype=ch.prototype={constructor:Zr,select:JL,selectAll:rq,selectChild:oq,selectChildren:hq,filter:fq,data:yq,enter:dq,exit:bq,join:wq,merge:xq,selection:CP,order:Sq,sort:Eq,call:Aq,nodes:Cq,node:Rq,size:Iq,empty:Nq,each:Mq,attr:qq,style:jq,property:$q,classed:Qq,text:eP,html:iP,raise:sP,lower:lP,append:uP,insert:hP,remove:dP,clone:gP,datum:vP,on:xP,dispatch:TP,[Symbol.iterator]:AP};function Fr(t){return typeof t=="string"?new Zr([[document.querySelector(t)]],[document.documentElement]):new Zr([[t]],rN)}function RP(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zi(t,e){if(t=RP(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const IP={passive:!1},j0={capture:!0,passive:!1};function zg(t){t.stopImmediatePropagation()}function qu(t){t.preventDefault(),t.stopImmediatePropagation()}function iN(t){var e=t.document.documentElement,n=Fr(t).on("dragstart.drag",qu,j0);"onselectstart"in e?n.on("selectstart.drag",qu,j0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function aN(t,e){var n=t.document.documentElement,r=Fr(t).on("dragstart.drag",null);e&&(r.on("click.drag",qu,j0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const id=t=>()=>t;function j5(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:l,y:c,dx:h,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}j5.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function NP(t){return!t.ctrlKey&&!t.button}function MP(){return this.parentNode}function kP(t,e){return e??{x:t.x,y:t.y}}function DP(){return navigator.maxTouchPoints||"ontouchstart"in this}function sN(){var t=NP,e=MP,n=kP,r=DP,i={},s=Mm("start","drag","end"),l=0,c,h,f,m,p=0;function v(O){O.on("mousedown.drag",b).filter(r).on("touchstart.drag",E).on("touchmove.drag",C,IP).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(O,B){if(!(m||!t.call(this,O,B))){var q=T(this,e.call(this,O,B),O,B,"mouse");q&&(Fr(O.view).on("mousemove.drag",x,j0).on("mouseup.drag",S,j0),iN(O.view),zg(O),f=!1,c=O.clientX,h=O.clientY,q("start",O))}}function x(O){if(qu(O),!f){var B=O.clientX-c,q=O.clientY-h;f=B*B+q*q>p}i.mouse("drag",O)}function S(O){Fr(O.view).on("mousemove.drag mouseup.drag",null),aN(O.view,f),qu(O),i.mouse("end",O)}function E(O,B){if(t.call(this,O,B)){var q=O.changedTouches,R=e.call(this,O,B),k=q.length,D,H;for(D=0;D<k;++D)(H=T(this,R,O,B,q[D].identifier,q[D]))&&(zg(O),H("start",O,q[D]))}}function C(O){var B=O.changedTouches,q=B.length,R,k;for(R=0;R<q;++R)(k=i[B[R].identifier])&&(qu(O),k("drag",O,B[R]))}function M(O){var B=O.changedTouches,q=B.length,R,k;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<q;++R)(k=i[B[R].identifier])&&(zg(O),k("end",O,B[R]))}function T(O,B,q,R,k,D){var H=s.copy(),V=zi(D||q,B),j,U,K;if((K=n.call(O,new j5("beforestart",{sourceEvent:q,target:v,identifier:k,active:l,x:V[0],y:V[1],dx:0,dy:0,dispatch:H}),R))!=null)return j=K.x-V[0]||0,U=K.y-V[1]||0,function ne($,ee,re){var ce=V,de;switch($){case"start":i[k]=ne,de=l++;break;case"end":delete i[k],--l;case"drag":V=zi(re||ee,B),de=l;break}H.call($,O,new j5($,{sourceEvent:ee,subject:K,target:v,identifier:k,active:de,x:V[0]+j,y:V[1]+U,dx:V[0]-ce[0],dy:V[1]-ce[1],dispatch:H}),R)}}return v.filter=function(O){return arguments.length?(t=typeof O=="function"?O:id(!!O),v):t},v.container=function(O){return arguments.length?(e=typeof O=="function"?O:id(O),v):e},v.subject=function(O){return arguments.length?(n=typeof O=="function"?O:id(O),v):n},v.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:id(!!O),v):r},v.on=function(){var O=s.on.apply(s,arguments);return O===s?v:O},v.clickDistance=function(O){return arguments.length?(p=(O=+O)*O,v):Math.sqrt(p)},v}function q6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hh(){}var H0=.7,Xd=1/H0,Pu="\\s*([+-]?\\d+)\\s*",F0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OP=/^#([0-9a-f]{3,8})$/,zP=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),VP=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),LP=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${F0}\\)$`),qP=new RegExp(`^rgba\\(${ca},${ca},${ca},${F0}\\)$`),PP=new RegExp(`^hsl\\(${F0},${ca},${ca}\\)$`),BP=new RegExp(`^hsla\\(${F0},${ca},${ca},${F0}\\)$`),cw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q6(hh,xl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hw,formatHex:hw,formatHex8:UP,formatHsl:jP,formatRgb:fw,toString:fw});function hw(){return this.rgb().formatHex()}function UP(){return this.rgb().formatHex8()}function jP(){return lN(this).formatHsl()}function fw(){return this.rgb().formatRgb()}function xl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dw(e):n===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ad(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ad(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zP.exec(t))?new Ir(e[1],e[2],e[3],1):(e=VP.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LP.exec(t))?ad(e[1],e[2],e[3],e[4]):(e=qP.exec(t))?ad(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PP.exec(t))?gw(e[1],e[2]/100,e[3]/100,1):(e=BP.exec(t))?gw(e[1],e[2]/100,e[3]/100,e[4]):cw.hasOwnProperty(t)?dw(cw[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function dw(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function ad(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ir(t,e,n,r)}function HP(t){return t instanceof hh||(t=xl(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function H5(t,e,n,r){return arguments.length===1?HP(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}q6(Ir,H5,oN(hh,{brighter(t){return t=t==null?Xd:Math.pow(Xd,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?H0:Math.pow(H0,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(yl(this.r),yl(this.g),yl(this.b),Kd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mw,formatHex:mw,formatHex8:FP,formatRgb:pw,toString:pw}));function mw(){return`#${pl(this.r)}${pl(this.g)}${pl(this.b)}`}function FP(){return`#${pl(this.r)}${pl(this.g)}${pl(this.b)}${pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function pw(){const t=Kd(this.opacity);return`${t===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${t===1?")":`, ${t})`}`}function Kd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pl(t){return t=yl(t),(t<16?"0":"")+t.toString(16)}function gw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Li(t,e,n,r)}function lN(t){if(t instanceof Li)return new Li(t.h,t.s,t.l,t.opacity);if(t instanceof hh||(t=xl(t)),!t)return new Li;if(t instanceof Li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,h=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?s+i:2-s-i,l*=60):c=h>0&&h<1?0:l,new Li(l,c,h,t.opacity)}function GP(t,e,n,r){return arguments.length===1?lN(t):new Li(t,e,n,r??1)}function Li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}q6(Li,GP,oN(hh,{brighter(t){return t=t==null?Xd:Math.pow(Xd,t),new Li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?H0:Math.pow(H0,t),new Li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ir(Vg(t>=240?t-240:t+120,i,r),Vg(t,i,r),Vg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Li(vw(this.h),sd(this.s),sd(this.l),Kd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kd(this.opacity);return`${t===1?"hsl(":"hsla("}${vw(this.h)}, ${sd(this.s)*100}%, ${sd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vw(t){return t=(t||0)%360,t<0?t+360:t}function sd(t){return Math.max(0,Math.min(1,t||0))}function Vg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const P6=t=>()=>t;function $P(t,e){return function(n){return t+n*e}}function YP(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function XP(t){return(t=+t)==1?uN:function(e,n){return n-e?YP(e,n,t):P6(isNaN(e)?n:e)}}function uN(t,e){var n=e-t;return n?$P(t,n):P6(isNaN(t)?e:t)}const Qd=(function t(e){var n=XP(e);function r(i,s){var l=n((i=H5(i)).r,(s=H5(s)).r),c=n(i.g,s.g),h=n(i.b,s.b),f=uN(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function KP(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function QP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ZP(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=M0(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function WP(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function sa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function JP(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=M0(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var F5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lg=new RegExp(F5.source,"g");function eB(t){return function(){return t}}function tB(t){return function(e){return t(e)+""}}function cN(t,e){var n=F5.lastIndex=Lg.lastIndex=0,r,i,s,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=F5.exec(t))&&(i=Lg.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:sa(r,i)})),n=Lg.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?tB(h[0].x):eB(e):(e=h.length,function(f){for(var m=0,p;m<e;++m)c[(p=h[m]).i]=p.x(f);return c.join("")})}function M0(t,e){var n=typeof e,r;return e==null||n==="boolean"?P6(e):(n==="number"?sa:n==="string"?(r=xl(e))?(e=r,Qd):cN:e instanceof xl?Qd:e instanceof Date?WP:QP(e)?KP:Array.isArray(e)?ZP:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JP:sa)(t,e)}var yw=180/Math.PI,G5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hN(t,e,n,r,i,s){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*yw,skewX:Math.atan(h)*yw,scaleX:l,scaleY:c}}var od;function nB(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?G5:hN(e.a,e.b,e.c,e.d,e.e,e.f)}function rB(t){return t==null||(od||(od=document.createElementNS("http://www.w3.org/2000/svg","g")),od.setAttribute("transform",t),!(t=od.transform.baseVal.consolidate()))?G5:(t=t.matrix,hN(t.a,t.b,t.c,t.d,t.e,t.f))}function fN(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,m,p,v,b,x){if(f!==p||m!==v){var S=b.push("translate(",null,e,null,n);x.push({i:S-4,x:sa(f,p)},{i:S-2,x:sa(m,v)})}else(p||v)&&b.push("translate("+p+e+v+n)}function l(f,m,p,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:p.push(i(p)+"rotate(",null,r)-2,x:sa(f,m)})):m&&p.push(i(p)+"rotate("+m+r)}function c(f,m,p,v){f!==m?v.push({i:p.push(i(p)+"skewX(",null,r)-2,x:sa(f,m)}):m&&p.push(i(p)+"skewX("+m+r)}function h(f,m,p,v,b,x){if(f!==p||m!==v){var S=b.push(i(b)+"scale(",null,",",null,")");x.push({i:S-4,x:sa(f,p)},{i:S-2,x:sa(m,v)})}else(p!==1||v!==1)&&b.push(i(b)+"scale("+p+","+v+")")}return function(f,m){var p=[],v=[];return f=t(f),m=t(m),s(f.translateX,f.translateY,m.translateX,m.translateY,p,v),l(f.rotate,m.rotate,p,v),c(f.skewX,m.skewX,p,v),h(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,v),f=m=null,function(b){for(var x=-1,S=v.length,E;++x<S;)p[(E=v[x]).i]=E.x(b);return p.join("")}}}var iB=fN(nB,"px, ","px)","deg)"),aB=fN(rB,", ",")",")"),sB=1e-12;function _w(t){return((t=Math.exp(t))+1/t)/2}function oB(t){return((t=Math.exp(t))-1/t)/2}function lB(t){return((t=Math.exp(2*t))-1)/(t+1)}const Id=(function t(e,n,r){function i(s,l){var c=s[0],h=s[1],f=s[2],m=l[0],p=l[1],v=l[2],b=m-c,x=p-h,S=b*b+x*x,E,C;if(S<sB)C=Math.log(v/f)/e,E=function(R){return[c+R*b,h+R*x,f*Math.exp(e*R*C)]};else{var M=Math.sqrt(S),T=(v*v-f*f+r*S)/(2*f*n*M),O=(v*v-f*f-r*S)/(2*v*n*M),B=Math.log(Math.sqrt(T*T+1)-T),q=Math.log(Math.sqrt(O*O+1)-O);C=(q-B)/e,E=function(R){var k=R*C,D=_w(B),H=f/(n*M)*(D*lB(e*k+B)-oB(B));return[c+H*b,h+H*x,f*D/_w(e*k+B)]}}return E.duration=C*1e3*e/Math.SQRT2,E}return i.rho=function(s){var l=Math.max(.001,+s),c=l*l,h=c*c;return t(l,c,h)},i})(Math.SQRT2,2,4);var Yu=0,w0=0,_0=0,dN=1e3,Zd,x0,Wd=0,Sl=0,Dm=0,G0=typeof performance=="object"&&performance.now?performance:Date,mN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B6(){return Sl||(mN(uB),Sl=G0.now()+Dm)}function uB(){Sl=0}function Jd(){this._call=this._time=this._next=null}Jd.prototype=pN.prototype={constructor:Jd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?B6():+n)+(e==null?0:+e),!this._next&&x0!==this&&(x0?x0._next=this:Zd=this,x0=this),this._call=t,this._time=n,$5()},stop:function(){this._call&&(this._call=null,this._time=1/0,$5())}};function pN(t,e,n){var r=new Jd;return r.restart(t,e,n),r}function cB(){B6(),++Yu;for(var t=Zd,e;t;)(e=Sl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Yu}function bw(){Sl=(Wd=G0.now())+Dm,Yu=w0=0;try{cB()}finally{Yu=0,fB(),Sl=0}}function hB(){var t=G0.now(),e=t-Wd;e>dN&&(Dm-=e,Wd=t)}function fB(){for(var t,e=Zd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Zd=n);x0=t,$5(r)}function $5(t){if(!Yu){w0&&(w0=clearTimeout(w0));var e=t-Sl;e>24?(t<1/0&&(w0=setTimeout(bw,t-G0.now()-Dm)),_0&&(_0=clearInterval(_0))):(_0||(Wd=G0.now(),_0=setInterval(hB,dN)),Yu=1,mN(bw))}}function ww(t,e,n){var r=new Jd;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var dB=Mm("start","end","cancel","interrupt"),mB=[],gN=0,xw=1,Y5=2,Nd=3,Sw=4,X5=5,Md=6;function Om(t,e,n,r,i,s){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;pB(t,n,{name:e,index:r,group:i,on:dB,tween:mB,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:gN})}function U6(t,e){var n=Gi(t,e);if(n.state>gN)throw new Error("too late; already scheduled");return n}function _a(t,e){var n=Gi(t,e);if(n.state>Nd)throw new Error("too late; already running");return n}function Gi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pB(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=pN(s,0,n.time);function s(f){n.state=xw,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,v,b;if(n.state!==xw)return h();for(m in r)if(b=r[m],b.name===n.name){if(b.state===Nd)return ww(l);b.state===Sw?(b.state=Md,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Md,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(ww(function(){n.state===Nd&&(n.state=Sw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=Y5,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Y5){for(n.state=Nd,i=new Array(v=n.tween.length),m=0,p=-1;m<v;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=b);i.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(h),n.state=X5,1),p=-1,v=i.length;++p<v;)i[p].call(t,m);n.state===X5&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Md,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function kd(t,e){var n=t.__transition,r,i,s=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){s=!1;continue}i=r.state>Y5&&r.state<X5,r.state=Md,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}s&&delete t.__transition}}function gB(t){return this.each(function(){kd(this,t)})}function vB(t,e){var n,r;return function(){var i=_a(this,t),s=i.tween;if(s!==n){r=n=s;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function yB(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_a(this,t),l=s.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},h=0,f=i.length;h<f;++h)if(i[h].name===e){i[h]=c;break}h===f&&i.push(c)}s.tween=i}}function _B(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Gi(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?vB:yB)(n,t,e))}function j6(t,e,n){var r=t._id;return t.each(function(){var i=_a(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Gi(i,r).value[e]}}function vN(t,e){var n;return(typeof e=="number"?sa:e instanceof xl?Qd:(n=xl(e))?(e=n,Qd):cN)(t,e)}function bB(t){return function(){this.removeAttribute(t)}}function wB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xB(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttribute(t);return l===i?null:l===r?s:s=e(r=l,n)}}function SB(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?s:s=e(r=l,n)}}function EB(t,e,n){var r,i,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c)))}}function TB(t,e,n){var r,i,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c)))}}function AB(t,e){var n=km(t),r=n==="transform"?aB:vN;return this.attrTween(t,typeof e=="function"?(n.local?TB:EB)(n,r,j6(this,"attr."+t,e)):e==null?(n.local?wB:bB)(n):(n.local?SB:xB)(n,r,e))}function CB(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function RB(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function IB(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&RB(t,s)),n}return i._value=e,i}function NB(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&CB(t,s)),n}return i._value=e,i}function MB(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=km(t);return this.tween(n,(r.local?IB:NB)(r,e))}function kB(t,e){return function(){U6(this,t).delay=+e.apply(this,arguments)}}function DB(t,e){return e=+e,function(){U6(this,t).delay=e}}function OB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kB:DB)(e,t)):Gi(this.node(),e).delay}function zB(t,e){return function(){_a(this,t).duration=+e.apply(this,arguments)}}function VB(t,e){return e=+e,function(){_a(this,t).duration=e}}function LB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zB:VB)(e,t)):Gi(this.node(),e).duration}function qB(t,e){if(typeof e!="function")throw new Error;return function(){_a(this,t).ease=e}}function PB(t){var e=this._id;return arguments.length?this.each(qB(e,t)):Gi(this.node(),e).ease}function BB(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_a(this,t).ease=n}}function UB(t){if(typeof t!="function")throw new Error;return this.each(BB(this._id,t))}function jB(t){typeof t!="function"&&(t=XI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],h,f=0;f<l;++f)(h=s[f])&&t.call(h,h.__data__,f,s)&&c.push(h);return new as(r,this._parents,this._name,this._id)}function HB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),l=new Array(r),c=0;c<s;++c)for(var h=e[c],f=n[c],m=h.length,p=l[c]=new Array(m),v,b=0;b<m;++b)(v=h[b]||f[b])&&(p[b]=v);for(;c<r;++c)l[c]=e[c];return new as(l,this._parents,this._name,this._id)}function FB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function GB(t,e,n){var r,i,s=FB(e)?U6:_a;return function(){var l=s(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function $B(t,e){var n=this._id;return arguments.length<2?Gi(this.node(),n).on.on(t):this.each(GB(n,t,e))}function YB(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function XB(){return this.on("end.remove",YB(this._id))}function KB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=V6(t));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var c=r[l],h=c.length,f=s[l]=new Array(h),m,p,v=0;v<h;++v)(m=c[v])&&(p=t.call(m,m.__data__,v,c))&&("__data__"in m&&(p.__data__=m.__data__),f[v]=p,Om(f[v],e,n,v,f,Gi(m,n)));return new as(s,this._parents,e,n)}function QB(t){var e=this._name,n=this._id;typeof t!="function"&&(t=YI(t));for(var r=this._groups,i=r.length,s=[],l=[],c=0;c<i;++c)for(var h=r[c],f=h.length,m,p=0;p<f;++p)if(m=h[p]){for(var v=t.call(m,m.__data__,p,h),b,x=Gi(m,n),S=0,E=v.length;S<E;++S)(b=v[S])&&Om(b,e,n,S,v,x);s.push(v),l.push(m)}return new as(s,l,e,n)}var ZB=ch.prototype.constructor;function WB(){return new ZB(this._groups,this._parents)}function JB(t,e){var n,r,i;return function(){var s=$u(this,t),l=(this.style.removeProperty(t),$u(this,t));return s===l?null:s===n&&l===r?i:i=e(n=s,r=l)}}function yN(t){return function(){this.style.removeProperty(t)}}function eU(t,e,n){var r,i=n+"",s;return function(){var l=$u(this,t);return l===i?null:l===r?s:s=e(r=l,n)}}function tU(t,e,n){var r,i,s;return function(){var l=$u(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),$u(this,t))),l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c))}}function nU(t,e){var n,r,i,s="style."+e,l="end."+s,c;return function(){var h=_a(this,t),f=h.on,m=h.value[s]==null?c||(c=yN(e)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(l,i=m),h.on=r}}function rU(t,e,n){var r=(t+="")=="transform"?iB:vN;return e==null?this.styleTween(t,JB(t,r)).on("end.style."+t,yN(t)):typeof e=="function"?this.styleTween(t,tU(t,r,j6(this,"style."+t,e))).each(nU(this._id,t)):this.styleTween(t,eU(t,r,e),n).on("end.style."+t,null)}function iU(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function aU(t,e,n){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&iU(t,l,n)),r}return s._value=e,s}function sU(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,aU(t,e,n??""))}function oU(t){return function(){this.textContent=t}}function lU(t){return function(){var e=t(this);this.textContent=e??""}}function uU(t){return this.tween("text",typeof t=="function"?lU(j6(this,"text",t)):oU(t==null?"":t+""))}function cU(t){return function(e){this.textContent=t.call(this,e)}}function hU(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&cU(i)),e}return r._value=t,r}function fU(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hU(t))}function dU(){for(var t=this._name,e=this._id,n=_N(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,h,f=0;f<c;++f)if(h=l[f]){var m=Gi(h,e);Om(h,t,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new as(r,this._parents,t,n)}function mU(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var c={value:l},h={value:function(){--i===0&&s()}};n.each(function(){var f=_a(this,r),m=f.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),f.on=e}),i===0&&s()})}var pU=0;function as(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function _N(){return++pU}var Qa=ch.prototype;as.prototype={constructor:as,select:KB,selectAll:QB,selectChild:Qa.selectChild,selectChildren:Qa.selectChildren,filter:jB,merge:HB,selection:WB,transition:dU,call:Qa.call,nodes:Qa.nodes,node:Qa.node,size:Qa.size,empty:Qa.empty,each:Qa.each,on:$B,attr:AB,attrTween:MB,style:rU,styleTween:sU,text:uU,textTween:fU,remove:XB,tween:_B,delay:OB,duration:LB,ease:PB,easeVarying:UB,end:mU,[Symbol.iterator]:Qa[Symbol.iterator]};function gU(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var vU={time:null,delay:0,duration:250,ease:gU};function yU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function _U(t){var e,n;t instanceof as?(e=t._id,t=t._name):(e=_N(),(n=vU).time=B6(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,h,f=0;f<c;++f)(h=l[f])&&Om(h,t,e,f,l,n||yU(h,e));return new as(r,this._parents,t,e)}ch.prototype.interrupt=gB;ch.prototype.transition=_U;const ld=t=>()=>t;function bU(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function es(t,e,n){this.k=t,this.x=e,this.y=n}es.prototype={constructor:es,scale:function(t){return t===1?this:new es(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new es(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zm=new es(1,0,0);bN.prototype=es.prototype;function bN(t){for(;!t.__zoom;)if(!(t=t.parentNode))return zm;return t.__zoom}function qg(t){t.stopImmediatePropagation()}function b0(t){t.preventDefault(),t.stopImmediatePropagation()}function wU(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function xU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ew(){return this.__zoom||zm}function SU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function EU(){return navigator.maxTouchPoints||"ontouchstart"in this}function TU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function wN(){var t=wU,e=xU,n=TU,r=SU,i=EU,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Id,f=Mm("start","zoom","end"),m,p,v,b=500,x=150,S=0,E=10;function C(K){K.property("__zoom",Ew).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(K,ne,$,ee){var re=K.selection?K.selection():K;re.property("__zoom",Ew),K!==re?B(K,ne,$,ee):re.interrupt().each(function(){q(this,arguments).event(ee).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},C.scaleBy=function(K,ne,$,ee){C.scaleTo(K,function(){var re=this.__zoom.k,ce=typeof ne=="function"?ne.apply(this,arguments):ne;return re*ce},$,ee)},C.scaleTo=function(K,ne,$,ee){C.transform(K,function(){var re=e.apply(this,arguments),ce=this.__zoom,de=$==null?O(re):typeof $=="function"?$.apply(this,arguments):$,Y=ce.invert(de),W=typeof ne=="function"?ne.apply(this,arguments):ne;return n(T(M(ce,W),de,Y),re,l)},$,ee)},C.translateBy=function(K,ne,$,ee){C.transform(K,function(){return n(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),l)},null,ee)},C.translateTo=function(K,ne,$,ee,re){C.transform(K,function(){var ce=e.apply(this,arguments),de=this.__zoom,Y=ee==null?O(ce):typeof ee=="function"?ee.apply(this,arguments):ee;return n(zm.translate(Y[0],Y[1]).scale(de.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof $=="function"?-$.apply(this,arguments):-$),ce,l)},ee,re)};function M(K,ne){return ne=Math.max(s[0],Math.min(s[1],ne)),ne===K.k?K:new es(ne,K.x,K.y)}function T(K,ne,$){var ee=ne[0]-$[0]*K.k,re=ne[1]-$[1]*K.k;return ee===K.x&&re===K.y?K:new es(K.k,ee,re)}function O(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function B(K,ne,$,ee){K.on("start.zoom",function(){q(this,arguments).event(ee).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(ee).end()}).tween("zoom",function(){var re=this,ce=arguments,de=q(re,ce).event(ee),Y=e.apply(re,ce),W=$==null?O(Y):typeof $=="function"?$.apply(re,ce):$,me=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=re.__zoom,ie=typeof ne=="function"?ne.apply(re,ce):ne,le=h(Q.invert(W).concat(me/Q.k),ie.invert(W).concat(me/ie.k));return function(he){if(he===1)he=ie;else{var _e=le(he),Ce=me/_e[2];he=new es(Ce,W[0]-_e[0]*Ce,W[1]-_e[1]*Ce)}de.zoom(null,he)}})}function q(K,ne,$){return!$&&K.__zooming||new R(K,ne)}function R(K,ne){this.that=K,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,ne),this.taps=0}R.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,ne){return this.mouse&&K!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var ne=Fr(this.that).datum();f.call(K,this.that,new bU(K,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),ne)}};function k(K,...ne){if(!t.apply(this,arguments))return;var $=q(this,ne).event(K),ee=this.__zoom,re=Math.max(s[0],Math.min(s[1],ee.k*Math.pow(2,r.apply(this,arguments)))),ce=zi(K);if($.wheel)($.mouse[0][0]!==ce[0]||$.mouse[0][1]!==ce[1])&&($.mouse[1]=ee.invert($.mouse[0]=ce)),clearTimeout($.wheel);else{if(ee.k===re)return;$.mouse=[ce,ee.invert(ce)],kd(this),$.start()}b0(K),$.wheel=setTimeout(de,x),$.zoom("mouse",n(T(M(ee,re),$.mouse[0],$.mouse[1]),$.extent,l));function de(){$.wheel=null,$.end()}}function D(K,...ne){if(v||!t.apply(this,arguments))return;var $=K.currentTarget,ee=q(this,ne,!0).event(K),re=Fr(K.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",me,!0),ce=zi(K,$),de=K.clientX,Y=K.clientY;iN(K.view),qg(K),ee.mouse=[ce,this.__zoom.invert(ce)],kd(this),ee.start();function W(Q){if(b0(Q),!ee.moved){var ie=Q.clientX-de,le=Q.clientY-Y;ee.moved=ie*ie+le*le>S}ee.event(Q).zoom("mouse",n(T(ee.that.__zoom,ee.mouse[0]=zi(Q,$),ee.mouse[1]),ee.extent,l))}function me(Q){re.on("mousemove.zoom mouseup.zoom",null),aN(Q.view,ee.moved),b0(Q),ee.event(Q).end()}}function H(K,...ne){if(t.apply(this,arguments)){var $=this.__zoom,ee=zi(K.changedTouches?K.changedTouches[0]:K,this),re=$.invert(ee),ce=$.k*(K.shiftKey?.5:2),de=n(T(M($,ce),ee,re),e.apply(this,ne),l);b0(K),c>0?Fr(this).transition().duration(c).call(B,de,ee,K):Fr(this).call(C.transform,de,ee,K)}}function V(K,...ne){if(t.apply(this,arguments)){var $=K.touches,ee=$.length,re=q(this,ne,K.changedTouches.length===ee).event(K),ce,de,Y,W;for(qg(K),de=0;de<ee;++de)Y=$[de],W=zi(Y,this),W=[W,this.__zoom.invert(W),Y.identifier],re.touch0?!re.touch1&&re.touch0[2]!==W[2]&&(re.touch1=W,re.taps=0):(re.touch0=W,ce=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),ce&&(re.taps<2&&(p=W[0],m=setTimeout(function(){m=null},b)),kd(this),re.start())}}function j(K,...ne){if(this.__zooming){var $=q(this,ne).event(K),ee=K.changedTouches,re=ee.length,ce,de,Y,W;for(b0(K),ce=0;ce<re;++ce)de=ee[ce],Y=zi(de,this),$.touch0&&$.touch0[2]===de.identifier?$.touch0[0]=Y:$.touch1&&$.touch1[2]===de.identifier&&($.touch1[0]=Y);if(de=$.that.__zoom,$.touch1){var me=$.touch0[0],Q=$.touch0[1],ie=$.touch1[0],le=$.touch1[1],he=(he=ie[0]-me[0])*he+(he=ie[1]-me[1])*he,_e=(_e=le[0]-Q[0])*_e+(_e=le[1]-Q[1])*_e;de=M(de,Math.sqrt(he/_e)),Y=[(me[0]+ie[0])/2,(me[1]+ie[1])/2],W=[(Q[0]+le[0])/2,(Q[1]+le[1])/2]}else if($.touch0)Y=$.touch0[0],W=$.touch0[1];else return;$.zoom("touch",n(T(de,Y,W),$.extent,l))}}function U(K,...ne){if(this.__zooming){var $=q(this,ne).event(K),ee=K.changedTouches,re=ee.length,ce,de;for(qg(K),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),ce=0;ce<re;++ce)de=ee[ce],$.touch0&&$.touch0[2]===de.identifier?delete $.touch0:$.touch1&&$.touch1[2]===de.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(de=zi(de,this),Math.hypot(p[0]-de[0],p[1]-de[1])<E)){var Y=Fr(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return C.wheelDelta=function(K){return arguments.length?(r=typeof K=="function"?K:ld(+K),C):r},C.filter=function(K){return arguments.length?(t=typeof K=="function"?K:ld(!!K),C):t},C.touchable=function(K){return arguments.length?(i=typeof K=="function"?K:ld(!!K),C):i},C.extent=function(K){return arguments.length?(e=typeof K=="function"?K:ld([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),C):e},C.scaleExtent=function(K){return arguments.length?(s[0]=+K[0],s[1]=+K[1],C):[s[0],s[1]]},C.translateExtent=function(K){return arguments.length?(l[0][0]=+K[0][0],l[1][0]=+K[1][0],l[0][1]=+K[0][1],l[1][1]=+K[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(K){return arguments.length?(n=K,C):n},C.duration=function(K){return arguments.length?(c=+K,C):c},C.interpolate=function(K){return arguments.length?(h=K,C):h},C.on=function(){var K=f.on.apply(f,arguments);return K===f?C:K},C.clickDistance=function(K){return arguments.length?(S=(K=+K)*K,C):Math.sqrt(S)},C.tapDistance=function(K){return arguments.length?(E=+K,C):E},C}const ga={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},$0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xN=["Enter"," ","Escape"],SN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Xu;(function(t){t.Strict="strict",t.Loose="loose"})(Xu||(Xu={}));var _l;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(_l||(_l={}));var Y0;(function(t){t.Partial="partial",t.Full="full"})(Y0||(Y0={}));const EN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ao;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ao||(ao={}));var X0;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(X0||(X0={}));var Ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ye||(Ye={}));const Tw={[Ye.Left]:Ye.Right,[Ye.Right]:Ye.Left,[Ye.Top]:Ye.Bottom,[Ye.Bottom]:Ye.Top};function TN(t){return t===null?null:t?"valid":"invalid"}const AN=t=>"id"in t&&"source"in t&&"target"in t,AU=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),H6=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),fh=(t,e=[0,0])=>{const{width:n,height:r}=ms(t),i=t.origin??e,s=n*i[0],l=r*i[1];return{x:t.position.x-s,y:t.position.y-l}},CU=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let l=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(l=s?e.nodeLookup.get(i):H6(i)?i:e.nodeLookup.get(i.id));const c=l?em(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Vm(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Lm(n)},dh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=Vm(n,em(i)),r=!0)}),r?Lm(n):{x:0,y:0,width:0,height:0}},F6=(t,e,[n,r,i]=[0,0,1],s=!1,l=!1)=>{const c={...ph(e,[n,r,i]),width:e.width/i,height:e.height/i},h=[];for(const f of t.values()){const{measured:m,selectable:p=!0,hidden:v=!1}=f;if(l&&!p||v)continue;const b=m.width??f.width??f.initialWidth??null,x=m.height??f.height??f.initialHeight??null,S=K0(c,Qu(f)),E=(b??0)*(x??0),C=s&&S>0;(!f.internals.handleBounds||C||S>=E||f.dragging)&&h.push(f)}return h},RU=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function IU(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function NU({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},l){if(t.size===0)return Promise.resolve(!0);const c=IU(t,l),h=dh(c),f=G6(h,e,n,l?.minZoom??i,l?.maxZoom??s,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function CN({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:h,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)s?.("005",ga.error005());else{const b=c.measured.width,x=c.measured.height;b&&x&&(p=[[h,f],[h+b,f+x]])}else c&&Zu(l.extent)&&(p=[[l.extent[0][0]+h,l.extent[0][1]+f],[l.extent[1][0]+h,l.extent[1][1]+f]]);const v=Zu(p)?El(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",ga.error015()),{position:{x:v.x-h+(l.measured.width??0)*m[0],y:v.y-f+(l.measured.height??0)*m[1]},positionAbsolute:v}}async function MU({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(v=>v.id)),l=[];for(const v of n){if(v.deletable===!1)continue;const b=s.has(v.id),x=!b&&v.parentId&&l.find(S=>S.id===v.parentId);(b||x)&&l.push(v)}const c=new Set(e.map(v=>v.id)),h=r.filter(v=>v.deletable!==!1),m=RU(l,h);for(const v of h)c.has(v.id)&&!m.find(x=>x.id===v.id)&&m.push(v);if(!i)return{edges:m,nodes:l};const p=await i({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Ku=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),El=(t={x:0,y:0},e,n)=>({x:Ku(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Ku(t.y,e[0][1],e[1][1]-(n?.height??0))});function RN(t,e,n){const{width:r,height:i}=ms(n),{x:s,y:l}=n.internals.positionAbsolute;return El(t,[[s,l],[s+r,l+i]],e)}const Aw=(t,e,n)=>t<e?Ku(Math.abs(t-e),1,e)/e:t>n?-Ku(Math.abs(t-n),1,e)/e:0,IN=(t,e,n=15,r=40)=>{const i=Aw(t.x,r,e.width-r)*n,s=Aw(t.y,r,e.height-r)*n;return[i,s]},Vm=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),K5=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Lm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Qu=(t,e=[0,0])=>{const{x:n,y:r}=H6(t)?t.internals.positionAbsolute:fh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},em=(t,e=[0,0])=>{const{x:n,y:r}=H6(t)?t.internals.positionAbsolute:fh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},NN=(t,e)=>Lm(Vm(K5(t),K5(e))),K0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},Cw=t=>Pi(t.width)&&Pi(t.height)&&Pi(t.x)&&Pi(t.y),Pi=t=>!isNaN(t)&&isFinite(t),kU=(t,e)=>{},mh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),ph=({x:t,y:e},[n,r,i],s=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return s?mh(c,l):c},tm=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Iu(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function DU(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Iu(t,n),i=Iu(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Iu(t.top??t.y??0,n),i=Iu(t.bottom??t.y??0,n),s=Iu(t.left??t.x??0,e),l=Iu(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:s,x:s+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function OU(t,e,n,r,i,s){const{x:l,y:c}=tm(t,[e,n,r]),{x:h,y:f}=tm({x:t.x+t.width,y:t.y+t.height},[e,n,r]),m=i-h,p=s-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const G6=(t,e,n,r,i,s)=>{const l=DU(s,e,n),c=(e-l.x)/t.width,h=(n-l.y)/t.height,f=Math.min(c,h),m=Ku(f,r,i),p=t.x+t.width/2,v=t.y+t.height/2,b=e/2-p*m,x=n/2-v*m,S=OU(t,b,x,m,e,n),E={left:Math.min(S.left-l.left,0),top:Math.min(S.top-l.top,0),right:Math.min(S.right-l.right,0),bottom:Math.min(S.bottom-l.bottom,0)};return{x:b-E.left+E.right,y:x-E.top+E.bottom,zoom:m}},Q0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Zu(t){return t!=null&&t!=="parent"}function ms(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function MN(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function kN(t,e={width:0,height:0},n,r,i){const s={...t},l=r.get(n);if(l){const c=l.origin||i;s.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return s}function Rw(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function zU(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function VU(t){return{...SN,...t||{}}}function k0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:l}=Bi(t),c=ph({x:s-(i?.left??0),y:l-(i?.top??0)},r),{x:h,y:f}=n?mh(c,e):c;return{xSnapped:h,ySnapped:f,...c}}const $6=t=>({width:t.offsetWidth,height:t.offsetHeight}),DN=t=>t?.getRootNode?.()||window?.document,LU=["INPUT","SELECT","TEXTAREA"];function ON(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:LU.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const zN=t=>"clientX"in t,Bi=(t,e)=>{const n=zN(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},Iw=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...$6(l)}})};function VN({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c}){const h=t*.125+i*.375+l*.375+n*.125,f=e*.125+s*.375+c*.375+r*.125,m=Math.abs(h-t),p=Math.abs(f-e);return[h,f,m,p]}function ud(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Nw({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Ye.Left:return[e-ud(e-r,s),n];case Ye.Right:return[e+ud(r-e,s),n];case Ye.Top:return[e,n-ud(n-i,s)];case Ye.Bottom:return[e,n+ud(i-n,s)]}}function LN({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top,curvature:l=.25}){const[c,h]=Nw({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[f,m]=Nw({pos:s,x1:r,y1:i,x2:t,y2:e,c:l}),[p,v,b,x]=VN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:h,targetControlX:f,targetControlY:m});return[`M${t},${e} C${c},${h} ${f},${m} ${r},${i}`,p,v,b,x]}function qN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[s,c,i,l]}function qU({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function PU({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Vm(em(t),em(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return K0(l,Lm(s))>0}const BU=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,UU=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),jU=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||BU;let i;return AN(t)?i={...t}:i={...t,id:r(t)},UU(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function PN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,l,c]=qN({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,l,c]}const Mw={[Ye.Left]:{x:-1,y:0},[Ye.Right]:{x:1,y:0},[Ye.Top]:{x:0,y:-1},[Ye.Bottom]:{x:0,y:1}},HU=({source:t,sourcePosition:e=Ye.Bottom,target:n})=>e===Ye.Left||e===Ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},kw=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function FU({source:t,sourcePosition:e=Ye.Bottom,target:n,targetPosition:r=Ye.Top,center:i,offset:s,stepPosition:l}){const c=Mw[e],h=Mw[r],f={x:t.x+c.x*s,y:t.y+c.y*s},m={x:n.x+h.x*s,y:n.y+h.y*s},p=HU({source:f,sourcePosition:e,target:m}),v=p.x!==0?"x":"y",b=p[v];let x=[],S,E;const C={x:0,y:0},M={x:0,y:0},[,,T,O]=qN({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[v]*h[v]===-1){v==="x"?(S=i.x??f.x+(m.x-f.x)*l,E=i.y??(f.y+m.y)/2):(S=i.x??(f.x+m.x)/2,E=i.y??f.y+(m.y-f.y)*l);const q=[{x:S,y:f.y},{x:S,y:m.y}],R=[{x:f.x,y:E},{x:m.x,y:E}];c[v]===b?x=v==="x"?q:R:x=v==="x"?R:q}else{const q=[{x:f.x,y:m.y}],R=[{x:m.x,y:f.y}];if(v==="x"?x=c.x===b?R:q:x=c.y===b?q:R,e===r){const j=Math.abs(t[v]-n[v]);if(j<=s){const U=Math.min(s-1,s-j);c[v]===b?C[v]=(f[v]>t[v]?-1:1)*U:M[v]=(m[v]>n[v]?-1:1)*U}}if(e!==r){const j=v==="x"?"y":"x",U=c[v]===h[j],K=f[j]>m[j],ne=f[j]<m[j];(c[v]===1&&(!U&&K||U&&ne)||c[v]!==1&&(!U&&ne||U&&K))&&(x=v==="x"?q:R)}const k={x:f.x+C.x,y:f.y+C.y},D={x:m.x+M.x,y:m.y+M.y},H=Math.max(Math.abs(k.x-x[0].x),Math.abs(D.x-x[0].x)),V=Math.max(Math.abs(k.y-x[0].y),Math.abs(D.y-x[0].y));H>=V?(S=(k.x+D.x)/2,E=x[0].y):(S=x[0].x,E=(k.y+D.y)/2)}return[[t,{x:f.x+C.x,y:f.y+C.y},...x,{x:m.x+M.x,y:m.y+M.y},n],S,E,T,O]}function GU(t,e,n,r){const i=Math.min(kw(t,e)/2,kw(e,n)/2,r),{x:s,y:l}=e;if(t.x===s&&s===n.x||t.y===l&&l===n.y)return`L${s} ${l}`;if(t.y===l){const f=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${s+i*f},${l}Q ${s},${l} ${s},${l+i*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${s},${l+i*h}Q ${s},${l} ${s+i*c},${l}`}function Q5({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top,borderRadius:l=5,centerX:c,centerY:h,offset:f=20,stepPosition:m=.5}){const[p,v,b,x,S]=FU({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:h},offset:f,stepPosition:m});return[p.reduce((C,M,T)=>{let O="";return T>0&&T<p.length-1?O=GU(p[T-1],M,p[T+1],l):O=`${T===0?"M":"L"}${M.x} ${M.y}`,C+=O,C},""),v,b,x,S]}function Dw(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function $U(t){const{sourceNode:e,targetNode:n}=t;if(!Dw(e)||!Dw(n))return null;const r=e.internals.handleBounds||Ow(e.handles),i=n.internals.handleBounds||Ow(n.handles),s=zw(r?.source??[],t.sourceHandle),l=zw(t.connectionMode===Xu.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!l)return t.onError?.("008",ga.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=s?.position||Ye.Bottom,h=l?.position||Ye.Top,f=Tl(e,s,c),m=Tl(n,l,h);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:h}}function Ow(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Tl(t,e,n=Ye.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??ms(t);if(r)return{x:i+l/2,y:s+c/2};switch(e?.position??n){case Ye.Top:return{x:i+l/2,y:s};case Ye.Right:return{x:i+l,y:s+c/2};case Ye.Bottom:return{x:i+l/2,y:s+c};case Ye.Left:return{x:i,y:s+c/2}}}function zw(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Z5(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function YU(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(h=>{if(h&&typeof h=="object"){const f=Z5(h,e);s.has(f)||(l.push({id:f,color:h.color||n,...h}),s.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const BN=1e3,XU=10,Y6={nodeOrigin:[0,0],nodeExtent:$0,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},KU={...Y6,checkEquality:!0};function X6(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function QU(t,e,n){const r=X6(Y6,n);for(const i of t.values())if(i.parentId)Q6(i,t,e,r);else{const s=fh(i,r.nodeOrigin),l=Zu(i.extent)?i.extent:r.nodeExtent,c=El(s,l,ms(i));i.internals.positionAbsolute=c}}function ZU(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function K6(t){return t==="manual"}function W5(t,e,n,r={}){const i=X6(KU,r),s={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!K6(i.zIndexMode)?BN:0;let h=t.length>0;e.clear(),n.clear();for(const f of t){let m=l.get(f.id);if(i.checkEquality&&f===m?.internals.userNode)e.set(f.id,m);else{const p=fh(f,i.nodeOrigin),v=Zu(f.extent)?f.extent:i.nodeExtent,b=El(p,v,ms(f));m={...i.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:b,handleBounds:ZU(f,m),z:UN(f,c,i.zIndexMode),userNode:f}},e.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),f.parentId&&Q6(m,e,n,r,s)}return h}function WU(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Q6(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:c,zIndexMode:h}=X6(Y6,r),f=t.parentId,m=e.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}WU(t,n),i&&!m.parentId&&m.internals.rootParentIndex===void 0&&h==="auto"&&(m.internals.rootParentIndex=++i.i,m.internals.z=m.internals.z+i.i*XU),i&&m.internals.rootParentIndex!==void 0&&(i.i=m.internals.rootParentIndex);const p=s&&!K6(h)?BN:0,{x:v,y:b,z:x}=JU(t,m,l,c,p,h),{positionAbsolute:S}=t.internals,E=v!==S.x||b!==S.y;(E||x!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:E?{x:v,y:b}:S,z:x}})}function UN(t,e,n){const r=Pi(t.zIndex)?t.zIndex:0;return K6(n)?r:r+(t.selected?e:0)}function JU(t,e,n,r,i,s){const{x:l,y:c}=e.internals.positionAbsolute,h=ms(t),f=fh(t,n),m=Zu(t.extent)?El(f,t.extent,h):f;let p=El({x:l+m.x,y:c+m.y},r,h);t.extent==="parent"&&(p=RN(p,h,e));const v=UN(t,i,s),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>=v?b+1:v}}function Z6(t,e,n,r=[0,0]){const i=[],s=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const h=s.get(l.parentId)?.expandedRect??Qu(c),f=NN(h,l.rect);s.set(l.parentId,{expandedRect:f,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},h)=>{const f=c.internals.positionAbsolute,m=ms(c),p=c.origin??r,v=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,b=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,x=Math.max(m.width,Math.round(l.width)),S=Math.max(m.height,Math.round(l.height)),E=(x-m.width)*p[0],C=(S-m.height)*p[1];(v>0||b>0||E||C)&&(i.push({id:h,type:"position",position:{x:c.position.x-v+E,y:c.position.y-b+C}}),n.get(h)?.forEach(M=>{t.some(T=>T.id===M.id)||i.push({id:M.id,type:"position",position:{x:M.position.x+v,y:M.position.y+b}})})),(m.width<l.width||m.height<l.height||v||b)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:x+(v?p[0]*v-E:0),height:S+(b?p[1]*b-C:0)}})}),i}function ej(t,e,n,r,i,s,l){const c=r?.querySelector(".xyflow__viewport");let h=!1;if(!c)return{changes:[],updatedInternals:h};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const b of t.values()){const x=e.get(b.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),h=!0;continue}const S=$6(b.nodeElement),E=x.measured.width!==S.width||x.measured.height!==S.height;if(!!(S.width&&S.height&&(E||!x.internals.handleBounds||b.force))){const M=b.nodeElement.getBoundingClientRect(),T=Zu(x.extent)?x.extent:s;let{positionAbsolute:O}=x.internals;x.parentId&&x.extent==="parent"?O=RN(O,S,e.get(x.parentId)):T&&(O=El(O,T,S));const B={...x,measured:S,internals:{...x.internals,positionAbsolute:O,handleBounds:{source:Iw("source",b.nodeElement,M,p,x.id),target:Iw("target",b.nodeElement,M,p,x.id)}}};e.set(x.id,B),x.parentId&&Q6(B,e,n,{nodeOrigin:i,zIndexMode:l}),h=!0,E&&(f.push({id:x.id,type:"dimensions",dimensions:S}),x.expandParent&&x.parentId&&v.push({id:x.id,parentId:x.parentId,rect:Qu(B,i)}))}}if(v.length>0){const b=Z6(v,e,n,i);f.push(...b)}return{changes:f,updatedInternals:h}}async function tj({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function Vw(t,e,n,r,i,s){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const h=r.get(l)||new Map;if(r.set(l,h.set(n,e)),s){l=`${i}-${t}-${s}`;const f=r.get(l)||new Map;r.set(l,f.set(n,e))}}function jN(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:l=null,targetHandle:c=null}=r,h={edgeId:r.id,source:i,target:s,sourceHandle:l,targetHandle:c},f=`${i}-${l}--${s}-${c}`,m=`${s}-${c}--${i}-${l}`;Vw("source",h,m,t,i,l),Vw("target",h,f,t,s,c),e.set(r.id,r)}}function HN(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:HN(n,e):!1}function Lw(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function nj(t,e,n,r){const i=new Map;for(const[s,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!HN(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(s);c&&i.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function Pg({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const h=n.get(l)?.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function rj({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},l=mh(s,e);return{x:l.x-s.x,y:l.y-s.y}}function ij({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},l=0,c=new Map,h=!1,f={x:0,y:0},m=null,p=!1,v=null,b=!1,x=!1,S=null;function E({noDragClassName:M,handleSelector:T,domNode:O,isSelectable:B,nodeId:q,nodeClickDistance:R=0}){v=Fr(O);function k({x:j,y:U}){const{nodeLookup:K,nodeExtent:ne,snapGrid:$,snapToGrid:ee,nodeOrigin:re,onNodeDrag:ce,onSelectionDrag:de,onError:Y,updateNodePositions:W}=e();s={x:j,y:U};let me=!1;const Q=c.size>1,ie=Q&&ne?K5(dh(c)):null,le=Q&&ee?rj({dragItems:c,snapGrid:$,x:j,y:U}):null;for(const[he,_e]of c){if(!K.has(he))continue;let Ce={x:j-_e.distance.x,y:U-_e.distance.y};ee&&(Ce=le?{x:Math.round(Ce.x+le.x),y:Math.round(Ce.y+le.y)}:mh(Ce,$));let Ve=null;if(Q&&ne&&!_e.extent&&ie){const{positionAbsolute:Pe}=_e.internals,Ge=Pe.x-ie.x+ne[0][0],Be=Pe.x+_e.measured.width-ie.x2+ne[1][0],it=Pe.y-ie.y+ne[0][1],$e=Pe.y+_e.measured.height-ie.y2+ne[1][1];Ve=[[Ge,it],[Be,$e]]}const{position:He,positionAbsolute:je}=CN({nodeId:he,nextPosition:Ce,nodeLookup:K,nodeExtent:Ve||ne,nodeOrigin:re,onError:Y});me=me||_e.position.x!==He.x||_e.position.y!==He.y,_e.position=He,_e.internals.positionAbsolute=je}if(x=x||me,!!me&&(W(c,!0),S&&(r||ce||!q&&de))){const[he,_e]=Pg({nodeId:q,dragItems:c,nodeLookup:K});r?.(S,c,he,_e),ce?.(S,he,_e),q||de?.(S,_e)}}async function D(){if(!m)return;const{transform:j,panBy:U,autoPanSpeed:K,autoPanOnNodeDrag:ne}=e();if(!ne){h=!1,cancelAnimationFrame(l);return}const[$,ee]=IN(f,m,K);($!==0||ee!==0)&&(s.x=(s.x??0)-$/j[2],s.y=(s.y??0)-ee/j[2],await U({x:$,y:ee})&&k(s)),l=requestAnimationFrame(D)}function H(j){const{nodeLookup:U,multiSelectionActive:K,nodesDraggable:ne,transform:$,snapGrid:ee,snapToGrid:re,selectNodesOnDrag:ce,onNodeDragStart:de,onSelectionDragStart:Y,unselectNodesAndEdges:W}=e();p=!0,(!ce||!B)&&!K&&q&&(U.get(q)?.selected||W()),B&&ce&&q&&t?.(q);const me=k0(j.sourceEvent,{transform:$,snapGrid:ee,snapToGrid:re,containerBounds:m});if(s=me,c=nj(U,ne,me,q),c.size>0&&(n||de||!q&&Y)){const[Q,ie]=Pg({nodeId:q,dragItems:c,nodeLookup:U});n?.(j.sourceEvent,c,Q,ie),de?.(j.sourceEvent,Q,ie),q||Y?.(j.sourceEvent,ie)}}const V=sN().clickDistance(R).on("start",j=>{const{domNode:U,nodeDragThreshold:K,transform:ne,snapGrid:$,snapToGrid:ee}=e();m=U?.getBoundingClientRect()||null,b=!1,x=!1,S=j.sourceEvent,K===0&&H(j),s=k0(j.sourceEvent,{transform:ne,snapGrid:$,snapToGrid:ee,containerBounds:m}),f=Bi(j.sourceEvent,m)}).on("drag",j=>{const{autoPanOnNodeDrag:U,transform:K,snapGrid:ne,snapToGrid:$,nodeDragThreshold:ee,nodeLookup:re}=e(),ce=k0(j.sourceEvent,{transform:K,snapGrid:ne,snapToGrid:$,containerBounds:m});if(S=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||q&&!re.has(q))&&(b=!0),!b){if(!h&&U&&p&&(h=!0,D()),!p){const de=Bi(j.sourceEvent,m),Y=de.x-f.x,W=de.y-f.y;Math.sqrt(Y*Y+W*W)>ee&&H(j)}(s.x!==ce.xSnapped||s.y!==ce.ySnapped)&&c&&p&&(f=Bi(j.sourceEvent,m),k(ce))}}).on("end",j=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:U,updateNodePositions:K,onNodeDragStop:ne,onSelectionDragStop:$}=e();if(x&&(K(c,!1),x=!1),i||ne||!q&&$){const[ee,re]=Pg({nodeId:q,dragItems:c,nodeLookup:U,dragging:!1});i?.(j.sourceEvent,c,ee,re),ne?.(j.sourceEvent,ee,re),q||$?.(j.sourceEvent,re)}}}).filter(j=>{const U=j.target;return!j.button&&(!M||!Lw(U,`.${M}`,O))&&(!T||Lw(U,T,O))});v.call(V)}function C(){v?.on(".drag",null)}return{update:E,destroy:C}}function aj(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())K0(i,Qu(s))>0&&r.push(s);return r}const sj=250;function oj(t,e,n,r){let i=[],s=1/0;const l=aj(t,n,e+sj);for(const c of l){const h=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:m,y:p}=Tl(c,f,f.position,!0),v=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(p-t.y,2));v>e||(v<s?(i=[{...f,x:m,y:p}],s=v):v===s&&i.push({...f,x:m,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(h=>h.type===c)??i[0]}return i[0]}function FN(t,e,n,r,i,s=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],h=(n?c?.find(f=>f.id===n):c?.[0])??null;return h&&s?{...h,...Tl(l,h,h.position,!0)}:h}function GN(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function lj(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const $N=()=>!0;function uj(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:l,domNode:c,nodeLookup:h,lib:f,autoPanOnConnect:m,flowId:p,panBy:v,cancelConnection:b,onConnectStart:x,onConnect:S,onConnectEnd:E,isValidConnection:C=$N,onReconnectEnd:M,updateConnection:T,getTransform:O,getFromHandle:B,autoPanSpeed:q,dragThreshold:R=1,handleDomNode:k}){const D=DN(t.target);let H=0,V;const{x:j,y:U}=Bi(t),K=GN(s,k),ne=c?.getBoundingClientRect();let $=!1;if(!ne||!K)return;const ee=FN(i,K,r,h,e);if(!ee)return;let re=Bi(t,ne),ce=!1,de=null,Y=!1,W=null;function me(){if(!m||!ne)return;const[He,je]=IN(re,ne,q);v({x:He,y:je}),H=requestAnimationFrame(me)}const Q={...ee,nodeId:i,type:K,position:ee.position},ie=h.get(i);let he={inProgress:!0,isValid:null,from:Tl(ie,Q,Ye.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:re,toHandle:null,toPosition:Tw[Q.position],toNode:null,pointer:re};function _e(){$=!0,T(he),x?.(t,{nodeId:i,handleId:r,handleType:K})}R===0&&_e();function Ce(He){if(!$){const{x:$e,y:Ht}=Bi(He),st=$e-j,Nt=Ht-U;if(!(st*st+Nt*Nt>R*R))return;_e()}if(!B()||!Q){Ve(He);return}const je=O();re=Bi(He,ne),V=oj(ph(re,je,!1,[1,1]),n,h,Q),ce||(me(),ce=!0);const Pe=YN(He,{handle:V,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:C,doc:D,lib:f,flowId:p,nodeLookup:h});W=Pe.handleDomNode,de=Pe.connection,Y=lj(!!V,Pe.isValid);const Ge=h.get(i),Be=Ge?Tl(Ge,Q,Ye.Left,!0):he.from,it={...he,from:Be,isValid:Y,to:Pe.toHandle&&Y?tm({x:Pe.toHandle.x,y:Pe.toHandle.y},je):re,toHandle:Pe.toHandle,toPosition:Y&&Pe.toHandle?Pe.toHandle.position:Tw[Q.position],toNode:Pe.toHandle?h.get(Pe.toHandle.nodeId):null,pointer:re};T(it),he=it}function Ve(He){if(!("touches"in He&&He.touches.length>0)){if($){(V||W)&&de&&Y&&S?.(de);const{inProgress:je,...Pe}=he,Ge={...Pe,toPosition:he.toHandle?he.toPosition:null};E?.(He,Ge),s&&M?.(He,Ge)}b(),cancelAnimationFrame(H),ce=!1,Y=!1,de=null,W=null,D.removeEventListener("mousemove",Ce),D.removeEventListener("mouseup",Ve),D.removeEventListener("touchmove",Ce),D.removeEventListener("touchend",Ve)}}D.addEventListener("mousemove",Ce),D.addEventListener("mouseup",Ve),D.addEventListener("touchmove",Ce),D.addEventListener("touchend",Ve)}function YN(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:l,lib:c,flowId:h,isValidConnection:f=$N,nodeLookup:m}){const p=s==="target",v=e?l.querySelector(`.${c}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:b,y:x}=Bi(t),S=l.elementFromPoint(b,x),E=S?.classList.contains(`${c}-flow__handle`)?S:v,C={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const M=GN(void 0,E),T=E.getAttribute("data-nodeid"),O=E.getAttribute("data-handleid"),B=E.classList.contains("connectable"),q=E.classList.contains("connectableend");if(!T||!M)return C;const R={source:p?T:r,sourceHandle:p?O:i,target:p?r:T,targetHandle:p?i:O};C.connection=R;const D=B&&q&&(n===Xu.Strict?p&&M==="source"||!p&&M==="target":T!==r||O!==i);C.isValid=D&&f(R),C.toHandle=FN(T,M,O,m,n,!0)}return C}const J5={onPointerDown:uj,isValid:YN};function cj({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Fr(t);function s({translateExtent:c,width:h,height:f,zoomStep:m=1,pannable:p=!0,zoomable:v=!0,inversePan:b=!1}){const x=T=>{if(T.sourceEvent.type!=="wheel"||!e)return;const O=n(),B=T.sourceEvent.ctrlKey&&Q0()?10:1,q=-T.sourceEvent.deltaY*(T.sourceEvent.deltaMode===1?.05:T.sourceEvent.deltaMode?1:.002)*m,R=O[2]*Math.pow(2,q*B);e.scaleTo(R)};let S=[0,0];const E=T=>{(T.sourceEvent.type==="mousedown"||T.sourceEvent.type==="touchstart")&&(S=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY])},C=T=>{const O=n();if(T.sourceEvent.type!=="mousemove"&&T.sourceEvent.type!=="touchmove"||!e)return;const B=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY],q=[B[0]-S[0],B[1]-S[1]];S=B;const R=r()*Math.max(O[2],Math.log(O[2]))*(b?-1:1),k={x:O[0]-q[0]*R,y:O[1]-q[1]*R},D=[[0,0],[h,f]];e.setViewportConstrained({x:k.x,y:k.y,zoom:O[2]},D,c)},M=wN().on("start",E).on("zoom",p?C:null).on("zoom.wheel",v?x:null);i.call(M,{})}function l(){i.on("zoom",null)}return{update:s,destroy:l,pointer:zi}}const qm=t=>({x:t.x,y:t.y,zoom:t.k}),Bg=({x:t,y:e,zoom:n})=>zm.translate(t,e).scale(n),Ou=(t,e)=>t.target.closest(`.${e}`),XN=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),hj=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Ug=(t,e=0,n=hj,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},KN=t=>{const e=t.ctrlKey&&Q0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function fj({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:h,onPanZoomEnd:f}){return m=>{if(Ou(m,e))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const E=zi(m),C=KN(m),M=p*Math.pow(2,C);r.scaleTo(n,M,E,m);return}const v=m.deltaMode===1?20:1;let b=i===_l.Vertical?0:m.deltaX*v,x=i===_l.Horizontal?0:m.deltaY*v;!Q0()&&m.shiftKey&&i!==_l.Vertical&&(b=m.deltaY*v,x=0),r.translateBy(n,-(b/p)*s,-(x/p)*s,{internal:!0});const S=qm(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(m,S),t.panScrollTimeout=setTimeout(()=>{f?.(m,S),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(m,S))}}function dj({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",l=!e&&s&&!r.ctrlKey,c=Ou(r,t);if(r.ctrlKey&&s&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function mj({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=qm(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function pj({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&XN(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,qm(s.transform))}}function gj({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&XN(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=qm(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function vj({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:c,noPanClassName:h,lib:f,connectionInProgress:m}){return p=>{const v=t||e,b=n&&p.ctrlKey,x=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Ou(p,`${f}-flow__node`)||Ou(p,`${f}-flow__edge`)))return!0;if(!r&&!v&&!i&&!s&&!n||l||m&&!x||Ou(p,c)&&x||Ou(p,h)&&(!x||i&&x&&!t)||!n&&p.ctrlKey&&x)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!v&&!i&&!b&&x||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const S=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||x)&&S}}function yj({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:h}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=wN().scaleExtent([e,n]).translateExtent(r),v=Fr(t).call(p);M({x:i.x,y:i.y,zoom:Ku(i.zoom,e,n)},[[0,0],[m.width,m.height]],r);const b=v.on("wheel.zoom"),x=v.on("dblclick.zoom");p.wheelDelta(KN);function S(V,j){return v?new Promise(U=>{p?.interpolate(j?.interpolate==="linear"?M0:Id).transform(Ug(v,j?.duration,j?.ease,()=>U(!0)),V)}):Promise.resolve(!1)}function E({noWheelClassName:V,noPanClassName:j,onPaneContextMenu:U,userSelectionActive:K,panOnScroll:ne,panOnDrag:$,panOnScrollMode:ee,panOnScrollSpeed:re,preventScrolling:ce,zoomOnPinch:de,zoomOnScroll:Y,zoomOnDoubleClick:W,zoomActivationKeyPressed:me,lib:Q,onTransformChange:ie,connectionInProgress:le,paneClickDistance:he,selectionOnDrag:_e}){K&&!f.isZoomingOrPanning&&C();const Ce=ne&&!me&&!K;p.clickDistance(_e?1/0:!Pi(he)||he<0?0:he);const Ve=Ce?fj({zoomPanValues:f,noWheelClassName:V,d3Selection:v,d3Zoom:p,panOnScrollMode:ee,panOnScrollSpeed:re,zoomOnPinch:de,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:c}):dj({noWheelClassName:V,preventScrolling:ce,d3ZoomHandler:b});if(v.on("wheel.zoom",Ve,{passive:!1}),!K){const je=mj({zoomPanValues:f,onDraggingChange:h,onPanZoomStart:l});p.on("start",je);const Pe=pj({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!U,onPanZoom:s,onTransformChange:ie});p.on("zoom",Pe);const Ge=gj({zoomPanValues:f,panOnDrag:$,panOnScroll:ne,onPaneContextMenu:U,onPanZoomEnd:c,onDraggingChange:h});p.on("end",Ge)}const He=vj({zoomActivationKeyPressed:me,panOnDrag:$,zoomOnScroll:Y,panOnScroll:ne,zoomOnDoubleClick:W,zoomOnPinch:de,userSelectionActive:K,noPanClassName:j,noWheelClassName:V,lib:Q,connectionInProgress:le});p.filter(He),W?v.on("dblclick.zoom",x):v.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function M(V,j,U){const K=Bg(V),ne=p?.constrain()(K,j,U);return ne&&await S(ne),new Promise($=>$(ne))}async function T(V,j){const U=Bg(V);return await S(U,j),new Promise(K=>K(U))}function O(V){if(v){const j=Bg(V),U=v.property("__zoom");(U.k!==V.zoom||U.x!==V.x||U.y!==V.y)&&p?.transform(v,j,null,{sync:!0})}}function B(){const V=v?bN(v.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function q(V,j){return v?new Promise(U=>{p?.interpolate(j?.interpolate==="linear"?M0:Id).scaleTo(Ug(v,j?.duration,j?.ease,()=>U(!0)),V)}):Promise.resolve(!1)}function R(V,j){return v?new Promise(U=>{p?.interpolate(j?.interpolate==="linear"?M0:Id).scaleBy(Ug(v,j?.duration,j?.ease,()=>U(!0)),V)}):Promise.resolve(!1)}function k(V){p?.scaleExtent(V)}function D(V){p?.translateExtent(V)}function H(V){const j=!Pi(V)||V<0?0:V;p?.clickDistance(j)}return{update:E,destroy:C,setViewport:T,setViewportConstrained:M,getViewport:B,scaleTo:q,scaleBy:R,setScaleExtent:k,setTranslateExtent:D,syncViewport:O,setClickDistance:H}}var Wu;(function(t){t.Line="line",t.Handle="handle"})(Wu||(Wu={}));function _j({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const l=t-e,c=n-r,h=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(h[0]=h[0]*-1),c&&s&&(h[1]=h[1]*-1),h}function qw(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function eo(t,e){return Math.max(0,e-t)}function to(t,e){return Math.max(0,t-e)}function cd(t,e,n){return Math.max(0,e-t,t-n)}function Pw(t,e){return t?!e:e}function bj(t,e,n,r,i,s,l,c){let{affectsX:h,affectsY:f}=e;const{isHorizontal:m,isVertical:p}=e,v=m&&p,{xSnapped:b,ySnapped:x}=n,{minWidth:S,maxWidth:E,minHeight:C,maxHeight:M}=r,{x:T,y:O,width:B,height:q,aspectRatio:R}=t;let k=Math.floor(m?b-t.pointerX:0),D=Math.floor(p?x-t.pointerY:0);const H=B+(h?-k:k),V=q+(f?-D:D),j=-s[0]*B,U=-s[1]*q;let K=cd(H,S,E),ne=cd(V,C,M);if(l){let re=0,ce=0;h&&k<0?re=eo(T+k+j,l[0][0]):!h&&k>0&&(re=to(T+H+j,l[1][0])),f&&D<0?ce=eo(O+D+U,l[0][1]):!f&&D>0&&(ce=to(O+V+U,l[1][1])),K=Math.max(K,re),ne=Math.max(ne,ce)}if(c){let re=0,ce=0;h&&k>0?re=to(T+k,c[0][0]):!h&&k<0&&(re=eo(T+H,c[1][0])),f&&D>0?ce=to(O+D,c[0][1]):!f&&D<0&&(ce=eo(O+V,c[1][1])),K=Math.max(K,re),ne=Math.max(ne,ce)}if(i){if(m){const re=cd(H/R,C,M)*R;if(K=Math.max(K,re),l){let ce=0;!h&&!f||h&&!f&&v?ce=to(O+U+H/R,l[1][1])*R:ce=eo(O+U+(h?k:-k)/R,l[0][1])*R,K=Math.max(K,ce)}if(c){let ce=0;!h&&!f||h&&!f&&v?ce=eo(O+H/R,c[1][1])*R:ce=to(O+(h?k:-k)/R,c[0][1])*R,K=Math.max(K,ce)}}if(p){const re=cd(V*R,S,E)/R;if(ne=Math.max(ne,re),l){let ce=0;!h&&!f||f&&!h&&v?ce=to(T+V*R+j,l[1][0])/R:ce=eo(T+(f?D:-D)*R+j,l[0][0])/R,ne=Math.max(ne,ce)}if(c){let ce=0;!h&&!f||f&&!h&&v?ce=eo(T+V*R,c[1][0])/R:ce=to(T+(f?D:-D)*R,c[0][0])/R,ne=Math.max(ne,ce)}}}D=D+(D<0?ne:-ne),k=k+(k<0?K:-K),i&&(v?H>V*R?D=(Pw(h,f)?-k:k)/R:k=(Pw(h,f)?-D:D)*R:m?(D=k/R,f=h):(k=D*R,h=f));const $=h?T+k:T,ee=f?O+D:O;return{width:B+(h?-k:k),height:q+(f?-D:D),x:s[0]*k*(h?-1:1)+$,y:s[1]*D*(f?-1:1)+ee}}const QN={width:0,height:0,x:0,y:0},wj={...QN,pointerX:0,pointerY:0,aspectRatio:1};function xj(t){return[[0,0],[t.measured.width,t.measured.height]]}function Sj(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,l=t.measured.height??0,c=n[0]*s,h=n[1]*l;return[[r-c,i-h],[r+s-c,i+l-h]]}function Ej({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Fr(t);let l={controlDirection:qw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:v,onResizeStart:b,onResize:x,onResizeEnd:S,shouldResize:E}){let C={...QN},M={...wj};l={boundaries:m,resizeDirection:v,keepAspectRatio:p,controlDirection:qw(f)};let T,O=null,B=[],q,R,k,D=!1;const H=sN().on("start",V=>{const{nodeLookup:j,transform:U,snapGrid:K,snapToGrid:ne,nodeOrigin:$,paneDomNode:ee}=n();if(T=j.get(e),!T)return;O=ee?.getBoundingClientRect()??null;const{xSnapped:re,ySnapped:ce}=k0(V.sourceEvent,{transform:U,snapGrid:K,snapToGrid:ne,containerBounds:O});C={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},M={...C,pointerX:re,pointerY:ce,aspectRatio:C.width/C.height},q=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(q=j.get(T.parentId),R=q&&T.extent==="parent"?xj(q):void 0),B=[],k=void 0;for(const[de,Y]of j)if(Y.parentId===e&&(B.push({id:de,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const W=Sj(Y,T,Y.origin??$);k?k=[[Math.min(W[0][0],k[0][0]),Math.min(W[0][1],k[0][1])],[Math.max(W[1][0],k[1][0]),Math.max(W[1][1],k[1][1])]]:k=W}b?.(V,{...C})}).on("drag",V=>{const{transform:j,snapGrid:U,snapToGrid:K,nodeOrigin:ne}=n(),$=k0(V.sourceEvent,{transform:j,snapGrid:U,snapToGrid:K,containerBounds:O}),ee=[];if(!T)return;const{x:re,y:ce,width:de,height:Y}=C,W={},me=T.origin??ne,{width:Q,height:ie,x:le,y:he}=bj(M,l.controlDirection,$,l.boundaries,l.keepAspectRatio,me,R,k),_e=Q!==de,Ce=ie!==Y,Ve=le!==re&&_e,He=he!==ce&&Ce;if(!Ve&&!He&&!_e&&!Ce)return;if((Ve||He||me[0]===1||me[1]===1)&&(W.x=Ve?le:C.x,W.y=He?he:C.y,C.x=W.x,C.y=W.y,B.length>0)){const Be=le-re,it=he-ce;for(const $e of B)$e.position={x:$e.position.x-Be+me[0]*(Q-de),y:$e.position.y-it+me[1]*(ie-Y)},ee.push($e)}if((_e||Ce)&&(W.width=_e&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Q:C.width,W.height=Ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ie:C.height,C.width=W.width,C.height=W.height),q&&T.expandParent){const Be=me[0]*(W.width??0);W.x&&W.x<Be&&(C.x=Be,M.x=M.x-(W.x-Be));const it=me[1]*(W.height??0);W.y&&W.y<it&&(C.y=it,M.y=M.y-(W.y-it))}const je=_j({width:C.width,prevWidth:de,height:C.height,prevHeight:Y,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Pe={...C,direction:je};E?.(V,Pe)!==!1&&(D=!0,x?.(V,Pe),r(W,ee))}).on("end",V=>{D&&(S?.(V,{...C}),i?.({...C}),D=!1)});s.call(H)}function h(){s.on(".drag",null)}return{update:c,destroy:h}}var jg={exports:{}},Hg={},Fg={exports:{}},Gg={};var Bw;function Tj(){if(Bw)return Gg;Bw=1;var t=uh();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,v){var b=v(),x=r({inst:{value:b,getSnapshot:v}}),S=x[0].inst,E=x[1];return s(function(){S.value=b,S.getSnapshot=v,h(S)&&E({inst:S})},[p,b,v]),i(function(){return h(S)&&E({inst:S}),p(function(){h(S)&&E({inst:S})})},[p]),l(b),b}function h(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Gg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Gg}var Uw;function Aj(){return Uw||(Uw=1,Fg.exports=Tj()),Fg.exports}var jw;function Cj(){if(jw)return Hg;jw=1;var t=uh(),e=Aj();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Hg.useSyncExternalStoreWithSelector=function(f,m,p,v,b){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function C(q){if(!M){if(M=!0,T=q,q=v(q),b!==void 0&&S.hasValue){var R=S.value;if(b(R,q))return O=R}return O=q}if(R=O,r(T,q))return R;var k=v(q);return b!==void 0&&b(R,k)?(T=q,R):(T=q,O=k)}var M=!1,T,O,B=p===void 0?null:p;return[function(){return C(m())},B===null?void 0:function(){return C(B())}]},[m,p,v,b]);var E=i(f,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),h(E),E},Hg}var Hw;function Rj(){return Hw||(Hw=1,jg.exports=Cj()),jg.exports}var Ij=Rj();const Nj=Nm(Ij),Mj={},Fw=t=>{let e;const n=new Set,r=(m,p)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const b=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,b))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Mj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,i,h);return h},kj=t=>t?Fw(t):Fw,{useDebugValue:Dj}=FI,{useSyncExternalStoreWithSelector:Oj}=Nj,zj=t=>t;function ZN(t,e=zj,n){const r=Oj(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Dj(r),r}const Gw=(t,e)=>{const n=kj(t),r=(i,s=e)=>ZN(n,i,s);return Object.assign(r,n),r},Vj=(t,e)=>t?Gw(t,e):Gw;function Jt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}GI();const Pm=oe.createContext(null),Lj=Pm.Provider,WN=ga.error001();function xt(t,e){const n=oe.useContext(Pm);if(n===null)throw new Error(WN);return ZN(n,t,e)}function en(){const t=oe.useContext(Pm);if(t===null)throw new Error(WN);return oe.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const $w={display:"none"},qj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},JN="react-flow__node-desc",eM="react-flow__edge-desc",Pj="react-flow__aria-live",Bj=t=>t.ariaLiveMessage,Uj=t=>t.ariaLabelConfig;function jj({rfId:t}){const e=xt(Bj);return L.jsx("div",{id:`${Pj}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:qj,children:e})}function Hj({rfId:t,disableKeyboardA11y:e}){const n=xt(Uj);return L.jsxs(L.Fragment,{children:[L.jsx("div",{id:`${JN}-${t}`,style:$w,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),L.jsx("div",{id:`${eM}-${t}`,style:$w,children:n["edge.a11yDescription.default"]}),!e&&L.jsx(jj,{rfId:t})]})}const Bm=oe.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const l=`${t}`.split("-");return L.jsx("div",{className:Dn(["react-flow__panel",n,...l]),style:r,ref:s,...i,children:e})});Bm.displayName="Panel";function Fj({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:L.jsx(Bm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:L.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Gj=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},hd=t=>t.id;function $j(t,e){return Jt(t.selectedNodes.map(hd),e.selectedNodes.map(hd))&&Jt(t.selectedEdges.map(hd),e.selectedEdges.map(hd))}function Yj({onSelectionChange:t}){const e=en(),{selectedNodes:n,selectedEdges:r}=xt(Gj,$j);return oe.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const Xj=t=>!!t.onSelectionChangeHandlers;function Kj({onSelectionChange:t}){const e=xt(Xj);return t||e?L.jsx(Yj,{onSelectionChange:t}):null}const tM=[0,0],Qj={x:0,y:0,zoom:1},Zj=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Yw=[...Zj,"rfId"],Wj=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Xw={translateExtent:$0,nodeOrigin:tM,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Jj(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:h}=xt(Wj,Jt),f=en();oe.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{m.current=Xw,c()}),[]);const m=oe.useRef(Xw);return oe.useEffect(()=>{for(const p of Yw){const v=t[p],b=m.current[p];v!==b&&(typeof t[p]>"u"||(p==="nodes"?e(v):p==="edges"?n(v):p==="minZoom"?r(v):p==="maxZoom"?i(v):p==="translateExtent"?s(v):p==="nodeExtent"?l(v):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:VU(v)}):p==="fitView"?f.setState({fitViewQueued:v}):p==="fitViewOptions"?f.setState({fitViewOptions:v}):f.setState({[p]:v})))}m.current=t},Yw.map(p=>t[p])),null}function Kw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function eH(t){const[e,n]=oe.useState(t==="system"?null:t);return oe.useEffect(()=>{if(t!=="system"){n(t);return}const r=Kw(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:Kw()?.matches?"dark":"light"}const Qw=typeof document<"u"?document:null;function Z0(t=null,e={target:Qw,actInsideInputWithModifier:!0}){const[n,r]=oe.useState(!1),i=oe.useRef(!1),s=oe.useRef(new Set([])),[l,c]=oe.useMemo(()=>{if(t!==null){const f=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,v)=>p.concat(...v),[]);return[f,m]}return[[],[]]},[t]);return oe.useEffect(()=>{const h=e?.target??Qw,f=e?.actInsideInputWithModifier??!0;if(t!==null){const m=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!f)&&ON(b))return!1;const S=Ww(b.code,c);if(s.current.add(b[S]),Zw(l,s.current,!1)){const E=b.composedPath?.()?.[0]||b.target,C=E?.nodeName==="BUTTON"||E?.nodeName==="A";e.preventDefault!==!1&&(i.current||!C)&&b.preventDefault(),r(!0)}},p=b=>{const x=Ww(b.code,c);Zw(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[x]),b.key==="Meta"&&s.current.clear(),i.current=!1},v=()=>{s.current.clear(),r(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",p),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",p),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,r]),n}function Zw(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function Ww(t,e){return e.includes(t)?"code":"key"}const tH=()=>{const t=en();return oe.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:l,panZoom:c}=t.getState(),h=G6(e,r,i,s,l,n?.padding??.1);return c?(await c.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:l}=t.getState();if(!l)return e;const{x:c,y:h}=l.getBoundingClientRect(),f={x:e.x-c,y:e.y-h},m=n.snapGrid??i,p=n.snapToGrid??s;return ph(f,r,p,m)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),l=tm(e,n);return{x:l.x+i,y:l.y+s}}}),[])};function nM(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const l=r.get(s.id);l?l.push(s):r.set(s.id,[s])}for(const s of e){const l=r.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...s};for(const h of l)nH(h,c);n.push(c)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function nH(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function rM(t,e){return nM(t,e)}function iM(t,e){return nM(t,e)}function dl(t,e){return{id:t,type:"select",selected:e}}function zu(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const l=e.has(i);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),r.push(dl(s.id,l)))}return r}function Jw({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const l=e.get(s.id),c=l?.internals?.userNode??l;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function ex(t){return{id:t.id,type:"remove"}}const tx=t=>AU(t),rH=t=>AN(t);function aM(t){return oe.forwardRef(t)}const iH=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function nx(t){const[e,n]=oe.useState(BigInt(0)),[r]=oe.useState(()=>aH(()=>n(i=>i+BigInt(1))));return iH(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function aH(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const sM=oe.createContext(null);function sH({children:t}){const e=en(),n=oe.useCallback(c=>{const{nodes:h=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:x}=e.getState();let S=h;for(const C of c)S=typeof C=="function"?C(S):C;let E=Jw({items:S,lookup:v});for(const C of x.values())E=C(E);m&&f(S),E.length>0?p?.(E):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:M,setNodes:T}=e.getState();C&&T(M)})},[]),r=nx(n),i=oe.useCallback(c=>{const{edges:h=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:v}=e.getState();let b=h;for(const x of c)b=typeof x=="function"?x(b):x;m?f(b):p&&p(Jw({items:b,lookup:v}))},[]),s=nx(i),l=oe.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return L.jsx(sM.Provider,{value:l,children:t})}function oH(){const t=oe.useContext(sM);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const lH=t=>!!t.panZoom;function W6(){const t=tH(),e=en(),n=oH(),r=xt(lH),i=oe.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},h=p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState(),x=tx(p)?p:v.get(p.id),S=x.parentId?kN(x.position,x.measured,x.parentId,v,b):x.position,E={...x,position:S,width:x.measured?.width??x.width,height:x.measured?.height??x.height};return Qu(E)},f=(p,v,b={replace:!1})=>{l(x=>x.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&tx(E)?E:{...S,...E}}return S}))},m=(p,v,b={replace:!1})=>{c(x=>x.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&rH(E)?E:{...S,...E}}return S}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(v=>({...v}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const v=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...v])},addEdges:p=>{const v=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:p=[],edges:v=[],transform:b}=e.getState(),[x,S,E]=b;return{nodes:p.map(C=>({...C})),edges:v.map(C=>({...C})),viewport:{x,y:S,zoom:E}}},deleteElements:async({nodes:p=[],edges:v=[]})=>{const{nodes:b,edges:x,onNodesDelete:S,onEdgesDelete:E,triggerNodeChanges:C,triggerEdgeChanges:M,onDelete:T,onBeforeDelete:O}=e.getState(),{nodes:B,edges:q}=await MU({nodesToRemove:p,edgesToRemove:v,nodes:b,edges:x,onBeforeDelete:O}),R=q.length>0,k=B.length>0;if(R){const D=q.map(ex);E?.(q),M(D)}if(k){const D=B.map(ex);S?.(B),C(D)}return(k||R)&&T?.({nodes:B,edges:q}),{deletedNodes:B,deletedEdges:q}},getIntersectingNodes:(p,v=!0,b)=>{const x=Cw(p),S=x?p:h(p),E=b!==void 0;return S?(b||e.getState().nodes).filter(C=>{const M=e.getState().nodeLookup.get(C.id);if(M&&!x&&(C.id===p.id||!M.internals.positionAbsolute))return!1;const T=Qu(E?C:M),O=K0(T,S);return v&&O>0||O>=T.width*T.height||O>=S.width*S.height}):[]},isNodeIntersecting:(p,v,b=!0)=>{const S=Cw(p)?p:h(p);if(!S)return!1;const E=K0(S,v);return b&&E>0||E>=v.width*v.height||E>=S.width*S.height},updateNode:f,updateNodeData:(p,v,b={replace:!1})=>{f(p,x=>{const S=typeof v=="function"?v(x):v;return b.replace?{...x,data:S}:{...x,data:{...x.data,...S}}},b)},updateEdge:m,updateEdgeData:(p,v,b={replace:!1})=>{m(p,x=>{const S=typeof v=="function"?v(x):v;return b.replace?{...x,data:S}:{...x,data:{...x.data,...S}}},b)},getNodesBounds:p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState();return CU(p,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:p,id:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}-${p}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}${p?v?`-${p}-${v}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const v=e.getState().fitViewResolver??zU();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:v}),n.nodeQueue.push(b=>[...b]),v.promise}}},[]);return oe.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const rx=t=>t.selected,uH=typeof window<"u"?window:void 0;function cH({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=en(),{deleteElements:r}=W6(),i=Z0(t,{actInsideInputWithModifier:!1}),s=Z0(e,{target:uH});oe.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(rx),edges:l.filter(rx)}),n.setState({nodesSelectionActive:!1})}},[i]),oe.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function hH(t){const e=en();oe.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=$6(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",ga.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Um={position:"absolute",width:"100%",height:"100%",top:0,left:0},fH=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function dH({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=_l.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:h,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:b=!0,children:x,noWheelClassName:S,noPanClassName:E,onViewportChange:C,isControlledViewport:M,paneClickDistance:T,selectionOnDrag:O}){const B=en(),q=oe.useRef(null),{userSelectionActive:R,lib:k,connectionInProgress:D}=xt(fH,Jt),H=Z0(v),V=oe.useRef();hH(q);const j=oe.useCallback(U=>{C?.({x:U[0],y:U[1],zoom:U[2]}),M||B.setState({transform:U})},[C,M]);return oe.useEffect(()=>{if(q.current){V.current=yj({domNode:q.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:h,onDraggingChange:$=>B.setState({paneDragging:$}),onPanZoomStart:($,ee)=>{const{onViewportChangeStart:re,onMoveStart:ce}=B.getState();ce?.($,ee),re?.(ee)},onPanZoom:($,ee)=>{const{onViewportChange:re,onMove:ce}=B.getState();ce?.($,ee),re?.(ee)},onPanZoomEnd:($,ee)=>{const{onViewportChangeEnd:re,onMoveEnd:ce}=B.getState();ce?.($,ee),re?.(ee)}});const{x:U,y:K,zoom:ne}=V.current.getViewport();return B.setState({panZoom:V.current,transform:[U,K,ne],domNode:q.current.closest(".react-flow")}),()=>{V.current?.destroy()}}},[]),oe.useEffect(()=>{V.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:E,userSelectionActive:R,noWheelClassName:S,lib:k,onTransformChange:j,connectionInProgress:D,selectionOnDrag:O,paneClickDistance:T})},[t,e,n,r,i,s,l,c,H,b,E,R,S,k,j,D,O,T]),L.jsx("div",{className:"react-flow__renderer",ref:q,style:Um,children:x})}const mH=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function pH(){const{userSelectionActive:t,userSelectionRect:e}=xt(mH,Jt);return t&&e?L.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const $g=(t,e)=>n=>{n.target===e.current&&t?.(n)},gH=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function vH({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Y0.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:c,onPaneClick:h,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:b,children:x}){const S=en(),{userSelectionActive:E,elementsSelectable:C,dragging:M,connectionInProgress:T}=xt(gH,Jt),O=C&&(t||E),B=oe.useRef(null),q=oe.useRef(),R=oe.useRef(new Set),k=oe.useRef(new Set),D=oe.useRef(!1),H=re=>{if(D.current||T){D.current=!1;return}h?.(re),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},V=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}f?.(re)},j=m?re=>m(re):void 0,U=re=>{D.current&&(re.stopPropagation(),D.current=!1)},K=re=>{const{domNode:ce}=S.getState();if(q.current=ce?.getBoundingClientRect(),!q.current)return;const de=re.target===B.current;if(!de&&!!re.target.closest(".nokey")||!t||!(s&&de||e)||re.button!==0||!re.isPrimary)return;re.target?.setPointerCapture?.(re.pointerId),D.current=!1;const{x:me,y:Q}=Bi(re.nativeEvent,q.current);S.setState({userSelectionRect:{width:0,height:0,startX:me,startY:Q,x:me,y:Q}}),de||(re.stopPropagation(),re.preventDefault())},ne=re=>{const{userSelectionRect:ce,transform:de,nodeLookup:Y,edgeLookup:W,connectionLookup:me,triggerNodeChanges:Q,triggerEdgeChanges:ie,defaultEdgeOptions:le,resetSelectedElements:he}=S.getState();if(!q.current||!ce)return;const{x:_e,y:Ce}=Bi(re.nativeEvent,q.current),{startX:Ve,startY:He}=ce;if(!D.current){const it=e?0:i;if(Math.hypot(_e-Ve,Ce-He)<=it)return;he(),l?.(re)}D.current=!0;const je={startX:Ve,startY:He,x:_e<Ve?_e:Ve,y:Ce<He?Ce:He,width:Math.abs(_e-Ve),height:Math.abs(Ce-He)},Pe=R.current,Ge=k.current;R.current=new Set(F6(Y,je,de,n===Y0.Partial,!0).map(it=>it.id)),k.current=new Set;const Be=le?.selectable??!0;for(const it of R.current){const $e=me.get(it);if($e)for(const{edgeId:Ht}of $e.values()){const st=W.get(Ht);st&&(st.selectable??Be)&&k.current.add(Ht)}}if(!Rw(Pe,R.current)){const it=zu(Y,R.current,!0);Q(it)}if(!Rw(Ge,k.current)){const it=zu(W,k.current);ie(it)}S.setState({userSelectionRect:je,userSelectionActive:!0,nodesSelectionActive:!1})},$=re=>{re.button===0&&(re.target?.releasePointerCapture?.(re.pointerId),!E&&re.target===B.current&&S.getState().userSelectionRect&&H?.(re),S.setState({userSelectionActive:!1,userSelectionRect:null}),D.current&&(c?.(re),S.setState({nodesSelectionActive:R.current.size>0})))},ee=r===!0||Array.isArray(r)&&r.includes(0);return L.jsxs("div",{className:Dn(["react-flow__pane",{draggable:ee,dragging:M,selection:t}]),onClick:O?void 0:$g(H,B),onContextMenu:$g(V,B),onWheel:$g(j,B),onPointerEnter:O?void 0:p,onPointerMove:O?ne:v,onPointerUp:O?$:void 0,onPointerDownCapture:O?K:void 0,onClickCapture:O?U:void 0,onPointerLeave:b,ref:B,style:Um,children:[x,L.jsx(pH,{})]})}function e6({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:c,onError:h}=e.getState(),f=c.get(t);if(!f){h?.("012",ga.error012(t));return}e.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(s({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function oM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:l}){const c=en(),[h,f]=oe.useState(!1),m=oe.useRef();return oe.useEffect(()=>{m.current=ij({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{e6({id:p,store:c,nodeRef:t})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),oe.useEffect(()=>{if(e)m.current?.destroy();else if(t.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,e,s,t,i]),h}const yH=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function lM(){const t=en();return oe.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:l,onError:c,updateNodePositions:h,nodeLookup:f,nodeOrigin:m}=t.getState(),p=new Map,v=yH(l),b=i?s[0]:5,x=i?s[1]:5,S=n.direction.x*b*n.factor,E=n.direction.y*x*n.factor;for(const[,C]of f){if(!v(C))continue;let M={x:C.internals.positionAbsolute.x+S,y:C.internals.positionAbsolute.y+E};i&&(M=mh(M,s));const{position:T,positionAbsolute:O}=CN({nodeId:C.id,nextPosition:M,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});C.position=T,C.internals.positionAbsolute=O,p.set(C.id,C)}h(p)},[])}const J6=oe.createContext(null),_H=J6.Provider;J6.Consumer;const uM=()=>oe.useContext(J6),bH=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),wH=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:l}=r,{fromHandle:c,toHandle:h,isValid:f}=l,m=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:m,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Xu.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:m&&f}};function xH({type:t="source",position:e=Ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:l,onConnect:c,children:h,className:f,onMouseDown:m,onTouchStart:p,...v},b){const x=l||null,S=t==="target",E=en(),C=uM(),{connectOnClick:M,noPanClassName:T,rfId:O}=xt(bH,Jt),{connectingFrom:B,connectingTo:q,clickConnecting:R,isPossibleEndHandle:k,connectionInProcess:D,clickConnectionInProcess:H,valid:V}=xt(wH(C,x,t),Jt);C||E.getState().onError?.("010",ga.error010());const j=ne=>{const{defaultEdgeOptions:$,onConnect:ee,hasDefaultEdges:re}=E.getState(),ce={...$,...ne};if(re){const{edges:de,setEdges:Y}=E.getState();Y(jU(ce,de))}ee?.(ce),c?.(ce)},U=ne=>{if(!C)return;const $=zN(ne.nativeEvent);if(i&&($&&ne.button===0||!$)){const ee=E.getState();J5.onPointerDown(ne.nativeEvent,{handleDomNode:ne.currentTarget,autoPanOnConnect:ee.autoPanOnConnect,connectionMode:ee.connectionMode,connectionRadius:ee.connectionRadius,domNode:ee.domNode,nodeLookup:ee.nodeLookup,lib:ee.lib,isTarget:S,handleId:x,nodeId:C,flowId:ee.rfId,panBy:ee.panBy,cancelConnection:ee.cancelConnection,onConnectStart:ee.onConnectStart,onConnectEnd:ee.onConnectEnd,updateConnection:ee.updateConnection,onConnect:j,isValidConnection:n||ee.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:ee.autoPanSpeed,dragThreshold:ee.connectionDragThreshold})}$?m?.(ne):p?.(ne)},K=ne=>{const{onClickConnectStart:$,onClickConnectEnd:ee,connectionClickStartHandle:re,connectionMode:ce,isValidConnection:de,lib:Y,rfId:W,nodeLookup:me,connection:Q}=E.getState();if(!C||!re&&!i)return;if(!re){$?.(ne.nativeEvent,{nodeId:C,handleId:x,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:C,type:t,id:x}});return}const ie=DN(ne.target),le=n||de,{connection:he,isValid:_e}=J5.isValid(ne.nativeEvent,{handle:{nodeId:C,id:x,type:t},connectionMode:ce,fromNodeId:re.nodeId,fromHandleId:re.id||null,fromType:re.type,isValidConnection:le,flowId:W,doc:ie,lib:Y,nodeLookup:me});_e&&he&&j(he);const Ce=structuredClone(Q);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,ee?.(ne,Ce),E.setState({connectionClickStartHandle:null})};return L.jsx("div",{"data-handleid":x,"data-nodeid":C,"data-handlepos":e,"data-id":`${O}-${C}-${x}-${t}`,className:Dn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,f,{source:!S,target:S,connectable:r,connectablestart:i,connectableend:s,clickconnecting:R,connectingfrom:B,connectingto:q,valid:V,connectionindicator:r&&(!D||k)&&(D||H?s:i)}]),onMouseDown:U,onTouchStart:U,onClick:M?K:void 0,ref:b,...v,children:h})}const Ju=oe.memo(aM(xH));function SH({data:t,isConnectable:e,sourcePosition:n=Ye.Bottom}){return L.jsxs(L.Fragment,{children:[t?.label,L.jsx(Ju,{type:"source",position:n,isConnectable:e})]})}function EH({data:t,isConnectable:e,targetPosition:n=Ye.Top,sourcePosition:r=Ye.Bottom}){return L.jsxs(L.Fragment,{children:[L.jsx(Ju,{type:"target",position:n,isConnectable:e}),t?.label,L.jsx(Ju,{type:"source",position:r,isConnectable:e})]})}function TH(){return null}function AH({data:t,isConnectable:e,targetPosition:n=Ye.Top}){return L.jsxs(L.Fragment,{children:[L.jsx(Ju,{type:"target",position:n,isConnectable:e}),t?.label]})}const nm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ix={input:SH,default:EH,output:AH,group:TH};function CH(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const RH=t=>{const{width:e,height:n,x:r,y:i}=dh(t.nodeLookup,{filter:s=>!!s.selected});return{width:Pi(e)?e:null,height:Pi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function IH({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=en(),{width:i,height:s,transformString:l,userSelectionActive:c}=xt(RH,Jt),h=lM(),f=oe.useRef(null);if(oe.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),oM({nodeRef:f}),c||!i||!s)return null;const m=t?v=>{const b=r.getState().nodes.filter(x=>x.selected);t(v,b)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(nm,v.key)&&(v.preventDefault(),h({direction:nm[v.key],factor:v.shiftKey?4:1}))};return L.jsx("div",{className:Dn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:L.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const ax=typeof window<"u"?window:void 0,NH=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function cM({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:x,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:C,zoomOnScroll:M,zoomOnPinch:T,panOnScroll:O,panOnScrollSpeed:B,panOnScrollMode:q,zoomOnDoubleClick:R,panOnDrag:k,defaultViewport:D,translateExtent:H,minZoom:V,maxZoom:j,preventScrolling:U,onSelectionContextMenu:K,noWheelClassName:ne,noPanClassName:$,disableKeyboardA11y:ee,onViewportChange:re,isControlledViewport:ce}){const{nodesSelectionActive:de,userSelectionActive:Y}=xt(NH,Jt),W=Z0(f,{target:ax}),me=Z0(S,{target:ax}),Q=me||k,ie=me||O,le=m&&Q!==!0,he=W||Y||le;return cH({deleteKeyCode:h,multiSelectionKeyCode:x}),L.jsx(dH,{onPaneContextMenu:s,elementsSelectable:C,zoomOnScroll:M,zoomOnPinch:T,panOnScroll:ie,panOnScrollSpeed:B,panOnScrollMode:q,zoomOnDoubleClick:R,panOnDrag:!W&&Q,defaultViewport:D,translateExtent:H,minZoom:V,maxZoom:j,zoomActivationKeyCode:E,preventScrolling:U,noWheelClassName:ne,noPanClassName:$,onViewportChange:re,isControlledViewport:ce,paneClickDistance:c,selectionOnDrag:le,children:L.jsxs(vH,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:Q,isSelecting:!!he,selectionMode:p,selectionKeyPressed:W,paneClickDistance:c,selectionOnDrag:le,children:[t,de&&L.jsx(IH,{onSelectionContextMenu:K,noPanClassName:$,disableKeyboardA11y:ee})]})})}cM.displayName="FlowRenderer";const MH=oe.memo(cM),kH=t=>e=>t?F6(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function DH(t){return xt(oe.useCallback(kH(t),[t]),Jt)}const OH=t=>t.updateNodeInternals;function zH(){const t=xt(OH),[e]=oe.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return oe.useEffect(()=>()=>{e?.disconnect()},[e]),e}function VH({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=en(),s=oe.useRef(null),l=oe.useRef(null),c=oe.useRef(t.sourcePosition),h=oe.useRef(t.targetPosition),f=oe.useRef(e),m=n&&!!t.internals.handleBounds;return oe.useEffect(()=>{s.current&&!t.hidden&&(!m||l.current!==s.current)&&(l.current&&r?.unobserve(l.current),r?.observe(s.current),l.current=s.current)},[m,t.hidden]),oe.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),oe.useEffect(()=>{if(s.current){const p=f.current!==e,v=c.current!==t.sourcePosition,b=h.current!==t.targetPosition;(p||v||b)&&(f.current=e,c.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function LH({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:l,nodesDraggable:c,elementsSelectable:h,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:x,rfId:S,nodeTypes:E,nodeClickDistance:C,onError:M}){const{node:T,internals:O,isParent:B}=xt(_e=>{const Ce=_e.nodeLookup.get(t),Ve=_e.parentLookup.has(t);return{node:Ce,internals:Ce.internals,isParent:Ve}},Jt);let q=T.type||"default",R=E?.[q]||ix[q];R===void 0&&(M?.("003",ga.error003(q)),q="default",R=E?.default||ix.default);const k=!!(T.draggable||c&&typeof T.draggable>"u"),D=!!(T.selectable||h&&typeof T.selectable>"u"),H=!!(T.connectable||f&&typeof T.connectable>"u"),V=!!(T.focusable||m&&typeof T.focusable>"u"),j=en(),U=MN(T),K=VH({node:T,nodeType:q,hasDimensions:U,resizeObserver:p}),ne=oM({nodeRef:K,disabled:T.hidden||!k,noDragClassName:v,handleSelector:T.dragHandle,nodeId:t,isSelectable:D,nodeClickDistance:C}),$=lM();if(T.hidden)return null;const ee=ms(T),re=CH(T),ce=D||k||e||n||r||i,de=n?_e=>n(_e,{...O.userNode}):void 0,Y=r?_e=>r(_e,{...O.userNode}):void 0,W=i?_e=>i(_e,{...O.userNode}):void 0,me=s?_e=>s(_e,{...O.userNode}):void 0,Q=l?_e=>l(_e,{...O.userNode}):void 0,ie=_e=>{const{selectNodesOnDrag:Ce,nodeDragThreshold:Ve}=j.getState();D&&(!Ce||!k||Ve>0)&&e6({id:t,store:j,nodeRef:K}),e&&e(_e,{...O.userNode})},le=_e=>{if(!(ON(_e.nativeEvent)||x)){if(xN.includes(_e.key)&&D){const Ce=_e.key==="Escape";e6({id:t,store:j,unselect:Ce,nodeRef:K})}else if(k&&T.selected&&Object.prototype.hasOwnProperty.call(nm,_e.key)){_e.preventDefault();const{ariaLabelConfig:Ce}=j.getState();j.setState({ariaLiveMessage:Ce["node.a11yDescription.ariaLiveMessage"]({direction:_e.key.replace("Arrow","").toLowerCase(),x:~~O.positionAbsolute.x,y:~~O.positionAbsolute.y})}),$({direction:nm[_e.key],factor:_e.shiftKey?4:1})}}},he=()=>{if(x||!K.current?.matches(":focus-visible"))return;const{transform:_e,width:Ce,height:Ve,autoPanOnNodeFocus:He,setCenter:je}=j.getState();if(!He)return;F6(new Map([[t,T]]),{x:0,y:0,width:Ce,height:Ve},_e,!0).length>0||je(T.position.x+ee.width/2,T.position.y+ee.height/2,{zoom:_e[2]})};return L.jsx("div",{className:Dn(["react-flow__node",`react-flow__node-${q}`,{[b]:k},T.className,{selected:T.selected,selectable:D,parent:B,draggable:k,dragging:ne}]),ref:K,style:{zIndex:O.z,transform:`translate(${O.positionAbsolute.x}px,${O.positionAbsolute.y}px)`,pointerEvents:ce?"all":"none",visibility:U?"visible":"hidden",...T.style,...re},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:de,onMouseMove:Y,onMouseLeave:W,onContextMenu:me,onClick:ie,onDoubleClick:Q,onKeyDown:V?le:void 0,tabIndex:V?0:void 0,onFocus:V?he:void 0,role:T.ariaRole??(V?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${JN}-${S}`,"aria-label":T.ariaLabel,...T.domAttributes,children:L.jsx(_H,{value:t,children:L.jsx(R,{id:t,data:T.data,type:q,positionAbsoluteX:O.positionAbsolute.x,positionAbsoluteY:O.positionAbsolute.y,selected:T.selected??!1,selectable:D,draggable:k,deletable:T.deletable??!0,isConnectable:H,sourcePosition:T.sourcePosition,targetPosition:T.targetPosition,dragging:ne,dragHandle:T.dragHandle,zIndex:O.z,parentId:T.parentId,...ee})})})}var qH=oe.memo(LH);const PH=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function hM(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=xt(PH,Jt),l=DH(t.onlyRenderVisibleElements),c=zH();return L.jsx("div",{className:"react-flow__nodes",style:Um,children:l.map(h=>L.jsx(qH,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},h))})}hM.displayName="NodeRenderer";const BH=oe.memo(hM);function UH(t){return xt(oe.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);s&&l&&PU({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Jt)}const jH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return L.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},HH=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return L.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},sx={[X0.Arrow]:jH,[X0.ArrowClosed]:HH};function FH(t){const e=en();return oe.useMemo(()=>Object.prototype.hasOwnProperty.call(sx,t)?sx[t]:(e.getState().onError?.("009",ga.error009(t)),null),[t])}const GH=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const h=FH(e);return h?L.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:L.jsx(h,{color:n,strokeWidth:l})}):null},fM=({defaultColor:t,rfId:e})=>{const n=xt(s=>s.edges),r=xt(s=>s.defaultEdgeOptions),i=oe.useMemo(()=>YU(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?L.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:L.jsx("defs",{children:i.map(s=>L.jsx(GH,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};fM.displayName="MarkerDefinitions";var $H=oe.memo(fM);function dM({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:f,...m}){const[p,v]=oe.useState({x:1,y:0,width:0,height:0}),b=Dn(["react-flow__edge-textwrapper",f]),x=oe.useRef(null);return oe.useEffect(()=>{if(x.current){const S=x.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),n?L.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...m,children:[i&&L.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),L.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),h]}):null}dM.displayName="EdgeText";const YH=oe.memo(dM);function jm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h,interactionWidth:f=20,...m}){return L.jsxs(L.Fragment,{children:[L.jsx("path",{...m,d:t,fill:"none",className:Dn(["react-flow__edge-path",m.className])}),f?L.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Pi(e)&&Pi(n)?L.jsx(YH,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h}):null]})}function ox({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ye.Left||t===Ye.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function mM({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top}){const[l,c]=ox({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,f]=ox({pos:s,x1:r,y1:i,x2:t,y2:e}),[m,p,v,b]=VN({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:h,targetControlY:f});return[`M${t},${e} C${l},${c} ${h},${f} ${r},${i}`,m,p,v,b]}function pM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:c,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:C})=>{const[M,T,O]=mM({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c}),B=t.isInternal?void 0:e;return L.jsx(jm,{id:B,path:M,labelX:T,labelY:O,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:C})})}const XH=pM({isInternal:!1}),gM=pM({isInternal:!0});XH.displayName="SimpleBezierEdge";gM.displayName="SimpleBezierEdgeInternal";function vM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,sourcePosition:b=Ye.Bottom,targetPosition:x=Ye.Top,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:M})=>{const[T,O,B]=Q5({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:s,targetPosition:x,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),q=t.isInternal?void 0:e;return L.jsx(jm,{id:q,path:T,labelX:O,labelY:B,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:S,markerStart:E,interactionWidth:M})})}const yM=vM({isInternal:!1}),_M=vM({isInternal:!0});yM.displayName="SmoothStepEdge";_M.displayName="SmoothStepEdgeInternal";function bM(t){return oe.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return L.jsx(yM,{...n,id:r,pathOptions:oe.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const KH=bM({isInternal:!1}),wM=bM({isInternal:!0});KH.displayName="StepEdge";wM.displayName="StepEdgeInternal";function xM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:x,interactionWidth:S})=>{const[E,C,M]=PN({sourceX:n,sourceY:r,targetX:i,targetY:s}),T=t.isInternal?void 0:e;return L.jsx(jm,{id:T,path:E,labelX:C,labelY:M,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:x,interactionWidth:S})})}const QH=xM({isInternal:!1}),SM=xM({isInternal:!0});QH.displayName="StraightEdge";SM.displayName="StraightEdgeInternal";function EM(t){return oe.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l=Ye.Bottom,targetPosition:c=Ye.Top,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:M})=>{const[T,O,B]=LN({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c,curvature:C?.curvature}),q=t.isInternal?void 0:e;return L.jsx(jm,{id:q,path:T,labelX:O,labelY:B,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:x,markerEnd:S,markerStart:E,interactionWidth:M})})}const ZH=EM({isInternal:!1}),TM=EM({isInternal:!0});ZH.displayName="BezierEdge";TM.displayName="BezierEdgeInternal";const lx={default:TM,straight:SM,step:wM,smoothstep:_M,simplebezier:gM},ux={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},WH=(t,e,n)=>n===Ye.Left?t-e:n===Ye.Right?t+e:t,JH=(t,e,n)=>n===Ye.Top?t-e:n===Ye.Bottom?t+e:t,cx="react-flow__edgeupdater";function hx({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}){return L.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:Dn([cx,`${cx}-${c}`]),cx:WH(e,r,t),cy:JH(n,r,t),r,stroke:"transparent",fill:"transparent"})}function eF({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:l,sourcePosition:c,targetPosition:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:v,setUpdateHover:b}){const x=en(),S=(O,B)=>{if(O.button!==0)return;const{autoPanOnConnect:q,domNode:R,isValidConnection:k,connectionMode:D,connectionRadius:H,lib:V,onConnectStart:j,onConnectEnd:U,cancelConnection:K,nodeLookup:ne,rfId:$,panBy:ee,updateConnection:re}=x.getState(),ce=B.type==="target",de=(me,Q)=>{v(!1),p?.(me,n,B.type,Q)},Y=me=>f?.(n,me),W=(me,Q)=>{v(!0),m?.(O,n,B.type),j?.(me,Q)};J5.onPointerDown(O.nativeEvent,{autoPanOnConnect:q,connectionMode:D,connectionRadius:H,domNode:R,handleId:B.id,nodeId:B.nodeId,nodeLookup:ne,isTarget:ce,edgeUpdaterType:B.type,lib:V,flowId:$,cancelConnection:K,panBy:ee,isValidConnection:k,onConnect:Y,onConnectStart:W,onConnectEnd:U,onReconnectEnd:de,updateConnection:re,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:O.currentTarget})},E=O=>S(O,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=O=>S(O,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),M=()=>b(!0),T=()=>b(!1);return L.jsxs(L.Fragment,{children:[(t===!0||t==="source")&&L.jsx(hx,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:M,onMouseOut:T,type:"source"}),(t===!0||t==="target")&&L.jsx(hx,{position:h,centerX:s,centerY:l,radius:e,onMouseDown:C,onMouseEnter:M,onMouseOut:T,type:"target"})]})}function tF({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,rfId:x,edgeTypes:S,noPanClassName:E,onError:C,disableKeyboardA11y:M}){let T=xt(je=>je.edgeLookup.get(t));const O=xt(je=>je.defaultEdgeOptions);T=O?{...O,...T}:T;let B=T.type||"default",q=S?.[B]||lx[B];q===void 0&&(C?.("011",ga.error011(B)),B="default",q=S?.default||lx.default);const R=!!(T.focusable||e&&typeof T.focusable>"u"),k=typeof p<"u"&&(T.reconnectable||n&&typeof T.reconnectable>"u"),D=!!(T.selectable||r&&typeof T.selectable>"u"),H=oe.useRef(null),[V,j]=oe.useState(!1),[U,K]=oe.useState(!1),ne=en(),{zIndex:$,sourceX:ee,sourceY:re,targetX:ce,targetY:de,sourcePosition:Y,targetPosition:W}=xt(oe.useCallback(je=>{const Pe=je.nodeLookup.get(T.source),Ge=je.nodeLookup.get(T.target);if(!Pe||!Ge)return{zIndex:T.zIndex,...ux};const Be=$U({id:t,sourceNode:Pe,targetNode:Ge,sourceHandle:T.sourceHandle||null,targetHandle:T.targetHandle||null,connectionMode:je.connectionMode,onError:C});return{zIndex:qU({selected:T.selected,zIndex:T.zIndex,sourceNode:Pe,targetNode:Ge,elevateOnSelect:je.elevateEdgesOnSelect,zIndexMode:je.zIndexMode}),...Be||ux}},[T.source,T.target,T.sourceHandle,T.targetHandle,T.selected,T.zIndex]),Jt),me=oe.useMemo(()=>T.markerStart?`url('#${Z5(T.markerStart,x)}')`:void 0,[T.markerStart,x]),Q=oe.useMemo(()=>T.markerEnd?`url('#${Z5(T.markerEnd,x)}')`:void 0,[T.markerEnd,x]);if(T.hidden||ee===null||re===null||ce===null||de===null)return null;const ie=je=>{const{addSelectedEdges:Pe,unselectNodesAndEdges:Ge,multiSelectionActive:Be}=ne.getState();D&&(ne.setState({nodesSelectionActive:!1}),T.selected&&Be?(Ge({nodes:[],edges:[T]}),H.current?.blur()):Pe([t])),i&&i(je,T)},le=s?je=>{s(je,{...T})}:void 0,he=l?je=>{l(je,{...T})}:void 0,_e=c?je=>{c(je,{...T})}:void 0,Ce=h?je=>{h(je,{...T})}:void 0,Ve=f?je=>{f(je,{...T})}:void 0,He=je=>{if(!M&&xN.includes(je.key)&&D){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ge}=ne.getState();je.key==="Escape"?(H.current?.blur(),Pe({edges:[T]})):Ge([t])}};return L.jsx("svg",{style:{zIndex:$},children:L.jsxs("g",{className:Dn(["react-flow__edge",`react-flow__edge-${B}`,T.className,E,{selected:T.selected,animated:T.animated,inactive:!D&&!i,updating:V,selectable:D}]),onClick:ie,onDoubleClick:le,onContextMenu:he,onMouseEnter:_e,onMouseMove:Ce,onMouseLeave:Ve,onKeyDown:R?He:void 0,tabIndex:R?0:void 0,role:T.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":T.ariaLabel===null?void 0:T.ariaLabel||`Edge from ${T.source} to ${T.target}`,"aria-describedby":R?`${eM}-${x}`:void 0,ref:H,...T.domAttributes,children:[!U&&L.jsx(q,{id:t,source:T.source,target:T.target,type:T.type,selected:T.selected,animated:T.animated,selectable:D,deletable:T.deletable??!0,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,sourceX:ee,sourceY:re,targetX:ce,targetY:de,sourcePosition:Y,targetPosition:W,data:T.data,style:T.style,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerStart:me,markerEnd:Q,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth}),k&&L.jsx(eF,{edge:T,isReconnectable:k,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,sourceX:ee,sourceY:re,targetX:ce,targetY:de,sourcePosition:Y,targetPosition:W,setUpdateHover:j,setReconnecting:K})]})})}var nF=oe.memo(tF);const rF=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function AM({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:x,disableKeyboardA11y:S}){const{edgesFocusable:E,edgesReconnectable:C,elementsSelectable:M,onError:T}=xt(rF,Jt),O=UH(e);return L.jsxs("div",{className:"react-flow__edges",children:[L.jsx($H,{defaultColor:t,rfId:n}),O.map(B=>L.jsx(nF,{id:B,edgesFocusable:E,edgesReconnectable:C,elementsSelectable:M,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:x,rfId:n,onError:T,edgeTypes:r,disableKeyboardA11y:S},B))]})}AM.displayName="EdgeRenderer";const iF=oe.memo(AM),aF=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function sF({children:t}){const e=xt(aF);return L.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function oF(t){const e=W6(),n=oe.useRef(!1);oe.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const lF=t=>t.panZoom?.syncViewport;function uF(t){const e=xt(lF),n=en();return oe.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function cF(t){return t.connection.inProgress?{...t.connection,to:ph(t.connection.to,t.transform)}:{...t.connection}}function hF(t){return cF}function fF(t){const e=hF();return xt(e,Jt)}const dF=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function mF({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:l,isValid:c,inProgress:h}=xt(dF,Jt);return!(s&&i&&h)?null:L.jsx("svg",{style:t,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:L.jsx("g",{className:Dn(["react-flow__connection",TN(c)]),children:L.jsx(CM,{style:e,type:n,CustomComponent:r,isValid:c})})})}const CM=({style:t,type:e=ao.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:l,fromHandle:c,fromPosition:h,to:f,toNode:m,toHandle:p,toPosition:v,pointer:b}=fF();if(!i)return;if(n)return L.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:h,toPosition:v,connectionStatus:TN(r),toNode:m,toHandle:p,pointer:b});let x="";const S={sourceX:s.x,sourceY:s.y,sourcePosition:h,targetX:f.x,targetY:f.y,targetPosition:v};switch(e){case ao.Bezier:[x]=LN(S);break;case ao.SimpleBezier:[x]=mM(S);break;case ao.Step:[x]=Q5({...S,borderRadius:0});break;case ao.SmoothStep:[x]=Q5(S);break;default:[x]=PN(S)}return L.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};CM.displayName="ConnectionLine";const pF={};function fx(t=pF){oe.useRef(t),en(),oe.useEffect(()=>{},[t])}function gF(){en(),oe.useRef(!1),oe.useEffect(()=>{},[])}function RM({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:S,connectionLineComponent:E,connectionLineContainerStyle:C,selectionKeyCode:M,selectionOnDrag:T,selectionMode:O,multiSelectionKeyCode:B,panActivationKeyCode:q,zoomActivationKeyCode:R,deleteKeyCode:k,onlyRenderVisibleElements:D,elementsSelectable:H,defaultViewport:V,translateExtent:j,minZoom:U,maxZoom:K,preventScrolling:ne,defaultMarkerColor:$,zoomOnScroll:ee,zoomOnPinch:re,panOnScroll:ce,panOnScrollSpeed:de,panOnScrollMode:Y,zoomOnDoubleClick:W,panOnDrag:me,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:le,onPaneMouseLeave:he,onPaneScroll:_e,onPaneContextMenu:Ce,paneClickDistance:Ve,nodeClickDistance:He,onEdgeContextMenu:je,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,onReconnect:$e,onReconnectStart:Ht,onReconnectEnd:st,noDragClassName:Nt,noWheelClassName:Vn,noPanClassName:Bn,disableKeyboardA11y:$t,nodeExtent:Qt,rfId:Gn,viewport:gr,onViewportChange:vr}){return fx(t),fx(e),gF(),oF(n),uF(gr),L.jsx(MH,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:le,onPaneMouseLeave:he,onPaneContextMenu:Ce,onPaneScroll:_e,paneClickDistance:Ve,deleteKeyCode:k,selectionKeyCode:M,selectionOnDrag:T,selectionMode:O,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:B,panActivationKeyCode:q,zoomActivationKeyCode:R,elementsSelectable:H,zoomOnScroll:ee,zoomOnPinch:re,zoomOnDoubleClick:W,panOnScroll:ce,panOnScrollSpeed:de,panOnScrollMode:Y,panOnDrag:me,defaultViewport:V,translateExtent:j,minZoom:U,maxZoom:K,onSelectionContextMenu:p,preventScrolling:ne,noDragClassName:Nt,noWheelClassName:Vn,noPanClassName:Bn,disableKeyboardA11y:$t,onViewportChange:vr,isControlledViewport:!!gr,children:L.jsxs(sF,{children:[L.jsx(iF,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:$e,onReconnectStart:Ht,onReconnectEnd:st,onlyRenderVisibleElements:D,onEdgeContextMenu:je,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:it,defaultMarkerColor:$,noPanClassName:Bn,disableKeyboardA11y:$t,rfId:Gn}),L.jsx(mF,{style:S,type:x,component:E,containerStyle:C}),L.jsx("div",{className:"react-flow__edgelabel-renderer"}),L.jsx(BH,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:He,onlyRenderVisibleElements:D,noPanClassName:Bn,noDragClassName:Nt,disableKeyboardA11y:$t,nodeExtent:Qt,rfId:Gn}),L.jsx("div",{className:"react-flow__viewport-portal"})]})})}RM.displayName="GraphView";const vF=oe.memo(RM),dx=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:v="basic"}={})=>{const b=new Map,x=new Map,S=new Map,E=new Map,C=r??e??[],M=n??t??[],T=m??[0,0],O=p??$0;jN(S,E,C);const B=W5(M,b,x,{nodeOrigin:T,nodeExtent:O,zIndexMode:v});let q=[0,0,1];if(l&&i&&s){const R=dh(b,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:k,y:D,zoom:H}=G6(R,i,s,h,f,c?.padding??.1);q=[k,D,H]}return{rfId:"1",width:i??0,height:s??0,transform:q,nodes:M,nodesInitialized:B,nodeLookup:b,parentLookup:x,edges:C,edgeLookup:E,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:h,maxZoom:f,translateExtent:$0,nodeExtent:O,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Xu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...EN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:kU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:SN,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},yF=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v})=>Vj((b,x)=>{async function S(){const{nodeLookup:E,panZoom:C,fitViewOptions:M,fitViewResolver:T,width:O,height:B,minZoom:q,maxZoom:R}=x();C&&(await NU({nodes:E,width:O,height:B,panZoom:C,minZoom:q,maxZoom:R},M),T?.resolve(!0),b({fitViewResolver:null}))}return{...dx({nodes:t,edges:e,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:v}),setNodes:E=>{const{nodeLookup:C,parentLookup:M,nodeOrigin:T,elevateNodesOnSelect:O,fitViewQueued:B,zIndexMode:q}=x(),R=W5(E,C,M,{nodeOrigin:T,nodeExtent:p,elevateNodesOnSelect:O,checkEquality:!0,zIndexMode:q});B&&R?(S(),b({nodes:E,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:E,nodesInitialized:R})},setEdges:E=>{const{connectionLookup:C,edgeLookup:M}=x();jN(C,M,E),b({edges:E})},setDefaultNodesAndEdges:(E,C)=>{if(E){const{setNodes:M}=x();M(E),b({hasDefaultNodes:!0})}if(C){const{setEdges:M}=x();M(C),b({hasDefaultEdges:!0})}},updateNodeInternals:E=>{const{triggerNodeChanges:C,nodeLookup:M,parentLookup:T,domNode:O,nodeOrigin:B,nodeExtent:q,debug:R,fitViewQueued:k,zIndexMode:D}=x(),{changes:H,updatedInternals:V}=ej(E,M,T,O,B,q,D);V&&(QU(M,T,{nodeOrigin:B,nodeExtent:q,zIndexMode:D}),k?(S(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),H?.length>0&&(R&&console.log("React Flow: trigger node changes",H),C?.(H)))},updateNodePositions:(E,C=!1)=>{const M=[];let T=[];const{nodeLookup:O,triggerNodeChanges:B,connection:q,updateConnection:R,onNodesChangeMiddlewareMap:k}=x();for(const[D,H]of E){const V=O.get(D),j=!!(V?.expandParent&&V?.parentId&&H?.position),U={id:D,type:"position",position:j?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:C};if(V&&q.inProgress&&q.fromNode.id===V.id){const K=Tl(V,q.fromHandle,Ye.Left,!0);R({...q,from:K})}j&&V.parentId&&M.push({id:D,parentId:V.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),T.push(U)}if(M.length>0){const{parentLookup:D,nodeOrigin:H}=x(),V=Z6(M,O,D,H);T.push(...V)}for(const D of k.values())T=D(T);B(T)},triggerNodeChanges:E=>{const{onNodesChange:C,setNodes:M,nodes:T,hasDefaultNodes:O,debug:B}=x();if(E?.length){if(O){const q=rM(E,T);M(q)}B&&console.log("React Flow: trigger node changes",E),C?.(E)}},triggerEdgeChanges:E=>{const{onEdgesChange:C,setEdges:M,edges:T,hasDefaultEdges:O,debug:B}=x();if(E?.length){if(O){const q=iM(E,T);M(q)}B&&console.log("React Flow: trigger edge changes",E),C?.(E)}},addSelectedNodes:E=>{const{multiSelectionActive:C,edgeLookup:M,nodeLookup:T,triggerNodeChanges:O,triggerEdgeChanges:B}=x();if(C){const q=E.map(R=>dl(R,!0));O(q);return}O(zu(T,new Set([...E]),!0)),B(zu(M))},addSelectedEdges:E=>{const{multiSelectionActive:C,edgeLookup:M,nodeLookup:T,triggerNodeChanges:O,triggerEdgeChanges:B}=x();if(C){const q=E.map(R=>dl(R,!0));B(q);return}B(zu(M,new Set([...E]))),O(zu(T,new Set,!0))},unselectNodesAndEdges:({nodes:E,edges:C}={})=>{const{edges:M,nodes:T,nodeLookup:O,triggerNodeChanges:B,triggerEdgeChanges:q}=x(),R=E||T,k=C||M,D=R.map(V=>{const j=O.get(V.id);return j&&(j.selected=!1),dl(V.id,!1)}),H=k.map(V=>dl(V.id,!1));B(D),q(H)},setMinZoom:E=>{const{panZoom:C,maxZoom:M}=x();C?.setScaleExtent([E,M]),b({minZoom:E})},setMaxZoom:E=>{const{panZoom:C,minZoom:M}=x();C?.setScaleExtent([M,E]),b({maxZoom:E})},setTranslateExtent:E=>{x().panZoom?.setTranslateExtent(E),b({translateExtent:E})},resetSelectedElements:()=>{const{edges:E,nodes:C,triggerNodeChanges:M,triggerEdgeChanges:T,elementsSelectable:O}=x();if(!O)return;const B=C.reduce((R,k)=>k.selected?[...R,dl(k.id,!1)]:R,[]),q=E.reduce((R,k)=>k.selected?[...R,dl(k.id,!1)]:R,[]);M(B),T(q)},setNodeExtent:E=>{const{nodes:C,nodeLookup:M,parentLookup:T,nodeOrigin:O,elevateNodesOnSelect:B,nodeExtent:q,zIndexMode:R}=x();E[0][0]===q[0][0]&&E[0][1]===q[0][1]&&E[1][0]===q[1][0]&&E[1][1]===q[1][1]||(W5(C,M,T,{nodeOrigin:O,nodeExtent:E,elevateNodesOnSelect:B,checkEquality:!1,zIndexMode:R}),b({nodeExtent:E}))},panBy:E=>{const{transform:C,width:M,height:T,panZoom:O,translateExtent:B}=x();return tj({delta:E,panZoom:O,transform:C,translateExtent:B,width:M,height:T})},setCenter:async(E,C,M)=>{const{width:T,height:O,maxZoom:B,panZoom:q}=x();if(!q)return Promise.resolve(!1);const R=typeof M?.zoom<"u"?M.zoom:B;return await q.setViewport({x:T/2-E*R,y:O/2-C*R,zoom:R},{duration:M?.duration,ease:M?.ease,interpolate:M?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...EN}})},updateConnection:E=>{b({connection:E})},reset:()=>b({...dx()})}},Object.is);function _F({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:h,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v,children:b}){const[x]=oe.useState(()=>yF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:h,nodeOrigin:m,nodeExtent:p,zIndexMode:v}));return L.jsx(Lj,{value:x,children:L.jsx(sH,{children:b})})}function bF({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:l,fitView:c,fitViewOptions:h,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b}){return oe.useContext(Pm)?L.jsx(L.Fragment,{children:t}):L.jsx(_F,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:h,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b,children:t})}const wF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function xF({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:l,onNodeClick:c,onEdgeClick:h,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:v,onConnect:b,onConnectStart:x,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,onNodeMouseEnter:M,onNodeMouseMove:T,onNodeMouseLeave:O,onNodeContextMenu:B,onNodeDoubleClick:q,onNodeDragStart:R,onNodeDrag:k,onNodeDragStop:D,onNodesDelete:H,onEdgesDelete:V,onDelete:j,onSelectionChange:U,onSelectionDragStart:K,onSelectionDrag:ne,onSelectionDragStop:$,onSelectionContextMenu:ee,onSelectionStart:re,onSelectionEnd:ce,onBeforeDelete:de,connectionMode:Y,connectionLineType:W=ao.Bezier,connectionLineStyle:me,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:le="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:_e=!1,selectionMode:Ce=Y0.Full,panActivationKeyCode:Ve="Space",multiSelectionKeyCode:He=Q0()?"Meta":"Control",zoomActivationKeyCode:je=Q0()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ge,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:it,nodesDraggable:$e,autoPanOnNodeFocus:Ht,nodesConnectable:st,nodesFocusable:Nt,nodeOrigin:Vn=tM,edgesFocusable:Bn,edgesReconnectable:$t,elementsSelectable:Qt=!0,defaultViewport:Gn=Qj,minZoom:gr=.5,maxZoom:vr=2,translateExtent:Un=$0,preventScrolling:_s=!0,nodeExtent:Ei,defaultMarkerColor:bs="#b1b1b7",zoomOnScroll:Ea=!0,zoomOnPinch:cn=!0,panOnScroll:Bt=!1,panOnScrollSpeed:yr=.5,panOnScrollMode:rn=_l.Free,zoomOnDoubleClick:ql=!0,panOnDrag:ws=!0,onPaneClick:Pl,onPaneMouseEnter:Jr,onPaneMouseMove:Ta,onPaneMouseLeave:hn,onPaneScroll:ei,onPaneContextMenu:ti,paneClickDistance:kr=1,nodeClickDistance:Tc=0,children:Bl,onReconnect:ni,onReconnectStart:Aa,onReconnectEnd:Ac,onEdgeContextMenu:Ca,onEdgeDoubleClick:Do,onEdgeMouseEnter:Oo,onEdgeMouseMove:Ra,onEdgeMouseLeave:Ti,reconnectRadius:Ul=10,onNodesChange:Dr,onEdgesChange:Or,noDragClassName:fn="nodrag",noWheelClassName:Sn="nowheel",noPanClassName:zr="nopan",fitView:Ia,fitViewOptions:jl,connectOnClick:Hl,attributionPosition:Fl,proOptions:ri,defaultEdgeOptions:xs,elevateNodesOnSelect:ii=!0,elevateEdgesOnSelect:_r=!1,disableKeyboardA11y:nr=!1,autoPanOnConnect:ai,autoPanOnNodeDrag:dn,autoPanSpeed:zo,connectionRadius:Vo,isValidConnection:si,onError:oi,style:Lo,id:Ss,nodeDragThreshold:qo,connectionDragThreshold:Gl,viewport:Es,onViewportChange:ur,width:mn,height:En,colorMode:Yi="light",debug:Po,onScroll:Et,ariaLabelConfig:Na,zIndexMode:Vr="basic",...Ma},rr){const Xi=Ss||"1",$l=eH(Yi),Bo=oe.useCallback(Ai=>{Ai.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Et?.(Ai)},[Et]);return L.jsx("div",{"data-testid":"rf__wrapper",...Ma,onScroll:Bo,style:{...Lo,...wF},ref:rr,className:Dn(["react-flow",i,$l]),id:Ss,role:"application",children:L.jsxs(bF,{nodes:t,edges:e,width:mn,height:En,fitView:Ia,fitViewOptions:jl,minZoom:gr,maxZoom:vr,nodeOrigin:Vn,nodeExtent:Ei,zIndexMode:Vr,children:[L.jsx(vF,{onInit:f,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:M,onNodeMouseMove:T,onNodeMouseLeave:O,onNodeContextMenu:B,onNodeDoubleClick:q,nodeTypes:s,edgeTypes:l,connectionLineType:W,connectionLineStyle:me,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:he,selectionOnDrag:_e,selectionMode:Ce,deleteKeyCode:le,multiSelectionKeyCode:He,panActivationKeyCode:Ve,zoomActivationKeyCode:je,onlyRenderVisibleElements:Be,defaultViewport:Gn,translateExtent:Un,minZoom:gr,maxZoom:vr,preventScrolling:_s,zoomOnScroll:Ea,zoomOnPinch:cn,zoomOnDoubleClick:ql,panOnScroll:Bt,panOnScrollSpeed:yr,panOnScrollMode:rn,panOnDrag:ws,onPaneClick:Pl,onPaneMouseEnter:Jr,onPaneMouseMove:Ta,onPaneMouseLeave:hn,onPaneScroll:ei,onPaneContextMenu:ti,paneClickDistance:kr,nodeClickDistance:Tc,onSelectionContextMenu:ee,onSelectionStart:re,onSelectionEnd:ce,onReconnect:ni,onReconnectStart:Aa,onReconnectEnd:Ac,onEdgeContextMenu:Ca,onEdgeDoubleClick:Do,onEdgeMouseEnter:Oo,onEdgeMouseMove:Ra,onEdgeMouseLeave:Ti,reconnectRadius:Ul,defaultMarkerColor:bs,noDragClassName:fn,noWheelClassName:Sn,noPanClassName:zr,rfId:Xi,disableKeyboardA11y:nr,nodeExtent:Ei,viewport:Es,onViewportChange:ur}),L.jsx(Jj,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:x,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,nodesDraggable:$e,autoPanOnNodeFocus:Ht,nodesConnectable:st,nodesFocusable:Nt,edgesFocusable:Bn,edgesReconnectable:$t,elementsSelectable:Qt,elevateNodesOnSelect:ii,elevateEdgesOnSelect:_r,minZoom:gr,maxZoom:vr,nodeExtent:Ei,onNodesChange:Dr,onEdgesChange:Or,snapToGrid:Pe,snapGrid:Ge,connectionMode:Y,translateExtent:Un,connectOnClick:Hl,defaultEdgeOptions:xs,fitView:Ia,fitViewOptions:jl,onNodesDelete:H,onEdgesDelete:V,onDelete:j,onNodeDragStart:R,onNodeDrag:k,onNodeDragStop:D,onSelectionDrag:ne,onSelectionDragStart:K,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:v,noPanClassName:zr,nodeOrigin:Vn,rfId:Xi,autoPanOnConnect:ai,autoPanOnNodeDrag:dn,autoPanSpeed:zo,onError:oi,connectionRadius:Vo,isValidConnection:si,selectNodesOnDrag:it,nodeDragThreshold:qo,connectionDragThreshold:Gl,onBeforeDelete:de,debug:Po,ariaLabelConfig:Na,zIndexMode:Vr}),L.jsx(Kj,{onSelectionChange:U}),Bl,L.jsx(Fj,{proOptions:ri,position:Fl}),L.jsx(Hj,{rfId:Xi,disableKeyboardA11y:nr})]})})}var SF=aM(xF);function EF(t){const[e,n]=oe.useState(t),r=oe.useCallback(i=>n(s=>rM(i,s)),[]);return[e,n,r]}function TF(t){const[e,n]=oe.useState(t),r=oe.useCallback(i=>n(s=>iM(i,s)),[]);return[e,n,r]}function AF({dimensions:t,lineWidth:e,variant:n,className:r}){return L.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Dn(["react-flow__background-pattern",n,r])})}function CF({radius:t,className:e}){return L.jsx("circle",{cx:t,cy:t,r:t,className:Dn(["react-flow__background-pattern","dots",e])})}var fo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(fo||(fo={}));const RF={[fo.Dots]:1,[fo.Lines]:1,[fo.Cross]:6},IF=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function IM({id:t,variant:e=fo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:l,bgColor:c,style:h,className:f,patternClassName:m}){const p=oe.useRef(null),{transform:v,patternId:b}=xt(IF,Jt),x=r||RF[e],S=e===fo.Dots,E=e===fo.Cross,C=Array.isArray(n)?n:[n,n],M=[C[0]*v[2]||1,C[1]*v[2]||1],T=x*v[2],O=Array.isArray(s)?s:[s,s],B=E?[T,T]:M,q=[O[0]*v[2]||1+B[0]/2,O[1]*v[2]||1+B[1]/2],R=`${b}${t||""}`;return L.jsxs("svg",{className:Dn(["react-flow__background",f]),style:{...h,...Um,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[L.jsx("pattern",{id:R,x:v[0]%M[0],y:v[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${q[0]},-${q[1]})`,children:S?L.jsx(CF,{radius:T/2,className:m}):L.jsx(AF,{dimensions:B,lineWidth:i,variant:e,className:m})}),L.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}IM.displayName="Background";const NF=oe.memo(IM);function MF(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:L.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function kF(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:L.jsx("path",{d:"M0 0h32v4.2H0z"})})}function DF(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:L.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function OF(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:L.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function zF(){return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:L.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function fd({children:t,className:e,...n}){return L.jsx("button",{type:"button",className:Dn(["react-flow__controls-button",e]),...n,children:t})}const VF=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function NM({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:h,className:f,children:m,position:p="bottom-left",orientation:v="vertical","aria-label":b}){const x=en(),{isInteractive:S,minZoomReached:E,maxZoomReached:C,ariaLabelConfig:M}=xt(VF,Jt),{zoomIn:T,zoomOut:O,fitView:B}=W6(),q=()=>{T(),s?.()},R=()=>{O(),l?.()},k=()=>{B(i),c?.()},D=()=>{x.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),h?.(!S)},H=v==="horizontal"?"horizontal":"vertical";return L.jsxs(Bm,{className:Dn(["react-flow__controls",H,f]),position:p,style:t,"data-testid":"rf__controls","aria-label":b??M["controls.ariaLabel"],children:[e&&L.jsxs(L.Fragment,{children:[L.jsx(fd,{onClick:q,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:C,children:L.jsx(MF,{})}),L.jsx(fd,{onClick:R,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:E,children:L.jsx(kF,{})})]}),n&&L.jsx(fd,{className:"react-flow__controls-fitview",onClick:k,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:L.jsx(DF,{})}),r&&L.jsx(fd,{className:"react-flow__controls-interactive",onClick:D,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:S?L.jsx(zF,{}):L.jsx(OF,{})}),m]})}NM.displayName="Controls";const LF=oe.memo(NM);function qF({id:t,x:e,y:n,width:r,height:i,style:s,color:l,strokeColor:c,strokeWidth:h,className:f,borderRadius:m,shapeRendering:p,selected:v,onClick:b}){const{background:x,backgroundColor:S}=s||{},E=l||x||S;return L.jsx("rect",{className:Dn(["react-flow__minimap-node",{selected:v},f]),x:e,y:n,rx:m,ry:m,width:r,height:i,style:{fill:E,stroke:c,strokeWidth:h},shapeRendering:p,onClick:b?C=>b(C,t):void 0})}const PF=oe.memo(qF),BF=t=>t.nodes.map(e=>e.id),Yg=t=>t instanceof Function?t:()=>t;function UF({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=PF,onClick:l}){const c=xt(BF,Jt),h=Yg(e),f=Yg(t),m=Yg(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return L.jsx(L.Fragment,{children:c.map(v=>L.jsx(HF,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:l,shapeRendering:p},v))})}function jF({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:c,onClick:h}){const{node:f,x:m,y:p,width:v,height:b}=xt(x=>{const{internals:S}=x.nodeLookup.get(t),E=S.userNode,{x:C,y:M}=S.positionAbsolute,{width:T,height:O}=ms(E);return{node:E,x:C,y:M,width:T,height:O}},Jt);return!f||f.hidden||!MN(f)?null:L.jsx(c,{x:m,y:p,width:v,height:b,style:f.style,selected:!!f.selected,className:r(f),color:e(f),borderRadius:i,strokeColor:n(f),strokeWidth:s,shapeRendering:l,onClick:h,id:f.id})}const HF=oe.memo(jF);var FF=oe.memo(UF);const GF=200,$F=150,YF=t=>!t.hidden,XF=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?NN(dh(t.nodeLookup,{filter:YF}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},KF="react-flow__minimap-desc";function MM({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:h,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:v="bottom-right",onClick:b,onNodeClick:x,pannable:S=!1,zoomable:E=!1,ariaLabel:C,inversePan:M,zoomStep:T=1,offsetScale:O=5}){const B=en(),q=oe.useRef(null),{boundingRect:R,viewBB:k,rfId:D,panZoom:H,translateExtent:V,flowWidth:j,flowHeight:U,ariaLabelConfig:K}=xt(XF,Jt),ne=t?.width??GF,$=t?.height??$F,ee=R.width/ne,re=R.height/$,ce=Math.max(ee,re),de=ce*ne,Y=ce*$,W=O*ce,me=R.x-(de-R.width)/2-W,Q=R.y-(Y-R.height)/2-W,ie=de+W*2,le=Y+W*2,he=`${KF}-${D}`,_e=oe.useRef(0),Ce=oe.useRef();_e.current=ce,oe.useEffect(()=>{if(q.current&&H)return Ce.current=cj({domNode:q.current,panZoom:H,getTransform:()=>B.getState().transform,getViewScale:()=>_e.current}),()=>{Ce.current?.destroy()}},[H]),oe.useEffect(()=>{Ce.current?.update({translateExtent:V,width:j,height:U,inversePan:M,pannable:S,zoomStep:T,zoomable:E})},[S,E,M,T,V,j,U]);const Ve=b?Pe=>{const[Ge,Be]=Ce.current?.pointer(Pe)||[0,0];b(Pe,{x:Ge,y:Be})}:void 0,He=x?oe.useCallback((Pe,Ge)=>{const Be=B.getState().nodeLookup.get(Ge).internals.userNode;x(Pe,Be)},[]):void 0,je=C??K["minimap.ariaLabel"];return L.jsx(Bm,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*ce:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Dn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:L.jsxs("svg",{width:ne,height:$,viewBox:`${me} ${Q} ${ie} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":he,ref:q,onClick:Ve,children:[je&&L.jsx("title",{id:he,children:je}),L.jsx(FF,{onClick:He,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),L.jsx("path",{className:"react-flow__minimap-mask",d:`M${me-W},${Q-W}h${ie+W*2}v${le+W*2}h${-ie-W*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}MM.displayName="MiniMap";const QF=oe.memo(MM),ZF=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,WF={[Wu.Line]:"right",[Wu.Handle]:"bottom-right"};function JF({nodeId:t,position:e,variant:n=Wu.Handle,className:r,style:i=void 0,children:s,color:l,minWidth:c=10,minHeight:h=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:v,autoScale:b=!0,shouldResize:x,onResizeStart:S,onResize:E,onResizeEnd:C}){const M=uM(),T=typeof t=="string"?t:M,O=en(),B=oe.useRef(null),q=n===Wu.Handle,R=xt(oe.useCallback(ZF(q&&b),[q,b]),Jt),k=oe.useRef(null),D=e??WF[n];oe.useEffect(()=>{if(!(!B.current||!T))return k.current||(k.current=Ej({domNode:B.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:V,transform:j,snapGrid:U,snapToGrid:K,nodeOrigin:ne,domNode:$}=O.getState();return{nodeLookup:V,transform:j,snapGrid:U,snapToGrid:K,nodeOrigin:ne,paneDomNode:$}},onChange:(V,j)=>{const{triggerNodeChanges:U,nodeLookup:K,parentLookup:ne,nodeOrigin:$}=O.getState(),ee=[],re={x:V.x,y:V.y},ce=K.get(T);if(ce&&ce.expandParent&&ce.parentId){const de=ce.origin??$,Y=V.width??ce.measured.width??0,W=V.height??ce.measured.height??0,me={id:ce.id,parentId:ce.parentId,rect:{width:Y,height:W,...kN({x:V.x??ce.position.x,y:V.y??ce.position.y},{width:Y,height:W},ce.parentId,K,de)}},Q=Z6([me],K,ne,$);ee.push(...Q),re.x=V.x?Math.max(de[0]*Y,V.x):void 0,re.y=V.y?Math.max(de[1]*W,V.y):void 0}if(re.x!==void 0&&re.y!==void 0){const de={id:T,type:"position",position:{...re}};ee.push(de)}if(V.width!==void 0&&V.height!==void 0){const Y={id:T,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:V.width,height:V.height}};ee.push(Y)}for(const de of j){const Y={...de,type:"position"};ee.push(Y)}U(ee)},onEnd:({width:V,height:j})=>{const U={id:T,type:"dimensions",resizing:!1,dimensions:{width:V,height:j}};O.getState().triggerNodeChanges([U])}})),k.current.update({controlPosition:D,boundaries:{minWidth:c,minHeight:h,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:v,onResizeStart:S,onResize:E,onResizeEnd:C,shouldResize:x}),()=>{k.current?.destroy()}},[D,c,h,f,m,p,S,E,C,x]);const H=D.split("-");return L.jsx("div",{className:Dn(["react-flow__resize-control","nodrag",...H,n,r]),ref:B,style:{...i,scale:R,...l&&{[q?"backgroundColor":"borderColor"]:l}},children:s})}oe.memo(JF);const eG=()=>{};var mx={};const kM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},DM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(v=64)),r.push(n[m],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new nG;const v=s<<2|c>>4;if(r.push(v),f!==64){const b=c<<4&240|f>>2;if(r.push(b),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rG=function(t){const e=kM(t);return DM.encodeByteArray(e,!0)},rm=function(t){return rG(t).replace(/\./g,"")},OM=function(t){try{return DM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aG=()=>iG().__FIREBASE_DEFAULTS__,sG=()=>{if(typeof process>"u"||typeof mx>"u")return;const t=mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OM(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return eG()||aG()||sG()||oG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zM=t=>Hm()?.emulatorHosts?.[t],lG=t=>{const e=zM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VM=()=>Hm()?.config,LM=t=>Hm()?.[`_${t}`];class uG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function uc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qM(t){return(await fetch(t,{credentials:"include"})).ok}function cG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rm(JSON.stringify(n)),rm(JSON.stringify(l)),""].join(".")}const D0={};function hG(){const t={prod:[],emulator:[]};for(const e of Object.keys(D0))D0[e]?t.emulator.push(e):t.prod.push(e);return t}function fG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let px=!1;function PM(t,e){if(typeof window>"u"||typeof document>"u"||!uc(window.location.host)||D0[t]===e||D0[t]||px)return;D0[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=hG().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{px=!0,l()},v}function m(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=fG(r),b=n("text"),x=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),M=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const T=v.element;c(T),m(E,S);const O=f();h(M,C),T.append(M,x,E,O),document.body.appendChild(T)}s?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function mG(){const t=Hm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yG(){const t=lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _G(){return!mG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bG(){try{return typeof indexedDB=="object"}catch{return!1}}function wG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const xG="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xG,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?SG(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ps(i,c,r)}}function SG(t,e){return t.replace(EG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EG=/\{\$([^}]+)}/g;function TG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Al(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(gx(s)&&gx(l)){if(!Al(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gx(t){return t!==null&&typeof t=="object"}function vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AG(t,e){const n=new CG(t,e);return n.subscribe.bind(n)}class CG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}function kn(t){return t&&t._delegate?t._delegate:t}class Cl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ml="[DEFAULT]";class IG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MG(e))try{this.getOrInitializeService({instanceIdentifier:ml})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ml){return this.instances.has(e)}getOptions(e=ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ml){return this.component?this.component.multipleInstances?e:ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NG(t){return t===ml?void 0:t}function MG(t){return t.instantiationMode==="EAGER"}class kG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const DG={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},OG=pt.INFO,zG={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},VG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e_{constructor(e){this.name=e,this._logLevel=OG,this._logHandler=VG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const LG=(t,e)=>e.some(n=>t instanceof n);let vx,yx;function qG(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PG(){return yx||(yx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BM=new WeakMap,t6=new WeakMap,UM=new WeakMap,Kg=new WeakMap,t_=new WeakMap;function BG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(mo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&BM.set(n,t)}).catch(()=>{}),t_.set(e,t),e}function UG(t){if(t6.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});t6.set(t,e)}let n6={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t6.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jG(t){n6=t(n6)}function HG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qg(this),e,...n);return UM.set(r,e.sort?e.sort():[e]),mo(r)}:PG().includes(t)?function(...e){return t.apply(Qg(this),e),mo(BM.get(this))}:function(...e){return mo(t.apply(Qg(this),e))}}function FG(t){return typeof t=="function"?HG(t):(t instanceof IDBTransaction&&UG(t),LG(t,qG())?new Proxy(t,n6):t)}function mo(t){if(t instanceof IDBRequest)return BG(t);if(Kg.has(t))return Kg.get(t);const e=FG(t);return e!==t&&(Kg.set(t,e),t_.set(e,t)),e}const Qg=t=>t_.get(t);function GG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=mo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(mo(l.result),h.oldVersion,h.newVersion,mo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const $G=["get","getKey","getAll","getAllKeys","count"],YG=["put","add","delete","clear"],Zg=new Map;function _x(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$G.includes(n)))return;const s=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return Zg.set(e,s),s}jG(t=>({...t,get:(e,n,r)=>_x(e,n)||t.get(e,n,r),has:(e,n)=>!!_x(e,n)||t.has(e,n)}));class XG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KG(t){return t.getComponent()?.type==="VERSION"}const r6="@firebase/app",bx="0.14.6";const ss=new e_("@firebase/app"),QG="@firebase/app-compat",ZG="@firebase/analytics-compat",WG="@firebase/analytics",JG="@firebase/app-check-compat",e$="@firebase/app-check",t$="@firebase/auth",n$="@firebase/auth-compat",r$="@firebase/database",i$="@firebase/data-connect",a$="@firebase/database-compat",s$="@firebase/functions",o$="@firebase/functions-compat",l$="@firebase/installations",u$="@firebase/installations-compat",c$="@firebase/messaging",h$="@firebase/messaging-compat",f$="@firebase/performance",d$="@firebase/performance-compat",m$="@firebase/remote-config",p$="@firebase/remote-config-compat",g$="@firebase/storage",v$="@firebase/storage-compat",y$="@firebase/firestore",_$="@firebase/ai",b$="@firebase/firestore-compat",w$="firebase",x$="12.6.0";const i6="[DEFAULT]",S$={[r6]:"fire-core",[QG]:"fire-core-compat",[WG]:"fire-analytics",[ZG]:"fire-analytics-compat",[e$]:"fire-app-check",[JG]:"fire-app-check-compat",[t$]:"fire-auth",[n$]:"fire-auth-compat",[r$]:"fire-rtdb",[i$]:"fire-data-connect",[a$]:"fire-rtdb-compat",[s$]:"fire-fn",[o$]:"fire-fn-compat",[l$]:"fire-iid",[u$]:"fire-iid-compat",[c$]:"fire-fcm",[h$]:"fire-fcm-compat",[f$]:"fire-perf",[d$]:"fire-perf-compat",[m$]:"fire-rc",[p$]:"fire-rc-compat",[g$]:"fire-gcs",[v$]:"fire-gcs-compat",[y$]:"fire-fst",[b$]:"fire-fst-compat",[_$]:"fire-vertex","fire-js":"fire-js",[w$]:"fire-js-all"};const im=new Map,E$=new Map,a6=new Map;function wx(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ec(t){const e=t.name;if(a6.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;a6.set(e,t);for(const n of im.values())wx(n,t);for(const n of E$.values())wx(n,t);return!0}function n_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qi(t){return t==null?!1:t.settings!==void 0}const T$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new gh("app","Firebase",T$);class A${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}const cc=x$;function jM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i6,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=VM()),!n)throw po.create("no-options");const s=im.get(i);if(s){if(Al(n,s.options)&&Al(r,s.config))return s;throw po.create("duplicate-app",{appName:i})}const l=new kG(i);for(const h of a6.values())l.addComponent(h);const c=new A$(n,r,l);return im.set(i,c),c}function HM(t=i6){const e=im.get(t);if(!e&&t===i6&&VM())return jM();if(!e)throw po.create("no-app",{appName:t});return e}function go(t,e,n){let r=S$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(l.join(" "));return}ec(new Cl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const C$="firebase-heartbeat-database",R$=1,W0="firebase-heartbeat-store";let Wg=null;function FM(){return Wg||(Wg=GG(C$,R$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(W0)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function I$(t){try{const n=(await FM()).transaction(W0),r=await n.objectStore(W0).get(GM(t));return await n.done,r}catch(e){if(e instanceof ps)ss.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}}async function xx(t,e){try{const r=(await FM()).transaction(W0,"readwrite");await r.objectStore(W0).put(e,GM(t)),await r.done}catch(n){if(n instanceof ps)ss.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n?.message});ss.warn(r.message)}}}function GM(t){return`${t.name}!${t.options.appId}`}const N$=1024,M$=30;class k${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>M$){const i=z$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sx(),{heartbeatsToSend:n,unsentEntries:r}=D$(this._heartbeatsCache.heartbeats),i=rm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ss.warn(e),""}}}function Sx(){return new Date().toISOString().substring(0,10)}function D$(t,e=N$){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Ex(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ex(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bG()?wG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ex(t){return rm(JSON.stringify({version:2,heartbeats:t})).length}function z$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function V$(t){ec(new Cl("platform-logger",e=>new XG(e),"PRIVATE")),ec(new Cl("heartbeat",e=>new k$(e),"PRIVATE")),go(r6,bx,t),go(r6,bx,"esm2020"),go("fire-js","")}V$("");var Tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vo,$M;(function(){var t;function e(R,k){function D(){}D.prototype=k.prototype,R.F=k.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(H,V,j){for(var U=Array(arguments.length-2),K=2;K<arguments.length;K++)U[K-2]=arguments[K];return k.prototype[V].apply(H,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,k,D){D||(D=0);const H=Array(16);if(typeof k=="string")for(var V=0;V<16;++V)H[V]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(V=0;V<16;++V)H[V]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=R.g[0],D=R.g[1],V=R.g[2];let j=R.g[3],U;U=k+(j^D&(V^j))+H[0]+3614090360&4294967295,k=D+(U<<7&4294967295|U>>>25),U=j+(V^k&(D^V))+H[1]+3905402710&4294967295,j=k+(U<<12&4294967295|U>>>20),U=V+(D^j&(k^D))+H[2]+606105819&4294967295,V=j+(U<<17&4294967295|U>>>15),U=D+(k^V&(j^k))+H[3]+3250441966&4294967295,D=V+(U<<22&4294967295|U>>>10),U=k+(j^D&(V^j))+H[4]+4118548399&4294967295,k=D+(U<<7&4294967295|U>>>25),U=j+(V^k&(D^V))+H[5]+1200080426&4294967295,j=k+(U<<12&4294967295|U>>>20),U=V+(D^j&(k^D))+H[6]+2821735955&4294967295,V=j+(U<<17&4294967295|U>>>15),U=D+(k^V&(j^k))+H[7]+4249261313&4294967295,D=V+(U<<22&4294967295|U>>>10),U=k+(j^D&(V^j))+H[8]+1770035416&4294967295,k=D+(U<<7&4294967295|U>>>25),U=j+(V^k&(D^V))+H[9]+2336552879&4294967295,j=k+(U<<12&4294967295|U>>>20),U=V+(D^j&(k^D))+H[10]+4294925233&4294967295,V=j+(U<<17&4294967295|U>>>15),U=D+(k^V&(j^k))+H[11]+2304563134&4294967295,D=V+(U<<22&4294967295|U>>>10),U=k+(j^D&(V^j))+H[12]+1804603682&4294967295,k=D+(U<<7&4294967295|U>>>25),U=j+(V^k&(D^V))+H[13]+4254626195&4294967295,j=k+(U<<12&4294967295|U>>>20),U=V+(D^j&(k^D))+H[14]+2792965006&4294967295,V=j+(U<<17&4294967295|U>>>15),U=D+(k^V&(j^k))+H[15]+1236535329&4294967295,D=V+(U<<22&4294967295|U>>>10),U=k+(V^j&(D^V))+H[1]+4129170786&4294967295,k=D+(U<<5&4294967295|U>>>27),U=j+(D^V&(k^D))+H[6]+3225465664&4294967295,j=k+(U<<9&4294967295|U>>>23),U=V+(k^D&(j^k))+H[11]+643717713&4294967295,V=j+(U<<14&4294967295|U>>>18),U=D+(j^k&(V^j))+H[0]+3921069994&4294967295,D=V+(U<<20&4294967295|U>>>12),U=k+(V^j&(D^V))+H[5]+3593408605&4294967295,k=D+(U<<5&4294967295|U>>>27),U=j+(D^V&(k^D))+H[10]+38016083&4294967295,j=k+(U<<9&4294967295|U>>>23),U=V+(k^D&(j^k))+H[15]+3634488961&4294967295,V=j+(U<<14&4294967295|U>>>18),U=D+(j^k&(V^j))+H[4]+3889429448&4294967295,D=V+(U<<20&4294967295|U>>>12),U=k+(V^j&(D^V))+H[9]+568446438&4294967295,k=D+(U<<5&4294967295|U>>>27),U=j+(D^V&(k^D))+H[14]+3275163606&4294967295,j=k+(U<<9&4294967295|U>>>23),U=V+(k^D&(j^k))+H[3]+4107603335&4294967295,V=j+(U<<14&4294967295|U>>>18),U=D+(j^k&(V^j))+H[8]+1163531501&4294967295,D=V+(U<<20&4294967295|U>>>12),U=k+(V^j&(D^V))+H[13]+2850285829&4294967295,k=D+(U<<5&4294967295|U>>>27),U=j+(D^V&(k^D))+H[2]+4243563512&4294967295,j=k+(U<<9&4294967295|U>>>23),U=V+(k^D&(j^k))+H[7]+1735328473&4294967295,V=j+(U<<14&4294967295|U>>>18),U=D+(j^k&(V^j))+H[12]+2368359562&4294967295,D=V+(U<<20&4294967295|U>>>12),U=k+(D^V^j)+H[5]+4294588738&4294967295,k=D+(U<<4&4294967295|U>>>28),U=j+(k^D^V)+H[8]+2272392833&4294967295,j=k+(U<<11&4294967295|U>>>21),U=V+(j^k^D)+H[11]+1839030562&4294967295,V=j+(U<<16&4294967295|U>>>16),U=D+(V^j^k)+H[14]+4259657740&4294967295,D=V+(U<<23&4294967295|U>>>9),U=k+(D^V^j)+H[1]+2763975236&4294967295,k=D+(U<<4&4294967295|U>>>28),U=j+(k^D^V)+H[4]+1272893353&4294967295,j=k+(U<<11&4294967295|U>>>21),U=V+(j^k^D)+H[7]+4139469664&4294967295,V=j+(U<<16&4294967295|U>>>16),U=D+(V^j^k)+H[10]+3200236656&4294967295,D=V+(U<<23&4294967295|U>>>9),U=k+(D^V^j)+H[13]+681279174&4294967295,k=D+(U<<4&4294967295|U>>>28),U=j+(k^D^V)+H[0]+3936430074&4294967295,j=k+(U<<11&4294967295|U>>>21),U=V+(j^k^D)+H[3]+3572445317&4294967295,V=j+(U<<16&4294967295|U>>>16),U=D+(V^j^k)+H[6]+76029189&4294967295,D=V+(U<<23&4294967295|U>>>9),U=k+(D^V^j)+H[9]+3654602809&4294967295,k=D+(U<<4&4294967295|U>>>28),U=j+(k^D^V)+H[12]+3873151461&4294967295,j=k+(U<<11&4294967295|U>>>21),U=V+(j^k^D)+H[15]+530742520&4294967295,V=j+(U<<16&4294967295|U>>>16),U=D+(V^j^k)+H[2]+3299628645&4294967295,D=V+(U<<23&4294967295|U>>>9),U=k+(V^(D|~j))+H[0]+4096336452&4294967295,k=D+(U<<6&4294967295|U>>>26),U=j+(D^(k|~V))+H[7]+1126891415&4294967295,j=k+(U<<10&4294967295|U>>>22),U=V+(k^(j|~D))+H[14]+2878612391&4294967295,V=j+(U<<15&4294967295|U>>>17),U=D+(j^(V|~k))+H[5]+4237533241&4294967295,D=V+(U<<21&4294967295|U>>>11),U=k+(V^(D|~j))+H[12]+1700485571&4294967295,k=D+(U<<6&4294967295|U>>>26),U=j+(D^(k|~V))+H[3]+2399980690&4294967295,j=k+(U<<10&4294967295|U>>>22),U=V+(k^(j|~D))+H[10]+4293915773&4294967295,V=j+(U<<15&4294967295|U>>>17),U=D+(j^(V|~k))+H[1]+2240044497&4294967295,D=V+(U<<21&4294967295|U>>>11),U=k+(V^(D|~j))+H[8]+1873313359&4294967295,k=D+(U<<6&4294967295|U>>>26),U=j+(D^(k|~V))+H[15]+4264355552&4294967295,j=k+(U<<10&4294967295|U>>>22),U=V+(k^(j|~D))+H[6]+2734768916&4294967295,V=j+(U<<15&4294967295|U>>>17),U=D+(j^(V|~k))+H[13]+1309151649&4294967295,D=V+(U<<21&4294967295|U>>>11),U=k+(V^(D|~j))+H[4]+4149444226&4294967295,k=D+(U<<6&4294967295|U>>>26),U=j+(D^(k|~V))+H[11]+3174756917&4294967295,j=k+(U<<10&4294967295|U>>>22),U=V+(k^(j|~D))+H[2]+718787259&4294967295,V=j+(U<<15&4294967295|U>>>17),U=D+(j^(V|~k))+H[9]+3951481745&4294967295,R.g[0]=R.g[0]+k&4294967295,R.g[1]=R.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,k){k===void 0&&(k=R.length);const D=k-this.blockSize,H=this.C;let V=this.h,j=0;for(;j<k;){if(V==0)for(;j<=D;)i(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<k;)if(H[V++]=R.charCodeAt(j++),V==this.blockSize){i(this,H),V=0;break}}else for(;j<k;)if(H[V++]=R[j++],V==this.blockSize){i(this,H),V=0;break}}this.h=V,this.o+=k},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var k=1;k<R.length-8;++k)R[k]=0;k=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=k&255,k/=256;for(this.v(R),R=Array(16),k=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)R[k++]=this.g[D]>>>H&255;return R};function s(R,k){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=k(R)}function l(R,k){this.h=k;const D=[];let H=!0;for(let V=R.length-1;V>=0;V--){const j=R[V]|0;H&&j==k||(D[V]=j,H=!1)}this.g=D}var c={};function h(R){return-128<=R&&R<128?s(R,function(k){return new l([k|0],k<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return E(f(-R));const k=[];let D=1;for(let H=0;R>=D;H++)k[H]=R/D|0,D*=4294967296;return new l(k,0)}function m(R,k){if(R.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(R.charAt(0)=="-")return E(m(R.substring(1),k));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(k,8));let H=p;for(let j=0;j<R.length;j+=8){var V=Math.min(8,R.length-j);const U=parseInt(R.substring(j,j+V),k);V<8?(V=f(Math.pow(k,V)),H=H.j(V).add(f(U))):(H=H.j(D),H=H.add(f(U)))}return H}var p=h(0),v=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let R=0,k=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);R+=(H>=0?H:4294967296+H)*k,k*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(S(this))return"-"+E(this).toString(R);const k=f(Math.pow(R,6));var D=this;let H="";for(;;){const V=O(D,k).g;D=C(D,V.j(k));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=V,x(D))return j+H;for(;j.length<6;)j="0"+j;H=j+H}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(let k=0;k<R.g.length;k++)if(R.g[k]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=C(this,R),S(R)?-1:x(R)?0:1};function E(R){const k=R.g.length,D=[];for(let H=0;H<k;H++)D[H]=~R.g[H];return new l(D,~R.h).add(v)}t.abs=function(){return S(this)?E(this):this},t.add=function(R){const k=Math.max(this.g.length,R.g.length),D=[];let H=0;for(let V=0;V<=k;V++){let j=H+(this.i(V)&65535)+(R.i(V)&65535),U=(j>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);H=U>>>16,j&=65535,U&=65535,D[V]=U<<16|j}return new l(D,D[D.length-1]&-2147483648?-1:0)};function C(R,k){return R.add(E(k))}t.j=function(R){if(x(this)||x(R))return p;if(S(this))return S(R)?E(this).j(E(R)):E(E(this).j(R));if(S(R))return E(this.j(E(R)));if(this.l(b)<0&&R.l(b)<0)return f(this.m()*R.m());const k=this.g.length+R.g.length,D=[];for(var H=0;H<2*k;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let V=0;V<R.g.length;V++){const j=this.i(H)>>>16,U=this.i(H)&65535,K=R.i(V)>>>16,ne=R.i(V)&65535;D[2*H+2*V]+=U*ne,M(D,2*H+2*V),D[2*H+2*V+1]+=j*ne,M(D,2*H+2*V+1),D[2*H+2*V+1]+=U*K,M(D,2*H+2*V+1),D[2*H+2*V+2]+=j*K,M(D,2*H+2*V+2)}for(R=0;R<k;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=k;R<2*k;R++)D[R]=0;return new l(D,0)};function M(R,k){for(;(R[k]&65535)!=R[k];)R[k+1]+=R[k]>>>16,R[k]&=65535,k++}function T(R,k){this.g=R,this.h=k}function O(R,k){if(x(k))throw Error("division by zero");if(x(R))return new T(p,p);if(S(R))return k=O(E(R),k),new T(E(k.g),E(k.h));if(S(k))return k=O(R,E(k)),new T(E(k.g),k.h);if(R.g.length>30){if(S(R)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var D=v,H=k;H.l(R)<=0;)D=B(D),H=B(H);var V=q(D,1),j=q(H,1);for(H=q(H,2),D=q(D,2);!x(H);){var U=j.add(H);U.l(R)<=0&&(V=V.add(D),j=U),H=q(H,1),D=q(D,1)}return k=C(R,V.j(k)),new T(V,k)}for(V=p;R.l(k)>=0;){for(D=Math.max(1,Math.floor(R.m()/k.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),j=f(D),U=j.j(k);S(U)||U.l(R)>0;)D-=H,j=f(D),U=j.j(k);x(j)&&(j=v),V=V.add(j),R=C(R,U)}return new T(V,R)}t.B=function(R){return O(this,R).h},t.and=function(R){const k=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<k;H++)D[H]=this.i(H)&R.i(H);return new l(D,this.h&R.h)},t.or=function(R){const k=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<k;H++)D[H]=this.i(H)|R.i(H);return new l(D,this.h|R.h)},t.xor=function(R){const k=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<k;H++)D[H]=this.i(H)^R.i(H);return new l(D,this.h^R.h)};function B(R){const k=R.g.length+1,D=[];for(let H=0;H<k;H++)D[H]=R.i(H)<<1|R.i(H-1)>>>31;return new l(D,R.h)}function q(R,k){const D=k>>5;k%=32;const H=R.g.length-D,V=[];for(let j=0;j<H;j++)V[j]=k>0?R.i(j+D)>>>k|R.i(j+D+1)<<32-k:R.i(j+D);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$M=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,vo=l}).apply(typeof Tx<"u"?Tx:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YM,S0,XM,Dd,s6,KM,QM,ZM;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var A=0;A<g.length;++A){var z=g[A];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var z=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var fe=g[X];if(!(fe in z))break e;z=z[fe]}g=g[g.length-1],X=z[g],A=A(X),A!=X&&A!=null&&e(z,g,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(A){var z=[],X;for(X in A)Object.prototype.hasOwnProperty.call(A,X)&&z.push([X,A[X]]);return z}});var s=s||{},l=this||self;function c(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function h(g,A,z){return g.call.apply(g.bind,arguments)}function f(g,A,z){return f=h,f.apply(null,arguments)}function m(g,A){var z=Array.prototype.slice.call(arguments,1);return function(){var X=z.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function p(g,A){function z(){}z.prototype=A.prototype,g.Z=A.prototype,g.prototype=new z,g.prototype.constructor=g,g.Ob=function(X,fe,be){for(var Me=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Me[ot-2]=arguments[ot];return A.prototype[fe].apply(X,Me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const A=g.length;if(A>0){const z=Array(A);for(let X=0;X<A;X++)z[X]=g[X];return z}return[]}function x(g,A){for(let X=1;X<arguments.length;X++){const fe=arguments[X];var z=typeof fe;if(z=z!="object"?z:fe?Array.isArray(fe)?"array":z:"null",z=="array"||z=="object"&&typeof fe.length=="number"){z=g.length||0;const be=fe.length||0;g.length=z+be;for(let Me=0;Me<be;Me++)g[z+Me]=fe[Me]}else g.push(fe)}}class S{constructor(A,z){this.i=A,this.j=z,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(g){l.setTimeout(()=>{throw g},0)}function C(){var g=R;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class M{constructor(){this.h=this.g=null}add(A,z){const X=T.get();X.set(A,z),this.h?this.h.next=X:this.g=X,this.h=X}}var T=new S(()=>new O,g=>g.reset());class O{constructor(){this.next=this.g=this.h=null}set(A,z){this.h=A,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let B,q=!1,R=new M,k=()=>{const g=Promise.resolve(void 0);B=()=>{g.then(D)}};function D(){for(var g;g=C();){try{g.h.call(g.g)}catch(z){E(z)}var A=T;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}q=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const z=()=>{};l.addEventListener("test",z,A),l.removeEventListener("test",z,A)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function K(g,A){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}p(K,V),K.prototype.init=function(g,A){const z=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(z=="mouseover"?A=g.fromElement:z=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),$=0;function ee(g,A,z,X,fe){this.listener=g,this.proxy=null,this.src=A,this.type=z,this.capture=!!X,this.ha=fe,this.key=++$,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ce(g,A,z){for(const X in g)A.call(z,g[X],X,g)}function de(g,A){for(const z in g)A.call(void 0,g[z],z,g)}function Y(g){const A={};for(const z in g)A[z]=g[z];return A}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(g,A){let z,X;for(let fe=1;fe<arguments.length;fe++){X=arguments[fe];for(z in X)g[z]=X[z];for(let be=0;be<W.length;be++)z=W[be],Object.prototype.hasOwnProperty.call(X,z)&&(g[z]=X[z])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,A,z,X,fe){const be=g.toString();g=this.g[be],g||(g=this.g[be]=[],this.h++);const Me=le(g,A,X,fe);return Me>-1?(A=g[Me],z||(A.fa=!1)):(A=new ee(A,this.src,be,!!X,fe),A.fa=z,g.push(A)),A};function ie(g,A){const z=A.type;if(z in g.g){var X=g.g[z],fe=Array.prototype.indexOf.call(X,A,void 0),be;(be=fe>=0)&&Array.prototype.splice.call(X,fe,1),be&&(re(A),g.g[z].length==0&&(delete g.g[z],g.h--))}}function le(g,A,z,X){for(let fe=0;fe<g.length;++fe){const be=g[fe];if(!be.da&&be.listener==A&&be.capture==!!z&&be.ha==X)return fe}return-1}var he="closure_lm_"+(Math.random()*1e6|0),_e={};function Ce(g,A,z,X,fe){if(Array.isArray(A)){for(let be=0;be<A.length;be++)Ce(g,A[be],z,X,fe);return null}return z=Ht(z),g&&g[ne]?g.J(A,z,c(X)?!!X.capture:!1,fe):Ve(g,A,z,!1,X,fe)}function Ve(g,A,z,X,fe,be){if(!A)throw Error("Invalid event type");const Me=c(fe)?!!fe.capture:!!fe;let ot=it(g);if(ot||(g[he]=ot=new Q(g)),z=ot.add(A,z,X,Me,be),z.proxy)return z;if(X=He(),z.proxy=X,X.src=g,X.listener=z,g.addEventListener)j||(fe=Me),fe===void 0&&(fe=!1),g.addEventListener(A.toString(),X,fe);else if(g.attachEvent)g.attachEvent(Ge(A.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return z}function He(){function g(z){return A.call(g.src,g.listener,z)}const A=Be;return g}function je(g,A,z,X,fe){if(Array.isArray(A))for(var be=0;be<A.length;be++)je(g,A[be],z,X,fe);else X=c(X)?!!X.capture:!!X,z=Ht(z),g&&g[ne]?(g=g.i,be=String(A).toString(),be in g.g&&(A=g.g[be],z=le(A,z,X,fe),z>-1&&(re(A[z]),Array.prototype.splice.call(A,z,1),A.length==0&&(delete g.g[be],g.h--)))):g&&(g=it(g))&&(A=g.g[A.toString()],g=-1,A&&(g=le(A,z,X,fe)),(z=g>-1?A[g]:null)&&Pe(z))}function Pe(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[ne])ie(A.i,g);else{var z=g.type,X=g.proxy;A.removeEventListener?A.removeEventListener(z,X,g.capture):A.detachEvent?A.detachEvent(Ge(z),X):A.addListener&&A.removeListener&&A.removeListener(X),(z=it(A))?(ie(z,g),z.h==0&&(z.src=null,A[he]=null)):re(g)}}}function Ge(g){return g in _e?_e[g]:_e[g]="on"+g}function Be(g,A){if(g.da)g=!0;else{A=new K(A,this);const z=g.listener,X=g.ha||g.src;g.fa&&Pe(g),g=z.call(X,A)}return g}function it(g){return g=g[he],g instanceof Q?g:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ht(g){return typeof g=="function"?g:(g[$e]||(g[$e]=function(A){return g.handleEvent(A)}),g[$e])}function st(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}p(st,H),st.prototype[ne]=!0,st.prototype.removeEventListener=function(g,A,z,X){je(this,g,A,z,X)};function Nt(g,A){var z,X=g.G;if(X)for(z=[];X;X=X.G)z.push(X);if(g=g.M,X=A.type||A,typeof A=="string")A=new V(A,g);else if(A instanceof V)A.target=A.target||g;else{var fe=A;A=new V(X,g),me(A,fe)}fe=!0;let be,Me;if(z)for(Me=z.length-1;Me>=0;Me--)be=A.g=z[Me],fe=Vn(be,X,!0,A)&&fe;if(be=A.g=g,fe=Vn(be,X,!0,A)&&fe,fe=Vn(be,X,!1,A)&&fe,z)for(Me=0;Me<z.length;Me++)be=A.g=z[Me],fe=Vn(be,X,!1,A)&&fe}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const z=g.g[A];for(let X=0;X<z.length;X++)re(z[X]);delete g.g[A],g.h--}}this.G=null},st.prototype.J=function(g,A,z,X){return this.i.add(String(g),A,!1,z,X)},st.prototype.K=function(g,A,z,X){return this.i.add(String(g),A,!0,z,X)};function Vn(g,A,z,X){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let fe=!0;for(let be=0;be<A.length;++be){const Me=A[be];if(Me&&!Me.da&&Me.capture==z){const ot=Me.listener,yn=Me.ha||Me.src;Me.fa&&ie(g.i,Me),fe=ot.call(yn,X)!==!1&&fe}}return fe&&!X.defaultPrevented}function Bn(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(g,A||0)}function $t(g){g.g=Bn(()=>{g.g=null,g.i&&(g.i=!1,$t(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Qt extends H{constructor(A,z){super(),this.m=A,this.l=z,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(g){H.call(this),this.h=g,this.g={}}p(Gn,H);var gr=[];function vr(g){ce(g.g,function(A,z){this.g.hasOwnProperty(z)&&Pe(A)},g),g.g={}}Gn.prototype.N=function(){Gn.Z.N.call(this),vr(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=l.JSON.stringify,_s=l.JSON.parse,Ei=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function bs(){}function Ea(){}var cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){V.call(this,"d")}p(Bt,V);function yr(){V.call(this,"c")}p(yr,V);var rn={},ql=null;function ws(){return ql=ql||new st}rn.Ia="serverreachability";function Pl(g){V.call(this,rn.Ia,g)}p(Pl,V);function Jr(g){const A=ws();Nt(A,new Pl(A))}rn.STAT_EVENT="statevent";function Ta(g,A){V.call(this,rn.STAT_EVENT,g),this.stat=A}p(Ta,V);function hn(g){const A=ws();Nt(A,new Ta(A,g))}rn.Ja="timingevent";function ei(g,A){V.call(this,rn.Ja,g),this.size=A}p(ei,V);function ti(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function kr(){this.g=!0}kr.prototype.ua=function(){this.g=!1};function Tc(g,A,z,X,fe,be){g.info(function(){if(g.g)if(be){var Me="",ot=be.split("&");for(let Rt=0;Rt<ot.length;Rt++){var yn=ot[Rt].split("=");if(yn.length>1){const Zt=yn[0];yn=yn[1];const ci=Zt.split("_");Me=ci.length>=2&&ci[1]=="type"?Me+(Zt+"="+yn+"&"):Me+(Zt+"=redacted&")}}}else Me=null;else Me=be;return"XMLHTTP REQ ("+X+") [attempt "+fe+"]: "+A+`
`+z+`
`+Me})}function Bl(g,A,z,X,fe,be,Me){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+fe+"]: "+A+`
`+z+`
`+be+" "+Me})}function ni(g,A,z,X){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+Ac(g,z)+(X?" "+X:"")})}function Aa(g,A){g.info(function(){return"TIMEOUT: "+A})}kr.prototype.info=function(){};function Ac(g,A){if(!g.g)return A;if(!A)return null;try{const be=JSON.parse(A);if(be){for(g=0;g<be.length;g++)if(Array.isArray(be[g])){var z=be[g];if(!(z.length<2)){var X=z[1];if(Array.isArray(X)&&!(X.length<1)){var fe=X[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(let Me=1;Me<X.length;Me++)X[Me]=""}}}}return Un(be)}catch{return A}}var Ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Ra(){}p(Ra,bs),Ra.prototype.g=function(){return new XMLHttpRequest},Oo=new Ra;function Ti(g){return encodeURIComponent(String(g))}function Ul(g){var A=1;g=g.split(":");const z=[];for(;A>0&&g.length;)z.push(g.shift()),A--;return g.length&&z.push(g.join(":")),z}function Dr(g,A,z,X){this.j=g,this.i=A,this.l=z,this.S=X||1,this.V=new Gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Or}function Or(){this.i=null,this.g="",this.h=!1}var fn={},Sn={};function zr(g,A,z){g.M=1,g.A=Na(mn(A)),g.u=z,g.R=!0,Ia(g,null)}function Ia(g,A){g.F=Date.now(),ri(g),g.B=mn(g.A);var z=g.B,X=g.S;Array.isArray(X)||(X=[String(X)]),Yl(z.i,"t",X),g.C=0,z=g.j.L,g.h=new Or,g.g=Kh(g.j,z?A:null,!g.u),g.P>0&&(g.O=new Qt(f(g.Y,g,g.g),g.P)),A=g.V,z=g.g,X=g.ba;var fe="readystatechange";Array.isArray(fe)||(fe&&(gr[0]=fe.toString()),fe=gr);for(let be=0;be<fe.length;be++){const Me=Ce(z,fe[be],X||A.handleEvent,!1,A.h||A);if(!Me)break;A.g[Me.key]=Me}A=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),Jr(),Tc(g.i,g.v,g.B,g.l,g.S,g.u)}Dr.prototype.ba=function(g){g=g.target;const A=this.O;A&&Ii(g)==3?A.j():this.Y(g)},Dr.prototype.Y=function(g){try{if(g==this.g)e:{const ot=Ii(this.g),yn=this.g.ya(),Rt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||ot!=4||yn==7||(yn==8||Rt<=0?Jr(3):Jr(2)),ii(this);var A=this.g.ca();this.X=A;var z=jl(this);if(this.o=A==200,Bl(this.i,this.v,this.B,this.l,this.S,ot,A),this.o){if(this.U&&!this.L){t:{if(this.g){var X,fe=this.g;if((X=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(X)){var be=X;break t}}be=null}if(g=be)ni(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,g);else{this.o=!1,this.m=3,hn(12),nr(this),_r(this);break e}}if(this.R){g=!0;let Zt;for(;!this.K&&this.C<z.length;)if(Zt=Fl(this,z),Zt==Sn){ot==4&&(this.m=4,hn(14),g=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==fn){this.m=4,hn(15),ni(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else ni(this.i,this.l,Zt,null),ai(this,Zt);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||z.length!=0||this.h.h||(this.m=1,hn(16),g=!1),this.o=this.o&&g,!g)ni(this.i,this.l,z,"[Invalid Chunked Response]"),nr(this),_r(this);else if(z.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Oc(Me),Me.P=!0,hn(11))}}else ni(this.i,this.l,z,null),ai(this,z);ot==4&&nr(this),this.o&&!this.K&&(ot==4?Gh(this.j,this):(this.o=!1,ri(this)))}else Da(this.g),A==400&&z.indexOf("Unknown SID")>0?(this.m=3,hn(12)):(this.m=0,hn(13)),nr(this),_r(this)}}}catch{}};function jl(g){if(!Hl(g))return g.g.la();const A=$n(g.g);if(A==="")return"";let z="";const X=A.length,fe=Ii(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return nr(g),_r(g),"";g.h.i=new l.TextDecoder}for(let be=0;be<X;be++)g.h.h=!0,z+=g.h.i.decode(A[be],{stream:!(fe&&be==X-1)});return A.length=0,g.h.g+=z,g.C=0,g.h.g}function Hl(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Fl(g,A){var z=g.C,X=A.indexOf(`
`,z);return X==-1?Sn:(z=Number(A.substring(z,X)),isNaN(z)?fn:(X+=1,X+z>A.length?Sn:(A=A.slice(X,X+z),g.C=X+z,A)))}Dr.prototype.cancel=function(){this.K=!0,nr(this)};function ri(g){g.T=Date.now()+g.H,xs(g,g.H)}function xs(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ti(f(g.aa,g),A)}function ii(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Dr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Aa(this.i,this.B),this.M!=2&&(Jr(),hn(17)),nr(this),this.m=2,_r(this)):xs(this,this.T-g)};function _r(g){g.j.I==0||g.K||Gh(g.j,g)}function nr(g){ii(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,vr(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function ai(g,A){try{var z=g.j;if(z.I!=0&&(z.g==g||oi(z.h,g))){if(!g.L&&oi(z.h,g)&&z.I==3){try{var X=z.Ba.g.parse(A)}catch{X=null}if(Array.isArray(X)&&X.length==3){var fe=X;if(fe[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<g.F)Wl(z),Ns(z);else break e;$o(z),hn(18)}}else z.xa=fe[1],0<z.xa-z.K&&fe[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=ti(f(z.Va,z),6e3));si(z.h)<=1&&z.ta&&(z.ta=void 0)}else Ji(z,11)}else if((g.L||z.g==g)&&Wl(z),!U(A))for(fe=z.Ba.g.parse(A),A=0;A<fe.length;A++){let Rt=fe[A];const Zt=Rt[0];if(!(Zt<=z.K))if(z.K=Zt,Rt=Rt[1],z.I==2)if(Rt[0]=="c"){z.M=Rt[1],z.ba=Rt[2];const ci=Rt[3];ci!=null&&(z.ka=ci,z.j.info("VER="+z.ka));const ea=Rt[4];ea!=null&&(z.za=ea,z.j.info("SVER="+z.za));const Ni=Rt[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(X=1.5*Ni,z.O=X,z.j.info("backChannelRequestTimeoutMs_="+X)),X=z;const Mi=g.g;if(Mi){const Yo=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var be=X.h;be.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Lo(be,be.h),be.h=null))}if(X.G){const Jl=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(X.wa=Jl,Et(X.J,X.G,Jl))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-g.F,z.j.info("Handshake RTT: "+z.T+"ms")),X=z;var Me=g;if(X.na=Xh(X,X.L?X.ba:null,X.W),Me.L){Ss(X.h,Me);var ot=Me,yn=X.O;yn&&(ot.H=yn),ot.D&&(ii(ot),ri(ot)),X.g=Me}else Hh(X);z.i.length>0&&Wi(z)}else Rt[0]!="stop"&&Rt[0]!="close"||Ji(z,7);else z.I==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Ji(z,7):kc(z):Rt[0]!="noop"&&z.l&&z.l.qa(Rt),z.A=0)}}Jr(4)}catch{}}var dn=class{constructor(g,A){this.g=g,this.map=A}};function zo(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function si(g){return g.h?1:g.g?g.g.size:0}function oi(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function Lo(g,A){g.g?g.g.add(A):g.h=A}function Ss(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}zo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function qo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const z of g.g.values())A=A.concat(z.G);return A}return b(g.i)}var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Es(g,A){if(g){g=g.split("&");for(let z=0;z<g.length;z++){const X=g[z].indexOf("=");let fe,be=null;X>=0?(fe=g[z].substring(0,X),be=g[z].substring(X+1)):fe=g[z],A(fe,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function ur(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof ur?(this.l=g.l,En(this,g.j),this.o=g.o,this.g=g.g,Yi(this,g.u),this.h=g.h,Po(this,Uh(g.i)),this.m=g.m):g&&(A=String(g).match(Gl))?(this.l=!1,En(this,A[1]||"",!0),this.o=Vr(A[2]||""),this.g=Vr(A[3]||"",!0),Yi(this,A[4]),this.h=Vr(A[5]||"",!0),Po(this,A[6]||"",!0),this.m=Vr(A[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}ur.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(Ma(A,Xi,!0),":");var z=this.g;return(z||A=="file")&&(g.push("//"),(A=this.o)&&g.push(Ma(A,Xi,!0),"@"),g.push(Ti(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&g.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&g.push("/"),g.push(Ma(z,z.charAt(0)=="/"?Bo:$l,!0))),(z=this.i.toString())&&g.push("?",z),(z=this.m)&&g.push("#",Ma(z,Ph)),g.join("")},ur.prototype.resolve=function(g){const A=mn(this);let z=!!g.j;z?En(A,g.j):z=!!g.o,z?A.o=g.o:z=!!g.g,z?A.g=g.g:z=g.u!=null;var X=g.h;if(z)Yi(A,g.u);else if(z=!!g.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var fe=A.h.lastIndexOf("/");fe!=-1&&(X=A.h.slice(0,fe+1)+X)}if(fe=X,fe==".."||fe==".")X="";else if(fe.indexOf("./")!=-1||fe.indexOf("/.")!=-1){X=fe.lastIndexOf("/",0)==0,fe=fe.split("/");const be=[];for(let Me=0;Me<fe.length;){const ot=fe[Me++];ot=="."?X&&Me==fe.length&&be.push(""):ot==".."?((be.length>1||be.length==1&&be[0]!="")&&be.pop(),X&&Me==fe.length&&be.push("")):(be.push(ot),X=!0)}X=be.join("/")}else X=fe}return z?A.h=X:z=g.i.toString()!=="",z?Po(A,Uh(g.i)):z=!!g.m,z&&(A.m=g.m),A};function mn(g){return new ur(g)}function En(g,A,z){g.j=z?Vr(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Yi(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function Po(g,A,z){A instanceof Ts?(g.i=A,Xl(g.i,g.l)):(z||(A=Ma(A,Ai)),g.i=new Ts(A,g.l))}function Et(g,A,z){g.i.set(A,z)}function Na(g){return Et(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Vr(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ma(g,A,z){return typeof g=="string"?(g=encodeURI(g).replace(A,rr),z&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function rr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Xi=/[#\/\?@]/g,$l=/[#\?:]/g,Bo=/[#\?]/g,Ai=/[#\?@]/g,Ph=/#/g;function Ts(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function br(g){g.g||(g.g=new Map,g.h=0,g.i&&Es(g.i,function(A,z){g.add(decodeURIComponent(A.replace(/\+/g," ")),z)}))}t=Ts.prototype,t.add=function(g,A){br(this),this.i=null,g=As(this,g);let z=this.g.get(g);return z||this.g.set(g,z=[]),z.push(A),this.h+=1,this};function Bh(g,A){br(g),A=As(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function Cc(g,A){return br(g),A=As(g,A),g.g.has(A)}t.forEach=function(g,A){br(this),this.g.forEach(function(z,X){z.forEach(function(fe){g.call(A,fe,X,this)},this)},this)};function Rc(g,A){br(g);let z=[];if(typeof A=="string")Cc(g,A)&&(z=z.concat(g.g.get(As(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)z=z.concat(g[A]);return z}t.set=function(g,A){return br(this),this.i=null,g=As(this,g),Cc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=Rc(this,g),g.length>0?String(g[0]):A):A};function Yl(g,A,z){Bh(g,A),z.length>0&&(g.i=null,g.g.set(As(g,A),b(z)),g.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let X=0;X<A.length;X++){var z=A[X];const fe=Ti(z);z=Rc(this,z);for(let be=0;be<z.length;be++){let Me=fe;z[be]!==""&&(Me+="="+Ti(z[be])),g.push(Me)}}return this.i=g.join("&")};function Uh(g){const A=new Ts;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function As(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Xl(g,A){A&&!g.j&&(br(g),g.i=null,g.g.forEach(function(z,X){const fe=X.toLowerCase();X!=fe&&(Bh(this,X),Yl(this,fe,z))},g)),g.j=A}function Ci(g,A){const z=new kr;if(l.Image){const X=new Image;X.onload=m(li,z,"TestLoadImage: loaded",!0,A,X),X.onerror=m(li,z,"TestLoadImage: error",!1,A,X),X.onabort=m(li,z,"TestLoadImage: abort",!1,A,X),X.ontimeout=m(li,z,"TestLoadImage: timeout",!1,A,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else A(!1)}function Ic(g,A){const z=new kr,X=new AbortController,fe=setTimeout(()=>{X.abort(),li(z,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:X.signal}).then(be=>{clearTimeout(fe),be.ok?li(z,"TestPingServer: ok",!0,A):li(z,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(fe),li(z,"TestPingServer: error",!1,A)})}function li(g,A,z,X,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),X(z)}catch{}}function Cs(){this.g=new Ei}function Ki(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Ki,bs),Ki.prototype.g=function(){return new Uo(this.i,this.h)};function Uo(g,A){st.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Uo,st),t=Uo.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,Ri(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?Rs(this):Ri(this),this.readyState==3&&Kl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Rs(this))},t.Na=function(g){this.g&&(this.response=g,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ri(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var z=A.next();!z.done;)z=z.value,g.push(z[0]+": "+z[1]),z=A.next();return g.join(`\r
`)};function Ri(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ui(g){let A="";return ce(g,function(z,X){A+=X,A+=":",A+=z,A+=`\r
`}),A}function jo(g,A,z){e:{for(X in z){var X=!1;break e}X=!0}X||(z=ui(z),typeof g=="string"?z!=null&&Ti(z):Et(g,A,z))}function Ot(g){st.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,st);var Qi=/^https?$/i,Nc=["POST","PUT"];t=Ot.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,z,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(be){Ho(this,be);return}if(g=z||"",z=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var fe in X)z.set(fe,X[fe]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const be of X.keys())z.set(be,X.get(be));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(z.keys()).find(be=>be.toLowerCase()=="content-type"),fe=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Nc,A,void 0)>=0)||X||fe||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Me]of z)this.g.setRequestHeader(be,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(be){Ho(this,be)}};function Ho(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,Mc(g),ka(g)}function Mc(g){g.A||(g.A=!0,Nt(g,"complete"),Nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Nt(this,"complete"),Nt(this,"abort"),ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fo(this):this.Xa())},t.Xa=function(){Fo(this)};function Fo(g){if(g.h&&typeof s<"u"){if(g.v&&Ii(g)==4)setTimeout(g.Ca.bind(g),0);else if(Nt(g,"readystatechange"),Ii(g)==4){g.h=!1;try{const be=g.ca();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var z;if(!(z=A)){var X;if(X=be===0){let Me=String(g.D).match(Gl)[1]||null;!Me&&l.self&&l.self.location&&(Me=l.self.location.protocol.slice(0,-1)),X=!Qi.test(Me?Me.toLowerCase():"")}z=X}if(z)Nt(g,"complete"),Nt(g,"success");else{g.o=6;try{var fe=Ii(g)>2?g.g.statusText:""}catch{fe=""}g.l=fe+" ["+g.ca()+"]",Mc(g)}}finally{ka(g)}}}}function ka(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const z=g.g;g.g=null,A||Nt(g,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ii(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),_s(A)}};function $n(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(g){const A={};g=(g.g&&Ii(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(U(g[X]))continue;var z=Ul(g[X]);const fe=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const be=A[fe]||[];A[fe]=be,be.push(z)}de(A,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(g,A,z){return z&&z.internalChannelParams&&z.internalChannelParams[g]||A}function Is(g){this.za=0,this.i=[],this.j=new kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,g),this.Za=Zi("retryDelaySeedMs",1e4,g),this.Ta=Zi("forwardChannelMaxRetries",2,g),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(g&&g.concurrentRequestLimit),this.Ba=new Cs,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Is.prototype,t.ka=8,t.I=1,t.connect=function(g,A,z,X){hn(0),this.W=g,this.H=A||{},z&&X!==void 0&&(this.H.OSID=z,this.H.OAID=X),this.F=this.X,this.J=Xh(this,null,this.W),Wi(this)};function kc(g){if(Ql(g),g.I==3){var A=g.V++,z=mn(g.J);if(Et(z,"SID",g.M),Et(z,"RID",A),Et(z,"TYPE","terminate"),Go(g,z),A=new Dr(g,g.j,A),A.M=2,A.A=Na(mn(z)),z=!1,l.navigator&&l.navigator.sendBeacon)try{z=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!z&&l.Image&&(new Image().src=A.A,z=!0),z||(A.g=Kh(A.j,null),A.g.ea(A.A)),A.F=Date.now(),ri(A)}Yh(g)}function Ns(g){g.g&&(Oc(g),g.g.cancel(),g.g=null)}function Ql(g){Ns(g),g.v&&(l.clearTimeout(g.v),g.v=null),Wl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Wi(g){if(!Vo(g.h)&&!g.m){g.m=!0;var A=g.Ea;B||k(),q||(B(),q=!0),R.add(A,g),g.D=0}}function Zl(g,A){return si(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ti(f(g.Ea,g,A),$h(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const fe=new Dr(this,this.j,g);let be=this.o;if(this.U&&(be?(be=Y(be),me(be,this.U)):be=this.U),this.u!==null||this.R||(fe.J=be,be=null),this.S)e:{for(var A=0,z=0;z<this.i.length;z++){t:{var X=this.i[z];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(A+=X,A>4096){A=z;break e}if(A===4096||z===this.i.length-1){A=z+1;break e}}A=1e3}else A=1e3;A=jh(this,fe,A),z=mn(this.J),Et(z,"RID",g),Et(z,"CVER",22),this.G&&Et(z,"X-HTTP-Session-Id",this.G),Go(this,z),be&&(this.R?A="headers="+Ti(ui(be))+"&"+A:this.u&&jo(z,this.u,be)),Lo(this.h,fe),this.Ra&&Et(z,"TYPE","init"),this.S?(Et(z,"$req",A),Et(z,"SID","null"),fe.U=!0,zr(fe,z,null)):zr(fe,z,A),this.I=2}}else this.I==3&&(g?Dc(this,g):this.i.length==0||Vo(this.h)||Dc(this))};function Dc(g,A){var z;A?z=A.l:z=g.V++;const X=mn(g.J);Et(X,"SID",g.M),Et(X,"RID",z),Et(X,"AID",g.K),Go(g,X),g.u&&g.o&&jo(X,g.u,g.o),z=new Dr(g,g.j,z,g.D+1),g.u===null&&(z.J=g.o),A&&(g.i=A.G.concat(g.i)),A=jh(g,z,1e3),z.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Lo(g.h,z),zr(z,X,A)}function Go(g,A){g.H&&ce(g.H,function(z,X){Et(A,X,z)}),g.l&&ce({},function(z,X){Et(A,X,z)})}function jh(g,A,z){z=Math.min(g.i.length,z);const X=g.l?f(g.l.Ka,g.l,g):null;e:{var fe=g.i;let ot=-1;for(;;){const yn=["count="+z];ot==-1?z>0?(ot=fe[0].g,yn.push("ofs="+ot)):ot=0:yn.push("ofs="+ot);let Rt=!0;for(let Zt=0;Zt<z;Zt++){var be=fe[Zt].g;const ci=fe[Zt].map;if(be-=ot,be<0)ot=Math.max(0,fe[Zt].g-100),Rt=!1;else try{be="req"+be+"_"||"";try{var Me=ci instanceof Map?ci:Object.entries(ci);for(const[ea,Ni]of Me){let Mi=Ni;c(Ni)&&(Mi=Un(Ni)),yn.push(be+ea+"="+encodeURIComponent(Mi))}}catch(ea){throw yn.push(be+"type="+encodeURIComponent("_badmap")),ea}}catch{X&&X(ci)}}if(Rt){Me=yn.join("&");break e}}Me=void 0}return g=g.i.splice(0,z),A.G=g,Me}function Hh(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;B||k(),q||(B(),q=!0),R.add(A,g),g.A=0}}function $o(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ti(f(g.Da,g),$h(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ti(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,hn(10),Ns(this),Fh(this))};function Oc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Fh(g){g.g=new Dr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=mn(g.na);Et(A,"RID","rpc"),Et(A,"SID",g.M),Et(A,"AID",g.K),Et(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&Et(A,"TO",g.ia),Et(A,"TYPE","xmlhttp"),Go(g,A),g.u&&g.o&&jo(A,g.u,g.o),g.O&&(g.g.H=g.O);var z=g.g;g=g.ba,z.M=1,z.A=Na(mn(A)),z.u=null,z.R=!0,Ia(z,g)}t.Va=function(){this.C!=null&&(this.C=null,Ns(this),$o(this),hn(19))};function Wl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Gh(g,A){var z=null;if(g.g==A){Wl(g),Oc(g),g.g=null;var X=2}else if(oi(g.h,A))z=A.G,Ss(g.h,A),X=1;else return;if(g.I!=0){if(A.o)if(X==1){z=A.u?A.u.length:0,A=Date.now()-A.F;var fe=g.D;X=ws(),Nt(X,new ei(X,z)),Wi(g)}else Hh(g);else if(fe=A.m,fe==3||fe==0&&A.X>0||!(X==1&&Zl(g,A)||X==2&&$o(g)))switch(z&&z.length>0&&(A=g.h,A.i=A.i.concat(z)),fe){case 1:Ji(g,5);break;case 4:Ji(g,10);break;case 3:Ji(g,6);break;default:Ji(g,2)}}}function $h(g,A){let z=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(z*=2),z*A}function Ji(g,A){if(g.j.info("Error code "+A),A==2){var z=f(g.bb,g),X=g.Ua;const fe=!X;X=new ur(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||En(X,"https"),Na(X),fe?Ci(X.toString(),z):Ic(X.toString(),z)}else hn(2);g.I=0,g.l&&g.l.pa(A),Yh(g),Ql(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Yh(g){if(g.I=0,g.ja=[],g.l){const A=qo(g.h);(A.length!=0||g.i.length!=0)&&(x(g.ja,A),x(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Xh(g,A,z){var X=z instanceof ur?mn(z):new ur(z);if(X.g!="")A&&(X.g=A+"."+X.g),Yi(X,X.u);else{var fe=l.location;X=fe.protocol,A=A?A+"."+fe.hostname:fe.hostname,fe=+fe.port;const be=new ur(null);X&&En(be,X),A&&(be.g=A),fe&&Yi(be,fe),z&&(be.h=z),X=be}return z=g.G,A=g.wa,z&&A&&Et(X,z,A),Et(X,"VER",g.ka),Go(g,X),X}function Kh(g,A,z){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new Ot(new Ki({ab:z})):new Ot(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qh(){}t=Qh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ms(){}Ms.prototype.g=function(g,A){return new cr(g,A)};function cr(g,A){st.call(this),this.g=new Is(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!U(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Oa(this)}p(cr,st),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){kc(this.g)},cr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var z={};z.__data__=g,g=z}else this.v&&(z={},z.__data__=Un(g),g=z);A.i.push(new dn(A.Ya++,g)),A.I==3&&Wi(A)},cr.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,cr.Z.N.call(this)};function Zh(g){Bt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const z in A){g=z;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}p(Zh,Bt);function Wh(){yr.call(this),this.status=1}p(Wh,yr);function Oa(g){this.g=g}p(Oa,Qh),Oa.prototype.ra=function(){Nt(this.g,"a")},Oa.prototype.qa=function(g){Nt(this.g,new Zh(g))},Oa.prototype.pa=function(g){Nt(this.g,new Wh)},Oa.prototype.oa=function(){Nt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,ZM=function(){return new Ms},QM=function(){return ws()},KM=rn,s6={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,Dd=Ca,Do.COMPLETE="complete",XM=Do,Ea.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",st.prototype.listen=st.prototype.J,S0=Ea,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,YM=Ot}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const Ax="@firebase/firestore",Cx="4.9.3";class sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let hc="12.7.0";const Rl=new e_("@firebase/firestore");function Mu(){return Rl.logLevel}function qe(t,...e){if(Rl.logLevel<=pt.DEBUG){const n=e.map(r_);Rl.debug(`Firestore (${hc}): ${t}`,...n)}}function os(t,...e){if(Rl.logLevel<=pt.ERROR){const n=e.map(r_);Rl.error(`Firestore (${hc}): ${t}`,...n)}}function tc(t,...e){if(Rl.logLevel<=pt.WARN){const n=e.map(r_);Rl.warn(`Firestore (${hc}): ${t}`,...n)}}function r_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WM(t,r,n)}function WM(t,e,n){let r=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw os(r),new Error(r)}function bt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WM(e,i,r)}function nt(t,e){return t}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sr.UNAUTHENTICATED)))}shutdown(){}}class q${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class P${constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ha,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ha)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new JM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new sr(e)}}class B${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new B$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class i_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=H$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function gt(t,e){return t<e?-1:t>e?1:0}function o6(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Jg(i)===Jg(s)?gt(i,s):Jg(i)?1:-1}return gt(t.length,e.length)}const F$=55296,G$=57343;function Jg(t){const e=t.charCodeAt(0);return e>=F$&&e<=G$}function nc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const Ix="__name__";class aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof aa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=aa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return gt(e.length,n.length)}static compareSegments(e,n){const r=aa.isNumericId(e),i=aa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?aa.extractNumericId(e).compare(aa.extractNumericId(n)):o6(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vo.fromString(e.substring(4,e.length-2))}}class Pt extends aa{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const $$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends aa{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return $$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ix}static keyField(){return new Jn([Ix])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new De(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new De(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Pt.fromString(e))}static fromName(e){return new Xe(Pt.fromString(e).popFirst(5))}static empty(){return new Xe(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Pt(e.slice()))}}function ek(t,e,n){if(!n)throw new De(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y$(t,e,n,r){if(e===!0&&r===!0)throw new De(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nx(t){if(!Xe.isDocumentKey(t))throw new De(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mx(t){if(Xe.isDocumentKey(t))throw new De(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fm(t);throw new De(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function yh(t,e){if(!tk(t))throw new De(Ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new De(Ee.INVALID_ARGUMENT,n);return!0}const kx=-62135596800,Dx=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Dx);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kx)throw new De(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dx}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yh(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:Mn("string",Kt._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Kt(0,0))}static max(){return new et(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const J0=-1;function X$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new bo(i,Xe.empty(),e)}function K$(t){return new bo(t.readTime,t.key,J0)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(et.min(),Xe.empty(),J0)}static max(){return new bo(et.max(),Xe.empty(),J0)}}function Q$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}const Z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fc(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==Z$)throw t;qe("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(h=>r(h)))})),l=!0,s===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function J$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}class Gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gm.ce=-1;const a_=-1;function _h(t){return t==null}function am(t){return t===0&&1/t==-1/0}function eY(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const nk="";function tY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ox(e)),e=nY(t.get(n),e);return Ox(e)}function nY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case nk:n+="";break;default:n+=s}}return n}function Ox(t){return t+nk+""}function zx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rY(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class un{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new md(this.root,e,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new md(this.root,e,this.comparator,!0)}}class md{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vx(this.data.getIterator())}getIteratorFrom(e){return new Vx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class Vx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yr{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new qn(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ik extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ik("Invalid base64 string: "+s):s}})(e);return new tr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const iY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=iY.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}const ak="server_timestamp",sk="__type__",ok="__previous_value__",lk="__local_write_time__";function s_(t){return(t?.mapValue?.fields||{})[sk]?.stringValue===ak}function $m(t){const e=t.mapValue.fields[ok];return s_(e)?$m(e):e}function eh(t){const e=wo(t.mapValue.fields[lk].timestampValue);return new Kt(e.seconds,e.nanos)}class aY{constructor(e,n,r,i,s,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const sm="(default)";class th{constructor(e,n){this.projectId=e,this.database=n||sm}static empty(){return new th("","")}get isDefaultDatabase(){return this.database===sm}isEqual(e){return e instanceof th&&e.projectId===this.projectId&&e.database===this.database}}const uk="__type__",sY="__max__",pd={mapValue:{}},ck="__vector__",om="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s_(t)?4:lY(t)?9007199254740991:oY(t)?10:11:Qe(28295,{value:t})}function va(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=wo(i.timestampValue),c=wo(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return xo(i.bytesValue).isEqual(xo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=wn(i.doubleValue),c=wn(s.doubleValue);return l===c?am(l)===am(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return nc(t.arrayValue.values||[],e.arrayValue.values||[],va);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(zx(l)!==zx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!va(l[h],c[h])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function nh(t,e){return(t.values||[]).find((n=>va(n,e)))!==void 0}function rc(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=wn(s.integerValue||s.doubleValue),h=wn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return Lx(t.timestampValue,e.timestampValue);case 4:return Lx(eh(t),eh(e));case 5:return o6(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=xo(s),h=xo(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=gt(c[f],h[f]);if(m!==0)return m}return gt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=gt(wn(s.latitude),wn(l.latitude));return c!==0?c:gt(wn(s.longitude),wn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qx(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},h=l.fields||{},f=c[om]?.arrayValue,m=h[om]?.arrayValue,p=gt(f?.values?.length||0,m?.values?.length||0);return p!==0?p:qx(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===pd.mapValue&&l===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(l===pd.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const v=o6(h[p],m[p]);if(v!==0)return v;const b=rc(c[h[p]],f[m[p]]);if(b!==0)return b}return gt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function Lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=wo(t),r=wo(e),i=gt(n.seconds,r.seconds);return i!==0?i:gt(n.nanos,r.nanos)}function qx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=rc(n[i],r[i]);if(s)return s}return gt(n.length,r.length)}function ic(t){return l6(t)}function l6(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=l6(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${l6(n.fields[l])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Od(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$m(t);return e?16+Od(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Od(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Io(r.fields,((s,l)=>{i+=s.length+Od(l)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function Px(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u6(t){return!!t&&"integerValue"in t}function o_(t){return!!t&&"arrayValue"in t}function Bx(t){return!!t&&"nullValue"in t}function Ux(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function oY(t){return(t?.mapValue?.fields||{})[uk]?.stringValue===ck}function O0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=O0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=O0(t.arrayValue.values[n]);return e}return{...t}}function lY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sY}class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=O0(n)}setAll(e){let n=Jn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=O0(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new dr(O0(this.value))}}function hk(t){const e=[];return Io(t.fields,((n,r)=>{const i=new Jn([n]);if(zd(r)){const s=hk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Yr(e)}class Fn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Fn(e,0,et.min(),et.min(),et.min(),dr.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,et.min(),et.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,et.min(),et.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lm{constructor(e,n){this.position=e,this.inclusive=n}}function jx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=rc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!va(t.position[n],e.position[n]))return!1;return!0}class um{constructor(e,n="asc"){this.field=e,this.dir=n}}function uY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fk{}class Nn extends fk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hY(e,n,r):n==="array-contains"?new mY(e,r):n==="in"?new pY(e,r):n==="not-in"?new gY(e,r):n==="array-contains-any"?new vY(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fY(e,r):new dY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rc(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends fk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hi(e,n)}matches(e){return dk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dk(t){return t.op==="and"}function mk(t){return cY(t)&&dk(t)}function cY(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function c6(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(mk(t))return t.filters.map((e=>c6(e))).join(",");{const e=t.filters.map((n=>c6(n))).join(",");return`${t.op}(${e})`}}function pk(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&va(r.value,i.value)})(t,e):t instanceof Hi?(function(r,i){return i instanceof Hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&pk(l,i.filters[c])),!0):!1})(t,e):void Qe(19439)}function gk(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`})(t):t instanceof Hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(gk).join(" ,")+"}"})(t):"Filter"}class hY extends Nn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fY extends Nn{constructor(e,n){super(e,"in",n),this.keys=vk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dY extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=vk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vk(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class mY extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o_(n)&&nh(n.arrayValue,this.value)}}class pY extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nh(this.value.arrayValue,n)}}class gY extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nh(this.value.arrayValue,n)}}class vY extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nh(this.value.arrayValue,r)))}}class yY{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function Fx(t,e=null,n=[],r=[],i=null,s=null,l=null){return new yY(t,e,n,r,i,s,l)}function l_(t){const e=nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>c6(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ic(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ic(r))).join(",")),e.Te=n}return e.Te}function u_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hx(t.startAt,e.startAt)&&Hx(t.endAt,e.endAt)}function h6(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class bh{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _Y(t,e,n,r,i,s,l,c){return new bh(t,e,n,r,i,s,l,c)}function Ym(t){return new bh(t)}function Gx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yk(t){return t.collectionGroup!==null}function z0(t){const e=nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new qn(Jn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new um(s,r))})),n.has(Jn.keyField().canonicalString())||e.Ie.push(new um(Jn.keyField(),r))}return e.Ie}function fa(t){const e=nt(t);return e.Ee||(e.Ee=_k(e,z0(t))),e.Ee}function bY(t){const e=nt(t);return e.de||(e.de=_k(e,t.explicitOrderBy)),e.de}function _k(t,e){if(t.limitType==="F")return Fx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new um(i.field,s)}));const n=t.endAt?new lm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lm(t.startAt.position,t.startAt.inclusive):null;return Fx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f6(t,e){const n=t.filters.concat([e]);return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d6(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xm(t,e){return u_(fa(t),fa(e))&&t.limitType===e.limitType}function bk(t){return`${l_(fa(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>gk(i))).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ic(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ic(i))).join(",")),`Target(${r})`})(fa(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of z0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=jx(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,z0(r),i)||r.endAt&&!(function(l,c,h){const f=jx(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,z0(r),i))})(t,e)}function wY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wk(t){return(e,n)=>{let r=!1;for(const i of z0(t)){const s=xY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xY(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(s,l,c){const h=l.data.field(s),f=c.data.field(s);return h!==null&&f!==null?rc(h,f):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return rk(this.inner)}size(){return this.innerSize}}const SY=new un(Xe.comparator);function ls(){return SY}const xk=new un(Xe.comparator);function E0(...t){let e=xk;for(const n of t)e=e.insert(n.key,n);return e}function Sk(t){let e=xk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function gl(){return V0()}function Ek(){return V0()}function V0(){return new Ml((t=>t.toString()),((t,e)=>t.isEqual(e)))}const EY=new un(Xe.comparator),TY=new qn(Xe.comparator);function vt(...t){let e=TY;for(const n of t)e=e.add(n);return e}const AY=new qn(gt);function CY(){return AY}function c_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function Tk(t){return{integerValue:""+t}}function RY(t,e){return eY(e)?Tk(e):c_(t,e)}class Qm{constructor(){this._=void 0}}function IY(t,e,n){return t instanceof rh?(function(i,s){const l={fields:{[sk]:{stringValue:ak},[lk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&s_(s)&&(s=$m(s)),s&&(l.fields[ok]=s),{mapValue:l}})(n,e):t instanceof ih?Ck(t,e):t instanceof ah?Rk(t,e):(function(i,s){const l=Ak(i,s),c=$x(l)+$x(i.Ae);return u6(l)&&u6(i.Ae)?Tk(c):c_(i.serializer,c)})(t,e)}function NY(t,e,n){return t instanceof ih?Ck(t,e):t instanceof ah?Rk(t,e):n}function Ak(t,e){return t instanceof cm?(function(r){return u6(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class rh extends Qm{}class ih extends Qm{constructor(e){super(),this.elements=e}}function Ck(t,e){const n=Ik(e);for(const r of t.elements)n.some((i=>va(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ah extends Qm{constructor(e){super(),this.elements=e}}function Rk(t,e){let n=Ik(e);for(const r of t.elements)n=n.filter((i=>!va(i,r)));return{arrayValue:{values:n}}}class cm extends Qm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $x(t){return wn(t.integerValue||t.doubleValue)}function Ik(t){return o_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class MY{constructor(e,n){this.field=e,this.transform=n}}function kY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ih&&i instanceof ih||r instanceof ah&&i instanceof ah?nc(r.elements,i.elements,va):r instanceof cm&&i instanceof cm?va(r.Ae,i.Ae):r instanceof rh&&i instanceof rh})(t.transform,e.transform)}class DY{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zm{}function Nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wm(t.key,or.none()):new wh(t.key,t.data,or.none());{const n=t.data,r=dr.empty();let i=new qn(Jn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new No(t.key,r,new Yr(i.toArray()),or.none())}}function OY(t,e,n){t instanceof wh?(function(i,s,l){const c=i.value.clone(),h=Xx(i.fieldTransforms,s,l.transformResults);c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof No?(function(i,s,l){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=Xx(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(Mk(i)),h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function L0(t,e,n,r){return t instanceof wh?(function(s,l,c,h){if(!Vd(s.precondition,l))return c;const f=s.value.clone(),m=Kx(s.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof No?(function(s,l,c,h){if(!Vd(s.precondition,l))return c;const f=Kx(s.fieldTransforms,h,l),m=l.data;return m.setAll(Mk(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return Vd(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function zY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ak(r.transform,i||null);s!=null&&(n===null&&(n=dr.empty()),n.set(r.field,s))}return n||null}function Yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nc(r,i,((s,l)=>kY(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wh extends Zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends Zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Xx(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,NY(l,c,n[i]))}return r}function Kx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,IY(s,l,e))}return r}class Wm extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=L0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=L0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ek();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const h=Nk(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),vt())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,((n,r)=>Yx(n,r)))&&nc(this.baseMutations,e.baseMutations,((n,r)=>Yx(n,r)))}}class h_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return EY})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new h_(e,n,r,i)}}let LY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class qY{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class PY{constructor(e,n){this.count=e,this.unchangedNames=n}}var In,wt;function Dk(t){switch(t){case Ee.OK:return Qe(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function Ok(t){if(t===void 0)return os("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case In.OK:return Ee.OK;case In.CANCELLED:return Ee.CANCELLED;case In.UNKNOWN:return Ee.UNKNOWN;case In.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case In.INTERNAL:return Ee.INTERNAL;case In.UNAVAILABLE:return Ee.UNAVAILABLE;case In.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case In.NOT_FOUND:return Ee.NOT_FOUND;case In.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case In.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case In.ABORTED:return Ee.ABORTED;case In.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case In.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case In.DATA_LOSS:return Ee.DATA_LOSS;default:return Qe(39323,{code:t})}}(wt=In||(In={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";function BY(){return new TextEncoder}const UY=new vo([4294967295,4294967295],0);function Qx(t){const e=BY().encode(t),n=new $M;return n.update(e),new Uint8Array(n.digest())}function Zx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vo([n,r],0),new vo([i,s],0)]}class f_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new T0(`Invalid padding: ${n}`);if(r<0)throw new T0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new T0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new T0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vo.fromNumber(r)));return i.compare(UY)===1&&(i=new vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qx(e),[r,i]=Zx(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new f_(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=Qx(e),[r,i]=Zx(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class T0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jm(et.min(),i,new un(gt),ls(),vt())}}class xh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xh(r,n,vt(),vt(),vt())}}class Ld{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class zk{constructor(e,n){this.targetId=e,this.Ce=n}}class Vk{constructor(e,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wx{constructor(){this.ve=0,this.Fe=Jx(),this.Me=tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:s})}})),new xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Jx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jY{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=gd(),this.He=gd(),this.Ye=new un(gt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(h6(s))if(r===0){const l=new Xe(s.path);this.et(n,l,Fn.newNoDocument(l,et.min()))}else bt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=xo(r).toUint8Array()}catch(h){if(h instanceof ik)return tc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new f_(l,i,s)}catch(h){return tc(h instanceof T0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&h6(c.target)){const h=new Xe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Fn.newNoDocument(h,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=vt();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Jm(e,n,this.Ye,this.je,r);return this.je=ls(),this.Je=gd(),this.He=gd(),this.Ye=new un(gt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Wx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qn(gt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qn(gt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gd(){return new un(Xe.comparator)}function Jx(){return new un(Xe.comparator)}const HY={asc:"ASCENDING",desc:"DESCENDING"},FY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GY={and:"AND",or:"OR"};class $Y{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m6(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function hm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YY(t,e){return hm(t,e.toTimestamp())}function Kr(t){return bt(!!t,49232),et.fromTimestamp((function(n){const r=wo(n);return new Kt(r.seconds,r.nanos)})(t))}function d_(t,e){return p6(t,e).canonicalString()}function p6(t,e){const n=(function(i){return new Pt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qk(t){const e=Pt.fromString(t);return bt(Gk(e),10190,{key:e.toString()}),e}function fm(t,e){return d_(t.databaseId,e.path)}function q0(t,e){const n=qk(e);if(n.get(1)!==t.databaseId.projectId)throw new De(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(Bk(n))}function Pk(t,e){return d_(t.databaseId,e)}function XY(t){const e=qk(t);return e.length===4?Pt.emptyPath():Bk(e)}function g6(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eS(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function KY(t,e){return"found"in e?(function(r,i){bt(!!i.found,43571),i.found.name,i.found.updateTime;const s=q0(r,i.found.name),l=Kr(i.found.updateTime),c=i.found.createTime?Kr(i.found.createTime):et.min(),h=new dr({mapValue:{fields:i.found.fields}});return Fn.newFoundDocument(s,l,c,h)})(t,e):"missing"in e?(function(r,i){bt(!!i.missing,3894),bt(!!i.readTime,22933);const s=q0(r,i.missing),l=Kr(i.readTime);return Fn.newNoDocument(s,l)})(t,e):Qe(7234,{result:e})}function QY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(bt(m===void 0||typeof m=="string",58123),tr.fromBase64String(m||"")):(bt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),tr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?Ee.UNKNOWN:Ok(f.code);return new De(m,f.message||"")})(l);n=new Vk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=q0(t,r.document.name),s=Kr(r.document.updateTime),l=r.document.createTime?Kr(r.document.createTime):et.min(),c=new dr({mapValue:{fields:r.document.fields}}),h=Fn.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Ld(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=q0(t,r.document),s=r.readTime?Kr(r.readTime):et.min(),l=Fn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Ld([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=q0(t,r.document),s=r.removedTargetIds||[];n=new Ld([],s,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new PY(i,s),c=r.targetId;n=new zk(c,l)}}return n}function Uk(t,e){let n;if(e instanceof wh)n={update:eS(t,e.key,e.value)};else if(e instanceof Wm)n={delete:fm(t,e.key)};else if(e instanceof No)n={update:eS(t,e.key,e.data),updateMask:aX(e.fieldMask)};else{if(!(e instanceof kk))return Qe(16599,{Vt:e.type});n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof rh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ih)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ah)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:YY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Qe(27497)})(t,e.precondition)),n}function ZY(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Kr(i.updateTime):Kr(s);return l.isEqual(et.min())&&(l=Kr(s)),new DY(l,i.transformResults||[])})(n,e)))):[]}function WY(t,e){return{documents:[Pk(t,e.path)]}}function jk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pk(t,i);const s=(function(f){if(f.length!==0)return Fk(Hi.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:so(v.field),direction:nX(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=m6(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function JY(t,e,n,r){const{ft:i,parent:s}=jk(t,e),l={},c=[];let h=0;return n.forEach((f=>{const m="aggregate_"+h++;l[m]=f.alias,f.aggregateType==="count"?c.push({alias:m,count:{}}):f.aggregateType==="avg"?c.push({alias:m,avg:{field:so(f.fieldPath)}}):f.aggregateType==="sum"&&c.push({alias:m,sum:{field:so(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},gt:l,parent:s}}function eX(t){let e=XY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const v=Hk(p);return v instanceof Hi&&mk(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(x){return new um(Du(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,_h(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(p){const v=!!p.before,b=p.values||[];return new lm(b,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,b=p.values||[];return new lm(b,v)})(n.endAt)),_Y(e,i,l,s,c,"F",h,f)}function tX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Du(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Du(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Du(n.unaryFilter.field);return Nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Du(n.unaryFilter.field);return Nn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(Du(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Hi.create(n.compositeFilter.filters.map((r=>Hk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function nX(t){return HY[t]}function rX(t){return FY[t]}function iX(t){return GY[t]}function so(t){return{fieldPath:t.canonicalString()}}function Du(t){return Jn.fromServerFormat(t.fieldPath)}function Fk(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(Ux(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ux(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:rX(n.op),value:n.value}}})(t):t instanceof Hi?(function(n){const r=n.getFilters().map((i=>Fk(i)));return r.length===1?r[0]:{compositeFilter:{op:iX(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function aX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class co{constructor(e,n,r,i,s=et.min(),l=et.min(),c=tr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sX{constructor(e){this.yt=e}}function oX(t){const e=eX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d6(e,e.limit,"L"):e}class lX{constructor(){this.Cn=new uX}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(bo.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class uX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qn(Pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(Pt.comparator)).toArray()}}const tS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$k=41943040;class Cr{static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr($k,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class ac{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ac(0)}static cr(){return new ac(-1)}}const nS="LruGarbageCollector",cX=1048576;function rS([t,e],[n,r]){const i=gt(t,n);return i===0?gt(e,r):i}class hX{constructor(e){this.Ir=e,this.buffer=new qn(rS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){qe(nS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dc(n)?qe(nS,"Ignoring IndexedDB error during garbage collection: ",n):await fc(n)}await this.Vr(3e5)}))}}class dX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(Gm.ce);const r=new hX(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(tS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Mu()<=pt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function mX(t,e){return new dX(t,e)}class pX{constructor(){this.changes=new Ml((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&L0(r.mutation,i,Yr.empty(),Kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,vt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=vt()){const i=gl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=E0();return s.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=gl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,vt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ls();const l=V0(),c=(function(){return V0()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof No)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),L0(m.mutation,f,m.mutation.getFieldMask(),Kt.now())):l.set(f.key,Yr.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new gX(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=V0();let i=new un(((l,c)=>l-c)),s=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Yr.empty();m=c.applyToLocalView(f,m),r.set(h,m);const p=(i.get(c.batchId)||vt()).add(h);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,p=Ek();m.forEach((v=>{if(!s.has(v)){const b=Nk(n.get(v),r.get(v));b!==null&&p.set(v,b),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ae.resolve(gl());let c=J0,h=s;return l.next((f=>Ae.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,h,f,vt()))).next((m=>({batchId:c,changes:Sk(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let i=E0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=E0();return this.indexManager.getCollectionParents(e,s).next((c=>Ae.forEach(c,(h=>{const f=(function(p,v){return new bh(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Fn.newInvalidDocument(m)))}));let c=E0();return l.forEach(((h,f)=>{const m=s.get(h);m!==void 0&&L0(m.mutation,f,Yr.empty(),Kt.now()),Km(n,f)&&(c=c.insert(h,f))})),c}))}}class yX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:oX(i.bundledQuery),readTime:Kr(i.readTime)}})(n)),Ae.resolve()}}class _X{constructor(){this.overlays=new un(Xe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gl();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=gl(),s=n.length+1,l=new Xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new un(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=gl(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=gl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Ae.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new LY(n,r));let s=this.qr.get(n);s===void 0&&(s=vt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class bX{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class m_{constructor(){this.Qr=new qn(Hn.$r),this.Ur=new qn(Hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new Pt([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new Pt([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=vt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||gt(e.Yr,n.Yr)}static Kr(e,n){return gt(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}class wX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qn(Hn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new VY(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Hn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?a_:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qn(gt);return n.forEach((i=>{const s=new Hn(i,0),l=new Hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Xe.isDocumentKey(s)||(s=s.child(""));const l=new Hn(new Xe(s),0);let c=new qn(gt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xX{constructor(e){this.ri=e,this.docs=(function(){return new un(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=ls();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fn.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ls();const l=n.path,c=new Xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Q$(K$(m),r)<=0||(i.has(m.key)||Km(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new SX(this)}getSize(e){return Ae.resolve(this.size)}}class SX extends pX{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class EX{constructor(e){this.persistence=e,this.si=new Ml((n=>l_(n)),u_),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new m_,this.targetCount=0,this.ai=ac.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(s).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class Yk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gm(0),this.li=!1,this.li=!0,this.hi=new bX,this.referenceDelegate=e(this),this.Pi=new EX(this),this.indexManager=new lX,this.remoteDocumentCache=(function(i){return new xX(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sX(n),this.Ii=new yX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _X,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wX(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new TX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class TX extends W${constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Ri=new m_,this.Vi=null}static mi(e){return new p_(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=Xe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dm{constructor(e,n){this.persistence=e,this.pi=new Ml((r=>tY(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=mX(this,n)}static mi(e,n){return new dm(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,et.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Od(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class g_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=vt(),i=vt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g_(e,n.fromCache,r,i)}}class AX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _G()?8:J$(lr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new AX;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Mu()<=pt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Mu()<=pt.DEBUG&&qe("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Mu()<=pt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fa(n))):Ae.resolve())}ys(e,n){if(Gx(n))return Ae.resolve(null);let r=fa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=d6(n,null,"F"),r=fa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=vt(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,d6(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return Gx(n)||i.isEqual(et.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Ae.resolve(null):(Mu()<=pt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.vs(e,l,n,X$(i,J0)).next((c=>c)))}))}Ds(e,n){let r=new qn(wk(e));return n.forEach(((i,s)=>{Km(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Mu()<=pt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",ku(n)),this.ps.getDocumentsMatchingQuery(e,n,bo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const v_="LocalStore",RX=3e8;class IX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new un(gt),this.xs=new Ml((s=>l_(s)),u_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NX(t,e,n,r){return new IX(t,e,n,r)}async function Xk(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let h=vt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function MX(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const p=f.batch,v=p.keys();let b=Ae.resolve();return v.forEach((x=>{b=b.next((()=>m.getEntry(h,x))).next((S=>{const E=f.docVersions.get(x);bt(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=vt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Kk(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kX(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(tr.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=RX?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,b,m)&&c.push(n.Pi.updateTargetData(s,b))}));let h=ls(),f=vt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(DX(s,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(et.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,h,f))).next((()=>h))})).then((s=>(n.Ms=i,s)))}function DX(t,e,n){let r=vt(),i=vt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ls();return n.forEach(((c,h)=>{const f=s.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(et.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):qe(v_,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function OX(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=a_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zX(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function v6(t,e,n){const r=nt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!dc(l))throw l;qe(v_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function iS(t,e,n){const r=nt(t);let i=et.min(),s=vt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const p=nt(h),v=p.xs.get(m);return v!==void 0?Ae.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,m)})(r,l,fa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:et.min(),n?s:vt()))).next((c=>(VX(r,wY(e),c),{documents:c,Qs:s})))))}function VX(t,e,n){let r=t.Os.get(e)||et.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class aS{constructor(){this.activeTargetIds=CY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LX{constructor(){this.Mo=new aS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qX{Oo(e){}shutdown(){}}const sS="ConnectivityMonitor";class oS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qe(sS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){qe(sS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vd=null;function y6(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}const ev="RestConnection",PX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===sm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=y6(),c=this.zo(e,n.toUriEncodedString());qe(ev,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,s);const{host:f}=new URL(c),m=uc(f);return this.Jo(e,c,h,r,m).then((p=>(qe(ev,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw tc(ev,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=PX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class UX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ar="WebChannelConnection";class jX extends BX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=y6();return new Promise(((c,h)=>{const f=new YM;f.setWithCredentials(!0),f.listenOnce(XM.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Dd.NO_ERROR:const p=f.getResponseJson();qe(ar,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Dd.TIMEOUT:qe(ar,`RPC '${e}' ${l} timed out`),h(new De(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const v=f.getStatus();if(qe(ar,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b?.error;if(x&&x.status&&x.message){const S=(function(C){const M=C.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(M)>=0?M:Ee.UNKNOWN})(x.status);h(new De(S,x.message))}else h(new De(Ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new De(Ee.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{qe(ar,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);qe(ar,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=y6(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ZM(),c=QM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");qe(ar,`Creating RPC '${e}' stream ${i}: ${m}`,h);const p=l.createWebChannel(m,h);this.I_(p);let v=!1,b=!1;const x=new UX({Yo:E=>{b?qe(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(qe(ar,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),qe(ar,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),S=(E,C,M)=>{E.listen(C,(T=>{try{M(T)}catch(O){setTimeout((()=>{throw O}),0)}}))};return S(p,S0.EventType.OPEN,(()=>{b||(qe(ar,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),S(p,S0.EventType.CLOSE,(()=>{b||(b=!0,qe(ar,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),S(p,S0.EventType.ERROR,(E=>{b||(b=!0,tc(ar,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),x.a_(new De(Ee.UNAVAILABLE,"The operation could not be completed")))})),S(p,S0.EventType.MESSAGE,(E=>{if(!b){const C=E.data[0];bt(!!C,16349);const M=C,T=M?.error||M[0]?.error;if(T){qe(ar,`RPC '${e}' stream ${i} received error:`,T);const O=T.status;let B=(function(k){const D=In[k];if(D!==void 0)return Ok(D)})(O),q=T.message;B===void 0&&(B=Ee.INTERNAL,q="Unknown error status: "+O+" with message "+T.message),b=!0,x.a_(new De(B,q)),p.close()}else qe(ar,`RPC '${e}' stream ${i} received:`,C),x.u_(C)}})),S(c,KM.STAT_EVENT,(E=>{E.stat===s6.PROXY?qe(ar,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===s6.NOPROXY&&qe(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function tv(){return typeof document<"u"?document:null}function e1(t){return new $Y(t,!0)}class y_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lS="PersistentStream";class Qk{constructor(e,n,r,i,s,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return qe(lS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(qe(lS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HX extends Qk{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QY(this.serializer,e),r=(function(s){if(!("targetChange"in s))return et.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?et.min():l.readTime?Kr(l.readTime):et.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=g6(this.serializer),n.addTarget=(function(s,l){let c;const h=l.target;if(c=h6(h)?{documents:WY(s,h)}:{query:jk(s,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Lk(s,l.resumeToken);const f=m6(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(et.min())>0){c.readTime=hm(s,l.snapshotVersion.toTimestamp());const f=m6(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=tX(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=g6(this.serializer),n.removeTarget=e,this.q_(n)}}class FX extends Qk{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZY(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=g6(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Uk(this.serializer,r)))};this.q_(n)}}class GX{}class $X extends GX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,p6(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(Ee.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,p6(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(Ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Il="RemoteStore";class XX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{kl(this)&&(qe(Il,"Restarting streams for network reachability change."),await(async function(h){const f=nt(h);f.Ea.add(4),await Sh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await t1(f)})(this))}))})),this.Ra=new YX(r,i)}}async function t1(t){if(kl(t))for(const e of t.da)await e(!0)}async function Sh(t){for(const e of t.da)await e(!1)}function Zk(t,e){const n=nt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),x_(n)?w_(n):mc(n).O_()&&b_(n,e))}function __(t,e){const n=nt(t),r=mc(n);n.Ia.delete(e),r.O_()&&Wk(n,e),n.Ia.size===0&&(r.O_()?r.L_():kl(n)&&n.Ra.set("Unknown"))}function b_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mc(t).Y_(e)}function Wk(t,e){t.Va.Ue(e),mc(t).Z_(e)}function w_(t){t.Va=new jY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mc(t).start(),t.Ra.ua()}function x_(t){return kl(t)&&!mc(t).x_()&&t.Ia.size>0}function kl(t){return nt(t).Ea.size===0}function Jk(t){t.Va=void 0}async function KX(t){t.Ra.set("Online")}async function QX(t){t.Ia.forEach(((e,n)=>{b_(t,e)}))}async function ZX(t,e){Jk(t),x_(t)?(t.Ra.ha(e),w_(t)):t.Ra.set("Unknown")}async function WX(t,e,n){if(t.Ra.set("Online"),e instanceof Vk&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){qe(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mm(t,r)}else if(e instanceof Ld?t.Va.Ze(e):e instanceof zk?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await Kk(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(tr.EMPTY_BYTE_STRING,m.snapshotVersion)),Wk(s,h);const p=new co(m.target,h,f,m.sequenceNumber);b_(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){qe(Il,"Failed to raise snapshot:",r),await mm(t,r)}}async function mm(t,e,n){if(!dc(e))throw e;t.Ea.add(1),await Sh(t),t.Ra.set("Offline"),n||(n=()=>Kk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe(Il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await t1(t)}))}function eD(t,e){return e().catch((n=>mm(t,n,e)))}async function n1(t){const e=nt(t),n=Eo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:a_;for(;JX(e);)try{const i=await OX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,eK(e,i)}catch(i){await mm(e,i)}tD(e)&&nD(e)}function JX(t){return kl(t)&&t.Ta.length<10}function eK(t,e){t.Ta.push(e);const n=Eo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tD(t){return kl(t)&&!Eo(t).x_()&&t.Ta.length>0}function nD(t){Eo(t).start()}async function tK(t){Eo(t).ra()}async function nK(t){const e=Eo(t);for(const n of t.Ta)e.ea(n.mutations)}async function rK(t,e,n){const r=t.Ta.shift(),i=h_.from(r,e,n);await eD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await n1(t)}async function iK(t,e){e&&Eo(t).X_&&await(async function(r,i){if((function(l){return Dk(l)&&l!==Ee.ABORTED})(i.code)){const s=r.Ta.shift();Eo(r).B_(),await eD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await n1(r)}})(t,e),tD(t)&&nD(t)}async function uS(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),qe(Il,"RemoteStore received new credentials");const r=kl(n);n.Ea.add(3),await Sh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await t1(n)}async function aK(t,e){const n=nt(t);e?(n.Ea.delete(2),await t1(n)):e||(n.Ea.add(2),await Sh(n),n.Ra.set("Unknown"))}function mc(t){return t.ma||(t.ma=(function(n,r,i){const s=nt(n);return s.sa(),new HX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:KX.bind(null,t),t_:QX.bind(null,t),r_:ZX.bind(null,t),H_:WX.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),x_(t)?w_(t):t.Ra.set("Unknown")):(await t.ma.stop(),Jk(t))}))),t.ma}function Eo(t){return t.fa||(t.fa=(function(n,r,i){const s=nt(n);return s.sa(),new FX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:tK.bind(null,t),r_:iK.bind(null,t),ta:nK.bind(null,t),na:rK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await n1(t)):(await t.fa.stop(),t.Ta.length>0&&(qe(Il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class S_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new S_(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(t,e){if(os("AsyncQueue",`${e}: ${t}`),dc(t))return new De(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Bu{static emptySet(e){return new Bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=E0(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cS{constructor(){this.ga=new un(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class sc{constructor(e,n,r,i,s,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new sc(e,n,Bu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class sK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oK{constructor(){this.queries=hS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=nt(n),s=i.queries;i.queries=hS(),s.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new De(Ee.ABORTED,"Firestore shutting down"))}}function hS(){return new Ml((t=>bk(t)),Xm)}async function rD(t,e){const n=nt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new sK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=E_(l,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&T_(n)}async function iD(t,e){const n=nt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lK(t,e){const n=nt(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&T_(n)}function uK(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function T_(t){t.Ca.forEach((e=>{e.next()}))}var _6,fS;(fS=_6||(_6={})).Ma="default",fS.Cache="cache";class aD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_6.Cache}}class sD{constructor(e){this.key=e}}class oD{constructor(e){this.key=e}}class cK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=wk(e),this.tu=new Bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new cS,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),b=Km(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?x!==S&&(r.track({type:3,doc:b}),E=!0):this.su(v,b)||(r.track({type:2,doc:b}),E=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(c=!0)):!v&&b?(r.track({type:0,doc:b}),E=!0):v&&!b&&(r.track({type:1,doc:v}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,x){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:E})}};return S(b)-S(x)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new sc(this.query,e.tu,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new oD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new sD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A_="SyncEngine";class hK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fK{constructor(e){this.key=e,this.hu=!1}}class dK{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ml((c=>bk(c)),Xm),this.Iu=new Map,this.Eu=new Set,this.du=new un(Xe.comparator),this.Au=new Map,this.Ru=new m_,this.Vu={},this.mu=new Map,this.fu=ac.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mK(t,e,n=!0){const r=dD(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await lD(r,e,n,!0),i}async function pK(t,e){const n=dD(t);await lD(n,e,!0,!1)}async function lD(t,e,n,r){const i=await zX(t.localStore,fa(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await gK(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zk(t.remoteStore,i),c}async function gK(t,e,n,r,i){t.pu=(p,v,b)=>(async function(S,E,C,M){let T=E.view.ru(C);T.Cs&&(T=await iS(S.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,T))));const O=M&&M.targetChanges.get(E.targetId),B=M&&M.targetMismatches.get(E.targetId)!=null,q=E.view.applyChanges(T,S.isPrimaryClient,O,B);return mS(S,E.targetId,q.au),q.snapshot})(t,p,v,b);const s=await iS(t.localStore,e,!0),l=new cK(e,s.Qs),c=l.ru(s.documents),h=xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);mS(t,n,f.au);const m=new hK(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function vK(t,e,n){const r=nt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Xm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v6(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&__(r.remoteStore,i.targetId),b6(r,i.targetId)})).catch(fc)):(b6(r,i.targetId),await v6(r.localStore,i.targetId,!0))}async function yK(t,e){const n=nt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),__(n.remoteStore,r.targetId))}async function _K(t,e,n){const r=AK(t);try{const i=await(function(l,c){const h=nt(l),f=Kt.now(),m=c.reduce(((b,x)=>b.add(x.key)),vt());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let x=ls(),S=vt();return h.Ns.getEntries(b,m).next((E=>{x=E,x.forEach(((C,M)=>{M.isValidDocument()||(S=S.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,x))).next((E=>{p=E;const C=[];for(const M of c){const T=zY(M,p.get(M.key).overlayedDocument);T!=null&&C.push(new No(M.key,T,hk(T.value.mapValue),or.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)})).next((E=>{v=E;const C=E.applyToLocalDocumentSet(p,S);return h.documentOverlayCache.saveOverlays(b,E.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:Sk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new un(gt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Eh(r,i.changes),await n1(r.remoteStore)}catch(i){const s=E_(i,"Failed to persist write");n.reject(s)}}async function uD(t,e){const n=nt(t);try{const r=await kX(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?bt(l.hu,14607):i.removedDocuments.size>0&&(bt(l.hu,42227),l.hu=!1))})),await Eh(n,r,e)}catch(r){await fc(r)}}function dS(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=nt(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(c)&&(f=!0)})),f&&T_(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bK(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new un(Xe.comparator);l=l.insert(s,Fn.newNoDocument(s,et.min()));const c=vt().add(s),h=new Jm(et.min(),new Map,new un(gt),l,c);await uD(r,h),r.du=r.du.remove(s),r.Au.delete(e),C_(r)}else await v6(r.localStore,e,!1).then((()=>b6(r,e,n))).catch(fc)}async function wK(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await MX(n.localStore,e);hD(n,r,null),cD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eh(n,i)}catch(i){await fc(i)}}async function xK(t,e,n){const r=nt(t);try{const i=await(function(l,c){const h=nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((p=>(bt(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);hD(r,e,n),cD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eh(r,i)}catch(i){await fc(i)}}function cD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hD(t,e,n){const r=nt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function b6(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||fD(t,r)}))}function fD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(__(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),C_(t))}function mS(t,e,n){for(const r of n)r instanceof sD?(t.Ru.addReference(r.key,e),SK(t,r)):r instanceof oD?(qe(A_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fD(t,r.key)):Qe(19791,{wu:r})}function SK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(qe(A_,"New document in limbo: "+n),t.Eu.add(r),C_(t))}function C_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new fK(n)),t.du=t.du.insert(n,r),Zk(t.remoteStore,new co(fa(Ym(n.path)),r,"TargetPurposeLimboResolution",Gm.ce))}}async function Eh(t,e,n){const r=nt(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=g_.As(h.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=nt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(f,(v=>Ae.forEach(v.Es,(b=>m.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Ae.forEach(v.ds,(b=>m.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!dc(p))throw p;qe(v_,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=m.Ms.get(v),x=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(x);m.Ms=m.Ms.insert(v,S)}}})(r.localStore,s))}async function EK(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){qe(A_,"User change. New user:",e.toKey());const r=await Xk(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((h=>{h.reject(new De(Ee.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eh(n,r.Ls)}}function TK(t,e){const n=nt(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let i=vt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function dD(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bK.bind(null,e),e.Pu.H_=lK.bind(null,e.eventManager),e.Pu.yu=uK.bind(null,e.eventManager),e}function AK(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xK.bind(null,e),e}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=e1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NX(this.persistence,new CX,e.initialUser,this.serializer)}Cu(e){return new Yk(p_.mi,this.serializer)}Du(e){return new LX}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class CK extends pm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof dm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new Yk((r=>dm.mi(r,n)),this.serializer)}}class w6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EK.bind(null,this.syncEngine),await aK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oK})()}createDatastore(e){const n=e1(e.databaseInfo.databaseId),r=(function(s){return new jX(s)})(e.databaseInfo);return(function(s,l,c,h){return new $X(s,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new XX(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>dS(this.syncEngine,n,0)),(function(){return oS.v()?new oS:new qX})())}createSyncEngine(e,n){return(function(i,s,l,c,h,f,m){const p=new dK(i,s,l,c,h,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=nt(n);qe(Il,"RemoteStore shutting down."),r.Ea.add(5),await Sh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}w6.provider={build:()=>new w6};class mD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class RK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new De(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const l=nt(i),c={documents:s.map((p=>fm(l.serializer,p)))},h=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Pt.emptyPath(),c,s.length),f=new Map;h.forEach((p=>{const v=KY(l.serializer,p);f.set(v.key.toString(),v)}));const m=[];return s.forEach((p=>{const v=f.get(p.toString());bt(!!v,55234,{key:p}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Xe.fromPath(r);this.mutations.push(new kk(i,this.precondition(i)))})),await(async function(r,i){const s=nt(r),l={writes:i.map((c=>Uk(s.serializer,c)))};await s.Go("Commit",s.serializer.databaseId,Pt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Qe(50498,{Gu:e.constructor.name});n=et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new De(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(et.min())?or.exists(!1):or.updateTime(n):or.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(et.min()))throw new De(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(n)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IK{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new y_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new RK(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!_h(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Dk(n)}return!1}}const To="FirestoreClient";class NK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sr.UNAUTHENTICATED,this.clientId=i_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{qe(To,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(qe(To,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nv(t,e){t.asyncQueue.verifyOperationInProgress(),qe(To,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Xk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MK(t);qe(To,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>uS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>uS(e.remoteStore,i))),t._onlineComponents=e}async function MK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(To,"Using user provided OfflineComponentProvider");try{await nv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ee.FAILED_PRECONDITION||i.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;tc("Error using user provided cache. Falling back to memory cache: "+n),await nv(t,new pm)}}else qe(To,"Using default OfflineComponentProvider"),await nv(t,new CK(void 0));return t._offlineComponents}async function R_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(To,"Using user provided OnlineComponentProvider"),await pS(t,t._uninitializedComponentsProvider._online)):(qe(To,"Using default OnlineComponentProvider"),await pS(t,new w6))),t._onlineComponents}function kK(t){return R_(t).then((e=>e.syncEngine))}function pD(t){return R_(t).then((e=>e.datastore))}async function x6(t){const e=await R_(t),n=e.eventManager;return n.onListen=mK.bind(null,e.syncEngine),n.onUnlisten=vK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yK.bind(null,e.syncEngine),n}function DK(t,e,n={}){const r=new ha;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,h,f){const m=new mD({next:v=>{m.Nu(),l.enqueueAndForget((()=>iD(s,p)));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new De(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new De(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new aD(Ym(c.path),m,{includeMetadataChanges:!0,qa:!0});return rD(s,p)})(await x6(t),t.asyncQueue,e,n,r))),r.promise}function OK(t,e,n){const r=new ha;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await pD(t);r.resolve((async function(l,c,h){const f=nt(l),{request:m,gt:p,parent:v}=JY(f.serializer,bY(c),h);f.connection.$o||delete m.parent;const b=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,v,m,1)).filter((S=>!!S.result));bt(b.length===1,64727);const x=b[0].result?.aggregateFields;return Object.keys(x).reduce(((S,E)=>(S[p[E]]=x[E],S)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function gD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const gS=new Map;const vD="firestore.googleapis.com",vS=!0;class yS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vD,this.ssl=vS}else this.host=e.host,this.ssl=e.ssl??vS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$k;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cX)throw new De(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class r1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new L$;switch(r.type){case"firstParty":return new U$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gS.get(n);r&&(qe("ComponentProvider","Removing Datastore"),gS.delete(n),r.terminate())})(this),Promise.resolve()}}function zK(t,e,n,r={}){t=Xr(t,r1);const i=uc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(qM(`https://${c}`),PM("Firestore",!0)),s.host!==vD&&s.host!==c&&tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:c,ssl:i,emulatorOptions:r};if(!Al(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=sr.MOCK_USER;else{f=cG(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new sr(p)}t._authCredentials=new q$(new JM(f,m))}}class pc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yh(n,ln._jsonSchema))return new ln(e,r||null,new Xe(Pt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Mn("string",ln._jsonSchemaVersion),referencePath:Mn("string")};class yo extends pc{constructor(e,n,r){super(e,n,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Xe(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function P0(t,e,...n){if(t=kn(t),ek("collection","path",e),t instanceof r1){const r=Pt.fromString(e,...n);return Mx(r),new yo(t,null,r)}{if(!(t instanceof ln||t instanceof yo))throw new De(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Mx(r),new yo(t.firestore,null,r)}}function Wn(t,e,...n){if(t=kn(t),arguments.length===1&&(e=i_.newId()),ek("doc","path",e),t instanceof r1){const r=Pt.fromString(e,...n);return Nx(r),new ln(t,null,new Xe(r))}{if(!(t instanceof ln||t instanceof yo))throw new De(Ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Nx(r),new ln(t.firestore,t instanceof yo?t.converter:null,new Xe(r))}}const _S="AsyncQueue";class bS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y_(this,"async_queue_retry"),this._c=()=>{const r=tv();r&&qe(_S,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dc(e))throw e;qe(_S,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",wS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=S_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:wS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function xS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class us extends r1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bS(e),this._firestoreClient=void 0,await e}}}function VK(t,e){const n=typeof t=="object"?t:HM(),r=typeof t=="string"?t:sm,i=n_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lG("firestore");s&&zK(i,...s)}return i}function Th(t){if(t._terminated)throw new De(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LK(t),t._firestoreClient}function LK(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new aY(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class qK{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class PK{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(tr.fromBase64String(e))}catch(n){throw new De(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gr(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yh(e,Gr._jsonSchema))return Gr.fromBase64String(e.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:Mn("string",Gr._jsonSchemaVersion),bytes:Mn("string")};class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i1{constructor(e){this._methodName=e}}class da{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:da._jsonSchemaVersion}}static fromJSON(e){if(yh(e,da._jsonSchema))return new da(e.latitude,e.longitude)}}da._jsonSchemaVersion="firestore/geoPoint/1.0",da._jsonSchema={type:Mn("string",da._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};class ma{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ma._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yh(e,ma._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ma(e.vectorValues);throw new De(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ma._jsonSchemaVersion="firestore/vectorValue/1.0",ma._jsonSchema={type:Mn("string",ma._jsonSchemaVersion),vectorValues:Mn("object")};const BK=/^__.*__$/;class UK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new wh(e,this.data,n,this.fieldTransforms)}}class yD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _D(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class I_{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new I_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_D(this.Ac)&&BK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||e1(e)}Cc(e,n,r,i=!1){return new I_({Ac:e,methodName:n,Dc:r,path:Jn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a1(t){const e=t._freezeSettings(),n=e1(t._databaseId);return new jK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bD(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);M_("Data must be an object, but it was:",l,r);const c=SD(r,l);let h,f;if(s.merge)h=new Yr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const v=S6(e,p,n);if(!l.contains(v))throw new De(Ee.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);TD(m,v)||m.push(v)}h=new Yr(m),f=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=l.fieldTransforms;return new UK(new dr(c),h,f)}class s1 extends i1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s1}}class N_ extends i1{_toFieldTransform(e){return new MY(e.path,new rh)}isEqual(e){return e instanceof N_}}function wD(t,e,n,r){const i=t.Cc(1,e,n);M_("Data must be an object, but it was:",i,r);const s=[],l=dr.empty();Io(r,((h,f)=>{const m=k_(e,h,n);f=kn(f);const p=i.yc(m);if(f instanceof s1)s.push(m);else{const v=Ch(f,p);v!=null&&(s.push(m),l.set(m,v))}}));const c=new Yr(s);return new yD(l,c,i.fieldTransforms)}function xD(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[S6(e,r,n)],h=[i];if(s.length%2!=0)throw new De(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(S6(e,s[v])),h.push(s[v+1]);const f=[],m=dr.empty();for(let v=c.length-1;v>=0;--v)if(!TD(f,c[v])){const b=c[v];let x=h[v];x=kn(x);const S=l.yc(b);if(x instanceof s1)f.push(b);else{const E=Ch(x,S);E!=null&&(f.push(b),m.set(b,E))}}const p=new Yr(f);return new yD(m,p,l.fieldTransforms)}function HK(t,e,n,r=!1){return Ch(n,t.Cc(r?4:3,e))}function Ch(t,e){if(ED(t=kn(t)))return M_("Unsupported field value:",e,t),SD(t,e);if(t instanceof i1)return(function(r,i){if(!_D(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let h=Ch(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Kt.fromDate(r);return{timestampValue:hm(i.serializer,s)}}if(r instanceof Kt){const s=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hm(i.serializer,s)}}if(r instanceof da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gr)return{bytesValue:Lk(i.serializer,r._byteString)};if(r instanceof ln){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:d_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ma)return(function(l,c){return{mapValue:{fields:{[uk]:{stringValue:ck},[om]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return c_(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Fm(r)}`)})(t,e)}function SD(t,e){const n={};return rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,((r,i)=>{const s=Ch(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function ED(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof da||t instanceof Gr||t instanceof ln||t instanceof i1||t instanceof ma)}function M_(t,e,n){if(!ED(n)||!tk(n)){const r=Fm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function S6(t,e,n){if((e=kn(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return k_(t,e);throw gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const FK=new RegExp("[~\\*/\\[\\]]");function k_(t,e,n){if(e.search(FK)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gm(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new De(Ee.INVALID_ARGUMENT,c+t+h)}function TD(t,e){return t.some((n=>n.isEqual(e)))}class vm{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GK extends vm{data(){return super.data()}}function D_(t,e){return typeof e=="string"?k_(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}function $K(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O_{}class YK extends O_{}function AD(t,e,...n){let r=[];e instanceof O_&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((h=>h instanceof z_)).length,c=s.filter((h=>h instanceof o1)).length;if(l>1||l>0&&c>0)throw new De(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class o1 extends YK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new o1(e,n,r)}_apply(e){const n=this._parse(e);return RD(e._query,n),new pc(e.firestore,e.converter,f6(e._query,n))}_parse(e){const n=a1(e.firestore);return(function(s,l,c,h,f,m,p){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new De(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ES(p,m);const x=[];for(const S of p)x.push(SS(h,s,S));v={arrayValue:{values:x}}}else v=SS(h,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ES(p,m),v=HK(c,l,p,m==="in"||m==="not-in");return Nn.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CD(t,e,n){const r=e,i=D_("where",t);return o1._create(i,r,n)}class z_ extends O_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const h of c)RD(l,h),l=f6(l,h)})(e._query,n),new pc(e.firestore,e.converter,f6(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function SS(t,e,n){if(typeof(n=kn(n))=="string"){if(n==="")throw new De(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yk(e)&&n.indexOf("/")!==-1)throw new De(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Xe.isDocumentKey(r))throw new De(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Px(t,new Xe(r))}if(n instanceof ln)return Px(t,n._key);throw new De(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fm(n)}.`)}function ES(t,e){if(!Array.isArray(t)||t.length===0)throw new De(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RD(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ID{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[om].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new ma(n)}convertGeoPoint(e){return new da(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$m(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);bt(Gk(r),9688,{name:e});const i=new th(r.get(1),r.get(3)),s=new Xe(r.popFirst(5));return i.isEqual(n)||os(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function ND(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class XK extends ID{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function KK(){return new qK("count")}class Vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends vm{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Mn("string",_o._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class qd extends _o{data(e={}){return super.data(e)}}class Uu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qd(this._firestore,this._userDataWriter,r.key,r,new Vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new qd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const h=new qd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:QK(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}function ZK(t){t=Xr(t,ln);const e=Xr(t.firestore,us);return DK(Th(e),t._key).then((n=>kD(e,t,n)))}Uu._jsonSchemaVersion="firestore/querySnapshot/1.0",Uu._jsonSchema={type:Mn("string",Uu._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class l1 extends ID{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function bl(t,e,n){t=Xr(t,ln);const r=Xr(t.firestore,us),i=ND(t.converter,e,n);return V_(r,[bD(a1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,or.none())])}function MD(t,e,n,...r){t=Xr(t,ln);const i=Xr(t.firestore,us),s=a1(i);let l;return l=typeof(e=kn(e))=="string"||e instanceof Ah?xD(s,"updateDoc",t._key,e,n,r):wD(s,"updateDoc",t._key,e),V_(i,[l.toMutation(t._key,or.exists(!0))])}function Pd(t){return V_(Xr(t.firestore,us),[new Wm(t._key,or.none())])}function Lu(t,...e){t=kn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xS(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let s,l,c;if(t instanceof ln)l=Xr(t.firestore,us),c=Ym(t._key.path),s={next:h=>{e[r]&&e[r](kD(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Xr(t,pc);l=Xr(h.firestore,us),c=h._query;const f=new l1(l);s={next:m=>{e[r]&&e[r](new Uu(l,f,h,m))},error:e[r+1],complete:e[r+2]},$K(t._query)}return(function(f,m,p,v){const b=new mD(v),x=new aD(m,b,p);return f.asyncQueue.enqueueAndForget((async()=>rD(await x6(f),x))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>iD(await x6(f),x)))}})(Th(l),c,i,s)}function V_(t,e){return(function(r,i){const s=new ha;return r.asyncQueue.enqueueAndForget((async()=>_K(await kK(r),i,s))),s.promise})(Th(t),e)}function kD(t,e,n){const r=n.docs.get(e._key),i=new l1(t);return new _o(t,i,e._key,r,new Vu(n.hasPendingWrites,n.fromCache),e.converter)}function WK(t){return JK(t,{count:KK()})}function JK(t,e){const n=Xr(t.firestore,us),r=Th(n),i=rY(e,((s,l)=>new qY(l,s.aggregateType,s._internalFieldPath)));return OK(r,t._query,i).then((s=>(function(c,h,f){const m=new l1(c);return new PK(h,m,f)})(n,t,s)))}const eQ={maxAttempts:5};function A0(t,e){if((t=kn(t)).firestore!==e)throw new De(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class tQ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=a1(e)}get(e){const n=A0(e,this._firestore),r=new XK(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Qe(24041);const s=i[0];if(s.isFoundDocument())return new vm(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new vm(this._firestore,r,n._key,null,n.converter);throw Qe(18433,{doc:s})}))}set(e,n,r){const i=A0(e,this._firestore),s=ND(i.converter,n,r),l=bD(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const s=A0(e,this._firestore);let l;return l=typeof(n=kn(n))=="string"||n instanceof Ah?xD(this._dataReader,"Transaction.update",s._key,n,r,i):wD(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,l),this}delete(e){const n=A0(e,this._firestore);return this._transaction.delete(n._key),this}}class nQ extends tQ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=A0(e,this._firestore),r=new l1(this._firestore);return super.get(e).then((i=>new _o(this._firestore,r,n._key,i._document,new Vu(!1,!1),n.converter)))}}function rQ(t,e,n){t=Xr(t,us);const r={...eQ,...n};return(function(s){if(s.maxAttempts<1)throw new De(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,l,c){const h=new ha;return s.asyncQueue.enqueueAndForget((async()=>{const f=await pD(s);new IK(s.asyncQueue,f,c,l,h).ju()})),h.promise})(Th(t),(i=>e(new nQ(t,i))),r)}function iQ(){return new N_("serverTimestamp")}(function(e,n=!0){(function(i){hc=i})(cc),ec(new Cl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new us(new P$(r.getProvider("auth-internal")),new j$(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new th(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),go(Ax,Cx,e),go(Ax,Cx,"esm2020")})();var aQ="firebase",sQ="12.7.0";go(aQ,sQ,"app");function DD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oQ=DD,OD=new gh("auth","Firebase",DD());const ym=new e_("@firebase/auth");function lQ(t,...e){ym.logLevel<=pt.WARN&&ym.warn(`Auth (${cc}): ${t}`,...e)}function Bd(t,...e){ym.logLevel<=pt.ERROR&&ym.error(`Auth (${cc}): ${t}`,...e)}function ya(t,...e){throw q_(t,...e)}function ji(t,...e){return q_(t,...e)}function L_(t,e,n){const r={...oQ(),[e]:n};return new gh("auth","Firebase",r).create(e,{appName:t.name})}function wl(t){return L_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uQ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ya(t,"argument-error"),L_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OD.create(t,...e)}function rt(t,e,...n){if(!t)throw q_(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function cs(t,e){t||ts(e)}function E6(){return typeof self<"u"&&self.location?.href||""}function cQ(){return TS()==="http:"||TS()==="https:"}function TS(){return typeof self<"u"&&self.location?.protocol||null}function hQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cQ()||gG()||"connection"in navigator)?navigator.onLine:!0}function fQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=dG()||vG()}get(){return hQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function P_(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pQ=new Rh(3e4,6e4);function B_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gc(t,e,n,r,i={}){return VD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=vh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...s};return pG()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&uc(t.emulatorConfig.host)&&(f.credentials="include"),zD.fetch()(await LD(t,t.config.apiHost,n,c),f)})}async function VD(t,e,n){t._canInitEmulator=!1;const r={...dQ,...e};try{const i=new vQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw yd(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw yd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw L_(t,m,f);ya(t,m)}}catch(i){if(i instanceof ps)throw i;ya(t,"network-request-failed",{message:String(i)})}}async function gQ(t,e,n,r,i={}){const s=await gc(t,e,n,r,i);return"mfaPendingCredential"in s&&ya(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function LD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`;return mQ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class vQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),pQ.get())})}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ji(t,e,r);return i.customData._tokenResponse=n,i}async function yQ(t,e){return gc(t,"POST","/v1/accounts:delete",e)}async function _m(t,e){return gc(t,"POST","/v1/accounts:lookup",e)}function B0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _Q(t,e=!1){const n=kn(t),r=await n.getIdToken(e),i=U_(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:B0(rv(i.auth_time)),issuedAtTime:B0(rv(i.iat)),expirationTime:B0(rv(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function rv(t){return Number(t)*1e3}function U_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=OM(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AS(t){const e=U_(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&bQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class wQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class T6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=B0(this.lastLoginAt),this.creationTime=B0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bm(t){const e=t.auth,n=await t.getIdToken(),r=await sh(t,_m(e,{idToken:n}));rt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?qD(i.providerUserInfo):[],l=SQ(t.providerData,s),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new T6(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function xQ(t){const e=kn(t);await bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function EQ(t,e){const n=await VD(t,{},async()=>{const r=vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await LD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&uc(t.emulatorConfig.host)&&(h.credentials="include"),zD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TQ(t,e){return gc(t,"POST","/v2/accounts:revokeToken",B_(t,e))}class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=AS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ju;return r&&(rt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(rt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return ts("not implemented")}}function no(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new wQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T6(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sh(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _Q(this,e)}reload(){return xQ(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(wl(this.auth));const e=await this.getIdToken();return await sh(this,yQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:x,stsTokenManager:S}=n;rt(p&&S,e,"internal-error");const E=ju.fromJSON(this.name,S);rt(typeof p=="string",e,"internal-error"),no(r,e.name),no(i,e.name),rt(typeof v=="boolean",e,"internal-error"),rt(typeof b=="boolean",e,"internal-error"),no(s,e.name),no(l,e.name),no(c,e.name),no(h,e.name),no(f,e.name),no(m,e.name);const C=new Ui({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:E,createdAt:f,lastLoginAt:m});return x&&Array.isArray(x)&&(C.providerData=x.map(M=>({...M}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ju;i.updateFromServerResponse(n);const s=new Ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new ju;c.updateFromIdToken(r);const h=new Ui({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T6(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,f),h}}const CS=new Map;function ns(t){cs(t instanceof Function,"Expected a class definition");let e=CS.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CS.set(t,e),e)}class PD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PD.type="NONE";const RS=PD;function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _m(this.auth,{idToken:e}).catch(()=>{});return n?Ui._fromGetAccountInfoResponse(this.auth,n,e):null}return Ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hu(ns(RS),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ns(RS);const l=Ud(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const v=await _m(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Ui._fromGetAccountInfoResponse(e,v,m)}else p=Ui._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Hu(s,e,r):(s=h[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Hu(s,e,r))}}function IS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GD(e))return"Blackberry";if($D(e))return"Webos";if(UD(e))return"Safari";if((e.includes("chrome/")||jD(e))&&!e.includes("edge/"))return"Chrome";if(FD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function BD(t=lr()){return/firefox\//i.test(t)}function UD(t=lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jD(t=lr()){return/crios\//i.test(t)}function HD(t=lr()){return/iemobile/i.test(t)}function FD(t=lr()){return/android/i.test(t)}function GD(t=lr()){return/blackberry/i.test(t)}function $D(t=lr()){return/webos/i.test(t)}function j_(t=lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AQ(t=lr()){return j_(t)&&!!window.navigator?.standalone}function CQ(){return yG()&&document.documentMode===10}function YD(t=lr()){return j_(t)||FD(t)||$D(t)||GD(t)||/windows phone/i.test(t)||HD(t)}function XD(t,e=[]){let n;switch(t){case"Browser":n=IS(lr());break;case"Worker":n=`${IS(lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cc}/${r}`}class RQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const h=e(s);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function IQ(t,e={}){return gc(t,"GET","/v2/passwordPolicy",B_(t,e))}const NQ=6;class MQ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class kQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NS(this),this.idTokenSubscription=new NS(this),this.beforeStateQueue=new RQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _m(this,{idToken:e}),r=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qi(this.app))return Promise.reject(wl(this));const n=e?kn(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qi(this.app)?Promise.reject(wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IQ(this),n=new MQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TQ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Hu.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lQ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function u1(t){return kn(t)}class NS{constructor(e){this.auth=e,this.observer=null,this.addObserver=AG(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let H_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DQ(t){H_=t}function OQ(t){return H_.loadJS(t)}function zQ(){return H_.gapiScript}function VQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function LQ(t,e){const n=n_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Al(s,e??{}))return i;ya(i,"already-initialized")}return n.initialize({options:e})}function qQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function PQ(t,e,n){const r=u1(t);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KD(e),{host:l,port:c}=BQ(e),h=c===null?"":`:${c}`,f={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Al(f,r.config.emulator)&&Al(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,uc(l)?(qM(`${s}//${l}${h}`),PM("Auth",!0)):UQ()}function KD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BQ(t){const e=KD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:MS(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:MS(l)}}}function MS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class QD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function Fu(t,e){return gQ(t,"POST","/v1/accounts:signInWithIdp",B_(t,e))}const jQ="http://localhost";class Nl extends QD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ya("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Nl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:jQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vh(n)}return e}}class F_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ih extends F_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oo extends Ih{constructor(){super("facebook.com")}static credential(e){return Nl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";class Ja extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ja.credential(n,r)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";class lo extends Ih{constructor(){super("github.com")}static credential(e){return Nl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";class uo extends Ih{constructor(){super("twitter.com")}static credential(e,n){return Nl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";class oc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ui._fromIdTokenResponse(e,r,i),l=kS(r);return new oc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kS(r);return new oc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class wm extends ps{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wm(e,n,r,i)}}function ZD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(t,s,e,r):s})}async function HQ(t,e,n=!1){const r=await sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oc._forOperation(t,"link",r)}async function FQ(t,e,n=!1){const{auth:r}=t;if(qi(r.app))return Promise.reject(wl(r));const i="reauthenticate";try{const s=await sh(t,ZD(r,i,e,t),n);rt(s.idToken,r,"internal-error");const l=U_(s.idToken);rt(l,r,"internal-error");const{sub:c}=l;return rt(t.uid===c,r,"user-mismatch"),oc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ya(r,"user-mismatch"),s}}async function GQ(t,e,n=!1){if(qi(t.app))return Promise.reject(wl(t));const r="signIn",i=await ZD(t,r,e),s=await oc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function $Q(t,e,n,r){return kn(t).onIdTokenChanged(e,n,r)}function YQ(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}function XQ(t,e,n,r){return kn(t).onAuthStateChanged(e,n,r)}function KQ(t){return kn(t).signOut()}const xm="__sak";class WD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xm,"1"),this.storage.removeItem(xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QQ=1e3,ZQ=10;class JD extends WD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);CQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JD.type="LOCAL";const WQ=JD;class eO extends WD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eO.type="SESSION";const tO=eO;function JQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class c1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new c1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),h=await JQ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}c1.receivers=[];function G_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class eZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,h)=>{const f=G_("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function pa(){return window}function tZ(t){pa().location.href=t}function nO(){return typeof pa().WorkerGlobalScope<"u"&&typeof pa().importScripts=="function"}async function nZ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rZ(){return navigator?.serviceWorker?.controller||null}function iZ(){return nO()?self:null}const rO="firebaseLocalStorageDb",aZ=1,Sm="firebaseLocalStorage",iO="fbase_key";class Nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function h1(t,e){return t.transaction([Sm],e?"readwrite":"readonly").objectStore(Sm)}function sZ(){const t=indexedDB.deleteDatabase(rO);return new Nh(t).toPromise()}function A6(){const t=indexedDB.open(rO,aZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sm,{keyPath:iO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sm)?e(r):(r.close(),await sZ(),e(await A6()))})})}async function DS(t,e,n){const r=h1(t,!0).put({[iO]:e,value:n});return new Nh(r).toPromise()}async function oZ(t,e){const n=h1(t,!1).get(e),r=await new Nh(n).toPromise();return r===void 0?null:r.value}function OS(t,e){const n=h1(t,!0).delete(e);return new Nh(n).toPromise()}const lZ=800,uZ=3;class aO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A6(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=c1._getInstance(iZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nZ(),!this.activeServiceWorker)return;this.sender=new eZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A6();return await DS(e,xm,"1"),await OS(e,xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=h1(i,!1).getAll();return new Nh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aO.type="LOCAL";const cZ=aO;new Rh(3e4,6e4);function sO(t,e){return e?ns(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $_ extends QD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hZ(t){return GQ(t.auth,new $_(t),t.bypassAuthState)}function fZ(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),FQ(n,new $_(t),t.bypassAuthState)}async function dZ(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),HQ(n,new $_(t),t.bypassAuthState)}class oO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hZ;case"linkViaPopup":case"linkViaRedirect":return dZ;case"reauthViaPopup":case"reauthViaRedirect":return fZ;default:ya(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mZ=new Rh(2e3,1e4);async function pZ(t,e,n){if(qi(t.app))return Promise.reject(ji(t,"operation-not-supported-in-this-environment"));const r=u1(t);uQ(t,e,F_);const i=sO(r,n);return new vl(r,"signInViaPopup",e,i).executeNotNull()}class vl extends oO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mZ.get())};e()}}vl.currentPopupAction=null;const gZ="pendingRedirect",jd=new Map;class vZ extends oO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await yZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yZ(t,e){const n=wZ(e),r=bZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _Z(t,e){jd.set(t._key(),e)}function bZ(t){return ns(t._redirectPersistence)}function wZ(t){return Ud(gZ,t.config.apiKey,t.name)}async function xZ(t,e,n=!1){if(qi(t.app))return Promise.reject(wl(t));const r=u1(t),i=sO(r,e),l=await new vZ(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const SZ=600*1e3;class EZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lO(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(e))}saveEventToCache(e){this.cachedEventUids.add(zS(e)),this.lastProcessedEventTime=Date.now()}}function zS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function TZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lO(t);default:return!1}}async function AZ(t,e={}){return gc(t,"GET","/v1/projects",e)}const CZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RZ=/^https?/;async function IZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AZ(t);for(const n of e)try{if(NZ(n))return}catch{}ya(t,"unauthorized-domain")}function NZ(t){const e=E6(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!RZ.test(n))return!1;if(CZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const MZ=new Rh(3e4,6e4);function VS(){const t=pa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kZ(t){return new Promise((e,n)=>{function r(){VS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VS(),n(ji(t,"network-request-failed"))},timeout:MZ.get()})}if(pa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pa().gapi?.load)r();else{const i=VQ("iframefcb");return pa()[i]=()=>{gapi.load?r():n(ji(t,"network-request-failed"))},OQ(`${zQ()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function DZ(t){return Hd=Hd||kZ(t),Hd}const OZ=new Rh(5e3,15e3),zZ="__/auth/iframe",VZ="emulator/auth/iframe",LZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PZ(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,VZ):`https://${t.config.authDomain}/${zZ}`,r={apiKey:e.apiKey,appName:t.name,v:cc},i=qZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vh(r).slice(1)}`}async function BZ(t){const e=await DZ(t),n=pa().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:PZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ji(t,"network-request-failed"),c=pa().setTimeout(()=>{s(l)},OZ.get());function h(){pa().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(l)})}))}const UZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jZ=500,HZ=600,FZ="_blank",GZ="http://localhost";class LS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $Z(t,e,n,r=jZ,i=HZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...UZ,width:r.toString(),height:i.toString(),top:s,left:l},f=lr().toLowerCase();n&&(c=jD(f)?FZ:n),BD(f)&&(e=e||GZ,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[b,x])=>`${v}${b}=${x},`,"");if(AQ(f)&&c!=="_self")return YZ(e||"",c),new LS(null);const p=window.open(e||"",c,m);rt(p,t,"popup-blocked");try{p.focus()}catch{}return new LS(p)}function YZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const XZ="__/auth/handler",KZ="emulator/auth/handler",QZ=encodeURIComponent("fac");async function qS(t,e,n,r,i,s){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cc,eventId:i};if(e instanceof F_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",TG(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Ih){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${QZ}=${encodeURIComponent(h)}`:"";return`${ZZ(t)}?${vh(c).slice(1)}${f}`}function ZZ({config:t}){return t.emulator?P_(t,KZ):`https://${t.authDomain}/${XZ}`}const iv="webStorageSupport";class WZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tO,this._completeRedirectFn=xZ,this._overrideRedirectResult=_Z}async _openPopup(e,n,r,i){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await qS(e,n,r,E6(),i);return $Z(e,s,G_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qS(e,n,r,E6(),i);return tZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BZ(e),r=new EZ(e);return n.register("authEvent",i=>(rt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iv,{type:iv},i=>{const s=i?.[0]?.[iv];s!==void 0&&n(!!s),ya(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YD()||UD()||j_()}}const JZ=WZ;var PS="@firebase/auth",BS="1.12.0";class eW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nW(t){ec(new Cl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;rt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XD(t)},f=new kQ(r,i,s,h);return qQ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ec(new Cl("auth-internal",e=>{const n=u1(e.getProvider("auth").getImmediate());return(r=>new eW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(PS,BS,tW(t)),go(PS,BS,"esm2020")}const rW=300,iW=LM("authIdTokenMaxAge")||rW;let US=null;const aW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iW)return;const i=n?.token;US!==i&&(US=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sW(t=HM()){const e=n_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LQ(t,{popupRedirectResolver:JZ,persistence:[cZ,WQ,tO]}),r=LM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=aW(s.toString());YQ(n,l,()=>l(n.currentUser)),$Q(n,c=>l(c))}}const i=zM("auth");return i&&PQ(n,`http://${i}`),n}function oW(){return document.getElementsByTagName("head")?.[0]??document}DQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ji("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nW("Browser");const lW={apiKey:"AIzaSyAIyve7JZp_0E3MNutgFkX0cAm9DqzfqC4",authDomain:"algebraic-structure-explorer.firebaseapp.com",projectId:"algebraic-structure-explorer",storageBucket:"algebraic-structure-explorer.firebasestorage.app",messagingSenderId:"195740710356",appId:"1:195740710356:web:132e427e9790fdc2705241",measurementId:"G-J5YLN1TFLL"},uO=jM(lW),sn=VK(uO),av=sW(uO),uW=new Ja,Y_={verified:"#ccffcc",unverified:"#ffcccc",deprecated:"#ffff00",deadEnd:"#eeeeee",duplicateLine:"#0000FF",parentLine:"#555",text:"#000"},sv={verified:{label:"Verified"},unverified:{label:"Unverified"},deprecated:{label:"Duplicate Branch (Deprecated)"}},cW="_overlay_1pykk_1",hW="_legend_1pykk_20",jS={overlay:cW,legend:hW};class Rr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Rr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Qr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Qr(n,Rr.range(this,e))}}class Ne{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,s=l.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var h=c.slice(i,s).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;s+15<c.length?m=c.slice(s,s+15)+"":m=c.slice(s),r+=f+h+m}var p=new Error(r);return p.name="ParseError",p.__proto__=Ne.prototype,p.position=i,i!=null&&s!=null&&(p.length=s-i),p.rawMessage=e,p}}Ne.prototype.__proto__=Error.prototype;var fW=function(e,n){return e===void 0?n:e},dW=/([A-Z])/g,mW=function(e){return e.replace(dW,"-$1").toLowerCase()},pW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},gW=/[&><"']/g;function vW(t){return String(t).replace(gW,e=>pW[e])}var cO=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},yW=function(e){var n=cO(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},_W=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},bW=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ct={deflt:fW,escape:vW,hyphenate:mW,getBaseElem:cO,isCharacterBox:yW,protocolFromUrl:bW},Fd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function wW(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class X_{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Fd)if(Fd.hasOwnProperty(n)){var r=Fd[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:wW(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Ct.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class ro{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return oa[xW[this.id]]}sub(){return oa[SW[this.id]]}fracNum(){return oa[EW[this.id]]}fracDen(){return oa[TW[this.id]]}cramp(){return oa[AW[this.id]]}text(){return oa[CW[this.id]]}isTight(){return this.size>=2}}var K_=0,Em=1,Gu=2,rs=3,oh=4,_i=5,lc=6,mr=7,oa=[new ro(K_,0,!1),new ro(Em,0,!0),new ro(Gu,1,!1),new ro(rs,1,!0),new ro(oh,2,!1),new ro(_i,2,!0),new ro(lc,3,!1),new ro(mr,3,!0)],xW=[oh,_i,oh,_i,lc,mr,lc,mr],SW=[_i,_i,_i,_i,mr,mr,mr,mr],EW=[Gu,rs,oh,_i,lc,mr,lc,mr],TW=[rs,rs,_i,_i,mr,mr,mr,mr],AW=[Em,Em,rs,rs,_i,_i,mr,mr],CW=[K_,Em,Gu,rs,Gu,rs,Gu,rs],We={DISPLAY:oa[K_],TEXT:oa[Gu],SCRIPT:oa[oh],SCRIPTSCRIPT:oa[lc]},C6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function RW(t){for(var e=0;e<C6.length;e++)for(var n=C6[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Gd=[];C6.forEach(t=>t.blocks.forEach(e=>Gd.push(...e)));function hO(t){for(var e=0;e<Gd.length;e+=2)if(t>=Gd[e]&&t<=Gd[e+1])return!0;return!1}var Nu=80,IW=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},NW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},MW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},kW=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},DW=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},OW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},zW=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},VW=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=IW(n,Nu);break;case"sqrtSize1":i=NW(n,Nu);break;case"sqrtSize2":i=MW(n,Nu);break;case"sqrtSize3":i=kW(n,Nu);break;case"sqrtSize4":i=DW(n,Nu);break;case"sqrtTall":i=zW(n,Nu,r)}return i},LW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},HS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},qW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Mh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var la={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},_d={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},FS={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function PW(t,e){la[t]=e}function Q_(t,e,n){if(!la[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=la[e][r];if(!i&&t[0]in FS&&(r=FS[t[0]].charCodeAt(0),i=la[e][r]),!i&&n==="text"&&hO(r)&&(i=la[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var ov={};function BW(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!ov[e]){var n=ov[e]={cssEmPerMu:_d.quad[e]/18};for(var r in _d)_d.hasOwnProperty(r)&&(n[r]=_d[r][e])}return ov[e]}var UW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],GS=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],$S=function(e,n){return n.size<2?e:UW[e-1][n.size-1]};class Wa{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Wa.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=GS[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Wa(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:$S(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:GS[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=$S(Wa.BASESIZE,e);return this.size===n&&this.textSize===Wa.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Wa.BASESIZE?["sizing","reset-size"+this.size,"size"+Wa.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=BW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Wa.BASESIZE=6;var R6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},jW={ex:!0,em:!0,mu:!0},fO=function(e){return typeof e!="string"&&(e=e.unit),e in R6||e in jW||e==="ex"},on=function(e,n){var r;if(e.unit in R6)r=R6[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},Ao=function(e){return e.filter(n=>n).join(" ")},dO=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},mO=function(e){var n=document.createElement(e);n.className=Ao(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},HW=/[\s"'>/=\x00-\x1f]/,pO=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ct.escape(Ao(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ct.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ct.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(HW.test(s))throw new Ne("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Ct.escape(this.attributes[s])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class kh{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,dO.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return mO.call(this,"span")}toMarkup(){return pO.call(this,"span")}}class Z_{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,dO.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return mO.call(this,"a")}toMarkup(){return pO.call(this,"a")}}class FW{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Ct.escape(this.src)+'"'+(' alt="'+Ct.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ct.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Ct.escape(n)+'"'),e+="'/>",e}}var GW={:"",:"",:"",:""};class bi{constructor(e,n,r,i,s,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var f=RW(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=GW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Ao(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ct.escape(Ao(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ct.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Ct.escape(r)+'"');var s=Ct.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class hs{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ct.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Co{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",HS[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ct.escape(this.alternate)+'"/>':'<path d="'+Ct.escape(HS[this.pathName])+'"/>'}}class I6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ct.escape(this.attributes[n])+'"');return e+="/>",e}}function YS(t){if(t instanceof bi)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function $W(t){if(t instanceof kh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var YW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},XW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Gt={math:{},text:{}};function w(t,e,n,r,i,s){Gt[t][i]={font:e,group:n,replace:r},s&&r&&(Gt[t][r]=Gt[t][i])}var I="math",Re="text",P="main",Z="ams",tn="accent-token",Le="bin",pr="close",vc="inner",Ze="mathord",On="op-token",Wr="open",f1="punct",J="rel",gs="spacing",se="textord";w(I,P,J,"","\\equiv",!0);w(I,P,J,"","\\prec",!0);w(I,P,J,"","\\succ",!0);w(I,P,J,"","\\sim",!0);w(I,P,J,"","\\perp");w(I,P,J,"","\\preceq",!0);w(I,P,J,"","\\succeq",!0);w(I,P,J,"","\\simeq",!0);w(I,P,J,"","\\mid",!0);w(I,P,J,"","\\ll",!0);w(I,P,J,"","\\gg",!0);w(I,P,J,"","\\asymp",!0);w(I,P,J,"","\\parallel");w(I,P,J,"","\\bowtie",!0);w(I,P,J,"","\\smile",!0);w(I,P,J,"","\\sqsubseteq",!0);w(I,P,J,"","\\sqsupseteq",!0);w(I,P,J,"","\\doteq",!0);w(I,P,J,"","\\frown",!0);w(I,P,J,"","\\ni",!0);w(I,P,J,"","\\propto",!0);w(I,P,J,"","\\vdash",!0);w(I,P,J,"","\\dashv",!0);w(I,P,J,"","\\owns");w(I,P,f1,".","\\ldotp");w(I,P,f1,"","\\cdotp");w(I,P,se,"#","\\#");w(Re,P,se,"#","\\#");w(I,P,se,"&","\\&");w(Re,P,se,"&","\\&");w(I,P,se,"","\\aleph",!0);w(I,P,se,"","\\forall",!0);w(I,P,se,"","\\hbar",!0);w(I,P,se,"","\\exists",!0);w(I,P,se,"","\\nabla",!0);w(I,P,se,"","\\flat",!0);w(I,P,se,"","\\ell",!0);w(I,P,se,"","\\natural",!0);w(I,P,se,"","\\clubsuit",!0);w(I,P,se,"","\\wp",!0);w(I,P,se,"","\\sharp",!0);w(I,P,se,"","\\diamondsuit",!0);w(I,P,se,"","\\Re",!0);w(I,P,se,"","\\heartsuit",!0);w(I,P,se,"","\\Im",!0);w(I,P,se,"","\\spadesuit",!0);w(I,P,se,"","\\S",!0);w(Re,P,se,"","\\S");w(I,P,se,"","\\P",!0);w(Re,P,se,"","\\P");w(I,P,se,"","\\dag");w(Re,P,se,"","\\dag");w(Re,P,se,"","\\textdagger");w(I,P,se,"","\\ddag");w(Re,P,se,"","\\ddag");w(Re,P,se,"","\\textdaggerdbl");w(I,P,pr,"","\\rmoustache",!0);w(I,P,Wr,"","\\lmoustache",!0);w(I,P,pr,"","\\rgroup",!0);w(I,P,Wr,"","\\lgroup",!0);w(I,P,Le,"","\\mp",!0);w(I,P,Le,"","\\ominus",!0);w(I,P,Le,"","\\uplus",!0);w(I,P,Le,"","\\sqcap",!0);w(I,P,Le,"","\\ast");w(I,P,Le,"","\\sqcup",!0);w(I,P,Le,"","\\bigcirc",!0);w(I,P,Le,"","\\bullet",!0);w(I,P,Le,"","\\ddagger");w(I,P,Le,"","\\wr",!0);w(I,P,Le,"","\\amalg");w(I,P,Le,"&","\\And");w(I,P,J,"","\\longleftarrow",!0);w(I,P,J,"","\\Leftarrow",!0);w(I,P,J,"","\\Longleftarrow",!0);w(I,P,J,"","\\longrightarrow",!0);w(I,P,J,"","\\Rightarrow",!0);w(I,P,J,"","\\Longrightarrow",!0);w(I,P,J,"","\\leftrightarrow",!0);w(I,P,J,"","\\longleftrightarrow",!0);w(I,P,J,"","\\Leftrightarrow",!0);w(I,P,J,"","\\Longleftrightarrow",!0);w(I,P,J,"","\\mapsto",!0);w(I,P,J,"","\\longmapsto",!0);w(I,P,J,"","\\nearrow",!0);w(I,P,J,"","\\hookleftarrow",!0);w(I,P,J,"","\\hookrightarrow",!0);w(I,P,J,"","\\searrow",!0);w(I,P,J,"","\\leftharpoonup",!0);w(I,P,J,"","\\rightharpoonup",!0);w(I,P,J,"","\\swarrow",!0);w(I,P,J,"","\\leftharpoondown",!0);w(I,P,J,"","\\rightharpoondown",!0);w(I,P,J,"","\\nwarrow",!0);w(I,P,J,"","\\rightleftharpoons",!0);w(I,Z,J,"","\\nless",!0);w(I,Z,J,"","\\@nleqslant");w(I,Z,J,"","\\@nleqq");w(I,Z,J,"","\\lneq",!0);w(I,Z,J,"","\\lneqq",!0);w(I,Z,J,"","\\@lvertneqq");w(I,Z,J,"","\\lnsim",!0);w(I,Z,J,"","\\lnapprox",!0);w(I,Z,J,"","\\nprec",!0);w(I,Z,J,"","\\npreceq",!0);w(I,Z,J,"","\\precnsim",!0);w(I,Z,J,"","\\precnapprox",!0);w(I,Z,J,"","\\nsim",!0);w(I,Z,J,"","\\@nshortmid");w(I,Z,J,"","\\nmid",!0);w(I,Z,J,"","\\nvdash",!0);w(I,Z,J,"","\\nvDash",!0);w(I,Z,J,"","\\ntriangleleft");w(I,Z,J,"","\\ntrianglelefteq",!0);w(I,Z,J,"","\\subsetneq",!0);w(I,Z,J,"","\\@varsubsetneq");w(I,Z,J,"","\\subsetneqq",!0);w(I,Z,J,"","\\@varsubsetneqq");w(I,Z,J,"","\\ngtr",!0);w(I,Z,J,"","\\@ngeqslant");w(I,Z,J,"","\\@ngeqq");w(I,Z,J,"","\\gneq",!0);w(I,Z,J,"","\\gneqq",!0);w(I,Z,J,"","\\@gvertneqq");w(I,Z,J,"","\\gnsim",!0);w(I,Z,J,"","\\gnapprox",!0);w(I,Z,J,"","\\nsucc",!0);w(I,Z,J,"","\\nsucceq",!0);w(I,Z,J,"","\\succnsim",!0);w(I,Z,J,"","\\succnapprox",!0);w(I,Z,J,"","\\ncong",!0);w(I,Z,J,"","\\@nshortparallel");w(I,Z,J,"","\\nparallel",!0);w(I,Z,J,"","\\nVDash",!0);w(I,Z,J,"","\\ntriangleright");w(I,Z,J,"","\\ntrianglerighteq",!0);w(I,Z,J,"","\\@nsupseteqq");w(I,Z,J,"","\\supsetneq",!0);w(I,Z,J,"","\\@varsupsetneq");w(I,Z,J,"","\\supsetneqq",!0);w(I,Z,J,"","\\@varsupsetneqq");w(I,Z,J,"","\\nVdash",!0);w(I,Z,J,"","\\precneqq",!0);w(I,Z,J,"","\\succneqq",!0);w(I,Z,J,"","\\@nsubseteqq");w(I,Z,Le,"","\\unlhd");w(I,Z,Le,"","\\unrhd");w(I,Z,J,"","\\nleftarrow",!0);w(I,Z,J,"","\\nrightarrow",!0);w(I,Z,J,"","\\nLeftarrow",!0);w(I,Z,J,"","\\nRightarrow",!0);w(I,Z,J,"","\\nleftrightarrow",!0);w(I,Z,J,"","\\nLeftrightarrow",!0);w(I,Z,J,"","\\vartriangle");w(I,Z,se,"","\\hslash");w(I,Z,se,"","\\triangledown");w(I,Z,se,"","\\lozenge");w(I,Z,se,"","\\circledS");w(I,Z,se,"","\\circledR");w(Re,Z,se,"","\\circledR");w(I,Z,se,"","\\measuredangle",!0);w(I,Z,se,"","\\nexists");w(I,Z,se,"","\\mho");w(I,Z,se,"","\\Finv",!0);w(I,Z,se,"","\\Game",!0);w(I,Z,se,"","\\backprime");w(I,Z,se,"","\\blacktriangle");w(I,Z,se,"","\\blacktriangledown");w(I,Z,se,"","\\blacksquare");w(I,Z,se,"","\\blacklozenge");w(I,Z,se,"","\\bigstar");w(I,Z,se,"","\\sphericalangle",!0);w(I,Z,se,"","\\complement",!0);w(I,Z,se,"","\\eth",!0);w(Re,P,se,"","");w(I,Z,se,"","\\diagup");w(I,Z,se,"","\\diagdown");w(I,Z,se,"","\\square");w(I,Z,se,"","\\Box");w(I,Z,se,"","\\Diamond");w(I,Z,se,"","\\yen",!0);w(Re,Z,se,"","\\yen",!0);w(I,Z,se,"","\\checkmark",!0);w(Re,Z,se,"","\\checkmark");w(I,Z,se,"","\\beth",!0);w(I,Z,se,"","\\daleth",!0);w(I,Z,se,"","\\gimel",!0);w(I,Z,se,"","\\digamma",!0);w(I,Z,se,"","\\varkappa");w(I,Z,Wr,"","\\@ulcorner",!0);w(I,Z,pr,"","\\@urcorner",!0);w(I,Z,Wr,"","\\@llcorner",!0);w(I,Z,pr,"","\\@lrcorner",!0);w(I,Z,J,"","\\leqq",!0);w(I,Z,J,"","\\leqslant",!0);w(I,Z,J,"","\\eqslantless",!0);w(I,Z,J,"","\\lesssim",!0);w(I,Z,J,"","\\lessapprox",!0);w(I,Z,J,"","\\approxeq",!0);w(I,Z,Le,"","\\lessdot");w(I,Z,J,"","\\lll",!0);w(I,Z,J,"","\\lessgtr",!0);w(I,Z,J,"","\\lesseqgtr",!0);w(I,Z,J,"","\\lesseqqgtr",!0);w(I,Z,J,"","\\doteqdot");w(I,Z,J,"","\\risingdotseq",!0);w(I,Z,J,"","\\fallingdotseq",!0);w(I,Z,J,"","\\backsim",!0);w(I,Z,J,"","\\backsimeq",!0);w(I,Z,J,"","\\subseteqq",!0);w(I,Z,J,"","\\Subset",!0);w(I,Z,J,"","\\sqsubset",!0);w(I,Z,J,"","\\preccurlyeq",!0);w(I,Z,J,"","\\curlyeqprec",!0);w(I,Z,J,"","\\precsim",!0);w(I,Z,J,"","\\precapprox",!0);w(I,Z,J,"","\\vartriangleleft");w(I,Z,J,"","\\trianglelefteq");w(I,Z,J,"","\\vDash",!0);w(I,Z,J,"","\\Vvdash",!0);w(I,Z,J,"","\\smallsmile");w(I,Z,J,"","\\smallfrown");w(I,Z,J,"","\\bumpeq",!0);w(I,Z,J,"","\\Bumpeq",!0);w(I,Z,J,"","\\geqq",!0);w(I,Z,J,"","\\geqslant",!0);w(I,Z,J,"","\\eqslantgtr",!0);w(I,Z,J,"","\\gtrsim",!0);w(I,Z,J,"","\\gtrapprox",!0);w(I,Z,Le,"","\\gtrdot");w(I,Z,J,"","\\ggg",!0);w(I,Z,J,"","\\gtrless",!0);w(I,Z,J,"","\\gtreqless",!0);w(I,Z,J,"","\\gtreqqless",!0);w(I,Z,J,"","\\eqcirc",!0);w(I,Z,J,"","\\circeq",!0);w(I,Z,J,"","\\triangleq",!0);w(I,Z,J,"","\\thicksim");w(I,Z,J,"","\\thickapprox");w(I,Z,J,"","\\supseteqq",!0);w(I,Z,J,"","\\Supset",!0);w(I,Z,J,"","\\sqsupset",!0);w(I,Z,J,"","\\succcurlyeq",!0);w(I,Z,J,"","\\curlyeqsucc",!0);w(I,Z,J,"","\\succsim",!0);w(I,Z,J,"","\\succapprox",!0);w(I,Z,J,"","\\vartriangleright");w(I,Z,J,"","\\trianglerighteq");w(I,Z,J,"","\\Vdash",!0);w(I,Z,J,"","\\shortmid");w(I,Z,J,"","\\shortparallel");w(I,Z,J,"","\\between",!0);w(I,Z,J,"","\\pitchfork",!0);w(I,Z,J,"","\\varpropto");w(I,Z,J,"","\\blacktriangleleft");w(I,Z,J,"","\\therefore",!0);w(I,Z,J,"","\\backepsilon");w(I,Z,J,"","\\blacktriangleright");w(I,Z,J,"","\\because",!0);w(I,Z,J,"","\\llless");w(I,Z,J,"","\\gggtr");w(I,Z,Le,"","\\lhd");w(I,Z,Le,"","\\rhd");w(I,Z,J,"","\\eqsim",!0);w(I,P,J,"","\\Join");w(I,Z,J,"","\\Doteq",!0);w(I,Z,Le,"","\\dotplus",!0);w(I,Z,Le,"","\\smallsetminus");w(I,Z,Le,"","\\Cap",!0);w(I,Z,Le,"","\\Cup",!0);w(I,Z,Le,"","\\doublebarwedge",!0);w(I,Z,Le,"","\\boxminus",!0);w(I,Z,Le,"","\\boxplus",!0);w(I,Z,Le,"","\\divideontimes",!0);w(I,Z,Le,"","\\ltimes",!0);w(I,Z,Le,"","\\rtimes",!0);w(I,Z,Le,"","\\leftthreetimes",!0);w(I,Z,Le,"","\\rightthreetimes",!0);w(I,Z,Le,"","\\curlywedge",!0);w(I,Z,Le,"","\\curlyvee",!0);w(I,Z,Le,"","\\circleddash",!0);w(I,Z,Le,"","\\circledast",!0);w(I,Z,Le,"","\\centerdot");w(I,Z,Le,"","\\intercal",!0);w(I,Z,Le,"","\\doublecap");w(I,Z,Le,"","\\doublecup");w(I,Z,Le,"","\\boxtimes",!0);w(I,Z,J,"","\\dashrightarrow",!0);w(I,Z,J,"","\\dashleftarrow",!0);w(I,Z,J,"","\\leftleftarrows",!0);w(I,Z,J,"","\\leftrightarrows",!0);w(I,Z,J,"","\\Lleftarrow",!0);w(I,Z,J,"","\\twoheadleftarrow",!0);w(I,Z,J,"","\\leftarrowtail",!0);w(I,Z,J,"","\\looparrowleft",!0);w(I,Z,J,"","\\leftrightharpoons",!0);w(I,Z,J,"","\\curvearrowleft",!0);w(I,Z,J,"","\\circlearrowleft",!0);w(I,Z,J,"","\\Lsh",!0);w(I,Z,J,"","\\upuparrows",!0);w(I,Z,J,"","\\upharpoonleft",!0);w(I,Z,J,"","\\downharpoonleft",!0);w(I,P,J,"","\\origof",!0);w(I,P,J,"","\\imageof",!0);w(I,Z,J,"","\\multimap",!0);w(I,Z,J,"","\\leftrightsquigarrow",!0);w(I,Z,J,"","\\rightrightarrows",!0);w(I,Z,J,"","\\rightleftarrows",!0);w(I,Z,J,"","\\twoheadrightarrow",!0);w(I,Z,J,"","\\rightarrowtail",!0);w(I,Z,J,"","\\looparrowright",!0);w(I,Z,J,"","\\curvearrowright",!0);w(I,Z,J,"","\\circlearrowright",!0);w(I,Z,J,"","\\Rsh",!0);w(I,Z,J,"","\\downdownarrows",!0);w(I,Z,J,"","\\upharpoonright",!0);w(I,Z,J,"","\\downharpoonright",!0);w(I,Z,J,"","\\rightsquigarrow",!0);w(I,Z,J,"","\\leadsto");w(I,Z,J,"","\\Rrightarrow",!0);w(I,Z,J,"","\\restriction");w(I,P,se,"","`");w(I,P,se,"$","\\$");w(Re,P,se,"$","\\$");w(Re,P,se,"$","\\textdollar");w(I,P,se,"%","\\%");w(Re,P,se,"%","\\%");w(I,P,se,"_","\\_");w(Re,P,se,"_","\\_");w(Re,P,se,"_","\\textunderscore");w(I,P,se,"","\\angle",!0);w(I,P,se,"","\\infty",!0);w(I,P,se,"","\\prime");w(I,P,se,"","\\triangle");w(I,P,se,"","\\Gamma",!0);w(I,P,se,"","\\Delta",!0);w(I,P,se,"","\\Theta",!0);w(I,P,se,"","\\Lambda",!0);w(I,P,se,"","\\Xi",!0);w(I,P,se,"","\\Pi",!0);w(I,P,se,"","\\Sigma",!0);w(I,P,se,"","\\Upsilon",!0);w(I,P,se,"","\\Phi",!0);w(I,P,se,"","\\Psi",!0);w(I,P,se,"","\\Omega",!0);w(I,P,se,"A","");w(I,P,se,"B","");w(I,P,se,"E","");w(I,P,se,"Z","");w(I,P,se,"H","");w(I,P,se,"I","");w(I,P,se,"K","");w(I,P,se,"M","");w(I,P,se,"N","");w(I,P,se,"O","");w(I,P,se,"P","");w(I,P,se,"T","");w(I,P,se,"X","");w(I,P,se,"","\\neg",!0);w(I,P,se,"","\\lnot");w(I,P,se,"","\\top");w(I,P,se,"","\\bot");w(I,P,se,"","\\emptyset");w(I,Z,se,"","\\varnothing");w(I,P,Ze,"","\\alpha",!0);w(I,P,Ze,"","\\beta",!0);w(I,P,Ze,"","\\gamma",!0);w(I,P,Ze,"","\\delta",!0);w(I,P,Ze,"","\\epsilon",!0);w(I,P,Ze,"","\\zeta",!0);w(I,P,Ze,"","\\eta",!0);w(I,P,Ze,"","\\theta",!0);w(I,P,Ze,"","\\iota",!0);w(I,P,Ze,"","\\kappa",!0);w(I,P,Ze,"","\\lambda",!0);w(I,P,Ze,"","\\mu",!0);w(I,P,Ze,"","\\nu",!0);w(I,P,Ze,"","\\xi",!0);w(I,P,Ze,"","\\omicron",!0);w(I,P,Ze,"","\\pi",!0);w(I,P,Ze,"","\\rho",!0);w(I,P,Ze,"","\\sigma",!0);w(I,P,Ze,"","\\tau",!0);w(I,P,Ze,"","\\upsilon",!0);w(I,P,Ze,"","\\phi",!0);w(I,P,Ze,"","\\chi",!0);w(I,P,Ze,"","\\psi",!0);w(I,P,Ze,"","\\omega",!0);w(I,P,Ze,"","\\varepsilon",!0);w(I,P,Ze,"","\\vartheta",!0);w(I,P,Ze,"","\\varpi",!0);w(I,P,Ze,"","\\varrho",!0);w(I,P,Ze,"","\\varsigma",!0);w(I,P,Ze,"","\\varphi",!0);w(I,P,Le,"","*",!0);w(I,P,Le,"+","+");w(I,P,Le,"","-",!0);w(I,P,Le,"","\\cdot",!0);w(I,P,Le,"","\\circ",!0);w(I,P,Le,"","\\div",!0);w(I,P,Le,"","\\pm",!0);w(I,P,Le,"","\\times",!0);w(I,P,Le,"","\\cap",!0);w(I,P,Le,"","\\cup",!0);w(I,P,Le,"","\\setminus",!0);w(I,P,Le,"","\\land");w(I,P,Le,"","\\lor");w(I,P,Le,"","\\wedge",!0);w(I,P,Le,"","\\vee",!0);w(I,P,se,"","\\surd");w(I,P,Wr,"","\\langle",!0);w(I,P,Wr,"","\\lvert");w(I,P,Wr,"","\\lVert");w(I,P,pr,"?","?");w(I,P,pr,"!","!");w(I,P,pr,"","\\rangle",!0);w(I,P,pr,"","\\rvert");w(I,P,pr,"","\\rVert");w(I,P,J,"=","=");w(I,P,J,":",":");w(I,P,J,"","\\approx",!0);w(I,P,J,"","\\cong",!0);w(I,P,J,"","\\ge");w(I,P,J,"","\\geq",!0);w(I,P,J,"","\\gets");w(I,P,J,">","\\gt",!0);w(I,P,J,"","\\in",!0);w(I,P,J,"","\\@not");w(I,P,J,"","\\subset",!0);w(I,P,J,"","\\supset",!0);w(I,P,J,"","\\subseteq",!0);w(I,P,J,"","\\supseteq",!0);w(I,Z,J,"","\\nsubseteq",!0);w(I,Z,J,"","\\nsupseteq",!0);w(I,P,J,"","\\models");w(I,P,J,"","\\leftarrow",!0);w(I,P,J,"","\\le");w(I,P,J,"","\\leq",!0);w(I,P,J,"<","\\lt",!0);w(I,P,J,"","\\rightarrow",!0);w(I,P,J,"","\\to");w(I,Z,J,"","\\ngeq",!0);w(I,Z,J,"","\\nleq",!0);w(I,P,gs,"","\\ ");w(I,P,gs,"","\\space");w(I,P,gs,"","\\nobreakspace");w(Re,P,gs,"","\\ ");w(Re,P,gs,""," ");w(Re,P,gs,"","\\space");w(Re,P,gs,"","\\nobreakspace");w(I,P,gs,null,"\\nobreak");w(I,P,gs,null,"\\allowbreak");w(I,P,f1,",",",");w(I,P,f1,";",";");w(I,Z,Le,"","\\barwedge",!0);w(I,Z,Le,"","\\veebar",!0);w(I,P,Le,"","\\odot",!0);w(I,P,Le,"","\\oplus",!0);w(I,P,Le,"","\\otimes",!0);w(I,P,se,"","\\partial",!0);w(I,P,Le,"","\\oslash",!0);w(I,Z,Le,"","\\circledcirc",!0);w(I,Z,Le,"","\\boxdot",!0);w(I,P,Le,"","\\bigtriangleup");w(I,P,Le,"","\\bigtriangledown");w(I,P,Le,"","\\dagger");w(I,P,Le,"","\\diamond");w(I,P,Le,"","\\star");w(I,P,Le,"","\\triangleleft");w(I,P,Le,"","\\triangleright");w(I,P,Wr,"{","\\{");w(Re,P,se,"{","\\{");w(Re,P,se,"{","\\textbraceleft");w(I,P,pr,"}","\\}");w(Re,P,se,"}","\\}");w(Re,P,se,"}","\\textbraceright");w(I,P,Wr,"{","\\lbrace");w(I,P,pr,"}","\\rbrace");w(I,P,Wr,"[","\\lbrack",!0);w(Re,P,se,"[","\\lbrack",!0);w(I,P,pr,"]","\\rbrack",!0);w(Re,P,se,"]","\\rbrack",!0);w(I,P,Wr,"(","\\lparen",!0);w(I,P,pr,")","\\rparen",!0);w(Re,P,se,"<","\\textless",!0);w(Re,P,se,">","\\textgreater",!0);w(I,P,Wr,"","\\lfloor",!0);w(I,P,pr,"","\\rfloor",!0);w(I,P,Wr,"","\\lceil",!0);w(I,P,pr,"","\\rceil",!0);w(I,P,se,"\\","\\backslash");w(I,P,se,"","|");w(I,P,se,"","\\vert");w(Re,P,se,"|","\\textbar",!0);w(I,P,se,"","\\|");w(I,P,se,"","\\Vert");w(Re,P,se,"","\\textbardbl");w(Re,P,se,"~","\\textasciitilde");w(Re,P,se,"\\","\\textbackslash");w(Re,P,se,"^","\\textasciicircum");w(I,P,J,"","\\uparrow",!0);w(I,P,J,"","\\Uparrow",!0);w(I,P,J,"","\\downarrow",!0);w(I,P,J,"","\\Downarrow",!0);w(I,P,J,"","\\updownarrow",!0);w(I,P,J,"","\\Updownarrow",!0);w(I,P,On,"","\\coprod");w(I,P,On,"","\\bigvee");w(I,P,On,"","\\bigwedge");w(I,P,On,"","\\biguplus");w(I,P,On,"","\\bigcap");w(I,P,On,"","\\bigcup");w(I,P,On,"","\\int");w(I,P,On,"","\\intop");w(I,P,On,"","\\iint");w(I,P,On,"","\\iiint");w(I,P,On,"","\\prod");w(I,P,On,"","\\sum");w(I,P,On,"","\\bigotimes");w(I,P,On,"","\\bigoplus");w(I,P,On,"","\\bigodot");w(I,P,On,"","\\oint");w(I,P,On,"","\\oiint");w(I,P,On,"","\\oiiint");w(I,P,On,"","\\bigsqcup");w(I,P,On,"","\\smallint");w(Re,P,vc,"","\\textellipsis");w(I,P,vc,"","\\mathellipsis");w(Re,P,vc,"","\\ldots",!0);w(I,P,vc,"","\\ldots",!0);w(I,P,vc,"","\\@cdots",!0);w(I,P,vc,"","\\ddots",!0);w(I,P,se,"","\\varvdots");w(Re,P,se,"","\\varvdots");w(I,P,tn,"","\\acute");w(I,P,tn,"","\\grave");w(I,P,tn,"","\\ddot");w(I,P,tn,"~","\\tilde");w(I,P,tn,"","\\bar");w(I,P,tn,"","\\breve");w(I,P,tn,"","\\check");w(I,P,tn,"^","\\hat");w(I,P,tn,"","\\vec");w(I,P,tn,"","\\dot");w(I,P,tn,"","\\mathring");w(I,P,Ze,"","\\@imath");w(I,P,Ze,"","\\@jmath");w(I,P,se,"","");w(I,P,se,"","");w(Re,P,se,"","\\i",!0);w(Re,P,se,"","\\j",!0);w(Re,P,se,"","\\ss",!0);w(Re,P,se,"","\\ae",!0);w(Re,P,se,"","\\oe",!0);w(Re,P,se,"","\\o",!0);w(Re,P,se,"","\\AE",!0);w(Re,P,se,"","\\OE",!0);w(Re,P,se,"","\\O",!0);w(Re,P,tn,"","\\'");w(Re,P,tn,"","\\`");w(Re,P,tn,"","\\^");w(Re,P,tn,"","\\~");w(Re,P,tn,"","\\=");w(Re,P,tn,"","\\u");w(Re,P,tn,"","\\.");w(Re,P,tn,"","\\c");w(Re,P,tn,"","\\r");w(Re,P,tn,"","\\v");w(Re,P,tn,"",'\\"');w(Re,P,tn,"","\\H");w(Re,P,tn,"","\\textcircled");var gO={"--":!0,"---":!0,"``":!0,"''":!0};w(Re,P,se,"","--",!0);w(Re,P,se,"","\\textendash");w(Re,P,se,"","---",!0);w(Re,P,se,"","\\textemdash");w(Re,P,se,"","`",!0);w(Re,P,se,"","\\textquoteleft");w(Re,P,se,"","'",!0);w(Re,P,se,"","\\textquoteright");w(Re,P,se,"","``",!0);w(Re,P,se,"","\\textquotedblleft");w(Re,P,se,"","''",!0);w(Re,P,se,"","\\textquotedblright");w(I,P,se,"","\\degree",!0);w(Re,P,se,"","\\degree");w(Re,P,se,"","\\textdegree",!0);w(I,P,se,"","\\pounds");w(I,P,se,"","\\mathsterling",!0);w(Re,P,se,"","\\pounds");w(Re,P,se,"","\\textsterling",!0);w(I,Z,se,"","\\maltese");w(Re,Z,se,"","\\maltese");var XS='0123456789/@."';for(var lv=0;lv<XS.length;lv++){var KS=XS.charAt(lv);w(I,P,se,KS,KS)}var QS='0123456789!@*()-=+";:?/.,';for(var uv=0;uv<QS.length;uv++){var ZS=QS.charAt(uv);w(Re,P,se,ZS,ZS)}var Tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var cv=0;cv<Tm.length;cv++){var bd=Tm.charAt(cv);w(I,P,Ze,bd,bd),w(Re,P,se,bd,bd)}w(I,Z,se,"C","");w(Re,Z,se,"C","");w(I,Z,se,"H","");w(Re,Z,se,"H","");w(I,Z,se,"N","");w(Re,Z,se,"N","");w(I,Z,se,"P","");w(Re,Z,se,"P","");w(I,Z,se,"Q","");w(Re,Z,se,"Q","");w(I,Z,se,"R","");w(Re,Z,se,"R","");w(I,Z,se,"Z","");w(Re,Z,se,"Z","");w(I,P,Ze,"h","");w(Re,P,Ze,"h","");var tt="";for(var fr=0;fr<Tm.length;fr++){var vn=Tm.charAt(fr);tt=String.fromCharCode(55349,56320+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56372+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56424+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56580+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56684+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56736+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56788+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56840+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56944+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),fr<26&&(tt=String.fromCharCode(55349,56632+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt),tt=String.fromCharCode(55349,56476+fr),w(I,P,Ze,vn,tt),w(Re,P,se,vn,tt))}tt="";w(I,P,Ze,"k",tt);w(Re,P,se,"k",tt);for(var ul=0;ul<10;ul++){var io=ul.toString();tt=String.fromCharCode(55349,57294+ul),w(I,P,Ze,io,tt),w(Re,P,se,io,tt),tt=String.fromCharCode(55349,57314+ul),w(I,P,Ze,io,tt),w(Re,P,se,io,tt),tt=String.fromCharCode(55349,57324+ul),w(I,P,Ze,io,tt),w(Re,P,se,io,tt),tt=String.fromCharCode(55349,57334+ul),w(I,P,Ze,io,tt),w(Re,P,se,io,tt)}var N6="";for(var hv=0;hv<N6.length;hv++){var wd=N6.charAt(hv);w(I,P,Ze,wd,wd),w(Re,P,se,wd,wd)}var xd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],WS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],KW=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=s&&s<120484){var c=Math.floor((s-119808)/26);return[xd[c][2],xd[c][l]]}else if(120782<=s&&s<=120831){var h=Math.floor((s-120782)/10);return[WS[h][2],WS[h][l]]}else{if(s===120485||s===120486)return[xd[0][2],xd[0][l]];if(120486<s&&s<120782)return["",""];throw new Ne("Unsupported character: "+e)}},d1=function(e,n,r){return Gt[r][e]&&Gt[r][e].replace&&(e=Gt[r][e].replace),{value:e,metrics:Q_(e,n,r)}},Vi=function(e,n,r,i,s){var l=d1(e,n,r),c=l.metrics;e=l.value;var h;if(c){var f=c.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),h=new bi(e,c.height,c.depth,f,c.skew,c.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),h=new bi(e,0,0,0,0,0,s);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},QW=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&d1(e,"Main-Bold",n).metrics?Vi(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Gt[n][e].font==="main"?Vi(e,"Main-Regular",n,r,i):Vi(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},ZW=function(e,n,r,i,s){return s!=="textord"&&d1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},WW=function(e,n,r){var i=e.mode,s=e.text,l=["mord"],c=i==="math"||i==="text"&&n.font,h=c?n.font:n.fontFamily,f="",m="";if(s.charCodeAt(0)===55349&&([f,m]=KW(s,i)),f.length>0)return Vi(s,f,i,n,l.concat(m));if(h){var p,v;if(h==="boldsymbol"){var b=ZW(s,i,n,l,r);p=b.fontName,v=[b.fontClass]}else c?(p=_O[h].fontName,v=[h]):(p=Sd(h,n.fontWeight,n.fontShape),v=[h,n.fontWeight,n.fontShape]);if(d1(s,p,i).metrics)return Vi(s,p,i,n,l.concat(v));if(gO.hasOwnProperty(s)&&p.slice(0,10)==="Typewriter"){for(var x=[],S=0;S<s.length;S++)x.push(Vi(s[S],p,i,n,l.concat(v)));return yO(x)}}if(r==="mathord")return Vi(s,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var E=Gt[i][s]&&Gt[i][s].font;if(E==="ams"){var C=Sd("amsrm",n.fontWeight,n.fontShape);return Vi(s,C,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(E==="main"||!E){var M=Sd("textrm",n.fontWeight,n.fontShape);return Vi(s,M,i,n,l.concat(n.fontWeight,n.fontShape))}else{var T=Sd(E,n.fontWeight,n.fontShape);return Vi(s,T,i,n,l.concat(T,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},JW=(t,e)=>{if(Ao(t.classes)!==Ao(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},eJ=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof bi&&r instanceof bi&&JW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},W_=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var l=e.children[s];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Ar=function(e,n,r,i){var s=new kh(e,n,r,i);return W_(s),s},vO=(t,e,n,r)=>new kh(t,e,n,r),tJ=function(e,n,r){var i=Ar([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},nJ=function(e,n,r,i){var s=new Z_(e,n,r,i);return W_(s),s},yO=function(e){var n=new Mh(e);return W_(n),n},rJ=function(e,n){return e instanceof Mh?Ar([],[e],n):e},iJ=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,l=1;l<n.length;l++){var c=-n[l].shift-s-n[l].elem.depth,h=c-(n[l-1].elem.height+n[l-1].elem.depth);s=s+c,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var v=e.children[p];m-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},aJ=function(e,n){for(var{children:r,depth:i}=iJ(e),s=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var h=c.elem;s=Math.max(s,h.maxFontSize,h.height)}}s+=2;var f=Ar(["pstrut"],[]);f.style.height=ke(s);for(var m=[],p=i,v=i,b=i,x=0;x<r.length;x++){var S=r[x];if(S.type==="kern")b+=S.size;else{var E=S.elem,C=S.wrapperClasses||[],M=S.wrapperStyle||{},T=Ar(C,[f,E],void 0,M);T.style.top=ke(-s-b-E.depth),S.marginLeft&&(T.style.marginLeft=S.marginLeft),S.marginRight&&(T.style.marginRight=S.marginRight),m.push(T),b+=E.height+E.depth}p=Math.min(p,b),v=Math.max(v,b)}var O=Ar(["vlist"],m);O.style.height=ke(v);var B;if(p<0){var q=Ar([],[]),R=Ar(["vlist"],[q]);R.style.height=ke(-p);var k=Ar(["vlist-s"],[new bi("")]);B=[Ar(["vlist-r"],[O,k]),Ar(["vlist-r"],[R])]}else B=[Ar(["vlist-r"],[O])];var D=Ar(["vlist-t"],B);return B.length===2&&D.classes.push("vlist-t2"),D.height=v,D.depth=-p,D},sJ=(t,e)=>{var n=Ar(["mspace"],[],e),r=on(t,e);return n.style.marginRight=ke(r),n},Sd=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},_O={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},bO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},oJ=function(e,n){var[r,i,s]=bO[e],l=new Co(r),c=new hs([l],{width:ke(i),height:ke(s),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),h=vO(["overlay"],[c],n);return h.height=s,h.style.height=ke(s),h.style.width=ke(i),h},ge={fontMap:_O,makeSymbol:Vi,mathsym:QW,makeSpan:Ar,makeSvgSpan:vO,makeLineSpan:tJ,makeAnchor:nJ,makeFragment:yO,wrapFragment:rJ,makeVList:aJ,makeOrd:WW,makeGlue:sJ,staticSvg:oJ,svgData:bO,tryCombineChars:eJ},an={number:3,unit:"mu"},cl={number:4,unit:"mu"},Za={number:5,unit:"mu"},lJ={mord:{mop:an,mbin:cl,mrel:Za,minner:an},mop:{mord:an,mop:an,mrel:Za,minner:an},mbin:{mord:cl,mop:cl,mopen:cl,minner:cl},mrel:{mord:Za,mop:Za,mopen:Za,minner:Za},mopen:{},mclose:{mop:an,mbin:cl,mrel:Za,minner:an},mpunct:{mord:an,mop:an,mrel:Za,mopen:an,mclose:an,mpunct:an,minner:an},minner:{mord:an,mop:an,mbin:cl,mrel:Za,mopen:an,mpunct:an,minner:an}},uJ={mord:{mop:an},mop:{mord:an,mop:an},mbin:{},mrel:{},mopen:{},mclose:{mop:an},mpunct:{},minner:{mop:an}},wO={},Am={},Cm={};function ze(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},h=0;h<n.length;++h)wO[n[h]]=c;e&&(s&&(Am[e]=s),l&&(Cm[e]=l))}function Dl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Rm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},xn=function(e){return e.type==="ordgroup"?e.body:[e]},fs=ge.makeSpan,cJ=["leftmost","mbin","mopen","mrel","mop","mpunct"],hJ=["rightmost","mrel","mclose","mpunct"],fJ={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},dJ={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Pn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],l=0;l<e.length;l++){var c=St(e[l],n);if(c instanceof Mh){var h=c.children;s.push(...h)}else s.push(c)}if(ge.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var m=e[0];m.type==="sizing"?f=n.havingSize(m.size):m.type==="styling"&&(f=n.havingStyle(fJ[m.style]))}var p=fs([i[0]||"leftmost"],[],n),v=fs([i[1]||"rightmost"],[],n),b=r==="root";return JS(s,(x,S)=>{var E=S.classes[0],C=x.classes[0];E==="mbin"&&hJ.includes(C)?S.classes[0]="mord":C==="mbin"&&cJ.includes(E)&&(x.classes[0]="mord")},{node:p},v,b),JS(s,(x,S)=>{var E=M6(S),C=M6(x),M=E&&C?x.hasClass("mtight")?uJ[E][C]:lJ[E][C]:null;if(M)return ge.makeGlue(M,f)},{node:p},v,b),s},JS=function t(e,n,r,i,s){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=xO(c);if(h){t(h.children,n,r,null,s);continue}var f=!c.hasClass("mspace");if(f){var m=n(c,r.node);m&&(r.insertAfter?r.insertAfter(m):(e.unshift(m),l++))}f?r.node=c:s&&c.hasClass("newline")&&(r.node=fs(["leftmost"])),r.insertAfter=(p=>v=>{e.splice(p+1,0,v),l++})(l)}i&&e.pop()},xO=function(e){return e instanceof Mh||e instanceof Z_||e instanceof kh&&e.hasClass("enclosing")?e:null},mJ=function t(e,n){var r=xO(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},M6=function(e,n){return e?(n&&(e=mJ(e,n)),dJ[e.classes[0]]||null):null},lh=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return fs(n.concat(r))},St=function(e,n,r){if(!e)return fs();if(Am[e.type]){var i=Am[e.type](e,n);if(r&&n.size!==r.size){i=fs(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function Ed(t,e){var n=fs(["base"],t,e),r=fs(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function k6(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Pn(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var h=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(h=!0);h||(s.push(Ed(l,e)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(s.push(Ed(l,e)),l=[]),s.push(r[c]));l.length>0&&s.push(Ed(l,e));var f;n?(f=Ed(Pn(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var m=fs(["katex-html"],s);if(m.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=ke(m.height+m.depth),m.depth&&(p.style.verticalAlign=ke(-m.depth))}return m}function SO(t){return new Mh(t)}let $r=class{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Ao(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ua&&this.children[r+1]instanceof ua){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ua;)i+=this.children[++r].toText();e.appendChild(new ua(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ct.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ct.escape(Ao(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}};class ua{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ct.escape(this.toText())}toText(){return this.text}}class pJ{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:$r,TextNode:ua,SpaceNode:pJ,newDocumentFragment:SO},wi=function(e,n,r){return Gt[n][e]&&Gt[n][e].replace&&e.charCodeAt(0)!==55349&&!(gO.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Gt[n][e].replace),new Ie.TextNode(e)},J_=function(e){return e.length===1?e[0]:new Ie.MathNode("mrow",e)},e7=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;Gt[i][s]&&Gt[i][s].replace&&(s=Gt[i][s].replace);var l=ge.fontMap[r].fontName;return Q_(s,l,i)?ge.fontMap[r].variant:null};function fv(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ua&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof ua&&n.text===","}else return!1}var Mr=function(e,n,r){if(e.length===1){var i=jt(e[0],n);return r&&i instanceof $r&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],l,c=0;c<e.length;c++){var h=jt(e[c],n);if(h instanceof $r&&l instanceof $r){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(fv(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&fv(l))h.children=[...l.children,...h.children],s.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||fv(l))){var f=h.children[0];f instanceof $r&&f.type==="mn"&&(f.children=[...l.children,...f.children],s.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof ua&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof ua&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),s.pop())}}}s.push(h),l=h}return s},Ro=function(e,n,r){return J_(Mr(e,n,r))},jt=function(e,n){if(!e)return new Ie.MathNode("mrow");if(Cm[e.type]){var r=Cm[e.type](e,n);return r}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function eE(t,e,n,r,i){var s=Mr(t,n),l;s.length===1&&s[0]instanceof $r&&["mrow","mtable"].includes(s[0].type)?l=s[0]:l=new Ie.MathNode("mrow",s);var c=new Ie.MathNode("annotation",[new Ie.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ie.MathNode("semantics",[l,c]),f=new Ie.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return ge.makeSpan([m],[f])}var EO=function(e){return new Wa({style:e.displayMode?We.DISPLAY:We.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},TO=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=ge.makeSpan(r,[e])}return e},gJ=function(e,n,r){var i=EO(r),s;if(r.output==="mathml")return eE(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=k6(e,i);s=ge.makeSpan(["katex"],[l])}else{var c=eE(e,n,i,r.displayMode,!1),h=k6(e,i);s=ge.makeSpan(["katex"],[c,h])}return TO(s,r)},vJ=function(e,n,r){var i=EO(r),s=k6(e,i),l=ge.makeSpan(["katex"],[s]);return TO(l,r)},yJ={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},_J=function(e){var n=new Ie.MathNode("mo",[new Ie.TextNode(yJ[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},bJ={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},wJ=function(e){return e.type==="ordgroup"?e.body.length:1},xJ=function(e,n){function r(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var f=e,m=wJ(f.base),p,v,b;if(m>5)h==="widehat"||h==="widecheck"?(p=420,c=2364,b=.42,v=h+"4"):(p=312,c=2340,b=.34,v="tilde4");else{var x=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][x],p=[0,239,300,360,420][x],b=[0,.24,.3,.3,.36,.42][x],v=h+x):(c=[0,600,1033,2339,2340][x],p=[0,260,286,306,312][x],b=[0,.26,.286,.3,.306,.34][x],v="tilde"+x)}var S=new Co(v),E=new hs([S],{width:"100%",height:ke(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:ge.makeSvgSpan([],[E],n),minWidth:0,height:b}}else{var C=[],M=bJ[h],[T,O,B]=M,q=B/1e3,R=T.length,k,D;if(R===1){var H=M[3];k=["hide-tail"],D=[H]}else if(R===2)k=["halfarrow-left","halfarrow-right"],D=["xMinYMin","xMaxYMin"];else if(R===3)k=["brace-left","brace-center","brace-right"],D=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var V=0;V<R;V++){var j=new Co(T[V]),U=new hs([j],{width:"400em",height:ke(q),viewBox:"0 0 "+c+" "+B,preserveAspectRatio:D[V]+" slice"}),K=ge.makeSvgSpan([k[V]],[U],n);if(R===1)return{span:K,minWidth:O,height:q};K.style.height=ke(q),C.push(K)}return{span:ge.makeSpan(["stretchy"],C,n),minWidth:O,height:q}}}var{span:i,minWidth:s,height:l}=r();return i.height=l,i.style.height=ke(l),s>0&&(i.style.minWidth=ke(s)),i},SJ=function(e,n,r,i,s){var l,c=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=ge.makeSpan(["stretchy",n],[],s),n==="fbox"){var h=s.color&&s.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new I6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new I6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new hs(f,{width:"100%",height:ke(c)});l=ge.makeSvgSpan([],[m],s)}return l.height=c,l.style.height=ke(c),l},ds={encloseSpan:SJ,mathMLnode:_J,svgSpan:xJ};function ct(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function t7(t){var e=m1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function m1(t){return t&&(t.type==="atom"||XW.hasOwnProperty(t.type))?t:null}var n7=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=ct(t.base,"accent"),n=r.base,t.base=n,i=$W(St(t,e)),t.base=r):(r=ct(t,"accent"),n=r.base);var s=St(n,e.havingCrampedStyle()),l=r.isShifty&&Ct.isCharacterBox(n),c=0;if(l){var h=Ct.getBaseElem(n),f=St(h,e.havingCrampedStyle());c=YS(f).skew}var m=r.label==="\\c",p=m?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),v;if(r.isStretchy)v=ds.svgSpan(r,e),v=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},e);else{var b,x;r.label==="\\vec"?(b=ge.staticSvg("vec",e),x=ge.svgData.vec[1]):(b=ge.makeOrd({mode:r.mode,text:r.label},e,"textord"),b=YS(b),b.italic=0,x=b.width,m&&(p+=b.depth)),v=ge.makeSpan(["accent-body"],[b]);var S=r.label==="\\textcircled";S&&(v.classes.push("accent-full"),p=s.height);var E=c;S||(E-=x/2),v.style.left=ke(E),r.label==="\\textcircled"&&(v.style.top=".2em"),v=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-p},{type:"elem",elem:v}]},e)}var C=ge.makeSpan(["mord","accent"],[v],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},AO=(t,e)=>{var n=t.isStretchy?ds.mathMLnode(t.label):new Ie.MathNode("mo",[wi(t.label,t.mode)]),r=new Ie.MathNode("mover",[jt(t.base,e),n]);return r.setAttribute("accent","true"),r},EJ=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Rm(e[0]),r=!EJ.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:n7,mathmlBuilder:AO});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:n7,mathmlBuilder:AO});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=St(t.base,e),r=ds.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=ge.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return ge.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ds.mathMLnode(t.label),r=new Ie.MathNode("munder",[jt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Td=t=>{var e=new Ie.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=ge.wrapFragment(St(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=ge.wrapFragment(St(t.below,r,e),e),l.classes.push(s+"-arrow-pad"));var c=ds.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:p}]},e)}else m=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),ge.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=ds.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Td(jt(t.body,e));if(t.below){var s=Td(jt(t.below,e));r=new Ie.MathNode("munderover",[n,s,i])}else r=new Ie.MathNode("mover",[n,i])}else if(t.below){var l=Td(jt(t.below,e));r=new Ie.MathNode("munder",[n,l])}else r=Td(),r=new Ie.MathNode("mover",[n,r]);return r}});var TJ=ge.makeSpan;function CO(t,e){var n=Pn(t.body,e,!0);return TJ([t.mclass],n,e)}function RO(t,e){var n,r=Mr(t.body,e);return t.mclass==="minner"?n=new Ie.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ie.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ie.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:xn(i),isCharacterBox:Ct.isCharacterBox(i)}},htmlBuilder:CO,mathmlBuilder:RO});var p1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:p1(e[0]),body:xn(e[1]),isCharacterBox:Ct.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],l;r!=="\\stackrel"?l=p1(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:xn(i)},h={type:"supsub",mode:s.mode,base:c,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:Ct.isCharacterBox(h)}},htmlBuilder:CO,mathmlBuilder:RO});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:p1(e[0]),body:xn(e[0])}},htmlBuilder(t,e){var n=Pn(t.body,e,!0),r=ge.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Mr(t.body,e),r=new Ie.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var AJ={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},tE=()=>({type:"styling",body:[],mode:"math",style:"display"}),nE=t=>t.type==="textord"&&t.text==="@",CJ=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function RJ(t,e,n){var r=AJ[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[s],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function IJ(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var l=e[s],c=tE(),h=0;h<l.length;h++)if(!nE(l[h]))c.body.push(l[h]);else{r.push(c),h+=1;var f=t7(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var v=!0,b=h+1;b<l.length;b++){if(CJ(l[b],f)){v=!1,h=b;break}if(nE(l[b]))throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(v)throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new Ne('Expected one of "<>AV=|." after @',l[h]);var x=RJ(f,m,t),S={type:"styling",body:[x],mode:"math",style:"display"};r.push(S),c=tE()}s%2===0?r.push(c):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ge.wrapFragment(St(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ie.MathNode("mrow",[jt(t.label,e)]);return n=new Ie.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ie.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ge.wrapFragment(St(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ie.MathNode("mrow",[jt(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ct(e[0],"ordgroup"),i=r.body,s="",l=0;l<i.length;l++){var c=ct(i[l],"textord");s+=c.text}var h=parseInt(s),f;if(isNaN(h))throw new Ne("\\@char has non-numeric argument "+s);if(h<0||h>=1114111)throw new Ne("\\@char with invalid code point "+s);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var IO=(t,e)=>{var n=Pn(t.body,e.withColor(t.color),!1);return ge.makeFragment(n)},NO=(t,e)=>{var n=Mr(t.body,e.withColor(t.color)),r=new Ie.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ct(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:xn(i)}},htmlBuilder:IO,mathmlBuilder:NO});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ct(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:IO,mathmlBuilder:NO});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&ct(i,"size").value}},htmlBuilder(t,e){var n=ge.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(on(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ie.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(on(t.size,e)))),n}});var D6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},MO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ne("Expected a control sequence",t);return e},NJ=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},kO=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(D6[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=D6[r.text]),ct(e.parseFunction(),"internal");throw new Ne("Invalid token after macro prefix",r)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ne("Expected a control sequence",r);for(var s=0,l,c=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Ne('Argument number "'+r.text+'" out of order');s++,c.push([])}else{if(r.text==="EOF")throw new Ne("Expected a macro definition");c[s].push(r.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:s,delimiters:c},n===D6[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=MO(e.gullet.popToken());e.gullet.consumeSpaces();var i=NJ(e);return kO(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=MO(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return kO(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var C0=function(e,n,r){var i=Gt.math[e]&&Gt.math[e].replace,s=Q_(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},r7=function(e,n,r,i){var s=r.havingBaseStyle(n),l=ge.makeSpan(i.concat(s.sizingClasses(r)),[e],r),c=s.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=s.sizeMultiplier,l},DO=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(s),e.height-=s,e.depth+=s},MJ=function(e,n,r,i,s,l){var c=ge.makeSymbol(e,"Main-Regular",s,i),h=r7(c,n,i,l);return r&&DO(h,i,n),h},kJ=function(e,n,r,i){return ge.makeSymbol(e,"Size"+n+"-Regular",r,i)},OO=function(e,n,r,i,s,l){var c=kJ(e,n,s,i),h=r7(ge.makeSpan(["delimsizing","size"+n],[c],i),We.TEXT,i,l);return r&&DO(h,i,We.TEXT),h},dv=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ge.makeSpan(["delimsizinginner",i],[ge.makeSpan([],[ge.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},mv=function(e,n,r){var i=la["Size4-Regular"][e.charCodeAt(0)]?la["Size4-Regular"][e.charCodeAt(0)][4]:la["Size1-Regular"][e.charCodeAt(0)][4],s=new Co("inner",LW(e,Math.round(1e3*n))),l=new hs([s],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=ge.makeSvgSpan([],[l],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},O6=.008,Ad={type:"kern",size:-1*O6},DJ=["|","\\lvert","\\rvert","\\vert"],OJ=["\\|","\\lVert","\\rVert","\\Vert"],zO=function(e,n,r,i,s,l){var c,h,f,m,p="",v=0;c=f=m=e,h=null;var b="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):DJ.includes(e)?(f="",p="vert",v=333):OJ.includes(e)?(f="",p="doublevert",v=556):e==="["||e==="\\lbrack"?(c="",f="",m="",b="Size4-Regular",p="lbrack",v=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",b="Size4-Regular",p="rbrack",v=667):e==="\\lfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="lfloor",v=667):e==="\\lceil"||e===""?(c="",f=m="",b="Size4-Regular",p="lceil",v=667):e==="\\rfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="rfloor",v=667):e==="\\rceil"||e===""?(c="",f=m="",b="Size4-Regular",p="rceil",v=667):e==="("||e==="\\lparen"?(c="",f="",m="",b="Size4-Regular",p="lparen",v=875):e===")"||e==="\\rparen"?(c="",f="",m="",b="Size4-Regular",p="rparen",v=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",b="Size4-Regular");var x=C0(c,b,s),S=x.height+x.depth,E=C0(f,b,s),C=E.height+E.depth,M=C0(m,b,s),T=M.height+M.depth,O=0,B=1;if(h!==null){var q=C0(h,b,s);O=q.height+q.depth,B=2}var R=S+T+O,k=Math.max(0,Math.ceil((n-R)/(B*C))),D=R+k*B*C,H=i.fontMetrics().axisHeight;r&&(H*=i.sizeMultiplier);var V=D/2-H,j=[];if(p.length>0){var U=D-S-T,K=Math.round(D*1e3),ne=qW(p,Math.round(U*1e3)),$=new Co(p,ne),ee=(v/1e3).toFixed(3)+"em",re=(K/1e3).toFixed(3)+"em",ce=new hs([$],{width:ee,height:re,viewBox:"0 0 "+v+" "+K}),de=ge.makeSvgSpan([],[ce],i);de.height=K/1e3,de.style.width=ee,de.style.height=re,j.push({type:"elem",elem:de})}else{if(j.push(dv(m,b,s)),j.push(Ad),h===null){var Y=D-S-T+2*O6;j.push(mv(f,Y,i))}else{var W=(D-S-T-O)/2+2*O6;j.push(mv(f,W,i)),j.push(Ad),j.push(dv(h,b,s)),j.push(Ad),j.push(mv(f,W,i))}j.push(Ad),j.push(dv(c,b,s))}var me=i.havingBaseStyle(We.TEXT),Q=ge.makeVList({positionType:"bottom",positionData:V,children:j},me);return r7(ge.makeSpan(["delimsizing","mult"],[Q],me),We.TEXT,i,l)},pv=80,gv=.08,vv=function(e,n,r,i,s){var l=VW(e,i,r),c=new Co(e,l),h=new hs([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ge.makeSvgSpan(["hide-tail"],[h],s)},zJ=function(e,n){var r=n.havingBaseSizing(),i=PO("\\surd",e*r.sizeMultiplier,qO,r),s=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,h=0,f=0,m=0,p;return i.type==="small"?(m=1e3+1e3*l+pv,e<1?s=1:e<1.4&&(s=.7),h=(1+l+gv)/s,f=(1+l)/s,c=vv("sqrtMain",h,m,l,n),c.style.minWidth="0.853em",p=.833/s):i.type==="large"?(m=(1e3+pv)*U0[i.size],f=(U0[i.size]+l)/s,h=(U0[i.size]+l+gv)/s,c=vv("sqrtSize"+i.size,h,m,l,n),c.style.minWidth="1.02em",p=1/s):(h=e+l+gv,f=e+l,m=Math.floor(1e3*e+l)+pv,c=vv("sqrtTall",h,m,l,n),c.style.minWidth="0.742em",p=1.056),c.height=f,c.style.height=ke(h),{span:c,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*s}},VO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],VJ=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],LO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],U0=[0,1.2,1.8,2.4,3],LJ=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),VO.includes(e)||LO.includes(e))return OO(e,n,!1,r,i,s);if(VJ.includes(e))return zO(e,U0[n],!1,r,i,s);throw new Ne("Illegal delimiter: '"+e+"'")},qJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],PJ=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],qO=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],BJ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},PO=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),l=s;l<r.length&&r[l].type!=="stack";l++){var c=C0(e,BJ(r[l]),"math"),h=c.height+c.depth;if(r[l].type==="small"){var f=i.havingBaseStyle(r[l].style);h*=f.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},BO=function(e,n,r,i,s,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;LO.includes(e)?c=qJ:VO.includes(e)?c=qO:c=PJ;var h=PO(e,n,c,i);return h.type==="small"?MJ(e,h.style,r,i,s,l):h.type==="large"?OO(e,h.size,r,i,s,l):zO(e,n,r,i,s,l)},UJ=function(e,n,r,i,s,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(n-c,r+c),p=Math.max(m/500*h,2*m-f);return BO(e,p,!0,i,s,l)},is={sqrtImage:zJ,sizedDelim:LJ,sizeToMaxHeight:U0,customSizedDelim:BO,leftRightDelim:UJ},rE={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},jJ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function g1(t,e){var n=m1(t);if(n&&jJ.includes(n.text))return n;throw n?new Ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ne("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=g1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:rE[t.funcName].size,mclass:rE[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ge.makeSpan([t.mclass]):is.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(wi(t.delim,t.mode));var n=new Ie.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(is.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function iE(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:g1(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=g1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=ct(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{iE(t);for(var n=Pn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,l=0;l<n.length;l++)n[l].isMiddle?s=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=lh(e,["mopen"]):c=is.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(c),s)for(var h=1;h<n.length;h++){var f=n[h],m=f.isMiddle;m&&(n[h]=is.leftRightDelim(m.delim,r,i,m.options,t.mode,[]))}var p;if(t.right===".")p=lh(e,["mclose"]);else{var v=t.rightColor?e.withColor(t.rightColor):e;p=is.leftRightDelim(t.right,r,i,v,t.mode,["mclose"])}return n.push(p),ge.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{iE(t);var n=Mr(t.body,e);if(t.left!=="."){var r=new Ie.MathNode("mo",[wi(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ie.MathNode("mo",[wi(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return J_(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=g1(e[0],t);if(!t.parser.leftrightDepth)throw new Ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=lh(e,[]);else{n=is.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?wi("|","text"):wi(t.delim,t.mode),r=new Ie.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var i7=(t,e)=>{var n=ge.wrapFragment(St(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,l=0,c=Ct.isCharacterBox(t.body);if(r==="sout")s=ge.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var h=on({number:.6,unit:"pt"},e),f=on({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=n.height+n.depth+h+f;n.style.paddingLeft=ke(p/2+h);var v=Math.floor(1e3*p*i),b=OW(v),x=new hs([new Co("phase",b)],{width:"400em",height:ke(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});s=ge.makeSvgSpan(["hide-tail"],[x],e),s.style.height=ke(p),l=n.depth+h+f}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,E=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),E=S):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*C,E=Math.max(0,.25-n.depth)):(S=c?.2:0,E=S),s=ds.encloseSpan(n,r,S,E,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=ke(C)):r==="angl"&&C!==.049&&(s.style.borderTopWidth=ke(C),s.style.borderRightWidth=ke(C)),l=n.depth+E,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var M;if(t.backgroundColor)M=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var T=/cancel|phase/.test(r)?["svg-align"]:[];M=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:l,wrapperClasses:T}]},e)}return/cancel/.test(r)&&(M.height=n.height,M.depth=n.depth),/cancel/.test(r)&&!c?ge.makeSpan(["mord","cancel-lap"],[M],e):ge.makeSpan(["mord"],[M],e)},a7=(t,e)=>{var n=0,r=new Ie.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[jt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=ct(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:l}},htmlBuilder:i7,mathmlBuilder:a7});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=ct(e[0],"color-token").color,l=ct(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:s,body:c}},htmlBuilder:i7,mathmlBuilder:a7});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:i7,mathmlBuilder:a7});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var UO={};function ba(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<n.length;++h)UO[n[h]]=c;s&&(Am[e]=s),l&&(Cm[e]=l)}var jO={};function G(t,e){jO[t]=e}function aE(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var v1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ne("{"+t.envName+"} can be used only in display mode.")};function s7(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Mo(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:f,emptySingleRow:m,maxNumCols:p,leqno:v}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Ne("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var x=[],S=[x],E=[],C=[],M=h!=null?[]:void 0;function T(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function O(){M&&(t.gullet.macros.get("\\df@tag")?(M.push(t.subparse([new Qr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):M.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),C.push(aE(t));;){var B=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),B={type:"ordgroup",mode:t.mode,body:B},n&&(B={type:"styling",mode:t.mode,style:n,body:[B]}),x.push(B);var q=t.fetch().text;if(q==="&"){if(p&&x.length===p){if(f||c)throw new Ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(q==="\\end"){O(),x.length===1&&B.type==="styling"&&B.body[0].body.length===0&&(S.length>1||!m)&&S.pop(),C.length<S.length+1&&C.push([]);break}else if(q==="\\\\"){t.consume();var R=void 0;t.gullet.future().text!==" "&&(R=t.parseSizeGroup(!0)),E.push(R?R.value:null),O(),C.push(aE(t)),x=[],S.push(x),T()}else throw new Ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:S,cols:s,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:c,tags:M,leqno:v}}function o7(t){return t.slice(0,1)==="d"?"display":"text"}var wa=function(e,n){var r,i,s=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(s),f=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,v=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(We.SCRIPT).sizeMultiplier;v=.2778*(b/n.sizeMultiplier)}var x=e.colSeparationType==="CD"?on({number:3,unit:"ex"},n):12*p,S=3*p,E=e.arraystretch*x,C=.7*E,M=.3*E,T=0;function O(Ht){for(var st=0;st<Ht.length;++st)st>0&&(T+=.25),f.push({pos:T,isDashed:Ht[st]})}for(O(l[0]),r=0;r<e.body.length;++r){var B=e.body[r],q=C,R=M;c<B.length&&(c=B.length);var k=new Array(B.length);for(i=0;i<B.length;++i){var D=St(B[i],n);R<D.depth&&(R=D.depth),q<D.height&&(q=D.height),k[i]=D}var H=e.rowGaps[r],V=0;H&&(V=on(H,n),V>0&&(V+=M,R<V&&(R=V),V=0)),e.addJot&&(R+=S),k.height=q,k.depth=R,T+=q,k.pos=T,T+=R+V,h[r]=k,O(l[r+1])}var j=T/2+n.fontMetrics().axisHeight,U=e.cols||[],K=[],ne,$,ee=[];if(e.tags&&e.tags.some(Ht=>Ht))for(r=0;r<s;++r){var re=h[r],ce=re.pos-j,de=e.tags[r],Y=void 0;de===!0?Y=ge.makeSpan(["eqn-num"],[],n):de===!1?Y=ge.makeSpan([],[],n):Y=ge.makeSpan([],Pn(de,n,!0),n),Y.depth=re.depth,Y.height=re.height,ee.push({type:"elem",elem:Y,shift:ce})}for(i=0,$=0;i<c||$<U.length;++i,++$){for(var W=U[$]||{},me=!0;W.type==="separator";){if(me||(ne=ge.makeSpan(["arraycolsep"],[]),ne.style.width=ke(n.fontMetrics().doubleRuleSep),K.push(ne)),W.separator==="|"||W.separator===":"){var Q=W.separator==="|"?"solid":"dashed",ie=ge.makeSpan(["vertical-separator"],[],n);ie.style.height=ke(T),ie.style.borderRightWidth=ke(m),ie.style.borderRightStyle=Q,ie.style.margin="0 "+ke(-m/2);var le=T-j;le&&(ie.style.verticalAlign=ke(-le)),K.push(ie)}else throw new Ne("Invalid separator type: "+W.separator);$++,W=U[$]||{},me=!1}if(!(i>=c)){var he=void 0;(i>0||e.hskipBeforeAndAfter)&&(he=Ct.deflt(W.pregap,v),he!==0&&(ne=ge.makeSpan(["arraycolsep"],[]),ne.style.width=ke(he),K.push(ne)));var _e=[];for(r=0;r<s;++r){var Ce=h[r],Ve=Ce[i];if(Ve){var He=Ce.pos-j;Ve.depth=Ce.depth,Ve.height=Ce.height,_e.push({type:"elem",elem:Ve,shift:He})}}_e=ge.makeVList({positionType:"individualShift",children:_e},n),_e=ge.makeSpan(["col-align-"+(W.align||"c")],[_e]),K.push(_e),(i<c-1||e.hskipBeforeAndAfter)&&(he=Ct.deflt(W.postgap,v),he!==0&&(ne=ge.makeSpan(["arraycolsep"],[]),ne.style.width=ke(he),K.push(ne)))}}if(h=ge.makeSpan(["mtable"],K),f.length>0){for(var je=ge.makeLineSpan("hline",n,m),Pe=ge.makeLineSpan("hdashline",n,m),Ge=[{type:"elem",elem:h,shift:0}];f.length>0;){var Be=f.pop(),it=Be.pos-j;Be.isDashed?Ge.push({type:"elem",elem:Pe,shift:it}):Ge.push({type:"elem",elem:je,shift:it})}h=ge.makeVList({positionType:"individualShift",children:Ge},n)}if(ee.length===0)return ge.makeSpan(["mord"],[h],n);var $e=ge.makeVList({positionType:"individualShift",children:ee},n);return $e=ge.makeSpan(["tag"],[$e],n),ge.makeFragment([h,$e])},HJ={c:"center ",l:"left ",r:"right "},xa=function(e,n){for(var r=[],i=new Ie.MathNode("mtd",[],["mtr-glue"]),s=new Ie.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],f=0;f<c.length;f++)h.push(new Ie.MathNode("mtd",[jt(c[f],n)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(s):h.push(s)),r.push(new Ie.MathNode("mtr",h))}var m=new Ie.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ke(p));var v="",b="";if(e.cols&&e.cols.length>0){var x=e.cols,S="",E=!1,C=0,M=x.length;x[0].type==="separator"&&(v+="top ",C=1),x[x.length-1].type==="separator"&&(v+="bottom ",M-=1);for(var T=C;T<M;T++)x[T].type==="align"?(b+=HJ[x[T].align],E&&(S+="none "),E=!0):x[T].type==="separator"&&E&&(S+=x[T].separator==="|"?"solid ":"dashed ",E=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(S)&&m.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var O=e.cols||[],B="",q=1;q<O.length;q++)B+=q%2?"0em ":"1em ";m.setAttribute("columnspacing",B.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var R="",k=e.hLinesBeforeRow;v+=k[0].length>0?"left ":"",v+=k[k.length-1].length>0?"right ":"";for(var D=1;D<k.length-1;D++)R+=k[D].length===0?"none ":k[D][0]?"dashed ":"solid ";return/[sd]/.test(R)&&m.setAttribute("rowlines",R.trim()),v!==""&&(m=new Ie.MathNode("menclose",[m]),m.setAttribute("notation",v.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ie.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},HO=function(e,n){e.envName.indexOf("ed")===-1&&v1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",l=Mo(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:s7(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",p=0;p<n[0].body.length;p++){var v=ct(n[0].body[p],"textord");m+=v.text}c=Number(m),h=c*2}var b=!h;l.body.forEach(function(C){for(var M=1;M<C.length;M+=2){var T=ct(C[M],"styling"),O=ct(T.body[0],"ordgroup");O.body.unshift(f)}if(b)h<C.length&&(h=C.length);else{var B=C.length/2;if(c<B)throw new Ne("Too many math in a row: "+("expected "+c+", but got "+B),C[0])}});for(var x=0;x<h;++x){var S="r",E=0;x%2===1?S="l":x>0&&b&&(E=1),r[x]={type:"align",align:S,pregap:E,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};ba({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=m1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=t7(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Ne("Unknown column alignment: "+h,l)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Mo(t.parser,s,o7(t.envName))},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Mo(t.parser,r,o7(t.envName)),l=Math.max(0,...s.body.map(c=>c.length));return s.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Mo(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=m1(e[0]),r=n?[e[0]]:ct(e[0],"ordgroup").body,i=r.map(function(l){var c=t7(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Ne("Unknown column alignment: "+h,l)});if(i.length>1)throw new Ne("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Mo(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Ne("{subarray} can contain only one column");return s},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Mo(t.parser,e,o7(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:HO,htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&v1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:s7(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Mo(t.parser,e,"display")},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:HO,htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){v1(t);var e={autoTag:s7(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Mo(t.parser,e,"display")},htmlBuilder:wa,mathmlBuilder:xa});ba({type:"array",names:["CD"],props:{numArgs:0},handler(t){return v1(t),IJ(t.parser)},htmlBuilder:wa,mathmlBuilder:xa});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ne(t.funcName+" valid only within array environment")}});var sE=UO;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ne("Invalid environment name",i);for(var s="",l=0;l<i.body.length;++l)s+=ct(i.body[l],"textord").text;if(r==="\\begin"){if(!sE.hasOwnProperty(s))throw new Ne("No such environment: "+s,i);var c=sE[s],{args:h,optArgs:f}=n.parseArguments("\\begin{"+s+"}",c),m={mode:n.mode,envName:s,parser:n},p=c.handler(m,h,f);n.expect("\\end",!1);var v=n.nextToken,b=ct(n.parseFunction(),"environment");if(b.name!==s)throw new Ne("Mismatch: \\begin{"+s+"} matched by \\end{"+b.name+"}",v);return p}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var FO=(t,e)=>{var n=t.font,r=e.withFont(n);return St(t.body,r)},GO=(t,e)=>{var n=t.font,r=e.withFont(n);return jt(t.body,r)},oE={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=Rm(e[0]),s=r;return s in oE&&(s=oE[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:FO,mathmlBuilder:GO});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Ct.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:p1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,l=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:s,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:FO,mathmlBuilder:GO});var $O=(t,e)=>{var n=e;return t==="display"?n=n.id>=We.SCRIPT.id?n.text():We.DISPLAY:t==="text"&&n.size===We.DISPLAY.size?n=We.TEXT:t==="script"?n=We.SCRIPT:t==="scriptscript"&&(n=We.SCRIPTSCRIPT),n},l7=(t,e)=>{var n=$O(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var l=St(t.numer,s,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}s=e.havingStyle(i);var f=St(t.denom,s,e),m,p,v;t.hasBarLine?(t.barSize?(p=on(t.barSize,e),m=ge.makeLineSpan("frac-line",e,p)):m=ge.makeLineSpan("frac-line",e),p=m.height,v=m.height):(m=null,p=0,v=e.fontMetrics().defaultRuleThickness);var b,x,S;n.size===We.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?x=3*v:x=7*v,S=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,x=v):(b=e.fontMetrics().num3,x=3*v),S=e.fontMetrics().denom2);var E;if(m){var M=e.fontMetrics().axisHeight;b-l.depth-(M+.5*p)<x&&(b+=x-(b-l.depth-(M+.5*p))),M-.5*p-(f.height-S)<x&&(S+=x-(M-.5*p-(f.height-S)));var T=-(M-.5*p);E=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:m,shift:T},{type:"elem",elem:l,shift:-b}]},e)}else{var C=b-l.depth-(f.height-S);C<x&&(b+=.5*(x-C),S+=.5*(x-C)),E=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:l,shift:-b}]},e)}s=e.havingStyle(n),E.height*=s.sizeMultiplier/e.sizeMultiplier,E.depth*=s.sizeMultiplier/e.sizeMultiplier;var O;n.size===We.DISPLAY.size?O=e.fontMetrics().delim1:n.size===We.SCRIPTSCRIPT.size?O=e.havingStyle(We.SCRIPT).fontMetrics().delim2:O=e.fontMetrics().delim2;var B,q;return t.leftDelim==null?B=lh(e,["mopen"]):B=is.customSizedDelim(t.leftDelim,O,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?q=ge.makeSpan([]):t.rightDelim==null?q=lh(e,["mclose"]):q=is.customSizedDelim(t.rightDelim,O,!0,e.havingStyle(n),t.mode,["mclose"]),ge.makeSpan(["mord"].concat(s.sizingClasses(e)),[B,ge.makeSpan(["mfrac"],[E]),q],e)},u7=(t,e)=>{var n=new Ie.MathNode("mfrac",[jt(t.numer,e),jt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=on(t.barSize,e);n.setAttribute("linethickness",ke(r))}var i=$O(t.size,e.style);if(i.size!==e.style.size){n=new Ie.MathNode("mstyle",[n]);var s=i.size===We.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ie.MathNode("mo",[new Ie.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var h=new Ie.MathNode("mo",[new Ie.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return J_(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],l,c=null,h=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:l,leftDelim:c,rightDelim:h,size:f,barSize:null}},htmlBuilder:l7,mathmlBuilder:u7});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var lE=["display","text","script","scriptscript"],uE=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=Rm(e[0]),l=s.type==="atom"&&s.family==="open"?uE(s.text):null,c=Rm(e[1]),h=c.type==="atom"&&c.family==="close"?uE(c.text):null,f=ct(e[2],"size"),m,p=null;f.isBlank?m=!0:(p=f.value,m=p.number>0);var v="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var x=ct(b.body[0],"textord");v=lE[Number(x.text)]}}else b=ct(b,"textord"),v=lE[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:h,size:v}},htmlBuilder:l7,mathmlBuilder:u7});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ct(e[0],"size").value,token:i}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=_W(ct(e[1],"infix").size),l=e[2],c=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:l7,mathmlBuilder:u7});var YO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?St(t.sup,e.havingStyle(n.sup()),e):St(t.sub,e.havingStyle(n.sub()),e),i=ct(t.base,"horizBrace")):i=ct(t,"horizBrace");var s=St(i.base,e.havingBaseStyle(We.DISPLAY)),l=ds.svgSpan(i,e),c;if(i.isOver?(c=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=ge.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),r){var h=ge.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},e):c=ge.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return ge.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},FJ=(t,e)=>{var n=ds.mathMLnode(t.label);return new Ie.MathNode(t.isOver?"mover":"munder",[jt(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:YO,mathmlBuilder:FJ});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ct(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:xn(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Pn(t.body,e,!1);return ge.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Ro(t.body,e);return n instanceof $r||(n=new $r("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ct(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var l=r[s];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:xn(c)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:xn(e[0])}},htmlBuilder(t,e){var n=Pn(t.body,e,!1);return ge.makeFragment(n)},mathmlBuilder(t,e){return new Ie.MathNode("mrow",Mr(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=ct(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(r){case"\\htmlClass":h.class=s,c={command:"\\htmlClass",class:s};break;case"\\htmlId":h.id=s,c={command:"\\htmlId",id:s};break;case"\\htmlStyle":h.style=s,c={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),m=0;m<f.length;m++){var p=f[m],v=p.indexOf("=");if(v<0)throw new Ne("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,v),x=p.slice(v+1);h["data-"+b.trim()]=x}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:h,body:xn(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Pn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=ge.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Ro(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:xn(e[0]),mathml:xn(e[1])}},htmlBuilder:(t,e)=>{var n=Pn(t.html,e,!1);return ge.makeFragment(n)},mathmlBuilder:(t,e)=>Ro(t.mathml,e)});var yv=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!fO(r))throw new Ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var h=ct(n[0],"raw").string,f=h.split(","),m=0;m<f.length;m++){var p=f[m].split("=");if(p.length===2){var v=p[1].trim();switch(p[0].trim()){case"alt":c=v;break;case"width":i=yv(v);break;case"height":s=yv(v);break;case"totalheight":l=yv(v);break;default:throw new Ne("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=ct(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:s,totalheight:l,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=on(t.height,e),r=0;t.totalheight.number>0&&(r=on(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=on(t.width,e));var s={height:ke(n+r)};i>0&&(s.width=ke(i)),r>0&&(s.verticalAlign=ke(-r));var l=new FW(t.src,t.alt,s);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=on(t.height,e),i=0;if(t.totalheight.number>0&&(i=on(t.totalheight,e)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),t.width.number>0){var s=on(t.width,e);n.setAttribute("width",ke(s))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ct(e[0],"size");if(n.settings.strict){var s=r[1]==="m",l=i.value.unit==="mu";s?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return ge.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=on(t.dimension,e);return new Ie.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ge.makeSpan([],[St(t.body,e)]),n=ge.makeSpan(["inner"],[n],e)):n=ge.makeSpan(["inner"],[St(t.body,e)]);var r=ge.makeSpan(["fix"],[]),i=ge.makeSpan([t.alignment],[n,r],e),s=ge.makeSpan(["strut"]);return s.style.height=ke(i.height+i.depth),i.depth&&(s.style.verticalAlign=ke(-i.depth)),i.children.unshift(s),i=ge.makeSpan(["thinbox"],[i],e),ge.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[jt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",l=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ne("Mismatched "+t.funcName)}});var cE=(t,e)=>{switch(e.style.size){case We.DISPLAY.size:return t.display;case We.TEXT.size:return t.text;case We.SCRIPT.size:return t.script;case We.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:xn(e[0]),text:xn(e[1]),script:xn(e[2]),scriptscript:xn(e[3])}},htmlBuilder:(t,e)=>{var n=cE(t,e),r=Pn(n,e,!1);return ge.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=cE(t,e);return Ro(n,e)}});var XO=(t,e,n,r,i,s,l)=>{t=ge.makeSpan([],[t]);var c=n&&Ct.isCharacterBox(n),h,f;if(e){var m=St(e,r.havingStyle(i.sup()),r);f={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var p=St(n,r.havingStyle(i.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var v;if(f&&h){var b=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;v=ge.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-s)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var x=t.height-l;v=ge.makeVList({positionType:"top",positionData:x,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-s)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+l;v=ge.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var E=[v];if(h&&s!==0&&!c){var C=ge.makeSpan(["mspace"],[],r);C.style.marginRight=ke(s),E.unshift(C)}return ge.makeSpan(["mop","op-limits"],E,r)},KO=["\\smallint"],yc=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=ct(t.base,"op"),i=!0):s=ct(t,"op");var l=e.style,c=!1;l.size===We.DISPLAY.size&&s.symbol&&!KO.includes(s.name)&&(c=!0);var h;if(s.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(m=s.name.slice(1),s.name=m==="oiint"?"\\iint":"\\iiint"),h=ge.makeSymbol(s.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=h.italic,v=ge.staticSvg(m+"Size"+(c?"2":"1"),e);h=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},e),s.name="\\"+m,h.classes.unshift("mop"),h.italic=p}}else if(s.body){var b=Pn(s.body,e,!0);b.length===1&&b[0]instanceof bi?(h=b[0],h.classes[0]="mop"):h=ge.makeSpan(["mop"],b,e)}else{for(var x=[],S=1;S<s.name.length;S++)x.push(ge.mathsym(s.name[S],s.mode,e));h=ge.makeSpan(["mop"],x,e)}var E=0,C=0;return(h instanceof bi||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(E=(h.height-h.depth)/2-e.fontMetrics().axisHeight,C=h.italic),i?XO(h,n,r,e,l,C,E):(E&&(h.style.position="relative",h.style.top=ke(E)),h)},Dh=(t,e)=>{var n;if(t.symbol)n=new $r("mo",[wi(t.name,t.mode)]),KO.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new $r("mo",Mr(t.body,e));else{n=new $r("mi",[new ua(t.name.slice(1))]);var r=new $r("mo",[wi("","text")]);t.parentIsSupSub?n=new $r("mrow",[n,r]):n=SO([n,r])}return n},GJ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=GJ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:yc,mathmlBuilder:Dh});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:xn(r)}},htmlBuilder:yc,mathmlBuilder:Dh});var $J={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:yc,mathmlBuilder:Dh});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:yc,mathmlBuilder:Dh});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=$J[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:yc,mathmlBuilder:Dh});var QO=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=ct(t.base,"operatorname"),i=!0):s=ct(t,"operatorname");var l;if(s.body.length>0){for(var c=s.body.map(p=>{var v=p.text;return typeof v=="string"?{type:"textord",mode:p.mode,text:v}:p}),h=Pn(c,e.withFont("mathrm"),!0),f=0;f<h.length;f++){var m=h[f];m instanceof bi&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ge.makeSpan(["mop"],h,e)}else l=ge.makeSpan(["mop"],[],e);return i?XO(l,n,r,e,e.style,0,0):l},YJ=(t,e)=>{for(var n=Mr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof Ie.SpaceNode))if(s instanceof Ie.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=s.children[0];s.children.length===1&&l instanceof Ie.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(m=>m.toText()).join("");n=[new Ie.TextNode(c)]}var h=new Ie.MathNode("mi",n);h.setAttribute("mathvariant","normal");var f=new Ie.MathNode("mo",[wi("","text")]);return t.parentIsSupSub?new Ie.MathNode("mrow",[h,f]):Ie.newDocumentFragment([h,f])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:xn(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:QO,mathmlBuilder:YJ});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Dl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ge.makeFragment(Pn(t.body,e,!1)):ge.makeSpan(["mord"],Pn(t.body,e,!0),e)},mathmlBuilder(t,e){return Ro(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=St(t.body,e.havingCrampedStyle()),r=ge.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ge.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("mover",[jt(t.body,e),n]);return r.setAttribute("accent","true"),r}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:xn(r)}},htmlBuilder:(t,e)=>{var n=Pn(t.body,e.withPhantom(),!1);return ge.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Mr(t.body,e);return new Ie.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ge.makeSpan([],[St(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ge.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Mr(xn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ge.makeSpan(["inner"],[St(t.body,e.withPhantom())]),r=ge.makeSpan(["fix"],[]);return ge.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Mr(xn(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ct(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=St(t.body,e),r=on(t.dy,e);return ge.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mpadded",[jt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=ct(e[0],"size"),l=ct(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ct(i,"size").value,width:s.value,height:l.value}},htmlBuilder(t,e){var n=ge.makeSpan(["mord","rule"],[],e),r=on(t.width,e),i=on(t.height,e),s=t.shift?on(t.shift,e):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=on(t.width,e),r=on(t.height,e),i=t.shift?on(t.shift,e):0,s=e.color&&e.getColor()||"black",l=new Ie.MathNode("mspace");l.setAttribute("mathbackground",s),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(r));var c=new Ie.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function ZO(t,e,n){for(var r=Pn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var l=r[s].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[l+1]==="reset-size"+e.size&&(r[s].classes[l+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return ge.makeFragment(r)}var hE=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],XJ=(t,e)=>{var n=e.havingSize(t.size);return ZO(t.body,n,e)};ze({type:"sizing",names:hE,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:hE.indexOf(r)+1,body:s}},htmlBuilder:XJ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Mr(t.body,n),i=new Ie.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,l=n[0]&&ct(n[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var f=l.body[h];if(c=f.text,c==="t")i=!0;else if(c==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var m=e[0];return{type:"smash",mode:r.mode,body:m,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=ge.makeSpan([],[St(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ge.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[jt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=St(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ge.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<We.TEXT.id&&(s=e.fontMetrics().xHeight);var l=i+s/4,c=n.height+n.depth+l+i,{span:h,ruleWidth:f,advanceWidth:m}=is.sqrtImage(c,e),p=h.height-f;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var v=h.height-n.height-l-f;n.style.paddingLeft=ke(m);var b=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+v)},{type:"elem",elem:h},{type:"kern",size:f}]},e);if(t.index){var x=e.havingStyle(We.SCRIPTSCRIPT),S=St(t.index,x,e),E=.6*(b.height-b.depth),C=ge.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:S}]},e),M=ge.makeSpan(["root"],[C]);return ge.makeSpan(["mord","sqrt"],[M,b],e)}else return ge.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ie.MathNode("mroot",[jt(n,e),jt(r,e)]):new Ie.MathNode("msqrt",[jt(n,e)])}});var fE={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:s}},htmlBuilder(t,e){var n=fE[t.style],r=e.havingStyle(n).withFont("");return ZO(t.body,r,e)},mathmlBuilder(t,e){var n=fE[t.style],r=e.havingStyle(n),i=Mr(t.body,r),s=new Ie.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return s.setAttribute("scriptlevel",c[0]),s.setAttribute("displaystyle",c[1]),s}});var KJ=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===We.DISPLAY.size||r.alwaysHandleSupSub);return i?yc:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===We.DISPLAY.size||r.limits);return s?QO:null}else{if(r.type==="accent")return Ct.isCharacterBox(r.base)?n7:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?YO:null}else return null}else return null};Dl({type:"supsub",htmlBuilder(t,e){var n=KJ(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,l=St(r,e),c,h,f=e.fontMetrics(),m=0,p=0,v=r&&Ct.isCharacterBox(r);if(i){var b=e.havingStyle(e.style.sup());c=St(i,b,e),v||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(s){var x=e.havingStyle(e.style.sub());h=St(s,x,e),v||(p=l.depth+x.fontMetrics().subDrop*x.sizeMultiplier/e.sizeMultiplier)}var S;e.style===We.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var E=e.sizeMultiplier,C=ke(.5/f.ptPerEm/E),M=null;if(h){var T=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof bi||T)&&(M=ke(-l.italic))}var O;if(c&&h){m=Math.max(m,S,c.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var B=f.defaultRuleThickness,q=4*B;if(m-c.depth-(h.height-p)<q){p=q-(m-c.depth)+h.height;var R=.8*f.xHeight-(m-c.depth);R>0&&(m+=R,p-=R)}var k=[{type:"elem",elem:h,shift:p,marginRight:C,marginLeft:M},{type:"elem",elem:c,shift:-m,marginRight:C}];O=ge.makeVList({positionType:"individualShift",children:k},e)}else if(h){p=Math.max(p,f.sub1,h.height-.8*f.xHeight);var D=[{type:"elem",elem:h,marginLeft:M,marginRight:C}];O=ge.makeVList({positionType:"shift",positionData:p,children:D},e)}else if(c)m=Math.max(m,S,c.depth+.25*f.xHeight),O=ge.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var H=M6(l,"right")||"mord";return ge.makeSpan([H],[l,ge.makeSpan(["msupsub"],[O])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[jt(t.base,e)];t.sub&&s.push(jt(t.sub,e)),t.sup&&s.push(jt(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===We.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===We.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===We.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===We.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===We.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===We.DISPLAY)?l="mover":l="msup"}return new Ie.MathNode(l,s)}});Dl({type:"atom",htmlBuilder(t,e){return ge.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[wi(t.text,t.mode)]);if(t.family==="bin"){var r=e7(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var WO={mi:"italic",mn:"normal",mtext:"normal"};Dl({type:"mathord",htmlBuilder(t,e){return ge.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ie.MathNode("mi",[wi(t.text,t.mode,e)]),r=e7(t,e)||"italic";return r!==WO[n.type]&&n.setAttribute("mathvariant",r),n}});Dl({type:"textord",htmlBuilder(t,e){return ge.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=wi(t.text,t.mode,e),r=e7(t,e)||"normal",i;return t.mode==="text"?i=new Ie.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ie.MathNode("mn",[n]):t.text==="\\prime"?i=new Ie.MathNode("mo",[n]):i=new Ie.MathNode("mi",[n]),r!==WO[i.type]&&i.setAttribute("mathvariant",r),i}});var _v={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},bv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Dl({type:"spacing",htmlBuilder(t,e){if(bv.hasOwnProperty(t.text)){var n=bv[t.text].className||"";if(t.mode==="text"){var r=ge.makeOrd(t,e,"textord");return r.classes.push(n),r}else return ge.makeSpan(["mspace",n],[ge.mathsym(t.text,t.mode,e)],e)}else{if(_v.hasOwnProperty(t.text))return ge.makeSpan(["mspace",_v[t.text]],[],e);throw new Ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(bv.hasOwnProperty(t.text))n=new Ie.MathNode("mtext",[new Ie.TextNode("")]);else{if(_v.hasOwnProperty(t.text))return new Ie.MathNode("mspace");throw new Ne('Unknown type of space "'+t.text+'"')}return n}});var dE=()=>{var t=new Ie.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Dl({type:"tag",mathmlBuilder(t,e){var n=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[dE(),new Ie.MathNode("mtd",[Ro(t.body,e)]),dE(),new Ie.MathNode("mtd",[Ro(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var mE={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},pE={"\\textbf":"textbf","\\textmd":"textmd"},QJ={"\\textit":"textit","\\textup":"textup"},gE=(t,e)=>{var n=t.font;if(n){if(mE[n])return e.withTextFontFamily(mE[n]);if(pE[n])return e.withTextFontWeight(pE[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(QJ[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:xn(i),font:r}},htmlBuilder(t,e){var n=gE(t,e),r=Pn(t.body,n,!0);return ge.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=gE(t,e);return Ro(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=St(t.body,e),r=ge.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ge.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return ge.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("munder",[jt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=St(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return ge.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ie.MathNode("mpadded",[jt(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=vE(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var l=n[s];l==="~"&&(l="\\textasciitilde"),r.push(ge.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ge.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ge.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ie.TextNode(vE(t)),r=new Ie.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var vE=t=>t.body.replace(/ /g,t.star?"":""),ho=wO,JO=`[ \r
	]`,ZJ="\\\\[a-zA-Z@]+",WJ="\\\\[^\uD800-\uDFFF]",JJ="("+ZJ+")"+JO+"*",eee=`\\\\(
|[ \r	]+
?)[ \r	]*`,z6="[-]",tee=new RegExp(z6+"+$"),nee="("+JO+"+)|"+(eee+"|")+"([!-\\[\\]---]"+(z6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(z6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+JJ)+("|"+WJ+")");class yE{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(nee,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Qr("EOF",new Rr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ne("Unexpected character: '"+e[n]+"'",new Qr(e[n],new Rr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Qr(i,new Rr(this,n,this.tokenRegex.lastIndex))}}class ree{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var iee=jO;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var _E={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=_E[e.text],r==null||r>=n)throw new Ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=_E[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var c7=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ne("\\newcommand's first argument must be a macro name");var s=i[0].text,l=t.isDefined(s);if(l&&!e)throw new Ne("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!l&&!n)throw new Ne("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Ne("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&r||t.macros.set(s,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>c7(t,!1,!0,!1));G("\\renewcommand",t=>c7(t,!0,!1,!1));G("\\providecommand",t=>c7(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});G("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),ho[n],Gt.math[n],Gt.text[n]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var bE={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in bE?e=bE[n]:(n.slice(0,4)==="\\not"||n in Gt.math&&["bin","rel"].includes(Gt.math[n].group))&&(e="\\dotsb"),e});var h7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in h7?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in h7&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in h7?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var ez=ke(la["Main-Regular"][84][1]-.7*la["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+ez+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+ez+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var tz=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=p=>v=>{t&&(v.macros.set("|",l),i.length&&v.macros.set("\\|",c));var b=p;if(!p&&i.length){var x=v.future();x.text==="|"&&(v.popToken(),b=!0)}return{tokens:b?i:r,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",tz(!1));G("\\bra@set",tz(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var nz={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class aee{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new ree(iee,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new yE(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Qr("EOF",r.loc)),this.pushTokens(i),new Qr("",Rr.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,l=0,c=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++l;else if(s.text==="}"){if(--l,l===-1)throw new Ne("Extra }",s)}else if(s.text==="EOF")throw new Ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[c]:"}")+"'",s);if(e&&r)if((l===0||l===1&&e[c]==="{")&&s.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Ne("Use of the macro doesn't match its definition",s)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ne("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ne("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var c=s.length-1;c>=0;--c){var h=s[c];if(h.text==="#"){if(c===0)throw new Ne("Incomplete placeholder at end of macro body",h);if(h=s[--c],h.text==="#")s.splice(c+1,1);else if(/^[1-9]$/.test(h.text))s.splice(c,2,...l[+h.text-1]);else throw new Ne("Not a valid argument number",h)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Qr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(s+1))!==-1;)++s;for(var c=new yE(i,this.settings),h=[],f=c.lex();f.text!=="EOF";)h.push(f),f=c.lex();h.reverse();var m={tokens:h,numArgs:s};return m}return i}isDefined(e){return this.macros.has(e)||ho.hasOwnProperty(e)||Gt.math.hasOwnProperty(e)||Gt.text.hasOwnProperty(e)||nz.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:ho.hasOwnProperty(e)&&!ho[e].primitive}}var wE=/^[]/,Cd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),wv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},xE={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class y1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new aee(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Qr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(y1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&ho[i.text]&&ho[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,l,c=e.slice(0,n),h=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],l],[]):f=this.callFunction(r,[s,l],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new Ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var l=s.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new Ne("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Ne("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Ne("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Ne("Double superscript",s);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(Cd[s.text]){var f=wE.test(s.text),m=[];for(m.push(new Qr(Cd[s.text])),this.consume();;){var p=this.fetch().text;if(!Cd[p]||wE.test(p)!==f)break;m.unshift(new Qr(Cd[p])),this.consume()}var v=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=ho[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new Ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Ne("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(i,s);return this.callFunction(i,l,c,r,e)}callFunction(e,n,r,i,s){var l={funcName:e,parser:this,token:i,breakOnTokenText:s},c=ho[e];if(c&&c.handler)return c.handler(l,n,r);throw new Ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&s[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)s.push(f);else if(f!=null)i.push(f);else throw new Ne("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Ne("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Ne("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",l;(l=this.fetch()).text!=="EOF"&&e.test(s+l.text);)i=l,s+=i.text,this.consume();if(s==="")throw new Ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ne("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!fO(s))throw new Ne("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Rr.range(r,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!nz.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ne("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Rr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Rr.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Rr.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}xE.hasOwnProperty(n[0])&&!Gt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=xE[n[0]]+n.slice(1));var s=tee.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Gt[this.mode][n]){this.settings.strict&&this.mode==="math"&&N6.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=Gt[this.mode][n].group,h=Rr.range(e),f;if(YW.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:h,text:n}}else f={type:c,mode:this.mode,loc:h,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(hO(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Rr.range(e),text:n};else return null;if(this.consume(),s)for(var p=0;p<s[0].length;p++){var v=s[0][p];if(!wv[v])throw new Ne("Unknown accent ' "+v+"'",e);var b=wv[v][this.mode]||wv[v].text;if(!b)throw new Ne("Accent "+v+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Rr.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}y1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var f7=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new y1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Qr("\\df@tag")])}]}return i},rz=function(e,n,r){n.textContent="";var i=d7(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),rz=function(){throw new Ne("KaTeX doesn't work in quirks mode.")});var see=function(e,n){var r=d7(e,n).toMarkup();return r},oee=function(e,n){var r=new X_(n);return f7(e,r)},iz=function(e,n,r){if(r.throwOnError||!(e instanceof Ne))throw e;var i=ge.makeSpan(["katex-error"],[new bi(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},d7=function(e,n){var r=new X_(n);try{var i=f7(e,r);return gJ(i,e,r)}catch(s){return iz(s,e,r)}},lee=function(e,n){var r=new X_(n);try{var i=f7(e,r);return vJ(i,e,r)}catch(s){return iz(s,e,r)}},uee="0.16.27",cee={Span:kh,Anchor:Z_,SymbolNode:bi,SvgNode:hs,PathNode:Co,LineNode:I6},hee={version:uee,render:rz,renderToString:see,ParseError:Ne,SETTINGS_SCHEMA:Fd,__parse:oee,__renderToDomTree:d7,__renderToHTMLTree:lee,__setFontMetrics:PW,__defineSymbol:w,__defineFunction:ze,__defineMacro:G,__domTree:cee};const er=({latex:t})=>{const e=oe.useRef(null);return oe.useEffect(()=>{if(e.current)try{hee.render(t,e.current,{throwOnError:!1,displayMode:!1})}catch{e.current.innerText="Invalid LaTeX"}},[t]),L.jsx("span",{ref:e})},fee=({structureName:t="Algebraic Structure (Alpha)"})=>L.jsxs("div",{className:jS.overlay,children:[L.jsx("h2",{children:L.jsx(er,{latex:t})}),L.jsxs("div",{className:jS.legend,children:[L.jsxs("p",{children:[" ",sv.verified.label,": Green"]}),L.jsxs("p",{children:[" ",sv.deprecated.label,": Flashing Yellow"]}),L.jsx("p",{children:" Duplicate Link: Dashed Blue Line"}),L.jsxs("p",{children:[" ",sv.unverified.label,": Red"]})]})]}),dee=({nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:s,nodeTypes:l,title:c="Mathverse Explorer"})=>L.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[L.jsxs(SF,{nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:s,nodeTypes:l,fitView:!0,panOnScroll:!0,selectionOnDrag:!1,panOnDrag:!0,children:[L.jsx(NF,{gap:20,color:"#333"}),L.jsx(LF,{}),L.jsx(QF,{nodeColor:h=>Y_[h.data?.status]||"#eee"})]}),L.jsx(fee,{structureName:c})]}),az=oe.createContext(void 0),_c=()=>{const t=oe.useContext(az);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},mee=({children:t})=>{const[e,n]=oe.useState(null),[r,i]=oe.useState(null),[s,l]=oe.useState(!0);oe.useEffect(()=>XQ(av,async p=>{if(n(p),p){const v=Wn(sn,"users",p.uid);try{const b=await ZK(v);if(b.exists())i(b.data());else{const x={uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,role:"citizen",reputation:1,createdAt:iQ()};await bl(v,x),i(x),console.log("New User Profile Created in Firestore via AuthProvider.")}}catch(b){console.error("Error fetching/creating user profile:",b)}}else i(null);l(!1)}),[]);const f={user:e,profile:r,loading:s,signInWithGoogle:async()=>{try{await pZ(av,uW)}catch(m){throw console.error("Login Failed:",m),m}},logout:()=>KQ(av)};return L.jsx(az.Provider,{value:f,children:!s&&t})},sz=(t,e,n,r)=>{const{user:i}=_c(),[s,l]=oe.useState({greenVotes:n,blackVotes:r}),[c,h]=oe.useState(null),[f,m]=oe.useState(!1);oe.useEffect(()=>{l({greenVotes:n,blackVotes:r})},[n,r]),oe.useEffect(()=>{if(!i||!t){h(null);return}const v=Wn(sn,e,t,"votes",i.uid),b=Lu(v,x=>{if(x.exists()){const S=x.data();S.choice==="green"?h("up"):S.choice==="black"&&h("down")}else h(null)});return()=>b()},[i,t,e]);const p=oe.useCallback(async v=>{if(!i){alert("Please sign in to vote!");return}m(!0);const b=Wn(sn,e,t),x=Wn(sn,e,t,"votes",i.uid);try{await rQ(sn,async S=>{const E=await S.get(x),C=await S.get(b);if(!C.exists())throw new Error("Document does not exist!");const M=C.data().stats||{greenVotes:0,blackVotes:0},T=E.exists()?E.data().choice:null,O=v==="up"?"green":"black";let B=M.greenVotes,q=M.blackVotes;T===O?(S.delete(x),O==="green"?B--:q--):(S.set(x,{choice:O,timestamp:Date.now()}),T==="green"&&B--,T==="black"&&q--,O==="green"?B++:q++),S.update(b,{stats:{greenVotes:Math.max(0,B),blackVotes:Math.max(0,q)}})})}catch(S){console.error("Voting Transaction Failed:",S),alert("Vote failed. Please check your connection.")}finally{m(!1)}},[i,t,e]);return{stats:s,userVote:c,handleVote:p,isLoading:f}},pee=10,gee=-10,oz=t=>{if(t.status==="deprecated")return"deprecated";if(t.status==="deadend")return"deadend";const e=t.stats?.greenVotes||0,n=t.stats?.blackVotes||0,r=e-n;return r>=pee&&t.status==="unverified"?"verified":r<=gee?"trash":t.status},vee=({data:t})=>{const{stats:e,userVote:n,handleVote:r,isLoading:i}=sz(t.id,"nodes",t.stats?.greenVotes||0,t.stats?.blackVotes||0),l=`math-node-container status-${oz({...t,stats:e})}`,c=`vote-btn ${n==="up"?"active-up":""}`,h=`vote-btn ${n==="down"?"active-down":""}`;return L.jsxs("div",{className:l,children:[L.jsx(Ju,{type:"target",position:Ye.Top,style:{bottom:"0px"}}),L.jsx("div",{className:"math-display-area",children:L.jsx(er,{latex:t.displayLatex})}),L.jsxs("div",{className:"math-node-stats",children:[L.jsxs("button",{className:c,onClick:f=>{f.stopPropagation(),r("up")},disabled:i,title:"Vote Valid (Green)",children:[" ",e.greenVotes]}),L.jsxs("button",{className:h,onClick:f=>{f.stopPropagation(),r("down")},disabled:i,title:"Vote Invalid (Black)",children:[" ",e.blackVotes]})]}),L.jsx(Ju,{type:"source",position:Ye.Bottom,style:{bottom:"-25px"}})]})},yee="_panel_pvnct_4",_ee="_sectionInherited_pvnct_25",bee="_sectionCurrent_pvnct_32",wee="_headerRow_pvnct_38",xee="_headerTitle_pvnct_47",See="_closeBtn_pvnct_52",Eee="_sectionTitle_pvnct_67",Tee="_localPropHeader_pvnct_75",Aee="_inlineDisplay_pvnct_85",Cee="_editIconBtn_pvnct_91",Ree="_inlineEditContainer_pvnct_109",Iee="_inlineInput_pvnct_115",Nee="_saveBtn_pvnct_128",Mee="_cancelBtn_pvnct_128",kee="_proposeBtn_pvnct_157",Dee="_adminZone_pvnct_174",Oee="_deleteBtn_pvnct_183",zee="_toggleContainer_pvnct_201",Vee="_toggleContent_pvnct_205",Lee="_axiomList_pvnct_213",qee="_axiomItem_pvnct_218",Pee="_emptyState_pvnct_223",Bee="_axiomBox_pvnct_230",Uee="_axiomLabel_pvnct_238",jee="_latexBold_pvnct_247",Hee="_theoremHeaderRow_pvnct_252",Fee="_theoremName_pvnct_259",Gee="_miniDeleteBtn_pvnct_304",Dt={panel:yee,sectionInherited:_ee,sectionCurrent:bee,headerRow:wee,headerTitle:xee,closeBtn:See,sectionTitle:Eee,localPropHeader:Tee,inlineDisplay:Aee,editIconBtn:Cee,inlineEditContainer:Ree,inlineInput:Iee,saveBtn:Nee,cancelBtn:Mee,proposeBtn:kee,adminZone:Dee,deleteBtn:Oee,toggleContainer:zee,toggleContent:Vee,axiomList:Lee,axiomItem:qee,emptyState:Pee,axiomBox:Bee,axiomLabel:Uee,latexBold:jee,theoremHeaderRow:Hee,theoremName:Fee,miniDeleteBtn:Gee},$ee=(t,e,n,r)=>{const i=e.find(c=>c.id===t),s={inheritedAxioms:[],inheritedTheorems:[],localTheorems:r.filter(c=>c.structureNodeId===t),localAxiom:void 0};if(!i)return s;s.localAxiom=n.find(c=>c.id===i.axiomId);let l=i.parentId;for(;l;){const c=e.find(m=>m.id===l);if(!c)break;const h=n.find(m=>m.id===c.axiomId);h&&s.inheritedAxioms.unshift(h);const f=r.filter(m=>m.structureNodeId===c.id);s.inheritedTheorems.unshift(...f),l=c.parentId}return s},Yee="_overlay_1snfz_2",Xee="_container_1snfz_16",Kee="_header_1snfz_28",Qee="_closeButton_1snfz_43",Zee="_body_1snfz_51",Wee="_description_1snfz_61",Jee="_contextBox_1snfz_68",ete="_contextLabel_1snfz_76",tte="_separator_1snfz_84",nte="_group_1snfz_93",rte="_label_1snfz_99",ite="_input_1snfz_105",ate="_textarea_1snfz_105",ste="_preview_1snfz_113",ote="_footer_1snfz_125",lte="_cancelBtn_1snfz_134",ute="_submitBtn_1snfz_142",cte="_drawerOverlay_1snfz_158",hte="_drawer_1snfz_158",fte="_drawerHeader_1snfz_184",dte="_drawerSearch_1snfz_199",mte="_drawerBody_1snfz_205",pte="_libraryItem_1snfz_214",gte="_libraryItemHeader_1snfz_231",vte="_libraryItemTag_1snfz_240",yte="_inputGroupRow_1snfz_260",_te="_browseBtn_1snfz_267",bte="_inputLocked_1snfz_286",wte="_suggestionsDropdown_1snfz_298",xte="_suggestionItem_1snfz_312",Ste="_suggestionDetail_1snfz_328",Oe={overlay:Yee,container:Xee,header:Kee,closeButton:Qee,body:Zee,description:Wee,contextBox:Jee,contextLabel:ete,separator:tte,group:nte,label:rte,input:ite,textarea:ate,preview:ste,footer:ote,cancelBtn:lte,submitBtn:ute,drawerOverlay:cte,drawer:hte,drawerHeader:fte,drawerSearch:dte,drawerBody:mte,libraryItem:pte,libraryItemHeader:gte,libraryItemTag:vte,inputGroupRow:yte,browseBtn:_te,inputLocked:bte,suggestionsDropdown:wte,suggestionItem:xte,suggestionDetail:Ste},Ete=({isOpen:t,onClose:e,onSelect:n,availableTheorems:r})=>{const[i,s]=oe.useState(""),l=oe.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.name.toLowerCase().includes(c)||h.statementLatex.toLowerCase().includes(c))},[r,i]);return t?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:Oe.drawerOverlay,onClick:e}),L.jsxs("div",{className:Oe.drawer,children:[L.jsxs("div",{className:Oe.drawerHeader,children:[L.jsx("h3",{children:"Theorem Library"}),L.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),L.jsx("div",{className:Oe.drawerSearch,children:L.jsx("input",{className:Oe.input,placeholder:"Search theorems (e.g. 'Identity')...",value:i,onChange:c=>s(c.target.value),autoFocus:!0})}),L.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>L.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to use this theorem as a template",children:[L.jsxs("div",{className:Oe.libraryItemHeader,children:[L.jsx("strong",{children:c.name}),L.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),L.jsx("div",{className:Oe.preview,style:{marginBottom:"5px"},children:L.jsx(er,{latex:c.statementLatex})}),L.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Proof: ",c.proofLatex]})]},c.id)):L.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No theorems found matching "',i,'"']})})]})]}):null},Tte=({structureName:t,availableTheorems:e,onClose:n,onSubmit:r})=>{const[i,s]=oe.useState(""),[l,c]=oe.useState(""),[h,f]=oe.useState(""),[m,p]=oe.useState(!1),[v,b]=oe.useState(!1),x=oe.useMemo(()=>{if(!i)return[];const C=i.toLowerCase();return e.filter(M=>M.name.toLowerCase().includes(C)).slice(0,5)},[i,e]),S=C=>{s(C.name),c(C.statementLatex),f(C.proofLatex),b(!1),p(!1)},E=()=>{!i||!l||!h||(r({name:i,statementLatex:l,proofLatex:h}),n())};return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:Oe.overlay,children:L.jsxs("div",{className:Oe.container,children:[L.jsxs("div",{className:Oe.header,children:[L.jsx("h2",{children:"Propose Theorem"}),L.jsx("button",{className:Oe.closeButton,onClick:n,children:""})]}),L.jsxs("div",{className:Oe.body,children:[L.jsxs("p",{className:Oe.description,children:["Add a new property or theorem to ",L.jsx("strong",{children:t}),"."]}),L.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[L.jsx("label",{className:Oe.label,children:"1. Theorem Name"}),L.jsxs("div",{className:Oe.inputGroupRow,children:[L.jsx("input",{className:Oe.input,placeholder:"e.g. Uniqueness of Identity",value:i,onChange:C=>{s(C.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),autoComplete:"off"}),L.jsx("button",{className:Oe.browseBtn,onClick:()=>p(!0),title:"Browse Theorem Library",children:""})]}),v&&x.length>0&&L.jsx("div",{className:Oe.suggestionsDropdown,children:x.map(C=>L.jsx("div",{className:Oe.suggestionItem,onClick:()=>S(C),children:L.jsx("strong",{children:C.name})},C.id))})]}),L.jsxs("div",{className:Oe.group,children:[L.jsx("label",{className:Oe.label,children:"Statement (LaTeX)"}),L.jsx("textarea",{className:Oe.textarea,rows:2,value:l,onChange:C=>c(C.target.value),placeholder:"\\forall g \\in G, ..."}),L.jsx("div",{className:Oe.preview,children:L.jsx(er,{latex:l||"Preview..."})})]}),L.jsxs("div",{className:Oe.group,children:[L.jsx("label",{className:Oe.label,children:"Proof (LaTeX)"}),L.jsx("textarea",{className:Oe.textarea,rows:4,value:h,onChange:C=>f(C.target.value),placeholder:"Suppose e and e' are identities..."}),L.jsx("div",{className:Oe.preview,children:L.jsx(er,{latex:h||"Preview..."})})]})]}),L.jsxs("div",{className:Oe.footer,children:[L.jsx("button",{className:Oe.cancelBtn,onClick:n,children:"Cancel"}),L.jsx("button",{className:Oe.submitBtn,onClick:E,children:"Propose Theorem"})]})]})}),L.jsx(Ete,{isOpen:m,onClose:()=>p(!1),onSelect:S,availableTheorems:e})]})},$d=({value:t,collectionName:e,docId:n,field:r,isAdmin:i,className:s})=>{const[l,c]=oe.useState(!1),[h,f]=oe.useState(t),m=async v=>{v.stopPropagation();try{await MD(Wn(sn,e,n),{[r]:h}),c(!1)}catch(b){console.error("Failed to update:",b),alert("Update failed.")}},p=v=>{v.stopPropagation(),f(t),c(!1)};return l?L.jsxs("div",{className:Dt.inlineEditContainer,onClick:v=>v.stopPropagation(),children:[L.jsx("input",{className:Dt.inlineInput,value:h,onChange:v=>f(v.target.value),autoFocus:!0}),L.jsx("button",{onClick:m,className:Dt.saveBtn,title:"Save",children:""}),L.jsx("button",{onClick:p,className:Dt.cancelBtn,title:"Cancel",children:""})]}):L.jsxs("div",{className:`${Dt.inlineDisplay} ${s||""}`,children:[t.trim().startsWith("\\")?L.jsx(er,{latex:t}):t,i&&L.jsx("button",{onClick:v=>{v.stopPropagation(),c(!0)},className:Dt.editIconBtn,title:"Edit Name",children:""})]})},Ate=t=>{const{profile:e}=_c(),n=e?.role==="admin",{node:r,allNodes:i,allAxioms:s,allTheorems:l,onClose:c,onAddTheorem:h,onDelete:f,onDeleteTheorem:m}=t,p=$ee(r.id,i,s,l),[v,b]=oe.useState(!1);return L.jsxs("div",{className:Dt.panel,children:[L.jsxs("div",{className:Dt.headerRow,children:[L.jsx("h3",{className:Dt.headerTitle,children:"Structure Details"}),L.jsx("button",{onClick:c,className:Dt.closeBtn,children:"Close "})]}),L.jsxs("section",{className:Dt.sectionInherited,children:[L.jsx("h4",{className:Dt.sectionTitle,children:"Heritage"}),L.jsx("div",{className:Dt.toggleContainer,children:L.jsxs("div",{className:Dt.toggleContent,children:[L.jsx("strong",{children:"Inherited Axioms:"}),p.inheritedAxioms.length>0?L.jsx("ul",{className:Dt.axiomList,children:p.inheritedAxioms.map(x=>L.jsx("li",{className:Dt.axiomItem,children:L.jsx($d,{value:x.canonicalName,collectionName:"axioms",docId:x.id,field:"canonicalName",isAdmin:n})},x.id))}):L.jsx("span",{className:Dt.emptyState,children:" None"})]})})]}),L.jsxs("section",{className:Dt.sectionCurrent,children:[L.jsx("h3",{children:L.jsx($d,{value:r.displayLatex,collectionName:"nodes",docId:r.id,field:"displayLatex",isAdmin:n})}),p.localAxiom&&L.jsxs("div",{className:Dt.axiomBox,children:[L.jsxs("div",{className:Dt.axiomLabel,children:[L.jsx("strong",{children:"Axiom: "}),L.jsx($d,{value:p.localAxiom.canonicalName,collectionName:"axioms",docId:p.localAxiom.id,field:"canonicalName",isAdmin:n})]}),L.jsx("span",{className:Dt.latexBold,children:L.jsx(er,{latex:p.localAxiom.defaultLatex})})]}),L.jsxs("div",{className:Dt.localPropHeader,children:[L.jsx("h4",{children:"Theorems:"}),L.jsx("button",{onClick:()=>b(!0),className:Dt.proposeBtn,children:"+ Add Theorem"})]}),p.localTheorems.length>0?p.localTheorems.map(x=>L.jsx(Cte,{theorem:x,onDelete:m},x.id)):L.jsx("p",{className:Dt.emptyState,children:"No properties defined yet."})]}),v&&L.jsx(Tte,{structureName:r.displayLatex,availableTheorems:l,onClose:()=>b(!1),onSubmit:h}),n&&L.jsx("div",{className:Dt.adminZone,children:L.jsx("button",{onClick:()=>f(r.id),className:Dt.deleteBtn,children:"DELETE STRUCTURE"})})]})},Cte=({theorem:t,onDelete:e})=>{const{profile:n}=_c(),r=n?.role==="admin",{stats:i,userVote:s,handleVote:l,isLoading:c}=sz(t.id,"theorems",t.stats.greenVotes,t.stats.blackVotes),f=`theorem-item status-${oz({...t,stats:i})}`,m=`vote-btn ${s==="up"?"active-up":""}`,p=`vote-btn ${s==="down"?"active-down":""}`;return L.jsxs("div",{className:f,children:[L.jsxs("div",{className:Dt.theoremHeaderRow,children:[L.jsx("div",{className:Dt.theoremName,children:L.jsx($d,{value:t.name,collectionName:"theorems",docId:t.id,field:"name",isAdmin:r})}),L.jsxs("div",{className:"math-node-stats",style:{margin:0,border:"none",padding:0},children:[L.jsxs("button",{className:m,onClick:v=>{v.stopPropagation(),l("up")},disabled:c,title:"Vote Valid",children:[" ",i.greenVotes]}),L.jsxs("button",{className:p,onClick:v=>{v.stopPropagation(),l("down")},disabled:c,title:"Vote Invalid",children:[" ",i.blackVotes]}),r&&e&&L.jsx("button",{onClick:v=>{v.stopPropagation(),e(t.id)},className:Dt.miniDeleteBtn,title:"Delete Theorem",children:""})]})]}),L.jsx("div",{style:{marginTop:"5px",fontSize:"0.9rem"},children:L.jsx(er,{latex:t.statementLatex})})]})};function m7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xv,SE;function Rte(){if(SE)return xv;SE=1;function t(){this.__data__=[],this.size=0}return xv=t,xv}var Sv,EE;function bc(){if(EE)return Sv;EE=1;function t(e,n){return e===n||e!==e&&n!==n}return Sv=t,Sv}var Ev,TE;function _1(){if(TE)return Ev;TE=1;var t=bc();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Ev=e,Ev}var Tv,AE;function Ite(){if(AE)return Tv;AE=1;var t=_1(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():n.call(s,l,1),--this.size,!0}return Tv=r,Tv}var Av,CE;function Nte(){if(CE)return Av;CE=1;var t=_1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Av=e,Av}var Cv,RE;function Mte(){if(RE)return Cv;RE=1;var t=_1();function e(n){return t(this.__data__,n)>-1}return Cv=e,Cv}var Rv,IE;function kte(){if(IE)return Rv;IE=1;var t=_1();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Rv=e,Rv}var Iv,NE;function b1(){if(NE)return Iv;NE=1;var t=Rte(),e=Ite(),n=Nte(),r=Mte(),i=kte();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Iv=s,Iv}var Nv,ME;function Dte(){if(ME)return Nv;ME=1;var t=b1();function e(){this.__data__=new t,this.size=0}return Nv=e,Nv}var Mv,kE;function Ote(){if(kE)return Mv;kE=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Mv=t,Mv}var kv,DE;function zte(){if(DE)return kv;DE=1;function t(e){return this.__data__.get(e)}return kv=t,kv}var Dv,OE;function Vte(){if(OE)return Dv;OE=1;function t(e){return this.__data__.has(e)}return Dv=t,Dv}var Ov,zE;function lz(){if(zE)return Ov;zE=1;var t=typeof rd=="object"&&rd&&rd.Object===Object&&rd;return Ov=t,Ov}var zv,VE;function $i(){if(VE)return zv;VE=1;var t=lz(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return zv=n,zv}var Vv,LE;function wc(){if(LE)return Vv;LE=1;var t=$i(),e=t.Symbol;return Vv=e,Vv}var Lv,qE;function Lte(){if(qE)return Lv;qE=1;var t=wc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var c=n.call(l,i),h=l[i];try{l[i]=void 0;var f=!0}catch{}var m=r.call(l);return f&&(c?l[i]=h:delete l[i]),m}return Lv=s,Lv}var qv,PE;function qte(){if(PE)return qv;PE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return qv=n,qv}var Pv,BE;function Ol(){if(BE)return Pv;BE=1;var t=wc(),e=Lte(),n=qte(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:s&&s in Object(c)?e(c):n(c)}return Pv=l,Pv}var Bv,UE;function xi(){if(UE)return Bv;UE=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Bv=t,Bv}var Uv,jE;function Oh(){if(jE)return Uv;jE=1;var t=Ol(),e=xi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var h=t(c);return h==r||h==i||h==n||h==s}return Uv=l,Uv}var jv,HE;function Pte(){if(HE)return jv;HE=1;var t=$i(),e=t["__core-js_shared__"];return jv=e,jv}var Hv,FE;function Bte(){if(FE)return Hv;FE=1;var t=Pte(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Hv=n,Hv}var Fv,GE;function uz(){if(GE)return Fv;GE=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Fv=n,Fv}var Gv,$E;function Ute(){if($E)return Gv;$E=1;var t=Oh(),e=Bte(),n=xi(),r=uz(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,f=c.hasOwnProperty,m=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||e(v))return!1;var b=t(v)?m:s;return b.test(r(v))}return Gv=p,Gv}var $v,YE;function jte(){if(YE)return $v;YE=1;function t(e,n){return e?.[n]}return $v=t,$v}var Yv,XE;function zl(){if(XE)return Yv;XE=1;var t=Ute(),e=jte();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Yv=n,Yv}var Xv,KE;function p7(){if(KE)return Xv;KE=1;var t=zl(),e=$i(),n=t(e,"Map");return Xv=n,Xv}var Kv,QE;function w1(){if(QE)return Kv;QE=1;var t=zl(),e=t(Object,"create");return Kv=e,Kv}var Qv,ZE;function Hte(){if(ZE)return Qv;ZE=1;var t=w1();function e(){this.__data__=t?t(null):{},this.size=0}return Qv=e,Qv}var Zv,WE;function Fte(){if(WE)return Zv;WE=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Zv=t,Zv}var Wv,JE;function Gte(){if(JE)return Wv;JE=1;var t=w1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return r.call(l,s)?l[s]:void 0}return Wv=i,Wv}var Jv,eT;function $te(){if(eT)return Jv;eT=1;var t=w1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Jv=r,Jv}var e4,tT;function Yte(){if(tT)return e4;tT=1;var t=w1(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return e4=n,e4}var t4,nT;function Xte(){if(nT)return t4;nT=1;var t=Hte(),e=Fte(),n=Gte(),r=$te(),i=Yte();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,t4=s,t4}var n4,rT;function Kte(){if(rT)return n4;rT=1;var t=Xte(),e=b1(),n=p7();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return n4=r,n4}var r4,iT;function Qte(){if(iT)return r4;iT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return r4=t,r4}var i4,aT;function x1(){if(aT)return i4;aT=1;var t=Qte();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return i4=e,i4}var a4,sT;function Zte(){if(sT)return a4;sT=1;var t=x1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return a4=e,a4}var s4,oT;function Wte(){if(oT)return s4;oT=1;var t=x1();function e(n){return t(this,n).get(n)}return s4=e,s4}var o4,lT;function Jte(){if(lT)return o4;lT=1;var t=x1();function e(n){return t(this,n).has(n)}return o4=e,o4}var l4,uT;function ene(){if(uT)return l4;uT=1;var t=x1();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return l4=e,l4}var u4,cT;function g7(){if(cT)return u4;cT=1;var t=Kte(),e=Zte(),n=Wte(),r=Jte(),i=ene();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,u4=s,u4}var c4,hT;function tne(){if(hT)return c4;hT=1;var t=b1(),e=p7(),n=g7(),r=200;function i(s,l){var c=this.__data__;if(c instanceof t){var h=c.__data__;if(!e||h.length<r-1)return h.push([s,l]),this.size=++c.size,this;c=this.__data__=new n(h)}return c.set(s,l),this.size=c.size,this}return c4=i,c4}var h4,fT;function S1(){if(fT)return h4;fT=1;var t=b1(),e=Dte(),n=Ote(),r=zte(),i=Vte(),s=tne();function l(c){var h=this.__data__=new t(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,h4=l,h4}var f4,dT;function v7(){if(dT)return f4;dT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return f4=t,f4}var d4,mT;function cz(){if(mT)return d4;mT=1;var t=zl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return d4=e,d4}var m4,pT;function E1(){if(pT)return m4;pT=1;var t=cz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return m4=e,m4}var p4,gT;function T1(){if(gT)return p4;gT=1;var t=E1(),e=bc(),n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c){var h=s[l];(!(r.call(s,l)&&e(h,c))||c===void 0&&!(l in s))&&t(s,l,c)}return p4=i,p4}var g4,vT;function zh(){if(vT)return g4;vT=1;var t=T1(),e=E1();function n(r,i,s,l){var c=!s;s||(s={});for(var h=-1,f=i.length;++h<f;){var m=i[h],p=l?l(s[m],r[m],m,s,r):void 0;p===void 0&&(p=r[m]),c?e(s,m,p):t(s,m,p)}return s}return g4=n,g4}var v4,yT;function nne(){if(yT)return v4;yT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return v4=t,v4}var y4,_T;function Sa(){if(_T)return y4;_T=1;function t(e){return e!=null&&typeof e=="object"}return y4=t,y4}var _4,bT;function rne(){if(bT)return _4;bT=1;var t=Ol(),e=Sa(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return _4=r,_4}var b4,wT;function Vh(){if(wT)return b4;wT=1;var t=rne(),e=Sa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return b4=s,b4}var w4,xT;function zn(){if(xT)return w4;xT=1;var t=Array.isArray;return w4=t,w4}var R0={exports:{}},x4,ST;function ine(){if(ST)return x4;ST=1;function t(){return!1}return x4=t,x4}R0.exports;var ET;function xc(){return ET||(ET=1,(function(t,e){var n=$i(),r=ine(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,c=l?n.Buffer:void 0,h=c?c.isBuffer:void 0,f=h||r;t.exports=f})(R0,R0.exports)),R0.exports}var S4,TT;function A1(){if(TT)return S4;TT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return S4=n,S4}var E4,AT;function y7(){if(AT)return E4;AT=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return E4=e,E4}var T4,CT;function ane(){if(CT)return T4;CT=1;var t=Ol(),e=y7(),n=Sa(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",S="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",M="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",B="[object Int16Array]",q="[object Int32Array]",R="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",H="[object Uint32Array]",V={};V[M]=V[T]=V[O]=V[B]=V[q]=V[R]=V[k]=V[D]=V[H]=!0,V[r]=V[i]=V[E]=V[s]=V[C]=V[l]=V[c]=V[h]=V[f]=V[m]=V[p]=V[v]=V[b]=V[x]=V[S]=!1;function j(U){return n(U)&&e(U.length)&&!!V[t(U)]}return T4=j,T4}var A4,RT;function C1(){if(RT)return A4;RT=1;function t(e){return function(n){return e(n)}}return A4=t,A4}var I0={exports:{}};I0.exports;var IT;function _7(){return IT||(IT=1,(function(t,e){var n=lz(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,c=(function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(I0,I0.exports)),I0.exports}var C4,NT;function Lh(){if(NT)return C4;NT=1;var t=ane(),e=C1(),n=_7(),r=n&&n.isTypedArray,i=r?e(r):t;return C4=i,C4}var R4,MT;function hz(){if(MT)return R4;MT=1;var t=nne(),e=Vh(),n=zn(),r=xc(),i=A1(),s=Lh(),l=Object.prototype,c=l.hasOwnProperty;function h(f,m){var p=n(f),v=!p&&e(f),b=!p&&!v&&r(f),x=!p&&!v&&!b&&s(f),S=p||v||b||x,E=S?t(f.length,String):[],C=E.length;for(var M in f)(m||c.call(f,M))&&!(S&&(M=="length"||b&&(M=="offset"||M=="parent")||x&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||i(M,C)))&&E.push(M);return E}return R4=h,R4}var I4,kT;function R1(){if(kT)return I4;kT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return I4=e,I4}var N4,DT;function fz(){if(DT)return N4;DT=1;function t(e,n){return function(r){return e(n(r))}}return N4=t,N4}var M4,OT;function sne(){if(OT)return M4;OT=1;var t=fz(),e=t(Object.keys,Object);return M4=e,M4}var k4,zT;function b7(){if(zT)return k4;zT=1;var t=R1(),e=sne(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))r.call(s,c)&&c!="constructor"&&l.push(c);return l}return k4=i,k4}var D4,VT;function vs(){if(VT)return D4;VT=1;var t=Oh(),e=y7();function n(r){return r!=null&&e(r.length)&&!t(r)}return D4=n,D4}var O4,LT;function ko(){if(LT)return O4;LT=1;var t=hz(),e=b7(),n=vs();function r(i){return n(i)?t(i):e(i)}return O4=r,O4}var z4,qT;function one(){if(qT)return z4;qT=1;var t=zh(),e=ko();function n(r,i){return r&&t(i,e(i),r)}return z4=n,z4}var V4,PT;function lne(){if(PT)return V4;PT=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return V4=t,V4}var L4,BT;function une(){if(BT)return L4;BT=1;var t=xi(),e=R1(),n=lne(),r=Object.prototype,i=r.hasOwnProperty;function s(l){if(!t(l))return n(l);var c=e(l),h=[];for(var f in l)f=="constructor"&&(c||!i.call(l,f))||h.push(f);return h}return L4=s,L4}var q4,UT;function Vl(){if(UT)return q4;UT=1;var t=hz(),e=une(),n=vs();function r(i){return n(i)?t(i,!0):e(i)}return q4=r,q4}var P4,jT;function cne(){if(jT)return P4;jT=1;var t=zh(),e=Vl();function n(r,i){return r&&t(i,e(i),r)}return P4=n,P4}var N0={exports:{}};N0.exports;var HT;function dz(){return HT||(HT=1,(function(t,e){var n=$i(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function h(f,m){if(m)return f.slice();var p=f.length,v=c?c(p):new f.constructor(p);return f.copy(v),v}t.exports=h})(N0,N0.exports)),N0.exports}var B4,FT;function mz(){if(FT)return B4;FT=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return B4=t,B4}var U4,GT;function pz(){if(GT)return U4;GT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[s++]=c)}return l}return U4=t,U4}var j4,$T;function gz(){if($T)return j4;$T=1;function t(){return[]}return j4=t,j4}var H4,YT;function w7(){if(YT)return H4;YT=1;var t=pz(),e=gz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return H4=s,H4}var F4,XT;function hne(){if(XT)return F4;XT=1;var t=zh(),e=w7();function n(r,i){return t(r,e(r),i)}return F4=n,F4}var G4,KT;function x7(){if(KT)return G4;KT=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return G4=t,G4}var $4,QT;function I1(){if(QT)return $4;QT=1;var t=fz(),e=t(Object.getPrototypeOf,Object);return $4=e,$4}var Y4,ZT;function vz(){if(ZT)return Y4;ZT=1;var t=x7(),e=I1(),n=w7(),r=gz(),i=Object.getOwnPropertySymbols,s=i?function(l){for(var c=[];l;)t(c,n(l)),l=e(l);return c}:r;return Y4=s,Y4}var X4,WT;function fne(){if(WT)return X4;WT=1;var t=zh(),e=vz();function n(r,i){return t(r,e(r),i)}return X4=n,X4}var K4,JT;function yz(){if(JT)return K4;JT=1;var t=x7(),e=zn();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return K4=n,K4}var Q4,eA;function _z(){if(eA)return Q4;eA=1;var t=yz(),e=w7(),n=ko();function r(i){return t(i,n,e)}return Q4=r,Q4}var Z4,tA;function dne(){if(tA)return Z4;tA=1;var t=yz(),e=vz(),n=Vl();function r(i){return t(i,n,e)}return Z4=r,Z4}var W4,nA;function mne(){if(nA)return W4;nA=1;var t=zl(),e=$i(),n=t(e,"DataView");return W4=n,W4}var J4,rA;function pne(){if(rA)return J4;rA=1;var t=zl(),e=$i(),n=t(e,"Promise");return J4=n,J4}var ey,iA;function bz(){if(iA)return ey;iA=1;var t=zl(),e=$i(),n=t(e,"Set");return ey=n,ey}var ty,aA;function gne(){if(aA)return ty;aA=1;var t=zl(),e=$i(),n=t(e,"WeakMap");return ty=n,ty}var ny,sA;function Sc(){if(sA)return ny;sA=1;var t=mne(),e=p7(),n=pne(),r=bz(),i=gne(),s=Ol(),l=uz(),c="[object Map]",h="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",b=l(t),x=l(e),S=l(n),E=l(r),C=l(i),M=s;return(t&&M(new t(new ArrayBuffer(1)))!=v||e&&M(new e)!=c||n&&M(n.resolve())!=f||r&&M(new r)!=m||i&&M(new i)!=p)&&(M=function(T){var O=s(T),B=O==h?T.constructor:void 0,q=B?l(B):"";if(q)switch(q){case b:return v;case x:return c;case S:return f;case E:return m;case C:return p}return O}),ny=M,ny}var ry,oA;function vne(){if(oA)return ry;oA=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return ry=n,ry}var iy,lA;function wz(){if(lA)return iy;lA=1;var t=$i(),e=t.Uint8Array;return iy=e,iy}var ay,uA;function S7(){if(uA)return ay;uA=1;var t=wz();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return ay=e,ay}var sy,cA;function yne(){if(cA)return sy;cA=1;var t=S7();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return sy=e,sy}var oy,hA;function _ne(){if(hA)return oy;hA=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return oy=e,oy}var ly,fA;function bne(){if(fA)return ly;fA=1;var t=wc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ly=r,ly}var uy,dA;function xz(){if(dA)return uy;dA=1;var t=S7();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return uy=e,uy}var cy,mA;function wne(){if(mA)return cy;mA=1;var t=S7(),e=yne(),n=_ne(),r=bne(),i=xz(),s="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",R="[object Uint32Array]";function k(D,H,V){var j=D.constructor;switch(H){case b:return t(D);case s:case l:return new j(+D);case x:return e(D,V);case S:case E:case C:case M:case T:case O:case B:case q:case R:return i(D,V);case c:return new j;case h:case p:return new j(D);case f:return n(D);case m:return new j;case v:return r(D)}}return cy=k,cy}var hy,pA;function Sz(){if(pA)return hy;pA=1;var t=xi(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return hy=n,hy}var fy,gA;function Ez(){if(gA)return fy;gA=1;var t=Sz(),e=I1(),n=R1();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return fy=r,fy}var dy,vA;function xne(){if(vA)return dy;vA=1;var t=Sc(),e=Sa(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return dy=r,dy}var my,yA;function Sne(){if(yA)return my;yA=1;var t=xne(),e=C1(),n=_7(),r=n&&n.isMap,i=r?e(r):t;return my=i,my}var py,_A;function Ene(){if(_A)return py;_A=1;var t=Sc(),e=Sa(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return py=r,py}var gy,bA;function Tne(){if(bA)return gy;bA=1;var t=Ene(),e=C1(),n=_7(),r=n&&n.isSet,i=r?e(r):t;return gy=i,gy}var vy,wA;function Tz(){if(wA)return vy;wA=1;var t=S1(),e=v7(),n=T1(),r=one(),i=cne(),s=dz(),l=mz(),c=hne(),h=fne(),f=_z(),m=dne(),p=Sc(),v=vne(),b=wne(),x=Ez(),S=zn(),E=xc(),C=Sne(),M=xi(),T=Tne(),O=ko(),B=Vl(),q=1,R=2,k=4,D="[object Arguments]",H="[object Array]",V="[object Boolean]",j="[object Date]",U="[object Error]",K="[object Function]",ne="[object GeneratorFunction]",$="[object Map]",ee="[object Number]",re="[object Object]",ce="[object RegExp]",de="[object Set]",Y="[object String]",W="[object Symbol]",me="[object WeakMap]",Q="[object ArrayBuffer]",ie="[object DataView]",le="[object Float32Array]",he="[object Float64Array]",_e="[object Int8Array]",Ce="[object Int16Array]",Ve="[object Int32Array]",He="[object Uint8Array]",je="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ge="[object Uint32Array]",Be={};Be[D]=Be[H]=Be[Q]=Be[ie]=Be[V]=Be[j]=Be[le]=Be[he]=Be[_e]=Be[Ce]=Be[Ve]=Be[$]=Be[ee]=Be[re]=Be[ce]=Be[de]=Be[Y]=Be[W]=Be[He]=Be[je]=Be[Pe]=Be[Ge]=!0,Be[U]=Be[K]=Be[me]=!1;function it($e,Ht,st,Nt,Vn,Bn){var $t,Qt=Ht&q,Gn=Ht&R,gr=Ht&k;if(st&&($t=Vn?st($e,Nt,Vn,Bn):st($e)),$t!==void 0)return $t;if(!M($e))return $e;var vr=S($e);if(vr){if($t=v($e),!Qt)return l($e,$t)}else{var Un=p($e),_s=Un==K||Un==ne;if(E($e))return s($e,Qt);if(Un==re||Un==D||_s&&!Vn){if($t=Gn||_s?{}:x($e),!Qt)return Gn?h($e,i($t,$e)):c($e,r($t,$e))}else{if(!Be[Un])return Vn?$e:{};$t=b($e,Un,Qt)}}Bn||(Bn=new t);var Ei=Bn.get($e);if(Ei)return Ei;Bn.set($e,$t),T($e)?$e.forEach(function(cn){$t.add(it(cn,Ht,st,cn,$e,Bn))}):C($e)&&$e.forEach(function(cn,Bt){$t.set(Bt,it(cn,Ht,st,Bt,$e,Bn))});var bs=gr?Gn?m:f:Gn?B:O,Ea=vr?void 0:bs($e);return e(Ea||$e,function(cn,Bt){Ea&&(Bt=cn,cn=$e[Bt]),n($t,Bt,it(cn,Ht,st,Bt,$e,Bn))}),$t}return vy=it,vy}var yy,xA;function Ane(){if(xA)return yy;xA=1;var t=Tz(),e=4;function n(r){return t(r,e)}return yy=n,yy}var _y,SA;function E7(){if(SA)return _y;SA=1;function t(e){return function(){return e}}return _y=t,_y}var by,EA;function Cne(){if(EA)return by;EA=1;function t(e){return function(n,r,i){for(var s=-1,l=Object(n),c=i(n),h=c.length;h--;){var f=c[e?h:++s];if(r(l[f],f,l)===!1)break}return n}}return by=t,by}var wy,TA;function T7(){if(TA)return wy;TA=1;var t=Cne(),e=t();return wy=e,wy}var xy,AA;function A7(){if(AA)return xy;AA=1;var t=T7(),e=ko();function n(r,i){return r&&t(r,i,e)}return xy=n,xy}var Sy,CA;function Rne(){if(CA)return Sy;CA=1;var t=vs();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var l=i.length,c=r?l:-1,h=Object(i);(r?c--:++c<l)&&s(h[c],c,h)!==!1;);return i}}return Sy=e,Sy}var Ey,RA;function N1(){if(RA)return Ey;RA=1;var t=A7(),e=Rne(),n=e(t);return Ey=n,Ey}var Ty,IA;function Ll(){if(IA)return Ty;IA=1;function t(e){return e}return Ty=t,Ty}var Ay,NA;function Az(){if(NA)return Ay;NA=1;var t=Ll();function e(n){return typeof n=="function"?n:t}return Ay=e,Ay}var Cy,MA;function Cz(){if(MA)return Cy;MA=1;var t=v7(),e=N1(),n=Az(),r=zn();function i(s,l){var c=r(s)?t:e;return c(s,n(l))}return Cy=i,Cy}var Ry,kA;function Rz(){return kA||(kA=1,Ry=Cz()),Ry}var Iy,DA;function Ine(){if(DA)return Iy;DA=1;var t=N1();function e(n,r){var i=[];return t(n,function(s,l,c){r(s,l,c)&&i.push(s)}),i}return Iy=e,Iy}var Ny,OA;function Nne(){if(OA)return Ny;OA=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Ny=e,Ny}var My,zA;function Mne(){if(zA)return My;zA=1;function t(e){return this.__data__.has(e)}return My=t,My}var ky,VA;function Iz(){if(VA)return ky;VA=1;var t=g7(),e=Nne(),n=Mne();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new t;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,ky=r,ky}var Dy,LA;function kne(){if(LA)return Dy;LA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Dy=t,Dy}var Oy,qA;function Nz(){if(qA)return Oy;qA=1;function t(e,n){return e.has(n)}return Oy=t,Oy}var zy,PA;function Mz(){if(PA)return zy;PA=1;var t=Iz(),e=kne(),n=Nz(),r=1,i=2;function s(l,c,h,f,m,p){var v=h&r,b=l.length,x=c.length;if(b!=x&&!(v&&x>b))return!1;var S=p.get(l),E=p.get(c);if(S&&E)return S==c&&E==l;var C=-1,M=!0,T=h&i?new t:void 0;for(p.set(l,c),p.set(c,l);++C<b;){var O=l[C],B=c[C];if(f)var q=v?f(B,O,C,c,l,p):f(O,B,C,l,c,p);if(q!==void 0){if(q)continue;M=!1;break}if(T){if(!e(c,function(R,k){if(!n(T,k)&&(O===R||m(O,R,h,f,p)))return T.push(k)})){M=!1;break}}else if(!(O===B||m(O,B,h,f,p))){M=!1;break}}return p.delete(l),p.delete(c),M}return zy=s,zy}var Vy,BA;function Dne(){if(BA)return Vy;BA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return Vy=t,Vy}var Ly,UA;function C7(){if(UA)return Ly;UA=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Ly=t,Ly}var qy,jA;function One(){if(jA)return qy;jA=1;var t=wc(),e=wz(),n=bc(),r=Mz(),i=Dne(),s=C7(),l=1,c=2,h="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",x="[object Set]",S="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",M="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function B(q,R,k,D,H,V,j){switch(k){case M:if(q.byteLength!=R.byteLength||q.byteOffset!=R.byteOffset)return!1;q=q.buffer,R=R.buffer;case C:return!(q.byteLength!=R.byteLength||!V(new e(q),new e(R)));case h:case f:case v:return n(+q,+R);case m:return q.name==R.name&&q.message==R.message;case b:case S:return q==R+"";case p:var U=i;case x:var K=D&l;if(U||(U=s),q.size!=R.size&&!K)return!1;var ne=j.get(q);if(ne)return ne==R;D|=c,j.set(q,R);var $=r(U(q),U(R),D,H,V,j);return j.delete(q),$;case E:if(O)return O.call(q)==O.call(R)}return!1}return qy=B,qy}var Py,HA;function zne(){if(HA)return Py;HA=1;var t=_z(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c,h,f,m){var p=c&e,v=t(s),b=v.length,x=t(l),S=x.length;if(b!=S&&!p)return!1;for(var E=b;E--;){var C=v[E];if(!(p?C in l:r.call(l,C)))return!1}var M=m.get(s),T=m.get(l);if(M&&T)return M==l&&T==s;var O=!0;m.set(s,l),m.set(l,s);for(var B=p;++E<b;){C=v[E];var q=s[C],R=l[C];if(h)var k=p?h(R,q,C,l,s,m):h(q,R,C,s,l,m);if(!(k===void 0?q===R||f(q,R,c,h,m):k)){O=!1;break}B||(B=C=="constructor")}if(O&&!B){var D=s.constructor,H=l.constructor;D!=H&&"constructor"in s&&"constructor"in l&&!(typeof D=="function"&&D instanceof D&&typeof H=="function"&&H instanceof H)&&(O=!1)}return m.delete(s),m.delete(l),O}return Py=i,Py}var By,FA;function Vne(){if(FA)return By;FA=1;var t=S1(),e=Mz(),n=One(),r=zne(),i=Sc(),s=zn(),l=xc(),c=Lh(),h=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function x(S,E,C,M,T,O){var B=s(S),q=s(E),R=B?m:i(S),k=q?m:i(E);R=R==f?p:R,k=k==f?p:k;var D=R==p,H=k==p,V=R==k;if(V&&l(S)){if(!l(E))return!1;B=!0,D=!1}if(V&&!D)return O||(O=new t),B||c(S)?e(S,E,C,M,T,O):n(S,E,R,C,M,T,O);if(!(C&h)){var j=D&&b.call(S,"__wrapped__"),U=H&&b.call(E,"__wrapped__");if(j||U){var K=j?S.value():S,ne=U?E.value():E;return O||(O=new t),T(K,ne,C,M,O)}}return V?(O||(O=new t),r(S,E,C,M,T,O)):!1}return By=x,By}var Uy,GA;function kz(){if(GA)return Uy;GA=1;var t=Vne(),e=Sa();function n(r,i,s,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,l,n,c)}return Uy=n,Uy}var jy,$A;function Lne(){if($A)return jy;$A=1;var t=S1(),e=kz(),n=1,r=2;function i(s,l,c,h){var f=c.length,m=f,p=!h;if(s==null)return!m;for(s=Object(s);f--;){var v=c[f];if(p&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++f<m;){v=c[f];var b=v[0],x=s[b],S=v[1];if(p&&v[2]){if(x===void 0&&!(b in s))return!1}else{var E=new t;if(h)var C=h(x,S,b,s,l,E);if(!(C===void 0?e(S,x,n|r,h,E):C))return!1}}return!0}return jy=i,jy}var Hy,YA;function Dz(){if(YA)return Hy;YA=1;var t=xi();function e(n){return n===n&&!t(n)}return Hy=e,Hy}var Fy,XA;function qne(){if(XA)return Fy;XA=1;var t=Dz(),e=ko();function n(r){for(var i=e(r),s=i.length;s--;){var l=i[s],c=r[l];i[s]=[l,c,t(c)]}return i}return Fy=n,Fy}var Gy,KA;function Oz(){if(KA)return Gy;KA=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Gy=t,Gy}var $y,QA;function Pne(){if(QA)return $y;QA=1;var t=Lne(),e=qne(),n=Oz();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||t(l,i,s)}}return $y=r,$y}var Yy,ZA;function Ec(){if(ZA)return Yy;ZA=1;var t=Ol(),e=Sa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Yy=r,Yy}var Xy,WA;function R7(){if(WA)return Xy;WA=1;var t=zn(),e=Ec(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Xy=i,Xy}var Ky,JA;function Bne(){if(JA)return Ky;JA=1;var t=g7(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var l=arguments,c=i?i.apply(this,l):l[0],h=s.cache;if(h.has(c))return h.get(c);var f=r.apply(this,l);return s.cache=h.set(c,f)||h,f};return s.cache=new(n.Cache||t),s}return n.Cache=t,Ky=n,Ky}var Qy,eC;function Une(){if(eC)return Qy;eC=1;var t=Bne(),e=500;function n(r){var i=t(r,function(l){return s.size===e&&s.clear(),l}),s=i.cache;return i}return Qy=n,Qy}var Zy,tC;function jne(){if(tC)return Zy;tC=1;var t=Une(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(l,c,h,f){s.push(h?f.replace(n,"$1"):c||l)}),s});return Zy=r,Zy}var Wy,nC;function M1(){if(nC)return Wy;nC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return Wy=t,Wy}var Jy,rC;function Hne(){if(rC)return Jy;rC=1;var t=wc(),e=M1(),n=zn(),r=Ec(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return Jy=l,Jy}var e2,iC;function zz(){if(iC)return e2;iC=1;var t=Hne();function e(n){return n==null?"":t(n)}return e2=e,e2}var t2,aC;function k1(){if(aC)return t2;aC=1;var t=zn(),e=R7(),n=jne(),r=zz();function i(s,l){return t(s)?s:e(s,l)?[s]:n(r(s))}return t2=i,t2}var n2,sC;function qh(){if(sC)return n2;sC=1;var t=Ec();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return n2=e,n2}var r2,oC;function D1(){if(oC)return r2;oC=1;var t=k1(),e=qh();function n(r,i){i=t(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[e(i[s++])];return s&&s==l?r:void 0}return r2=n,r2}var i2,lC;function Fne(){if(lC)return i2;lC=1;var t=D1();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return i2=e,i2}var a2,uC;function Gne(){if(uC)return a2;uC=1;function t(e,n){return e!=null&&n in Object(e)}return a2=t,a2}var s2,cC;function Vz(){if(cC)return s2;cC=1;var t=k1(),e=Vh(),n=zn(),r=A1(),i=y7(),s=qh();function l(c,h,f){h=t(h,c);for(var m=-1,p=h.length,v=!1;++m<p;){var b=s(h[m]);if(!(v=c!=null&&f(c,b)))break;c=c[b]}return v||++m!=p?v:(p=c==null?0:c.length,!!p&&i(p)&&r(b,p)&&(n(c)||e(c)))}return s2=l,s2}var o2,hC;function Lz(){if(hC)return o2;hC=1;var t=Gne(),e=Vz();function n(r,i){return r!=null&&e(r,i,t)}return o2=n,o2}var l2,fC;function $ne(){if(fC)return l2;fC=1;var t=kz(),e=Fne(),n=Lz(),r=R7(),i=Dz(),s=Oz(),l=qh(),c=1,h=2;function f(m,p){return r(m)&&i(p)?s(l(m),p):function(v){var b=e(v,m);return b===void 0&&b===p?n(v,m):t(p,b,c|h)}}return l2=f,l2}var u2,dC;function qz(){if(dC)return u2;dC=1;function t(e){return function(n){return n?.[e]}}return u2=t,u2}var c2,mC;function Yne(){if(mC)return c2;mC=1;var t=D1();function e(n){return function(r){return t(r,n)}}return c2=e,c2}var h2,pC;function Xne(){if(pC)return h2;pC=1;var t=qz(),e=Yne(),n=R7(),r=qh();function i(s){return n(s)?t(r(s)):e(s)}return h2=i,h2}var f2,gC;function ys(){if(gC)return f2;gC=1;var t=Pne(),e=$ne(),n=Ll(),r=zn(),i=Xne();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return f2=s,f2}var d2,vC;function Pz(){if(vC)return d2;vC=1;var t=pz(),e=Ine(),n=ys(),r=zn();function i(s,l){var c=r(s)?t:e;return c(s,n(l,3))}return d2=i,d2}var m2,yC;function Kne(){if(yC)return m2;yC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return m2=n,m2}var p2,_C;function Bz(){if(_C)return p2;_C=1;var t=Kne(),e=Vz();function n(r,i){return r!=null&&e(r,i,t)}return p2=n,p2}var g2,bC;function Qne(){if(bC)return g2;bC=1;var t=b7(),e=Sc(),n=Vh(),r=zn(),i=vs(),s=xc(),l=R1(),c=Lh(),h="[object Map]",f="[object Set]",m=Object.prototype,p=m.hasOwnProperty;function v(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||s(b)||c(b)||n(b)))return!b.length;var x=e(b);if(x==h||x==f)return!b.size;if(l(b))return!t(b).length;for(var S in b)if(p.call(b,S))return!1;return!0}return g2=v,g2}var v2,wC;function Uz(){if(wC)return v2;wC=1;function t(e){return e===void 0}return v2=t,v2}var y2,xC;function jz(){if(xC)return y2;xC=1;var t=N1(),e=vs();function n(r,i){var s=-1,l=e(r)?Array(r.length):[];return t(r,function(c,h,f){l[++s]=i(c,h,f)}),l}return y2=n,y2}var _2,SC;function Hz(){if(SC)return _2;SC=1;var t=M1(),e=ys(),n=jz(),r=zn();function i(s,l){var c=r(s)?t:n;return c(s,e(l,3))}return _2=i,_2}var b2,EC;function Zne(){if(EC)return b2;EC=1;function t(e,n,r,i){var s=-1,l=e==null?0:e.length;for(i&&l&&(r=e[++s]);++s<l;)r=n(r,e[s],s,e);return r}return b2=t,b2}var w2,TC;function Wne(){if(TC)return w2;TC=1;function t(e,n,r,i,s){return s(e,function(l,c,h){r=i?(i=!1,l):n(r,l,c,h)}),r}return w2=t,w2}var x2,AC;function Fz(){if(AC)return x2;AC=1;var t=Zne(),e=N1(),n=ys(),r=Wne(),i=zn();function s(l,c,h){var f=i(l)?t:r,m=arguments.length<3;return f(l,n(c,4),h,m,e)}return x2=s,x2}var S2,CC;function Jne(){if(CC)return S2;CC=1;var t=Ol(),e=zn(),n=Sa(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return S2=i,S2}var E2,RC;function ere(){if(RC)return E2;RC=1;var t=qz(),e=t("length");return E2=e,E2}var T2,IC;function tre(){if(IC)return T2;IC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+s+"]");function h(f){return c.test(f)}return T2=h,T2}var A2,NC;function nre(){if(NC)return A2;NC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+h+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",S="["+s+"]?",E="(?:"+b+"(?:"+[m,p,v].join("|")+")"+S+x+")*",C=S+x+E,M="(?:"+[m+c+"?",c,p,v,l].join("|")+")",T=RegExp(h+"(?="+h+")|"+M+C,"g");function O(B){for(var q=T.lastIndex=0;T.test(B);)++q;return q}return A2=O,A2}var C2,MC;function rre(){if(MC)return C2;MC=1;var t=ere(),e=tre(),n=nre();function r(i){return e(i)?n(i):t(i)}return C2=r,C2}var R2,kC;function ire(){if(kC)return R2;kC=1;var t=b7(),e=Sc(),n=vs(),r=Jne(),i=rre(),s="[object Map]",l="[object Set]";function c(h){if(h==null)return 0;if(n(h))return r(h)?i(h):h.length;var f=e(h);return f==s||f==l?h.size:t(h).length}return R2=c,R2}var I2,DC;function are(){if(DC)return I2;DC=1;var t=v7(),e=Sz(),n=A7(),r=ys(),i=I1(),s=zn(),l=xc(),c=Oh(),h=xi(),f=Lh();function m(p,v,b){var x=s(p),S=x||l(p)||f(p);if(v=r(v,4),b==null){var E=p&&p.constructor;S?b=x?new E:[]:h(p)?b=c(E)?e(i(p)):{}:b={}}return(S?t:n)(p,function(C,M,T){return v(b,C,M,T)}),b}return I2=m,I2}var N2,OC;function sre(){if(OC)return N2;OC=1;var t=wc(),e=Vh(),n=zn(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return N2=i,N2}var M2,zC;function I7(){if(zC)return M2;zC=1;var t=x7(),e=sre();function n(r,i,s,l,c){var h=-1,f=r.length;for(s||(s=e),c||(c=[]);++h<f;){var m=r[h];i>0&&s(m)?i>1?n(m,i-1,s,l,c):t(c,m):l||(c[c.length]=m)}return c}return M2=n,M2}var k2,VC;function ore(){if(VC)return k2;VC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return k2=t,k2}var D2,LC;function Gz(){if(LC)return D2;LC=1;var t=ore(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,h=e(l.length-i,0),f=Array(h);++c<h;)f[c]=l[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=l[c];return m[i]=s(f),t(r,this,m)}}return D2=n,D2}var O2,qC;function lre(){if(qC)return O2;qC=1;var t=E7(),e=cz(),n=Ll(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return O2=r,O2}var z2,PC;function ure(){if(PC)return z2;PC=1;var t=800,e=16,n=Date.now;function r(i){var s=0,l=0;return function(){var c=n(),h=e-(c-l);if(l=c,h>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return z2=r,z2}var V2,BC;function $z(){if(BC)return V2;BC=1;var t=lre(),e=ure(),n=e(t);return V2=n,V2}var L2,UC;function O1(){if(UC)return L2;UC=1;var t=Ll(),e=Gz(),n=$z();function r(i,s){return n(e(i,s,t),i+"")}return L2=r,L2}var q2,jC;function Yz(){if(jC)return q2;jC=1;function t(e,n,r,i){for(var s=e.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(e[l],l,e))return l;return-1}return q2=t,q2}var P2,HC;function cre(){if(HC)return P2;HC=1;function t(e){return e!==e}return P2=t,P2}var B2,FC;function hre(){if(FC)return B2;FC=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return B2=t,B2}var U2,GC;function fre(){if(GC)return U2;GC=1;var t=Yz(),e=cre(),n=hre();function r(i,s,l){return s===s?n(i,s,l):t(i,e,l)}return U2=r,U2}var j2,$C;function dre(){if($C)return j2;$C=1;var t=fre();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return j2=e,j2}var H2,YC;function mre(){if(YC)return H2;YC=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return H2=t,H2}var F2,XC;function pre(){if(XC)return F2;XC=1;function t(){}return F2=t,F2}var G2,KC;function gre(){if(KC)return G2;KC=1;var t=bz(),e=pre(),n=C7(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return G2=i,G2}var $2,QC;function vre(){if(QC)return $2;QC=1;var t=Iz(),e=dre(),n=mre(),r=Nz(),i=gre(),s=C7(),l=200;function c(h,f,m){var p=-1,v=e,b=h.length,x=!0,S=[],E=S;if(m)x=!1,v=n;else if(b>=l){var C=f?null:i(h);if(C)return s(C);x=!1,v=r,E=new t}else E=f?[]:S;e:for(;++p<b;){var M=h[p],T=f?f(M):M;if(M=m||M!==0?M:0,x&&T===T){for(var O=E.length;O--;)if(E[O]===T)continue e;f&&E.push(T),S.push(M)}else v(E,T,m)||(E!==S&&E.push(T),S.push(M))}return S}return $2=c,$2}var Y2,ZC;function Xz(){if(ZC)return Y2;ZC=1;var t=vs(),e=Sa();function n(r){return e(r)&&t(r)}return Y2=n,Y2}var X2,WC;function yre(){if(WC)return X2;WC=1;var t=I7(),e=O1(),n=vre(),r=Xz(),i=e(function(s){return n(t(s,1,r,!0))});return X2=i,X2}var K2,JC;function _re(){if(JC)return K2;JC=1;var t=M1();function e(n,r){return t(r,function(i){return n[i]})}return K2=e,K2}var Q2,eR;function Kz(){if(eR)return Q2;eR=1;var t=_re(),e=ko();function n(r){return r==null?[]:t(r,e(r))}return Q2=n,Q2}var Z2,tR;function Si(){if(tR)return Z2;tR=1;var t;if(typeof m7=="function")try{t={clone:Ane(),constant:E7(),each:Rz(),filter:Pz(),has:Bz(),isArray:zn(),isEmpty:Qne(),isFunction:Oh(),isUndefined:Uz(),keys:ko(),map:Hz(),reduce:Fz(),size:ire(),transform:are(),union:yre(),values:Kz()}}catch{}return t||(t=window._),Z2=t,Z2}var W2,nR;function N7(){if(nR)return W2;nR=1;var t=Si();W2=i;var e="\0",n="\0",r="";function i(m){this._isDirected=t.has(m,"directed")?m.directed:!0,this._isMultigraph=t.has(m,"multigraph")?m.multigraph:!1,this._isCompound=t.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(m){return this._label=m,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultNodeLabelFn=m,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._in[p])})},i.prototype.sinks=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._out[p])})},i.prototype.setNodes=function(m,p){var v=arguments,b=this;return t.each(m,function(x){v.length>1?b.setNode(x,p):b.setNode(x)}),this},i.prototype.setNode=function(m,p){return t.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=p),this):(this._nodes[m]=arguments.length>1?p:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=n,this._children[m]={},this._children[n][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},i.prototype.node=function(m){return this._nodes[m]},i.prototype.hasNode=function(m){return t.has(this._nodes,m)},i.prototype.removeNode=function(m){var p=this;if(t.has(this._nodes,m)){var v=function(b){p.removeEdge(p._edgeObjs[b])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],t.each(this.children(m),function(b){p.setParent(b)}),delete this._children[m]),t.each(t.keys(this._in[m]),v),delete this._in[m],delete this._preds[m],t.each(t.keys(this._out[m]),v),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},i.prototype.setParent=function(m,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=n;else{p+="";for(var v=p;!t.isUndefined(v);v=this.parent(v))if(v===m)throw new Error("Setting "+p+" as parent of "+m+" would create a cycle");this.setNode(p)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=p,this._children[p][m]=!0,this},i.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},i.prototype.parent=function(m){if(this._isCompound){var p=this._parent[m];if(p!==n)return p}},i.prototype.children=function(m){if(t.isUndefined(m)&&(m=n),this._isCompound){var p=this._children[m];if(p)return t.keys(p)}else{if(m===n)return this.nodes();if(this.hasNode(m))return[]}},i.prototype.predecessors=function(m){var p=this._preds[m];if(p)return t.keys(p)},i.prototype.successors=function(m){var p=this._sucs[m];if(p)return t.keys(p)},i.prototype.neighbors=function(m){var p=this.predecessors(m);if(p)return t.union(p,this.successors(m))},i.prototype.isLeaf=function(m){var p;return this.isDirected()?p=this.successors(m):p=this.neighbors(m),p.length===0},i.prototype.filterNodes=function(m){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;t.each(this._nodes,function(S,E){m(E)&&p.setNode(E,S)}),t.each(this._edgeObjs,function(S){p.hasNode(S.v)&&p.hasNode(S.w)&&p.setEdge(S,v.edge(S))});var b={};function x(S){var E=v.parent(S);return E===void 0||p.hasNode(E)?(b[S]=E,E):E in b?b[E]:x(E)}return this._isCompound&&t.each(p.nodes(),function(S){p.setParent(S,x(S))}),p},i.prototype.setDefaultEdgeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultEdgeLabelFn=m,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(m,p){var v=this,b=arguments;return t.reduce(m,function(x,S){return b.length>1?v.setEdge(x,S,p):v.setEdge(x,S),S}),this},i.prototype.setEdge=function(){var m,p,v,b,x=!1,S=arguments[0];typeof S=="object"&&S!==null&&"v"in S?(m=S.v,p=S.w,v=S.name,arguments.length===2&&(b=arguments[1],x=!0)):(m=S,p=arguments[1],v=arguments[3],arguments.length>2&&(b=arguments[2],x=!0)),m=""+m,p=""+p,t.isUndefined(v)||(v=""+v);var E=c(this._isDirected,m,p,v);if(t.has(this._edgeLabels,E))return x&&(this._edgeLabels[E]=b),this;if(!t.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(p),this._edgeLabels[E]=x?b:this._defaultEdgeLabelFn(m,p,v);var C=h(this._isDirected,m,p,v);return m=C.v,p=C.w,Object.freeze(C),this._edgeObjs[E]=C,s(this._preds[p],m),s(this._sucs[m],p),this._in[p][E]=C,this._out[m][E]=C,this._edgeCount++,this},i.prototype.edge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return this._edgeLabels[b]},i.prototype.hasEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return t.has(this._edgeLabels,b)},i.prototype.removeEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v),x=this._edgeObjs[b];return x&&(m=x.v,p=x.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[p],m),l(this._sucs[m],p),delete this._in[p][b],delete this._out[m][b],this._edgeCount--),this},i.prototype.inEdges=function(m,p){var v=this._in[m];if(v){var b=t.values(v);return p?t.filter(b,function(x){return x.v===p}):b}},i.prototype.outEdges=function(m,p){var v=this._out[m];if(v){var b=t.values(v);return p?t.filter(b,function(x){return x.w===p}):b}},i.prototype.nodeEdges=function(m,p){var v=this.inEdges(m,p);if(v)return v.concat(this.outEdges(m,p))};function s(m,p){m[p]?m[p]++:m[p]=1}function l(m,p){--m[p]||delete m[p]}function c(m,p,v,b){var x=""+p,S=""+v;if(!m&&x>S){var E=x;x=S,S=E}return x+r+S+r+(t.isUndefined(b)?e:b)}function h(m,p,v,b){var x=""+p,S=""+v;if(!m&&x>S){var E=x;x=S,S=E}var C={v:x,w:S};return b&&(C.name=b),C}function f(m,p){return c(m,p.v,p.w,p.name)}return W2}var J2,rR;function bre(){return rR||(rR=1,J2="2.1.8"),J2}var e3,iR;function wre(){return iR||(iR=1,e3={Graph:N7(),version:bre()}),e3}var t3,aR;function xre(){if(aR)return t3;aR=1;var t=Si(),e=N7();t3={write:n,read:s};function n(l){var c={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return t.isUndefined(l.graph())||(c.value=t.clone(l.graph())),c}function r(l){return t.map(l.nodes(),function(c){var h=l.node(c),f=l.parent(c),m={v:c};return t.isUndefined(h)||(m.value=h),t.isUndefined(f)||(m.parent=f),m})}function i(l){return t.map(l.edges(),function(c){var h=l.edge(c),f={v:c.v,w:c.w};return t.isUndefined(c.name)||(f.name=c.name),t.isUndefined(h)||(f.value=h),f})}function s(l){var c=new e(l.options).setGraph(l.value);return t.each(l.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),t.each(l.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}return t3}var n3,sR;function Sre(){if(sR)return n3;sR=1;var t=Si();n3=e;function e(n){var r={},i=[],s;function l(c){t.has(r,c)||(r[c]=!0,s.push(c),t.each(n.successors(c),l),t.each(n.predecessors(c),l))}return t.each(n.nodes(),function(c){s=[],l(c),s.length&&i.push(s)}),i}return n3}var r3,oR;function Qz(){if(oR)return r3;oR=1;var t=Si();r3=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var s=this._arr,l=s.length;return i[n]=l,s.push({key:n,priority:r}),this._decrease(l),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,s<r.length&&(l=r[s].priority<r[l].priority?s:l),l!==n&&(this._swap(n,l),this._heapify(l)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},e.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,l=i[n],c=i[r];i[n]=c,i[r]=l,s[c.key]=n,s[l.key]=r},r3}var i3,lR;function Zz(){if(lR)return i3;lR=1;var t=Si(),e=Qz();i3=r;var n=t.constant(1);function r(s,l,c,h){return i(s,String(l),c||n,h||function(f){return s.outEdges(f)})}function i(s,l,c,h){var f={},m=new e,p,v,b=function(x){var S=x.v!==p?x.v:x.w,E=f[S],C=c(x),M=v.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+C);M<E.distance&&(E.distance=M,E.predecessor=p,m.decrease(S,M))};for(s.nodes().forEach(function(x){var S=x===l?0:Number.POSITIVE_INFINITY;f[x]={distance:S},m.add(x,S)});m.size()>0&&(p=m.removeMin(),v=f[p],v.distance!==Number.POSITIVE_INFINITY);)h(p).forEach(b);return f}return i3}var a3,uR;function Ere(){if(uR)return a3;uR=1;var t=Zz(),e=Si();a3=n;function n(r,i,s){return e.transform(r.nodes(),function(l,c){l[c]=t(r,c,i,s)},{})}return a3}var s3,cR;function Wz(){if(cR)return s3;cR=1;var t=Si();s3=e;function e(n){var r=0,i=[],s={},l=[];function c(h){var f=s[h]={onStack:!0,lowlink:r,index:r++};if(i.push(h),n.successors(h).forEach(function(v){t.has(s,v)?s[v].onStack&&(f.lowlink=Math.min(f.lowlink,s[v].index)):(c(v),f.lowlink=Math.min(f.lowlink,s[v].lowlink))}),f.lowlink===f.index){var m=[],p;do p=i.pop(),s[p].onStack=!1,m.push(p);while(h!==p);l.push(m)}}return n.nodes().forEach(function(h){t.has(s,h)||c(h)}),l}return s3}var o3,hR;function Tre(){if(hR)return o3;hR=1;var t=Si(),e=Wz();o3=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return o3}var l3,fR;function Are(){if(fR)return l3;fR=1;var t=Si();l3=n;var e=t.constant(1);function n(i,s,l){return r(i,s||e,l||function(c){return i.outEdges(c)})}function r(i,s,l){var c={},h=i.nodes();return h.forEach(function(f){c[f]={},c[f][f]={distance:0},h.forEach(function(m){f!==m&&(c[f][m]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(m){var p=m.v===f?m.w:m.v,v=s(m);c[f][p]={distance:v,predecessor:f}})}),h.forEach(function(f){var m=c[f];h.forEach(function(p){var v=c[p];h.forEach(function(b){var x=v[f],S=m[b],E=v[b],C=x.distance+S.distance;C<E.distance&&(E.distance=C,E.predecessor=S.predecessor)})})}),c}return l3}var u3,dR;function Jz(){if(dR)return u3;dR=1;var t=Si();u3=e,e.CycleException=n;function e(r){var i={},s={},l=[];function c(h){if(t.has(s,h))throw new n;t.has(i,h)||(s[h]=!0,i[h]=!0,t.each(r.predecessors(h),c),delete s[h],l.push(h))}if(t.each(r.sinks(),c),t.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,u3}var c3,mR;function Cre(){if(mR)return c3;mR=1;var t=Jz();c3=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return c3}var h3,pR;function eV(){if(pR)return h3;pR=1;var t=Si();h3=e;function e(r,i,s){t.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),c=[],h={};return t.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,s==="post",h,l,c)}),c}function n(r,i,s,l,c,h){t.has(l,i)||(l[i]=!0,s||h.push(i),t.each(c(i),function(f){n(r,f,s,l,c,h)}),s&&h.push(i))}return h3}var f3,gR;function Rre(){if(gR)return f3;gR=1;var t=eV();f3=e;function e(n,r){return t(n,r,"post")}return f3}var d3,vR;function Ire(){if(vR)return d3;vR=1;var t=eV();d3=e;function e(n,r){return t(n,r,"pre")}return d3}var m3,yR;function Nre(){if(yR)return m3;yR=1;var t=Si(),e=N7(),n=Qz();m3=r;function r(i,s){var l=new e,c={},h=new n,f;function m(v){var b=v.v===f?v.w:v.v,x=h.priority(b);if(x!==void 0){var S=s(v);S<x&&(c[b]=f,h.decrease(b,S))}}if(i.nodeCount()===0)return l;t.each(i.nodes(),function(v){h.add(v,Number.POSITIVE_INFINITY),l.setNode(v)}),h.decrease(i.nodes()[0],0);for(var p=!1;h.size()>0;){if(f=h.removeMin(),t.has(c,f))l.setEdge(f,c[f]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(f).forEach(m)}return l}return m3}var p3,_R;function Mre(){return _R||(_R=1,p3={components:Sre(),dijkstra:Zz(),dijkstraAll:Ere(),findCycles:Tre(),floydWarshall:Are(),isAcyclic:Cre(),postorder:Rre(),preorder:Ire(),prim:Nre(),tarjan:Wz(),topsort:Jz()}),p3}var g3,bR;function kre(){if(bR)return g3;bR=1;var t=wre();return g3={Graph:t.Graph,json:xre(),alg:Mre(),version:t.version},g3}var v3,wR;function Fi(){if(wR)return v3;wR=1;var t;if(typeof m7=="function")try{t=kre()}catch{}return t||(t=window.graphlib),v3=t,v3}var y3,xR;function Dre(){if(xR)return y3;xR=1;var t=Tz(),e=1,n=4;function r(i){return t(i,e|n)}return y3=r,y3}var _3,SR;function z1(){if(SR)return _3;SR=1;var t=bc(),e=vs(),n=A1(),r=xi();function i(s,l,c){if(!r(c))return!1;var h=typeof l;return(h=="number"?e(c)&&n(l,c.length):h=="string"&&l in c)?t(c[l],s):!1}return _3=i,_3}var b3,ER;function Ore(){if(ER)return b3;ER=1;var t=O1(),e=bc(),n=z1(),r=Vl(),i=Object.prototype,s=i.hasOwnProperty,l=t(function(c,h){c=Object(c);var f=-1,m=h.length,p=m>2?h[2]:void 0;for(p&&n(h[0],h[1],p)&&(m=1);++f<m;)for(var v=h[f],b=r(v),x=-1,S=b.length;++x<S;){var E=b[x],C=c[E];(C===void 0||e(C,i[E])&&!s.call(c,E))&&(c[E]=v[E])}return c});return b3=l,b3}var w3,TR;function zre(){if(TR)return w3;TR=1;var t=ys(),e=vs(),n=ko();function r(i){return function(s,l,c){var h=Object(s);if(!e(s)){var f=t(l,3);s=n(s),l=function(p){return f(h[p],p,h)}}var m=i(s,l,c);return m>-1?h[f?s[m]:m]:void 0}}return w3=r,w3}var x3,AR;function Vre(){if(AR)return x3;AR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return x3=e,x3}var S3,CR;function Lre(){if(CR)return S3;CR=1;var t=Vre(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return S3=n,S3}var E3,RR;function qre(){if(RR)return E3;RR=1;var t=Lre(),e=xi(),n=Ec(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=s.test(f);return p||l.test(f)?c(f.slice(2),p?2:8):i.test(f)?r:+f}return E3=h,E3}var T3,IR;function tV(){if(IR)return T3;IR=1;var t=qre(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return T3=r,T3}var A3,NR;function Pre(){if(NR)return A3;NR=1;var t=tV();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return A3=e,A3}var C3,MR;function Bre(){if(MR)return C3;MR=1;var t=Yz(),e=ys(),n=Pre(),r=Math.max;function i(s,l,c){var h=s==null?0:s.length;if(!h)return-1;var f=c==null?0:n(c);return f<0&&(f=r(h+f,0)),t(s,e(l,3),f)}return C3=i,C3}var R3,kR;function Ure(){if(kR)return R3;kR=1;var t=zre(),e=Bre(),n=t(e);return R3=n,R3}var I3,DR;function nV(){if(DR)return I3;DR=1;var t=I7();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return I3=e,I3}var N3,OR;function jre(){if(OR)return N3;OR=1;var t=T7(),e=Az(),n=Vl();function r(i,s){return i==null?i:t(i,e(s),n)}return N3=r,N3}var M3,zR;function Hre(){if(zR)return M3;zR=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return M3=t,M3}var k3,VR;function Fre(){if(VR)return k3;VR=1;var t=E1(),e=A7(),n=ys();function r(i,s){var l={};return s=n(s,3),e(i,function(c,h,f){t(l,h,s(c,h,f))}),l}return k3=r,k3}var D3,LR;function M7(){if(LR)return D3;LR=1;var t=Ec();function e(n,r,i){for(var s=-1,l=n.length;++s<l;){var c=n[s],h=r(c);if(h!=null&&(f===void 0?h===h&&!t(h):i(h,f)))var f=h,m=c}return m}return D3=e,D3}var O3,qR;function Gre(){if(qR)return O3;qR=1;function t(e,n){return e>n}return O3=t,O3}var z3,PR;function $re(){if(PR)return z3;PR=1;var t=M7(),e=Gre(),n=Ll();function r(i){return i&&i.length?t(i,n,e):void 0}return z3=r,z3}var V3,BR;function rV(){if(BR)return V3;BR=1;var t=E1(),e=bc();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return V3=n,V3}var L3,UR;function Yre(){if(UR)return L3;UR=1;var t=Ol(),e=I1(),n=Sa(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,h=l.call(Object);function f(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var v=c.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==h}return L3=f,L3}var q3,jR;function iV(){if(jR)return q3;jR=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return q3=t,q3}var P3,HR;function Xre(){if(HR)return P3;HR=1;var t=zh(),e=Vl();function n(r){return t(r,e(r))}return P3=n,P3}var B3,FR;function Kre(){if(FR)return B3;FR=1;var t=rV(),e=dz(),n=xz(),r=mz(),i=Ez(),s=Vh(),l=zn(),c=Xz(),h=xc(),f=Oh(),m=xi(),p=Yre(),v=Lh(),b=iV(),x=Xre();function S(E,C,M,T,O,B,q){var R=b(E,M),k=b(C,M),D=q.get(k);if(D){t(E,M,D);return}var H=B?B(R,k,M+"",E,C,q):void 0,V=H===void 0;if(V){var j=l(k),U=!j&&h(k),K=!j&&!U&&v(k);H=k,j||U||K?l(R)?H=R:c(R)?H=r(R):U?(V=!1,H=e(k,!0)):K?(V=!1,H=n(k,!0)):H=[]:p(k)||s(k)?(H=R,s(R)?H=x(R):(!m(R)||f(R))&&(H=i(k))):V=!1}V&&(q.set(k,H),O(H,k,T,B,q),q.delete(k)),t(E,M,H)}return B3=S,B3}var U3,GR;function Qre(){if(GR)return U3;GR=1;var t=S1(),e=rV(),n=T7(),r=Kre(),i=xi(),s=Vl(),l=iV();function c(h,f,m,p,v){h!==f&&n(f,function(b,x){if(v||(v=new t),i(b))r(h,f,x,m,c,p,v);else{var S=p?p(l(h,x),b,x+"",h,f,v):void 0;S===void 0&&(S=b),e(h,x,S)}},s)}return U3=c,U3}var j3,$R;function Zre(){if($R)return j3;$R=1;var t=O1(),e=z1();function n(r){return t(function(i,s){var l=-1,c=s.length,h=c>1?s[c-1]:void 0,f=c>2?s[2]:void 0;for(h=r.length>3&&typeof h=="function"?(c--,h):void 0,f&&e(s[0],s[1],f)&&(h=c<3?void 0:h,c=1),i=Object(i);++l<c;){var m=s[l];m&&r(i,m,l,h)}return i})}return j3=n,j3}var H3,YR;function Wre(){if(YR)return H3;YR=1;var t=Qre(),e=Zre(),n=e(function(r,i,s){t(r,i,s)});return H3=n,H3}var F3,XR;function aV(){if(XR)return F3;XR=1;function t(e,n){return e<n}return F3=t,F3}var G3,KR;function Jre(){if(KR)return G3;KR=1;var t=M7(),e=aV(),n=Ll();function r(i){return i&&i.length?t(i,n,e):void 0}return G3=r,G3}var $3,QR;function eie(){if(QR)return $3;QR=1;var t=M7(),e=ys(),n=aV();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return $3=r,$3}var Y3,ZR;function tie(){if(ZR)return Y3;ZR=1;var t=$i(),e=function(){return t.Date.now()};return Y3=e,Y3}var X3,WR;function nie(){if(WR)return X3;WR=1;var t=T1(),e=k1(),n=A1(),r=xi(),i=qh();function s(l,c,h,f){if(!r(l))return l;c=e(c,l);for(var m=-1,p=c.length,v=p-1,b=l;b!=null&&++m<p;){var x=i(c[m]),S=h;if(x==="__proto__"||x==="constructor"||x==="prototype")return l;if(m!=v){var E=b[x];S=f?f(E,x,b):void 0,S===void 0&&(S=r(E)?E:n(c[m+1])?[]:{})}t(b,x,S),b=b[x]}return l}return X3=s,X3}var K3,JR;function rie(){if(JR)return K3;JR=1;var t=D1(),e=nie(),n=k1();function r(i,s,l){for(var c=-1,h=s.length,f={};++c<h;){var m=s[c],p=t(i,m);l(p,m)&&e(f,n(m,i),p)}return f}return K3=r,K3}var Q3,eI;function iie(){if(eI)return Q3;eI=1;var t=rie(),e=Lz();function n(r,i){return t(r,i,function(s,l){return e(r,l)})}return Q3=n,Q3}var Z3,tI;function aie(){if(tI)return Z3;tI=1;var t=nV(),e=Gz(),n=$z();function r(i){return n(e(i,void 0,t),i+"")}return Z3=r,Z3}var W3,nI;function sie(){if(nI)return W3;nI=1;var t=iie(),e=aie(),n=e(function(r,i){return r==null?{}:t(r,i)});return W3=n,W3}var J3,rI;function oie(){if(rI)return J3;rI=1;var t=Math.ceil,e=Math.max;function n(r,i,s,l){for(var c=-1,h=e(t((i-r)/(s||1)),0),f=Array(h);h--;)f[l?h:++c]=r,r+=s;return f}return J3=n,J3}var e5,iI;function lie(){if(iI)return e5;iI=1;var t=oie(),e=z1(),n=tV();function r(i){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),c=c===void 0?s<l?1:-1:n(c),t(s,l,c,i)}}return e5=r,e5}var t5,aI;function uie(){if(aI)return t5;aI=1;var t=lie(),e=t();return t5=e,t5}var n5,sI;function cie(){if(sI)return n5;sI=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return n5=t,n5}var r5,oI;function hie(){if(oI)return r5;oI=1;var t=Ec();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,c=t(n),h=r!==void 0,f=r===null,m=r===r,p=t(r);if(!f&&!p&&!c&&n>r||c&&h&&m&&!f&&!p||s&&h&&m||!i&&m||!l)return 1;if(!s&&!c&&!p&&n<r||p&&i&&l&&!s&&!c||f&&i&&l||!h&&l||!m)return-1}return 0}return r5=e,r5}var i5,lI;function fie(){if(lI)return i5;lI=1;var t=hie();function e(n,r,i){for(var s=-1,l=n.criteria,c=r.criteria,h=l.length,f=i.length;++s<h;){var m=t(l[s],c[s]);if(m){if(s>=f)return m;var p=i[s];return m*(p=="desc"?-1:1)}}return n.index-r.index}return i5=e,i5}var a5,uI;function die(){if(uI)return a5;uI=1;var t=M1(),e=D1(),n=ys(),r=jz(),i=cie(),s=C1(),l=fie(),c=Ll(),h=zn();function f(m,p,v){p.length?p=t(p,function(S){return h(S)?function(E){return e(E,S.length===1?S[0]:S)}:S}):p=[c];var b=-1;p=t(p,s(n));var x=r(m,function(S,E,C){var M=t(p,function(T){return T(S)});return{criteria:M,index:++b,value:S}});return i(x,function(S,E){return l(S,E,v)})}return a5=f,a5}var s5,cI;function mie(){if(cI)return s5;cI=1;var t=I7(),e=die(),n=O1(),r=z1(),i=n(function(s,l){if(s==null)return[];var c=l.length;return c>1&&r(s,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return s5=i,s5}var o5,hI;function pie(){if(hI)return o5;hI=1;var t=zz(),e=0;function n(r){var i=++e;return t(r)+i}return o5=n,o5}var l5,fI;function gie(){if(fI)return l5;fI=1;function t(e,n,r){for(var i=-1,s=e.length,l=n.length,c={};++i<s;){var h=i<l?n[i]:void 0;r(c,e[i],h)}return c}return l5=t,l5}var u5,dI;function vie(){if(dI)return u5;dI=1;var t=T1(),e=gie();function n(r,i){return e(r||[],i||[],t)}return u5=n,u5}var c5,mI;function nn(){if(mI)return c5;mI=1;var t;if(typeof m7=="function")try{t={cloneDeep:Dre(),constant:E7(),defaults:Ore(),each:Rz(),filter:Pz(),find:Ure(),flatten:nV(),forEach:Cz(),forIn:jre(),has:Bz(),isUndefined:Uz(),last:Hre(),map:Hz(),mapValues:Fre(),max:$re(),merge:Wre(),min:Jre(),minBy:eie(),now:tie(),pick:sie(),range:uie(),reduce:Fz(),sortBy:mie(),uniqueId:pie(),values:Kz(),zipObject:vie()}}catch{}return t||(t=window._),c5=t,c5}var h5,pI;function yie(){if(pI)return h5;pI=1,h5=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,s=i._prev;s!==i;)r.push(JSON.stringify(s,n)),s=s._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return h5}var f5,gI;function _ie(){if(gI)return f5;gI=1;var t=nn(),e=Fi().Graph,n=yie();f5=i;var r=t.constant(1);function i(f,m){if(f.nodeCount()<=1)return[];var p=c(f,m||r),v=s(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(v,function(b){return f.outEdges(b.v,b.w)}),!0)}function s(f,m,p){for(var v=[],b=m[m.length-1],x=m[0],S;f.nodeCount();){for(;S=x.dequeue();)l(f,m,p,S);for(;S=b.dequeue();)l(f,m,p,S);if(f.nodeCount()){for(var E=m.length-2;E>0;--E)if(S=m[E].dequeue(),S){v=v.concat(l(f,m,p,S,!0));break}}}return v}function l(f,m,p,v,b){var x=b?[]:void 0;return t.forEach(f.inEdges(v.v),function(S){var E=f.edge(S),C=f.node(S.v);b&&x.push({v:S.v,w:S.w}),C.out-=E,h(m,p,C)}),t.forEach(f.outEdges(v.v),function(S){var E=f.edge(S),C=S.w,M=f.node(C);M.in-=E,h(m,p,M)}),f.removeNode(v.v),x}function c(f,m){var p=new e,v=0,b=0;t.forEach(f.nodes(),function(E){p.setNode(E,{v:E,in:0,out:0})}),t.forEach(f.edges(),function(E){var C=p.edge(E.v,E.w)||0,M=m(E),T=C+M;p.setEdge(E.v,E.w,T),b=Math.max(b,p.node(E.v).out+=M),v=Math.max(v,p.node(E.w).in+=M)});var x=t.range(b+v+3).map(function(){return new n}),S=v+1;return t.forEach(p.nodes(),function(E){h(x,S,p.node(E))}),{graph:p,buckets:x,zeroIdx:S}}function h(f,m,p){p.out?p.in?f[p.out-p.in+m].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return f5}var d5,vI;function bie(){if(vI)return d5;vI=1;var t=nn(),e=_ie();d5={run:n,undo:i};function n(s){var l=s.graph().acyclicer==="greedy"?e(s,c(s)):r(s);t.forEach(l,function(h){var f=s.edge(h);s.removeEdge(h),f.forwardName=h.name,f.reversed=!0,s.setEdge(h.w,h.v,f,t.uniqueId("rev"))});function c(h){return function(f){return h.edge(f).weight}}}function r(s){var l=[],c={},h={};function f(m){t.has(h,m)||(h[m]=!0,c[m]=!0,t.forEach(s.outEdges(m),function(p){t.has(c,p.w)?l.push(p):f(p.w)}),delete c[m])}return t.forEach(s.nodes(),f),l}function i(s){t.forEach(s.edges(),function(l){var c=s.edge(l);if(c.reversed){s.removeEdge(l);var h=c.forwardName;delete c.reversed,delete c.forwardName,s.setEdge(l.w,l.v,c,h)}})}return d5}var m5,yI;function Nr(){if(yI)return m5;yI=1;var t=nn(),e=Fi().Graph;m5={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:s,predecessorWeights:l,intersectRect:c,buildLayerMatrix:h,normalizeRanks:f,removeEmptyRanks:m,addBorderNode:p,maxRank:v,partition:b,time:x,notime:S};function n(E,C,M,T){var O;do O=t.uniqueId(T);while(E.hasNode(O));return M.dummy=C,E.setNode(O,M),O}function r(E){var C=new e().setGraph(E.graph());return t.forEach(E.nodes(),function(M){C.setNode(M,E.node(M))}),t.forEach(E.edges(),function(M){var T=C.edge(M.v,M.w)||{weight:0,minlen:1},O=E.edge(M);C.setEdge(M.v,M.w,{weight:T.weight+O.weight,minlen:Math.max(T.minlen,O.minlen)})}),C}function i(E){var C=new e({multigraph:E.isMultigraph()}).setGraph(E.graph());return t.forEach(E.nodes(),function(M){E.children(M).length||C.setNode(M,E.node(M))}),t.forEach(E.edges(),function(M){C.setEdge(M,E.edge(M))}),C}function s(E){var C=t.map(E.nodes(),function(M){var T={};return t.forEach(E.outEdges(M),function(O){T[O.w]=(T[O.w]||0)+E.edge(O).weight}),T});return t.zipObject(E.nodes(),C)}function l(E){var C=t.map(E.nodes(),function(M){var T={};return t.forEach(E.inEdges(M),function(O){T[O.v]=(T[O.v]||0)+E.edge(O).weight}),T});return t.zipObject(E.nodes(),C)}function c(E,C){var M=E.x,T=E.y,O=C.x-M,B=C.y-T,q=E.width/2,R=E.height/2;if(!O&&!B)throw new Error("Not possible to find intersection inside of the rectangle");var k,D;return Math.abs(B)*q>Math.abs(O)*R?(B<0&&(R=-R),k=R*O/B,D=R):(O<0&&(q=-q),k=q,D=q*B/O),{x:M+k,y:T+D}}function h(E){var C=t.map(t.range(v(E)+1),function(){return[]});return t.forEach(E.nodes(),function(M){var T=E.node(M),O=T.rank;t.isUndefined(O)||(C[O][T.order]=M)}),C}function f(E){var C=t.min(t.map(E.nodes(),function(M){return E.node(M).rank}));t.forEach(E.nodes(),function(M){var T=E.node(M);t.has(T,"rank")&&(T.rank-=C)})}function m(E){var C=t.min(t.map(E.nodes(),function(B){return E.node(B).rank})),M=[];t.forEach(E.nodes(),function(B){var q=E.node(B).rank-C;M[q]||(M[q]=[]),M[q].push(B)});var T=0,O=E.graph().nodeRankFactor;t.forEach(M,function(B,q){t.isUndefined(B)&&q%O!==0?--T:T&&t.forEach(B,function(R){E.node(R).rank+=T})})}function p(E,C,M,T){var O={width:0,height:0};return arguments.length>=4&&(O.rank=M,O.order=T),n(E,"border",O,C)}function v(E){return t.max(t.map(E.nodes(),function(C){var M=E.node(C).rank;if(!t.isUndefined(M))return M}))}function b(E,C){var M={lhs:[],rhs:[]};return t.forEach(E,function(T){C(T)?M.lhs.push(T):M.rhs.push(T)}),M}function x(E,C){var M=t.now();try{return C()}finally{console.log(E+" time: "+(t.now()-M)+"ms")}}function S(E,C){return C()}return m5}var p5,_I;function wie(){if(_I)return p5;_I=1;var t=nn(),e=Nr();p5={run:n,undo:i};function n(s){s.graph().dummyChains=[],t.forEach(s.edges(),function(l){r(s,l)})}function r(s,l){var c=l.v,h=s.node(c).rank,f=l.w,m=s.node(f).rank,p=l.name,v=s.edge(l),b=v.labelRank;if(m!==h+1){s.removeEdge(l);var x,S,E;for(E=0,++h;h<m;++E,++h)v.points=[],S={width:0,height:0,edgeLabel:v,edgeObj:l,rank:h},x=e.addDummyNode(s,"edge",S,"_d"),h===b&&(S.width=v.width,S.height=v.height,S.dummy="edge-label",S.labelpos=v.labelpos),s.setEdge(c,x,{weight:v.weight},p),E===0&&s.graph().dummyChains.push(x),c=x;s.setEdge(c,f,{weight:v.weight},p)}}function i(s){t.forEach(s.graph().dummyChains,function(l){var c=s.node(l),h=c.edgeLabel,f;for(s.setEdge(c.edgeObj,h);c.dummy;)f=s.successors(l)[0],s.removeNode(l),h.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),l=f,c=s.node(l)})}return p5}var g5,bI;function Im(){if(bI)return g5;bI=1;var t=nn();g5={longestPath:e,slack:n};function e(r){var i={};function s(l){var c=r.node(l);if(t.has(i,l))return c.rank;i[l]=!0;var h=t.min(t.map(r.outEdges(l),function(f){return s(f.w)-r.edge(f).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),c.rank=h}t.forEach(r.sources(),s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return g5}var v5,wI;function sV(){if(wI)return v5;wI=1;var t=nn(),e=Fi().Graph,n=Im().slack;v5=r;function r(c){var h=new e({directed:!1}),f=c.nodes()[0],m=c.nodeCount();h.setNode(f,{});for(var p,v;i(h,c)<m;)p=s(h,c),v=h.hasNode(p.v)?n(c,p):-n(c,p),l(h,c,v);return h}function i(c,h){function f(m){t.forEach(h.nodeEdges(m),function(p){var v=p.v,b=m===v?p.w:v;!c.hasNode(b)&&!n(h,p)&&(c.setNode(b,{}),c.setEdge(m,b,{}),f(b))})}return t.forEach(c.nodes(),f),c.nodeCount()}function s(c,h){return t.minBy(h.edges(),function(f){if(c.hasNode(f.v)!==c.hasNode(f.w))return n(h,f)})}function l(c,h,f){t.forEach(c.nodes(),function(m){h.node(m).rank+=f})}return v5}var y5,xI;function xie(){if(xI)return y5;xI=1;var t=nn(),e=sV(),n=Im().slack,r=Im().longestPath,i=Fi().alg.preorder,s=Fi().alg.postorder,l=Nr().simplify;y5=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=m,c.leaveEdge=b,c.enterEdge=x,c.exchangeEdges=S;function c(T){T=l(T),r(T);var O=e(T);p(O),h(O,T);for(var B,q;B=b(O);)q=x(O,T,B),S(O,T,B,q)}function h(T,O){var B=s(T,T.nodes());B=B.slice(0,B.length-1),t.forEach(B,function(q){f(T,O,q)})}function f(T,O,B){var q=T.node(B),R=q.parent;T.edge(B,R).cutvalue=m(T,O,B)}function m(T,O,B){var q=T.node(B),R=q.parent,k=!0,D=O.edge(B,R),H=0;return D||(k=!1,D=O.edge(R,B)),H=D.weight,t.forEach(O.nodeEdges(B),function(V){var j=V.v===B,U=j?V.w:V.v;if(U!==R){var K=j===k,ne=O.edge(V).weight;if(H+=K?ne:-ne,C(T,B,U)){var $=T.edge(B,U).cutvalue;H+=K?-$:$}}}),H}function p(T,O){arguments.length<2&&(O=T.nodes()[0]),v(T,{},1,O)}function v(T,O,B,q,R){var k=B,D=T.node(q);return O[q]=!0,t.forEach(T.neighbors(q),function(H){t.has(O,H)||(B=v(T,O,B,H,q))}),D.low=k,D.lim=B++,R?D.parent=R:delete D.parent,B}function b(T){return t.find(T.edges(),function(O){return T.edge(O).cutvalue<0})}function x(T,O,B){var q=B.v,R=B.w;O.hasEdge(q,R)||(q=B.w,R=B.v);var k=T.node(q),D=T.node(R),H=k,V=!1;k.lim>D.lim&&(H=D,V=!0);var j=t.filter(O.edges(),function(U){return V===M(T,T.node(U.v),H)&&V!==M(T,T.node(U.w),H)});return t.minBy(j,function(U){return n(O,U)})}function S(T,O,B,q){var R=B.v,k=B.w;T.removeEdge(R,k),T.setEdge(q.v,q.w,{}),p(T),h(T,O),E(T,O)}function E(T,O){var B=t.find(T.nodes(),function(R){return!O.node(R).parent}),q=i(T,B);q=q.slice(1),t.forEach(q,function(R){var k=T.node(R).parent,D=O.edge(R,k),H=!1;D||(D=O.edge(k,R),H=!0),O.node(R).rank=O.node(k).rank+(H?D.minlen:-D.minlen)})}function C(T,O,B){return T.hasEdge(O,B)}function M(T,O,B){return B.low<=O.lim&&O.lim<=B.lim}return y5}var _5,SI;function Sie(){if(SI)return _5;SI=1;var t=Im(),e=t.longestPath,n=sV(),r=xie();_5=i;function i(h){switch(h.graph().ranker){case"network-simplex":c(h);break;case"tight-tree":l(h);break;case"longest-path":s(h);break;default:c(h)}}var s=e;function l(h){e(h),n(h)}function c(h){r(h)}return _5}var b5,EI;function Eie(){if(EI)return b5;EI=1;var t=nn();b5=e;function e(i){var s=r(i);t.forEach(i.graph().dummyChains,function(l){for(var c=i.node(l),h=c.edgeObj,f=n(i,s,h.v,h.w),m=f.path,p=f.lca,v=0,b=m[v],x=!0;l!==h.w;){if(c=i.node(l),x){for(;(b=m[v])!==p&&i.node(b).maxRank<c.rank;)v++;b===p&&(x=!1)}if(!x){for(;v<m.length-1&&i.node(b=m[v+1]).minRank<=c.rank;)v++;b=m[v]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,s,l,c){var h=[],f=[],m=Math.min(s[l].low,s[c].low),p=Math.max(s[l].lim,s[c].lim),v,b;v=l;do v=i.parent(v),h.push(v);while(v&&(s[v].low>m||p>s[v].lim));for(b=v,v=c;(v=i.parent(v))!==b;)f.push(v);return{path:h.concat(f.reverse()),lca:b}}function r(i){var s={},l=0;function c(h){var f=l;t.forEach(i.children(h),c),s[h]={low:f,lim:l++}}return t.forEach(i.children(),c),s}return b5}var w5,TI;function Tie(){if(TI)return w5;TI=1;var t=nn(),e=Nr();w5={run:n,cleanup:l};function n(c){var h=e.addDummyNode(c,"root",{},"_root"),f=i(c),m=t.max(t.values(f))-1,p=2*m+1;c.graph().nestingRoot=h,t.forEach(c.edges(),function(b){c.edge(b).minlen*=p});var v=s(c)+1;t.forEach(c.children(),function(b){r(c,h,p,v,m,f,b)}),c.graph().nodeRankFactor=p}function r(c,h,f,m,p,v,b){var x=c.children(b);if(!x.length){b!==h&&c.setEdge(h,b,{weight:0,minlen:f});return}var S=e.addBorderNode(c,"_bt"),E=e.addBorderNode(c,"_bb"),C=c.node(b);c.setParent(S,b),C.borderTop=S,c.setParent(E,b),C.borderBottom=E,t.forEach(x,function(M){r(c,h,f,m,p,v,M);var T=c.node(M),O=T.borderTop?T.borderTop:M,B=T.borderBottom?T.borderBottom:M,q=T.borderTop?m:2*m,R=O!==B?1:p-v[b]+1;c.setEdge(S,O,{weight:q,minlen:R,nestingEdge:!0}),c.setEdge(B,E,{weight:q,minlen:R,nestingEdge:!0})}),c.parent(b)||c.setEdge(h,S,{weight:0,minlen:p+v[b]})}function i(c){var h={};function f(m,p){var v=c.children(m);v&&v.length&&t.forEach(v,function(b){f(b,p+1)}),h[m]=p}return t.forEach(c.children(),function(m){f(m,1)}),h}function s(c){return t.reduce(c.edges(),function(h,f){return h+c.edge(f).weight},0)}function l(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,t.forEach(c.edges(),function(f){var m=c.edge(f);m.nestingEdge&&c.removeEdge(f)})}return w5}var x5,AI;function Aie(){if(AI)return x5;AI=1;var t=nn(),e=Nr();x5=n;function n(i){function s(l){var c=i.children(l),h=i.node(l);if(c.length&&t.forEach(c,s),t.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var f=h.minRank,m=h.maxRank+1;f<m;++f)r(i,"borderLeft","_bl",l,h,f),r(i,"borderRight","_br",l,h,f)}}t.forEach(i.children(),s)}function r(i,s,l,c,h,f){var m={width:0,height:0,rank:f,borderType:s},p=h[s][f-1],v=e.addDummyNode(i,"border",m,l);h[s][f]=v,i.setParent(v,c),p&&i.setEdge(p,v,{weight:1})}return x5}var S5,CI;function Cie(){if(CI)return S5;CI=1;var t=nn();S5={adjust:e,undo:n};function e(f){var m=f.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&r(f)}function n(f){var m=f.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&s(f),(m==="lr"||m==="rl")&&(c(f),r(f))}function r(f){t.forEach(f.nodes(),function(m){i(f.node(m))}),t.forEach(f.edges(),function(m){i(f.edge(m))})}function i(f){var m=f.width;f.width=f.height,f.height=m}function s(f){t.forEach(f.nodes(),function(m){l(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,l),t.has(p,"y")&&l(p)})}function l(f){f.y=-f.y}function c(f){t.forEach(f.nodes(),function(m){h(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,h),t.has(p,"x")&&h(p)})}function h(f){var m=f.x;f.x=f.y,f.y=m}return S5}var E5,RI;function Rie(){if(RI)return E5;RI=1;var t=nn();E5=e;function e(n){var r={},i=t.filter(n.nodes(),function(f){return!n.children(f).length}),s=t.max(t.map(i,function(f){return n.node(f).rank})),l=t.map(t.range(s+1),function(){return[]});function c(f){if(!t.has(r,f)){r[f]=!0;var m=n.node(f);l[m.rank].push(f),t.forEach(n.successors(f),c)}}var h=t.sortBy(i,function(f){return n.node(f).rank});return t.forEach(h,c),l}return E5}var T5,II;function Iie(){if(II)return T5;II=1;var t=nn();T5=e;function e(r,i){for(var s=0,l=1;l<i.length;++l)s+=n(r,i[l-1],i[l]);return s}function n(r,i,s){for(var l=t.zipObject(s,t.map(s,function(v,b){return b})),c=t.flatten(t.map(i,function(v){return t.sortBy(t.map(r.outEdges(v),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),h=1;h<s.length;)h<<=1;var f=2*h-1;h-=1;var m=t.map(new Array(f),function(){return 0}),p=0;return t.forEach(c.forEach(function(v){var b=v.pos+h;m[b]+=v.weight;for(var x=0;b>0;)b%2&&(x+=m[b+1]),b=b-1>>1,m[b]+=v.weight;p+=v.weight*x})),p}return T5}var A5,NI;function Nie(){if(NI)return A5;NI=1;var t=nn();A5=e;function e(n,r){return t.map(r,function(i){var s=n.inEdges(i);if(s.length){var l=t.reduce(s,function(c,h){var f=n.edge(h),m=n.node(h.v);return{sum:c.sum+f.weight*m.order,weight:c.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return A5}var C5,MI;function Mie(){if(MI)return C5;MI=1;var t=nn();C5=e;function e(i,s){var l={};t.forEach(i,function(h,f){var m=l[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:f};t.isUndefined(h.barycenter)||(m.barycenter=h.barycenter,m.weight=h.weight)}),t.forEach(s.edges(),function(h){var f=l[h.v],m=l[h.w];!t.isUndefined(f)&&!t.isUndefined(m)&&(m.indegree++,f.out.push(l[h.w]))});var c=t.filter(l,function(h){return!h.indegree});return n(c)}function n(i){var s=[];function l(f){return function(m){m.merged||(t.isUndefined(m.barycenter)||t.isUndefined(f.barycenter)||m.barycenter>=f.barycenter)&&r(f,m)}}function c(f){return function(m){m.in.push(f),--m.indegree===0&&i.push(m)}}for(;i.length;){var h=i.pop();s.push(h),t.forEach(h.in.reverse(),l(h)),t.forEach(h.out,c(h))}return t.map(t.filter(s,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function r(i,s){var l=0,c=0;i.weight&&(l+=i.barycenter*i.weight,c+=i.weight),s.weight&&(l+=s.barycenter*s.weight,c+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=l/c,i.weight=c,i.i=Math.min(s.i,i.i),s.merged=!0}return C5}var R5,kI;function kie(){if(kI)return R5;kI=1;var t=nn(),e=Nr();R5=n;function n(s,l){var c=e.partition(s,function(S){return t.has(S,"barycenter")}),h=c.lhs,f=t.sortBy(c.rhs,function(S){return-S.i}),m=[],p=0,v=0,b=0;h.sort(i(!!l)),b=r(m,f,b),t.forEach(h,function(S){b+=S.vs.length,m.push(S.vs),p+=S.barycenter*S.weight,v+=S.weight,b=r(m,f,b)});var x={vs:t.flatten(m,!0)};return v&&(x.barycenter=p/v,x.weight=v),x}function r(s,l,c){for(var h;l.length&&(h=t.last(l)).i<=c;)l.pop(),s.push(h.vs),c++;return c}function i(s){return function(l,c){return l.barycenter<c.barycenter?-1:l.barycenter>c.barycenter?1:s?c.i-l.i:l.i-c.i}}return R5}var I5,DI;function Die(){if(DI)return I5;DI=1;var t=nn(),e=Nie(),n=Mie(),r=kie();I5=i;function i(c,h,f,m){var p=c.children(h),v=c.node(h),b=v?v.borderLeft:void 0,x=v?v.borderRight:void 0,S={};b&&(p=t.filter(p,function(B){return B!==b&&B!==x}));var E=e(c,p);t.forEach(E,function(B){if(c.children(B.v).length){var q=i(c,B.v,f,m);S[B.v]=q,t.has(q,"barycenter")&&l(B,q)}});var C=n(E,f);s(C,S);var M=r(C,m);if(b&&(M.vs=t.flatten([b,M.vs,x],!0),c.predecessors(b).length)){var T=c.node(c.predecessors(b)[0]),O=c.node(c.predecessors(x)[0]);t.has(M,"barycenter")||(M.barycenter=0,M.weight=0),M.barycenter=(M.barycenter*M.weight+T.order+O.order)/(M.weight+2),M.weight+=2}return M}function s(c,h){t.forEach(c,function(f){f.vs=t.flatten(f.vs.map(function(m){return h[m]?h[m].vs:m}),!0)})}function l(c,h){t.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}return I5}var N5,OI;function Oie(){if(OI)return N5;OI=1;var t=nn(),e=Fi().Graph;N5=n;function n(i,s,l){var c=r(i),h=new e({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(f){return i.node(f)});return t.forEach(i.nodes(),function(f){var m=i.node(f),p=i.parent(f);(m.rank===s||m.minRank<=s&&s<=m.maxRank)&&(h.setNode(f),h.setParent(f,p||c),t.forEach(i[l](f),function(v){var b=v.v===f?v.w:v.v,x=h.edge(b,f),S=t.isUndefined(x)?0:x.weight;h.setEdge(b,f,{weight:i.edge(v).weight+S})}),t.has(m,"minRank")&&h.setNode(f,{borderLeft:m.borderLeft[s],borderRight:m.borderRight[s]}))}),h}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return N5}var M5,zI;function zie(){if(zI)return M5;zI=1;var t=nn();M5=e;function e(n,r,i){var s={},l;t.forEach(i,function(c){for(var h=n.parent(c),f,m;h;){if(f=n.parent(h),f?(m=s[f],s[f]=h):(m=l,l=h),m&&m!==h){r.setEdge(m,h);return}h=f}})}return M5}var k5,VI;function Vie(){if(VI)return k5;VI=1;var t=nn(),e=Rie(),n=Iie(),r=Die(),i=Oie(),s=zie(),l=Fi().Graph,c=Nr();k5=h;function h(v){var b=c.maxRank(v),x=f(v,t.range(1,b+1),"inEdges"),S=f(v,t.range(b-1,-1,-1),"outEdges"),E=e(v);p(v,E);for(var C=Number.POSITIVE_INFINITY,M,T=0,O=0;O<4;++T,++O){m(T%2?x:S,T%4>=2),E=c.buildLayerMatrix(v);var B=n(v,E);B<C&&(O=0,M=t.cloneDeep(E),C=B)}p(v,M)}function f(v,b,x){return t.map(b,function(S){return i(v,S,x)})}function m(v,b){var x=new l;t.forEach(v,function(S){var E=S.graph().root,C=r(S,E,x,b);t.forEach(C.vs,function(M,T){S.node(M).order=T}),s(S,x,C.vs)})}function p(v,b){t.forEach(b,function(x){t.forEach(x,function(S,E){v.node(S).order=E})})}return k5}var D5,LI;function Lie(){if(LI)return D5;LI=1;var t=nn(),e=Fi().Graph,n=Nr();D5={positionX:x,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:c,verticalAlignment:h,horizontalCompaction:f,alignCoordinates:v,findSmallestWidthAlignment:p,balance:b};function r(C,M){var T={};function O(B,q){var R=0,k=0,D=B.length,H=t.last(q);return t.forEach(q,function(V,j){var U=s(C,V),K=U?C.node(U).order:D;(U||V===H)&&(t.forEach(q.slice(k,j+1),function(ne){t.forEach(C.predecessors(ne),function($){var ee=C.node($),re=ee.order;(re<R||K<re)&&!(ee.dummy&&C.node(ne).dummy)&&l(T,$,ne)})}),k=j+1,R=K)}),q}return t.reduce(M,O),T}function i(C,M){var T={};function O(q,R,k,D,H){var V;t.forEach(t.range(R,k),function(j){V=q[j],C.node(V).dummy&&t.forEach(C.predecessors(V),function(U){var K=C.node(U);K.dummy&&(K.order<D||K.order>H)&&l(T,U,V)})})}function B(q,R){var k=-1,D,H=0;return t.forEach(R,function(V,j){if(C.node(V).dummy==="border"){var U=C.predecessors(V);U.length&&(D=C.node(U[0]).order,O(R,H,j,k,D),H=j,k=D)}O(R,H,R.length,D,q.length)}),R}return t.reduce(M,B),T}function s(C,M){if(C.node(M).dummy)return t.find(C.predecessors(M),function(T){return C.node(T).dummy})}function l(C,M,T){if(M>T){var O=M;M=T,T=O}var B=C[M];B||(C[M]=B={}),B[T]=!0}function c(C,M,T){if(M>T){var O=M;M=T,T=O}return t.has(C[M],T)}function h(C,M,T,O){var B={},q={},R={};return t.forEach(M,function(k){t.forEach(k,function(D,H){B[D]=D,q[D]=D,R[D]=H})}),t.forEach(M,function(k){var D=-1;t.forEach(k,function(H){var V=O(H);if(V.length){V=t.sortBy(V,function($){return R[$]});for(var j=(V.length-1)/2,U=Math.floor(j),K=Math.ceil(j);U<=K;++U){var ne=V[U];q[H]===H&&D<R[ne]&&!c(T,H,ne)&&(q[ne]=H,q[H]=B[H]=B[ne],D=R[ne])}}})}),{root:B,align:q}}function f(C,M,T,O,B){var q={},R=m(C,M,T,B),k=B?"borderLeft":"borderRight";function D(j,U){for(var K=R.nodes(),ne=K.pop(),$={};ne;)$[ne]?j(ne):($[ne]=!0,K.push(ne),K=K.concat(U(ne))),ne=K.pop()}function H(j){q[j]=R.inEdges(j).reduce(function(U,K){return Math.max(U,q[K.v]+R.edge(K))},0)}function V(j){var U=R.outEdges(j).reduce(function(ne,$){return Math.min(ne,q[$.w]-R.edge($))},Number.POSITIVE_INFINITY),K=C.node(j);U!==Number.POSITIVE_INFINITY&&K.borderType!==k&&(q[j]=Math.max(q[j],U))}return D(H,R.predecessors.bind(R)),D(V,R.successors.bind(R)),t.forEach(O,function(j){q[j]=q[T[j]]}),q}function m(C,M,T,O){var B=new e,q=C.graph(),R=S(q.nodesep,q.edgesep,O);return t.forEach(M,function(k){var D;t.forEach(k,function(H){var V=T[H];if(B.setNode(V),D){var j=T[D],U=B.edge(j,V);B.setEdge(j,V,Math.max(R(C,H,D),U||0))}D=H})}),B}function p(C,M){return t.minBy(t.values(M),function(T){var O=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY;return t.forIn(T,function(q,R){var k=E(C,R)/2;O=Math.max(q+k,O),B=Math.min(q-k,B)}),O-B})}function v(C,M){var T=t.values(M),O=t.min(T),B=t.max(T);t.forEach(["u","d"],function(q){t.forEach(["l","r"],function(R){var k=q+R,D=C[k],H;if(D!==M){var V=t.values(D);H=R==="l"?O-t.min(V):B-t.max(V),H&&(C[k]=t.mapValues(D,function(j){return j+H}))}})})}function b(C,M){return t.mapValues(C.ul,function(T,O){if(M)return C[M.toLowerCase()][O];var B=t.sortBy(t.map(C,O));return(B[1]+B[2])/2})}function x(C){var M=n.buildLayerMatrix(C),T=t.merge(r(C,M),i(C,M)),O={},B;t.forEach(["u","d"],function(R){B=R==="u"?M:t.values(M).reverse(),t.forEach(["l","r"],function(k){k==="r"&&(B=t.map(B,function(j){return t.values(j).reverse()}));var D=(R==="u"?C.predecessors:C.successors).bind(C),H=h(C,B,T,D),V=f(C,B,H.root,H.align,k==="r");k==="r"&&(V=t.mapValues(V,function(j){return-j})),O[R+k]=V})});var q=p(C,O);return v(O,q),b(O,C.graph().align)}function S(C,M,T){return function(O,B,q){var R=O.node(B),k=O.node(q),D=0,H;if(D+=R.width/2,t.has(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":H=-R.width/2;break;case"r":H=R.width/2;break}if(H&&(D+=T?H:-H),H=0,D+=(R.dummy?M:C)/2,D+=(k.dummy?M:C)/2,D+=k.width/2,t.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":H=k.width/2;break;case"r":H=-k.width/2;break}return H&&(D+=T?H:-H),H=0,D}}function E(C,M){return C.node(M).width}return D5}var O5,qI;function qie(){if(qI)return O5;qI=1;var t=nn(),e=Nr(),n=Lie().positionX;O5=r;function r(s){s=e.asNonCompoundGraph(s),i(s),t.forEach(n(s),function(l,c){s.node(c).x=l})}function i(s){var l=e.buildLayerMatrix(s),c=s.graph().ranksep,h=0;t.forEach(l,function(f){var m=t.max(t.map(f,function(p){return s.node(p).height}));t.forEach(f,function(p){s.node(p).y=h+m/2}),h+=m+c})}return O5}var z5,PI;function Pie(){if(PI)return z5;PI=1;var t=nn(),e=bie(),n=wie(),r=Sie(),i=Nr().normalizeRanks,s=Eie(),l=Nr().removeEmptyRanks,c=Tie(),h=Aie(),f=Cie(),m=Vie(),p=qie(),v=Nr(),b=Fi().Graph;z5=x;function x(Q,ie){var le=ie&&ie.debugTiming?v.time:v.notime;le("layout",function(){var he=le("  buildLayoutGraph",function(){return D(Q)});le("  runLayout",function(){S(he,le)}),le("  updateInputGraph",function(){E(Q,he)})})}function S(Q,ie){ie("    makeSpaceForEdgeLabels",function(){H(Q)}),ie("    removeSelfEdges",function(){ce(Q)}),ie("    acyclic",function(){e.run(Q)}),ie("    nestingGraph.run",function(){c.run(Q)}),ie("    rank",function(){r(v.asNonCompoundGraph(Q))}),ie("    injectEdgeLabelProxies",function(){V(Q)}),ie("    removeEmptyRanks",function(){l(Q)}),ie("    nestingGraph.cleanup",function(){c.cleanup(Q)}),ie("    normalizeRanks",function(){i(Q)}),ie("    assignRankMinMax",function(){j(Q)}),ie("    removeEdgeLabelProxies",function(){U(Q)}),ie("    normalize.run",function(){n.run(Q)}),ie("    parentDummyChains",function(){s(Q)}),ie("    addBorderSegments",function(){h(Q)}),ie("    order",function(){m(Q)}),ie("    insertSelfEdges",function(){de(Q)}),ie("    adjustCoordinateSystem",function(){f.adjust(Q)}),ie("    position",function(){p(Q)}),ie("    positionSelfEdges",function(){Y(Q)}),ie("    removeBorderNodes",function(){re(Q)}),ie("    normalize.undo",function(){n.undo(Q)}),ie("    fixupEdgeLabelCoords",function(){$(Q)}),ie("    undoCoordinateSystem",function(){f.undo(Q)}),ie("    translateGraph",function(){K(Q)}),ie("    assignNodeIntersects",function(){ne(Q)}),ie("    reversePoints",function(){ee(Q)}),ie("    acyclic.undo",function(){e.undo(Q)})}function E(Q,ie){t.forEach(Q.nodes(),function(le){var he=Q.node(le),_e=ie.node(le);he&&(he.x=_e.x,he.y=_e.y,ie.children(le).length&&(he.width=_e.width,he.height=_e.height))}),t.forEach(Q.edges(),function(le){var he=Q.edge(le),_e=ie.edge(le);he.points=_e.points,t.has(_e,"x")&&(he.x=_e.x,he.y=_e.y)}),Q.graph().width=ie.graph().width,Q.graph().height=ie.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],M={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],O=["width","height"],B={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],R={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function D(Q){var ie=new b({multigraph:!0,compound:!0}),le=me(Q.graph());return ie.setGraph(t.merge({},M,W(le,C),t.pick(le,T))),t.forEach(Q.nodes(),function(he){var _e=me(Q.node(he));ie.setNode(he,t.defaults(W(_e,O),B)),ie.setParent(he,Q.parent(he))}),t.forEach(Q.edges(),function(he){var _e=me(Q.edge(he));ie.setEdge(he,t.merge({},R,W(_e,q),t.pick(_e,k)))}),ie}function H(Q){var ie=Q.graph();ie.ranksep/=2,t.forEach(Q.edges(),function(le){var he=Q.edge(le);he.minlen*=2,he.labelpos.toLowerCase()!=="c"&&(ie.rankdir==="TB"||ie.rankdir==="BT"?he.width+=he.labeloffset:he.height+=he.labeloffset)})}function V(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie);if(le.width&&le.height){var he=Q.node(ie.v),_e=Q.node(ie.w),Ce={rank:(_e.rank-he.rank)/2+he.rank,e:ie};v.addDummyNode(Q,"edge-proxy",Ce,"_ep")}})}function j(Q){var ie=0;t.forEach(Q.nodes(),function(le){var he=Q.node(le);he.borderTop&&(he.minRank=Q.node(he.borderTop).rank,he.maxRank=Q.node(he.borderBottom).rank,ie=t.max(ie,he.maxRank))}),Q.graph().maxRank=ie}function U(Q){t.forEach(Q.nodes(),function(ie){var le=Q.node(ie);le.dummy==="edge-proxy"&&(Q.edge(le.e).labelRank=le.rank,Q.removeNode(ie))})}function K(Q){var ie=Number.POSITIVE_INFINITY,le=0,he=Number.POSITIVE_INFINITY,_e=0,Ce=Q.graph(),Ve=Ce.marginx||0,He=Ce.marginy||0;function je(Pe){var Ge=Pe.x,Be=Pe.y,it=Pe.width,$e=Pe.height;ie=Math.min(ie,Ge-it/2),le=Math.max(le,Ge+it/2),he=Math.min(he,Be-$e/2),_e=Math.max(_e,Be+$e/2)}t.forEach(Q.nodes(),function(Pe){je(Q.node(Pe))}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.has(Ge,"x")&&je(Ge)}),ie-=Ve,he-=He,t.forEach(Q.nodes(),function(Pe){var Ge=Q.node(Pe);Ge.x-=ie,Ge.y-=he}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.forEach(Ge.points,function(Be){Be.x-=ie,Be.y-=he}),t.has(Ge,"x")&&(Ge.x-=ie),t.has(Ge,"y")&&(Ge.y-=he)}),Ce.width=le-ie+Ve,Ce.height=_e-he+He}function ne(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie),he=Q.node(ie.v),_e=Q.node(ie.w),Ce,Ve;le.points?(Ce=le.points[0],Ve=le.points[le.points.length-1]):(le.points=[],Ce=_e,Ve=he),le.points.unshift(v.intersectRect(he,Ce)),le.points.push(v.intersectRect(_e,Ve))})}function $(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie);if(t.has(le,"x"))switch((le.labelpos==="l"||le.labelpos==="r")&&(le.width-=le.labeloffset),le.labelpos){case"l":le.x-=le.width/2+le.labeloffset;break;case"r":le.x+=le.width/2+le.labeloffset;break}})}function ee(Q){t.forEach(Q.edges(),function(ie){var le=Q.edge(ie);le.reversed&&le.points.reverse()})}function re(Q){t.forEach(Q.nodes(),function(ie){if(Q.children(ie).length){var le=Q.node(ie),he=Q.node(le.borderTop),_e=Q.node(le.borderBottom),Ce=Q.node(t.last(le.borderLeft)),Ve=Q.node(t.last(le.borderRight));le.width=Math.abs(Ve.x-Ce.x),le.height=Math.abs(_e.y-he.y),le.x=Ce.x+le.width/2,le.y=he.y+le.height/2}}),t.forEach(Q.nodes(),function(ie){Q.node(ie).dummy==="border"&&Q.removeNode(ie)})}function ce(Q){t.forEach(Q.edges(),function(ie){if(ie.v===ie.w){var le=Q.node(ie.v);le.selfEdges||(le.selfEdges=[]),le.selfEdges.push({e:ie,label:Q.edge(ie)}),Q.removeEdge(ie)}})}function de(Q){var ie=v.buildLayerMatrix(Q);t.forEach(ie,function(le){var he=0;t.forEach(le,function(_e,Ce){var Ve=Q.node(_e);Ve.order=Ce+he,t.forEach(Ve.selfEdges,function(He){v.addDummyNode(Q,"selfedge",{width:He.label.width,height:He.label.height,rank:Ve.rank,order:Ce+ ++he,e:He.e,label:He.label},"_se")}),delete Ve.selfEdges})})}function Y(Q){t.forEach(Q.nodes(),function(ie){var le=Q.node(ie);if(le.dummy==="selfedge"){var he=Q.node(le.e.v),_e=he.x+he.width/2,Ce=he.y,Ve=le.x-_e,He=he.height/2;Q.setEdge(le.e,le.label),Q.removeNode(ie),le.label.points=[{x:_e+2*Ve/3,y:Ce-He},{x:_e+5*Ve/6,y:Ce-He},{x:_e+Ve,y:Ce},{x:_e+5*Ve/6,y:Ce+He},{x:_e+2*Ve/3,y:Ce+He}],le.label.x=le.x,le.label.y=le.y}})}function W(Q,ie){return t.mapValues(t.pick(Q,ie),Number)}function me(Q){var ie={};return t.forEach(Q,function(le,he){ie[he.toLowerCase()]=le}),ie}return z5}var V5,BI;function Bie(){if(BI)return V5;BI=1;var t=nn(),e=Nr(),n=Fi().Graph;V5={debugOrdering:r};function r(i){var s=e.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(c){l.setNode(c,{label:c}),l.setParent(c,"layer"+i.node(c).rank)}),t.forEach(i.edges(),function(c){l.setEdge(c.v,c.w,{},c.name)}),t.forEach(s,function(c,h){var f="layer"+h;l.setNode(f,{rank:"same"}),t.reduce(c,function(m,p){return l.setEdge(m,p,{style:"invis"}),p})}),l}return V5}var L5,UI;function Uie(){return UI||(UI=1,L5="0.8.5"),L5}var q5,jI;function jie(){return jI||(jI=1,q5={graphlib:Fi(),layout:Pie(),debug:Bie(),util:{time:Nr().time,notime:Nr().notime},version:Uie()}),q5}var Hie=jie();const HI=Nm(Hie),Fie=(t,e)=>({id:`e-${t}-${e}`,source:t,target:e,type:"smoothstep",markerEnd:{type:X0.ArrowClosed},style:{stroke:Y_.parentLine}}),Gie=(t,e)=>({id:`dup-${t}-${e}`,source:t,target:e,type:"straight",animated:!0,style:{stroke:Y_.duplicateLine,strokeDasharray:5},label:"Duplicate"}),P5=300,B5=120,$ie=(t,e)=>{const n=new HI.graphlib.Graph;n.setGraph({rankdir:"TB",nodesep:50,ranksep:80}),n.setDefaultEdgeLabel(()=>({}));const r=[],i=[];return t.forEach(l=>{const c=l.displayLatex;let h="";if(l.axiomId){const p=e.find(v=>v.id===l.axiomId);p&&(h=`\\\\ \\text{\\small{Axiom: ${p.canonicalName}}} \\\\ {\\tiny ${p.defaultLatex}}`)}const f=`\\begin{matrix} \\text{\\textbf{${c}}} ${h} \\end{matrix}`;n.setNode(l.id,{width:P5,height:B5});const m={...l,displayLatex:f,stats:l.stats||{greenVotes:0,blackVotes:0}};r.push({id:l.id,type:"mathNode",data:m,position:{x:0,y:0},targetPosition:Ye.Top,sourcePosition:Ye.Bottom}),l.parentId&&(i.push(Fie(l.parentId,l.id)),n.setEdge(l.parentId,l.id)),l.duplicateOfId&&i.push(Gie(l.id,l.duplicateOfId))}),HI.layout(n),{nodes:r.map(l=>{const c=n.node(l.id);return{...l,position:{x:c.x-P5/2,y:c.y-B5/2},style:{width:P5,height:B5}}}),edges:i}},Yie=({isOpen:t,onClose:e,onSelect:n,availableAxioms:r})=>{const[i,s]=oe.useState(""),l=oe.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.canonicalName.toLowerCase().includes(c)||h.defaultLatex.toLowerCase().includes(c))},[r,i]);return t?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:Oe.drawerOverlay,onClick:e}),L.jsxs("div",{className:Oe.drawer,children:[L.jsxs("div",{className:Oe.drawerHeader,children:[L.jsx("h3",{children:"Axiom Library"}),L.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),L.jsx("div",{className:Oe.drawerSearch,children:L.jsx("input",{className:Oe.input,placeholder:"Search axioms (e.g. 'Commutativity' or '\\forall')...",value:i,onChange:c=>s(c.target.value),autoFocus:!0})}),L.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>L.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to select this axiom",children:[L.jsxs("div",{className:Oe.libraryItemHeader,children:[L.jsx("strong",{children:c.canonicalName}),L.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),L.jsx("div",{className:Oe.preview,children:L.jsx(er,{latex:c.defaultLatex})})]},c.id)):L.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No axioms found matching "',i,'"']})})]})]}):null},Xie=({parentName:t,rootEnvironment:e,availableAxioms:n,onClose:r,onSubmit:i})=>{const[s,l]=oe.useState(""),[c,h]=oe.useState(""),[f,m]=oe.useState(`\\forall a, b \\in ${e.sets[0]}...`),[p,v]=oe.useState(!1),[b,x]=oe.useState(null),[S,E]=oe.useState(!1),C=oe.useMemo(()=>{if(!c||b)return[];const q=c.toLowerCase();return n.filter(R=>R.canonicalName.toLowerCase().includes(q)).slice(0,5)},[c,n,b]),M=q=>{h(q.canonicalName),m(q.defaultLatex),x(q.id),E(!1),v(!1)},T=q=>{h(q),E(!0),b&&x(null)},O=()=>{!s||!c||(i({structureName:s,axiomName:c,axiomLatex:f,existingAxiomId:b||void 0}),r())},B=`\\text{Sets: } \\{ ${e.sets.join(", ")} \\} \\quad \\text{Operators: } \\{ ${e.operators.join(", ")} \\}`;return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:Oe.overlay,children:L.jsxs("div",{className:Oe.container,children:[L.jsxs("div",{className:Oe.header,children:[L.jsxs("h2",{children:["Extend: ",t]}),L.jsx("button",{className:Oe.closeButton,onClick:r,children:""})]}),L.jsxs("div",{className:Oe.body,children:[L.jsxs("p",{className:Oe.description,children:["Add an axiom to ",L.jsx("strong",{children:t})," to create a new Structure."]}),L.jsxs("div",{className:Oe.contextBox,children:[L.jsx("div",{className:Oe.contextLabel,children:"Defined Context (Immutable)"}),L.jsx(er,{latex:B})]}),L.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[L.jsx("label",{className:Oe.label,children:"1. Select or Name New Axiom"}),L.jsxs("div",{className:Oe.inputGroupRow,children:[L.jsx("input",{className:Oe.input,placeholder:"Type to search (e.g. 'Commutativity')...",value:c,onChange:q=>T(q.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),autoComplete:"off"}),L.jsx("button",{className:Oe.browseBtn,onClick:()=>v(!0),title:"Browse Axiom Library",children:""})]}),S&&C.length>0&&L.jsx("div",{className:Oe.suggestionsDropdown,children:C.map(q=>L.jsxs("div",{className:Oe.suggestionItem,onClick:()=>M(q),children:[L.jsx("strong",{children:q.canonicalName}),L.jsxs("span",{className:Oe.suggestionDetail,children:["- ",L.jsx(er,{latex:q.defaultLatex})]})]},q.id))})]}),L.jsxs("div",{className:Oe.group,children:[L.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[L.jsx("label",{className:Oe.label,children:"Axiom Formula (LaTeX)"}),b&&L.jsx("span",{style:{fontSize:"0.75rem",color:"#2e7d32",fontWeight:"bold"},children:" Linked to Library"})]}),L.jsx("input",{className:b?Oe.inputLocked:Oe.input,value:f,onChange:q=>!b&&m(q.target.value),readOnly:!!b,title:b?"This formula is locked because it is linked to a library axiom.":""}),L.jsx("div",{className:Oe.preview,children:L.jsx(er,{latex:f||"Preview..."})})]}),L.jsx("hr",{className:Oe.separator}),L.jsxs("div",{className:Oe.group,children:[L.jsx("label",{className:Oe.label,children:"2. Resulting Structure Name"}),L.jsx("input",{className:Oe.input,placeholder:"e.g. Abelian Group",value:s,onChange:q=>l(q.target.value)})]})]}),L.jsxs("div",{className:Oe.footer,children:[L.jsx("button",{className:Oe.cancelBtn,onClick:r,children:"Cancel"}),L.jsx("button",{className:Oe.submitBtn,onClick:O,children:"Create Structure"})]})]})}),L.jsx(Yie,{isOpen:p,onClose:()=>v(!1),onSelect:M,availableAxioms:n})]})},Kie="_overlay_srt9h_3",Qie="_modal_srt9h_23",Zie="_header_srt9h_42",Wie="_title_srt9h_51",Jie="_closeBtn_srt9h_58",eae="_toolbar_srt9h_70",tae="_tabs_srt9h_79",nae="_tab_srt9h_79",rae="_activeTab_srt9h_101",iae="_searchInput_srt9h_106",aae="_listContainer_srt9h_121",sae="_list_srt9h_121",oae="_item_srt9h_133",lae="_itemInfo_srt9h_147",uae="_itemName_srt9h_152",cae="_itemLatex_srt9h_162",hae="_deleteBtn_srt9h_178",fae="_disabled_srt9h_197",dae="_empty_srt9h_208",qt={overlay:Kie,modal:Qie,header:Zie,title:Wie,closeBtn:Jie,toolbar:eae,tabs:tae,tab:nae,activeTab:rae,searchInput:iae,listContainer:aae,list:sae,item:oae,itemInfo:lae,itemName:uae,itemLatex:cae,deleteBtn:hae,disabled:fae,empty:dae},mae=({axioms:t,theorems:e,onClose:n,onDeleteAxiom:r,onDeleteTheorem:i})=>{const[s,l]=oe.useState("axioms"),[c,h]=oe.useState(""),[f,m]=oe.useState(null),p=t.filter(S=>S.canonicalName.toLowerCase().includes(c.toLowerCase())||S.defaultLatex.includes(c)),v=e.filter(S=>S.name.toLowerCase().includes(c.toLowerCase())||S.statementLatex.includes(c)),b=async S=>{m(S.id);try{const E=P0(sn,"nodes"),C=AD(E,CD("axiomId","==",S.id)),T=(await WK(C)).data().count;if(T>0){alert(` CANVAS INTEGRITY PROTECTION 

Cannot delete axiom "${S.canonicalName}".
It is currently the foundation for ${T} structure(s) across the system.

You must delete those structures first.`);return}confirm(`Are you sure you want to delete the axiom "${S.canonicalName}"?
This cannot be undone.`)&&r(S.id)}catch(E){console.error("Integrity check failed:",E),alert("Failed to verify axiom usage. Please check your connection.")}finally{m(null)}},x=S=>{confirm(`Are you sure you want to delete the theorem "${S.name}"?`)&&i(S.id)};return L.jsx("div",{className:qt.overlay,children:L.jsxs("div",{className:qt.modal,children:[L.jsxs("div",{className:qt.header,children:[L.jsx("h2",{className:qt.title,children:"System Library"}),L.jsx("button",{onClick:n,className:qt.closeBtn,children:""})]}),L.jsxs("div",{className:qt.toolbar,children:[L.jsxs("div",{className:qt.tabs,children:[L.jsxs("button",{className:`${qt.tab} ${s==="axioms"?qt.activeTab:""}`,onClick:()=>l("axioms"),children:["Axioms (",t.length,")"]}),L.jsxs("button",{className:`${qt.tab} ${s==="theorems"?qt.activeTab:""}`,onClick:()=>l("theorems"),children:["Theorems (",e.length,")"]})]}),L.jsx("input",{type:"text",placeholder:"Search library...",value:c,onChange:S=>h(S.target.value),className:qt.searchInput})]}),L.jsxs("div",{className:qt.listContainer,children:[s==="axioms"&&L.jsxs("ul",{className:qt.list,children:[p.map(S=>{const E=f===S.id;return L.jsxs("li",{className:qt.item,children:[L.jsxs("div",{className:qt.itemInfo,children:[L.jsx("div",{className:qt.itemName,children:S.canonicalName}),L.jsx("div",{className:qt.itemLatex,children:L.jsx(er,{latex:S.defaultLatex})})]}),L.jsx("button",{onClick:()=>b(S),className:`${qt.deleteBtn} ${E?qt.disabled:""}`,disabled:E,title:"Delete Axiom",children:E?"":""})]},S.id)}),p.length===0&&L.jsx("div",{className:qt.empty,children:"No axioms found."})]}),s==="theorems"&&L.jsxs("ul",{className:qt.list,children:[v.map(S=>L.jsxs("li",{className:qt.item,children:[L.jsxs("div",{className:qt.itemInfo,children:[L.jsx("div",{className:qt.itemName,children:S.name}),L.jsx("div",{className:qt.itemLatex,children:L.jsx(er,{latex:S.statementLatex})})]}),L.jsx("button",{onClick:()=>x(S),className:qt.deleteBtn,title:"Delete Theorem",children:""})]},S.id)),v.length===0&&L.jsx("div",{className:qt.empty,children:"No theorems found."})]})]})]})})},pae="_explorerRoot_rof8f_3",gae="_extendBtnContainer_rof8f_11",vae="_extendBtn_rof8f_11",yae="_plusIcon_rof8f_46",_ae="_backBtnContainer_rof8f_53",bae="_backBtn_rof8f_53",hl={explorerRoot:pae,extendBtnContainer:gae,extendBtn:vae,plusIcon:yae,backBtnContainer:_ae,backBtn:bae},wae=({universeId:t,onExit:e})=>{const{user:n,profile:r}=_c(),i=r?.role==="admin",[s,l]=oe.useState([]),[c,h]=oe.useState([]),[f,m]=oe.useState([]),[p,v]=oe.useState(null);oe.useEffect(()=>{const de=Wn(sn,"environments",t),Y=Lu(de,le=>{le.exists()&&v(le.data())}),W=AD(P0(sn,"nodes"),CD("rootContextId","==",t)),me=Lu(W,le=>{const he=le.docs.map(_e=>_e.data());l(he)}),Q=Lu(P0(sn,"axioms"),le=>{const he=le.docs.map(_e=>_e.data());h(he)}),ie=Lu(P0(sn,"theorems"),le=>{const he=le.docs.map(_e=>_e.data());m(he)});return()=>{Y(),me(),Q(),ie()}},[t]);const{nodes:b,edges:x}=oe.useMemo(()=>$ie(s,c),[s,c]),[S,E,C]=EF(b),[M,T,O]=TF(x);oe.useEffect(()=>{E(b),T(x)},[b,x,E,T]);const[B,q]=oe.useState(null),[R,k]=oe.useState(!1),[D,H]=oe.useState(!1),V=oe.useMemo(()=>({mathNode:vee}),[]),j=oe.useMemo(()=>s.find(de=>de.id===B),[B,s]),U=oe.useCallback((de,Y)=>{q(Y.id)},[]),K=oe.useCallback(()=>{q(null)},[]),ne=async de=>{if(!B||!j||j.status==="deprecated"||j.status==="deadend")return;const Y=Date.now();if(!n){alert("Sign in required.");return}const W=n.uid;let me=de.existingAxiomId;if(!me){me=`ax-${Y}`;const le={id:me,canonicalName:de.axiomName,aliases:[],defaultLatex:de.axiomLatex,authorId:W,createdAt:Y};try{await bl(Wn(sn,"axioms",le.id),le)}catch(he){console.error(he);return}}const ie={id:`struct-${Y}`,type:"algebraic structure",parentId:B,axiomId:me,authorId:W,displayLatex:de.structureName,status:"unverified",rootContextId:t,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:Y};try{await bl(Wn(sn,"nodes",ie.id),ie),k(!1)}catch(le){console.error(le)}},$=async de=>{if(s.some(W=>W.parentId===de)){alert("CRITICAL ERROR: Cannot delete this node because it has children.");return}if(confirm(` ADMIN WARNING 

Permanently delete this node?`))try{await Pd(Wn(sn,"nodes",de)),q(null)}catch(W){console.error(W)}},ee=async de=>{if(confirm(` ADMIN WARNING 

Permanently delete this theorem?`))try{await Pd(Wn(sn,"theorems",de))}catch(Y){console.error(Y)}},re=async de=>{try{await Pd(Wn(sn,"axioms",de))}catch(Y){console.error(Y)}},ce=async de=>{if(!B||!n)return;const Y=Date.now(),W={id:`th-${Y}`,structureNodeId:B,name:de.name,aliases:[],statementLatex:de.statementLatex,proofLatex:de.proofLatex,authorId:n.uid,createdAt:Y,status:"unverified",stats:{greenVotes:0,blackVotes:0}};try{await bl(Wn(sn,"theorems",W.id),W)}catch(me){console.error(me)}};return L.jsxs("div",{className:hl.explorerRoot,children:[L.jsxs("div",{className:hl.backBtnContainer,children:[L.jsx("button",{onClick:e,className:hl.backBtn,children:" Exit to Lobby"}),i&&L.jsx("button",{onClick:()=>H(!0),className:hl.backBtn,style:{marginLeft:"10px"},children:" Library"})]}),B&&j?.status!=="deprecated"&&j?.status!=="deadend"&&L.jsx("div",{className:hl.extendBtnContainer,children:L.jsxs("button",{onClick:()=>k(!0),className:hl.extendBtn,children:[L.jsx("span",{className:hl.plusIcon,children:"+"})," Extend Structure"]})}),L.jsx(dee,{nodes:S,edges:M,onNodesChange:C,onEdgesChange:O,onNodeClick:U,onPaneClick:K,nodeTypes:V,title:`\\text{${p?.name||"Universe"}}`}),j&&L.jsx(Ate,{node:j,allNodes:s,allAxioms:c,allTheorems:f,onClose:()=>q(null),onAddTheorem:ce,onDelete:$,onDeleteTheorem:ee}),R&&j&&p&&L.jsx(Xie,{parentId:j.id,parentName:j.displayLatex,rootEnvironment:p,availableAxioms:c,onClose:()=>k(!1),onSubmit:ne}),D&&L.jsx(mae,{axioms:c,theorems:f,onClose:()=>H(!1),onDeleteAxiom:re,onDeleteTheorem:ee})]})},xae="_overlay_1waj4_3",Sae="_modal_1waj4_23",Eae="_header_1waj4_42",Tae="_title_1waj4_52",Aae="_closeBtn_1waj4_59",Cae="_form_1waj4_76",Rae="_errorBanner_1waj4_81",Iae="_sectionLabel_1waj4_91",Nae="_formGroup_1waj4_101",Mae="_row_1waj4_105",kae="_label_1waj4_114",Dae="_input_1waj4_122",Oae="_textarea_1waj4_122",zae="_divider_1waj4_151",Vae="_previewBox_1waj4_159",Lae="_previewLabel_1waj4_170",qae="_previewContent_1waj4_177",Pae="_footer_1waj4_183",Bae="_cancelBtn_1waj4_192",Uae="_createBtn_1waj4_208",_t={overlay:xae,modal:Sae,header:Eae,title:Tae,closeBtn:Aae,form:Cae,errorBanner:Rae,sectionLabel:Iae,formGroup:Nae,row:Mae,label:kae,input:Dae,textarea:Oae,divider:zae,previewBox:Vae,previewLabel:Lae,previewContent:qae,footer:Pae,cancelBtn:Bae,createBtn:Uae},jae=({onClose:t,onSubmit:e})=>{const[n,r]=oe.useState(""),[i,s]=oe.useState(""),[l,c]=oe.useState(""),[h,f]=oe.useState(""),[m,p]=oe.useState(""),[v,b]=oe.useState(""),[x,S]=oe.useState(null),E=C=>{if(C.preventDefault(),S(null),!n.trim())return S("Universe Name is required.");if(!i.trim())return S("At least one Set is required.");if(!h.trim())return S("Root Node Name is required.");if(!m.trim())return S("Initial Axiom Name is required.");if(!v.trim())return S("Initial Axiom LaTeX is required.");const M=i.split(",").map(O=>O.trim()).filter(O=>O.length>0),T=l.split(",").map(O=>O.trim()).filter(O=>O.length>0);if(M.length===0)return S("Please enter valid set notation.");e({envName:n.trim(),sets:M,operators:T,rootNodeName:h.trim(),rootAxiomName:m.trim(),rootAxiomLatex:v.trim()})};return L.jsx("div",{className:_t.overlay,children:L.jsxs("div",{className:_t.modal,children:[L.jsxs("div",{className:_t.header,children:[L.jsx("h2",{className:_t.title,children:"Create New Universe"}),L.jsx("button",{onClick:t,className:_t.closeBtn,children:""})]}),L.jsxs("form",{onSubmit:E,className:_t.form,children:[x&&L.jsx("div",{className:_t.errorBanner,children:x}),L.jsx("div",{className:_t.sectionLabel,children:"1. Environment Context"}),L.jsxs("div",{className:_t.formGroup,children:[L.jsx("label",{className:_t.label,children:"Universe Name"}),L.jsx("input",{type:"text",value:n,onChange:C=>r(C.target.value),placeholder:"e.g. Group Theory",className:_t.input,autoFocus:!0})]}),L.jsxs("div",{className:_t.row,children:[L.jsxs("div",{className:_t.formGroup,children:[L.jsx("label",{className:_t.label,children:"Sets (comma sep.)"}),L.jsx("input",{type:"text",value:i,onChange:C=>s(C.target.value),placeholder:"e.g. G",className:_t.input})]}),L.jsxs("div",{className:_t.formGroup,children:[L.jsx("label",{className:_t.label,children:"Operators"}),L.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"e.g. *",className:_t.input})]})]}),L.jsx("hr",{className:_t.divider}),L.jsx("div",{className:_t.sectionLabel,children:"2. Genesis Node (Root)"}),L.jsxs("div",{className:_t.formGroup,children:[L.jsx("label",{className:_t.label,children:"Root Structure Name"}),L.jsx("input",{type:"text",value:h,onChange:C=>f(C.target.value),placeholder:"e.g. Magma",className:_t.input})]}),L.jsxs("div",{className:_t.formGroup,children:[L.jsx("label",{className:_t.label,children:"Initial Axiom Name"}),L.jsx("input",{type:"text",value:m,onChange:C=>p(C.target.value),placeholder:"e.g. Closure",className:_t.input})]}),L.jsxs("div",{className:_t.formGroup,children:[L.jsx("label",{className:_t.label,children:"Initial Axiom Definition (LaTeX)"}),L.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"\\forall a, b \\in G, a * b \\in G",className:_t.textarea,rows:3}),v&&L.jsxs("div",{className:_t.previewBox,children:[L.jsx("span",{className:_t.previewLabel,children:"Preview:"}),L.jsx("div",{className:_t.previewContent,children:L.jsx(er,{latex:v})})]})]}),L.jsxs("div",{className:_t.footer,children:[L.jsx("button",{type:"button",onClick:t,className:_t.cancelBtn,children:"Cancel"}),L.jsx("button",{type:"submit",className:_t.createBtn,children:"Initialize Universe"})]})]})]})})},Hae="_container_15asw_3",Fae="_loading_15asw_13",Gae="_title_15asw_19",$ae="_subtitle_15asw_27",Yae="_grid_15asw_36",Xae="_card_15asw_45",Kae="_cardHeader_15asw_66",Qae="_titleRow_15asw_71",Zae="_cardTitle_15asw_78",Wae="_adminControls_15asw_86",Jae="_editContainer_15asw_95",ese="_editInput_15asw_103",tse="_editActions_15asw_114",nse="_saveBtn_15asw_119",rse="_cancelBtn_15asw_119",ise="_editIconBtn_15asw_147",ase="_deleteBtn_15asw_147",sse="_tagContainer_15asw_173",ose="_tag_15asw_173",lse="_description_15asw_190",use="_enterBtn_15asw_197",cse="_createCard_15asw_217",hse="_createContent_15asw_234",fse="_plusIcon_15asw_240",Ft={container:Hae,loading:Fae,title:Gae,subtitle:$ae,grid:Yae,card:Xae,cardHeader:Kae,titleRow:Qae,cardTitle:Zae,adminControls:Wae,editContainer:Jae,editInput:ese,editActions:tse,saveBtn:nse,cancelBtn:rse,editIconBtn:ise,deleteBtn:ase,tagContainer:sse,tag:ose,description:lse,enterBtn:use,createCard:cse,createContent:hse,plusIcon:fse},dse=({onSelectUniverse:t})=>{const{profile:e}=_c(),n=e?.role==="admin",[r,i]=oe.useState([]),[s,l]=oe.useState(!1),[c,h]=oe.useState(!0),[f,m]=oe.useState(null),[p,v]=oe.useState("");oe.useEffect(()=>{const M=Lu(P0(sn,"environments"),T=>{const O=T.docs.map(B=>({id:B.id,...B.data()}));i(O),h(!1)});return()=>M()},[]);const b=(M,T)=>{M.stopPropagation(),m(T.id),v(T.name)},x=M=>{M?.stopPropagation(),m(null),v("")},S=async M=>{if(M.stopPropagation(),M.preventDefault(),!(!f||!p.trim()))try{await MD(Wn(sn,"environments",f),{name:p.trim()}),m(null)}catch(T){console.error("Failed to update name:",T),alert("Failed to update name.")}},E=async M=>{const T=Date.now(),O=`env-${T}`,B=`ax-${T}`,q=`node-${T}`,R=e?.uid||"system",k={id:O,name:M.envName,sets:M.sets,operators:M.operators},D={id:B,canonicalName:M.rootAxiomName,aliases:[],defaultLatex:M.rootAxiomLatex,authorId:R,createdAt:T},H={id:q,type:"algebraic structure",parentId:null,axiomId:B,authorId:R,displayLatex:`\\text{${M.rootNodeName}}`,status:"verified",rootContextId:O,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:T};try{await bl(Wn(sn,"environments",O),k),await bl(Wn(sn,"axioms",B),D),await bl(Wn(sn,"nodes",q),H),l(!1)}catch(V){console.error("Failed to create universe:",V),alert("Error creating universe.")}},C=async(M,T)=>{if(M.stopPropagation(),!!confirm(` ADMIN WARNING 
Delete this Universe?`))try{await Pd(Wn(sn,"environments",T))}catch(O){console.error("Delete failed:",O)}};return c?L.jsx("div",{className:Ft.loading,children:"Loading..."}):L.jsxs("div",{className:Ft.container,children:[L.jsx("h1",{className:Ft.title,children:"Algebraic Structures"}),L.jsx("p",{className:Ft.subtitle,children:"Select a context to explore."}),L.jsxs("div",{className:Ft.grid,children:[n&&L.jsx("div",{className:`${Ft.card} ${Ft.createCard}`,onClick:()=>l(!0),children:L.jsxs("div",{className:Ft.createContent,children:[L.jsx("div",{className:Ft.plusIcon,children:"+"}),L.jsx("h3",{children:"Create Universe"})]})}),r.map(M=>L.jsxs("div",{className:Ft.card,onClick:()=>t(M.id),children:[L.jsxs("div",{className:Ft.cardHeader,children:[f===M.id?L.jsxs("div",{className:Ft.editContainer,onClick:T=>T.stopPropagation(),children:[L.jsx("input",{type:"text",value:p,onChange:T=>v(T.target.value),className:Ft.editInput,autoFocus:!0}),L.jsxs("div",{className:Ft.editActions,children:[L.jsx("button",{onClick:S,className:Ft.saveBtn,title:"Save",children:""}),L.jsx("button",{onClick:x,className:Ft.cancelBtn,title:"Cancel",children:""})]})]}):L.jsxs("div",{className:Ft.titleRow,children:[L.jsx("h2",{className:Ft.cardTitle,children:M.name}),n&&L.jsxs("div",{className:Ft.adminControls,children:[L.jsx("button",{className:Ft.editIconBtn,onClick:T=>b(T,M),title:"Rename Universe",children:""}),L.jsx("button",{className:Ft.deleteBtn,onClick:T=>C(T,M.id),title:"Delete Universe",children:""})]})]}),L.jsxs("div",{className:Ft.tagContainer,children:[L.jsxs("span",{className:Ft.tag,children:["Sets: ",L.jsx(er,{latex:`\\{ ${M.sets.join(", ")} \\}`})]}),L.jsxs("span",{className:Ft.tag,children:["Ops: ",L.jsx(er,{latex:`\\{ ${M.operators.join(", ")} \\}`})]})]})]}),L.jsxs("div",{className:Ft.description,children:["Contains ",L.jsxs("strong",{children:[M.sets.length," Sets"]})," and ",L.jsxs("strong",{children:[M.operators.length," Operators"]}),"."]}),L.jsx("button",{className:Ft.enterBtn,children:"Enter "})]},M.id))]}),s&&L.jsx(jae,{onClose:()=>l(!1),onSubmit:E})]})},mse="_loginBtn_1ia85_4",pse="_container_1ia85_22",gse="_avatar_1ia85_33",vse="_userInfo_1ia85_40",yse="_userName_1ia85_46",_se="_adminBadge_1ia85_52",bse="_logoutBtn_1ia85_60",fl={loginBtn:mse,container:pse,avatar:gse,userInfo:vse,userName:yse,adminBadge:_se,logoutBtn:bse},wse=()=>{const{user:t,profile:e,signInWithGoogle:n,logout:r}=_c();return t?L.jsxs("div",{className:fl.container,children:[t.photoURL&&L.jsx("img",{src:t.photoURL,alt:`${t.displayName}'s avatar`,className:fl.avatar}),L.jsxs("div",{className:fl.userInfo,children:[L.jsx("span",{className:fl.userName,children:t.displayName}),e?.role==="admin"&&L.jsx("span",{className:fl.adminBadge,children:"Administrator"})]}),L.jsx("button",{onClick:r,className:fl.logoutBtn,"aria-label":"Sign out",children:"Sign Out"})]}):L.jsx("button",{onClick:n,className:fl.loginBtn,children:"Sign in with Google"})};function xse(){const[t,e]=oe.useState(null);return L.jsxs(mee,{children:[L.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:1e3},children:L.jsx(wse,{})}),L.jsx("div",{className:"app-container",children:t?L.jsx(wae,{universeId:t,onExit:()=>e(null)}):L.jsx(dse,{onSelectUniverse:e})})]})}$L.createRoot(document.getElementById("root")).render(L.jsx(FI.StrictMode,{children:L.jsx(xse,{})}));
