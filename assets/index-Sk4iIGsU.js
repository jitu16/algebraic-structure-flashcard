(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ym(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kg={exports:{}},R0={};var M9;function Sq(){if(M9)return R0;M9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return R0.Fragment=e,R0.jsx=n,R0.jsxs=n,R0}var k9;function Eq(){return k9||(k9=1,Kg.exports=Sq()),Kg.exports}var I=Eq(),Qg={exports:{}},ot={};var D9;function Tq(){if(D9)return ot;D9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=v&&X[v]||X["@@iterator"],typeof X=="function"?X:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(X,te,ve){this.props=X,this.context=te,this.refs=E,this.updater=ve||w}C.prototype.isReactComponent={},C.prototype.setState=function(X,te){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,te,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function O(){}O.prototype=C.prototype;function A(X,te,ve){this.props=X,this.context=te,this.refs=E,this.updater=ve||w}var z=A.prototype=new O;z.constructor=A,S(z,C.prototype),z.isPureReactComponent=!0;var U=Array.isArray;function q(){}var R={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function D(X,te,ve){var Q=ve.ref;return{$$typeof:t,type:X,key:te,ref:Q!==void 0?Q:null,props:ve}}function H(X,te){return D(X.type,te,X.props)}function V(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function j(X){var te={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(ve){return te[ve]})}var B=/\/+/g;function K(X,te){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):te.toString(36)}function ie(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(q,q):(X.status="pending",X.then(function(te){X.status==="pending"&&(X.status="fulfilled",X.value=te)},function(te){X.status==="pending"&&(X.status="rejected",X.reason=te)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function $(X,te,ve,Q,ae){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var pe=!1;if(X===null)pe=!0;else switch(ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(X.$$typeof){case t:case e:pe=!0;break;case m:return pe=X._init,$(pe(X._payload),te,ve,Q,ae)}}if(pe)return ae=ae(X),pe=Q===""?"."+K(X,0):Q,U(ae)?(ve="",pe!=null&&(ve=pe.replace(B,"$&/")+"/"),$(ae,te,ve,"",function(Le){return Le})):ae!=null&&(V(ae)&&(ae=H(ae,ve+(ae.key==null||X&&X.key===ae.key?"":(""+ae.key).replace(B,"$&/")+"/")+pe)),te.push(ae)),1;pe=0;var be=Q===""?".":Q+":";if(U(X))for(var Ce=0;Ce<X.length;Ce++)Q=X[Ce],ce=be+K(Q,Ce),pe+=$(Q,te,ve,ce,ae);else if(Ce=b(X),typeof Ce=="function")for(X=Ce.call(X),Ce=0;!(Q=X.next()).done;)Q=Q.value,ce=be+K(Q,Ce++),pe+=$(Q,te,ve,ce,ae);else if(ce==="object"){if(typeof X.then=="function")return $(ie(X),te,ve,Q,ae);throw te=String(X),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(X,te,ve){if(X==null)return X;var Q=[],ae=0;return $(X,Q,"","",function(ce){return te.call(ve,ce,ae++)}),Q}function re(X){if(X._status===-1){var te=X._result;te=te(),te.then(function(ve){(X._status===0||X._status===-1)&&(X._status=1,X._result=ve)},function(ve){(X._status===0||X._status===-1)&&(X._status=2,X._result=ve)}),X._status===-1&&(X._status=0,X._result=te)}if(X._status===1)return X._result.default;throw X._result}var le=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},_e={map:Z,forEach:function(X,te,ve){Z(X,function(){te.apply(this,arguments)},ve)},count:function(X){var te=0;return Z(X,function(){te++}),te},toArray:function(X){return Z(X,function(te){return te})||[]},only:function(X){if(!V(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return ot.Activity=p,ot.Children=_e,ot.Component=C,ot.Fragment=n,ot.Profiler=i,ot.PureComponent=A,ot.StrictMode=r,ot.Suspense=h,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ot.__COMPILER_RUNTIME={__proto__:null,c:function(X){return R.H.useMemoCache(X)}},ot.cache=function(X){return function(){return X.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(X,te,ve){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Q=S({},X.props),ae=X.key;if(te!=null)for(ce in te.key!==void 0&&(ae=""+te.key),te)!k.call(te,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&te.ref===void 0||(Q[ce]=te[ce]);var ce=arguments.length-2;if(ce===1)Q.children=ve;else if(1<ce){for(var pe=Array(ce),be=0;be<ce;be++)pe[be]=arguments[be+2];Q.children=pe}return D(X.type,ae,Q)},ot.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:s,_context:X},X},ot.createElement=function(X,te,ve){var Q,ae={},ce=null;if(te!=null)for(Q in te.key!==void 0&&(ce=""+te.key),te)k.call(te,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ae[Q]=te[Q]);var pe=arguments.length-2;if(pe===1)ae.children=ve;else if(1<pe){for(var be=Array(pe),Ce=0;Ce<pe;Ce++)be[Ce]=arguments[Ce+2];ae.children=be}if(X&&X.defaultProps)for(Q in pe=X.defaultProps,pe)ae[Q]===void 0&&(ae[Q]=pe[Q]);return D(X,ce,ae)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(X){return{$$typeof:c,render:X}},ot.isValidElement=V,ot.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:re}},ot.memo=function(X,te){return{$$typeof:f,type:X,compare:te===void 0?null:te}},ot.startTransition=function(X){var te=R.T,ve={};R.T=ve;try{var Q=X(),ae=R.S;ae!==null&&ae(ve,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(q,le)}catch(ce){le(ce)}finally{te!==null&&ve.types!==null&&(te.types=ve.types),R.T=te}},ot.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ot.use=function(X){return R.H.use(X)},ot.useActionState=function(X,te,ve){return R.H.useActionState(X,te,ve)},ot.useCallback=function(X,te){return R.H.useCallback(X,te)},ot.useContext=function(X){return R.H.useContext(X)},ot.useDebugValue=function(){},ot.useDeferredValue=function(X,te){return R.H.useDeferredValue(X,te)},ot.useEffect=function(X,te){return R.H.useEffect(X,te)},ot.useEffectEvent=function(X){return R.H.useEffectEvent(X)},ot.useId=function(){return R.H.useId()},ot.useImperativeHandle=function(X,te,ve){return R.H.useImperativeHandle(X,te,ve)},ot.useInsertionEffect=function(X,te){return R.H.useInsertionEffect(X,te)},ot.useLayoutEffect=function(X,te){return R.H.useLayoutEffect(X,te)},ot.useMemo=function(X,te){return R.H.useMemo(X,te)},ot.useOptimistic=function(X,te){return R.H.useOptimistic(X,te)},ot.useReducer=function(X,te,ve){return R.H.useReducer(X,te,ve)},ot.useRef=function(X){return R.H.useRef(X)},ot.useState=function(X){return R.H.useState(X)},ot.useSyncExternalStore=function(X,te,ve){return R.H.useSyncExternalStore(X,te,ve)},ot.useTransition=function(){return R.H.useTransition()},ot.version="19.2.3",ot}var O9;function xh(){return O9||(O9=1,Qg.exports=Tq()),Qg.exports}var ee=xh();const EN=Ym(ee);var Zg={exports:{}},I0={},Wg={exports:{}},Jg={};var z9;function Aq(){return z9||(z9=1,(function(t){function e($,Z){var re=$.length;$.push(Z);e:for(;0<re;){var le=re-1>>>1,_e=$[le];if(0<i(_e,Z))$[le]=Z,$[re]=_e,re=le;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],re=$.pop();if(re!==Z){$[0]=re;e:for(var le=0,_e=$.length,X=_e>>>1;le<X;){var te=2*(le+1)-1,ve=$[te],Q=te+1,ae=$[Q];if(0>i(ve,re))Q<_e&&0>i(ae,ve)?($[le]=ae,$[Q]=re,le=Q):($[le]=ve,$[te]=re,le=te);else if(Q<_e&&0>i(ae,re))$[le]=ae,$[Q]=re,le=Q;else break e}}return Z}function i($,Z){var re=$.sortIndex-Z.sortIndex;return re!==0?re:$.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,p=null,v=3,b=!1,w=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z($){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=$)r(f),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(f)}}function U($){if(S=!1,z($),!w)if(n(h)!==null)w=!0,q||(q=!0,j());else{var Z=n(f);Z!==null&&ie(U,Z.startTime-$)}}var q=!1,R=-1,k=5,D=-1;function H(){return E?!0:!(t.unstable_now()-D<k)}function V(){if(E=!1,q){var $=t.unstable_now();D=$;var Z=!0;try{e:{w=!1,S&&(S=!1,O(R),R=-1),b=!0;var re=v;try{t:{for(z($),p=n(h);p!==null&&!(p.expirationTime>$&&H());){var le=p.callback;if(typeof le=="function"){p.callback=null,v=p.priorityLevel;var _e=le(p.expirationTime<=$);if($=t.unstable_now(),typeof _e=="function"){p.callback=_e,z($),Z=!0;break t}p===n(h)&&r(h),z($)}else r(h);p=n(h)}if(p!==null)Z=!0;else{var X=n(f);X!==null&&ie(U,X.startTime-$),Z=!1}}break e}finally{p=null,v=re,b=!1}Z=void 0}}finally{Z?j():q=!1}}}var j;if(typeof A=="function")j=function(){A(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=V,j=function(){K.postMessage(null)}}else j=function(){C(V,0)};function ie($,Z){R=C(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var re=v;v=Z;try{return $()}finally{v=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=v;v=$;try{return Z()}finally{v=re}},t.unstable_scheduleCallback=function($,Z,re){var le=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?le+re:le):re=le,$){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,$={id:m++,callback:Z,priorityLevel:$,startTime:re,expirationTime:_e,sortIndex:-1},re>le?($.sortIndex=re,e(f,$),n(h)===null&&$===n(f)&&(S?(O(R),R=-1):S=!0,ie(U,re-le))):($.sortIndex=_e,e(h,$),w||b||(w=!0,q||(q=!0,j()))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var Z=v;return function(){var re=v;v=Z;try{return $.apply(this,arguments)}finally{v=re}}}})(Jg)),Jg}var L9;function Cq(){return L9||(L9=1,Wg.exports=Aq()),Wg.exports}var ev={exports:{}},or={};var V9;function Rq(){if(V9)return or;V9=1;var t=xh();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,or.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},or.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},or.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},or.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},or.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},or.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},or.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},or.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},or.requestFormReset=function(h){r.d.r(h)},or.unstable_batchedUpdates=function(h,f){return h(f)},or.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},or.useFormStatus=function(){return l.H.useHostTransitionStatus()},or.version="19.2.3",or}var q9;function TN(){if(q9)return ev.exports;q9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ev.exports=Rq(),ev.exports}var P9;function Iq(){if(P9)return I0;P9=1;var t=Cq(),e=xh(),n=TN();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return h(y),a;if(_===d)return h(y),o;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=_;else{for(var M=!1,F=y.child;F;){if(F===u){M=!0,u=y,d=_;break}if(F===d){M=!0,d=y,u=_;break}F=F.sibling}if(!M){for(F=_.child;F;){if(F===u){M=!0,u=_,d=y;break}if(F===d){M=!0,d=_,u=y;break}F=F.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case q:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case z:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:K(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return K(a(o))}catch{}}return null}var ie=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},le=[],_e=-1;function X(a){return{current:a}}function te(a){0>_e||(a.current=le[_e],le[_e]=null,_e--)}function ve(a,o){_e++,le[_e]=a.current,a.current=o}var Q=X(null),ae=X(null),ce=X(null),pe=X(null);function be(a,o){switch(ve(ce,o),ve(ae,a),ve(Q,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?e9(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=e9(o),a=t9(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(Q),ve(Q,a)}function Ce(){te(Q),te(ae),te(ce)}function Le(a){a.memoizedState!==null&&ve(pe,a);var o=Q.current,u=t9(o,a.type);o!==u&&(ve(ae,a),ve(Q,u))}function He(a){ae.current===a&&(te(Q),te(ae)),pe.current===a&&(te(pe),E0._currentValue=re)}var Ue,Pe;function Ge(a){if(Ue===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ue=o&&o[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+a+Pe}var Be=!1;function st(a,o){if(!a||Be)return"";Be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(we){var ge=we}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(we){ge=we}a.call(Te.prototype)}}else{try{throw Error()}catch(we){ge=we}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(we){if(we&&ge&&typeof we.stack=="string")return[we.stack,ge.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),M=_[0],F=_[1];if(M&&F){var ne=M.split(`
`),me=F.split(`
`);for(y=d=0;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;for(;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;if(d===ne.length||y===me.length)for(d=ne.length-1,y=me.length-1;1<=d&&0<=y&&ne[d]!==me[y];)y--;for(;1<=d&&0<=y;d--,y--)if(ne[d]!==me[y]){if(d!==1||y!==1)do if(d--,y--,0>y||ne[d]!==me[y]){var xe=`
`+ne[d].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=d&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function $e(a,o){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return st(a.type,!1);case 11:return st(a.type.render,!1);case 1:return st(a.type,!0);case 31:return Ge("Activity");default:return""}}function Xt(a){try{var o="",u=null;do o+=$e(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var lt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Bn=t.unstable_cancelCallback,Gn=t.unstable_shouldYield,Qt=t.unstable_requestPaint,en=t.unstable_now,Qn=t.unstable_getCurrentPriorityLevel,br=t.unstable_ImmediatePriority,wr=t.unstable_UserBlockingPriority,$n=t.unstable_NormalPriority,As=t.unstable_LowPriority,Ci=t.unstable_IdlePriority,Cs=t.log,Ia=t.unstable_setDisableYieldValue,dn=null,Gt=null;function xr(a){if(typeof Cs=="function"&&Ia(a),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(dn,a)}catch{}}var ln=Math.clz32?Math.clz32:Kl,Xl=Math.log,Rs=Math.LN2;function Kl(a){return a>>>=0,a===0?32:31-(Xl(a)/Rs|0)|0}var ni=256,Na=262144,mn=4194304;function ri(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ii(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,_=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var F=d&134217727;return F!==0?(d=F&~_,d!==0?y=ri(d):(M&=F,M!==0?y=ri(M):u||(u=F&~a,u!==0&&(y=ri(u))))):(F=d&~_,F!==0?y=ri(F):M!==0?y=ri(M):u||(u=d&~a,u!==0&&(y=ri(u)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:y}function Lr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Lc(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var a=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),a}function ai(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ma(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Vc(a,o,u,d,y,_){var M=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var F=a.entanglements,ne=a.expirationTimes,me=a.hiddenUpdates;for(u=M&~u;0<u;){var xe=31-ln(u),Te=1<<xe;F[xe]=0,ne[xe]=-1;var ge=me[xe];if(ge!==null)for(me[xe]=null,xe=0;xe<ge.length;xe++){var we=ge[xe];we!==null&&(we.lane&=-536870913)}u&=~Te}d!==0&&ka(a,d,0),_!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=_&~(M&~o))}function ka(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-ln(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function Ho(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-ln(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function Fo(a,o){var u=o&-o;return u=(u&42)!==0?1:Da(u),(u&(a.suspendedLanes|o))!==0?0:u}function Da(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ri(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Zl(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:E9(a.type))}function Vr(a,o){var u=Z.p;try{return Z.p=a,o()}finally{Z.p=u}}var qr=Math.random().toString(36).slice(2),pn="__reactFiber$"+qr,Cn="__reactProps$"+qr,Pr="__reactContainer$"+qr,Oa="__reactEvents$"+qr,Wl="__reactListeners$"+qr,Jl="__reactHandles$"+qr,eu="__reactResources$"+qr,si="__reactMarker$"+qr;function Is(a){delete a[pn],delete a[Cn],delete a[Oa],delete a[Wl],delete a[Jl]}function oi(a){var o=a[pn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Pr]||u[pn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=l9(a);a!==null;){if(u=a[pn])return u;a=l9(a)}return o}a=u,u=a.parentNode}return null}function Sr(a){if(a=a[pn]||a[Pr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ar(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function li(a){var o=a[eu];return o||(o=a[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function gn(a){a[si]=!0}var Go=new Set,$o={};function ui(a,o){ci(a,o),ci(a+"Capture",o)}function ci(a,o){for($o[a]=o,a=0;a<o.length;a++)Go.add(o[a])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ns={},Xo={};function tu(a){return lt.call(Xo,a)?!0:lt.call(Ns,a)?!1:Yo.test(a)?Xo[a]=!0:(Ns[a]=!0,!1)}function Ms(a,o,u){if(tu(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function fr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function vn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Rn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Zi(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ko(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(M){u=""+M,_.call(this,M)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function It(a){if(!a._valueTracker){var o=Zi(a)?"checked":"value";a._valueTracker=Ko(a,o,""+a[o])}}function za(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=Zi(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function Br(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var La=/[\n"\\]/g;function sr(a){return a.replace(La,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Wi(a,o,u,d,y,_,M,F){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),o!=null?M==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Rn(o)):a.value!==""+Rn(o)&&(a.value=""+Rn(o)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),o!=null?Qo(a,M,Rn(o)):u!=null?Qo(a,M,Rn(u)):d!=null&&a.removeAttribute("value"),y==null&&_!=null&&(a.defaultChecked=!!_),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+Rn(F):a.removeAttribute("name")}function nu(a,o,u,d,y,_,M,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){It(a);return}u=u!=null?""+Rn(u):"",o=o!=null?""+Rn(o):u,F||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=F?a.checked:!!d,a.defaultChecked=!!d,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M),It(a)}function Qo(a,o,u){o==="number"&&Br(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ii(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Rn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Jh(a,o,u){if(o!=null&&(o=""+Rn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Rn(u):""}function ks(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(ie(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Rn(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),It(a)}function Er(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||ef.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Pc(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&qc(a,y,d)}else for(var _ in o)o.hasOwnProperty(_)&&qc(a,_,o[_])}function ru(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function iu(a){return Ds.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ni(){}var Bc=null;function hi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Os=null,Ji=null;function Zo(a){var o=Sr(a);if(o&&(a=o.stateNode)){var u=a[Cn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Wi(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+sr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[Cn]||null;if(!y)throw Error(r(90));Wi(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&za(d)}break e;case"textarea":Jh(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ii(a,!!u.multiple,o,!1)}}}var au=!1;function zs(a,o,u){if(au)return a(o,u);au=!0;try{var d=a(o);return d}finally{if(au=!1,(Os!==null||Ji!==null)&&(Kf(),Os&&(o=Os,a=Ji,Ji=Os=null,Zo(o),a)))for(o=0;o<a.length;o++)Zo(a[o])}}function Mi(a,o){var u=a.stateNode;if(u===null)return null;var d=u[Cn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(fi)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Wo=!1}var ea=null,jc=null,Jo=null;function Uc(){if(Jo)return Jo;var a,o=jc,u=o.length,d,y="value"in ea?ea.value:ea.textContent,_=y.length;for(a=0;a<u&&o[a]===y[a];a++);var M=u-a;for(d=1;d<=M&&o[u-d]===y[_-d];d++);return Jo=y.slice(a,1<d?1-d:void 0)}function el(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Va(){return!0}function ki(){return!1}function Zn(a){function o(u,d,y,_,M){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=M,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(u=a[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Va:ki,this.isPropagationStopped=ki,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),o}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Zn(qa),Ls=p({},qa,{view:0,detail:0}),Hc=Zn(Ls),Vs,su,na,ou=p({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==na&&(na&&a.type==="mousemove"?(Vs=a.screenX-na.screenX,su=a.screenY-na.screenY):su=Vs=0,na=a),Vs)},movementY:function(a){return"movementY"in a?a.movementY:su}}),Fc=Zn(ou),tl=p({},ou,{dataTransfer:0}),nf=Zn(tl),rf=p({},Ls,{relatedTarget:0}),nl=Zn(rf),Gc=p({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),af=Zn(Gc),lu=p({},qa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),sf=Zn(lu),of=p({},qa,{data:0}),ra=Zn(of),lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hf(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=cf[a])?!!o[a]:!1}function qs(){return hf}var dr=p({},Ls,{key:function(a){if(a.key){var o=lf[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=el(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?uf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(a){return a.type==="keypress"?el(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?el(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ff=Zn(dr),df=p({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Zn(df),g=p({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),T=Zn(g),L=p({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y=Zn(L),he=p({},ou,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ye=Zn(he),Me=p({},qa,{newState:0,oldState:0}),ut=Zn(Me),wn=[9,13,27,32],Dt=fi&&"CompositionEvent"in window,tn=null;fi&&"documentMode"in document&&(tn=document.documentMode);var di=fi&&"TextEvent"in window&&!tn,ia=fi&&(!Dt||tn&&8<tn&&11>=tn),Di=" ",Oi=!1;function rl(a,o){switch(a){case"keyup":return wn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var cu=!1;function YL(a,o){switch(a){case"compositionend":return uu(o);case"keypress":return o.which!==32?null:(Oi=!0,Di);case"textInput":return a=o.data,a===Di&&Oi?null:a;default:return null}}function XL(a,o){if(cu)return a==="compositionend"||!Dt&&rl(a,o)?(a=Uc(),Jo=jc=ea=null,cu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ia&&o.locale!=="ko"?null:o.data;default:return null}}var KL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!KL[a.type]:o==="textarea"}function fb(a,o,u,d){Os?Ji?Ji.push(d):Ji=[d]:Os=d,o=nd(o,"onChange"),0<o.length&&(u=new ta("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var $c=null,Yc=null;function QL(a){Xw(a,0)}function mf(a){var o=ar(a);if(za(o))return a}function db(a,o){if(a==="change")return o}var mb=!1;if(fi){var np;if(fi){var rp="oninput"in document;if(!rp){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),rp=typeof pb.oninput=="function"}np=rp}else np=!1;mb=np&&(!document.documentMode||9<document.documentMode)}function gb(){$c&&($c.detachEvent("onpropertychange",vb),Yc=$c=null)}function vb(a){if(a.propertyName==="value"&&mf(Yc)){var o=[];fb(o,Yc,a,hi(a)),zs(QL,o)}}function ZL(a,o,u){a==="focusin"?(gb(),$c=o,Yc=u,$c.attachEvent("onpropertychange",vb)):a==="focusout"&&gb()}function WL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return mf(Yc)}function JL(a,o){if(a==="click")return mf(o)}function eV(a,o){if(a==="input"||a==="change")return mf(o)}function tV(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var jr=typeof Object.is=="function"?Object.is:tV;function Xc(a,o){if(jr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!lt.call(o,y)||!jr(a[y],o[y]))return!1}return!0}function yb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function _b(a,o){var u=yb(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yb(u)}}function bb(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?bb(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function wb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Br(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Br(a.document)}return o}function ip(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var nV=fi&&"documentMode"in document&&11>=document.documentMode,hu=null,ap=null,Kc=null,sp=!1;function xb(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sp||hu==null||hu!==Br(d)||(d=hu,"selectionStart"in d&&ip(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Kc&&Xc(Kc,d)||(Kc=d,d=nd(ap,"onSelect"),0<d.length&&(o=new ta("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=hu)))}function il(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var fu={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},op={},Sb={};fi&&(Sb=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function al(a){if(op[a])return op[a];if(!fu[a])return a;var o=fu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Sb)return op[a]=o[u];return a}var Eb=al("animationend"),Tb=al("animationiteration"),Ab=al("animationstart"),rV=al("transitionrun"),iV=al("transitionstart"),aV=al("transitioncancel"),Cb=al("transitionend"),Rb=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function zi(a,o){Rb.set(a,o),ui(o,[a])}var pf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},mi=[],du=0,up=0;function gf(){for(var a=du,o=up=du=0;o<a;){var u=mi[o];mi[o++]=null;var d=mi[o];mi[o++]=null;var y=mi[o];mi[o++]=null;var _=mi[o];if(mi[o++]=null,d!==null&&y!==null){var M=d.pending;M===null?y.next=y:(y.next=M.next,M.next=y),d.pending=y}_!==0&&Ib(u,y,_)}}function vf(a,o,u,d){mi[du++]=a,mi[du++]=o,mi[du++]=u,mi[du++]=d,up|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function cp(a,o,u,d){return vf(a,o,u,d),yf(a)}function sl(a,o){return vf(a,null,null,o),yf(a)}function Ib(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,_=a.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(y=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,y&&o!==null&&(y=31-ln(u),a=_.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),_):null}function yf(a){if(50<v0)throw v0=0,_g=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var mu={};function sV(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,o,u,d){return new sV(a,o,u,d)}function hp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,o){var u=a.alternate;return u===null?(u=Ur(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Nb(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function _f(a,o,u,d,y,_){var M=0;if(d=a,typeof a=="function")hp(a)&&(M=1);else if(typeof a=="string")M=hq(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=Ur(31,u,o,y),a.elementType=D,a.lanes=_,a;case S:return ol(u.children,y,_,o);case E:M=8,y|=24;break;case C:return a=Ur(12,u,o,y|2),a.elementType=C,a.lanes=_,a;case U:return a=Ur(13,u,o,y),a.elementType=U,a.lanes=_,a;case q:return a=Ur(19,u,o,y),a.elementType=q,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:M=10;break e;case O:M=9;break e;case z:M=11;break e;case R:M=14;break e;case k:M=16,d=null;break e}M=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=Ur(M,u,o,y),o.elementType=a,o.type=d,o.lanes=_,o}function ol(a,o,u,d){return a=Ur(7,a,d,o),a.lanes=u,a}function fp(a,o,u){return a=Ur(6,a,null,o),a.lanes=u,a}function Mb(a){var o=Ur(18,null,null,0);return o.stateNode=a,o}function dp(a,o,u){return o=Ur(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var kb=new WeakMap;function pi(a,o){if(typeof a=="object"&&a!==null){var u=kb.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Xt(o)},kb.set(a,o),o)}return{value:a,source:o,stack:Xt(o)}}var pu=[],gu=0,bf=null,Qc=0,gi=[],vi=0,Ps=null,aa=1,sa="";function ja(a,o){pu[gu++]=Qc,pu[gu++]=bf,bf=a,Qc=o}function Db(a,o,u){gi[vi++]=aa,gi[vi++]=sa,gi[vi++]=Ps,Ps=a;var d=aa;a=sa;var y=32-ln(d)-1;d&=~(1<<y),u+=1;var _=32-ln(o)+y;if(30<_){var M=y-y%5;_=(d&(1<<M)-1).toString(32),d>>=M,y-=M,aa=1<<32-ln(o)+y|u<<y|d,sa=_+a}else aa=1<<_|u<<y|d,sa=a}function mp(a){a.return!==null&&(ja(a,1),Db(a,1,0))}function pp(a){for(;a===bf;)bf=pu[--gu],pu[gu]=null,Qc=pu[--gu],pu[gu]=null;for(;a===Ps;)Ps=gi[--vi],gi[vi]=null,sa=gi[--vi],gi[vi]=null,aa=gi[--vi],gi[vi]=null}function Ob(a,o){gi[vi++]=aa,gi[vi++]=sa,gi[vi++]=Ps,aa=o.id,sa=o.overflow,Ps=a}var Wn=null,Zt=null,St=!1,Bs=null,yi=!1,gp=Error(r(519));function js(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(pi(o,a)),gp}function zb(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[pn]=a,o[Cn]=d,u){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(u=0;u<_0.length;u++)vt(_0[u],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),nu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),ks(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||Ww(o.textContent,u)?(d.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),d.onScroll!=null&&vt("scroll",o),d.onScrollEnd!=null&&vt("scrollend",o),d.onClick!=null&&(o.onclick=Ni),o=!0):o=!1,o||js(a,!0)}function Lb(a){for(Wn=a.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Wn=Wn.return}}function vu(a){if(a!==Wn)return!1;if(!St)return Lb(a),St=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Og(a.type,a.memoizedProps)),u=!u),u&&Zt&&js(a),Lb(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Zt=o9(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Zt=o9(a)}else o===27?(o=Zt,to(a.type)?(a=Pg,Pg=null,Zt=a):Zt=o):Zt=Wn?bi(a.stateNode.nextSibling):null;return!0}function ll(){Zt=Wn=null,St=!1}function vp(){var a=Bs;return a!==null&&(Rr===null?Rr=a:Rr.push.apply(Rr,a),Bs=null),a}function Zc(a){Bs===null?Bs=[a]:Bs.push(a)}var yp=X(null),ul=null,Ua=null;function Us(a,o,u){ve(yp,o._currentValue),o._currentValue=u}function Ha(a){a._currentValue=yp.current,te(yp)}function _p(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function bp(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){var M=y.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=y;for(var ne=0;ne<o.length;ne++)if(F.context===o[ne]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),_p(_.return,u,a),d||(M=null);break e}_=F.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(r(341));M.lanes|=u,_=M.alternate,_!==null&&(_.lanes|=u),_p(M,u,a),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===a){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function yu(a,o,u,d){a=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var F=y.type;jr(y.pendingProps.value,M.value)||(a!==null?a.push(F):a=[F])}}else if(y===pe.current){if(M=y.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(E0):a=[E0])}y=y.return}a!==null&&bp(o,a,u,d),o.flags|=262144}function wf(a){for(a=a.firstContext;a!==null;){if(!jr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function cl(a){ul=a,Ua=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jn(a){return Vb(ul,a)}function xf(a,o){return ul===null&&cl(a),Vb(a,o)}function Vb(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ua===null){if(a===null)throw Error(r(308));Ua=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ua=Ua.next=o;return u}var oV=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},lV=t.unstable_scheduleCallback,uV=t.unstable_NormalPriority,In={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new oV,data:new Map,refCount:0}}function Wc(a){a.refCount--,a.refCount===0&&lV(uV,function(){a.controller.abort()})}var Jc=null,xp=0,_u=0,bu=null;function cV(a,o){if(Jc===null){var u=Jc=[];xp=0,_u=Tg(),bu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return xp++,o.then(qb,qb),o}function qb(){if(--xp===0&&Jc!==null){bu!==null&&(bu.status="fulfilled");var a=Jc;Jc=null,_u=0,bu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function hV(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var Pb=$.S;$.S=function(a,o){xw=en(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&cV(a,o),Pb!==null&&Pb(a,o)};var hl=X(null);function Sp(){var a=hl.current;return a!==null?a:$t.pooledCache}function Sf(a,o){o===null?ve(hl,hl.current):ve(hl,o.pool)}function Bb(){var a=Sp();return a===null?null:{parent:In._currentValue,pool:a}}var wu=Error(r(460)),Ep=Error(r(474)),Ef=Error(r(542)),Tf={then:function(){}};function jb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ub(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ni,Ni),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Fb(a),a;default:if(typeof o.status=="string")o.then(Ni,Ni);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Fb(a),a}throw dl=o,wu}}function fl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(dl=u,wu):u}}var dl=null;function Hb(){if(dl===null)throw Error(r(459));var a=dl;return dl=null,a}function Fb(a){if(a===wu||a===Ef)throw Error(r(483))}var xu=null,e0=0;function Af(a){var o=e0;return e0+=1,xu===null&&(xu=[]),Ub(xu,a,o)}function t0(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Cf(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Gb(a){function o(ue,se){if(a){var fe=ue.deletions;fe===null?(ue.deletions=[se],ue.flags|=16):fe.push(se)}}function u(ue,se){if(!a)return null;for(;se!==null;)o(ue,se),se=se.sibling;return null}function d(ue){for(var se=new Map;ue!==null;)ue.key!==null?se.set(ue.key,ue):se.set(ue.index,ue),ue=ue.sibling;return se}function y(ue,se){return ue=Ba(ue,se),ue.index=0,ue.sibling=null,ue}function _(ue,se,fe){return ue.index=fe,a?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<se?(ue.flags|=67108866,se):fe):(ue.flags|=67108866,se)):(ue.flags|=1048576,se)}function M(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function F(ue,se,fe,Ee){return se===null||se.tag!==6?(se=fp(fe,ue.mode,Ee),se.return=ue,se):(se=y(se,fe),se.return=ue,se)}function ne(ue,se,fe,Ee){var Ke=fe.type;return Ke===S?xe(ue,se,fe.props.children,Ee,fe.key):se!==null&&(se.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===k&&fl(Ke)===se.type)?(se=y(se,fe.props),t0(se,fe),se.return=ue,se):(se=_f(fe.type,fe.key,fe.props,null,ue.mode,Ee),t0(se,fe),se.return=ue,se)}function me(ue,se,fe,Ee){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=dp(fe,ue.mode,Ee),se.return=ue,se):(se=y(se,fe.children||[]),se.return=ue,se)}function xe(ue,se,fe,Ee,Ke){return se===null||se.tag!==7?(se=ol(fe,ue.mode,Ee,Ke),se.return=ue,se):(se=y(se,fe),se.return=ue,se)}function Te(ue,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=fp(""+se,ue.mode,fe),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return fe=_f(se.type,se.key,se.props,null,ue.mode,fe),t0(fe,se),fe.return=ue,fe;case w:return se=dp(se,ue.mode,fe),se.return=ue,se;case k:return se=fl(se),Te(ue,se,fe)}if(ie(se)||j(se))return se=ol(se,ue.mode,fe,null),se.return=ue,se;if(typeof se.then=="function")return Te(ue,Af(se),fe);if(se.$$typeof===A)return Te(ue,xf(ue,se),fe);Cf(ue,se)}return null}function ge(ue,se,fe,Ee){var Ke=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ke!==null?null:F(ue,se,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return fe.key===Ke?ne(ue,se,fe,Ee):null;case w:return fe.key===Ke?me(ue,se,fe,Ee):null;case k:return fe=fl(fe),ge(ue,se,fe,Ee)}if(ie(fe)||j(fe))return Ke!==null?null:xe(ue,se,fe,Ee,null);if(typeof fe.then=="function")return ge(ue,se,Af(fe),Ee);if(fe.$$typeof===A)return ge(ue,se,xf(ue,fe),Ee);Cf(ue,fe)}return null}function we(ue,se,fe,Ee,Ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ue=ue.get(fe)||null,F(se,ue,""+Ee,Ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return ue=ue.get(Ee.key===null?fe:Ee.key)||null,ne(se,ue,Ee,Ke);case w:return ue=ue.get(Ee.key===null?fe:Ee.key)||null,me(se,ue,Ee,Ke);case k:return Ee=fl(Ee),we(ue,se,fe,Ee,Ke)}if(ie(Ee)||j(Ee))return ue=ue.get(fe)||null,xe(se,ue,Ee,Ke,null);if(typeof Ee.then=="function")return we(ue,se,fe,Af(Ee),Ke);if(Ee.$$typeof===A)return we(ue,se,fe,xf(se,Ee),Ke);Cf(se,Ee)}return null}function je(ue,se,fe,Ee){for(var Ke=null,Nt=null,Fe=se,ht=se=0,_t=null;Fe!==null&&ht<fe.length;ht++){Fe.index>ht?(_t=Fe,Fe=null):_t=Fe.sibling;var Mt=ge(ue,Fe,fe[ht],Ee);if(Mt===null){Fe===null&&(Fe=_t);break}a&&Fe&&Mt.alternate===null&&o(ue,Fe),se=_(Mt,se,ht),Nt===null?Ke=Mt:Nt.sibling=Mt,Nt=Mt,Fe=_t}if(ht===fe.length)return u(ue,Fe),St&&ja(ue,ht),Ke;if(Fe===null){for(;ht<fe.length;ht++)Fe=Te(ue,fe[ht],Ee),Fe!==null&&(se=_(Fe,se,ht),Nt===null?Ke=Fe:Nt.sibling=Fe,Nt=Fe);return St&&ja(ue,ht),Ke}for(Fe=d(Fe);ht<fe.length;ht++)_t=we(Fe,ue,ht,fe[ht],Ee),_t!==null&&(a&&_t.alternate!==null&&Fe.delete(_t.key===null?ht:_t.key),se=_(_t,se,ht),Nt===null?Ke=_t:Nt.sibling=_t,Nt=_t);return a&&Fe.forEach(function(so){return o(ue,so)}),St&&ja(ue,ht),Ke}function Je(ue,se,fe,Ee){if(fe==null)throw Error(r(151));for(var Ke=null,Nt=null,Fe=se,ht=se=0,_t=null,Mt=fe.next();Fe!==null&&!Mt.done;ht++,Mt=fe.next()){Fe.index>ht?(_t=Fe,Fe=null):_t=Fe.sibling;var so=ge(ue,Fe,Mt.value,Ee);if(so===null){Fe===null&&(Fe=_t);break}a&&Fe&&so.alternate===null&&o(ue,Fe),se=_(so,se,ht),Nt===null?Ke=so:Nt.sibling=so,Nt=so,Fe=_t}if(Mt.done)return u(ue,Fe),St&&ja(ue,ht),Ke;if(Fe===null){for(;!Mt.done;ht++,Mt=fe.next())Mt=Te(ue,Mt.value,Ee),Mt!==null&&(se=_(Mt,se,ht),Nt===null?Ke=Mt:Nt.sibling=Mt,Nt=Mt);return St&&ja(ue,ht),Ke}for(Fe=d(Fe);!Mt.done;ht++,Mt=fe.next())Mt=we(Fe,ue,ht,Mt.value,Ee),Mt!==null&&(a&&Mt.alternate!==null&&Fe.delete(Mt.key===null?ht:Mt.key),se=_(Mt,se,ht),Nt===null?Ke=Mt:Nt.sibling=Mt,Nt=Mt);return a&&Fe.forEach(function(xq){return o(ue,xq)}),St&&ja(ue,ht),Ke}function Ut(ue,se,fe,Ee){if(typeof fe=="object"&&fe!==null&&fe.type===S&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:e:{for(var Ke=fe.key;se!==null;){if(se.key===Ke){if(Ke=fe.type,Ke===S){if(se.tag===7){u(ue,se.sibling),Ee=y(se,fe.props.children),Ee.return=ue,ue=Ee;break e}}else if(se.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===k&&fl(Ke)===se.type){u(ue,se.sibling),Ee=y(se,fe.props),t0(Ee,fe),Ee.return=ue,ue=Ee;break e}u(ue,se);break}else o(ue,se);se=se.sibling}fe.type===S?(Ee=ol(fe.props.children,ue.mode,Ee,fe.key),Ee.return=ue,ue=Ee):(Ee=_f(fe.type,fe.key,fe.props,null,ue.mode,Ee),t0(Ee,fe),Ee.return=ue,ue=Ee)}return M(ue);case w:e:{for(Ke=fe.key;se!==null;){if(se.key===Ke)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){u(ue,se.sibling),Ee=y(se,fe.children||[]),Ee.return=ue,ue=Ee;break e}else{u(ue,se);break}else o(ue,se);se=se.sibling}Ee=dp(fe,ue.mode,Ee),Ee.return=ue,ue=Ee}return M(ue);case k:return fe=fl(fe),Ut(ue,se,fe,Ee)}if(ie(fe))return je(ue,se,fe,Ee);if(j(fe)){if(Ke=j(fe),typeof Ke!="function")throw Error(r(150));return fe=Ke.call(fe),Je(ue,se,fe,Ee)}if(typeof fe.then=="function")return Ut(ue,se,Af(fe),Ee);if(fe.$$typeof===A)return Ut(ue,se,xf(ue,fe),Ee);Cf(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,se!==null&&se.tag===6?(u(ue,se.sibling),Ee=y(se,fe),Ee.return=ue,ue=Ee):(u(ue,se),Ee=fp(fe,ue.mode,Ee),Ee.return=ue,ue=Ee),M(ue)):u(ue,se)}return function(ue,se,fe,Ee){try{e0=0;var Ke=Ut(ue,se,fe,Ee);return xu=null,Ke}catch(Fe){if(Fe===wu||Fe===Ef)throw Fe;var Nt=Ur(29,Fe,null,ue.mode);return Nt.lanes=Ee,Nt.return=ue,Nt}}}var ml=Gb(!0),$b=Gb(!1),Hs=!1;function Tp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Gs(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Ot&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=yf(a),Ib(a,null,u),o}return vf(a,d,o,u),yf(a)}function n0(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,Ho(a,u)}}function Cp(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=M:_=_.next=M,u=u.next}while(u!==null);_===null?y=_=o:_=_.next=o}else y=_=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Rp=!1;function r0(){if(Rp){var a=bu;if(a!==null)throw a}}function i0(a,o,u,d){Rp=!1;var y=a.updateQueue;Hs=!1;var _=y.firstBaseUpdate,M=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var ne=F,me=ne.next;ne.next=null,M===null?_=me:M.next=me,M=ne;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,F=xe.lastBaseUpdate,F!==M&&(F===null?xe.firstBaseUpdate=me:F.next=me,xe.lastBaseUpdate=ne))}if(_!==null){var Te=y.baseState;M=0,xe=me=ne=null,F=_;do{var ge=F.lane&-536870913,we=ge!==F.lane;if(we?(yt&ge)===ge:(d&ge)===ge){ge!==0&&ge===_u&&(Rp=!0),xe!==null&&(xe=xe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var je=a,Je=F;ge=o;var Ut=u;switch(Je.tag){case 1:if(je=Je.payload,typeof je=="function"){Te=je.call(Ut,Te,ge);break e}Te=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Je.payload,ge=typeof je=="function"?je.call(Ut,Te,ge):je,ge==null)break e;Te=p({},Te,ge);break e;case 2:Hs=!0}}ge=F.callback,ge!==null&&(a.flags|=64,we&&(a.flags|=8192),we=y.callbacks,we===null?y.callbacks=[ge]:we.push(ge))}else we={lane:ge,tag:F.tag,payload:F.payload,callback:F.callback,next:null},xe===null?(me=xe=we,ne=Te):xe=xe.next=we,M|=ge;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;we=F,F=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);xe===null&&(ne=Te),y.baseState=ne,y.firstBaseUpdate=me,y.lastBaseUpdate=xe,_===null&&(y.shared.lanes=0),Qs|=M,a.lanes=M,a.memoizedState=Te}}function Yb(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Xb(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Yb(u[a],o)}var Su=X(null),Rf=X(0);function Kb(a,o){a=Wa,ve(Rf,a),ve(Su,o),Wa=a|o.baseLanes}function Ip(){ve(Rf,Wa),ve(Su,Su.current)}function Np(){Wa=Rf.current,te(Su),te(Rf)}var Hr=X(null),_i=null;function $s(a){var o=a.alternate;ve(xn,xn.current&1),ve(Hr,a),_i===null&&(o===null||Su.current!==null||o.memoizedState!==null)&&(_i=a)}function Mp(a){ve(xn,xn.current),ve(Hr,a),_i===null&&(_i=a)}function Qb(a){a.tag===22?(ve(xn,xn.current),ve(Hr,a),_i===null&&(_i=a)):Ys()}function Ys(){ve(xn,xn.current),ve(Hr,Hr.current)}function Fr(a){te(Hr),_i===a&&(_i=null),te(xn)}var xn=X(0);function If(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Vg(u)||qg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fa=0,ct=null,Bt=null,Nn=null,Nf=!1,Eu=!1,pl=!1,Mf=0,a0=0,Tu=null,fV=0;function yn(){throw Error(r(321))}function kp(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!jr(a[u],o[u]))return!1;return!0}function Dp(a,o,u,d,y,_){return Fa=_,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=a===null||a.memoizedState===null?D8:Xp,pl=!1,_=u(d,y),pl=!1,Eu&&(_=Wb(o,u,d,y)),Zb(a),_}function Zb(a){$.H=l0;var o=Bt!==null&&Bt.next!==null;if(Fa=0,Nn=Bt=ct=null,Nf=!1,a0=0,Tu=null,o)throw Error(r(300));a===null||Mn||(a=a.dependencies,a!==null&&wf(a)&&(Mn=!0))}function Wb(a,o,u,d){ct=a;var y=0;do{if(Eu&&(Tu=null),a0=0,Eu=!1,25<=y)throw Error(r(301));if(y+=1,Nn=Bt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=O8,_=o(u,d)}while(Eu);return _}function dV(){var a=$.H,o=a.useState()[0];return o=typeof o.then=="function"?s0(o):o,a=a.useState()[0],(Bt!==null?Bt.memoizedState:null)!==a&&(ct.flags|=1024),o}function Op(){var a=Mf!==0;return Mf=0,a}function zp(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Lp(a){if(Nf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Nf=!1}Fa=0,Nn=Bt=ct=null,Eu=!1,a0=Mf=0,Tu=null}function mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?ct.memoizedState=Nn=a:Nn=Nn.next=a,Nn}function Sn(){if(Bt===null){var a=ct.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var o=Nn===null?ct.memoizedState:Nn.next;if(o!==null)Nn=o,Bt=a;else{if(a===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Nn===null?ct.memoizedState=Nn=a:Nn=Nn.next=a}return Nn}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function s0(a){var o=a0;return a0+=1,Tu===null&&(Tu=[]),a=Ub(Tu,a,o),o=ct,(Nn===null?o.memoizedState:Nn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?D8:Xp),a}function Df(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return s0(a);if(a.$$typeof===A)return Jn(a)}throw Error(r(438,String(a)))}function Vp(a){var o=null,u=ct.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=ct.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=kf(),ct.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=H;return o.index++,u}function Ga(a,o){return typeof o=="function"?o(a):o}function Of(a){var o=Sn();return qp(o,Bt,a)}function qp(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,_=d.pending;if(_!==null){if(y!==null){var M=y.next;y.next=_.next,_.next=M}o.baseQueue=y=_,d.pending=null}if(_=a.baseState,y===null)a.memoizedState=_;else{o=y.next;var F=M=null,ne=null,me=o,xe=!1;do{var Te=me.lane&-536870913;if(Te!==me.lane?(yt&Te)===Te:(Fa&Te)===Te){var ge=me.revertLane;if(ge===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Te===_u&&(xe=!0);else if((Fa&ge)===ge){me=me.next,ge===_u&&(xe=!0);continue}else Te={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=Te,M=_):ne=ne.next=Te,ct.lanes|=ge,Qs|=ge;Te=me.action,pl&&u(_,Te),_=me.hasEagerState?me.eagerState:u(_,Te)}else ge={lane:Te,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=ge,M=_):ne=ne.next=ge,ct.lanes|=Te,Qs|=Te;me=me.next}while(me!==null&&me!==o);if(ne===null?M=_:ne.next=F,!jr(_,a.memoizedState)&&(Mn=!0,xe&&(u=bu,u!==null)))throw u;a.memoizedState=_,a.baseState=M,a.baseQueue=ne,d.lastRenderedState=_}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Pp(a){var o=Sn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,_=o.memoizedState;if(y!==null){u.pending=null;var M=y=y.next;do _=a(_,M.action),M=M.next;while(M!==y);jr(_,o.memoizedState)||(Mn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function Jb(a,o,u){var d=ct,y=Sn(),_=St;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var M=!jr((Bt||y).memoizedState,u);if(M&&(y.memoizedState=u,Mn=!0),y=y.queue,Up(n8.bind(null,d,y,a),[a]),y.getSnapshot!==o||M||Nn!==null&&Nn.memoizedState.tag&1){if(d.flags|=2048,Au(9,{destroy:void 0},t8.bind(null,d,y,u,o),null),$t===null)throw Error(r(349));_||(Fa&127)!==0||e8(d,o,u)}return u}function e8(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o=kf(),ct.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function t8(a,o,u,d){o.value=u,o.getSnapshot=d,r8(o)&&i8(a)}function n8(a,o,u){return u(function(){r8(o)&&i8(a)})}function r8(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!jr(a,u)}catch{return!0}}function i8(a){var o=sl(a,2);o!==null&&Ir(o,a,2)}function Bp(a){var o=mr();if(typeof a=="function"){var u=a;if(a=u(),pl){xr(!0);try{u()}finally{xr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},o}function a8(a,o,u,d){return a.baseState=u,qp(a,Bt,typeof d=="function"?d:Ga)}function mV(a,o,u,d,y){if(Vf(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){_.listeners.push(M)}};$.T!==null?u(!0):_.isTransition=!1,d(_),u=o.pending,u===null?(_.next=o.pending=_,s8(o,_)):(_.next=u.next,o.pending=u.next=_)}}function s8(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var _=$.T,M={};$.T=M;try{var F=u(y,d),ne=$.S;ne!==null&&ne(M,F),o8(a,o,F)}catch(me){jp(a,o,me)}finally{_!==null&&M.types!==null&&(_.types=M.types),$.T=_}}else try{_=u(y,d),o8(a,o,_)}catch(me){jp(a,o,me)}}function o8(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){l8(a,o,d)},function(d){return jp(a,o,d)}):l8(a,o,u)}function l8(a,o,u){o.status="fulfilled",o.value=u,u8(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,s8(a,u)))}function jp(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,u8(o),o=o.next;while(o!==d)}a.action=null}function u8(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function c8(a,o){return o}function h8(a,o){if(St){var u=$t.formState;if(u!==null){e:{var d=ct;if(St){if(Zt){t:{for(var y=Zt,_=yi;y.nodeType!==8;){if(!_){y=null;break t}if(y=bi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Zt=bi(y.nextSibling),d=y.data==="F!";break e}}js(d)}d=!1}d&&(o=u[0])}}return u=mr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c8,lastRenderedState:o},u.queue=d,u=N8.bind(null,ct,d),d.dispatch=u,d=Bp(!1),_=Yp.bind(null,ct,!1,d.queue),d=mr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=mV.bind(null,ct,y,_,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function f8(a){var o=Sn();return d8(o,Bt,a)}function d8(a,o,u){if(o=qp(a,o,c8)[0],a=Of(Ga)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=s0(o)}catch(M){throw M===wu?Ef:M}else d=o;o=Sn();var y=o.queue,_=y.dispatch;return u!==o.memoizedState&&(ct.flags|=2048,Au(9,{destroy:void 0},pV.bind(null,y,u),null)),[d,_,a]}function pV(a,o){a.action=o}function m8(a){var o=Sn(),u=Bt;if(u!==null)return d8(o,u,a);Sn(),o=o.memoizedState,u=Sn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function Au(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=ct.updateQueue,o===null&&(o=kf(),ct.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function p8(){return Sn().memoizedState}function zf(a,o,u,d){var y=mr();ct.flags|=a,y.memoizedState=Au(1|o,{destroy:void 0},u,d===void 0?null:d)}function Lf(a,o,u,d){var y=Sn();d=d===void 0?null:d;var _=y.memoizedState.inst;Bt!==null&&d!==null&&kp(d,Bt.memoizedState.deps)?y.memoizedState=Au(o,_,u,d):(ct.flags|=a,y.memoizedState=Au(1|o,_,u,d))}function g8(a,o){zf(8390656,8,a,o)}function Up(a,o){Lf(2048,8,a,o)}function gV(a){ct.flags|=4;var o=ct.updateQueue;if(o===null)o=kf(),ct.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function v8(a){var o=Sn().memoizedState;return gV({ref:o,nextImpl:a}),function(){if((Ot&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function y8(a,o){return Lf(4,2,a,o)}function _8(a,o){return Lf(4,4,a,o)}function b8(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function w8(a,o,u){u=u!=null?u.concat([a]):null,Lf(4,4,b8.bind(null,o,a),u)}function Hp(){}function x8(a,o){var u=Sn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&kp(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function S8(a,o){var u=Sn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&kp(o,d[1]))return d[0];if(d=a(),pl){xr(!0);try{a()}finally{xr(!1)}}return u.memoizedState=[d,o],d}function Fp(a,o,u){return u===void 0||(Fa&1073741824)!==0&&(yt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Ew(),ct.lanes|=a,Qs|=a,u)}function E8(a,o,u,d){return jr(u,o)?u:Su.current!==null?(a=Fp(a,u,d),jr(a,o)||(Mn=!0),a):(Fa&42)===0||(Fa&1073741824)!==0&&(yt&261930)===0?(Mn=!0,a.memoizedState=u):(a=Ew(),ct.lanes|=a,Qs|=a,o)}function T8(a,o,u,d,y){var _=Z.p;Z.p=_!==0&&8>_?_:8;var M=$.T,F={};$.T=F,Yp(a,!1,o,u);try{var ne=y(),me=$.S;if(me!==null&&me(F,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var xe=hV(ne,d);o0(a,o,xe,Yr(a))}else o0(a,o,d,Yr(a))}catch(Te){o0(a,o,{then:function(){},status:"rejected",reason:Te},Yr())}finally{Z.p=_,M!==null&&F.types!==null&&(M.types=F.types),$.T=M}}function vV(){}function Gp(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=A8(a).queue;T8(a,y,o,re,u===null?vV:function(){return C8(a),u(d)})}function A8(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function C8(a){var o=A8(a);o.next===null&&(o=a.alternate.memoizedState),o0(a,o.next.queue,{},Yr())}function $p(){return Jn(E0)}function R8(){return Sn().memoizedState}function I8(){return Sn().memoizedState}function yV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Yr();a=Fs(u);var d=Gs(o,a,u);d!==null&&(Ir(d,o,u),n0(d,o,u)),o={cache:wp()},a.payload=o;return}o=o.return}}function _V(a,o,u){var d=Yr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vf(a)?M8(o,u):(u=cp(a,o,u,d),u!==null&&(Ir(u,a,d),k8(u,o,d)))}function N8(a,o,u){var d=Yr();o0(a,o,u,d)}function o0(a,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vf(a))M8(o,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var M=o.lastRenderedState,F=_(M,u);if(y.hasEagerState=!0,y.eagerState=F,jr(F,M))return vf(a,o,y,0),$t===null&&gf(),!1}catch{}if(u=cp(a,o,y,d),u!==null)return Ir(u,a,d),k8(u,o,d),!0}return!1}function Yp(a,o,u,d){if(d={lane:2,revertLane:Tg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Vf(a)){if(o)throw Error(r(479))}else o=cp(a,u,d,2),o!==null&&Ir(o,a,2)}function Vf(a){var o=a.alternate;return a===ct||o!==null&&o===ct}function M8(a,o){Eu=Nf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function k8(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,Ho(a,u)}}var l0={readContext:Jn,use:Df,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};l0.useEffectEvent=yn;var D8={readContext:Jn,use:Df,useCallback:function(a,o){return mr().memoizedState=[a,o===void 0?null:o],a},useContext:Jn,useEffect:g8,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,zf(4194308,4,b8.bind(null,o,a),u)},useLayoutEffect:function(a,o){return zf(4194308,4,a,o)},useInsertionEffect:function(a,o){zf(4,2,a,o)},useMemo:function(a,o){var u=mr();o=o===void 0?null:o;var d=a();if(pl){xr(!0);try{a()}finally{xr(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=mr();if(u!==void 0){var y=u(o);if(pl){xr(!0);try{u(o)}finally{xr(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=_V.bind(null,ct,a),[d.memoizedState,a]},useRef:function(a){var o=mr();return a={current:a},o.memoizedState=a},useState:function(a){a=Bp(a);var o=a.queue,u=N8.bind(null,ct,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Hp,useDeferredValue:function(a,o){var u=mr();return Fp(u,a,o)},useTransition:function(){var a=Bp(!1);return a=T8.bind(null,ct,a.queue,!0,!1),mr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=ct,y=mr();if(St){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),$t===null)throw Error(r(349));(yt&127)!==0||e8(d,o,u)}y.memoizedState=u;var _={value:u,getSnapshot:o};return y.queue=_,g8(n8.bind(null,d,_,a),[a]),d.flags|=2048,Au(9,{destroy:void 0},t8.bind(null,d,_,u,o),null),u},useId:function(){var a=mr(),o=$t.identifierPrefix;if(St){var u=sa,d=aa;u=(d&~(1<<32-ln(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=fV++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:$p,useFormState:h8,useActionState:h8,useOptimistic:function(a){var o=mr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Yp.bind(null,ct,!0,u),u.dispatch=o,[a,o]},useMemoCache:Vp,useCacheRefresh:function(){return mr().memoizedState=yV.bind(null,ct)},useEffectEvent:function(a){var o=mr(),u={impl:a};return o.memoizedState=u,function(){if((Ot&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Xp={readContext:Jn,use:Df,useCallback:x8,useContext:Jn,useEffect:Up,useImperativeHandle:w8,useInsertionEffect:y8,useLayoutEffect:_8,useMemo:S8,useReducer:Of,useRef:p8,useState:function(){return Of(Ga)},useDebugValue:Hp,useDeferredValue:function(a,o){var u=Sn();return E8(u,Bt.memoizedState,a,o)},useTransition:function(){var a=Of(Ga)[0],o=Sn().memoizedState;return[typeof a=="boolean"?a:s0(a),o]},useSyncExternalStore:Jb,useId:R8,useHostTransitionStatus:$p,useFormState:f8,useActionState:f8,useOptimistic:function(a,o){var u=Sn();return a8(u,Bt,a,o)},useMemoCache:Vp,useCacheRefresh:I8};Xp.useEffectEvent=v8;var O8={readContext:Jn,use:Df,useCallback:x8,useContext:Jn,useEffect:Up,useImperativeHandle:w8,useInsertionEffect:y8,useLayoutEffect:_8,useMemo:S8,useReducer:Pp,useRef:p8,useState:function(){return Pp(Ga)},useDebugValue:Hp,useDeferredValue:function(a,o){var u=Sn();return Bt===null?Fp(u,a,o):E8(u,Bt.memoizedState,a,o)},useTransition:function(){var a=Pp(Ga)[0],o=Sn().memoizedState;return[typeof a=="boolean"?a:s0(a),o]},useSyncExternalStore:Jb,useId:R8,useHostTransitionStatus:$p,useFormState:m8,useActionState:m8,useOptimistic:function(a,o){var u=Sn();return Bt!==null?a8(u,Bt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:I8};O8.useEffectEvent=v8;function Kp(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Qp={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=Yr(),y=Fs(d);y.payload=o,u!=null&&(y.callback=u),o=Gs(a,y,d),o!==null&&(Ir(o,a,d),n0(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=Yr(),y=Fs(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Gs(a,y,d),o!==null&&(Ir(o,a,d),n0(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Yr(),d=Fs(u);d.tag=2,o!=null&&(d.callback=o),o=Gs(a,d,u),o!==null&&(Ir(o,a,u),n0(o,a,u))}};function z8(a,o,u,d,y,_,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,_,M):o.prototype&&o.prototype.isPureReactComponent?!Xc(u,d)||!Xc(y,_):!0}function L8(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&Qp.enqueueReplaceState(o,o.state,null)}function gl(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function V8(a){pf(a)}function q8(a){console.error(a)}function P8(a){pf(a)}function qf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function B8(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Zp(a,o,u){return u=Fs(u),u.tag=3,u.payload={element:null},u.callback=function(){qf(a,o)},u}function j8(a){return a=Fs(a),a.tag=3,a}function U8(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;a.payload=function(){return y(_)},a.callback=function(){B8(o,u,d)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){B8(o,u,d),typeof y!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function bV(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&yu(o,u,y,!0),u=Hr.current,u!==null){switch(u.tag){case 31:case 13:return _i===null?Qf():u.alternate===null&&_n===0&&(_n=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===Tf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),xg(a,d,y)),!1;case 22:return u.flags|=65536,d===Tf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),xg(a,d,y)),!1}throw Error(r(435,u.tag))}return xg(a,d,y),Qf(),!1}if(St)return o=Hr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==gp&&(a=Error(r(422),{cause:d}),Zc(pi(a,u)))):(d!==gp&&(o=Error(r(423),{cause:d}),Zc(pi(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=pi(d,u),y=Zp(a.stateNode,d,y),Cp(a,y),_n!==4&&(_n=2)),!1;var _=Error(r(520),{cause:d});if(_=pi(_,u),g0===null?g0=[_]:g0.push(_),_n!==4&&(_n=2),o===null)return!0;d=pi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Zp(u.stateNode,d,a),Cp(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=j8(y),U8(y,a,u,d),Cp(u,y),!1}u=u.return}while(u!==null);return!1}var Wp=Error(r(461)),Mn=!1;function er(a,o,u,d){o.child=a===null?$b(o,null,u,d):ml(o,a.child,u,d)}function H8(a,o,u,d,y){u=u.render;var _=o.ref;if("ref"in d){var M={};for(var F in d)F!=="ref"&&(M[F]=d[F])}else M=d;return cl(o),d=Dp(a,o,u,M,_,y),F=Op(),a!==null&&!Mn?(zp(a,o,y),$a(a,o,y)):(St&&F&&mp(o),o.flags|=1,er(a,o,d,y),o.child)}function F8(a,o,u,d,y){if(a===null){var _=u.type;return typeof _=="function"&&!hp(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,G8(a,o,_,d,y)):(a=_f(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!sg(a,y)){var M=_.memoizedProps;if(u=u.compare,u=u!==null?u:Xc,u(M,d)&&a.ref===o.ref)return $a(a,o,y)}return o.flags|=1,a=Ba(_,d),a.ref=o.ref,a.return=o,o.child=a}function G8(a,o,u,d,y){if(a!==null){var _=a.memoizedProps;if(Xc(_,d)&&a.ref===o.ref)if(Mn=!1,o.pendingProps=d=_,sg(a,y))(a.flags&131072)!==0&&(Mn=!0);else return o.lanes=a.lanes,$a(a,o,y)}return Jp(a,o,u,d,y)}function $8(a,o,u,d){var y=d.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(d=o.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~_}else d=0,o.child=null;return Y8(a,o,_,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Sf(o,_!==null?_.cachePool:null),_!==null?Kb(o,_):Ip(),Qb(o);else return d=o.lanes=536870912,Y8(a,o,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(Sf(o,_.cachePool),Kb(o,_),Ys(),o.memoizedState=null):(a!==null&&Sf(o,null),Ip(),Ys());return er(a,o,y,u),o.child}function u0(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Y8(a,o,u,d,y){var _=Sp();return _=_===null?null:{parent:In._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&Sf(o,null),Ip(),Qb(o),a!==null&&yu(a,o,d,!0),o.childLanes=y,null}function Pf(a,o){return o=jf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function X8(a,o,u){return ml(o,a.child,null,u),a=Pf(o,o.pendingProps),a.flags|=2,Fr(o),o.memoizedState=null,a}function wV(a,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(St){if(d.mode==="hidden")return a=Pf(o,d),o.lanes=536870912,u0(null,a);if(Mp(o),(a=Zt)?(a=s9(a,yi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ps!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},u=Mb(a),u.return=o,o.child=u,Wn=o,Zt=null)):a=null,a===null)throw js(o);return o.lanes=536870912,null}return Pf(o,d)}var _=a.memoizedState;if(_!==null){var M=_.dehydrated;if(Mp(o),y)if(o.flags&256)o.flags&=-257,o=X8(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Mn||yu(a,o,u,!1),y=(u&a.childLanes)!==0,Mn||y){if(d=$t,d!==null&&(M=Fo(d,u),M!==0&&M!==_.retryLane))throw _.retryLane=M,sl(a,M),Ir(d,a,M),Wp;Qf(),o=X8(a,o,u)}else a=_.treeContext,Zt=bi(M.nextSibling),Wn=o,St=!0,Bs=null,yi=!1,a!==null&&Ob(o,a),o=Pf(o,d),o.flags|=4096;return o}return a=Ba(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Bf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Jp(a,o,u,d,y){return cl(o),u=Dp(a,o,u,d,void 0,y),d=Op(),a!==null&&!Mn?(zp(a,o,y),$a(a,o,y)):(St&&d&&mp(o),o.flags|=1,er(a,o,u,y),o.child)}function K8(a,o,u,d,y,_){return cl(o),o.updateQueue=null,u=Wb(o,d,u,y),Zb(a),d=Op(),a!==null&&!Mn?(zp(a,o,_),$a(a,o,_)):(St&&d&&mp(o),o.flags|=1,er(a,o,u,_),o.child)}function Q8(a,o,u,d,y){if(cl(o),o.stateNode===null){var _=mu,M=u.contextType;typeof M=="object"&&M!==null&&(_=Jn(M)),_=new u(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Qp,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},Tp(o),M=u.contextType,_.context=typeof M=="object"&&M!==null?Jn(M):mu,_.state=o.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Kp(o,u,M,d),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(M=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),M!==_.state&&Qp.enqueueReplaceState(_,_.state,null),i0(o,d,_,y),r0(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){_=o.stateNode;var F=o.memoizedProps,ne=gl(u,F);_.props=ne;var me=_.context,xe=u.contextType;M=mu,typeof xe=="object"&&xe!==null&&(M=Jn(xe));var Te=u.getDerivedStateFromProps;xe=typeof Te=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,xe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||me!==M)&&L8(o,_,d,M),Hs=!1;var ge=o.memoizedState;_.state=ge,i0(o,d,_,y),r0(),me=o.memoizedState,F||ge!==me||Hs?(typeof Te=="function"&&(Kp(o,u,Te,d),me=o.memoizedState),(ne=Hs||z8(o,u,ne,d,ge,me,M))?(xe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=me),_.props=d,_.state=me,_.context=M,d=ne):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,Ap(a,o),M=o.memoizedProps,xe=gl(u,M),_.props=xe,Te=o.pendingProps,ge=_.context,me=u.contextType,ne=mu,typeof me=="object"&&me!==null&&(ne=Jn(me)),F=u.getDerivedStateFromProps,(me=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==Te||ge!==ne)&&L8(o,_,d,ne),Hs=!1,ge=o.memoizedState,_.state=ge,i0(o,d,_,y),r0();var we=o.memoizedState;M!==Te||ge!==we||Hs||a!==null&&a.dependencies!==null&&wf(a.dependencies)?(typeof F=="function"&&(Kp(o,u,F,d),we=o.memoizedState),(xe=Hs||z8(o,u,xe,d,ge,we,ne)||a!==null&&a.dependencies!==null&&wf(a.dependencies))?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,we,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,we,ne)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||M===a.memoizedProps&&ge===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ge===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),_.props=d,_.state=we,_.context=ne,d=xe):(typeof _.componentDidUpdate!="function"||M===a.memoizedProps&&ge===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ge===a.memoizedState||(o.flags|=1024),d=!1)}return _=d,Bf(a,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&d?(o.child=ml(o,a.child,null,y),o.child=ml(o,null,u,y)):er(a,o,u,y),o.memoizedState=_.state,a=o.child):a=$a(a,o,y),a}function Z8(a,o,u,d){return ll(),o.flags|=256,er(a,o,u,d),o.child}var eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tg(a){return{baseLanes:a,cachePool:Bb()}}function ng(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=$r),a}function W8(a,o,u){var d=o.pendingProps,y=!1,_=(o.flags&128)!==0,M;if((M=_)||(M=a!==null&&a.memoizedState===null?!1:(xn.current&2)!==0),M&&(y=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,a===null){if(St){if(y?$s(o):Ys(),(a=Zt)?(a=s9(a,yi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ps!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},u=Mb(a),u.return=o,o.child=u,Wn=o,Zt=null)):a=null,a===null)throw js(o);return qg(a)?o.lanes=32:o.lanes=536870912,null}var F=d.children;return d=d.fallback,y?(Ys(),y=o.mode,F=jf({mode:"hidden",children:F},y),d=ol(d,y,u,null),F.return=o,d.return=o,F.sibling=d,o.child=F,d=o.child,d.memoizedState=tg(u),d.childLanes=ng(a,M,u),o.memoizedState=eg,u0(null,d)):($s(o),rg(o,F))}var ne=a.memoizedState;if(ne!==null&&(F=ne.dehydrated,F!==null)){if(_)o.flags&256?($s(o),o.flags&=-257,o=ig(a,o,u)):o.memoizedState!==null?(Ys(),o.child=a.child,o.flags|=128,o=null):(Ys(),F=d.fallback,y=o.mode,d=jf({mode:"visible",children:d.children},y),F=ol(F,y,u,null),F.flags|=2,d.return=o,F.return=o,d.sibling=F,o.child=d,ml(o,a.child,null,u),d=o.child,d.memoizedState=tg(u),d.childLanes=ng(a,M,u),o.memoizedState=eg,o=u0(null,d));else if($s(o),qg(F)){if(M=F.nextSibling&&F.nextSibling.dataset,M)var me=M.dgst;M=me,d=Error(r(419)),d.stack="",d.digest=M,Zc({value:d,source:null,stack:null}),o=ig(a,o,u)}else if(Mn||yu(a,o,u,!1),M=(u&a.childLanes)!==0,Mn||M){if(M=$t,M!==null&&(d=Fo(M,u),d!==0&&d!==ne.retryLane))throw ne.retryLane=d,sl(a,d),Ir(M,a,d),Wp;Vg(F)||Qf(),o=ig(a,o,u)}else Vg(F)?(o.flags|=192,o.child=a.child,o=null):(a=ne.treeContext,Zt=bi(F.nextSibling),Wn=o,St=!0,Bs=null,yi=!1,a!==null&&Ob(o,a),o=rg(o,d.children),o.flags|=4096);return o}return y?(Ys(),F=d.fallback,y=o.mode,ne=a.child,me=ne.sibling,d=Ba(ne,{mode:"hidden",children:d.children}),d.subtreeFlags=ne.subtreeFlags&65011712,me!==null?F=Ba(me,F):(F=ol(F,y,u,null),F.flags|=2),F.return=o,d.return=o,d.sibling=F,o.child=d,u0(null,d),d=o.child,F=a.child.memoizedState,F===null?F=tg(u):(y=F.cachePool,y!==null?(ne=In._currentValue,y=y.parent!==ne?{parent:ne,pool:ne}:y):y=Bb(),F={baseLanes:F.baseLanes|u,cachePool:y}),d.memoizedState=F,d.childLanes=ng(a,M,u),o.memoizedState=eg,u0(a.child,d)):($s(o),u=a.child,a=u.sibling,u=Ba(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(M=o.deletions,M===null?(o.deletions=[a],o.flags|=16):M.push(a)),o.child=u,o.memoizedState=null,u)}function rg(a,o){return o=jf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function jf(a,o){return a=Ur(22,a,null,o),a.lanes=0,a}function ig(a,o,u){return ml(o,a.child,null,u),a=rg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function J8(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),_p(a.return,o,u)}function ag(a,o,u,d,y,_){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:_}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=d,M.tail=u,M.tailMode=y,M.treeForkCount=_)}function ew(a,o,u){var d=o.pendingProps,y=d.revealOrder,_=d.tail;d=d.children;var M=xn.current,F=(M&2)!==0;if(F?(M=M&1|2,o.flags|=128):M&=1,ve(xn,M),er(a,o,d,u),d=St?Qc:0,!F&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&J8(a,u,o);else if(a.tag===19)J8(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&If(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),ag(o,!1,y,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&If(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}ag(o,!0,u,null,_,d);break;case"together":ag(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function $a(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Qs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(yu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ba(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ba(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function sg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&wf(a)))}function xV(a,o,u){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Us(o,In,a.memoizedState.cache),ll();break;case 27:case 5:Le(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Us(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Mp(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?($s(o),o.flags|=128,null):(u&o.child.childLanes)!==0?W8(a,o,u):($s(o),a=$a(a,o,u),a!==null?a.sibling:null);$s(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(yu(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return ew(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ve(xn,xn.current),d)break;return null;case 22:return o.lanes=0,$8(a,o,u,o.pendingProps);case 24:Us(o,In,a.memoizedState.cache)}return $a(a,o,u)}function tw(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Mn=!0;else{if(!sg(a,u)&&(o.flags&128)===0)return Mn=!1,xV(a,o,u);Mn=(a.flags&131072)!==0}else Mn=!1,St&&(o.flags&1048576)!==0&&Db(o,Qc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=fl(o.elementType),o.type=a,typeof a=="function")hp(a)?(d=gl(a,d),o.tag=1,o=Q8(null,o,a,d,u)):(o.tag=0,o=Jp(null,o,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===z){o.tag=11,o=H8(null,o,a,d,u);break e}else if(y===R){o.tag=14,o=F8(null,o,a,d,u);break e}}throw o=K(a)||a,Error(r(306,o,""))}}return o;case 0:return Jp(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=gl(d,o.pendingProps),Q8(a,o,d,y,u);case 3:e:{if(be(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;y=_.element,Ap(a,o),i0(o,d,null,u);var M=o.memoizedState;if(d=M.cache,Us(o,In,d),d!==_.cache&&bp(o,[In],u,!0),r0(),d=M.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Z8(a,o,d,u);break e}else if(d!==y){y=pi(Error(r(424)),o),Zc(y),o=Z8(a,o,d,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Zt=bi(a.firstChild),Wn=o,St=!0,Bs=null,yi=!0,u=$b(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ll(),d===y){o=$a(a,o,u);break e}er(a,o,d,u)}o=o.child}return o;case 26:return Bf(a,o),a===null?(u=f9(o.type,null,o.pendingProps,null))?o.memoizedState=u:St||(u=o.type,a=o.pendingProps,d=rd(ce.current).createElement(u),d[pn]=o,d[Cn]=a,tr(d,u,a),gn(d),o.stateNode=d):o.memoizedState=f9(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Le(o),a===null&&St&&(d=o.stateNode=u9(o.type,o.pendingProps,ce.current),Wn=o,yi=!0,y=Zt,to(o.type)?(Pg=y,Zt=bi(d.firstChild)):Zt=y),er(a,o,o.pendingProps.children,u),Bf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&St&&((y=d=Zt)&&(d=WV(d,o.type,o.pendingProps,yi),d!==null?(o.stateNode=d,Wn=o,Zt=bi(d.firstChild),yi=!1,y=!0):y=!1),y||js(o)),Le(o),y=o.type,_=o.pendingProps,M=a!==null?a.memoizedProps:null,d=_.children,Og(y,_)?d=null:M!==null&&Og(y,M)&&(o.flags|=32),o.memoizedState!==null&&(y=Dp(a,o,dV,null,null,u),E0._currentValue=y),Bf(a,o),er(a,o,d,u),o.child;case 6:return a===null&&St&&((a=u=Zt)&&(u=JV(u,o.pendingProps,yi),u!==null?(o.stateNode=u,Wn=o,Zt=null,a=!0):a=!1),a||js(o)),null;case 13:return W8(a,o,u);case 4:return be(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=ml(o,null,d,u):er(a,o,d,u),o.child;case 11:return H8(a,o,o.type,o.pendingProps,u);case 7:return er(a,o,o.pendingProps,u),o.child;case 8:return er(a,o,o.pendingProps.children,u),o.child;case 12:return er(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Us(o,o.type,d.value),er(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,cl(o),y=Jn(y),d=d(y),o.flags|=1,er(a,o,d,u),o.child;case 14:return F8(a,o,o.type,o.pendingProps,u);case 15:return G8(a,o,o.type,o.pendingProps,u);case 19:return ew(a,o,u);case 31:return wV(a,o,u);case 22:return $8(a,o,u,o.pendingProps);case 24:return cl(o),d=Jn(In),a===null?(y=Sp(),y===null&&(y=$t,_=wp(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),o.memoizedState={parent:d,cache:y},Tp(o),Us(o,In,y)):((a.lanes&u)!==0&&(Ap(a,o),i0(o,null,null,u),r0()),y=a.memoizedState,_=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Us(o,In,d)):(d=_.cache,Us(o,In,d),d!==y.cache&&bp(o,[In],u,!0))),er(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ya(a){a.flags|=4}function og(a,o,u,d,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(Rw())a.flags|=8192;else throw dl=Tf,Ep}else a.flags&=-16777217}function nw(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!v9(o))if(Rw())a.flags|=8192;else throw dl=Tf,Ep}function Uf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ql():536870912,a.lanes|=o,Nu|=o)}function c0(a,o){if(!St)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Wt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function SV(a,o,u){var d=o.pendingProps;switch(pp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ha(In),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(vu(o)?Ya(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vp())),Wt(o),null;case 26:var y=o.type,_=o.memoizedState;return a===null?(Ya(o),_!==null?(Wt(o),nw(o,_)):(Wt(o),og(o,y,null,d,u))):_?_!==a.memoizedState?(Ya(o),Wt(o),nw(o,_)):(Wt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Ya(o),Wt(o),og(o,y,a,d,u)),null;case 27:if(He(o),u=ce.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Ya(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}a=Q.current,vu(o)?zb(o):(a=u9(y,d,u),o.stateNode=a,Ya(o))}return Wt(o),null;case 5:if(He(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Ya(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(_=Q.current,vu(o))zb(o);else{var M=rd(ce.current);switch(_){case 1:_=M.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=M.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=M.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=M.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=M.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?M.createElement("select",{is:d.is}):M.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?M.createElement(y,{is:d.is}):M.createElement(y)}}_[pn]=o,_[Cn]=d;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)_.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=_;e:switch(tr(_,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ya(o)}}return Wt(o),og(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Ya(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=ce.current,vu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=Wn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[pn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||Ww(a.nodeValue,u)),a||js(o,!0)}else a=rd(a).createTextNode(d),a[pn]=o,o.stateNode=a}return Wt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=vu(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[pn]=o}else ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),a=!1}else u=vp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Fr(o),o):(Fr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Wt(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=vu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[pn]=o}else ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),y=!1}else y=vp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Fr(o),o):(Fr(o),null)}return Fr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Uf(o,o.updateQueue),Wt(o),null);case 4:return Ce(),a===null&&Ig(o.stateNode.containerInfo),Wt(o),null;case 10:return Ha(o.type),Wt(o),null;case 19:if(te(xn),d=o.memoizedState,d===null)return Wt(o),null;if(y=(o.flags&128)!==0,_=d.rendering,_===null)if(y)c0(d,!1);else{if(_n!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=If(a),_!==null){for(o.flags|=128,c0(d,!1),a=_.updateQueue,o.updateQueue=a,Uf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)Nb(u,a),u=u.sibling;return ve(xn,xn.current&1|2),St&&ja(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&en()>Yf&&(o.flags|=128,y=!0,c0(d,!1),o.lanes=4194304)}else{if(!y)if(a=If(_),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Uf(o,a),c0(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!St)return Wt(o),null}else 2*en()-d.renderingStartTime>Yf&&u!==536870912&&(o.flags|=128,y=!0,c0(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(a=d.last,a!==null?a.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=en(),a.sibling=null,u=xn.current,ve(xn,y?u&1|2:u&1),St&&ja(o,d.treeForkCount),a):(Wt(o),null);case 22:case 23:return Fr(o),Np(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),u=o.updateQueue,u!==null&&Uf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&te(hl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ha(In),Wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function EV(a,o){switch(pp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ha(In),Ce(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(Fr(o),o.alternate===null)throw Error(r(340));ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Fr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return te(xn),null;case 4:return Ce(),null;case 10:return Ha(o.type),null;case 22:case 23:return Fr(o),Np(),a!==null&&te(hl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ha(In),null;case 25:return null;default:return null}}function rw(a,o){switch(pp(o),o.tag){case 3:Ha(In),Ce();break;case 26:case 27:case 5:He(o);break;case 4:Ce();break;case 31:o.memoizedState!==null&&Fr(o);break;case 13:Fr(o);break;case 19:te(xn);break;case 10:Ha(o.type);break;case 22:case 23:Fr(o),Np(),a!==null&&te(hl);break;case 24:Ha(In)}}function h0(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var _=u.create,M=u.inst;d=_(),M.destroy=d}u=u.next}while(u!==y)}}catch(F){Vt(o,o.return,F)}}function Xs(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&a)===a){var M=d.inst,F=M.destroy;if(F!==void 0){M.destroy=void 0,y=o;var ne=u,me=F;try{me()}catch(xe){Vt(y,ne,xe)}}}d=d.next}while(d!==_)}}catch(xe){Vt(o,o.return,xe)}}function iw(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Xb(o,u)}catch(d){Vt(a,a.return,d)}}}function aw(a,o,u){u.props=gl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Vt(a,o,d)}}function f0(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Vt(a,o,y)}}function oa(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Vt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Vt(a,o,y)}else u.current=null}function sw(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Vt(a,a.return,y)}}function lg(a,o,u){try{var d=a.stateNode;$V(d,a.type,u,o),d[Cn]=o}catch(y){Vt(a,a.return,y)}}function ow(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&to(a.type)||a.tag===4}function ug(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ow(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&to(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cg(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ni));else if(d!==4&&(d===27&&to(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(cg(a,o,u),a=a.sibling;a!==null;)cg(a,o,u),a=a.sibling}function Hf(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&to(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Hf(a,o,u),a=a.sibling;a!==null;)Hf(a,o,u),a=a.sibling}function lw(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);tr(o,d,u),o[pn]=a,o[Cn]=u}catch(_){Vt(a,a.return,_)}}var Xa=!1,kn=!1,hg=!1,uw=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function TV(a,o){if(a=a.containerInfo,kg=cd,a=wb(a),ip(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var M=0,F=-1,ne=-1,me=0,xe=0,Te=a,ge=null;t:for(;;){for(var we;Te!==u||y!==0&&Te.nodeType!==3||(F=M+y),Te!==_||d!==0&&Te.nodeType!==3||(ne=M+d),Te.nodeType===3&&(M+=Te.nodeValue.length),(we=Te.firstChild)!==null;)ge=Te,Te=we;for(;;){if(Te===a)break t;if(ge===u&&++me===y&&(F=M),ge===_&&++xe===d&&(ne=M),(we=Te.nextSibling)!==null)break;Te=ge,ge=Te.parentNode}Te=we}u=F===-1||ne===-1?null:{start:F,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dg={focusedElem:a,selectionRange:u},cd=!1,Yn=o;Yn!==null;)if(o=Yn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Yn=a;else for(;Yn!==null;){switch(o=Yn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,y=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var je=gl(u.type,y);a=d.getSnapshotBeforeUpdate(je,_),d.__reactInternalSnapshotBeforeUpdate=a}catch(Je){Vt(u,u.return,Je)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Lg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Lg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Yn=a;break}Yn=o.return}}function cw(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(a,u),d&4&&h0(5,u);break;case 1:if(Qa(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(M){Vt(u,u.return,M)}else{var y=gl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(M){Vt(u,u.return,M)}}d&64&&iw(u),d&512&&f0(u,u.return);break;case 3:if(Qa(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Xb(a,o)}catch(M){Vt(u,u.return,M)}}break;case 27:o===null&&d&4&&lw(u);case 26:case 5:Qa(a,u),o===null&&d&4&&sw(u),d&512&&f0(u,u.return);break;case 12:Qa(a,u);break;case 31:Qa(a,u),d&4&&dw(a,u);break;case 13:Qa(a,u),d&4&&mw(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=OV.bind(null,u),eq(a,u))));break;case 22:if(d=u.memoizedState!==null||Xa,!d){o=o!==null&&o.memoizedState!==null||kn,y=Xa;var _=kn;Xa=d,(kn=o)&&!_?Za(a,u,(u.subtreeFlags&8772)!==0):Qa(a,u),Xa=y,kn=_}break;case 30:break;default:Qa(a,u)}}function hw(a){var o=a.alternate;o!==null&&(a.alternate=null,hw(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Is(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var nn=null,Tr=!1;function Ka(a,o,u){for(u=u.child;u!==null;)fw(a,o,u),u=u.sibling}function fw(a,o,u){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(dn,u)}catch{}switch(u.tag){case 26:kn||oa(u,o),Ka(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kn||oa(u,o);var d=nn,y=Tr;to(u.type)&&(nn=u.stateNode,Tr=!1),Ka(a,o,u),w0(u.stateNode),nn=d,Tr=y;break;case 5:kn||oa(u,o);case 6:if(d=nn,y=Tr,nn=null,Ka(a,o,u),nn=d,Tr=y,nn!==null)if(Tr)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(u.stateNode)}catch(_){Vt(u,o,_)}else try{nn.removeChild(u.stateNode)}catch(_){Vt(u,o,_)}break;case 18:nn!==null&&(Tr?(a=nn,i9(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),qu(a)):i9(nn,u.stateNode));break;case 4:d=nn,y=Tr,nn=u.stateNode.containerInfo,Tr=!0,Ka(a,o,u),nn=d,Tr=y;break;case 0:case 11:case 14:case 15:Xs(2,u,o),kn||Xs(4,u,o),Ka(a,o,u);break;case 1:kn||(oa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&aw(u,o,d)),Ka(a,o,u);break;case 21:Ka(a,o,u);break;case 22:kn=(d=kn)||u.memoizedState!==null,Ka(a,o,u),kn=d;break;default:Ka(a,o,u)}}function dw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{qu(a)}catch(u){Vt(o,o.return,u)}}}function mw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{qu(a)}catch(u){Vt(o,o.return,u)}}function AV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new uw),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new uw),o;default:throw Error(r(435,a.tag))}}function Ff(a,o){var u=AV(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=zV.bind(null,a,d);d.then(y,y)}})}function Ar(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],_=a,M=o,F=M;e:for(;F!==null;){switch(F.tag){case 27:if(to(F.type)){nn=F.stateNode,Tr=!1;break e}break;case 5:nn=F.stateNode,Tr=!1;break e;case 3:case 4:nn=F.stateNode.containerInfo,Tr=!0;break e}F=F.return}if(nn===null)throw Error(r(160));fw(_,M,y),nn=null,Tr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)pw(o,a),o=o.sibling}var Li=null;function pw(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ar(o,a),Cr(a),d&4&&(Xs(3,a,a.return),h0(3,a),Xs(5,a,a.return));break;case 1:Ar(o,a),Cr(a),d&512&&(kn||u===null||oa(u,u.return)),d&64&&Xa&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Li;if(Ar(o,a),Cr(a),d&512&&(kn||u===null||oa(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[si]||_[pn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),tr(_,d,u),_[pn]=a,gn(_),d=_;break e;case"link":var M=p9("link","href",y).get(d+(u.href||""));if(M){for(var F=0;F<M.length;F++)if(_=M[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(F,1);break t}}_=y.createElement(d),tr(_,d,u),y.head.appendChild(_);break;case"meta":if(M=p9("meta","content",y).get(d+(u.content||""))){for(F=0;F<M.length;F++)if(_=M[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(F,1);break t}}_=y.createElement(d),tr(_,d,u),y.head.appendChild(_);break;default:throw Error(r(468,d))}_[pn]=a,gn(_),d=_}a.stateNode=d}else g9(y,a.type,a.stateNode);else a.stateNode=m9(y,d,a.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?g9(y,a.type,a.stateNode):m9(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&lg(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ar(o,a),Cr(a),d&512&&(kn||u===null||oa(u,u.return)),u!==null&&d&4&&lg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ar(o,a),Cr(a),d&512&&(kn||u===null||oa(u,u.return)),a.flags&32){y=a.stateNode;try{Er(y,"")}catch(je){Vt(a,a.return,je)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,lg(a,y,u!==null?u.memoizedProps:y)),d&1024&&(hg=!0);break;case 6:if(Ar(o,a),Cr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(je){Vt(a,a.return,je)}}break;case 3:if(sd=null,y=Li,Li=id(o.containerInfo),Ar(o,a),Li=y,Cr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{qu(o.containerInfo)}catch(je){Vt(a,a.return,je)}hg&&(hg=!1,gw(a));break;case 4:d=Li,Li=id(a.stateNode.containerInfo),Ar(o,a),Cr(a),Li=d;break;case 12:Ar(o,a),Cr(a);break;case 31:Ar(o,a),Cr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ff(a,d)));break;case 13:Ar(o,a),Cr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&($f=en()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ff(a,d)));break;case 22:y=a.memoizedState!==null;var ne=u!==null&&u.memoizedState!==null,me=Xa,xe=kn;if(Xa=me||y,kn=xe||ne,Ar(o,a),kn=xe,Xa=me,Cr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||ne||Xa||kn||vl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){ne=u=o;try{if(_=ne.stateNode,y)M=_.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{F=ne.stateNode;var Te=ne.memoizedProps.style,ge=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(je){Vt(ne,ne.return,je)}}}else if(o.tag===6){if(u===null){ne=o;try{ne.stateNode.nodeValue=y?"":ne.memoizedProps}catch(je){Vt(ne,ne.return,je)}}}else if(o.tag===18){if(u===null){ne=o;try{var we=ne.stateNode;y?a9(we,!0):a9(ne.stateNode,!1)}catch(je){Vt(ne,ne.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Ff(a,u))));break;case 19:Ar(o,a),Cr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ff(a,d)));break;case 30:break;case 21:break;default:Ar(o,a),Cr(a)}}function Cr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(ow(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,_=ug(a);Hf(a,_,y);break;case 5:var M=u.stateNode;u.flags&32&&(Er(M,""),u.flags&=-33);var F=ug(a);Hf(a,F,M);break;case 3:case 4:var ne=u.stateNode.containerInfo,me=ug(a);cg(a,me,ne);break;default:throw Error(r(161))}}catch(xe){Vt(a,a.return,xe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function gw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;gw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Qa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)cw(a,o.alternate,o),o=o.sibling}function vl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Xs(4,o,o.return),vl(o);break;case 1:oa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&aw(o,o.return,u),vl(o);break;case 27:w0(o.stateNode);case 26:case 5:oa(o,o.return),vl(o);break;case 22:o.memoizedState===null&&vl(o);break;case 30:vl(o);break;default:vl(o)}a=a.sibling}}function Za(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,_=o,M=_.flags;switch(_.tag){case 0:case 11:case 15:Za(y,_,u),h0(4,_);break;case 1:if(Za(y,_,u),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(me){Vt(d,d.return,me)}if(d=_,y=d.updateQueue,y!==null){var F=d.stateNode;try{var ne=y.shared.hiddenCallbacks;if(ne!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ne.length;y++)Yb(ne[y],F)}catch(me){Vt(d,d.return,me)}}u&&M&64&&iw(_),f0(_,_.return);break;case 27:lw(_);case 26:case 5:Za(y,_,u),u&&d===null&&M&4&&sw(_),f0(_,_.return);break;case 12:Za(y,_,u);break;case 31:Za(y,_,u),u&&M&4&&dw(y,_);break;case 13:Za(y,_,u),u&&M&4&&mw(y,_);break;case 22:_.memoizedState===null&&Za(y,_,u),f0(_,_.return);break;case 30:break;default:Za(y,_,u)}o=o.sibling}}function fg(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Wc(u))}function dg(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Wc(a))}function Vi(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vw(a,o,u,d),o=o.sibling}function vw(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(a,o,u,d),y&2048&&h0(9,o);break;case 1:Vi(a,o,u,d);break;case 3:Vi(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Wc(a)));break;case 12:if(y&2048){Vi(a,o,u,d),a=o.stateNode;try{var _=o.memoizedProps,M=_.id,F=_.onPostCommit;typeof F=="function"&&F(M,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){Vt(o,o.return,ne)}}else Vi(a,o,u,d);break;case 31:Vi(a,o,u,d);break;case 13:Vi(a,o,u,d);break;case 23:break;case 22:_=o.stateNode,M=o.alternate,o.memoizedState!==null?_._visibility&2?Vi(a,o,u,d):d0(a,o):_._visibility&2?Vi(a,o,u,d):(_._visibility|=2,Cu(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&fg(M,o);break;case 24:Vi(a,o,u,d),y&2048&&dg(o.alternate,o);break;default:Vi(a,o,u,d)}}function Cu(a,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,M=o,F=u,ne=d,me=M.flags;switch(M.tag){case 0:case 11:case 15:Cu(_,M,F,ne,y),h0(8,M);break;case 23:break;case 22:var xe=M.stateNode;M.memoizedState!==null?xe._visibility&2?Cu(_,M,F,ne,y):d0(_,M):(xe._visibility|=2,Cu(_,M,F,ne,y)),y&&me&2048&&fg(M.alternate,M);break;case 24:Cu(_,M,F,ne,y),y&&me&2048&&dg(M.alternate,M);break;default:Cu(_,M,F,ne,y)}o=o.sibling}}function d0(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:d0(u,d),y&2048&&fg(d.alternate,d);break;case 24:d0(u,d),y&2048&&dg(d.alternate,d);break;default:d0(u,d)}o=o.sibling}}var m0=8192;function Ru(a,o,u){if(a.subtreeFlags&m0)for(a=a.child;a!==null;)yw(a,o,u),a=a.sibling}function yw(a,o,u){switch(a.tag){case 26:Ru(a,o,u),a.flags&m0&&a.memoizedState!==null&&fq(u,Li,a.memoizedState,a.memoizedProps);break;case 5:Ru(a,o,u);break;case 3:case 4:var d=Li;Li=id(a.stateNode.containerInfo),Ru(a,o,u),Li=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=m0,m0=16777216,Ru(a,o,u),m0=d):Ru(a,o,u));break;default:Ru(a,o,u)}}function _w(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function p0(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Yn=d,ww(d,a)}_w(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bw(a),a=a.sibling}function bw(a){switch(a.tag){case 0:case 11:case 15:p0(a),a.flags&2048&&Xs(9,a,a.return);break;case 3:p0(a);break;case 12:p0(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Gf(a)):p0(a);break;default:p0(a)}}function Gf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Yn=d,ww(d,a)}_w(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Xs(8,o,o.return),Gf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Gf(o));break;default:Gf(o)}a=a.sibling}}function ww(a,o){for(;Yn!==null;){var u=Yn;switch(u.tag){case 0:case 11:case 15:Xs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Wc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Yn=d;else e:for(u=a;Yn!==null;){d=Yn;var y=d.sibling,_=d.return;if(hw(d),d===u){Yn=null;break e}if(y!==null){y.return=_,Yn=y;break e}Yn=_}}}var CV={getCacheForType:function(a){var o=Jn(In),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Jn(In).controller.signal}},RV=typeof WeakMap=="function"?WeakMap:Map,Ot=0,$t=null,gt=null,yt=0,Lt=0,Gr=null,Ks=!1,Iu=!1,mg=!1,Wa=0,_n=0,Qs=0,yl=0,pg=0,$r=0,Nu=0,g0=null,Rr=null,gg=!1,$f=0,xw=0,Yf=1/0,Xf=null,Zs=null,jn=0,Ws=null,Mu=null,Ja=0,vg=0,yg=null,Sw=null,v0=0,_g=null;function Yr(){return(Ot&2)!==0&&yt!==0?yt&-yt:$.T!==null?Tg():Zl()}function Ew(){if($r===0)if((yt&536870912)===0||St){var a=Na;Na<<=1,(Na&3932160)===0&&(Na=262144),$r=a}else $r=536870912;return a=Hr.current,a!==null&&(a.flags|=32),$r}function Ir(a,o,u){(a===$t&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)&&(ku(a,0),Js(a,yt,$r,!1)),Ma(a,u),((Ot&2)===0||a!==$t)&&(a===$t&&((Ot&2)===0&&(yl|=u),_n===4&&Js(a,yt,$r,!1)),la(a))}function Tw(a,o,u){if((Ot&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Lr(a,o),y=d?MV(a,o):wg(a,o,!0),_=d;do{if(y===0){Iu&&!d&&Js(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!IV(u)){y=wg(a,o,!1),_=!1;continue}if(y===2){if(_=o,a.errorRecoveryDisabledLanes&_)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var F=a;y=g0;var ne=F.current.memoizedState.isDehydrated;if(ne&&(ku(F,M).flags|=256),M=wg(F,M,!1),M!==2){if(mg&&!ne){F.errorRecoveryDisabledLanes|=_,yl|=_,y=4;break e}_=Rr,Rr=y,_!==null&&(Rr===null?Rr=_:Rr.push.apply(Rr,_))}y=M}if(_=!1,y!==2)continue}}if(y===1){ku(a,0),Js(a,o,0,!0);break}e:{switch(d=a,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Js(d,o,$r,!Ks);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=$f+300-en(),10<y)){if(Js(d,o,$r,!Ks),ii(d,0,!0)!==0)break e;Ja=o,d.timeoutHandle=n9(Aw.bind(null,d,u,Rr,Xf,gg,o,$r,yl,Nu,Ks,_,"Throttled",-0,0),y);break e}Aw(d,u,Rr,Xf,gg,o,$r,yl,Nu,Ks,_,null,-0,0)}}break}while(!0);la(a)}function Aw(a,o,u,d,y,_,M,F,ne,me,xe,Te,ge,we){if(a.timeoutHandle=-1,Te=o.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},yw(o,_,Te);var je=(_&62914560)===_?$f-en():(_&4194048)===_?xw-en():0;if(je=dq(Te,je),je!==null){Ja=_,a.cancelPendingCommit=je(Ow.bind(null,a,o,_,u,d,y,M,F,ne,xe,Te,null,ge,we)),Js(a,_,M,!me);return}}Ow(a,o,_,u,d,y,M,F,ne)}function IV(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],_=y.getSnapshot;y=y.value;try{if(!jr(_(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Js(a,o,u,d){o&=~pg,o&=~yl,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var _=31-ln(y),M=1<<_;d[_]=-1,y&=~M}u!==0&&ka(a,u,o)}function Kf(){return(Ot&6)===0?(y0(0),!1):!0}function bg(){if(gt!==null){if(Lt===0)var a=gt.return;else a=gt,Ua=ul=null,Lp(a),xu=null,e0=0,a=gt;for(;a!==null;)rw(a.alternate,a),a=a.return;gt=null}}function ku(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,KV(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ja=0,bg(),$t=a,gt=u=Ba(a.current,null),yt=o,Lt=0,Gr=null,Ks=!1,Iu=Lr(a,o),mg=!1,Nu=$r=pg=yl=Qs=_n=0,Rr=g0=null,gg=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-ln(d),_=1<<y;o|=a[y],d&=~_}return Wa=o,gf(),u}function Cw(a,o){ct=null,$.H=l0,o===wu||o===Ef?(o=Hb(),Lt=3):o===Ep?(o=Hb(),Lt=4):Lt=o===Wp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gr=o,gt===null&&(_n=1,qf(a,pi(o,a.current)))}function Rw(){var a=Hr.current;return a===null?!0:(yt&4194048)===yt?_i===null:(yt&62914560)===yt||(yt&536870912)!==0?a===_i:!1}function Iw(){var a=$.H;return $.H=l0,a===null?l0:a}function Nw(){var a=$.A;return $.A=CV,a}function Qf(){_n=4,Ks||(yt&4194048)!==yt&&Hr.current!==null||(Iu=!0),(Qs&134217727)===0&&(yl&134217727)===0||$t===null||Js($t,yt,$r,!1)}function wg(a,o,u){var d=Ot;Ot|=2;var y=Iw(),_=Nw();($t!==a||yt!==o)&&(Xf=null,ku(a,o)),o=!1;var M=_n;e:do try{if(Lt!==0&&gt!==null){var F=gt,ne=Gr;switch(Lt){case 8:bg(),M=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(o=!0);var me=Lt;if(Lt=0,Gr=null,Du(a,F,ne,me),u&&Iu){M=0;break e}break;default:me=Lt,Lt=0,Gr=null,Du(a,F,ne,me)}}NV(),M=_n;break}catch(xe){Cw(a,xe)}while(!0);return o&&a.shellSuspendCounter++,Ua=ul=null,Ot=d,$.H=y,$.A=_,gt===null&&($t=null,yt=0,gf()),M}function NV(){for(;gt!==null;)Mw(gt)}function MV(a,o){var u=Ot;Ot|=2;var d=Iw(),y=Nw();$t!==a||yt!==o?(Xf=null,Yf=en()+500,ku(a,o)):Iu=Lr(a,o);e:do try{if(Lt!==0&&gt!==null){o=gt;var _=Gr;t:switch(Lt){case 1:Lt=0,Gr=null,Du(a,o,_,1);break;case 2:case 9:if(jb(_)){Lt=0,Gr=null,kw(o);break}o=function(){Lt!==2&&Lt!==9||$t!==a||(Lt=7),la(a)},_.then(o,o);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:jb(_)?(Lt=0,Gr=null,kw(o)):(Lt=0,Gr=null,Du(a,o,_,7));break;case 5:var M=null;switch(gt.tag){case 26:M=gt.memoizedState;case 5:case 27:var F=gt;if(M?v9(M):F.stateNode.complete){Lt=0,Gr=null;var ne=F.sibling;if(ne!==null)gt=ne;else{var me=F.return;me!==null?(gt=me,Zf(me)):gt=null}break t}}Lt=0,Gr=null,Du(a,o,_,5);break;case 6:Lt=0,Gr=null,Du(a,o,_,6);break;case 8:bg(),_n=6;break e;default:throw Error(r(462))}}kV();break}catch(xe){Cw(a,xe)}while(!0);return Ua=ul=null,$.H=d,$.A=y,Ot=u,gt!==null?0:($t=null,yt=0,gf(),_n)}function kV(){for(;gt!==null&&!Gn();)Mw(gt)}function Mw(a){var o=tw(a.alternate,a,Wa);a.memoizedProps=a.pendingProps,o===null?Zf(a):gt=o}function kw(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=K8(u,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=K8(u,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Lp(o);default:rw(u,o),o=gt=Nb(o,Wa),o=tw(u,o,Wa)}a.memoizedProps=a.pendingProps,o===null?Zf(a):gt=o}function Du(a,o,u,d){Ua=ul=null,Lp(o),xu=null,e0=0;var y=o.return;try{if(bV(a,y,o,u,yt)){_n=1,qf(a,pi(u,a.current)),gt=null;return}}catch(_){if(y!==null)throw gt=y,_;_n=1,qf(a,pi(u,a.current)),gt=null;return}o.flags&32768?(St||d===1?a=!0:Iu||(yt&536870912)!==0?a=!1:(Ks=a=!0,(d===2||d===9||d===3||d===6)&&(d=Hr.current,d!==null&&d.tag===13&&(d.flags|=16384))),Dw(o,a)):Zf(o)}function Zf(a){var o=a;do{if((o.flags&32768)!==0){Dw(o,Ks);return}a=o.return;var u=SV(o.alternate,o,Wa);if(u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=a}while(o!==null);_n===0&&(_n=5)}function Dw(a,o){do{var u=EV(a.alternate,a);if(u!==null){u.flags&=32767,gt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){gt=a;return}gt=a=u}while(a!==null);_n=6,gt=null}function Ow(a,o,u,d,y,_,M,F,ne){a.cancelPendingCommit=null;do Wf();while(jn!==0);if((Ot&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=up,Vc(a,u,_,M,F,ne),a===$t&&(gt=$t=null,yt=0),Mu=o,Ws=a,Ja=u,vg=_,yg=y,Sw=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,LV($n,function(){return Pw(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=Z.p,Z.p=2,M=Ot,Ot|=4;try{TV(a,o,u)}finally{Ot=M,Z.p=y,$.T=d}}jn=1,zw(),Lw(),Vw()}}function zw(){if(jn===1){jn=0;var a=Ws,o=Mu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=Z.p;Z.p=2;var y=Ot;Ot|=4;try{pw(o,a);var _=Dg,M=wb(a.containerInfo),F=_.focusedElem,ne=_.selectionRange;if(M!==F&&F&&F.ownerDocument&&bb(F.ownerDocument.documentElement,F)){if(ne!==null&&ip(F)){var me=ne.start,xe=ne.end;if(xe===void 0&&(xe=me),"selectionStart"in F)F.selectionStart=me,F.selectionEnd=Math.min(xe,F.value.length);else{var Te=F.ownerDocument||document,ge=Te&&Te.defaultView||window;if(ge.getSelection){var we=ge.getSelection(),je=F.textContent.length,Je=Math.min(ne.start,je),Ut=ne.end===void 0?Je:Math.min(ne.end,je);!we.extend&&Je>Ut&&(M=Ut,Ut=Je,Je=M);var ue=_b(F,Je),se=_b(F,Ut);if(ue&&se&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==se.node||we.focusOffset!==se.offset)){var fe=Te.createRange();fe.setStart(ue.node,ue.offset),we.removeAllRanges(),Je>Ut?(we.addRange(fe),we.extend(se.node,se.offset)):(fe.setEnd(se.node,se.offset),we.addRange(fe))}}}}for(Te=[],we=F;we=we.parentNode;)we.nodeType===1&&Te.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Ee=Te[F];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}cd=!!kg,Dg=kg=null}finally{Ot=y,Z.p=d,$.T=u}}a.current=o,jn=2}}function Lw(){if(jn===2){jn=0;var a=Ws,o=Mu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=Z.p;Z.p=2;var y=Ot;Ot|=4;try{cw(a,o.alternate,o)}finally{Ot=y,Z.p=d,$.T=u}}jn=3}}function Vw(){if(jn===4||jn===3){jn=0,Qt();var a=Ws,o=Mu,u=Ja,d=Sw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,Mu=Ws=null,qw(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Zs=null),Ri(u),o=o.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(dn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,y=Z.p,Z.p=2,$.T=null;try{for(var _=a.onRecoverableError,M=0;M<d.length;M++){var F=d[M];_(F.value,{componentStack:F.stack})}}finally{$.T=o,Z.p=y}}(Ja&3)!==0&&Wf(),la(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===_g?v0++:(v0=0,_g=a):v0=0,y0(0)}}function qw(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Wc(o)))}function Wf(){return zw(),Lw(),Vw(),Pw()}function Pw(){if(jn!==5)return!1;var a=Ws,o=vg;vg=0;var u=Ri(Ja),d=$.T,y=Z.p;try{Z.p=32>u?32:u,$.T=null,u=yg,yg=null;var _=Ws,M=Ja;if(jn=0,Mu=Ws=null,Ja=0,(Ot&6)!==0)throw Error(r(331));var F=Ot;if(Ot|=4,bw(_.current),vw(_,_.current,M,u),Ot=F,y0(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(dn,_)}catch{}return!0}finally{Z.p=y,$.T=d,qw(a,o)}}function Bw(a,o,u){o=pi(u,o),o=Zp(a.stateNode,o,2),a=Gs(a,o,2),a!==null&&(Ma(a,2),la(a))}function Vt(a,o,u){if(a.tag===3)Bw(a,a,u);else for(;o!==null;){if(o.tag===3){Bw(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Zs===null||!Zs.has(d))){a=pi(u,a),u=j8(2),d=Gs(o,u,2),d!==null&&(U8(u,d,o,a),Ma(d,2),la(d));break}}o=o.return}}function xg(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new RV;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(mg=!0,y.add(u),a=DV.bind(null,a,o,u),o.then(a,a))}function DV(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,$t===a&&(yt&u)===u&&(_n===4||_n===3&&(yt&62914560)===yt&&300>en()-$f?(Ot&2)===0&&ku(a,0):pg|=u,Nu===yt&&(Nu=0)),la(a)}function jw(a,o){o===0&&(o=Ql()),a=sl(a,o),a!==null&&(Ma(a,o),la(a))}function OV(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),jw(a,u)}function zV(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),jw(a,u)}function LV(a,o){return zt(a,o)}var Jf=null,Ou=null,Sg=!1,ed=!1,Eg=!1,eo=0;function la(a){a!==Ou&&a.next===null&&(Ou===null?Jf=Ou=a:Ou=Ou.next=a),ed=!0,Sg||(Sg=!0,qV())}function y0(a,o){if(!Eg&&ed){Eg=!0;do for(var u=!1,d=Jf;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var M=d.suspendedLanes,F=d.pingedLanes;_=(1<<31-ln(42|a)+1)-1,_&=y&~(M&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,Gw(d,_))}else _=yt,_=ii(d,d===$t?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Lr(d,_)||(u=!0,Gw(d,_));d=d.next}while(u);Eg=!1}}function VV(){Uw()}function Uw(){ed=Sg=!1;var a=0;eo!==0&&XV()&&(a=eo);for(var o=en(),u=null,d=Jf;d!==null;){var y=d.next,_=Hw(d,o);_===0?(d.next=null,u===null?Jf=y:u.next=y,y===null&&(Ou=u)):(u=d,(a!==0||(_&3)!==0)&&(ed=!0)),d=y}jn!==0&&jn!==5||y0(a),eo!==0&&(eo=0)}function Hw(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var M=31-ln(_),F=1<<M,ne=y[M];ne===-1?((F&u)===0||(F&d)!==0)&&(y[M]=Lc(F,o)):ne<=o&&(a.expiredLanes|=F),_&=~F}if(o=$t,u=yt,u=ii(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Bn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Lr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&Bn(d),Ri(u)){case 2:case 8:u=wr;break;case 32:u=$n;break;case 268435456:u=Ci;break;default:u=$n}return d=Fw.bind(null,a),u=zt(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&Bn(d),a.callbackPriority=2,a.callbackNode=null,2}function Fw(a,o){if(jn!==0&&jn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Wf()&&a.callbackNode!==u)return null;var d=yt;return d=ii(a,a===$t?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Tw(a,d,o),Hw(a,en()),a.callbackNode!=null&&a.callbackNode===u?Fw.bind(null,a):null)}function Gw(a,o){if(Wf())return null;Tw(a,o,!0)}function qV(){QV(function(){(Ot&6)!==0?zt(br,VV):Uw()})}function Tg(){if(eo===0){var a=_u;a===0&&(a=ni,ni<<=1,(ni&261888)===0&&(ni=256)),eo=a}return eo}function $w(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:iu(""+a)}function Yw(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function PV(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var _=$w((y[Cn]||null).action),M=d.submitter;M&&(o=(o=M[Cn]||null)?$w(o.formAction):M.getAttribute("formAction"),o!==null&&(_=o,M=null));var F=new ta("action","action",null,d,y);a.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(eo!==0){var ne=M?Yw(y,M):new FormData(y);Gp(u,{pending:!0,data:ne,method:y.method,action:_},null,ne)}}else typeof _=="function"&&(F.preventDefault(),ne=M?Yw(y,M):new FormData(y),Gp(u,{pending:!0,data:ne,method:y.method,action:_},_,ne))},currentTarget:y}]})}}for(var Ag=0;Ag<lp.length;Ag++){var Cg=lp[Ag],BV=Cg.toLowerCase(),jV=Cg[0].toUpperCase()+Cg.slice(1);zi(BV,"on"+jV)}zi(Eb,"onAnimationEnd"),zi(Tb,"onAnimationIteration"),zi(Ab,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(rV,"onTransitionRun"),zi(iV,"onTransitionStart"),zi(aV,"onTransitionCancel"),zi(Cb,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_0));function Xw(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var M=d.length-1;0<=M;M--){var F=d[M],ne=F.instance,me=F.currentTarget;if(F=F.listener,ne!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=me;try{_(y)}catch(xe){pf(xe)}y.currentTarget=null,_=ne}else for(M=0;M<d.length;M++){if(F=d[M],ne=F.instance,me=F.currentTarget,F=F.listener,ne!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=me;try{_(y)}catch(xe){pf(xe)}y.currentTarget=null,_=ne}}}}function vt(a,o){var u=o[Oa];u===void 0&&(u=o[Oa]=new Set);var d=a+"__bubble";u.has(d)||(Kw(o,a,2,!1),u.add(d))}function Rg(a,o,u){var d=0;o&&(d|=4),Kw(u,a,d,o)}var td="_reactListening"+Math.random().toString(36).slice(2);function Ig(a){if(!a[td]){a[td]=!0,Go.forEach(function(u){u!=="selectionchange"&&(UV.has(u)||Rg(u,!1,a),Rg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[td]||(o[td]=!0,Rg("selectionchange",!1,o))}}function Kw(a,o,u,d){switch(E9(o)){case 2:var y=gq;break;case 8:y=vq;break;default:y=Fg}u=y.bind(null,o,u,a),y=void 0,!Wo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function Ng(a,o,u,d,y){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var F=d.stateNode.containerInfo;if(F===y)break;if(M===4)for(M=d.return;M!==null;){var ne=M.tag;if((ne===3||ne===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;F!==null;){if(M=oi(F),M===null)return;if(ne=M.tag,ne===5||ne===6||ne===26||ne===27){d=_=M;continue e}F=F.parentNode}}d=d.return}zs(function(){var me=_,xe=hi(u),Te=[];e:{var ge=Rb.get(a);if(ge!==void 0){var we=ta,je=a;switch(a){case"keypress":if(el(u)===0)break e;case"keydown":case"keyup":we=ff;break;case"focusin":je="focus",we=nl;break;case"focusout":je="blur",we=nl;break;case"beforeblur":case"afterblur":we=nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=T;break;case Eb:case Tb:case Ab:we=af;break;case Cb:we=Y;break;case"scroll":case"scrollend":we=Hc;break;case"wheel":we=ye;break;case"copy":case"cut":case"paste":we=sf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Pa;break;case"toggle":case"beforetoggle":we=ut}var Je=(o&4)!==0,Ut=!Je&&(a==="scroll"||a==="scrollend"),ue=Je?ge!==null?ge+"Capture":null:ge;Je=[];for(var se=me,fe;se!==null;){var Ee=se;if(fe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||fe===null||ue===null||(Ee=Mi(se,ue),Ee!=null&&Je.push(b0(se,Ee,fe))),Ut)break;se=se.return}0<Je.length&&(ge=new we(ge,je,null,u,xe),Te.push({event:ge,listeners:Je}))}}if((o&7)===0){e:{if(ge=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ge&&u!==Bc&&(je=u.relatedTarget||u.fromElement)&&(oi(je)||je[Pr]))break e;if((we||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,we?(je=u.relatedTarget||u.toElement,we=me,je=je?oi(je):null,je!==null&&(Ut=s(je),Je=je.tag,je!==Ut||Je!==5&&Je!==27&&Je!==6)&&(je=null)):(we=null,je=me),we!==je)){if(Je=Fc,Ee="onMouseLeave",ue="onMouseEnter",se="mouse",(a==="pointerout"||a==="pointerover")&&(Je=Pa,Ee="onPointerLeave",ue="onPointerEnter",se="pointer"),Ut=we==null?ge:ar(we),fe=je==null?ge:ar(je),ge=new Je(Ee,se+"leave",we,u,xe),ge.target=Ut,ge.relatedTarget=fe,Ee=null,oi(xe)===me&&(Je=new Je(ue,se+"enter",je,u,xe),Je.target=fe,Je.relatedTarget=Ut,Ee=Je),Ut=Ee,we&&je)t:{for(Je=HV,ue=we,se=je,fe=0,Ee=ue;Ee;Ee=Je(Ee))fe++;Ee=0;for(var Ke=se;Ke;Ke=Je(Ke))Ee++;for(;0<fe-Ee;)ue=Je(ue),fe--;for(;0<Ee-fe;)se=Je(se),Ee--;for(;fe--;){if(ue===se||se!==null&&ue===se.alternate){Je=ue;break t}ue=Je(ue),se=Je(se)}Je=null}else Je=null;we!==null&&Qw(Te,ge,we,Je,!1),je!==null&&Ut!==null&&Qw(Te,Ut,je,Je,!0)}}e:{if(ge=me?ar(me):window,we=ge.nodeName&&ge.nodeName.toLowerCase(),we==="select"||we==="input"&&ge.type==="file")var Nt=db;else if(hb(ge))if(mb)Nt=eV;else{Nt=WL;var Fe=ZL}else we=ge.nodeName,!we||we.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&ru(me.elementType)&&(Nt=db):Nt=JL;if(Nt&&(Nt=Nt(a,me))){fb(Te,Nt,u,xe);break e}Fe&&Fe(a,ge,me),a==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&Qo(ge,"number",ge.value)}switch(Fe=me?ar(me):window,a){case"focusin":(hb(Fe)||Fe.contentEditable==="true")&&(hu=Fe,ap=me,Kc=null);break;case"focusout":Kc=ap=hu=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,xb(Te,u,xe);break;case"selectionchange":if(nV)break;case"keydown":case"keyup":xb(Te,u,xe)}var ht;if(Dt)e:{switch(a){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else cu?rl(a,u)&&(_t="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(_t="onCompositionStart");_t&&(ia&&u.locale!=="ko"&&(cu||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&cu&&(ht=Uc()):(ea=xe,jc="value"in ea?ea.value:ea.textContent,cu=!0)),Fe=nd(me,_t),0<Fe.length&&(_t=new ra(_t,a,null,u,xe),Te.push({event:_t,listeners:Fe}),ht?_t.data=ht:(ht=uu(u),ht!==null&&(_t.data=ht)))),(ht=di?YL(a,u):XL(a,u))&&(_t=nd(me,"onBeforeInput"),0<_t.length&&(Fe=new ra("onBeforeInput","beforeinput",null,u,xe),Te.push({event:Fe,listeners:_t}),Fe.data=ht)),PV(Te,a,me,u,xe)}Xw(Te,o)})}function b0(a,o,u){return{instance:a,listener:o,currentTarget:u}}function nd(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Mi(a,u),y!=null&&d.unshift(b0(a,y,_)),y=Mi(a,o),y!=null&&d.push(b0(a,y,_))),a.tag===3)return d;a=a.return}return[]}function HV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Qw(a,o,u,d,y){for(var _=o._reactName,M=[];u!==null&&u!==d;){var F=u,ne=F.alternate,me=F.stateNode;if(F=F.tag,ne!==null&&ne===d)break;F!==5&&F!==26&&F!==27||me===null||(ne=me,y?(me=Mi(u,_),me!=null&&M.unshift(b0(u,me,ne))):y||(me=Mi(u,_),me!=null&&M.push(b0(u,me,ne)))),u=u.return}M.length!==0&&a.push({event:o,listeners:M})}var FV=/\r\n?/g,GV=/\u0000|\uFFFD/g;function Zw(a){return(typeof a=="string"?a:""+a).replace(FV,`
`).replace(GV,"")}function Ww(a,o){return o=Zw(o),Zw(a)===o}function jt(a,o,u,d,y,_){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Er(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Er(a,""+d);break;case"className":fr(a,"class",d);break;case"tabIndex":fr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(a,u,d);break;case"style":Pc(a,d,_);break;case"data":if(o!=="object"){fr(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=iu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&jt(a,o,"name",y.name,y,null),jt(a,o,"formEncType",y.formEncType,y,null),jt(a,o,"formMethod",y.formMethod,y,null),jt(a,o,"formTarget",y.formTarget,y,null)):(jt(a,o,"encType",y.encType,y,null),jt(a,o,"method",y.method,y,null),jt(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=iu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ni);break;case"onScroll":d!=null&&vt("scroll",a);break;case"onScrollEnd":d!=null&&vt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=iu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":vt("beforetoggle",a),vt("toggle",a),Ms(a,"popover",d);break;case"xlinkActuate":vn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":vn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":vn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":vn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":vn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":vn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":vn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":vn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":vn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ms(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=tf.get(u)||u,Ms(a,u,d))}}function Mg(a,o,u,d,y,_){switch(u){case"style":Pc(a,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?Er(a,d):(typeof d=="number"||typeof d=="bigint")&&Er(a,""+d);break;case"onScroll":d!=null&&vt("scroll",a);break;case"onScrollEnd":d!=null&&vt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),_=a[Cn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Ms(a,u,d)}}}function tr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",a),vt("load",a);var d=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var M=u[_];if(M!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,_,M,u,null)}}y&&jt(a,o,"srcSet",u.srcSet,u,null),d&&jt(a,o,"src",u.src,u,null);return;case"input":vt("invalid",a);var F=_=M=y=null,ne=null,me=null;for(d in u)if(u.hasOwnProperty(d)){var xe=u[d];if(xe!=null)switch(d){case"name":y=xe;break;case"type":M=xe;break;case"checked":ne=xe;break;case"defaultChecked":me=xe;break;case"value":_=xe;break;case"defaultValue":F=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:jt(a,o,d,xe,u,null)}}nu(a,_,F,ne,me,M,y,!1);return;case"select":vt("invalid",a),d=M=_=null;for(y in u)if(u.hasOwnProperty(y)&&(F=u[y],F!=null))switch(y){case"value":_=F;break;case"defaultValue":M=F;break;case"multiple":d=F;default:jt(a,o,y,F,u,null)}o=_,u=M,a.multiple=!!d,o!=null?Ii(a,!!d,o,!1):u!=null&&Ii(a,!!d,u,!0);return;case"textarea":vt("invalid",a),_=y=d=null;for(M in u)if(u.hasOwnProperty(M)&&(F=u[M],F!=null))switch(M){case"value":d=F;break;case"defaultValue":y=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:jt(a,o,M,F,u,null)}ks(a,d,y,_);return;case"option":for(ne in u)u.hasOwnProperty(ne)&&(d=u[ne],d!=null)&&(ne==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":jt(a,o,ne,d,u,null));return;case"dialog":vt("beforetoggle",a),vt("toggle",a),vt("cancel",a),vt("close",a);break;case"iframe":case"object":vt("load",a);break;case"video":case"audio":for(d=0;d<_0.length;d++)vt(_0[d],a);break;case"image":vt("error",a),vt("load",a);break;case"details":vt("toggle",a);break;case"embed":case"source":case"link":vt("error",a),vt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(d=u[me],d!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,me,d,u,null)}return;default:if(ru(o)){for(xe in u)u.hasOwnProperty(xe)&&(d=u[xe],d!==void 0&&Mg(a,o,xe,d,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(d=u[F],d!=null&&jt(a,o,F,d,u,null))}function $V(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,M=null,F=null,ne=null,me=null,xe=null;for(we in u){var Te=u[we];if(u.hasOwnProperty(we)&&Te!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":ne=Te;default:d.hasOwnProperty(we)||jt(a,o,we,null,d,Te)}}for(var ge in d){var we=d[ge];if(Te=u[ge],d.hasOwnProperty(ge)&&(we!=null||Te!=null))switch(ge){case"type":_=we;break;case"name":y=we;break;case"checked":me=we;break;case"defaultChecked":xe=we;break;case"value":M=we;break;case"defaultValue":F=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:we!==Te&&jt(a,o,ge,we,d,Te)}}Wi(a,M,F,ne,me,xe,_,y);return;case"select":we=M=F=ge=null;for(_ in u)if(ne=u[_],u.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":we=ne;default:d.hasOwnProperty(_)||jt(a,o,_,null,d,ne)}for(y in d)if(_=d[y],ne=u[y],d.hasOwnProperty(y)&&(_!=null||ne!=null))switch(y){case"value":ge=_;break;case"defaultValue":F=_;break;case"multiple":M=_;default:_!==ne&&jt(a,o,y,_,d,ne)}o=F,u=M,d=we,ge!=null?Ii(a,!!u,ge,!1):!!d!=!!u&&(o!=null?Ii(a,!!u,o,!0):Ii(a,!!u,u?[]:"",!1));return;case"textarea":we=ge=null;for(F in u)if(y=u[F],u.hasOwnProperty(F)&&y!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:jt(a,o,F,null,d,y)}for(M in d)if(y=d[M],_=u[M],d.hasOwnProperty(M)&&(y!=null||_!=null))switch(M){case"value":ge=y;break;case"defaultValue":we=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&jt(a,o,M,y,d,_)}Jh(a,ge,we);return;case"option":for(var je in u)ge=u[je],u.hasOwnProperty(je)&&ge!=null&&!d.hasOwnProperty(je)&&(je==="selected"?a.selected=!1:jt(a,o,je,null,d,ge));for(ne in d)ge=d[ne],we=u[ne],d.hasOwnProperty(ne)&&ge!==we&&(ge!=null||we!=null)&&(ne==="selected"?a.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":jt(a,o,ne,ge,d,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in u)ge=u[Je],u.hasOwnProperty(Je)&&ge!=null&&!d.hasOwnProperty(Je)&&jt(a,o,Je,null,d,ge);for(me in d)if(ge=d[me],we=u[me],d.hasOwnProperty(me)&&ge!==we&&(ge!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:jt(a,o,me,ge,d,we)}return;default:if(ru(o)){for(var Ut in u)ge=u[Ut],u.hasOwnProperty(Ut)&&ge!==void 0&&!d.hasOwnProperty(Ut)&&Mg(a,o,Ut,void 0,d,ge);for(xe in d)ge=d[xe],we=u[xe],!d.hasOwnProperty(xe)||ge===we||ge===void 0&&we===void 0||Mg(a,o,xe,ge,d,we);return}}for(var ue in u)ge=u[ue],u.hasOwnProperty(ue)&&ge!=null&&!d.hasOwnProperty(ue)&&jt(a,o,ue,null,d,ge);for(Te in d)ge=d[Te],we=u[Te],!d.hasOwnProperty(Te)||ge===we||ge==null&&we==null||jt(a,o,Te,ge,d,we)}function Jw(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],_=y.transferSize,M=y.initiatorType,F=y.duration;if(_&&F&&Jw(M)){for(M=0,F=y.responseEnd,d+=1;d<u.length;d++){var ne=u[d],me=ne.startTime;if(me>F)break;var xe=ne.transferSize,Te=ne.initiatorType;xe&&Jw(Te)&&(ne=ne.responseEnd,M+=xe*(ne<F?1:(F-me)/(ne-me)))}if(--d,o+=8*(_+M)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var kg=null,Dg=null;function rd(a){return a.nodeType===9?a:a.ownerDocument}function e9(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t9(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Og(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var zg=null;function XV(){var a=window.event;return a&&a.type==="popstate"?a===zg?!1:(zg=a,!0):(zg=null,!1)}var n9=typeof setTimeout=="function"?setTimeout:void 0,KV=typeof clearTimeout=="function"?clearTimeout:void 0,r9=typeof Promise=="function"?Promise:void 0,QV=typeof queueMicrotask=="function"?queueMicrotask:typeof r9<"u"?function(a){return r9.resolve(null).then(a).catch(ZV)}:n9;function ZV(a){setTimeout(function(){throw a})}function to(a){return a==="head"}function i9(a,o){var u=o,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),qu(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")w0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,w0(u);for(var _=u.firstChild;_;){var M=_.nextSibling,F=_.nodeName;_[si]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=M}}else u==="body"&&w0(a.ownerDocument.body);u=y}while(u);qu(o)}function a9(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function Lg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lg(u),Is(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function WV(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[si])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=bi(a.nextSibling),a===null)break}return null}function JV(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=bi(a.nextSibling),a===null))return null;return a}function s9(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=bi(a.nextSibling),a===null))return null;return a}function Vg(a){return a.data==="$?"||a.data==="$~"}function qg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function eq(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function bi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Pg=null;function o9(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return bi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function l9(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function u9(a,o,u){switch(o=rd(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function w0(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Is(a)}var wi=new Map,c9=new Set;function id(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var es=Z.d;Z.d={f:tq,r:nq,D:rq,C:iq,L:aq,m:sq,X:lq,S:oq,M:uq};function tq(){var a=es.f(),o=Kf();return a||o}function nq(a){var o=Sr(a);o!==null&&o.tag===5&&o.type==="form"?C8(o):es.r(a)}var zu=typeof document>"u"?null:document;function h9(a,o,u){var d=zu;if(d&&typeof o=="string"&&o){var y=sr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),c9.has(y)||(c9.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),tr(o,"link",a),gn(o),d.head.appendChild(o)))}}function rq(a){es.D(a),h9("dns-prefetch",a,null)}function iq(a,o){es.C(a,o),h9("preconnect",a,o)}function aq(a,o,u){es.L(a,o,u);var d=zu;if(d&&a&&o){var y='link[rel="preload"][as="'+sr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+sr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+sr(u.imageSizes)+'"]')):y+='[href="'+sr(a)+'"]';var _=y;switch(o){case"style":_=Lu(a);break;case"script":_=Vu(a)}wi.has(_)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),wi.set(_,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(x0(_))||o==="script"&&d.querySelector(S0(_))||(o=d.createElement("link"),tr(o,"link",a),gn(o),d.head.appendChild(o)))}}function sq(a,o){es.m(a,o);var u=zu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+sr(d)+'"][href="'+sr(a)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Vu(a)}if(!wi.has(_)&&(a=p({rel:"modulepreload",href:a},o),wi.set(_,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(S0(_)))return}d=u.createElement("link"),tr(d,"link",a),gn(d),u.head.appendChild(d)}}}function oq(a,o,u){es.S(a,o,u);var d=zu;if(d&&a){var y=li(d).hoistableStyles,_=Lu(a);o=o||"default";var M=y.get(_);if(!M){var F={loading:0,preload:null};if(M=d.querySelector(x0(_)))F.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=wi.get(_))&&Bg(a,u);var ne=M=d.createElement("link");gn(ne),tr(ne,"link",a),ne._p=new Promise(function(me,xe){ne.onload=me,ne.onerror=xe}),ne.addEventListener("load",function(){F.loading|=1}),ne.addEventListener("error",function(){F.loading|=2}),F.loading|=4,ad(M,o,d)}M={type:"stylesheet",instance:M,count:1,state:F},y.set(_,M)}}}function lq(a,o){es.X(a,o);var u=zu;if(u&&a){var d=li(u).hoistableScripts,y=Vu(a),_=d.get(y);_||(_=u.querySelector(S0(y)),_||(a=p({src:a,async:!0},o),(o=wi.get(y))&&jg(a,o),_=u.createElement("script"),gn(_),tr(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function uq(a,o){es.M(a,o);var u=zu;if(u&&a){var d=li(u).hoistableScripts,y=Vu(a),_=d.get(y);_||(_=u.querySelector(S0(y)),_||(a=p({src:a,async:!0,type:"module"},o),(o=wi.get(y))&&jg(a,o),_=u.createElement("script"),gn(_),tr(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function f9(a,o,u,d){var y=(y=ce.current)?id(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Lu(u.href),u=li(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Lu(u.href);var _=li(y).hoistableStyles,M=_.get(a);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,M),(_=y.querySelector(x0(a)))&&!_._p&&(M.instance=_,M.state.loading=5),wi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},wi.set(a,u),_||cq(y,a,u,M.state))),o&&d===null)throw Error(r(528,""));return M}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Vu(u),u=li(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Lu(a){return'href="'+sr(a)+'"'}function x0(a){return'link[rel="stylesheet"]['+a+"]"}function d9(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function cq(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),tr(o,"link",u),gn(o),a.head.appendChild(o))}function Vu(a){return'[src="'+sr(a)+'"]'}function S0(a){return"script[async]"+a}function m9(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+sr(u.href)+'"]');if(d)return o.instance=d,gn(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),gn(d),tr(d,"style",y),ad(d,u.precedence,a),o.instance=d;case"stylesheet":y=Lu(u.href);var _=a.querySelector(x0(y));if(_)return o.state.loading|=4,o.instance=_,gn(_),_;d=d9(u),(y=wi.get(y))&&Bg(d,y),_=(a.ownerDocument||a).createElement("link"),gn(_);var M=_;return M._p=new Promise(function(F,ne){M.onload=F,M.onerror=ne}),tr(_,"link",d),o.state.loading|=4,ad(_,u.precedence,a),o.instance=_;case"script":return _=Vu(u.src),(y=a.querySelector(S0(_)))?(o.instance=y,gn(y),y):(d=u,(y=wi.get(_))&&(d=p({},u),jg(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),gn(y),tr(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,ad(d,u.precedence,a));return o.instance}function ad(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,M=0;M<d.length;M++){var F=d[M];if(F.dataset.precedence===o)_=F;else if(_!==y)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Bg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function jg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var sd=null;function p9(a,o,u){if(sd===null){var d=new Map,y=sd=new Map;y.set(u,d)}else y=sd,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var _=u[y];if(!(_[si]||_[pn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var M=_.getAttribute(o)||"";M=a+M;var F=d.get(M);F?F.push(_):d.set(M,[_])}}return d}function g9(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function hq(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function v9(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function fq(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Lu(d.href),_=o.querySelector(x0(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=od.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,gn(_);return}_=o.ownerDocument||o,d=d9(d),(y=wi.get(y))&&Bg(d,y),_=_.createElement("link"),gn(_);var M=_;M._p=new Promise(function(F,ne){M.onload=F,M.onerror=ne}),tr(_,"link",d),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=od.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Ug=0;function dq(a,o){return a.stylesheets&&a.count===0&&ud(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&ud(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&Ug===0&&(Ug=62500*YV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ud(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>Ug?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ld=null;function ud(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ld=new Map,o.forEach(mq,a),ld=null,od.call(a))}function mq(a,o){if(!(o.state.loading&4)){var u=ld.get(a);if(u)var d=u.get(null);else{u=new Map,ld.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var M=y[_];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),d=M)}d&&u.set(null,d)}y=o.instance,M=y.getAttribute("data-precedence"),_=u.get(M)||d,_===d&&u.set(null,y),u.set(M,y),this.count++,d=od.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var E0={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function pq(a,o,u,d,y,_,M,F,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function y9(a,o,u,d,y,_,M,F,ne,me,xe,Te){return a=new pq(a,o,u,M,ne,me,xe,Te,F),o=1,_===!0&&(o|=24),_=Ur(3,null,null,o),a.current=_,_.stateNode=a,o=wp(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:o},Tp(_),a}function _9(a){return a?(a=mu,a):mu}function b9(a,o,u,d,y,_){y=_9(y),d.context===null?d.context=y:d.pendingContext=y,d=Fs(o),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=Gs(a,d,o),u!==null&&(Ir(u,a,o),n0(u,a,o))}function w9(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Hg(a,o){w9(a,o),(a=a.alternate)&&w9(a,o)}function x9(a){if(a.tag===13||a.tag===31){var o=sl(a,67108864);o!==null&&Ir(o,a,67108864),Hg(a,67108864)}}function S9(a){if(a.tag===13||a.tag===31){var o=Yr();o=Da(o);var u=sl(a,o);u!==null&&Ir(u,a,o),Hg(a,o)}}var cd=!0;function gq(a,o,u,d){var y=$.T;$.T=null;var _=Z.p;try{Z.p=2,Fg(a,o,u,d)}finally{Z.p=_,$.T=y}}function vq(a,o,u,d){var y=$.T;$.T=null;var _=Z.p;try{Z.p=8,Fg(a,o,u,d)}finally{Z.p=_,$.T=y}}function Fg(a,o,u,d){if(cd){var y=Gg(d);if(y===null)Ng(a,o,d,hd,u),T9(a,d);else if(_q(y,a,o,u,d))d.stopPropagation();else if(T9(a,d),o&4&&-1<yq.indexOf(a)){for(;y!==null;){var _=Sr(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var M=ri(_.pendingLanes);if(M!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;M;){var ne=1<<31-ln(M);F.entanglements[1]|=ne,M&=~ne}la(_),(Ot&6)===0&&(Yf=en()+500,y0(0))}}break;case 31:case 13:F=sl(_,2),F!==null&&Ir(F,_,2),Kf(),Hg(_,2)}if(_=Gg(d),_===null&&Ng(a,o,d,hd,u),_===y)break;y=_}y!==null&&d.stopPropagation()}else Ng(a,o,d,null,u)}}function Gg(a){return a=hi(a),$g(a)}var hd=null;function $g(a){if(hd=null,a=oi(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return hd=a,null}function E9(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qn()){case br:return 2;case wr:return 8;case $n:case As:return 32;case Ci:return 268435456;default:return 32}default:return 32}}var Yg=!1,no=null,ro=null,io=null,T0=new Map,A0=new Map,ao=[],yq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T9(a,o){switch(a){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":T0.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":A0.delete(o.pointerId)}}function C0(a,o,u,d,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},o!==null&&(o=Sr(o),o!==null&&x9(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function _q(a,o,u,d,y){switch(o){case"focusin":return no=C0(no,a,o,u,d,y),!0;case"dragenter":return ro=C0(ro,a,o,u,d,y),!0;case"mouseover":return io=C0(io,a,o,u,d,y),!0;case"pointerover":var _=y.pointerId;return T0.set(_,C0(T0.get(_)||null,a,o,u,d,y)),!0;case"gotpointercapture":return _=y.pointerId,A0.set(_,C0(A0.get(_)||null,a,o,u,d,y)),!0}return!1}function A9(a){var o=oi(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Vr(a.priority,function(){S9(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Vr(a.priority,function(){S9(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Gg(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Bc=d,u.target.dispatchEvent(d),Bc=null}else return o=Sr(u),o!==null&&x9(o),a.blockedOn=u,!1;o.shift()}return!0}function C9(a,o,u){fd(a)&&u.delete(o)}function bq(){Yg=!1,no!==null&&fd(no)&&(no=null),ro!==null&&fd(ro)&&(ro=null),io!==null&&fd(io)&&(io=null),T0.forEach(C9),A0.forEach(C9)}function dd(a,o){a.blockedOn===o&&(a.blockedOn=null,Yg||(Yg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bq)))}var md=null;function R9(a){md!==a&&(md=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){md===a&&(md=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if($g(d||u)===null)continue;break}var _=Sr(u);_!==null&&(a.splice(o,3),o-=3,Gp(_,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function qu(a){function o(ne){return dd(ne,a)}no!==null&&dd(no,a),ro!==null&&dd(ro,a),io!==null&&dd(io,a),T0.forEach(o),A0.forEach(o);for(var u=0;u<ao.length;u++){var d=ao[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ao.length&&(u=ao[0],u.blockedOn===null);)A9(u),u.blockedOn===null&&ao.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],_=u[d+1],M=y[Cn]||null;if(typeof _=="function")M||R9(u);else if(M){var F=null;if(_&&_.hasAttribute("formAction")){if(y=_,M=_[Cn]||null)F=M.formAction;else if($g(y)!==null)continue}else F=M.action;typeof F=="function"?u[d+1]=F:(u.splice(d,3),d-=3),R9(u)}}}function I9(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(M){return y=M})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Xg(a){this._internalRoot=a}pd.prototype.render=Xg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Yr();b9(u,d,a,o,null,null)},pd.prototype.unmount=Xg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;b9(a.current,2,null,a,null,null),Kf(),o[Pr]=null}};function pd(a){this._internalRoot=a}pd.prototype.unstable_scheduleHydration=function(a){if(a){var o=Zl();a={blockedOn:null,target:a,priority:o};for(var u=0;u<ao.length&&o!==0&&o<ao[u].priority;u++);ao.splice(u,0,a),u===0&&A9(a)}};var N9=e.version;if(N9!=="19.2.3")throw Error(r(527,N9,"19.2.3"));Z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var wq={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{dn=gd.inject(wq),Gt=gd}catch{}}return I0.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=V8,_=q8,M=P8;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=y9(a,1,!1,null,null,u,d,null,y,_,M,I9),a[Pr]=o.current,Ig(a),new Xg(o)},I0.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",_=V8,M=q8,F=P8,ne=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(ne=u.formState)),o=y9(a,1,!0,o,u??null,d,y,ne,_,M,F,I9),o.context=_9(null),u=o.current,d=Yr(),d=Da(d),y=Fs(d),y.callback=null,Gs(u,y,d),u=d,o.current.lanes=u,Ma(o,u),la(o),a[Pr]=o.current,Ig(a),new pd(o)},I0.version="19.2.3",I0}var B9;function Nq(){if(B9)return Zg.exports;B9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zg.exports=Iq(),Zg.exports}var Mq=Nq();const kq=Ym(Mq);let Dq={data:""},Oq=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Dq},zq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lq=/\/\*[^]*?\*\/|  +/g,j9=/\n+/g,mo=(t,e)=>{let n="",r="",i="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":r+=s[1]=="f"?mo(l,s):s+"{"+mo(l,s[1]=="k"?"":e)+"}":typeof l=="object"?r+=mo(l,e?e.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=mo.p?mo.p(s,l):s+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ts={},AN=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+AN(t[n]);return e}return t},Vq=(t,e,n,r,i)=>{let s=AN(t),l=ts[s]||(ts[s]=(h=>{let f=0,m=11;for(;f<h.length;)m=101*m+h.charCodeAt(f++)>>>0;return"go"+m})(s));if(!ts[l]){let h=s!==t?t:(f=>{let m,p,v=[{}];for(;m=zq.exec(f.replace(Lq,""));)m[4]?v.shift():m[3]?(p=m[3].replace(j9," ").trim(),v.unshift(v[0][p]=v[0][p]||{})):v[0][m[1]]=m[2].replace(j9," ").trim();return v[0]})(t);ts[l]=mo(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let c=n&&ts.g?ts.g:null;return n&&(ts.g=ts[l]),((h,f,m,p)=>{p?f.data=f.data.replace(p,h):f.data.indexOf(h)===-1&&(f.data=m?h+f.data:f.data+h)})(ts[l],e,r,c),l},qq=(t,e,n)=>t.reduce((r,i,s)=>{let l=e[s];if(l&&l.call){let c=l(n),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":mo(c,""):c===!1?"":c}return r+i+(l??"")},"");function Xm(t){let e=this||{},n=t.call?t(e.p):t;return Vq(n.unshift?n.raw?qq(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Oq(e.target),e.g,e.o,e.k)}let CN,u6,c6;Xm.bind({g:1});let hs=Xm.bind({k:1});function Pq(t,e,n,r){mo.p=e,CN=t,u6=n,c6=r}function qo(t,e){let n=this||{};return function(){let r=arguments;function i(s,l){let c=Object.assign({},s),h=c.className||i.className;n.p=Object.assign({theme:u6&&u6()},c),n.o=/ *go\d+/.test(h),c.className=Xm.apply(n,r)+(h?" "+h:"");let f=t;return t[0]&&(f=c.as||t,delete c.as),c6&&f[0]&&c6(c),CN(f,c)}return i}}var Bq=t=>typeof t=="function",om=(t,e)=>Bq(t)?t(e):t,jq=(()=>{let t=0;return()=>(++t).toString()})(),RN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Uq=20,s_="default",IN=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return IN(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Hd=[],NN={toasts:[],pausedAt:void 0,settings:{toastLimit:Uq}},fa={},MN=(t,e=s_)=>{fa[e]=IN(fa[e]||NN,t),Hd.forEach(([n,r])=>{n===e&&r(fa[e])})},kN=t=>Object.keys(fa).forEach(e=>MN(t,e)),Hq=t=>Object.keys(fa).find(e=>fa[e].toasts.some(n=>n.id===t)),Km=(t=s_)=>e=>{MN(e,t)},Fq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Gq=(t={},e=s_)=>{let[n,r]=ee.useState(fa[e]||NN),i=ee.useRef(fa[e]);ee.useEffect(()=>(i.current!==fa[e]&&r(fa[e]),Hd.push([e,r]),()=>{let l=Hd.findIndex(([c])=>c===e);l>-1&&Hd.splice(l,1)}),[e]);let s=n.toasts.map(l=>{var c,h,f;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((h=t[l.type])==null?void 0:h.duration)||t?.duration||Fq[l.type],style:{...t.style,...(f=t[l.type])==null?void 0:f.style,...l.style}}});return{...n,toasts:s}},$q=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||jq()}),Sh=t=>(e,n)=>{let r=$q(e,t,n);return Km(r.toasterId||Hq(r.id))({type:2,toast:r}),r.id},rt=(t,e)=>Sh("blank")(t,e);rt.error=Sh("error");rt.success=Sh("success");rt.loading=Sh("loading");rt.custom=Sh("custom");rt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Km(e)(n):kN(n)};rt.dismissAll=t=>rt.dismiss(void 0,t);rt.remove=(t,e)=>{let n={type:4,toastId:t};e?Km(e)(n):kN(n)};rt.removeAll=t=>rt.remove(void 0,t);rt.promise=(t,e,n)=>{let r=rt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?om(e.success,i):void 0;return s?rt.success(s,{id:r,...n,...n?.success}):rt.dismiss(r),i}).catch(i=>{let s=e.error?om(e.error,i):void 0;s?rt.error(s,{id:r,...n,...n?.error}):rt.dismiss(r)}),t};var Yq=1e3,Xq=(t,e="default")=>{let{toasts:n,pausedAt:r}=Gq(t,e),i=ee.useRef(new Map).current,s=ee.useCallback((p,v=Yq)=>{if(i.has(p))return;let b=setTimeout(()=>{i.delete(p),l({type:4,toastId:p})},v);i.set(p,b)},[]);ee.useEffect(()=>{if(r)return;let p=Date.now(),v=n.map(b=>{if(b.duration===1/0)return;let w=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(w<0){b.visible&&rt.dismiss(b.id);return}return setTimeout(()=>rt.dismiss(b.id,e),w)});return()=>{v.forEach(b=>b&&clearTimeout(b))}},[n,r,e]);let l=ee.useCallback(Km(e),[e]),c=ee.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=ee.useCallback((p,v)=>{l({type:1,toast:{id:p,height:v}})},[l]),f=ee.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=ee.useCallback((p,v)=>{let{reverseOrder:b=!1,gutter:w=8,defaultPosition:S}=v||{},E=n.filter(A=>(A.position||S)===(p.position||S)&&A.height),C=E.findIndex(A=>A.id===p.id),O=E.filter((A,z)=>z<C&&A.visible).length;return E.filter(A=>A.visible).slice(...b?[O+1]:[0,O]).reduce((A,z)=>A+(z.height||0)+w,0)},[n]);return ee.useEffect(()=>{n.forEach(p=>{if(p.dismissed)s(p.id,p.removeDelay);else{let v=i.get(p.id);v&&(clearTimeout(v),i.delete(p.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:h,startPause:c,endPause:f,calculateOffset:m}}},Kq=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Qq=hs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Zq=hs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wq=qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Qq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Zq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Jq=hs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eP=qo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Jq} 1s linear infinite;
`,tP=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nP=hs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rP=qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iP=qo("div")`
  position: absolute;
`,aP=qo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sP=hs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oP=qo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?ee.createElement(oP,null,e):e:n==="blank"?null:ee.createElement(aP,null,ee.createElement(eP,{...r}),n!=="loading"&&ee.createElement(iP,null,n==="error"?ee.createElement(Wq,{...r}):ee.createElement(rP,{...r})))},uP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,hP="0%{opacity:0;} 100%{opacity:1;}",fP="0%{opacity:1;} 100%{opacity:0;}",dP=qo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mP=qo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pP=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=RN()?[hP,fP]:[uP(n),cP(n)];return{animation:e?`${hs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gP=ee.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?pP(t.position||e||"top-center",t.visible):{opacity:0},s=ee.createElement(lP,{toast:t}),l=ee.createElement(mP,{...t.ariaProps},om(t.message,t));return ee.createElement(dP,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:l}):ee.createElement(ee.Fragment,null,s,l))});Pq(ee.createElement);var vP=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=ee.useCallback(l=>{if(l){let c=()=>{let h=l.getBoundingClientRect().height;r(t,h)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return ee.createElement("div",{ref:s,className:e,style:n},i)},yP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:RN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},_P=Xm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yd=16,bP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:l,containerClassName:c})=>{let{toasts:h,handlers:f}=Xq(n,s);return ee.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:yd,left:yd,right:yd,bottom:yd,pointerEvents:"none",...l},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(m=>{let p=m.position||e,v=f.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),b=yP(p,v);return ee.createElement(vP,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?_P:"",style:b},m.type==="custom"?om(m.message,m):i?i(m):ee.createElement(gP,{toast:m,position:p}))}))};function Vn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Vn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var wP={value:()=>{}};function Qm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fd(n)}function Fd(t){this._=t}function xP(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fd.prototype=Qm.prototype={constructor:Fd,on:function(t,e){var n=this._,r=xP(t+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(t=r[s]).type)&&(i=SP(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(i=(t=r[s]).type)n[i]=U9(n[i],t.name,e);else if(e==null)for(i in n)n[i]=U9(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fd(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function SP(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function U9(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wP,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var h6="http://www.w3.org/1999/xhtml";const H9={svg:"http://www.w3.org/2000/svg",xhtml:h6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),H9.hasOwnProperty(e)?{space:H9[e],local:t}:t}function EP(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===h6&&e.documentElement.namespaceURI===h6?e.createElement(t):e.createElementNS(n,t)}}function TP(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function DN(t){var e=Zm(t);return(e.local?TP:EP)(e)}function AP(){}function o_(t){return t==null?AP:function(){return this.querySelector(t)}}function CP(t){typeof t!="function"&&(t=o_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=new Array(l),h,f,m=0;m<l;++m)(h=s[m])&&(f=t.call(h,h.__data__,m,s))&&("__data__"in h&&(f.__data__=h.__data__),c[m]=f);return new ei(r,this._parents)}function RP(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function IP(){return[]}function ON(t){return t==null?IP:function(){return this.querySelectorAll(t)}}function NP(t){return function(){return RP(t.apply(this,arguments))}}function MP(t){typeof t=="function"?t=NP(t):t=ON(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var l=e[s],c=l.length,h,f=0;f<c;++f)(h=l[f])&&(r.push(t.call(h,h.__data__,f,l)),i.push(h));return new ei(r,i)}function zN(t){return function(){return this.matches(t)}}function LN(t){return function(e){return e.matches(t)}}var kP=Array.prototype.find;function DP(t){return function(){return kP.call(this.children,t)}}function OP(){return this.firstElementChild}function zP(t){return this.select(t==null?OP:DP(typeof t=="function"?t:LN(t)))}var LP=Array.prototype.filter;function VP(){return Array.from(this.children)}function qP(t){return function(){return LP.call(this.children,t)}}function PP(t){return this.selectAll(t==null?VP:qP(typeof t=="function"?t:LN(t)))}function BP(t){typeof t!="function"&&(t=zN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],h,f=0;f<l;++f)(h=s[f])&&t.call(h,h.__data__,f,s)&&c.push(h);return new ei(r,this._parents)}function VN(t){return new Array(t.length)}function jP(){return new ei(this._enter||this._groups.map(VN),this._parents)}function lm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}lm.prototype={constructor:lm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function UP(t){return function(){return t}}function HP(t,e,n,r,i,s){for(var l=0,c,h=e.length,f=s.length;l<f;++l)(c=e[l])?(c.__data__=s[l],r[l]=c):n[l]=new lm(t,s[l]);for(;l<h;++l)(c=e[l])&&(i[l]=c)}function FP(t,e,n,r,i,s,l){var c,h,f=new Map,m=e.length,p=s.length,v=new Array(m),b;for(c=0;c<m;++c)(h=e[c])&&(v[c]=b=l.call(h,h.__data__,c,e)+"",f.has(b)?i[c]=h:f.set(b,h));for(c=0;c<p;++c)b=l.call(t,s[c],c,s)+"",(h=f.get(b))?(r[c]=h,h.__data__=s[c],f.delete(b)):n[c]=new lm(t,s[c]);for(c=0;c<m;++c)(h=e[c])&&f.get(v[c])===h&&(i[c]=h)}function GP(t){return t.__data__}function $P(t,e){if(!arguments.length)return Array.from(this,GP);var n=e?FP:HP,r=this._parents,i=this._groups;typeof t!="function"&&(t=UP(t));for(var s=i.length,l=new Array(s),c=new Array(s),h=new Array(s),f=0;f<s;++f){var m=r[f],p=i[f],v=p.length,b=YP(t.call(m,m&&m.__data__,f,r)),w=b.length,S=c[f]=new Array(w),E=l[f]=new Array(w),C=h[f]=new Array(v);n(m,p,S,E,C,b,e);for(var O=0,A=0,z,U;O<w;++O)if(z=S[O]){for(O>=A&&(A=O+1);!(U=E[A])&&++A<w;);z._next=U||null}}return l=new ei(l,r),l._enter=c,l._exit=h,l}function YP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XP(){return new ei(this._exit||this._groups.map(VN),this._parents)}function KP(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function QP(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,l=Math.min(i,s),c=new Array(i),h=0;h<l;++h)for(var f=n[h],m=r[h],p=f.length,v=c[h]=new Array(p),b,w=0;w<p;++w)(b=f[w]||m[w])&&(v[w]=b);for(;h<i;++h)c[h]=n[h];return new ei(c,this._parents)}function ZP(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function WP(t){t||(t=JP);function e(p,v){return p&&v?t(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],c=l.length,h=i[s]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(h[m]=f);h.sort(e)}return new ei(i,this._parents).order()}function JP(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function eB(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function tB(){return Array.from(this)}function nB(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function rB(){let t=0;for(const e of this)++t;return t}function iB(){return!this.node()}function aB(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,l=i.length,c;s<l;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function sB(t){return function(){this.removeAttribute(t)}}function oB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lB(t,e){return function(){this.setAttribute(t,e)}}function uB(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function cB(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function hB(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function fB(t,e){var n=Zm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?oB:sB:typeof e=="function"?n.local?hB:cB:n.local?uB:lB)(n,e))}function qN(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dB(t){return function(){this.style.removeProperty(t)}}function mB(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pB(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function gB(t,e,n){return arguments.length>1?this.each((e==null?dB:typeof e=="function"?pB:mB)(t,e,n??"")):tc(this.node(),t)}function tc(t,e){return t.style.getPropertyValue(e)||qN(t).getComputedStyle(t,null).getPropertyValue(e)}function vB(t){return function(){delete this[t]}}function yB(t,e){return function(){this[t]=e}}function _B(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function bB(t,e){return arguments.length>1?this.each((e==null?vB:typeof e=="function"?_B:yB)(t,e)):this.node()[t]}function PN(t){return t.trim().split(/^|\s+/)}function l_(t){return t.classList||new BN(t)}function BN(t){this._node=t,this._names=PN(t.getAttribute("class")||"")}BN.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jN(t,e){for(var n=l_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function UN(t,e){for(var n=l_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function wB(t){return function(){jN(this,t)}}function xB(t){return function(){UN(this,t)}}function SB(t,e){return function(){(e.apply(this,arguments)?jN:UN)(this,t)}}function EB(t,e){var n=PN(t+"");if(arguments.length<2){for(var r=l_(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?SB:e?wB:xB)(n,e))}function TB(){this.textContent=""}function AB(t){return function(){this.textContent=t}}function CB(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function RB(t){return arguments.length?this.each(t==null?TB:(typeof t=="function"?CB:AB)(t)):this.node().textContent}function IB(){this.innerHTML=""}function NB(t){return function(){this.innerHTML=t}}function MB(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kB(t){return arguments.length?this.each(t==null?IB:(typeof t=="function"?MB:NB)(t)):this.node().innerHTML}function DB(){this.nextSibling&&this.parentNode.appendChild(this)}function OB(){return this.each(DB)}function zB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function LB(){return this.each(zB)}function VB(t){var e=typeof t=="function"?t:DN(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qB(){return null}function PB(t,e){var n=typeof t=="function"?t:DN(t),r=e==null?qB:typeof e=="function"?e:o_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function BB(){var t=this.parentNode;t&&t.removeChild(this)}function jB(){return this.each(BB)}function UB(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function HB(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FB(t){return this.select(t?HB:UB)}function GB(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $B(t){return function(e){t.call(this,e,this.__data__)}}function YB(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function XB(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function KB(t,e,n){return function(){var r=this.__on,i,s=$B(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function QB(t,e,n){var r=YB(t+""),i,s=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,f=c.length,m;h<f;++h)for(i=0,m=c[h];i<s;++i)if((l=r[i]).type===m.type&&l.name===m.name)return m.value}return}for(c=e?KB:XB,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function HN(t,e,n){var r=qN(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ZB(t,e){return function(){return HN(this,t,e)}}function WB(t,e){return function(){return HN(this,t,e.apply(this,arguments))}}function JB(t,e){return this.each((typeof e=="function"?WB:ZB)(t,e))}function*ej(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var FN=[null];function ei(t,e){this._groups=t,this._parents=e}function Eh(){return new ei([[document.documentElement]],FN)}function tj(){return this}ei.prototype=Eh.prototype={constructor:ei,select:CP,selectAll:MP,selectChild:zP,selectChildren:PP,filter:BP,data:$P,enter:jP,exit:XP,join:KP,merge:QP,selection:tj,order:ZP,sort:WP,call:eB,nodes:tB,node:nB,size:rB,empty:iB,each:aB,attr:fB,style:gB,property:bB,classed:EB,text:RB,html:kB,raise:OB,lower:LB,append:VB,insert:PB,remove:jB,clone:FB,datum:GB,on:QB,dispatch:JB,[Symbol.iterator]:ej};function Xr(t){return typeof t=="string"?new ei([[document.querySelector(t)]],[document.documentElement]):new ei([[t]],FN)}function nj(t){let e;for(;e=t.sourceEvent;)t=e;return t}function qi(t,e){if(t=nj(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const rj={passive:!1},J0={capture:!0,passive:!1};function tv(t){t.stopImmediatePropagation()}function Xu(t){t.preventDefault(),t.stopImmediatePropagation()}function GN(t){var e=t.document.documentElement,n=Xr(t).on("dragstart.drag",Xu,J0);"onselectstart"in e?n.on("selectstart.drag",Xu,J0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $N(t,e){var n=t.document.documentElement,r=Xr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Xu,J0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _d=t=>()=>t;function f6(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:l,y:c,dx:h,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}f6.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ij(t){return!t.ctrlKey&&!t.button}function aj(){return this.parentNode}function sj(t,e){return e??{x:t.x,y:t.y}}function oj(){return navigator.maxTouchPoints||"ontouchstart"in this}function YN(){var t=ij,e=aj,n=sj,r=oj,i={},s=Qm("start","drag","end"),l=0,c,h,f,m,p=0;function v(z){z.on("mousedown.drag",b).filter(r).on("touchstart.drag",E).on("touchmove.drag",C,rj).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(z,U){if(!(m||!t.call(this,z,U))){var q=A(this,e.call(this,z,U),z,U,"mouse");q&&(Xr(z.view).on("mousemove.drag",w,J0).on("mouseup.drag",S,J0),GN(z.view),tv(z),f=!1,c=z.clientX,h=z.clientY,q("start",z))}}function w(z){if(Xu(z),!f){var U=z.clientX-c,q=z.clientY-h;f=U*U+q*q>p}i.mouse("drag",z)}function S(z){Xr(z.view).on("mousemove.drag mouseup.drag",null),$N(z.view,f),Xu(z),i.mouse("end",z)}function E(z,U){if(t.call(this,z,U)){var q=z.changedTouches,R=e.call(this,z,U),k=q.length,D,H;for(D=0;D<k;++D)(H=A(this,R,z,U,q[D].identifier,q[D]))&&(tv(z),H("start",z,q[D]))}}function C(z){var U=z.changedTouches,q=U.length,R,k;for(R=0;R<q;++R)(k=i[U[R].identifier])&&(Xu(z),k("drag",z,U[R]))}function O(z){var U=z.changedTouches,q=U.length,R,k;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<q;++R)(k=i[U[R].identifier])&&(tv(z),k("end",z,U[R]))}function A(z,U,q,R,k,D){var H=s.copy(),V=qi(D||q,U),j,B,K;if((K=n.call(z,new f6("beforestart",{sourceEvent:q,target:v,identifier:k,active:l,x:V[0],y:V[1],dx:0,dy:0,dispatch:H}),R))!=null)return j=K.x-V[0]||0,B=K.y-V[1]||0,function ie($,Z,re){var le=V,_e;switch($){case"start":i[k]=ie,_e=l++;break;case"end":delete i[k],--l;case"drag":V=qi(re||Z,U),_e=l;break}H.call($,z,new f6($,{sourceEvent:Z,subject:K,target:v,identifier:k,active:_e,x:V[0]+j,y:V[1]+B,dx:V[0]-le[0],dy:V[1]-le[1],dispatch:H}),R)}}return v.filter=function(z){return arguments.length?(t=typeof z=="function"?z:_d(!!z),v):t},v.container=function(z){return arguments.length?(e=typeof z=="function"?z:_d(z),v):e},v.subject=function(z){return arguments.length?(n=typeof z=="function"?z:_d(z),v):n},v.touchable=function(z){return arguments.length?(r=typeof z=="function"?z:_d(!!z),v):r},v.on=function(){var z=s.on.apply(s,arguments);return z===s?v:z},v.clickDistance=function(z){return arguments.length?(p=(z=+z)*z,v):Math.sqrt(p)},v}function u_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function XN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Th(){}var eh=.7,um=1/eh,Ku="\\s*([+-]?\\d+)\\s*",th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lj=/^#([0-9a-f]{3,8})$/,uj=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),cj=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),hj=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${th}\\)$`),fj=new RegExp(`^rgba\\(${pa},${pa},${pa},${th}\\)$`),dj=new RegExp(`^hsl\\(${th},${pa},${pa}\\)$`),mj=new RegExp(`^hsla\\(${th},${pa},${pa},${th}\\)$`),F9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u_(Th,kl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:G9,formatHex:G9,formatHex8:pj,formatHsl:gj,formatRgb:$9,toString:$9});function G9(){return this.rgb().formatHex()}function pj(){return this.rgb().formatHex8()}function gj(){return KN(this).formatHsl()}function $9(){return this.rgb().formatRgb()}function kl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lj.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Y9(e):n===3?new Dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uj.exec(t))?new Dr(e[1],e[2],e[3],1):(e=cj.exec(t))?new Dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hj.exec(t))?bd(e[1],e[2],e[3],e[4]):(e=fj.exec(t))?bd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dj.exec(t))?Q9(e[1],e[2]/100,e[3]/100,1):(e=mj.exec(t))?Q9(e[1],e[2]/100,e[3]/100,e[4]):F9.hasOwnProperty(t)?Y9(F9[t]):t==="transparent"?new Dr(NaN,NaN,NaN,0):null}function Y9(t){return new Dr(t>>16&255,t>>8&255,t&255,1)}function bd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dr(t,e,n,r)}function vj(t){return t instanceof Th||(t=kl(t)),t?(t=t.rgb(),new Dr(t.r,t.g,t.b,t.opacity)):new Dr}function d6(t,e,n,r){return arguments.length===1?vj(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}u_(Dr,d6,XN(Th,{brighter(t){return t=t==null?um:Math.pow(um,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?eh:Math.pow(eh,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dr(Al(this.r),Al(this.g),Al(this.b),cm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X9,formatHex:X9,formatHex8:yj,formatRgb:K9,toString:K9}));function X9(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function yj(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function K9(){const t=cm(this.opacity);return`${t===1?"rgb(":"rgba("}${Al(this.r)}, ${Al(this.g)}, ${Al(this.b)}${t===1?")":`, ${t})`}`}function cm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Al(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sl(t){return t=Al(t),(t<16?"0":"")+t.toString(16)}function Q9(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bi(t,e,n,r)}function KN(t){if(t instanceof Bi)return new Bi(t.h,t.s,t.l,t.opacity);if(t instanceof Th||(t=kl(t)),!t)return new Bi;if(t instanceof Bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,h=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=h<.5?s+i:2-s-i,l*=60):c=h>0&&h<1?0:l,new Bi(l,c,h,t.opacity)}function _j(t,e,n,r){return arguments.length===1?KN(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}u_(Bi,_j,XN(Th,{brighter(t){return t=t==null?um:Math.pow(um,t),new Bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?eh:Math.pow(eh,t),new Bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dr(nv(t>=240?t-240:t+120,i,r),nv(t,i,r),nv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bi(Z9(this.h),wd(this.s),wd(this.l),cm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cm(this.opacity);return`${t===1?"hsl(":"hsla("}${Z9(this.h)}, ${wd(this.s)*100}%, ${wd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Z9(t){return t=(t||0)%360,t<0?t+360:t}function wd(t){return Math.max(0,Math.min(1,t||0))}function nv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const c_=t=>()=>t;function bj(t,e){return function(n){return t+n*e}}function wj(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xj(t){return(t=+t)==1?QN:function(e,n){return n-e?wj(e,n,t):c_(isNaN(e)?n:e)}}function QN(t,e){var n=e-t;return n?bj(t,n):c_(isNaN(t)?e:t)}const hm=(function t(e){var n=xj(e);function r(i,s){var l=n((i=d6(i)).r,(s=d6(s)).r),c=n(i.g,s.g),h=n(i.b,s.b),f=QN(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function Sj(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Ej(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tj(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=U0(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function Aj(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ca(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cj(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=U0(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var m6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rv=new RegExp(m6.source,"g");function Rj(t){return function(){return t}}function Ij(t){return function(e){return t(e)+""}}function ZN(t,e){var n=m6.lastIndex=rv.lastIndex=0,r,i,s,l=-1,c=[],h=[];for(t=t+"",e=e+"";(r=m6.exec(t))&&(i=rv.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:ca(r,i)})),n=rv.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?Ij(h[0].x):Rj(e):(e=h.length,function(f){for(var m=0,p;m<e;++m)c[(p=h[m]).i]=p.x(f);return c.join("")})}function U0(t,e){var n=typeof e,r;return e==null||n==="boolean"?c_(e):(n==="number"?ca:n==="string"?(r=kl(e))?(e=r,hm):ZN:e instanceof kl?hm:e instanceof Date?Aj:Ej(e)?Sj:Array.isArray(e)?Tj:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cj:ca)(t,e)}var W9=180/Math.PI,p6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function WN(t,e,n,r,i,s){var l,c,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*W9,skewX:Math.atan(h)*W9,scaleX:l,scaleY:c}}var xd;function Nj(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?p6:WN(e.a,e.b,e.c,e.d,e.e,e.f)}function Mj(t){return t==null||(xd||(xd=document.createElementNS("http://www.w3.org/2000/svg","g")),xd.setAttribute("transform",t),!(t=xd.transform.baseVal.consolidate()))?p6:(t=t.matrix,WN(t.a,t.b,t.c,t.d,t.e,t.f))}function JN(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,m,p,v,b,w){if(f!==p||m!==v){var S=b.push("translate(",null,e,null,n);w.push({i:S-4,x:ca(f,p)},{i:S-2,x:ca(m,v)})}else(p||v)&&b.push("translate("+p+e+v+n)}function l(f,m,p,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ca(f,m)})):m&&p.push(i(p)+"rotate("+m+r)}function c(f,m,p,v){f!==m?v.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ca(f,m)}):m&&p.push(i(p)+"skewX("+m+r)}function h(f,m,p,v,b,w){if(f!==p||m!==v){var S=b.push(i(b)+"scale(",null,",",null,")");w.push({i:S-4,x:ca(f,p)},{i:S-2,x:ca(m,v)})}else(p!==1||v!==1)&&b.push(i(b)+"scale("+p+","+v+")")}return function(f,m){var p=[],v=[];return f=t(f),m=t(m),s(f.translateX,f.translateY,m.translateX,m.translateY,p,v),l(f.rotate,m.rotate,p,v),c(f.skewX,m.skewX,p,v),h(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,v),f=m=null,function(b){for(var w=-1,S=v.length,E;++w<S;)p[(E=v[w]).i]=E.x(b);return p.join("")}}}var kj=JN(Nj,"px, ","px)","deg)"),Dj=JN(Mj,", ",")",")"),Oj=1e-12;function J9(t){return((t=Math.exp(t))+1/t)/2}function zj(t){return((t=Math.exp(t))-1/t)/2}function Lj(t){return((t=Math.exp(2*t))-1)/(t+1)}const Gd=(function t(e,n,r){function i(s,l){var c=s[0],h=s[1],f=s[2],m=l[0],p=l[1],v=l[2],b=m-c,w=p-h,S=b*b+w*w,E,C;if(S<Oj)C=Math.log(v/f)/e,E=function(R){return[c+R*b,h+R*w,f*Math.exp(e*R*C)]};else{var O=Math.sqrt(S),A=(v*v-f*f+r*S)/(2*f*n*O),z=(v*v-f*f-r*S)/(2*v*n*O),U=Math.log(Math.sqrt(A*A+1)-A),q=Math.log(Math.sqrt(z*z+1)-z);C=(q-U)/e,E=function(R){var k=R*C,D=J9(U),H=f/(n*O)*(D*Lj(e*k+U)-zj(U));return[c+H*b,h+H*w,f*D/J9(e*k+U)]}}return E.duration=C*1e3*e/Math.SQRT2,E}return i.rho=function(s){var l=Math.max(.001,+s),c=l*l,h=c*c;return t(l,c,h)},i})(Math.SQRT2,2,4);var nc=0,k0=0,N0=0,eM=1e3,fm,D0,dm=0,Dl=0,Wm=0,nh=typeof performance=="object"&&performance.now?performance:Date,tM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h_(){return Dl||(tM(Vj),Dl=nh.now()+Wm)}function Vj(){Dl=0}function mm(){this._call=this._time=this._next=null}mm.prototype=nM.prototype={constructor:mm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?h_():+n)+(e==null?0:+e),!this._next&&D0!==this&&(D0?D0._next=this:fm=this,D0=this),this._call=t,this._time=n,g6()},stop:function(){this._call&&(this._call=null,this._time=1/0,g6())}};function nM(t,e,n){var r=new mm;return r.restart(t,e,n),r}function qj(){h_(),++nc;for(var t=fm,e;t;)(e=Dl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nc}function ex(){Dl=(dm=nh.now())+Wm,nc=k0=0;try{qj()}finally{nc=0,Bj(),Dl=0}}function Pj(){var t=nh.now(),e=t-dm;e>eM&&(Wm-=e,dm=t)}function Bj(){for(var t,e=fm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fm=n);D0=t,g6(r)}function g6(t){if(!nc){k0&&(k0=clearTimeout(k0));var e=t-Dl;e>24?(t<1/0&&(k0=setTimeout(ex,t-nh.now()-Wm)),N0&&(N0=clearInterval(N0))):(N0||(dm=nh.now(),N0=setInterval(Pj,eM)),nc=1,tM(ex))}}function tx(t,e,n){var r=new mm;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var jj=Qm("start","end","cancel","interrupt"),Uj=[],rM=0,nx=1,v6=2,$d=3,rx=4,y6=5,Yd=6;function Jm(t,e,n,r,i,s){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Hj(t,n,{name:e,index:r,group:i,on:jj,tween:Uj,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rM})}function f_(t,e){var n=Ki(t,e);if(n.state>rM)throw new Error("too late; already scheduled");return n}function Ea(t,e){var n=Ki(t,e);if(n.state>$d)throw new Error("too late; already running");return n}function Ki(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Hj(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=nM(s,0,n.time);function s(f){n.state=nx,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,v,b;if(n.state!==nx)return h();for(m in r)if(b=r[m],b.name===n.name){if(b.state===$d)return tx(l);b.state===rx?(b.state=Yd,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Yd,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(tx(function(){n.state===$d&&(n.state=rx,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=v6,n.on.call("start",t,t.__data__,n.index,n.group),n.state===v6){for(n.state=$d,i=new Array(v=n.tween.length),m=0,p=-1;m<v;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=b);i.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(h),n.state=y6,1),p=-1,v=i.length;++p<v;)i[p].call(t,m);n.state===y6&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Yd,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Xd(t,e){var n=t.__transition,r,i,s=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){s=!1;continue}i=r.state>v6&&r.state<y6,r.state=Yd,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}s&&delete t.__transition}}function Fj(t){return this.each(function(){Xd(this,t)})}function Gj(t,e){var n,r;return function(){var i=Ea(this,t),s=i.tween;if(s!==n){r=n=s;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function $j(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ea(this,t),l=s.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},h=0,f=i.length;h<f;++h)if(i[h].name===e){i[h]=c;break}h===f&&i.push(c)}s.tween=i}}function Yj(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ki(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?Gj:$j)(n,t,e))}function d_(t,e,n){var r=t._id;return t.each(function(){var i=Ea(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ki(i,r).value[e]}}function iM(t,e){var n;return(typeof e=="number"?ca:e instanceof kl?hm:(n=kl(e))?(e=n,hm):ZN)(t,e)}function Xj(t){return function(){this.removeAttribute(t)}}function Kj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qj(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttribute(t);return l===i?null:l===r?s:s=e(r=l,n)}}function Zj(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?s:s=e(r=l,n)}}function Wj(t,e,n){var r,i,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c)))}}function Jj(t,e,n){var r,i,s;return function(){var l,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c)))}}function eU(t,e){var n=Zm(t),r=n==="transform"?Dj:iM;return this.attrTween(t,typeof e=="function"?(n.local?Jj:Wj)(n,r,d_(this,"attr."+t,e)):e==null?(n.local?Kj:Xj)(n):(n.local?Zj:Qj)(n,r,e))}function tU(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function nU(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function rU(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&nU(t,s)),n}return i._value=e,i}function iU(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&tU(t,s)),n}return i._value=e,i}function aU(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Zm(t);return this.tween(n,(r.local?rU:iU)(r,e))}function sU(t,e){return function(){f_(this,t).delay=+e.apply(this,arguments)}}function oU(t,e){return e=+e,function(){f_(this,t).delay=e}}function lU(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sU:oU)(e,t)):Ki(this.node(),e).delay}function uU(t,e){return function(){Ea(this,t).duration=+e.apply(this,arguments)}}function cU(t,e){return e=+e,function(){Ea(this,t).duration=e}}function hU(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uU:cU)(e,t)):Ki(this.node(),e).duration}function fU(t,e){if(typeof e!="function")throw new Error;return function(){Ea(this,t).ease=e}}function dU(t){var e=this._id;return arguments.length?this.each(fU(e,t)):Ki(this.node(),e).ease}function mU(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ea(this,t).ease=n}}function pU(t){if(typeof t!="function")throw new Error;return this.each(mU(this._id,t))}function gU(t){typeof t!="function"&&(t=zN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],h,f=0;f<l;++f)(h=s[f])&&t.call(h,h.__data__,f,s)&&c.push(h);return new fs(r,this._parents,this._name,this._id)}function vU(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),l=new Array(r),c=0;c<s;++c)for(var h=e[c],f=n[c],m=h.length,p=l[c]=new Array(m),v,b=0;b<m;++b)(v=h[b]||f[b])&&(p[b]=v);for(;c<r;++c)l[c]=e[c];return new fs(l,this._parents,this._name,this._id)}function yU(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _U(t,e,n){var r,i,s=yU(e)?f_:Ea;return function(){var l=s(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function bU(t,e){var n=this._id;return arguments.length<2?Ki(this.node(),n).on.on(t):this.each(_U(n,t,e))}function wU(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function xU(){return this.on("end.remove",wU(this._id))}function SU(t){var e=this._name,n=this._id;typeof t!="function"&&(t=o_(t));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var c=r[l],h=c.length,f=s[l]=new Array(h),m,p,v=0;v<h;++v)(m=c[v])&&(p=t.call(m,m.__data__,v,c))&&("__data__"in m&&(p.__data__=m.__data__),f[v]=p,Jm(f[v],e,n,v,f,Ki(m,n)));return new fs(s,this._parents,e,n)}function EU(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ON(t));for(var r=this._groups,i=r.length,s=[],l=[],c=0;c<i;++c)for(var h=r[c],f=h.length,m,p=0;p<f;++p)if(m=h[p]){for(var v=t.call(m,m.__data__,p,h),b,w=Ki(m,n),S=0,E=v.length;S<E;++S)(b=v[S])&&Jm(b,e,n,S,v,w);s.push(v),l.push(m)}return new fs(s,l,e,n)}var TU=Eh.prototype.constructor;function AU(){return new TU(this._groups,this._parents)}function CU(t,e){var n,r,i;return function(){var s=tc(this,t),l=(this.style.removeProperty(t),tc(this,t));return s===l?null:s===n&&l===r?i:i=e(n=s,r=l)}}function aM(t){return function(){this.style.removeProperty(t)}}function RU(t,e,n){var r,i=n+"",s;return function(){var l=tc(this,t);return l===i?null:l===r?s:s=e(r=l,n)}}function IU(t,e,n){var r,i,s;return function(){var l=tc(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),tc(this,t))),l===h?null:l===r&&h===i?s:(i=h,s=e(r=l,c))}}function NU(t,e){var n,r,i,s="style."+e,l="end."+s,c;return function(){var h=Ea(this,t),f=h.on,m=h.value[s]==null?c||(c=aM(e)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(l,i=m),h.on=r}}function MU(t,e,n){var r=(t+="")=="transform"?kj:iM;return e==null?this.styleTween(t,CU(t,r)).on("end.style."+t,aM(t)):typeof e=="function"?this.styleTween(t,IU(t,r,d_(this,"style."+t,e))).each(NU(this._id,t)):this.styleTween(t,RU(t,r,e),n).on("end.style."+t,null)}function kU(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function DU(t,e,n){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&kU(t,l,n)),r}return s._value=e,s}function OU(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,DU(t,e,n??""))}function zU(t){return function(){this.textContent=t}}function LU(t){return function(){var e=t(this);this.textContent=e??""}}function VU(t){return this.tween("text",typeof t=="function"?LU(d_(this,"text",t)):zU(t==null?"":t+""))}function qU(t){return function(e){this.textContent=t.call(this,e)}}function PU(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&qU(i)),e}return r._value=t,r}function BU(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,PU(t))}function jU(){for(var t=this._name,e=this._id,n=sM(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,h,f=0;f<c;++f)if(h=l[f]){var m=Ki(h,e);Jm(h,t,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new fs(r,this._parents,t,n)}function UU(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var c={value:l},h={value:function(){--i===0&&s()}};n.each(function(){var f=Ea(this,r),m=f.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),f.on=e}),i===0&&s()})}var HU=0;function fs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function sM(){return++HU}var ns=Eh.prototype;fs.prototype={constructor:fs,select:SU,selectAll:EU,selectChild:ns.selectChild,selectChildren:ns.selectChildren,filter:gU,merge:vU,selection:AU,transition:jU,call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:bU,attr:eU,attrTween:aU,style:MU,styleTween:OU,text:VU,textTween:BU,remove:xU,tween:Yj,delay:lU,duration:hU,ease:dU,easeVarying:pU,end:UU,[Symbol.iterator]:ns[Symbol.iterator]};function FU(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var GU={time:null,delay:0,duration:250,ease:FU};function $U(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function YU(t){var e,n;t instanceof fs?(e=t._id,t=t._name):(e=sM(),(n=GU).time=h_(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,h,f=0;f<c;++f)(h=l[f])&&Jm(h,t,e,f,l,n||$U(h,e));return new fs(r,this._parents,t,e)}Eh.prototype.interrupt=Fj;Eh.prototype.transition=YU;const Sd=t=>()=>t;function XU(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ss(t,e,n){this.k=t,this.x=e,this.y=n}ss.prototype={constructor:ss,scale:function(t){return t===1?this:new ss(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ss(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var e1=new ss(1,0,0);oM.prototype=ss.prototype;function oM(t){for(;!t.__zoom;)if(!(t=t.parentNode))return e1;return t.__zoom}function iv(t){t.stopImmediatePropagation()}function M0(t){t.preventDefault(),t.stopImmediatePropagation()}function KU(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function QU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ix(){return this.__zoom||e1}function ZU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function WU(){return navigator.maxTouchPoints||"ontouchstart"in this}function JU(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function lM(){var t=KU,e=QU,n=JU,r=ZU,i=WU,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Gd,f=Qm("start","zoom","end"),m,p,v,b=500,w=150,S=0,E=10;function C(K){K.property("__zoom",ix).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(K,ie,$,Z){var re=K.selection?K.selection():K;re.property("__zoom",ix),K!==re?U(K,ie,$,Z):re.interrupt().each(function(){q(this,arguments).event(Z).start().zoom(null,typeof ie=="function"?ie.apply(this,arguments):ie).end()})},C.scaleBy=function(K,ie,$,Z){C.scaleTo(K,function(){var re=this.__zoom.k,le=typeof ie=="function"?ie.apply(this,arguments):ie;return re*le},$,Z)},C.scaleTo=function(K,ie,$,Z){C.transform(K,function(){var re=e.apply(this,arguments),le=this.__zoom,_e=$==null?z(re):typeof $=="function"?$.apply(this,arguments):$,X=le.invert(_e),te=typeof ie=="function"?ie.apply(this,arguments):ie;return n(A(O(le,te),_e,X),re,l)},$,Z)},C.translateBy=function(K,ie,$,Z){C.transform(K,function(){return n(this.__zoom.translate(typeof ie=="function"?ie.apply(this,arguments):ie,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),l)},null,Z)},C.translateTo=function(K,ie,$,Z,re){C.transform(K,function(){var le=e.apply(this,arguments),_e=this.__zoom,X=Z==null?z(le):typeof Z=="function"?Z.apply(this,arguments):Z;return n(e1.translate(X[0],X[1]).scale(_e.k).translate(typeof ie=="function"?-ie.apply(this,arguments):-ie,typeof $=="function"?-$.apply(this,arguments):-$),le,l)},Z,re)};function O(K,ie){return ie=Math.max(s[0],Math.min(s[1],ie)),ie===K.k?K:new ss(ie,K.x,K.y)}function A(K,ie,$){var Z=ie[0]-$[0]*K.k,re=ie[1]-$[1]*K.k;return Z===K.x&&re===K.y?K:new ss(K.k,Z,re)}function z(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function U(K,ie,$,Z){K.on("start.zoom",function(){q(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(Z).end()}).tween("zoom",function(){var re=this,le=arguments,_e=q(re,le).event(Z),X=e.apply(re,le),te=$==null?z(X):typeof $=="function"?$.apply(re,le):$,ve=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),Q=re.__zoom,ae=typeof ie=="function"?ie.apply(re,le):ie,ce=h(Q.invert(te).concat(ve/Q.k),ae.invert(te).concat(ve/ae.k));return function(pe){if(pe===1)pe=ae;else{var be=ce(pe),Ce=ve/be[2];pe=new ss(Ce,te[0]-be[0]*Ce,te[1]-be[1]*Ce)}_e.zoom(null,pe)}})}function q(K,ie,$){return!$&&K.__zooming||new R(K,ie)}function R(K,ie){this.that=K,this.args=ie,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,ie),this.taps=0}R.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,ie){return this.mouse&&K!=="mouse"&&(this.mouse[1]=ie.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=ie.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=ie.invert(this.touch1[0])),this.that.__zoom=ie,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var ie=Xr(this.that).datum();f.call(K,this.that,new XU(K,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),ie)}};function k(K,...ie){if(!t.apply(this,arguments))return;var $=q(this,ie).event(K),Z=this.__zoom,re=Math.max(s[0],Math.min(s[1],Z.k*Math.pow(2,r.apply(this,arguments)))),le=qi(K);if($.wheel)($.mouse[0][0]!==le[0]||$.mouse[0][1]!==le[1])&&($.mouse[1]=Z.invert($.mouse[0]=le)),clearTimeout($.wheel);else{if(Z.k===re)return;$.mouse=[le,Z.invert(le)],Xd(this),$.start()}M0(K),$.wheel=setTimeout(_e,w),$.zoom("mouse",n(A(O(Z,re),$.mouse[0],$.mouse[1]),$.extent,l));function _e(){$.wheel=null,$.end()}}function D(K,...ie){if(v||!t.apply(this,arguments))return;var $=K.currentTarget,Z=q(this,ie,!0).event(K),re=Xr(K.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",ve,!0),le=qi(K,$),_e=K.clientX,X=K.clientY;GN(K.view),iv(K),Z.mouse=[le,this.__zoom.invert(le)],Xd(this),Z.start();function te(Q){if(M0(Q),!Z.moved){var ae=Q.clientX-_e,ce=Q.clientY-X;Z.moved=ae*ae+ce*ce>S}Z.event(Q).zoom("mouse",n(A(Z.that.__zoom,Z.mouse[0]=qi(Q,$),Z.mouse[1]),Z.extent,l))}function ve(Q){re.on("mousemove.zoom mouseup.zoom",null),$N(Q.view,Z.moved),M0(Q),Z.event(Q).end()}}function H(K,...ie){if(t.apply(this,arguments)){var $=this.__zoom,Z=qi(K.changedTouches?K.changedTouches[0]:K,this),re=$.invert(Z),le=$.k*(K.shiftKey?.5:2),_e=n(A(O($,le),Z,re),e.apply(this,ie),l);M0(K),c>0?Xr(this).transition().duration(c).call(U,_e,Z,K):Xr(this).call(C.transform,_e,Z,K)}}function V(K,...ie){if(t.apply(this,arguments)){var $=K.touches,Z=$.length,re=q(this,ie,K.changedTouches.length===Z).event(K),le,_e,X,te;for(iv(K),_e=0;_e<Z;++_e)X=$[_e],te=qi(X,this),te=[te,this.__zoom.invert(te),X.identifier],re.touch0?!re.touch1&&re.touch0[2]!==te[2]&&(re.touch1=te,re.taps=0):(re.touch0=te,le=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),le&&(re.taps<2&&(p=te[0],m=setTimeout(function(){m=null},b)),Xd(this),re.start())}}function j(K,...ie){if(this.__zooming){var $=q(this,ie).event(K),Z=K.changedTouches,re=Z.length,le,_e,X,te;for(M0(K),le=0;le<re;++le)_e=Z[le],X=qi(_e,this),$.touch0&&$.touch0[2]===_e.identifier?$.touch0[0]=X:$.touch1&&$.touch1[2]===_e.identifier&&($.touch1[0]=X);if(_e=$.that.__zoom,$.touch1){var ve=$.touch0[0],Q=$.touch0[1],ae=$.touch1[0],ce=$.touch1[1],pe=(pe=ae[0]-ve[0])*pe+(pe=ae[1]-ve[1])*pe,be=(be=ce[0]-Q[0])*be+(be=ce[1]-Q[1])*be;_e=O(_e,Math.sqrt(pe/be)),X=[(ve[0]+ae[0])/2,(ve[1]+ae[1])/2],te=[(Q[0]+ce[0])/2,(Q[1]+ce[1])/2]}else if($.touch0)X=$.touch0[0],te=$.touch0[1];else return;$.zoom("touch",n(A(_e,X,te),$.extent,l))}}function B(K,...ie){if(this.__zooming){var $=q(this,ie).event(K),Z=K.changedTouches,re=Z.length,le,_e;for(iv(K),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),le=0;le<re;++le)_e=Z[le],$.touch0&&$.touch0[2]===_e.identifier?delete $.touch0:$.touch1&&$.touch1[2]===_e.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(_e=qi(_e,this),Math.hypot(p[0]-_e[0],p[1]-_e[1])<E)){var X=Xr(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return C.wheelDelta=function(K){return arguments.length?(r=typeof K=="function"?K:Sd(+K),C):r},C.filter=function(K){return arguments.length?(t=typeof K=="function"?K:Sd(!!K),C):t},C.touchable=function(K){return arguments.length?(i=typeof K=="function"?K:Sd(!!K),C):i},C.extent=function(K){return arguments.length?(e=typeof K=="function"?K:Sd([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),C):e},C.scaleExtent=function(K){return arguments.length?(s[0]=+K[0],s[1]=+K[1],C):[s[0],s[1]]},C.translateExtent=function(K){return arguments.length?(l[0][0]=+K[0][0],l[1][0]=+K[1][0],l[0][1]=+K[0][1],l[1][1]=+K[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(K){return arguments.length?(n=K,C):n},C.duration=function(K){return arguments.length?(c=+K,C):c},C.interpolate=function(K){return arguments.length?(h=K,C):h},C.on=function(){var K=f.on.apply(f,arguments);return K===f?C:K},C.clickDistance=function(K){return arguments.length?(S=(K=+K)*K,C):Math.sqrt(S)},C.tapDistance=function(K){return arguments.length?(E=+K,C):E},C}const ba={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},rh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],uM=["Enter"," ","Escape"],cM={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var rc;(function(t){t.Strict="strict",t.Loose="loose"})(rc||(rc={}));var Cl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Cl||(Cl={}));var ih;(function(t){t.Partial="partial",t.Full="full"})(ih||(ih={}));const hM={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var po;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(po||(po={}));var ah;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(ah||(ah={}));var Ye;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ye||(Ye={}));const ax={[Ye.Left]:Ye.Right,[Ye.Right]:Ye.Left,[Ye.Top]:Ye.Bottom,[Ye.Bottom]:Ye.Top};function fM(t){return t===null?null:t?"valid":"invalid"}const dM=t=>"id"in t&&"source"in t&&"target"in t,eH=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),m_=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Ah=(t,e=[0,0])=>{const{width:n,height:r}=bs(t),i=t.origin??e,s=n*i[0],l=r*i[1];return{x:t.position.x-s,y:t.position.y-l}},tH=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let l=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(l=s?e.nodeLookup.get(i):m_(i)?i:e.nodeLookup.get(i.id));const c=l?pm(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return t1(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return n1(n)},Ch=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=t1(n,pm(i)),r=!0)}),r?n1(n):{x:0,y:0,width:0,height:0}},p_=(t,e,[n,r,i]=[0,0,1],s=!1,l=!1)=>{const c={...Ih(e,[n,r,i]),width:e.width/i,height:e.height/i},h=[];for(const f of t.values()){const{measured:m,selectable:p=!0,hidden:v=!1}=f;if(l&&!p||v)continue;const b=m.width??f.width??f.initialWidth??null,w=m.height??f.height??f.initialHeight??null,S=sh(c,ac(f)),E=(b??0)*(w??0),C=s&&S>0;(!f.internals.handleBounds||C||S>=E||f.dragging)&&h.push(f)}return h},nH=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function rH(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function iH({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},l){if(t.size===0)return Promise.resolve(!0);const c=rH(t,l),h=Ch(c),f=g_(h,e,n,l?.minZoom??i,l?.maxZoom??s,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function mM({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:h,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)s?.("005",ba.error005());else{const b=c.measured.width,w=c.measured.height;b&&w&&(p=[[h,f],[h+b,f+w]])}else c&&sc(l.extent)&&(p=[[l.extent[0][0]+h,l.extent[0][1]+f],[l.extent[1][0]+h,l.extent[1][1]+f]]);const v=sc(p)?Ol(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",ba.error015()),{position:{x:v.x-h+(l.measured.width??0)*m[0],y:v.y-f+(l.measured.height??0)*m[1]},positionAbsolute:v}}async function aH({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(v=>v.id)),l=[];for(const v of n){if(v.deletable===!1)continue;const b=s.has(v.id),w=!b&&v.parentId&&l.find(S=>S.id===v.parentId);(b||w)&&l.push(v)}const c=new Set(e.map(v=>v.id)),h=r.filter(v=>v.deletable!==!1),m=nH(l,h);for(const v of h)c.has(v.id)&&!m.find(w=>w.id===v.id)&&m.push(v);if(!i)return{edges:m,nodes:l};const p=await i({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const ic=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ol=(t={x:0,y:0},e,n)=>({x:ic(t.x,e[0][0],e[1][0]-(n?.width??0)),y:ic(t.y,e[0][1],e[1][1]-(n?.height??0))});function pM(t,e,n){const{width:r,height:i}=bs(n),{x:s,y:l}=n.internals.positionAbsolute;return Ol(t,[[s,l],[s+r,l+i]],e)}const sx=(t,e,n)=>t<e?ic(Math.abs(t-e),1,e)/e:t>n?-ic(Math.abs(t-n),1,e)/e:0,gM=(t,e,n=15,r=40)=>{const i=sx(t.x,r,e.width-r)*n,s=sx(t.y,r,e.height-r)*n;return[i,s]},t1=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),_6=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),n1=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),ac=(t,e=[0,0])=>{const{x:n,y:r}=m_(t)?t.internals.positionAbsolute:Ah(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},pm=(t,e=[0,0])=>{const{x:n,y:r}=m_(t)?t.internals.positionAbsolute:Ah(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},vM=(t,e)=>n1(t1(_6(t),_6(e))),sh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},ox=t=>Ui(t.width)&&Ui(t.height)&&Ui(t.x)&&Ui(t.y),Ui=t=>!isNaN(t)&&isFinite(t),sH=(t,e)=>{},Rh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Ih=({x:t,y:e},[n,r,i],s=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return s?Rh(c,l):c},gm=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Pu(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function oH(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Pu(t,n),i=Pu(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Pu(t.top??t.y??0,n),i=Pu(t.bottom??t.y??0,n),s=Pu(t.left??t.x??0,e),l=Pu(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:s,x:s+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function lH(t,e,n,r,i,s){const{x:l,y:c}=gm(t,[e,n,r]),{x:h,y:f}=gm({x:t.x+t.width,y:t.y+t.height},[e,n,r]),m=i-h,p=s-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const g_=(t,e,n,r,i,s)=>{const l=oH(s,e,n),c=(e-l.x)/t.width,h=(n-l.y)/t.height,f=Math.min(c,h),m=ic(f,r,i),p=t.x+t.width/2,v=t.y+t.height/2,b=e/2-p*m,w=n/2-v*m,S=lH(t,b,w,m,e,n),E={left:Math.min(S.left-l.left,0),top:Math.min(S.top-l.top,0),right:Math.min(S.right-l.right,0),bottom:Math.min(S.bottom-l.bottom,0)};return{x:b-E.left+E.right,y:w-E.top+E.bottom,zoom:m}},oh=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function sc(t){return t!=null&&t!=="parent"}function bs(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function yM(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function _M(t,e={width:0,height:0},n,r,i){const s={...t},l=r.get(n);if(l){const c=l.origin||i;s.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return s}function lx(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function uH(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function cH(t){return{...cM,...t||{}}}function H0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:l}=Hi(t),c=Ih({x:s-(i?.left??0),y:l-(i?.top??0)},r),{x:h,y:f}=n?Rh(c,e):c;return{xSnapped:h,ySnapped:f,...c}}const v_=t=>({width:t.offsetWidth,height:t.offsetHeight}),bM=t=>t?.getRootNode?.()||window?.document,hH=["INPUT","SELECT","TEXTAREA"];function wM(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:hH.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const xM=t=>"clientX"in t,Hi=(t,e)=>{const n=xM(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},ux=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...v_(l)}})};function SM({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c}){const h=t*.125+i*.375+l*.375+n*.125,f=e*.125+s*.375+c*.375+r*.125,m=Math.abs(h-t),p=Math.abs(f-e);return[h,f,m,p]}function Ed(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function cx({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Ye.Left:return[e-Ed(e-r,s),n];case Ye.Right:return[e+Ed(r-e,s),n];case Ye.Top:return[e,n-Ed(n-i,s)];case Ye.Bottom:return[e,n+Ed(i-n,s)]}}function EM({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top,curvature:l=.25}){const[c,h]=cx({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[f,m]=cx({pos:s,x1:r,y1:i,x2:t,y2:e,c:l}),[p,v,b,w]=SM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:h,targetControlX:f,targetControlY:m});return[`M${t},${e} C${c},${h} ${f},${m} ${r},${i}`,p,v,b,w]}function TM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[s,c,i,l]}function fH({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function dH({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=t1(pm(t),pm(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return sh(l,n1(s))>0}const mH=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,pH=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),gH=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||mH;let i;return dM(t)?i={...t}:i={...t,id:r(t)},pH(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function AM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,l,c]=TM({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,l,c]}const hx={[Ye.Left]:{x:-1,y:0},[Ye.Right]:{x:1,y:0},[Ye.Top]:{x:0,y:-1},[Ye.Bottom]:{x:0,y:1}},vH=({source:t,sourcePosition:e=Ye.Bottom,target:n})=>e===Ye.Left||e===Ye.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},fx=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function yH({source:t,sourcePosition:e=Ye.Bottom,target:n,targetPosition:r=Ye.Top,center:i,offset:s,stepPosition:l}){const c=hx[e],h=hx[r],f={x:t.x+c.x*s,y:t.y+c.y*s},m={x:n.x+h.x*s,y:n.y+h.y*s},p=vH({source:f,sourcePosition:e,target:m}),v=p.x!==0?"x":"y",b=p[v];let w=[],S,E;const C={x:0,y:0},O={x:0,y:0},[,,A,z]=TM({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[v]*h[v]===-1){v==="x"?(S=i.x??f.x+(m.x-f.x)*l,E=i.y??(f.y+m.y)/2):(S=i.x??(f.x+m.x)/2,E=i.y??f.y+(m.y-f.y)*l);const q=[{x:S,y:f.y},{x:S,y:m.y}],R=[{x:f.x,y:E},{x:m.x,y:E}];c[v]===b?w=v==="x"?q:R:w=v==="x"?R:q}else{const q=[{x:f.x,y:m.y}],R=[{x:m.x,y:f.y}];if(v==="x"?w=c.x===b?R:q:w=c.y===b?q:R,e===r){const j=Math.abs(t[v]-n[v]);if(j<=s){const B=Math.min(s-1,s-j);c[v]===b?C[v]=(f[v]>t[v]?-1:1)*B:O[v]=(m[v]>n[v]?-1:1)*B}}if(e!==r){const j=v==="x"?"y":"x",B=c[v]===h[j],K=f[j]>m[j],ie=f[j]<m[j];(c[v]===1&&(!B&&K||B&&ie)||c[v]!==1&&(!B&&ie||B&&K))&&(w=v==="x"?q:R)}const k={x:f.x+C.x,y:f.y+C.y},D={x:m.x+O.x,y:m.y+O.y},H=Math.max(Math.abs(k.x-w[0].x),Math.abs(D.x-w[0].x)),V=Math.max(Math.abs(k.y-w[0].y),Math.abs(D.y-w[0].y));H>=V?(S=(k.x+D.x)/2,E=w[0].y):(S=w[0].x,E=(k.y+D.y)/2)}return[[t,{x:f.x+C.x,y:f.y+C.y},...w,{x:m.x+O.x,y:m.y+O.y},n],S,E,A,z]}function _H(t,e,n,r){const i=Math.min(fx(t,e)/2,fx(e,n)/2,r),{x:s,y:l}=e;if(t.x===s&&s===n.x||t.y===l&&l===n.y)return`L${s} ${l}`;if(t.y===l){const f=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${s+i*f},${l}Q ${s},${l} ${s},${l+i*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${s},${l+i*h}Q ${s},${l} ${s+i*c},${l}`}function b6({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top,borderRadius:l=5,centerX:c,centerY:h,offset:f=20,stepPosition:m=.5}){const[p,v,b,w,S]=yH({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:h},offset:f,stepPosition:m});return[p.reduce((C,O,A)=>{let z="";return A>0&&A<p.length-1?z=_H(p[A-1],O,p[A+1],l):z=`${A===0?"M":"L"}${O.x} ${O.y}`,C+=z,C},""),v,b,w,S]}function dx(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function bH(t){const{sourceNode:e,targetNode:n}=t;if(!dx(e)||!dx(n))return null;const r=e.internals.handleBounds||mx(e.handles),i=n.internals.handleBounds||mx(n.handles),s=px(r?.source??[],t.sourceHandle),l=px(t.connectionMode===rc.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!l)return t.onError?.("008",ba.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=s?.position||Ye.Bottom,h=l?.position||Ye.Top,f=zl(e,s,c),m=zl(n,l,h);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:h}}function mx(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function zl(t,e,n=Ye.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??bs(t);if(r)return{x:i+l/2,y:s+c/2};switch(e?.position??n){case Ye.Top:return{x:i+l/2,y:s};case Ye.Right:return{x:i+l,y:s+c/2};case Ye.Bottom:return{x:i+l/2,y:s+c};case Ye.Left:return{x:i,y:s+c/2}}}function px(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function w6(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function wH(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(h=>{if(h&&typeof h=="object"){const f=w6(h,e);s.has(f)||(l.push({id:f,color:h.color||n,...h}),s.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const CM=1e3,xH=10,y_={nodeOrigin:[0,0],nodeExtent:rh,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},SH={...y_,checkEquality:!0};function __(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function EH(t,e,n){const r=__(y_,n);for(const i of t.values())if(i.parentId)w_(i,t,e,r);else{const s=Ah(i,r.nodeOrigin),l=sc(i.extent)?i.extent:r.nodeExtent,c=Ol(s,l,bs(i));i.internals.positionAbsolute=c}}function TH(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function b_(t){return t==="manual"}function x6(t,e,n,r={}){const i=__(SH,r),s={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!b_(i.zIndexMode)?CM:0;let h=t.length>0;e.clear(),n.clear();for(const f of t){let m=l.get(f.id);if(i.checkEquality&&f===m?.internals.userNode)e.set(f.id,m);else{const p=Ah(f,i.nodeOrigin),v=sc(f.extent)?f.extent:i.nodeExtent,b=Ol(p,v,bs(f));m={...i.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:b,handleBounds:TH(f,m),z:RM(f,c,i.zIndexMode),userNode:f}},e.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),f.parentId&&w_(m,e,n,r,s)}return h}function AH(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function w_(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:c,zIndexMode:h}=__(y_,r),f=t.parentId,m=e.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}AH(t,n),i&&!m.parentId&&m.internals.rootParentIndex===void 0&&h==="auto"&&(m.internals.rootParentIndex=++i.i,m.internals.z=m.internals.z+i.i*xH),i&&m.internals.rootParentIndex!==void 0&&(i.i=m.internals.rootParentIndex);const p=s&&!b_(h)?CM:0,{x:v,y:b,z:w}=CH(t,m,l,c,p,h),{positionAbsolute:S}=t.internals,E=v!==S.x||b!==S.y;(E||w!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:E?{x:v,y:b}:S,z:w}})}function RM(t,e,n){const r=Ui(t.zIndex)?t.zIndex:0;return b_(n)?r:r+(t.selected?e:0)}function CH(t,e,n,r,i,s){const{x:l,y:c}=e.internals.positionAbsolute,h=bs(t),f=Ah(t,n),m=sc(t.extent)?Ol(f,t.extent,h):f;let p=Ol({x:l+m.x,y:c+m.y},r,h);t.extent==="parent"&&(p=pM(p,h,e));const v=RM(t,i,s),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>=v?b+1:v}}function x_(t,e,n,r=[0,0]){const i=[],s=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const h=s.get(l.parentId)?.expandedRect??ac(c),f=vM(h,l.rect);s.set(l.parentId,{expandedRect:f,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},h)=>{const f=c.internals.positionAbsolute,m=bs(c),p=c.origin??r,v=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,b=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,w=Math.max(m.width,Math.round(l.width)),S=Math.max(m.height,Math.round(l.height)),E=(w-m.width)*p[0],C=(S-m.height)*p[1];(v>0||b>0||E||C)&&(i.push({id:h,type:"position",position:{x:c.position.x-v+E,y:c.position.y-b+C}}),n.get(h)?.forEach(O=>{t.some(A=>A.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+v,y:O.position.y+b}})})),(m.width<l.width||m.height<l.height||v||b)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?p[0]*v-E:0),height:S+(b?p[1]*b-C:0)}})}),i}function RH(t,e,n,r,i,s,l){const c=r?.querySelector(".xyflow__viewport");let h=!1;if(!c)return{changes:[],updatedInternals:h};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const b of t.values()){const w=e.get(b.id);if(!w)continue;if(w.hidden){e.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),h=!0;continue}const S=v_(b.nodeElement),E=w.measured.width!==S.width||w.measured.height!==S.height;if(!!(S.width&&S.height&&(E||!w.internals.handleBounds||b.force))){const O=b.nodeElement.getBoundingClientRect(),A=sc(w.extent)?w.extent:s;let{positionAbsolute:z}=w.internals;w.parentId&&w.extent==="parent"?z=pM(z,S,e.get(w.parentId)):A&&(z=Ol(z,A,S));const U={...w,measured:S,internals:{...w.internals,positionAbsolute:z,handleBounds:{source:ux("source",b.nodeElement,O,p,w.id),target:ux("target",b.nodeElement,O,p,w.id)}}};e.set(w.id,U),w.parentId&&w_(U,e,n,{nodeOrigin:i,zIndexMode:l}),h=!0,E&&(f.push({id:w.id,type:"dimensions",dimensions:S}),w.expandParent&&w.parentId&&v.push({id:w.id,parentId:w.parentId,rect:ac(U,i)}))}}if(v.length>0){const b=x_(v,e,n,i);f.push(...b)}return{changes:f,updatedInternals:h}}async function IH({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function gx(t,e,n,r,i,s){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const h=r.get(l)||new Map;if(r.set(l,h.set(n,e)),s){l=`${i}-${t}-${s}`;const f=r.get(l)||new Map;r.set(l,f.set(n,e))}}function IM(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:l=null,targetHandle:c=null}=r,h={edgeId:r.id,source:i,target:s,sourceHandle:l,targetHandle:c},f=`${i}-${l}--${s}-${c}`,m=`${s}-${c}--${i}-${l}`;gx("source",h,m,t,i,l),gx("target",h,f,t,s,c),e.set(r.id,r)}}function NM(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:NM(n,e):!1}function vx(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function NH(t,e,n,r){const i=new Map;for(const[s,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!NM(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(s);c&&i.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function av({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const h=n.get(l)?.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function MH({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},l=Rh(s,e);return{x:l.x-s.x,y:l.y-s.y}}function kH({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},l=0,c=new Map,h=!1,f={x:0,y:0},m=null,p=!1,v=null,b=!1,w=!1,S=null;function E({noDragClassName:O,handleSelector:A,domNode:z,isSelectable:U,nodeId:q,nodeClickDistance:R=0}){v=Xr(z);function k({x:j,y:B}){const{nodeLookup:K,nodeExtent:ie,snapGrid:$,snapToGrid:Z,nodeOrigin:re,onNodeDrag:le,onSelectionDrag:_e,onError:X,updateNodePositions:te}=e();s={x:j,y:B};let ve=!1;const Q=c.size>1,ae=Q&&ie?_6(Ch(c)):null,ce=Q&&Z?MH({dragItems:c,snapGrid:$,x:j,y:B}):null;for(const[pe,be]of c){if(!K.has(pe))continue;let Ce={x:j-be.distance.x,y:B-be.distance.y};Z&&(Ce=ce?{x:Math.round(Ce.x+ce.x),y:Math.round(Ce.y+ce.y)}:Rh(Ce,$));let Le=null;if(Q&&ie&&!be.extent&&ae){const{positionAbsolute:Pe}=be.internals,Ge=Pe.x-ae.x+ie[0][0],Be=Pe.x+be.measured.width-ae.x2+ie[1][0],st=Pe.y-ae.y+ie[0][1],$e=Pe.y+be.measured.height-ae.y2+ie[1][1];Le=[[Ge,st],[Be,$e]]}const{position:He,positionAbsolute:Ue}=mM({nodeId:pe,nextPosition:Ce,nodeLookup:K,nodeExtent:Le||ie,nodeOrigin:re,onError:X});ve=ve||be.position.x!==He.x||be.position.y!==He.y,be.position=He,be.internals.positionAbsolute=Ue}if(w=w||ve,!!ve&&(te(c,!0),S&&(r||le||!q&&_e))){const[pe,be]=av({nodeId:q,dragItems:c,nodeLookup:K});r?.(S,c,pe,be),le?.(S,pe,be),q||_e?.(S,be)}}async function D(){if(!m)return;const{transform:j,panBy:B,autoPanSpeed:K,autoPanOnNodeDrag:ie}=e();if(!ie){h=!1,cancelAnimationFrame(l);return}const[$,Z]=gM(f,m,K);($!==0||Z!==0)&&(s.x=(s.x??0)-$/j[2],s.y=(s.y??0)-Z/j[2],await B({x:$,y:Z})&&k(s)),l=requestAnimationFrame(D)}function H(j){const{nodeLookup:B,multiSelectionActive:K,nodesDraggable:ie,transform:$,snapGrid:Z,snapToGrid:re,selectNodesOnDrag:le,onNodeDragStart:_e,onSelectionDragStart:X,unselectNodesAndEdges:te}=e();p=!0,(!le||!U)&&!K&&q&&(B.get(q)?.selected||te()),U&&le&&q&&t?.(q);const ve=H0(j.sourceEvent,{transform:$,snapGrid:Z,snapToGrid:re,containerBounds:m});if(s=ve,c=NH(B,ie,ve,q),c.size>0&&(n||_e||!q&&X)){const[Q,ae]=av({nodeId:q,dragItems:c,nodeLookup:B});n?.(j.sourceEvent,c,Q,ae),_e?.(j.sourceEvent,Q,ae),q||X?.(j.sourceEvent,ae)}}const V=YN().clickDistance(R).on("start",j=>{const{domNode:B,nodeDragThreshold:K,transform:ie,snapGrid:$,snapToGrid:Z}=e();m=B?.getBoundingClientRect()||null,b=!1,w=!1,S=j.sourceEvent,K===0&&H(j),s=H0(j.sourceEvent,{transform:ie,snapGrid:$,snapToGrid:Z,containerBounds:m}),f=Hi(j.sourceEvent,m)}).on("drag",j=>{const{autoPanOnNodeDrag:B,transform:K,snapGrid:ie,snapToGrid:$,nodeDragThreshold:Z,nodeLookup:re}=e(),le=H0(j.sourceEvent,{transform:K,snapGrid:ie,snapToGrid:$,containerBounds:m});if(S=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||q&&!re.has(q))&&(b=!0),!b){if(!h&&B&&p&&(h=!0,D()),!p){const _e=Hi(j.sourceEvent,m),X=_e.x-f.x,te=_e.y-f.y;Math.sqrt(X*X+te*te)>Z&&H(j)}(s.x!==le.xSnapped||s.y!==le.ySnapped)&&c&&p&&(f=Hi(j.sourceEvent,m),k(le))}}).on("end",j=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:B,updateNodePositions:K,onNodeDragStop:ie,onSelectionDragStop:$}=e();if(w&&(K(c,!1),w=!1),i||ie||!q&&$){const[Z,re]=av({nodeId:q,dragItems:c,nodeLookup:B,dragging:!1});i?.(j.sourceEvent,c,Z,re),ie?.(j.sourceEvent,Z,re),q||$?.(j.sourceEvent,re)}}}).filter(j=>{const B=j.target;return!j.button&&(!O||!vx(B,`.${O}`,z))&&(!A||vx(B,A,z))});v.call(V)}function C(){v?.on(".drag",null)}return{update:E,destroy:C}}function DH(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())sh(i,ac(s))>0&&r.push(s);return r}const OH=250;function zH(t,e,n,r){let i=[],s=1/0;const l=DH(t,n,e+OH);for(const c of l){const h=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:m,y:p}=zl(c,f,f.position,!0),v=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(p-t.y,2));v>e||(v<s?(i=[{...f,x:m,y:p}],s=v):v===s&&i.push({...f,x:m,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(h=>h.type===c)??i[0]}return i[0]}function MM(t,e,n,r,i,s=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],h=(n?c?.find(f=>f.id===n):c?.[0])??null;return h&&s?{...h,...zl(l,h,h.position,!0)}:h}function kM(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function LH(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const DM=()=>!0;function VH(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:l,domNode:c,nodeLookup:h,lib:f,autoPanOnConnect:m,flowId:p,panBy:v,cancelConnection:b,onConnectStart:w,onConnect:S,onConnectEnd:E,isValidConnection:C=DM,onReconnectEnd:O,updateConnection:A,getTransform:z,getFromHandle:U,autoPanSpeed:q,dragThreshold:R=1,handleDomNode:k}){const D=bM(t.target);let H=0,V;const{x:j,y:B}=Hi(t),K=kM(s,k),ie=c?.getBoundingClientRect();let $=!1;if(!ie||!K)return;const Z=MM(i,K,r,h,e);if(!Z)return;let re=Hi(t,ie),le=!1,_e=null,X=!1,te=null;function ve(){if(!m||!ie)return;const[He,Ue]=gM(re,ie,q);v({x:He,y:Ue}),H=requestAnimationFrame(ve)}const Q={...Z,nodeId:i,type:K,position:Z.position},ae=h.get(i);let pe={inProgress:!0,isValid:null,from:zl(ae,Q,Ye.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ae,to:re,toHandle:null,toPosition:ax[Q.position],toNode:null,pointer:re};function be(){$=!0,A(pe),w?.(t,{nodeId:i,handleId:r,handleType:K})}R===0&&be();function Ce(He){if(!$){const{x:$e,y:Xt}=Hi(He),lt=$e-j,zt=Xt-B;if(!(lt*lt+zt*zt>R*R))return;be()}if(!U()||!Q){Le(He);return}const Ue=z();re=Hi(He,ie),V=zH(Ih(re,Ue,!1,[1,1]),n,h,Q),le||(ve(),le=!0);const Pe=OM(He,{handle:V,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:C,doc:D,lib:f,flowId:p,nodeLookup:h});te=Pe.handleDomNode,_e=Pe.connection,X=LH(!!V,Pe.isValid);const Ge=h.get(i),Be=Ge?zl(Ge,Q,Ye.Left,!0):pe.from,st={...pe,from:Be,isValid:X,to:Pe.toHandle&&X?gm({x:Pe.toHandle.x,y:Pe.toHandle.y},Ue):re,toHandle:Pe.toHandle,toPosition:X&&Pe.toHandle?Pe.toHandle.position:ax[Q.position],toNode:Pe.toHandle?h.get(Pe.toHandle.nodeId):null,pointer:re};A(st),pe=st}function Le(He){if(!("touches"in He&&He.touches.length>0)){if($){(V||te)&&_e&&X&&S?.(_e);const{inProgress:Ue,...Pe}=pe,Ge={...Pe,toPosition:pe.toHandle?pe.toPosition:null};E?.(He,Ge),s&&O?.(He,Ge)}b(),cancelAnimationFrame(H),le=!1,X=!1,_e=null,te=null,D.removeEventListener("mousemove",Ce),D.removeEventListener("mouseup",Le),D.removeEventListener("touchmove",Ce),D.removeEventListener("touchend",Le)}}D.addEventListener("mousemove",Ce),D.addEventListener("mouseup",Le),D.addEventListener("touchmove",Ce),D.addEventListener("touchend",Le)}function OM(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:l,lib:c,flowId:h,isValidConnection:f=DM,nodeLookup:m}){const p=s==="target",v=e?l.querySelector(`.${c}-flow__handle[data-id="${h}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:b,y:w}=Hi(t),S=l.elementFromPoint(b,w),E=S?.classList.contains(`${c}-flow__handle`)?S:v,C={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const O=kM(void 0,E),A=E.getAttribute("data-nodeid"),z=E.getAttribute("data-handleid"),U=E.classList.contains("connectable"),q=E.classList.contains("connectableend");if(!A||!O)return C;const R={source:p?A:r,sourceHandle:p?z:i,target:p?r:A,targetHandle:p?i:z};C.connection=R;const D=U&&q&&(n===rc.Strict?p&&O==="source"||!p&&O==="target":A!==r||z!==i);C.isValid=D&&f(R),C.toHandle=MM(A,O,z,m,n,!0)}return C}const S6={onPointerDown:VH,isValid:OM};function qH({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Xr(t);function s({translateExtent:c,width:h,height:f,zoomStep:m=1,pannable:p=!0,zoomable:v=!0,inversePan:b=!1}){const w=A=>{if(A.sourceEvent.type!=="wheel"||!e)return;const z=n(),U=A.sourceEvent.ctrlKey&&oh()?10:1,q=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*m,R=z[2]*Math.pow(2,q*U);e.scaleTo(R)};let S=[0,0];const E=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(S=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const z=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!e)return;const U=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],q=[U[0]-S[0],U[1]-S[1]];S=U;const R=r()*Math.max(z[2],Math.log(z[2]))*(b?-1:1),k={x:z[0]-q[0]*R,y:z[1]-q[1]*R},D=[[0,0],[h,f]];e.setViewportConstrained({x:k.x,y:k.y,zoom:z[2]},D,c)},O=lM().on("start",E).on("zoom",p?C:null).on("zoom.wheel",v?w:null);i.call(O,{})}function l(){i.on("zoom",null)}return{update:s,destroy:l,pointer:qi}}const r1=t=>({x:t.x,y:t.y,zoom:t.k}),sv=({x:t,y:e,zoom:n})=>e1.translate(t,e).scale(n),Fu=(t,e)=>t.target.closest(`.${e}`),zM=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),PH=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,ov=(t,e=0,n=PH,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},LM=t=>{const e=t.ctrlKey&&oh()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function BH({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:h,onPanZoomEnd:f}){return m=>{if(Fu(m,e))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const E=qi(m),C=LM(m),O=p*Math.pow(2,C);r.scaleTo(n,O,E,m);return}const v=m.deltaMode===1?20:1;let b=i===Cl.Vertical?0:m.deltaX*v,w=i===Cl.Horizontal?0:m.deltaY*v;!oh()&&m.shiftKey&&i!==Cl.Vertical&&(b=m.deltaY*v,w=0),r.translateBy(n,-(b/p)*s,-(w/p)*s,{internal:!0});const S=r1(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h?.(m,S),t.panScrollTimeout=setTimeout(()=>{f?.(m,S),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(m,S))}}function jH({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",l=!e&&s&&!r.ctrlKey,c=Fu(r,t);if(r.ctrlKey&&s&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function UH({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=r1(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function HH({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&zM(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,r1(s.transform))}}function FH({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&zM(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=r1(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function GH({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:c,noPanClassName:h,lib:f,connectionInProgress:m}){return p=>{const v=t||e,b=n&&p.ctrlKey,w=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Fu(p,`${f}-flow__node`)||Fu(p,`${f}-flow__edge`)))return!0;if(!r&&!v&&!i&&!s&&!n||l||m&&!w||Fu(p,c)&&w||Fu(p,h)&&(!w||i&&w&&!t)||!n&&p.ctrlKey&&w)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!v&&!i&&!b&&w||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const S=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||w)&&S}}function $H({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:h}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),p=lM().scaleExtent([e,n]).translateExtent(r),v=Xr(t).call(p);O({x:i.x,y:i.y,zoom:ic(i.zoom,e,n)},[[0,0],[m.width,m.height]],r);const b=v.on("wheel.zoom"),w=v.on("dblclick.zoom");p.wheelDelta(LM);function S(V,j){return v?new Promise(B=>{p?.interpolate(j?.interpolate==="linear"?U0:Gd).transform(ov(v,j?.duration,j?.ease,()=>B(!0)),V)}):Promise.resolve(!1)}function E({noWheelClassName:V,noPanClassName:j,onPaneContextMenu:B,userSelectionActive:K,panOnScroll:ie,panOnDrag:$,panOnScrollMode:Z,panOnScrollSpeed:re,preventScrolling:le,zoomOnPinch:_e,zoomOnScroll:X,zoomOnDoubleClick:te,zoomActivationKeyPressed:ve,lib:Q,onTransformChange:ae,connectionInProgress:ce,paneClickDistance:pe,selectionOnDrag:be}){K&&!f.isZoomingOrPanning&&C();const Ce=ie&&!ve&&!K;p.clickDistance(be?1/0:!Ui(pe)||pe<0?0:pe);const Le=Ce?BH({zoomPanValues:f,noWheelClassName:V,d3Selection:v,d3Zoom:p,panOnScrollMode:Z,panOnScrollSpeed:re,zoomOnPinch:_e,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:c}):jH({noWheelClassName:V,preventScrolling:le,d3ZoomHandler:b});if(v.on("wheel.zoom",Le,{passive:!1}),!K){const Ue=UH({zoomPanValues:f,onDraggingChange:h,onPanZoomStart:l});p.on("start",Ue);const Pe=HH({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!B,onPanZoom:s,onTransformChange:ae});p.on("zoom",Pe);const Ge=FH({zoomPanValues:f,panOnDrag:$,panOnScroll:ie,onPaneContextMenu:B,onPanZoomEnd:c,onDraggingChange:h});p.on("end",Ge)}const He=GH({zoomActivationKeyPressed:ve,panOnDrag:$,zoomOnScroll:X,panOnScroll:ie,zoomOnDoubleClick:te,zoomOnPinch:_e,userSelectionActive:K,noPanClassName:j,noWheelClassName:V,lib:Q,connectionInProgress:ce});p.filter(He),te?v.on("dblclick.zoom",w):v.on("dblclick.zoom",null)}function C(){p.on("zoom",null)}async function O(V,j,B){const K=sv(V),ie=p?.constrain()(K,j,B);return ie&&await S(ie),new Promise($=>$(ie))}async function A(V,j){const B=sv(V);return await S(B,j),new Promise(K=>K(B))}function z(V){if(v){const j=sv(V),B=v.property("__zoom");(B.k!==V.zoom||B.x!==V.x||B.y!==V.y)&&p?.transform(v,j,null,{sync:!0})}}function U(){const V=v?oM(v.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function q(V,j){return v?new Promise(B=>{p?.interpolate(j?.interpolate==="linear"?U0:Gd).scaleTo(ov(v,j?.duration,j?.ease,()=>B(!0)),V)}):Promise.resolve(!1)}function R(V,j){return v?new Promise(B=>{p?.interpolate(j?.interpolate==="linear"?U0:Gd).scaleBy(ov(v,j?.duration,j?.ease,()=>B(!0)),V)}):Promise.resolve(!1)}function k(V){p?.scaleExtent(V)}function D(V){p?.translateExtent(V)}function H(V){const j=!Ui(V)||V<0?0:V;p?.clickDistance(j)}return{update:E,destroy:C,setViewport:A,setViewportConstrained:O,getViewport:U,scaleTo:q,scaleBy:R,setScaleExtent:k,setTranslateExtent:D,syncViewport:z,setClickDistance:H}}var oc;(function(t){t.Line="line",t.Handle="handle"})(oc||(oc={}));function YH({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const l=t-e,c=n-r,h=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(h[0]=h[0]*-1),c&&s&&(h[1]=h[1]*-1),h}function yx(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function oo(t,e){return Math.max(0,e-t)}function lo(t,e){return Math.max(0,t-e)}function Td(t,e,n){return Math.max(0,e-t,t-n)}function _x(t,e){return t?!e:e}function XH(t,e,n,r,i,s,l,c){let{affectsX:h,affectsY:f}=e;const{isHorizontal:m,isVertical:p}=e,v=m&&p,{xSnapped:b,ySnapped:w}=n,{minWidth:S,maxWidth:E,minHeight:C,maxHeight:O}=r,{x:A,y:z,width:U,height:q,aspectRatio:R}=t;let k=Math.floor(m?b-t.pointerX:0),D=Math.floor(p?w-t.pointerY:0);const H=U+(h?-k:k),V=q+(f?-D:D),j=-s[0]*U,B=-s[1]*q;let K=Td(H,S,E),ie=Td(V,C,O);if(l){let re=0,le=0;h&&k<0?re=oo(A+k+j,l[0][0]):!h&&k>0&&(re=lo(A+H+j,l[1][0])),f&&D<0?le=oo(z+D+B,l[0][1]):!f&&D>0&&(le=lo(z+V+B,l[1][1])),K=Math.max(K,re),ie=Math.max(ie,le)}if(c){let re=0,le=0;h&&k>0?re=lo(A+k,c[0][0]):!h&&k<0&&(re=oo(A+H,c[1][0])),f&&D>0?le=lo(z+D,c[0][1]):!f&&D<0&&(le=oo(z+V,c[1][1])),K=Math.max(K,re),ie=Math.max(ie,le)}if(i){if(m){const re=Td(H/R,C,O)*R;if(K=Math.max(K,re),l){let le=0;!h&&!f||h&&!f&&v?le=lo(z+B+H/R,l[1][1])*R:le=oo(z+B+(h?k:-k)/R,l[0][1])*R,K=Math.max(K,le)}if(c){let le=0;!h&&!f||h&&!f&&v?le=oo(z+H/R,c[1][1])*R:le=lo(z+(h?k:-k)/R,c[0][1])*R,K=Math.max(K,le)}}if(p){const re=Td(V*R,S,E)/R;if(ie=Math.max(ie,re),l){let le=0;!h&&!f||f&&!h&&v?le=lo(A+V*R+j,l[1][0])/R:le=oo(A+(f?D:-D)*R+j,l[0][0])/R,ie=Math.max(ie,le)}if(c){let le=0;!h&&!f||f&&!h&&v?le=oo(A+V*R,c[1][0])/R:le=lo(A+(f?D:-D)*R,c[0][0])/R,ie=Math.max(ie,le)}}}D=D+(D<0?ie:-ie),k=k+(k<0?K:-K),i&&(v?H>V*R?D=(_x(h,f)?-k:k)/R:k=(_x(h,f)?-D:D)*R:m?(D=k/R,f=h):(k=D*R,h=f));const $=h?A+k:A,Z=f?z+D:z;return{width:U+(h?-k:k),height:q+(f?-D:D),x:s[0]*k*(h?-1:1)+$,y:s[1]*D*(f?-1:1)+Z}}const VM={width:0,height:0,x:0,y:0},KH={...VM,pointerX:0,pointerY:0,aspectRatio:1};function QH(t){return[[0,0],[t.measured.width,t.measured.height]]}function ZH(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,l=t.measured.height??0,c=n[0]*s,h=n[1]*l;return[[r-c,i-h],[r+s-c,i+l-h]]}function WH({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Xr(t);let l={controlDirection:yx("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:v,onResizeStart:b,onResize:w,onResizeEnd:S,shouldResize:E}){let C={...VM},O={...KH};l={boundaries:m,resizeDirection:v,keepAspectRatio:p,controlDirection:yx(f)};let A,z=null,U=[],q,R,k,D=!1;const H=YN().on("start",V=>{const{nodeLookup:j,transform:B,snapGrid:K,snapToGrid:ie,nodeOrigin:$,paneDomNode:Z}=n();if(A=j.get(e),!A)return;z=Z?.getBoundingClientRect()??null;const{xSnapped:re,ySnapped:le}=H0(V.sourceEvent,{transform:B,snapGrid:K,snapToGrid:ie,containerBounds:z});C={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},O={...C,pointerX:re,pointerY:le,aspectRatio:C.width/C.height},q=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(q=j.get(A.parentId),R=q&&A.extent==="parent"?QH(q):void 0),U=[],k=void 0;for(const[_e,X]of j)if(X.parentId===e&&(U.push({id:_e,position:{...X.position},extent:X.extent}),X.extent==="parent"||X.expandParent)){const te=ZH(X,A,X.origin??$);k?k=[[Math.min(te[0][0],k[0][0]),Math.min(te[0][1],k[0][1])],[Math.max(te[1][0],k[1][0]),Math.max(te[1][1],k[1][1])]]:k=te}b?.(V,{...C})}).on("drag",V=>{const{transform:j,snapGrid:B,snapToGrid:K,nodeOrigin:ie}=n(),$=H0(V.sourceEvent,{transform:j,snapGrid:B,snapToGrid:K,containerBounds:z}),Z=[];if(!A)return;const{x:re,y:le,width:_e,height:X}=C,te={},ve=A.origin??ie,{width:Q,height:ae,x:ce,y:pe}=XH(O,l.controlDirection,$,l.boundaries,l.keepAspectRatio,ve,R,k),be=Q!==_e,Ce=ae!==X,Le=ce!==re&&be,He=pe!==le&&Ce;if(!Le&&!He&&!be&&!Ce)return;if((Le||He||ve[0]===1||ve[1]===1)&&(te.x=Le?ce:C.x,te.y=He?pe:C.y,C.x=te.x,C.y=te.y,U.length>0)){const Be=ce-re,st=pe-le;for(const $e of U)$e.position={x:$e.position.x-Be+ve[0]*(Q-_e),y:$e.position.y-st+ve[1]*(ae-X)},Z.push($e)}if((be||Ce)&&(te.width=be&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Q:C.width,te.height=Ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ae:C.height,C.width=te.width,C.height=te.height),q&&A.expandParent){const Be=ve[0]*(te.width??0);te.x&&te.x<Be&&(C.x=Be,O.x=O.x-(te.x-Be));const st=ve[1]*(te.height??0);te.y&&te.y<st&&(C.y=st,O.y=O.y-(te.y-st))}const Ue=YH({width:C.width,prevWidth:_e,height:C.height,prevHeight:X,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Pe={...C,direction:Ue};E?.(V,Pe)!==!1&&(D=!0,w?.(V,Pe),r(te,Z))}).on("end",V=>{D&&(S?.(V,{...C}),i?.({...C}),D=!1)});s.call(H)}function h(){s.on(".drag",null)}return{update:c,destroy:h}}var lv={exports:{}},uv={},cv={exports:{}},hv={};var bx;function JH(){if(bx)return hv;bx=1;var t=xh();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,v){var b=v(),w=r({inst:{value:b,getSnapshot:v}}),S=w[0].inst,E=w[1];return s(function(){S.value=b,S.getSnapshot=v,h(S)&&E({inst:S})},[p,b,v]),i(function(){return h(S)&&E({inst:S}),p(function(){h(S)&&E({inst:S})})},[p]),l(b),b}function h(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return hv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,hv}var wx;function eF(){return wx||(wx=1,cv.exports=JH()),cv.exports}var xx;function tF(){if(xx)return uv;xx=1;var t=xh(),e=eF();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return uv.useSyncExternalStoreWithSelector=function(f,m,p,v,b){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function C(q){if(!O){if(O=!0,A=q,q=v(q),b!==void 0&&S.hasValue){var R=S.value;if(b(R,q))return z=R}return z=q}if(R=z,r(A,q))return R;var k=v(q);return b!==void 0&&b(R,k)?(A=q,R):(A=q,z=k)}var O=!1,A,z,U=p===void 0?null:p;return[function(){return C(m())},U===null?void 0:function(){return C(U())}]},[m,p,v,b]);var E=i(f,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),h(E),E},uv}var Sx;function nF(){return Sx||(Sx=1,lv.exports=tF()),lv.exports}var rF=nF();const iF=Ym(rF),aF={},Ex=t=>{let e;const n=new Set,r=(m,p)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const b=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(w=>w(e,b))}},i=()=>e,h={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(aF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,i,h);return h},sF=t=>t?Ex(t):Ex,{useDebugValue:oF}=EN,{useSyncExternalStoreWithSelector:lF}=iF,uF=t=>t;function qM(t,e=uF,n){const r=lF(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return oF(r),r}const Tx=(t,e)=>{const n=sF(t),r=(i,s=e)=>qM(n,i,s);return Object.assign(r,n),r},cF=(t,e)=>t?Tx(t,e):Tx;function rn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}TN();const i1=ee.createContext(null),hF=i1.Provider,PM=ba.error001();function Ct(t,e){const n=ee.useContext(i1);if(n===null)throw new Error(PM);return qM(n,t,e)}function an(){const t=ee.useContext(i1);if(t===null)throw new Error(PM);return ee.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Ax={display:"none"},fF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},BM="react-flow__node-desc",jM="react-flow__edge-desc",dF="react-flow__aria-live",mF=t=>t.ariaLiveMessage,pF=t=>t.ariaLabelConfig;function gF({rfId:t}){const e=Ct(mF);return I.jsx("div",{id:`${dF}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:fF,children:e})}function vF({rfId:t,disableKeyboardA11y:e}){const n=Ct(pF);return I.jsxs(I.Fragment,{children:[I.jsx("div",{id:`${BM}-${t}`,style:Ax,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),I.jsx("div",{id:`${jM}-${t}`,style:Ax,children:n["edge.a11yDescription.default"]}),!e&&I.jsx(gF,{rfId:t})]})}const a1=ee.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const l=`${t}`.split("-");return I.jsx("div",{className:Vn(["react-flow__panel",n,...l]),style:r,ref:s,...i,children:e})});a1.displayName="Panel";function yF({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:I.jsx(a1,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:I.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _F=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Ad=t=>t.id;function bF(t,e){return rn(t.selectedNodes.map(Ad),e.selectedNodes.map(Ad))&&rn(t.selectedEdges.map(Ad),e.selectedEdges.map(Ad))}function wF({onSelectionChange:t}){const e=an(),{selectedNodes:n,selectedEdges:r}=Ct(_F,bF);return ee.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const xF=t=>!!t.onSelectionChangeHandlers;function SF({onSelectionChange:t}){const e=Ct(xF);return t||e?I.jsx(wF,{onSelectionChange:t}):null}const UM=[0,0],EF={x:0,y:0,zoom:1},TF=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Cx=[...TF,"rfId"],AF=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Rx={translateExtent:rh,nodeOrigin:UM,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function CF(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:h}=Ct(AF,rn),f=an();ee.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{m.current=Rx,c()}),[]);const m=ee.useRef(Rx);return ee.useEffect(()=>{for(const p of Cx){const v=t[p],b=m.current[p];v!==b&&(typeof t[p]>"u"||(p==="nodes"?e(v):p==="edges"?n(v):p==="minZoom"?r(v):p==="maxZoom"?i(v):p==="translateExtent"?s(v):p==="nodeExtent"?l(v):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:cH(v)}):p==="fitView"?f.setState({fitViewQueued:v}):p==="fitViewOptions"?f.setState({fitViewOptions:v}):f.setState({[p]:v})))}m.current=t},Cx.map(p=>t[p])),null}function Ix(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function RF(t){const[e,n]=ee.useState(t==="system"?null:t);return ee.useEffect(()=>{if(t!=="system"){n(t);return}const r=Ix(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:Ix()?.matches?"dark":"light"}const Nx=typeof document<"u"?document:null;function lh(t=null,e={target:Nx,actInsideInputWithModifier:!0}){const[n,r]=ee.useState(!1),i=ee.useRef(!1),s=ee.useRef(new Set([])),[l,c]=ee.useMemo(()=>{if(t!==null){const f=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,v)=>p.concat(...v),[]);return[f,m]}return[[],[]]},[t]);return ee.useEffect(()=>{const h=e?.target??Nx,f=e?.actInsideInputWithModifier??!0;if(t!==null){const m=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!f)&&wM(b))return!1;const S=kx(b.code,c);if(s.current.add(b[S]),Mx(l,s.current,!1)){const E=b.composedPath?.()?.[0]||b.target,C=E?.nodeName==="BUTTON"||E?.nodeName==="A";e.preventDefault!==!1&&(i.current||!C)&&b.preventDefault(),r(!0)}},p=b=>{const w=kx(b.code,c);Mx(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[w]),b.key==="Meta"&&s.current.clear(),i.current=!1},v=()=>{s.current.clear(),r(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",p),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",p),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,r]),n}function Mx(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function kx(t,e){return e.includes(t)?"code":"key"}const IF=()=>{const t=an();return ee.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:l,panZoom:c}=t.getState(),h=g_(e,r,i,s,l,n?.padding??.1);return c?(await c.setViewport(h,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:l}=t.getState();if(!l)return e;const{x:c,y:h}=l.getBoundingClientRect(),f={x:e.x-c,y:e.y-h},m=n.snapGrid??i,p=n.snapToGrid??s;return Ih(f,r,p,m)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),l=gm(e,n);return{x:l.x+i,y:l.y+s}}}),[])};function HM(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const l=r.get(s.id);l?l.push(s):r.set(s.id,[s])}for(const s of e){const l=r.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...s};for(const h of l)NF(h,c);n.push(c)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function NF(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function FM(t,e){return HM(t,e)}function GM(t,e){return HM(t,e)}function wl(t,e){return{id:t,type:"select",selected:e}}function Gu(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const l=e.has(i);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),r.push(wl(s.id,l)))}return r}function Dx({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const l=e.get(s.id),c=l?.internals?.userNode??l;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Ox(t){return{id:t.id,type:"remove"}}const zx=t=>eH(t),MF=t=>dM(t);function $M(t){return ee.forwardRef(t)}const kF=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function Lx(t){const[e,n]=ee.useState(BigInt(0)),[r]=ee.useState(()=>DF(()=>n(i=>i+BigInt(1))));return kF(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function DF(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const YM=ee.createContext(null);function OF({children:t}){const e=an(),n=ee.useCallback(c=>{const{nodes:h=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:v,fitViewQueued:b,onNodesChangeMiddlewareMap:w}=e.getState();let S=h;for(const C of c)S=typeof C=="function"?C(S):C;let E=Dx({items:S,lookup:v});for(const C of w.values())E=C(E);m&&f(S),E.length>0?p?.(E):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:O,setNodes:A}=e.getState();C&&A(O)})},[]),r=Lx(n),i=ee.useCallback(c=>{const{edges:h=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:v}=e.getState();let b=h;for(const w of c)b=typeof w=="function"?w(b):w;m?f(b):p&&p(Dx({items:b,lookup:v}))},[]),s=Lx(i),l=ee.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return I.jsx(YM.Provider,{value:l,children:t})}function zF(){const t=ee.useContext(YM);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const LF=t=>!!t.panZoom;function S_(){const t=IF(),e=an(),n=zF(),r=Ct(LF),i=ee.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},h=p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState(),w=zx(p)?p:v.get(p.id),S=w.parentId?_M(w.position,w.measured,w.parentId,v,b):w.position,E={...w,position:S,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return ac(E)},f=(p,v,b={replace:!1})=>{l(w=>w.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&zx(E)?E:{...S,...E}}return S}))},m=(p,v,b={replace:!1})=>{c(w=>w.map(S=>{if(S.id===p){const E=typeof v=="function"?v(S):v;return b.replace&&MF(E)?E:{...S,...E}}return S}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(v=>({...v}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const v=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...v])},addEdges:p=>{const v=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...v])},toObject:()=>{const{nodes:p=[],edges:v=[],transform:b}=e.getState(),[w,S,E]=b;return{nodes:p.map(C=>({...C})),edges:v.map(C=>({...C})),viewport:{x:w,y:S,zoom:E}}},deleteElements:async({nodes:p=[],edges:v=[]})=>{const{nodes:b,edges:w,onNodesDelete:S,onEdgesDelete:E,triggerNodeChanges:C,triggerEdgeChanges:O,onDelete:A,onBeforeDelete:z}=e.getState(),{nodes:U,edges:q}=await aH({nodesToRemove:p,edgesToRemove:v,nodes:b,edges:w,onBeforeDelete:z}),R=q.length>0,k=U.length>0;if(R){const D=q.map(Ox);E?.(q),O(D)}if(k){const D=U.map(Ox);S?.(U),C(D)}return(k||R)&&A?.({nodes:U,edges:q}),{deletedNodes:U,deletedEdges:q}},getIntersectingNodes:(p,v=!0,b)=>{const w=ox(p),S=w?p:h(p),E=b!==void 0;return S?(b||e.getState().nodes).filter(C=>{const O=e.getState().nodeLookup.get(C.id);if(O&&!w&&(C.id===p.id||!O.internals.positionAbsolute))return!1;const A=ac(E?C:O),z=sh(A,S);return v&&z>0||z>=A.width*A.height||z>=S.width*S.height}):[]},isNodeIntersecting:(p,v,b=!0)=>{const S=ox(p)?p:h(p);if(!S)return!1;const E=sh(S,v);return b&&E>0||E>=v.width*v.height||E>=S.width*S.height},updateNode:f,updateNodeData:(p,v,b={replace:!1})=>{f(p,w=>{const S=typeof v=="function"?v(w):v;return b.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},b)},updateEdge:m,updateEdgeData:(p,v,b={replace:!1})=>{m(p,w=>{const S=typeof v=="function"?v(w):v;return b.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},b)},getNodesBounds:p=>{const{nodeLookup:v,nodeOrigin:b}=e.getState();return tH(p,{nodeLookup:v,nodeOrigin:b})},getHandleConnections:({type:p,id:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}-${p}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:v,nodeId:b})=>Array.from(e.getState().connectionLookup.get(`${b}${p?v?`-${p}-${v}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const v=e.getState().fitViewResolver??uH();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:v}),n.nodeQueue.push(b=>[...b]),v.promise}}},[]);return ee.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const Vx=t=>t.selected,VF=typeof window<"u"?window:void 0;function qF({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=an(),{deleteElements:r}=S_(),i=lh(t,{actInsideInputWithModifier:!1}),s=lh(e,{target:VF});ee.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(Vx),edges:l.filter(Vx)}),n.setState({nodesSelectionActive:!1})}},[i]),ee.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function PF(t){const e=an();ee.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=v_(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",ba.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const s1={position:"absolute",width:"100%",height:"100%",top:0,left:0},BF=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function jF({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Cl.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:h,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:b=!0,children:w,noWheelClassName:S,noPanClassName:E,onViewportChange:C,isControlledViewport:O,paneClickDistance:A,selectionOnDrag:z}){const U=an(),q=ee.useRef(null),{userSelectionActive:R,lib:k,connectionInProgress:D}=Ct(BF,rn),H=lh(v),V=ee.useRef();PF(q);const j=ee.useCallback(B=>{C?.({x:B[0],y:B[1],zoom:B[2]}),O||U.setState({transform:B})},[C,O]);return ee.useEffect(()=>{if(q.current){V.current=$H({domNode:q.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:h,onDraggingChange:$=>U.setState({paneDragging:$}),onPanZoomStart:($,Z)=>{const{onViewportChangeStart:re,onMoveStart:le}=U.getState();le?.($,Z),re?.(Z)},onPanZoom:($,Z)=>{const{onViewportChange:re,onMove:le}=U.getState();le?.($,Z),re?.(Z)},onPanZoomEnd:($,Z)=>{const{onViewportChangeEnd:re,onMoveEnd:le}=U.getState();le?.($,Z),re?.(Z)}});const{x:B,y:K,zoom:ie}=V.current.getViewport();return U.setState({panZoom:V.current,transform:[B,K,ie],domNode:q.current.closest(".react-flow")}),()=>{V.current?.destroy()}}},[]),ee.useEffect(()=>{V.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:E,userSelectionActive:R,noWheelClassName:S,lib:k,onTransformChange:j,connectionInProgress:D,selectionOnDrag:z,paneClickDistance:A})},[t,e,n,r,i,s,l,c,H,b,E,R,S,k,j,D,z,A]),I.jsx("div",{className:"react-flow__renderer",ref:q,style:s1,children:w})}const UF=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function HF(){const{userSelectionActive:t,userSelectionRect:e}=Ct(UF,rn);return t&&e?I.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const fv=(t,e)=>n=>{n.target===e.current&&t?.(n)},FF=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function GF({isSelecting:t,selectionKeyPressed:e,selectionMode:n=ih.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:c,onPaneClick:h,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:b,children:w}){const S=an(),{userSelectionActive:E,elementsSelectable:C,dragging:O,connectionInProgress:A}=Ct(FF,rn),z=C&&(t||E),U=ee.useRef(null),q=ee.useRef(),R=ee.useRef(new Set),k=ee.useRef(new Set),D=ee.useRef(!1),H=re=>{if(D.current||A){D.current=!1;return}h?.(re),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},V=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}f?.(re)},j=m?re=>m(re):void 0,B=re=>{D.current&&(re.stopPropagation(),D.current=!1)},K=re=>{const{domNode:le}=S.getState();if(q.current=le?.getBoundingClientRect(),!q.current)return;const _e=re.target===U.current;if(!_e&&!!re.target.closest(".nokey")||!t||!(s&&_e||e)||re.button!==0||!re.isPrimary)return;re.target?.setPointerCapture?.(re.pointerId),D.current=!1;const{x:ve,y:Q}=Hi(re.nativeEvent,q.current);S.setState({userSelectionRect:{width:0,height:0,startX:ve,startY:Q,x:ve,y:Q}}),_e||(re.stopPropagation(),re.preventDefault())},ie=re=>{const{userSelectionRect:le,transform:_e,nodeLookup:X,edgeLookup:te,connectionLookup:ve,triggerNodeChanges:Q,triggerEdgeChanges:ae,defaultEdgeOptions:ce,resetSelectedElements:pe}=S.getState();if(!q.current||!le)return;const{x:be,y:Ce}=Hi(re.nativeEvent,q.current),{startX:Le,startY:He}=le;if(!D.current){const st=e?0:i;if(Math.hypot(be-Le,Ce-He)<=st)return;pe(),l?.(re)}D.current=!0;const Ue={startX:Le,startY:He,x:be<Le?be:Le,y:Ce<He?Ce:He,width:Math.abs(be-Le),height:Math.abs(Ce-He)},Pe=R.current,Ge=k.current;R.current=new Set(p_(X,Ue,_e,n===ih.Partial,!0).map(st=>st.id)),k.current=new Set;const Be=ce?.selectable??!0;for(const st of R.current){const $e=ve.get(st);if($e)for(const{edgeId:Xt}of $e.values()){const lt=te.get(Xt);lt&&(lt.selectable??Be)&&k.current.add(Xt)}}if(!lx(Pe,R.current)){const st=Gu(X,R.current,!0);Q(st)}if(!lx(Ge,k.current)){const st=Gu(te,k.current);ae(st)}S.setState({userSelectionRect:Ue,userSelectionActive:!0,nodesSelectionActive:!1})},$=re=>{re.button===0&&(re.target?.releasePointerCapture?.(re.pointerId),!E&&re.target===U.current&&S.getState().userSelectionRect&&H?.(re),S.setState({userSelectionActive:!1,userSelectionRect:null}),D.current&&(c?.(re),S.setState({nodesSelectionActive:R.current.size>0})))},Z=r===!0||Array.isArray(r)&&r.includes(0);return I.jsxs("div",{className:Vn(["react-flow__pane",{draggable:Z,dragging:O,selection:t}]),onClick:z?void 0:fv(H,U),onContextMenu:fv(V,U),onWheel:fv(j,U),onPointerEnter:z?void 0:p,onPointerMove:z?ie:v,onPointerUp:z?$:void 0,onPointerDownCapture:z?K:void 0,onClickCapture:z?B:void 0,onPointerLeave:b,ref:U,style:s1,children:[w,I.jsx(HF,{})]})}function E6({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:c,onError:h}=e.getState(),f=c.get(t);if(!f){h?.("012",ba.error012(t));return}e.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(s({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function XM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:l}){const c=an(),[h,f]=ee.useState(!1),m=ee.useRef();return ee.useEffect(()=>{m.current=kH({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{E6({id:p,store:c,nodeRef:t})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),ee.useEffect(()=>{if(e)m.current?.destroy();else if(t.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,e,s,t,i]),h}const $F=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function KM(){const t=an();return ee.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:l,onError:c,updateNodePositions:h,nodeLookup:f,nodeOrigin:m}=t.getState(),p=new Map,v=$F(l),b=i?s[0]:5,w=i?s[1]:5,S=n.direction.x*b*n.factor,E=n.direction.y*w*n.factor;for(const[,C]of f){if(!v(C))continue;let O={x:C.internals.positionAbsolute.x+S,y:C.internals.positionAbsolute.y+E};i&&(O=Rh(O,s));const{position:A,positionAbsolute:z}=mM({nodeId:C.id,nextPosition:O,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});C.position=A,C.internals.positionAbsolute=z,p.set(C.id,C)}h(p)},[])}const E_=ee.createContext(null),YF=E_.Provider;E_.Consumer;const QM=()=>ee.useContext(E_),XF=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),KF=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:l}=r,{fromHandle:c,toHandle:h,isValid:f}=l,m=h?.nodeId===t&&h?.id===e&&h?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:m,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===rc.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:m&&f}};function QF({type:t="source",position:e=Ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:l,onConnect:c,children:h,className:f,onMouseDown:m,onTouchStart:p,...v},b){const w=l||null,S=t==="target",E=an(),C=QM(),{connectOnClick:O,noPanClassName:A,rfId:z}=Ct(XF,rn),{connectingFrom:U,connectingTo:q,clickConnecting:R,isPossibleEndHandle:k,connectionInProcess:D,clickConnectionInProcess:H,valid:V}=Ct(KF(C,w,t),rn);C||E.getState().onError?.("010",ba.error010());const j=ie=>{const{defaultEdgeOptions:$,onConnect:Z,hasDefaultEdges:re}=E.getState(),le={...$,...ie};if(re){const{edges:_e,setEdges:X}=E.getState();X(gH(le,_e))}Z?.(le),c?.(le)},B=ie=>{if(!C)return;const $=xM(ie.nativeEvent);if(i&&($&&ie.button===0||!$)){const Z=E.getState();S6.onPointerDown(ie.nativeEvent,{handleDomNode:ie.currentTarget,autoPanOnConnect:Z.autoPanOnConnect,connectionMode:Z.connectionMode,connectionRadius:Z.connectionRadius,domNode:Z.domNode,nodeLookup:Z.nodeLookup,lib:Z.lib,isTarget:S,handleId:w,nodeId:C,flowId:Z.rfId,panBy:Z.panBy,cancelConnection:Z.cancelConnection,onConnectStart:Z.onConnectStart,onConnectEnd:Z.onConnectEnd,updateConnection:Z.updateConnection,onConnect:j,isValidConnection:n||Z.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:Z.autoPanSpeed,dragThreshold:Z.connectionDragThreshold})}$?m?.(ie):p?.(ie)},K=ie=>{const{onClickConnectStart:$,onClickConnectEnd:Z,connectionClickStartHandle:re,connectionMode:le,isValidConnection:_e,lib:X,rfId:te,nodeLookup:ve,connection:Q}=E.getState();if(!C||!re&&!i)return;if(!re){$?.(ie.nativeEvent,{nodeId:C,handleId:w,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:C,type:t,id:w}});return}const ae=bM(ie.target),ce=n||_e,{connection:pe,isValid:be}=S6.isValid(ie.nativeEvent,{handle:{nodeId:C,id:w,type:t},connectionMode:le,fromNodeId:re.nodeId,fromHandleId:re.id||null,fromType:re.type,isValidConnection:ce,flowId:te,doc:ae,lib:X,nodeLookup:ve});be&&pe&&j(pe);const Ce=structuredClone(Q);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,Z?.(ie,Ce),E.setState({connectionClickStartHandle:null})};return I.jsx("div",{"data-handleid":w,"data-nodeid":C,"data-handlepos":e,"data-id":`${z}-${C}-${w}-${t}`,className:Vn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,f,{source:!S,target:S,connectable:r,connectablestart:i,connectableend:s,clickconnecting:R,connectingfrom:U,connectingto:q,valid:V,connectionindicator:r&&(!D||k)&&(D||H?s:i)}]),onMouseDown:B,onTouchStart:B,onClick:O?K:void 0,ref:b,...v,children:h})}const lc=ee.memo($M(QF));function ZF({data:t,isConnectable:e,sourcePosition:n=Ye.Bottom}){return I.jsxs(I.Fragment,{children:[t?.label,I.jsx(lc,{type:"source",position:n,isConnectable:e})]})}function WF({data:t,isConnectable:e,targetPosition:n=Ye.Top,sourcePosition:r=Ye.Bottom}){return I.jsxs(I.Fragment,{children:[I.jsx(lc,{type:"target",position:n,isConnectable:e}),t?.label,I.jsx(lc,{type:"source",position:r,isConnectable:e})]})}function JF(){return null}function eG({data:t,isConnectable:e,targetPosition:n=Ye.Top}){return I.jsxs(I.Fragment,{children:[I.jsx(lc,{type:"target",position:n,isConnectable:e}),t?.label]})}const vm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},qx={input:ZF,default:WF,output:eG,group:JF};function tG(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const nG=t=>{const{width:e,height:n,x:r,y:i}=Ch(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ui(e)?e:null,height:Ui(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function rG({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=an(),{width:i,height:s,transformString:l,userSelectionActive:c}=Ct(nG,rn),h=KM(),f=ee.useRef(null);if(ee.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),XM({nodeRef:f}),c||!i||!s)return null;const m=t?v=>{const b=r.getState().nodes.filter(w=>w.selected);t(v,b)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(vm,v.key)&&(v.preventDefault(),h({direction:vm[v.key],factor:v.shiftKey?4:1}))};return I.jsx("div",{className:Vn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:I.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const Px=typeof window<"u"?window:void 0,iG=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function ZM({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:w,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:C,zoomOnScroll:O,zoomOnPinch:A,panOnScroll:z,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:R,panOnDrag:k,defaultViewport:D,translateExtent:H,minZoom:V,maxZoom:j,preventScrolling:B,onSelectionContextMenu:K,noWheelClassName:ie,noPanClassName:$,disableKeyboardA11y:Z,onViewportChange:re,isControlledViewport:le}){const{nodesSelectionActive:_e,userSelectionActive:X}=Ct(iG,rn),te=lh(f,{target:Px}),ve=lh(S,{target:Px}),Q=ve||k,ae=ve||z,ce=m&&Q!==!0,pe=te||X||ce;return qF({deleteKeyCode:h,multiSelectionKeyCode:w}),I.jsx(jF,{onPaneContextMenu:s,elementsSelectable:C,zoomOnScroll:O,zoomOnPinch:A,panOnScroll:ae,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:R,panOnDrag:!te&&Q,defaultViewport:D,translateExtent:H,minZoom:V,maxZoom:j,zoomActivationKeyCode:E,preventScrolling:B,noWheelClassName:ie,noPanClassName:$,onViewportChange:re,isControlledViewport:le,paneClickDistance:c,selectionOnDrag:ce,children:I.jsxs(GF,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:Q,isSelecting:!!pe,selectionMode:p,selectionKeyPressed:te,paneClickDistance:c,selectionOnDrag:ce,children:[t,_e&&I.jsx(rG,{onSelectionContextMenu:K,noPanClassName:$,disableKeyboardA11y:Z})]})})}ZM.displayName="FlowRenderer";const aG=ee.memo(ZM),sG=t=>e=>t?p_(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function oG(t){return Ct(ee.useCallback(sG(t),[t]),rn)}const lG=t=>t.updateNodeInternals;function uG(){const t=Ct(lG),[e]=ee.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return ee.useEffect(()=>()=>{e?.disconnect()},[e]),e}function cG({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=an(),s=ee.useRef(null),l=ee.useRef(null),c=ee.useRef(t.sourcePosition),h=ee.useRef(t.targetPosition),f=ee.useRef(e),m=n&&!!t.internals.handleBounds;return ee.useEffect(()=>{s.current&&!t.hidden&&(!m||l.current!==s.current)&&(l.current&&r?.unobserve(l.current),r?.observe(s.current),l.current=s.current)},[m,t.hidden]),ee.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),ee.useEffect(()=>{if(s.current){const p=f.current!==e,v=c.current!==t.sourcePosition,b=h.current!==t.targetPosition;(p||v||b)&&(f.current=e,c.current=t.sourcePosition,h.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function hG({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:l,nodesDraggable:c,elementsSelectable:h,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:v,noPanClassName:b,disableKeyboardA11y:w,rfId:S,nodeTypes:E,nodeClickDistance:C,onError:O}){const{node:A,internals:z,isParent:U}=Ct(be=>{const Ce=be.nodeLookup.get(t),Le=be.parentLookup.has(t);return{node:Ce,internals:Ce.internals,isParent:Le}},rn);let q=A.type||"default",R=E?.[q]||qx[q];R===void 0&&(O?.("003",ba.error003(q)),q="default",R=E?.default||qx.default);const k=!!(A.draggable||c&&typeof A.draggable>"u"),D=!!(A.selectable||h&&typeof A.selectable>"u"),H=!!(A.connectable||f&&typeof A.connectable>"u"),V=!!(A.focusable||m&&typeof A.focusable>"u"),j=an(),B=yM(A),K=cG({node:A,nodeType:q,hasDimensions:B,resizeObserver:p}),ie=XM({nodeRef:K,disabled:A.hidden||!k,noDragClassName:v,handleSelector:A.dragHandle,nodeId:t,isSelectable:D,nodeClickDistance:C}),$=KM();if(A.hidden)return null;const Z=bs(A),re=tG(A),le=D||k||e||n||r||i,_e=n?be=>n(be,{...z.userNode}):void 0,X=r?be=>r(be,{...z.userNode}):void 0,te=i?be=>i(be,{...z.userNode}):void 0,ve=s?be=>s(be,{...z.userNode}):void 0,Q=l?be=>l(be,{...z.userNode}):void 0,ae=be=>{const{selectNodesOnDrag:Ce,nodeDragThreshold:Le}=j.getState();D&&(!Ce||!k||Le>0)&&E6({id:t,store:j,nodeRef:K}),e&&e(be,{...z.userNode})},ce=be=>{if(!(wM(be.nativeEvent)||w)){if(uM.includes(be.key)&&D){const Ce=be.key==="Escape";E6({id:t,store:j,unselect:Ce,nodeRef:K})}else if(k&&A.selected&&Object.prototype.hasOwnProperty.call(vm,be.key)){be.preventDefault();const{ariaLabelConfig:Ce}=j.getState();j.setState({ariaLiveMessage:Ce["node.a11yDescription.ariaLiveMessage"]({direction:be.key.replace("Arrow","").toLowerCase(),x:~~z.positionAbsolute.x,y:~~z.positionAbsolute.y})}),$({direction:vm[be.key],factor:be.shiftKey?4:1})}}},pe=()=>{if(w||!K.current?.matches(":focus-visible"))return;const{transform:be,width:Ce,height:Le,autoPanOnNodeFocus:He,setCenter:Ue}=j.getState();if(!He)return;p_(new Map([[t,A]]),{x:0,y:0,width:Ce,height:Le},be,!0).length>0||Ue(A.position.x+Z.width/2,A.position.y+Z.height/2,{zoom:be[2]})};return I.jsx("div",{className:Vn(["react-flow__node",`react-flow__node-${q}`,{[b]:k},A.className,{selected:A.selected,selectable:D,parent:U,draggable:k,dragging:ie}]),ref:K,style:{zIndex:z.z,transform:`translate(${z.positionAbsolute.x}px,${z.positionAbsolute.y}px)`,pointerEvents:le?"all":"none",visibility:B?"visible":"hidden",...A.style,...re},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:_e,onMouseMove:X,onMouseLeave:te,onContextMenu:ve,onClick:ae,onDoubleClick:Q,onKeyDown:V?ce:void 0,tabIndex:V?0:void 0,onFocus:V?pe:void 0,role:A.ariaRole??(V?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${BM}-${S}`,"aria-label":A.ariaLabel,...A.domAttributes,children:I.jsx(YF,{value:t,children:I.jsx(R,{id:t,data:A.data,type:q,positionAbsoluteX:z.positionAbsolute.x,positionAbsoluteY:z.positionAbsolute.y,selected:A.selected??!1,selectable:D,draggable:k,deletable:A.deletable??!0,isConnectable:H,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:ie,dragHandle:A.dragHandle,zIndex:z.z,parentId:A.parentId,...Z})})})}var fG=ee.memo(hG);const dG=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function WM(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Ct(dG,rn),l=oG(t.onlyRenderVisibleElements),c=uG();return I.jsx("div",{className:"react-flow__nodes",style:s1,children:l.map(h=>I.jsx(fG,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},h))})}WM.displayName="NodeRenderer";const mG=ee.memo(WM);function pG(t){return Ct(ee.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);s&&l&&dH({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),rn)}const gG=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return I.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},vG=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return I.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Bx={[ah.Arrow]:gG,[ah.ArrowClosed]:vG};function yG(t){const e=an();return ee.useMemo(()=>Object.prototype.hasOwnProperty.call(Bx,t)?Bx[t]:(e.getState().onError?.("009",ba.error009(t)),null),[t])}const _G=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const h=yG(e);return h?I.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:I.jsx(h,{color:n,strokeWidth:l})}):null},JM=({defaultColor:t,rfId:e})=>{const n=Ct(s=>s.edges),r=Ct(s=>s.defaultEdgeOptions),i=ee.useMemo(()=>wH(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?I.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:I.jsx("defs",{children:i.map(s=>I.jsx(_G,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};JM.displayName="MarkerDefinitions";var bG=ee.memo(JM);function ek({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:f,...m}){const[p,v]=ee.useState({x:1,y:0,width:0,height:0}),b=Vn(["react-flow__edge-textwrapper",f]),w=ee.useRef(null);return ee.useEffect(()=>{if(w.current){const S=w.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),n?I.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...m,children:[i&&I.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),I.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:w,style:r,children:n}),h]}):null}ek.displayName="EdgeText";const wG=ee.memo(ek);function o1({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h,interactionWidth:f=20,...m}){return I.jsxs(I.Fragment,{children:[I.jsx("path",{...m,d:t,fill:"none",className:Vn(["react-flow__edge-path",m.className])}),f?I.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Ui(e)&&Ui(n)?I.jsx(wG,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:h}):null]})}function jx({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ye.Left||t===Ye.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function tk({sourceX:t,sourceY:e,sourcePosition:n=Ye.Bottom,targetX:r,targetY:i,targetPosition:s=Ye.Top}){const[l,c]=jx({pos:n,x1:t,y1:e,x2:r,y2:i}),[h,f]=jx({pos:s,x1:r,y1:i,x2:t,y2:e}),[m,p,v,b]=SM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:h,targetControlY:f});return[`M${t},${e} C${l},${c} ${h},${f} ${r},${i}`,m,p,v,b]}function nk(t){return ee.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:c,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:E,interactionWidth:C})=>{const[O,A,z]=tk({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c}),U=t.isInternal?void 0:e;return I.jsx(o1,{id:U,path:O,labelX:A,labelY:z,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:E,interactionWidth:C})})}const xG=nk({isInternal:!1}),rk=nk({isInternal:!0});xG.displayName="SimpleBezierEdge";rk.displayName="SimpleBezierEdgeInternal";function ik(t){return ee.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,sourcePosition:b=Ye.Bottom,targetPosition:w=Ye.Top,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:O})=>{const[A,z,U]=b6({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:s,targetPosition:w,borderRadius:C?.borderRadius,offset:C?.offset,stepPosition:C?.stepPosition}),q=t.isInternal?void 0:e;return I.jsx(o1,{id:q,path:A,labelX:z,labelY:U,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:S,markerStart:E,interactionWidth:O})})}const ak=ik({isInternal:!1}),sk=ik({isInternal:!0});ak.displayName="SmoothStepEdge";sk.displayName="SmoothStepEdgeInternal";function ok(t){return ee.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return I.jsx(ak,{...n,id:r,pathOptions:ee.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const SG=ok({isInternal:!1}),lk=ok({isInternal:!0});SG.displayName="StepEdge";lk.displayName="StepEdgeInternal";function uk(t){return ee.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:w,interactionWidth:S})=>{const[E,C,O]=AM({sourceX:n,sourceY:r,targetX:i,targetY:s}),A=t.isInternal?void 0:e;return I.jsx(o1,{id:A,path:E,labelX:C,labelY:O,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:v,markerEnd:b,markerStart:w,interactionWidth:S})})}const EG=uk({isInternal:!1}),ck=uk({isInternal:!0});EG.displayName="StraightEdge";ck.displayName="StraightEdgeInternal";function hk(t){return ee.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l=Ye.Bottom,targetPosition:c=Ye.Top,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:O})=>{const[A,z,U]=EM({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c,curvature:C?.curvature}),q=t.isInternal?void 0:e;return I.jsx(o1,{id:q,path:A,labelX:z,labelY:U,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:b,style:w,markerEnd:S,markerStart:E,interactionWidth:O})})}const TG=hk({isInternal:!1}),fk=hk({isInternal:!0});TG.displayName="BezierEdge";fk.displayName="BezierEdgeInternal";const Ux={default:fk,straight:ck,step:lk,smoothstep:sk,simplebezier:rk},Hx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},AG=(t,e,n)=>n===Ye.Left?t-e:n===Ye.Right?t+e:t,CG=(t,e,n)=>n===Ye.Top?t-e:n===Ye.Bottom?t+e:t,Fx="react-flow__edgeupdater";function Gx({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}){return I.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:Vn([Fx,`${Fx}-${c}`]),cx:AG(e,r,t),cy:CG(n,r,t),r,stroke:"transparent",fill:"transparent"})}function RG({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:l,sourcePosition:c,targetPosition:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:v,setUpdateHover:b}){const w=an(),S=(z,U)=>{if(z.button!==0)return;const{autoPanOnConnect:q,domNode:R,isValidConnection:k,connectionMode:D,connectionRadius:H,lib:V,onConnectStart:j,onConnectEnd:B,cancelConnection:K,nodeLookup:ie,rfId:$,panBy:Z,updateConnection:re}=w.getState(),le=U.type==="target",_e=(ve,Q)=>{v(!1),p?.(ve,n,U.type,Q)},X=ve=>f?.(n,ve),te=(ve,Q)=>{v(!0),m?.(z,n,U.type),j?.(ve,Q)};S6.onPointerDown(z.nativeEvent,{autoPanOnConnect:q,connectionMode:D,connectionRadius:H,domNode:R,handleId:U.id,nodeId:U.nodeId,nodeLookup:ie,isTarget:le,edgeUpdaterType:U.type,lib:V,flowId:$,cancelConnection:K,panBy:Z,isValidConnection:k,onConnect:X,onConnectStart:te,onConnectEnd:B,onReconnectEnd:_e,updateConnection:re,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:z.currentTarget})},E=z=>S(z,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=z=>S(z,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>b(!0),A=()=>b(!1);return I.jsxs(I.Fragment,{children:[(t===!0||t==="source")&&I.jsx(Gx,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:E,onMouseEnter:O,onMouseOut:A,type:"source"}),(t===!0||t==="target")&&I.jsx(Gx,{position:h,centerX:s,centerY:l,radius:e,onMouseDown:C,onMouseEnter:O,onMouseOut:A,type:"target"})]})}function IG({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,rfId:w,edgeTypes:S,noPanClassName:E,onError:C,disableKeyboardA11y:O}){let A=Ct(Ue=>Ue.edgeLookup.get(t));const z=Ct(Ue=>Ue.defaultEdgeOptions);A=z?{...z,...A}:A;let U=A.type||"default",q=S?.[U]||Ux[U];q===void 0&&(C?.("011",ba.error011(U)),U="default",q=S?.default||Ux.default);const R=!!(A.focusable||e&&typeof A.focusable>"u"),k=typeof p<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),D=!!(A.selectable||r&&typeof A.selectable>"u"),H=ee.useRef(null),[V,j]=ee.useState(!1),[B,K]=ee.useState(!1),ie=an(),{zIndex:$,sourceX:Z,sourceY:re,targetX:le,targetY:_e,sourcePosition:X,targetPosition:te}=Ct(ee.useCallback(Ue=>{const Pe=Ue.nodeLookup.get(A.source),Ge=Ue.nodeLookup.get(A.target);if(!Pe||!Ge)return{zIndex:A.zIndex,...Hx};const Be=bH({id:t,sourceNode:Pe,targetNode:Ge,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:Ue.connectionMode,onError:C});return{zIndex:fH({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ge,elevateOnSelect:Ue.elevateEdgesOnSelect,zIndexMode:Ue.zIndexMode}),...Be||Hx}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),rn),ve=ee.useMemo(()=>A.markerStart?`url('#${w6(A.markerStart,w)}')`:void 0,[A.markerStart,w]),Q=ee.useMemo(()=>A.markerEnd?`url('#${w6(A.markerEnd,w)}')`:void 0,[A.markerEnd,w]);if(A.hidden||Z===null||re===null||le===null||_e===null)return null;const ae=Ue=>{const{addSelectedEdges:Pe,unselectNodesAndEdges:Ge,multiSelectionActive:Be}=ie.getState();D&&(ie.setState({nodesSelectionActive:!1}),A.selected&&Be?(Ge({nodes:[],edges:[A]}),H.current?.blur()):Pe([t])),i&&i(Ue,A)},ce=s?Ue=>{s(Ue,{...A})}:void 0,pe=l?Ue=>{l(Ue,{...A})}:void 0,be=c?Ue=>{c(Ue,{...A})}:void 0,Ce=h?Ue=>{h(Ue,{...A})}:void 0,Le=f?Ue=>{f(Ue,{...A})}:void 0,He=Ue=>{if(!O&&uM.includes(Ue.key)&&D){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ge}=ie.getState();Ue.key==="Escape"?(H.current?.blur(),Pe({edges:[A]})):Ge([t])}};return I.jsx("svg",{style:{zIndex:$},children:I.jsxs("g",{className:Vn(["react-flow__edge",`react-flow__edge-${U}`,A.className,E,{selected:A.selected,animated:A.animated,inactive:!D&&!i,updating:V,selectable:D}]),onClick:ae,onDoubleClick:ce,onContextMenu:pe,onMouseEnter:be,onMouseMove:Ce,onMouseLeave:Le,onKeyDown:R?He:void 0,tabIndex:R?0:void 0,role:A.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":R?`${jM}-${w}`:void 0,ref:H,...A.domAttributes,children:[!B&&I.jsx(q,{id:t,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:D,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:Z,sourceY:re,targetX:le,targetY:_e,sourcePosition:X,targetPosition:te,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:ve,markerEnd:Q,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),k&&I.jsx(RG,{edge:A,isReconnectable:k,reconnectRadius:m,onReconnect:p,onReconnectStart:v,onReconnectEnd:b,sourceX:Z,sourceY:re,targetX:le,targetY:_e,sourcePosition:X,targetPosition:te,setUpdateHover:j,setReconnecting:K})]})})}var NG=ee.memo(IG);const MG=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function dk({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:v,onReconnectStart:b,onReconnectEnd:w,disableKeyboardA11y:S}){const{edgesFocusable:E,edgesReconnectable:C,elementsSelectable:O,onError:A}=Ct(MG,rn),z=pG(e);return I.jsxs("div",{className:"react-flow__edges",children:[I.jsx(bG,{defaultColor:t,rfId:n}),z.map(U=>I.jsx(NG,{id:U,edgesFocusable:E,edgesReconnectable:C,elementsSelectable:O,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:v,onReconnectStart:b,onReconnectEnd:w,rfId:n,onError:A,edgeTypes:r,disableKeyboardA11y:S},U))]})}dk.displayName="EdgeRenderer";const kG=ee.memo(dk),DG=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function OG({children:t}){const e=Ct(DG);return I.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function zG(t){const e=S_(),n=ee.useRef(!1);ee.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const LG=t=>t.panZoom?.syncViewport;function VG(t){const e=Ct(LG),n=an();return ee.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function qG(t){return t.connection.inProgress?{...t.connection,to:Ih(t.connection.to,t.transform)}:{...t.connection}}function PG(t){return qG}function BG(t){const e=PG();return Ct(e,rn)}const jG=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function UG({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:l,isValid:c,inProgress:h}=Ct(jG,rn);return!(s&&i&&h)?null:I.jsx("svg",{style:t,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:I.jsx("g",{className:Vn(["react-flow__connection",fM(c)]),children:I.jsx(mk,{style:e,type:n,CustomComponent:r,isValid:c})})})}const mk=({style:t,type:e=po.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:l,fromHandle:c,fromPosition:h,to:f,toNode:m,toHandle:p,toPosition:v,pointer:b}=BG();if(!i)return;if(n)return I.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:h,toPosition:v,connectionStatus:fM(r),toNode:m,toHandle:p,pointer:b});let w="";const S={sourceX:s.x,sourceY:s.y,sourcePosition:h,targetX:f.x,targetY:f.y,targetPosition:v};switch(e){case po.Bezier:[w]=EM(S);break;case po.SimpleBezier:[w]=tk(S);break;case po.Step:[w]=b6({...S,borderRadius:0});break;case po.SmoothStep:[w]=b6(S);break;default:[w]=AM(S)}return I.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:t})};mk.displayName="ConnectionLine";const HG={};function $x(t=HG){ee.useRef(t),an(),ee.useEffect(()=>{},[t])}function FG(){an(),ee.useRef(!1),ee.useEffect(()=>{},[])}function pk({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:b,connectionLineType:w,connectionLineStyle:S,connectionLineComponent:E,connectionLineContainerStyle:C,selectionKeyCode:O,selectionOnDrag:A,selectionMode:z,multiSelectionKeyCode:U,panActivationKeyCode:q,zoomActivationKeyCode:R,deleteKeyCode:k,onlyRenderVisibleElements:D,elementsSelectable:H,defaultViewport:V,translateExtent:j,minZoom:B,maxZoom:K,preventScrolling:ie,defaultMarkerColor:$,zoomOnScroll:Z,zoomOnPinch:re,panOnScroll:le,panOnScrollSpeed:_e,panOnScrollMode:X,zoomOnDoubleClick:te,panOnDrag:ve,onPaneClick:Q,onPaneMouseEnter:ae,onPaneMouseMove:ce,onPaneMouseLeave:pe,onPaneScroll:be,onPaneContextMenu:Ce,paneClickDistance:Le,nodeClickDistance:He,onEdgeContextMenu:Ue,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:st,onReconnect:$e,onReconnectStart:Xt,onReconnectEnd:lt,noDragClassName:zt,noWheelClassName:Bn,noPanClassName:Gn,disableKeyboardA11y:Qt,nodeExtent:en,rfId:Qn,viewport:br,onViewportChange:wr}){return $x(t),$x(e),FG(),zG(n),VG(br),I.jsx(aG,{onPaneClick:Q,onPaneMouseEnter:ae,onPaneMouseMove:ce,onPaneMouseLeave:pe,onPaneContextMenu:Ce,onPaneScroll:be,paneClickDistance:Le,deleteKeyCode:k,selectionKeyCode:O,selectionOnDrag:A,selectionMode:z,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:U,panActivationKeyCode:q,zoomActivationKeyCode:R,elementsSelectable:H,zoomOnScroll:Z,zoomOnPinch:re,zoomOnDoubleClick:te,panOnScroll:le,panOnScrollSpeed:_e,panOnScrollMode:X,panOnDrag:ve,defaultViewport:V,translateExtent:j,minZoom:B,maxZoom:K,onSelectionContextMenu:p,preventScrolling:ie,noDragClassName:zt,noWheelClassName:Bn,noPanClassName:Gn,disableKeyboardA11y:Qt,onViewportChange:wr,isControlledViewport:!!br,children:I.jsxs(OG,{children:[I.jsx(kG,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:$e,onReconnectStart:Xt,onReconnectEnd:lt,onlyRenderVisibleElements:D,onEdgeContextMenu:Ue,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ge,onEdgeMouseLeave:Be,reconnectRadius:st,defaultMarkerColor:$,noPanClassName:Gn,disableKeyboardA11y:Qt,rfId:Qn}),I.jsx(UG,{style:S,type:w,component:E,containerStyle:C}),I.jsx("div",{className:"react-flow__edgelabel-renderer"}),I.jsx(mG,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:He,onlyRenderVisibleElements:D,noPanClassName:Gn,noDragClassName:zt,disableKeyboardA11y:Qt,nodeExtent:en,rfId:Qn}),I.jsx("div",{className:"react-flow__viewport-portal"})]})})}pk.displayName="GraphView";const GG=ee.memo(pk),Yx=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:v="basic"}={})=>{const b=new Map,w=new Map,S=new Map,E=new Map,C=r??e??[],O=n??t??[],A=m??[0,0],z=p??rh;IM(S,E,C);const U=x6(O,b,w,{nodeOrigin:A,nodeExtent:z,zIndexMode:v});let q=[0,0,1];if(l&&i&&s){const R=Ch(b,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:k,y:D,zoom:H}=g_(R,i,s,h,f,c?.padding??.1);q=[k,D,H]}return{rfId:"1",width:i??0,height:s??0,transform:q,nodes:O,nodesInitialized:U,nodeLookup:b,parentLookup:w,edges:C,edgeLookup:E,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:h,maxZoom:f,translateExtent:rh,nodeExtent:z,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:rc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...hM},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:sH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:cM,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},$G=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v})=>cF((b,w)=>{async function S(){const{nodeLookup:E,panZoom:C,fitViewOptions:O,fitViewResolver:A,width:z,height:U,minZoom:q,maxZoom:R}=w();C&&(await iH({nodes:E,width:z,height:U,panZoom:C,minZoom:q,maxZoom:R},O),A?.resolve(!0),b({fitViewResolver:null}))}return{...Yx({nodes:t,edges:e,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:h,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:v}),setNodes:E=>{const{nodeLookup:C,parentLookup:O,nodeOrigin:A,elevateNodesOnSelect:z,fitViewQueued:U,zIndexMode:q}=w(),R=x6(E,C,O,{nodeOrigin:A,nodeExtent:p,elevateNodesOnSelect:z,checkEquality:!0,zIndexMode:q});U&&R?(S(),b({nodes:E,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:E,nodesInitialized:R})},setEdges:E=>{const{connectionLookup:C,edgeLookup:O}=w();IM(C,O,E),b({edges:E})},setDefaultNodesAndEdges:(E,C)=>{if(E){const{setNodes:O}=w();O(E),b({hasDefaultNodes:!0})}if(C){const{setEdges:O}=w();O(C),b({hasDefaultEdges:!0})}},updateNodeInternals:E=>{const{triggerNodeChanges:C,nodeLookup:O,parentLookup:A,domNode:z,nodeOrigin:U,nodeExtent:q,debug:R,fitViewQueued:k,zIndexMode:D}=w(),{changes:H,updatedInternals:V}=RH(E,O,A,z,U,q,D);V&&(EH(O,A,{nodeOrigin:U,nodeExtent:q,zIndexMode:D}),k?(S(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),H?.length>0&&(R&&console.log("React Flow: trigger node changes",H),C?.(H)))},updateNodePositions:(E,C=!1)=>{const O=[];let A=[];const{nodeLookup:z,triggerNodeChanges:U,connection:q,updateConnection:R,onNodesChangeMiddlewareMap:k}=w();for(const[D,H]of E){const V=z.get(D),j=!!(V?.expandParent&&V?.parentId&&H?.position),B={id:D,type:"position",position:j?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:C};if(V&&q.inProgress&&q.fromNode.id===V.id){const K=zl(V,q.fromHandle,Ye.Left,!0);R({...q,from:K})}j&&V.parentId&&O.push({id:D,parentId:V.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),A.push(B)}if(O.length>0){const{parentLookup:D,nodeOrigin:H}=w(),V=x_(O,z,D,H);A.push(...V)}for(const D of k.values())A=D(A);U(A)},triggerNodeChanges:E=>{const{onNodesChange:C,setNodes:O,nodes:A,hasDefaultNodes:z,debug:U}=w();if(E?.length){if(z){const q=FM(E,A);O(q)}U&&console.log("React Flow: trigger node changes",E),C?.(E)}},triggerEdgeChanges:E=>{const{onEdgesChange:C,setEdges:O,edges:A,hasDefaultEdges:z,debug:U}=w();if(E?.length){if(z){const q=GM(E,A);O(q)}U&&console.log("React Flow: trigger edge changes",E),C?.(E)}},addSelectedNodes:E=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:A,triggerNodeChanges:z,triggerEdgeChanges:U}=w();if(C){const q=E.map(R=>wl(R,!0));z(q);return}z(Gu(A,new Set([...E]),!0)),U(Gu(O))},addSelectedEdges:E=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:A,triggerNodeChanges:z,triggerEdgeChanges:U}=w();if(C){const q=E.map(R=>wl(R,!0));U(q);return}U(Gu(O,new Set([...E]))),z(Gu(A,new Set,!0))},unselectNodesAndEdges:({nodes:E,edges:C}={})=>{const{edges:O,nodes:A,nodeLookup:z,triggerNodeChanges:U,triggerEdgeChanges:q}=w(),R=E||A,k=C||O,D=R.map(V=>{const j=z.get(V.id);return j&&(j.selected=!1),wl(V.id,!1)}),H=k.map(V=>wl(V.id,!1));U(D),q(H)},setMinZoom:E=>{const{panZoom:C,maxZoom:O}=w();C?.setScaleExtent([E,O]),b({minZoom:E})},setMaxZoom:E=>{const{panZoom:C,minZoom:O}=w();C?.setScaleExtent([O,E]),b({maxZoom:E})},setTranslateExtent:E=>{w().panZoom?.setTranslateExtent(E),b({translateExtent:E})},resetSelectedElements:()=>{const{edges:E,nodes:C,triggerNodeChanges:O,triggerEdgeChanges:A,elementsSelectable:z}=w();if(!z)return;const U=C.reduce((R,k)=>k.selected?[...R,wl(k.id,!1)]:R,[]),q=E.reduce((R,k)=>k.selected?[...R,wl(k.id,!1)]:R,[]);O(U),A(q)},setNodeExtent:E=>{const{nodes:C,nodeLookup:O,parentLookup:A,nodeOrigin:z,elevateNodesOnSelect:U,nodeExtent:q,zIndexMode:R}=w();E[0][0]===q[0][0]&&E[0][1]===q[0][1]&&E[1][0]===q[1][0]&&E[1][1]===q[1][1]||(x6(C,O,A,{nodeOrigin:z,nodeExtent:E,elevateNodesOnSelect:U,checkEquality:!1,zIndexMode:R}),b({nodeExtent:E}))},panBy:E=>{const{transform:C,width:O,height:A,panZoom:z,translateExtent:U}=w();return IH({delta:E,panZoom:z,transform:C,translateExtent:U,width:O,height:A})},setCenter:async(E,C,O)=>{const{width:A,height:z,maxZoom:U,panZoom:q}=w();if(!q)return Promise.resolve(!1);const R=typeof O?.zoom<"u"?O.zoom:U;return await q.setViewport({x:A/2-E*R,y:z/2-C*R,zoom:R},{duration:O?.duration,ease:O?.ease,interpolate:O?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...hM}})},updateConnection:E=>{b({connection:E})},reset:()=>b({...Yx()})}},Object.is);function YG({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:h,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:v,children:b}){const[w]=ee.useState(()=>$G({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:h,nodeOrigin:m,nodeExtent:p,zIndexMode:v}));return I.jsx(hF,{value:w,children:I.jsx(OF,{children:b})})}function XG({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:l,fitView:c,fitViewOptions:h,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b}){return ee.useContext(i1)?I.jsx(I.Fragment,{children:t}):I.jsx(YG,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:h,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:v,zIndexMode:b,children:t})}const KG={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function QG({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:l,onNodeClick:c,onEdgeClick:h,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:v,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,onNodeMouseEnter:O,onNodeMouseMove:A,onNodeMouseLeave:z,onNodeContextMenu:U,onNodeDoubleClick:q,onNodeDragStart:R,onNodeDrag:k,onNodeDragStop:D,onNodesDelete:H,onEdgesDelete:V,onDelete:j,onSelectionChange:B,onSelectionDragStart:K,onSelectionDrag:ie,onSelectionDragStop:$,onSelectionContextMenu:Z,onSelectionStart:re,onSelectionEnd:le,onBeforeDelete:_e,connectionMode:X,connectionLineType:te=po.Bezier,connectionLineStyle:ve,connectionLineComponent:Q,connectionLineContainerStyle:ae,deleteKeyCode:ce="Backspace",selectionKeyCode:pe="Shift",selectionOnDrag:be=!1,selectionMode:Ce=ih.Full,panActivationKeyCode:Le="Space",multiSelectionKeyCode:He=oh()?"Meta":"Control",zoomActivationKeyCode:Ue=oh()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ge,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:st,nodesDraggable:$e,autoPanOnNodeFocus:Xt,nodesConnectable:lt,nodesFocusable:zt,nodeOrigin:Bn=UM,edgesFocusable:Gn,edgesReconnectable:Qt,elementsSelectable:en=!0,defaultViewport:Qn=EF,minZoom:br=.5,maxZoom:wr=2,translateExtent:$n=rh,preventScrolling:As=!0,nodeExtent:Ci,defaultMarkerColor:Cs="#b1b1b7",zoomOnScroll:Ia=!0,zoomOnPinch:dn=!0,panOnScroll:Gt=!1,panOnScrollSpeed:xr=.5,panOnScrollMode:ln=Cl.Free,zoomOnDoubleClick:Xl=!0,panOnDrag:Rs=!0,onPaneClick:Kl,onPaneMouseEnter:ni,onPaneMouseMove:Na,onPaneMouseLeave:mn,onPaneScroll:ri,onPaneContextMenu:ii,paneClickDistance:Lr=1,nodeClickDistance:Lc=0,children:Ql,onReconnect:ai,onReconnectStart:Ma,onReconnectEnd:Vc,onEdgeContextMenu:ka,onEdgeDoubleClick:Ho,onEdgeMouseEnter:Fo,onEdgeMouseMove:Da,onEdgeMouseLeave:Ri,reconnectRadius:Zl=10,onNodesChange:Vr,onEdgesChange:qr,noDragClassName:pn="nodrag",noWheelClassName:Cn="nowheel",noPanClassName:Pr="nopan",fitView:Oa,fitViewOptions:Wl,connectOnClick:Jl,attributionPosition:eu,proOptions:si,defaultEdgeOptions:Is,elevateNodesOnSelect:oi=!0,elevateEdgesOnSelect:Sr=!1,disableKeyboardA11y:ar=!1,autoPanOnConnect:li,autoPanOnNodeDrag:gn,autoPanSpeed:Go,connectionRadius:$o,isValidConnection:ui,onError:ci,style:Yo,id:Ns,nodeDragThreshold:Xo,connectionDragThreshold:tu,viewport:Ms,onViewportChange:fr,width:vn,height:Rn,colorMode:Zi="light",debug:Ko,onScroll:It,ariaLabelConfig:za,zIndexMode:Br="basic",...La},sr){const Wi=Ns||"1",nu=RF(Zi),Qo=ee.useCallback(Ii=>{Ii.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),It?.(Ii)},[It]);return I.jsx("div",{"data-testid":"rf__wrapper",...La,onScroll:Qo,style:{...Yo,...KG},ref:sr,className:Vn(["react-flow",i,nu]),id:Ns,role:"application",children:I.jsxs(XG,{nodes:t,edges:e,width:vn,height:Rn,fitView:Oa,fitViewOptions:Wl,minZoom:br,maxZoom:wr,nodeOrigin:Bn,nodeExtent:Ci,zIndexMode:Br,children:[I.jsx(GG,{onInit:f,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:O,onNodeMouseMove:A,onNodeMouseLeave:z,onNodeContextMenu:U,onNodeDoubleClick:q,nodeTypes:s,edgeTypes:l,connectionLineType:te,connectionLineStyle:ve,connectionLineComponent:Q,connectionLineContainerStyle:ae,selectionKeyCode:pe,selectionOnDrag:be,selectionMode:Ce,deleteKeyCode:ce,multiSelectionKeyCode:He,panActivationKeyCode:Le,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Be,defaultViewport:Qn,translateExtent:$n,minZoom:br,maxZoom:wr,preventScrolling:As,zoomOnScroll:Ia,zoomOnPinch:dn,zoomOnDoubleClick:Xl,panOnScroll:Gt,panOnScrollSpeed:xr,panOnScrollMode:ln,panOnDrag:Rs,onPaneClick:Kl,onPaneMouseEnter:ni,onPaneMouseMove:Na,onPaneMouseLeave:mn,onPaneScroll:ri,onPaneContextMenu:ii,paneClickDistance:Lr,nodeClickDistance:Lc,onSelectionContextMenu:Z,onSelectionStart:re,onSelectionEnd:le,onReconnect:ai,onReconnectStart:Ma,onReconnectEnd:Vc,onEdgeContextMenu:ka,onEdgeDoubleClick:Ho,onEdgeMouseEnter:Fo,onEdgeMouseMove:Da,onEdgeMouseLeave:Ri,reconnectRadius:Zl,defaultMarkerColor:Cs,noDragClassName:pn,noWheelClassName:Cn,noPanClassName:Pr,rfId:Wi,disableKeyboardA11y:ar,nodeExtent:Ci,viewport:Ms,onViewportChange:fr}),I.jsx(CF,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,nodesDraggable:$e,autoPanOnNodeFocus:Xt,nodesConnectable:lt,nodesFocusable:zt,edgesFocusable:Gn,edgesReconnectable:Qt,elementsSelectable:en,elevateNodesOnSelect:oi,elevateEdgesOnSelect:Sr,minZoom:br,maxZoom:wr,nodeExtent:Ci,onNodesChange:Vr,onEdgesChange:qr,snapToGrid:Pe,snapGrid:Ge,connectionMode:X,translateExtent:$n,connectOnClick:Jl,defaultEdgeOptions:Is,fitView:Oa,fitViewOptions:Wl,onNodesDelete:H,onEdgesDelete:V,onDelete:j,onNodeDragStart:R,onNodeDrag:k,onNodeDragStop:D,onSelectionDrag:ie,onSelectionDragStart:K,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:v,noPanClassName:Pr,nodeOrigin:Bn,rfId:Wi,autoPanOnConnect:li,autoPanOnNodeDrag:gn,autoPanSpeed:Go,onError:ci,connectionRadius:$o,isValidConnection:ui,selectNodesOnDrag:st,nodeDragThreshold:Xo,connectionDragThreshold:tu,onBeforeDelete:_e,debug:Ko,ariaLabelConfig:za,zIndexMode:Br}),I.jsx(SF,{onSelectionChange:B}),Ql,I.jsx(yF,{proOptions:si,position:eu}),I.jsx(vF,{rfId:Wi,disableKeyboardA11y:ar})]})})}var ZG=$M(QG);function WG(t){const[e,n]=ee.useState(t),r=ee.useCallback(i=>n(s=>FM(i,s)),[]);return[e,n,r]}function JG(t){const[e,n]=ee.useState(t),r=ee.useCallback(i=>n(s=>GM(i,s)),[]);return[e,n,r]}function e$({dimensions:t,lineWidth:e,variant:n,className:r}){return I.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Vn(["react-flow__background-pattern",n,r])})}function t$({radius:t,className:e}){return I.jsx("circle",{cx:t,cy:t,r:t,className:Vn(["react-flow__background-pattern","dots",e])})}var xo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(xo||(xo={}));const n$={[xo.Dots]:1,[xo.Lines]:1,[xo.Cross]:6},r$=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function gk({id:t,variant:e=xo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:l,bgColor:c,style:h,className:f,patternClassName:m}){const p=ee.useRef(null),{transform:v,patternId:b}=Ct(r$,rn),w=r||n$[e],S=e===xo.Dots,E=e===xo.Cross,C=Array.isArray(n)?n:[n,n],O=[C[0]*v[2]||1,C[1]*v[2]||1],A=w*v[2],z=Array.isArray(s)?s:[s,s],U=E?[A,A]:O,q=[z[0]*v[2]||1+U[0]/2,z[1]*v[2]||1+U[1]/2],R=`${b}${t||""}`;return I.jsxs("svg",{className:Vn(["react-flow__background",f]),style:{...h,...s1,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[I.jsx("pattern",{id:R,x:v[0]%O[0],y:v[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${q[0]},-${q[1]})`,children:S?I.jsx(t$,{radius:A/2,className:m}):I.jsx(e$,{dimensions:U,lineWidth:i,variant:e,className:m})}),I.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}gk.displayName="Background";const i$=ee.memo(gk);function a$(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:I.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function s$(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:I.jsx("path",{d:"M0 0h32v4.2H0z"})})}function o$(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:I.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function l$(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:I.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function u$(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:I.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Cd({children:t,className:e,...n}){return I.jsx("button",{type:"button",className:Vn(["react-flow__controls-button",e]),...n,children:t})}const c$=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function vk({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:h,className:f,children:m,position:p="bottom-left",orientation:v="vertical","aria-label":b}){const w=an(),{isInteractive:S,minZoomReached:E,maxZoomReached:C,ariaLabelConfig:O}=Ct(c$,rn),{zoomIn:A,zoomOut:z,fitView:U}=S_(),q=()=>{A(),s?.()},R=()=>{z(),l?.()},k=()=>{U(i),c?.()},D=()=>{w.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),h?.(!S)},H=v==="horizontal"?"horizontal":"vertical";return I.jsxs(a1,{className:Vn(["react-flow__controls",H,f]),position:p,style:t,"data-testid":"rf__controls","aria-label":b??O["controls.ariaLabel"],children:[e&&I.jsxs(I.Fragment,{children:[I.jsx(Cd,{onClick:q,className:"react-flow__controls-zoomin",title:O["controls.zoomIn.ariaLabel"],"aria-label":O["controls.zoomIn.ariaLabel"],disabled:C,children:I.jsx(a$,{})}),I.jsx(Cd,{onClick:R,className:"react-flow__controls-zoomout",title:O["controls.zoomOut.ariaLabel"],"aria-label":O["controls.zoomOut.ariaLabel"],disabled:E,children:I.jsx(s$,{})})]}),n&&I.jsx(Cd,{className:"react-flow__controls-fitview",onClick:k,title:O["controls.fitView.ariaLabel"],"aria-label":O["controls.fitView.ariaLabel"],children:I.jsx(o$,{})}),r&&I.jsx(Cd,{className:"react-flow__controls-interactive",onClick:D,title:O["controls.interactive.ariaLabel"],"aria-label":O["controls.interactive.ariaLabel"],children:S?I.jsx(u$,{}):I.jsx(l$,{})}),m]})}vk.displayName="Controls";const h$=ee.memo(vk);function f$({id:t,x:e,y:n,width:r,height:i,style:s,color:l,strokeColor:c,strokeWidth:h,className:f,borderRadius:m,shapeRendering:p,selected:v,onClick:b}){const{background:w,backgroundColor:S}=s||{},E=l||w||S;return I.jsx("rect",{className:Vn(["react-flow__minimap-node",{selected:v},f]),x:e,y:n,rx:m,ry:m,width:r,height:i,style:{fill:E,stroke:c,strokeWidth:h},shapeRendering:p,onClick:b?C=>b(C,t):void 0})}const d$=ee.memo(f$),m$=t=>t.nodes.map(e=>e.id),dv=t=>t instanceof Function?t:()=>t;function p$({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=d$,onClick:l}){const c=Ct(m$,rn),h=dv(e),f=dv(t),m=dv(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return I.jsx(I.Fragment,{children:c.map(v=>I.jsx(v$,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:l,shapeRendering:p},v))})}function g$({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:c,onClick:h}){const{node:f,x:m,y:p,width:v,height:b}=Ct(w=>{const{internals:S}=w.nodeLookup.get(t),E=S.userNode,{x:C,y:O}=S.positionAbsolute,{width:A,height:z}=bs(E);return{node:E,x:C,y:O,width:A,height:z}},rn);return!f||f.hidden||!yM(f)?null:I.jsx(c,{x:m,y:p,width:v,height:b,style:f.style,selected:!!f.selected,className:r(f),color:e(f),borderRadius:i,strokeColor:n(f),strokeWidth:s,shapeRendering:l,onClick:h,id:f.id})}const v$=ee.memo(g$);var y$=ee.memo(p$);const _$=200,b$=150,w$=t=>!t.hidden,x$=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?vM(Ch(t.nodeLookup,{filter:w$}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},S$="react-flow__minimap-desc";function yk({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:h,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:v="bottom-right",onClick:b,onNodeClick:w,pannable:S=!1,zoomable:E=!1,ariaLabel:C,inversePan:O,zoomStep:A=1,offsetScale:z=5}){const U=an(),q=ee.useRef(null),{boundingRect:R,viewBB:k,rfId:D,panZoom:H,translateExtent:V,flowWidth:j,flowHeight:B,ariaLabelConfig:K}=Ct(x$,rn),ie=t?.width??_$,$=t?.height??b$,Z=R.width/ie,re=R.height/$,le=Math.max(Z,re),_e=le*ie,X=le*$,te=z*le,ve=R.x-(_e-R.width)/2-te,Q=R.y-(X-R.height)/2-te,ae=_e+te*2,ce=X+te*2,pe=`${S$}-${D}`,be=ee.useRef(0),Ce=ee.useRef();be.current=le,ee.useEffect(()=>{if(q.current&&H)return Ce.current=qH({domNode:q.current,panZoom:H,getTransform:()=>U.getState().transform,getViewScale:()=>be.current}),()=>{Ce.current?.destroy()}},[H]),ee.useEffect(()=>{Ce.current?.update({translateExtent:V,width:j,height:B,inversePan:O,pannable:S,zoomStep:A,zoomable:E})},[S,E,O,A,V,j,B]);const Le=b?Pe=>{const[Ge,Be]=Ce.current?.pointer(Pe)||[0,0];b(Pe,{x:Ge,y:Be})}:void 0,He=w?ee.useCallback((Pe,Ge)=>{const Be=U.getState().nodeLookup.get(Ge).internals.userNode;w(Pe,Be)},[]):void 0,Ue=C??K["minimap.ariaLabel"];return I.jsx(a1,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*le:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Vn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:I.jsxs("svg",{width:ie,height:$,viewBox:`${ve} ${Q} ${ae} ${ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":pe,ref:q,onClick:Le,children:[Ue&&I.jsx("title",{id:pe,children:Ue}),I.jsx(y$,{onClick:He,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),I.jsx("path",{className:"react-flow__minimap-mask",d:`M${ve-te},${Q-te}h${ae+te*2}v${ce+te*2}h${-ae-te*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}yk.displayName="MiniMap";const E$=ee.memo(yk),T$=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,A$={[oc.Line]:"right",[oc.Handle]:"bottom-right"};function C$({nodeId:t,position:e,variant:n=oc.Handle,className:r,style:i=void 0,children:s,color:l,minWidth:c=10,minHeight:h=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:v,autoScale:b=!0,shouldResize:w,onResizeStart:S,onResize:E,onResizeEnd:C}){const O=QM(),A=typeof t=="string"?t:O,z=an(),U=ee.useRef(null),q=n===oc.Handle,R=Ct(ee.useCallback(T$(q&&b),[q,b]),rn),k=ee.useRef(null),D=e??A$[n];ee.useEffect(()=>{if(!(!U.current||!A))return k.current||(k.current=WH({domNode:U.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:V,transform:j,snapGrid:B,snapToGrid:K,nodeOrigin:ie,domNode:$}=z.getState();return{nodeLookup:V,transform:j,snapGrid:B,snapToGrid:K,nodeOrigin:ie,paneDomNode:$}},onChange:(V,j)=>{const{triggerNodeChanges:B,nodeLookup:K,parentLookup:ie,nodeOrigin:$}=z.getState(),Z=[],re={x:V.x,y:V.y},le=K.get(A);if(le&&le.expandParent&&le.parentId){const _e=le.origin??$,X=V.width??le.measured.width??0,te=V.height??le.measured.height??0,ve={id:le.id,parentId:le.parentId,rect:{width:X,height:te,..._M({x:V.x??le.position.x,y:V.y??le.position.y},{width:X,height:te},le.parentId,K,_e)}},Q=x_([ve],K,ie,$);Z.push(...Q),re.x=V.x?Math.max(_e[0]*X,V.x):void 0,re.y=V.y?Math.max(_e[1]*te,V.y):void 0}if(re.x!==void 0&&re.y!==void 0){const _e={id:A,type:"position",position:{...re}};Z.push(_e)}if(V.width!==void 0&&V.height!==void 0){const X={id:A,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:V.width,height:V.height}};Z.push(X)}for(const _e of j){const X={..._e,type:"position"};Z.push(X)}B(Z)},onEnd:({width:V,height:j})=>{const B={id:A,type:"dimensions",resizing:!1,dimensions:{width:V,height:j}};z.getState().triggerNodeChanges([B])}})),k.current.update({controlPosition:D,boundaries:{minWidth:c,minHeight:h,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:v,onResizeStart:S,onResize:E,onResizeEnd:C,shouldResize:w}),()=>{k.current?.destroy()}},[D,c,h,f,m,p,S,E,C,w]);const H=D.split("-");return I.jsx("div",{className:Vn(["react-flow__resize-control","nodrag",...H,n,r]),ref:U,style:{...i,scale:R,...l&&{[q?"backgroundColor":"borderColor"]:l}},children:s})}ee.memo(C$);const T_={verified:"#ccffcc",unverified:"#ffcccc",deprecated:"#ffff00",deadEnd:"#eeeeee",duplicateLine:"#0000FF",parentLine:"#555",text:"#000"},mv={verified:{label:"Verified"},unverified:{label:"Unverified"},deprecated:{label:"Duplicate Branch (Deprecated)"}},R$="_overlay_1pykk_1",I$="_legend_1pykk_20",Xx={overlay:R$,legend:I$};class kr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new kr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Wr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Wr(n,kr.range(this,e))}}class Ne{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,s=l.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var h=c.slice(i,s).replace(/[^]/g,"$&"),f;i>15?f=""+c.slice(i-15,i):f=c.slice(0,i);var m;s+15<c.length?m=c.slice(s,s+15)+"":m=c.slice(s),r+=f+h+m}var p=new Error(r);return p.name="ParseError",p.__proto__=Ne.prototype,p.position=i,i!=null&&s!=null&&(p.length=s-i),p.rawMessage=e,p}}Ne.prototype.__proto__=Error.prototype;var N$=function(e,n){return e===void 0?n:e},M$=/([A-Z])/g,k$=function(e){return e.replace(M$,"-$1").toLowerCase()},D$={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},O$=/[&><"']/g;function z$(t){return String(t).replace(O$,e=>D$[e])}var _k=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},L$=function(e){var n=_k(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},V$=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},q$=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},kt={deflt:N$,escape:z$,hyphenate:k$,getBaseElem:_k,isCharacterBox:L$,protocolFromUrl:q$},Kd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function P$(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class A_{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Kd)if(Kd.hasOwnProperty(n)){var r=Kd[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:P$(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=kt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class uo{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return ha[B$[this.id]]}sub(){return ha[j$[this.id]]}fracNum(){return ha[U$[this.id]]}fracDen(){return ha[H$[this.id]]}cramp(){return ha[F$[this.id]]}text(){return ha[G$[this.id]]}isTight(){return this.size>=2}}var C_=0,ym=1,Qu=2,us=3,uh=4,xi=5,uc=6,vr=7,ha=[new uo(C_,0,!1),new uo(ym,0,!0),new uo(Qu,1,!1),new uo(us,1,!0),new uo(uh,2,!1),new uo(xi,2,!0),new uo(uc,3,!1),new uo(vr,3,!0)],B$=[uh,xi,uh,xi,uc,vr,uc,vr],j$=[xi,xi,xi,xi,vr,vr,vr,vr],U$=[Qu,us,uh,xi,uc,vr,uc,vr],H$=[us,us,xi,xi,vr,vr,vr,vr],F$=[ym,ym,us,us,xi,xi,vr,vr],G$=[C_,ym,Qu,us,Qu,us,Qu,us],We={DISPLAY:ha[C_],TEXT:ha[Qu],SCRIPT:ha[uh],SCRIPTSCRIPT:ha[uc]},T6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function $$(t){for(var e=0;e<T6.length;e++)for(var n=T6[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Qd=[];T6.forEach(t=>t.blocks.forEach(e=>Qd.push(...e)));function bk(t){for(var e=0;e<Qd.length;e+=2)if(t>=Qd[e]&&t<=Qd[e+1])return!0;return!1}var Bu=80,Y$=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},X$=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},K$=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Q$=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Z$=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},W$=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},J$=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},eY=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=Y$(n,Bu);break;case"sqrtSize1":i=X$(n,Bu);break;case"sqrtSize2":i=K$(n,Bu);break;case"sqrtSize3":i=Q$(n,Bu);break;case"sqrtSize4":i=Z$(n,Bu);break;case"sqrtTall":i=J$(n,Bu,r)}return i},tY=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Kx={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},nY=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Nh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var da={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Rd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Qx={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function rY(t,e){da[t]=e}function R_(t,e,n){if(!da[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=da[e][r];if(!i&&t[0]in Qx&&(r=Qx[t[0]].charCodeAt(0),i=da[e][r]),!i&&n==="text"&&bk(r)&&(i=da[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var pv={};function iY(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!pv[e]){var n=pv[e]={cssEmPerMu:Rd.quad[e]/18};for(var r in Rd)Rd.hasOwnProperty(r)&&(n[r]=Rd[r][e])}return pv[e]}var aY=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Zx=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Wx=function(e,n){return n.size<2?e:aY[e-1][n.size-1]};class is{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||is.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Zx[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new is(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Wx(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Zx[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Wx(is.BASESIZE,e);return this.size===n&&this.textSize===is.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==is.BASESIZE?["sizing","reset-size"+this.size,"size"+is.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=iY(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}is.BASESIZE=6;var A6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},sY={ex:!0,em:!0,mu:!0},wk=function(e){return typeof e!="string"&&(e=e.unit),e in A6||e in sY||e==="ex"},cn=function(e,n){var r;if(e.unit in A6)r=A6[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},Io=function(e){return e.filter(n=>n).join(" ")},xk=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},Sk=function(e){var n=document.createElement(e);n.className=Io(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},oY=/[\s"'>/=\x00-\x1f]/,Ek=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+kt.escape(Io(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=kt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+kt.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(oY.test(s))throw new Ne("Invalid attribute name '"+s+"'");n+=" "+s+'="'+kt.escape(this.attributes[s])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class Mh{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,xk.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return Sk.call(this,"span")}toMarkup(){return Ek.call(this,"span")}}class I_{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,xk.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return Sk.call(this,"a")}toMarkup(){return Ek.call(this,"a")}}class lY{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+kt.escape(this.src)+'"'+(' alt="'+kt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=kt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+kt.escape(n)+'"'),e+="'/>",e}}var uY={:"",:"",:"",:""};class Si{constructor(e,n,r,i,s,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var f=$$(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=uY[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Io(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=kt.escape(Io(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=kt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+kt.escape(r)+'"');var s=kt.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class ds{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+kt.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class No{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Kx[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+kt.escape(this.alternate)+'"/>':'<path d="'+kt.escape(Kx[this.pathName])+'"/>'}}class C6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+kt.escape(this.attributes[n])+'"');return e+="/>",e}}function Jx(t){if(t instanceof Si)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function cY(t){if(t instanceof Mh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var hY={bin:1,close:1,inner:1,open:1,punct:1,rel:1},fY={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Kt={math:{},text:{}};function x(t,e,n,r,i,s){Kt[t][i]={font:e,group:n,replace:r},s&&r&&(Kt[t][r]=Kt[t][i])}var N="math",Re="text",P="main",W="ams",sn="accent-token",Ve="bin",_r="close",_c="inner",Ze="mathord",qn="op-token",ti="open",l1="punct",J="rel",ws="spacing",oe="textord";x(N,P,J,"","\\equiv",!0);x(N,P,J,"","\\prec",!0);x(N,P,J,"","\\succ",!0);x(N,P,J,"","\\sim",!0);x(N,P,J,"","\\perp");x(N,P,J,"","\\preceq",!0);x(N,P,J,"","\\succeq",!0);x(N,P,J,"","\\simeq",!0);x(N,P,J,"","\\mid",!0);x(N,P,J,"","\\ll",!0);x(N,P,J,"","\\gg",!0);x(N,P,J,"","\\asymp",!0);x(N,P,J,"","\\parallel");x(N,P,J,"","\\bowtie",!0);x(N,P,J,"","\\smile",!0);x(N,P,J,"","\\sqsubseteq",!0);x(N,P,J,"","\\sqsupseteq",!0);x(N,P,J,"","\\doteq",!0);x(N,P,J,"","\\frown",!0);x(N,P,J,"","\\ni",!0);x(N,P,J,"","\\propto",!0);x(N,P,J,"","\\vdash",!0);x(N,P,J,"","\\dashv",!0);x(N,P,J,"","\\owns");x(N,P,l1,".","\\ldotp");x(N,P,l1,"","\\cdotp");x(N,P,oe,"#","\\#");x(Re,P,oe,"#","\\#");x(N,P,oe,"&","\\&");x(Re,P,oe,"&","\\&");x(N,P,oe,"","\\aleph",!0);x(N,P,oe,"","\\forall",!0);x(N,P,oe,"","\\hbar",!0);x(N,P,oe,"","\\exists",!0);x(N,P,oe,"","\\nabla",!0);x(N,P,oe,"","\\flat",!0);x(N,P,oe,"","\\ell",!0);x(N,P,oe,"","\\natural",!0);x(N,P,oe,"","\\clubsuit",!0);x(N,P,oe,"","\\wp",!0);x(N,P,oe,"","\\sharp",!0);x(N,P,oe,"","\\diamondsuit",!0);x(N,P,oe,"","\\Re",!0);x(N,P,oe,"","\\heartsuit",!0);x(N,P,oe,"","\\Im",!0);x(N,P,oe,"","\\spadesuit",!0);x(N,P,oe,"","\\S",!0);x(Re,P,oe,"","\\S");x(N,P,oe,"","\\P",!0);x(Re,P,oe,"","\\P");x(N,P,oe,"","\\dag");x(Re,P,oe,"","\\dag");x(Re,P,oe,"","\\textdagger");x(N,P,oe,"","\\ddag");x(Re,P,oe,"","\\ddag");x(Re,P,oe,"","\\textdaggerdbl");x(N,P,_r,"","\\rmoustache",!0);x(N,P,ti,"","\\lmoustache",!0);x(N,P,_r,"","\\rgroup",!0);x(N,P,ti,"","\\lgroup",!0);x(N,P,Ve,"","\\mp",!0);x(N,P,Ve,"","\\ominus",!0);x(N,P,Ve,"","\\uplus",!0);x(N,P,Ve,"","\\sqcap",!0);x(N,P,Ve,"","\\ast");x(N,P,Ve,"","\\sqcup",!0);x(N,P,Ve,"","\\bigcirc",!0);x(N,P,Ve,"","\\bullet",!0);x(N,P,Ve,"","\\ddagger");x(N,P,Ve,"","\\wr",!0);x(N,P,Ve,"","\\amalg");x(N,P,Ve,"&","\\And");x(N,P,J,"","\\longleftarrow",!0);x(N,P,J,"","\\Leftarrow",!0);x(N,P,J,"","\\Longleftarrow",!0);x(N,P,J,"","\\longrightarrow",!0);x(N,P,J,"","\\Rightarrow",!0);x(N,P,J,"","\\Longrightarrow",!0);x(N,P,J,"","\\leftrightarrow",!0);x(N,P,J,"","\\longleftrightarrow",!0);x(N,P,J,"","\\Leftrightarrow",!0);x(N,P,J,"","\\Longleftrightarrow",!0);x(N,P,J,"","\\mapsto",!0);x(N,P,J,"","\\longmapsto",!0);x(N,P,J,"","\\nearrow",!0);x(N,P,J,"","\\hookleftarrow",!0);x(N,P,J,"","\\hookrightarrow",!0);x(N,P,J,"","\\searrow",!0);x(N,P,J,"","\\leftharpoonup",!0);x(N,P,J,"","\\rightharpoonup",!0);x(N,P,J,"","\\swarrow",!0);x(N,P,J,"","\\leftharpoondown",!0);x(N,P,J,"","\\rightharpoondown",!0);x(N,P,J,"","\\nwarrow",!0);x(N,P,J,"","\\rightleftharpoons",!0);x(N,W,J,"","\\nless",!0);x(N,W,J,"","\\@nleqslant");x(N,W,J,"","\\@nleqq");x(N,W,J,"","\\lneq",!0);x(N,W,J,"","\\lneqq",!0);x(N,W,J,"","\\@lvertneqq");x(N,W,J,"","\\lnsim",!0);x(N,W,J,"","\\lnapprox",!0);x(N,W,J,"","\\nprec",!0);x(N,W,J,"","\\npreceq",!0);x(N,W,J,"","\\precnsim",!0);x(N,W,J,"","\\precnapprox",!0);x(N,W,J,"","\\nsim",!0);x(N,W,J,"","\\@nshortmid");x(N,W,J,"","\\nmid",!0);x(N,W,J,"","\\nvdash",!0);x(N,W,J,"","\\nvDash",!0);x(N,W,J,"","\\ntriangleleft");x(N,W,J,"","\\ntrianglelefteq",!0);x(N,W,J,"","\\subsetneq",!0);x(N,W,J,"","\\@varsubsetneq");x(N,W,J,"","\\subsetneqq",!0);x(N,W,J,"","\\@varsubsetneqq");x(N,W,J,"","\\ngtr",!0);x(N,W,J,"","\\@ngeqslant");x(N,W,J,"","\\@ngeqq");x(N,W,J,"","\\gneq",!0);x(N,W,J,"","\\gneqq",!0);x(N,W,J,"","\\@gvertneqq");x(N,W,J,"","\\gnsim",!0);x(N,W,J,"","\\gnapprox",!0);x(N,W,J,"","\\nsucc",!0);x(N,W,J,"","\\nsucceq",!0);x(N,W,J,"","\\succnsim",!0);x(N,W,J,"","\\succnapprox",!0);x(N,W,J,"","\\ncong",!0);x(N,W,J,"","\\@nshortparallel");x(N,W,J,"","\\nparallel",!0);x(N,W,J,"","\\nVDash",!0);x(N,W,J,"","\\ntriangleright");x(N,W,J,"","\\ntrianglerighteq",!0);x(N,W,J,"","\\@nsupseteqq");x(N,W,J,"","\\supsetneq",!0);x(N,W,J,"","\\@varsupsetneq");x(N,W,J,"","\\supsetneqq",!0);x(N,W,J,"","\\@varsupsetneqq");x(N,W,J,"","\\nVdash",!0);x(N,W,J,"","\\precneqq",!0);x(N,W,J,"","\\succneqq",!0);x(N,W,J,"","\\@nsubseteqq");x(N,W,Ve,"","\\unlhd");x(N,W,Ve,"","\\unrhd");x(N,W,J,"","\\nleftarrow",!0);x(N,W,J,"","\\nrightarrow",!0);x(N,W,J,"","\\nLeftarrow",!0);x(N,W,J,"","\\nRightarrow",!0);x(N,W,J,"","\\nleftrightarrow",!0);x(N,W,J,"","\\nLeftrightarrow",!0);x(N,W,J,"","\\vartriangle");x(N,W,oe,"","\\hslash");x(N,W,oe,"","\\triangledown");x(N,W,oe,"","\\lozenge");x(N,W,oe,"","\\circledS");x(N,W,oe,"","\\circledR");x(Re,W,oe,"","\\circledR");x(N,W,oe,"","\\measuredangle",!0);x(N,W,oe,"","\\nexists");x(N,W,oe,"","\\mho");x(N,W,oe,"","\\Finv",!0);x(N,W,oe,"","\\Game",!0);x(N,W,oe,"","\\backprime");x(N,W,oe,"","\\blacktriangle");x(N,W,oe,"","\\blacktriangledown");x(N,W,oe,"","\\blacksquare");x(N,W,oe,"","\\blacklozenge");x(N,W,oe,"","\\bigstar");x(N,W,oe,"","\\sphericalangle",!0);x(N,W,oe,"","\\complement",!0);x(N,W,oe,"","\\eth",!0);x(Re,P,oe,"","");x(N,W,oe,"","\\diagup");x(N,W,oe,"","\\diagdown");x(N,W,oe,"","\\square");x(N,W,oe,"","\\Box");x(N,W,oe,"","\\Diamond");x(N,W,oe,"","\\yen",!0);x(Re,W,oe,"","\\yen",!0);x(N,W,oe,"","\\checkmark",!0);x(Re,W,oe,"","\\checkmark");x(N,W,oe,"","\\beth",!0);x(N,W,oe,"","\\daleth",!0);x(N,W,oe,"","\\gimel",!0);x(N,W,oe,"","\\digamma",!0);x(N,W,oe,"","\\varkappa");x(N,W,ti,"","\\@ulcorner",!0);x(N,W,_r,"","\\@urcorner",!0);x(N,W,ti,"","\\@llcorner",!0);x(N,W,_r,"","\\@lrcorner",!0);x(N,W,J,"","\\leqq",!0);x(N,W,J,"","\\leqslant",!0);x(N,W,J,"","\\eqslantless",!0);x(N,W,J,"","\\lesssim",!0);x(N,W,J,"","\\lessapprox",!0);x(N,W,J,"","\\approxeq",!0);x(N,W,Ve,"","\\lessdot");x(N,W,J,"","\\lll",!0);x(N,W,J,"","\\lessgtr",!0);x(N,W,J,"","\\lesseqgtr",!0);x(N,W,J,"","\\lesseqqgtr",!0);x(N,W,J,"","\\doteqdot");x(N,W,J,"","\\risingdotseq",!0);x(N,W,J,"","\\fallingdotseq",!0);x(N,W,J,"","\\backsim",!0);x(N,W,J,"","\\backsimeq",!0);x(N,W,J,"","\\subseteqq",!0);x(N,W,J,"","\\Subset",!0);x(N,W,J,"","\\sqsubset",!0);x(N,W,J,"","\\preccurlyeq",!0);x(N,W,J,"","\\curlyeqprec",!0);x(N,W,J,"","\\precsim",!0);x(N,W,J,"","\\precapprox",!0);x(N,W,J,"","\\vartriangleleft");x(N,W,J,"","\\trianglelefteq");x(N,W,J,"","\\vDash",!0);x(N,W,J,"","\\Vvdash",!0);x(N,W,J,"","\\smallsmile");x(N,W,J,"","\\smallfrown");x(N,W,J,"","\\bumpeq",!0);x(N,W,J,"","\\Bumpeq",!0);x(N,W,J,"","\\geqq",!0);x(N,W,J,"","\\geqslant",!0);x(N,W,J,"","\\eqslantgtr",!0);x(N,W,J,"","\\gtrsim",!0);x(N,W,J,"","\\gtrapprox",!0);x(N,W,Ve,"","\\gtrdot");x(N,W,J,"","\\ggg",!0);x(N,W,J,"","\\gtrless",!0);x(N,W,J,"","\\gtreqless",!0);x(N,W,J,"","\\gtreqqless",!0);x(N,W,J,"","\\eqcirc",!0);x(N,W,J,"","\\circeq",!0);x(N,W,J,"","\\triangleq",!0);x(N,W,J,"","\\thicksim");x(N,W,J,"","\\thickapprox");x(N,W,J,"","\\supseteqq",!0);x(N,W,J,"","\\Supset",!0);x(N,W,J,"","\\sqsupset",!0);x(N,W,J,"","\\succcurlyeq",!0);x(N,W,J,"","\\curlyeqsucc",!0);x(N,W,J,"","\\succsim",!0);x(N,W,J,"","\\succapprox",!0);x(N,W,J,"","\\vartriangleright");x(N,W,J,"","\\trianglerighteq");x(N,W,J,"","\\Vdash",!0);x(N,W,J,"","\\shortmid");x(N,W,J,"","\\shortparallel");x(N,W,J,"","\\between",!0);x(N,W,J,"","\\pitchfork",!0);x(N,W,J,"","\\varpropto");x(N,W,J,"","\\blacktriangleleft");x(N,W,J,"","\\therefore",!0);x(N,W,J,"","\\backepsilon");x(N,W,J,"","\\blacktriangleright");x(N,W,J,"","\\because",!0);x(N,W,J,"","\\llless");x(N,W,J,"","\\gggtr");x(N,W,Ve,"","\\lhd");x(N,W,Ve,"","\\rhd");x(N,W,J,"","\\eqsim",!0);x(N,P,J,"","\\Join");x(N,W,J,"","\\Doteq",!0);x(N,W,Ve,"","\\dotplus",!0);x(N,W,Ve,"","\\smallsetminus");x(N,W,Ve,"","\\Cap",!0);x(N,W,Ve,"","\\Cup",!0);x(N,W,Ve,"","\\doublebarwedge",!0);x(N,W,Ve,"","\\boxminus",!0);x(N,W,Ve,"","\\boxplus",!0);x(N,W,Ve,"","\\divideontimes",!0);x(N,W,Ve,"","\\ltimes",!0);x(N,W,Ve,"","\\rtimes",!0);x(N,W,Ve,"","\\leftthreetimes",!0);x(N,W,Ve,"","\\rightthreetimes",!0);x(N,W,Ve,"","\\curlywedge",!0);x(N,W,Ve,"","\\curlyvee",!0);x(N,W,Ve,"","\\circleddash",!0);x(N,W,Ve,"","\\circledast",!0);x(N,W,Ve,"","\\centerdot");x(N,W,Ve,"","\\intercal",!0);x(N,W,Ve,"","\\doublecap");x(N,W,Ve,"","\\doublecup");x(N,W,Ve,"","\\boxtimes",!0);x(N,W,J,"","\\dashrightarrow",!0);x(N,W,J,"","\\dashleftarrow",!0);x(N,W,J,"","\\leftleftarrows",!0);x(N,W,J,"","\\leftrightarrows",!0);x(N,W,J,"","\\Lleftarrow",!0);x(N,W,J,"","\\twoheadleftarrow",!0);x(N,W,J,"","\\leftarrowtail",!0);x(N,W,J,"","\\looparrowleft",!0);x(N,W,J,"","\\leftrightharpoons",!0);x(N,W,J,"","\\curvearrowleft",!0);x(N,W,J,"","\\circlearrowleft",!0);x(N,W,J,"","\\Lsh",!0);x(N,W,J,"","\\upuparrows",!0);x(N,W,J,"","\\upharpoonleft",!0);x(N,W,J,"","\\downharpoonleft",!0);x(N,P,J,"","\\origof",!0);x(N,P,J,"","\\imageof",!0);x(N,W,J,"","\\multimap",!0);x(N,W,J,"","\\leftrightsquigarrow",!0);x(N,W,J,"","\\rightrightarrows",!0);x(N,W,J,"","\\rightleftarrows",!0);x(N,W,J,"","\\twoheadrightarrow",!0);x(N,W,J,"","\\rightarrowtail",!0);x(N,W,J,"","\\looparrowright",!0);x(N,W,J,"","\\curvearrowright",!0);x(N,W,J,"","\\circlearrowright",!0);x(N,W,J,"","\\Rsh",!0);x(N,W,J,"","\\downdownarrows",!0);x(N,W,J,"","\\upharpoonright",!0);x(N,W,J,"","\\downharpoonright",!0);x(N,W,J,"","\\rightsquigarrow",!0);x(N,W,J,"","\\leadsto");x(N,W,J,"","\\Rrightarrow",!0);x(N,W,J,"","\\restriction");x(N,P,oe,"","`");x(N,P,oe,"$","\\$");x(Re,P,oe,"$","\\$");x(Re,P,oe,"$","\\textdollar");x(N,P,oe,"%","\\%");x(Re,P,oe,"%","\\%");x(N,P,oe,"_","\\_");x(Re,P,oe,"_","\\_");x(Re,P,oe,"_","\\textunderscore");x(N,P,oe,"","\\angle",!0);x(N,P,oe,"","\\infty",!0);x(N,P,oe,"","\\prime");x(N,P,oe,"","\\triangle");x(N,P,oe,"","\\Gamma",!0);x(N,P,oe,"","\\Delta",!0);x(N,P,oe,"","\\Theta",!0);x(N,P,oe,"","\\Lambda",!0);x(N,P,oe,"","\\Xi",!0);x(N,P,oe,"","\\Pi",!0);x(N,P,oe,"","\\Sigma",!0);x(N,P,oe,"","\\Upsilon",!0);x(N,P,oe,"","\\Phi",!0);x(N,P,oe,"","\\Psi",!0);x(N,P,oe,"","\\Omega",!0);x(N,P,oe,"A","");x(N,P,oe,"B","");x(N,P,oe,"E","");x(N,P,oe,"Z","");x(N,P,oe,"H","");x(N,P,oe,"I","");x(N,P,oe,"K","");x(N,P,oe,"M","");x(N,P,oe,"N","");x(N,P,oe,"O","");x(N,P,oe,"P","");x(N,P,oe,"T","");x(N,P,oe,"X","");x(N,P,oe,"","\\neg",!0);x(N,P,oe,"","\\lnot");x(N,P,oe,"","\\top");x(N,P,oe,"","\\bot");x(N,P,oe,"","\\emptyset");x(N,W,oe,"","\\varnothing");x(N,P,Ze,"","\\alpha",!0);x(N,P,Ze,"","\\beta",!0);x(N,P,Ze,"","\\gamma",!0);x(N,P,Ze,"","\\delta",!0);x(N,P,Ze,"","\\epsilon",!0);x(N,P,Ze,"","\\zeta",!0);x(N,P,Ze,"","\\eta",!0);x(N,P,Ze,"","\\theta",!0);x(N,P,Ze,"","\\iota",!0);x(N,P,Ze,"","\\kappa",!0);x(N,P,Ze,"","\\lambda",!0);x(N,P,Ze,"","\\mu",!0);x(N,P,Ze,"","\\nu",!0);x(N,P,Ze,"","\\xi",!0);x(N,P,Ze,"","\\omicron",!0);x(N,P,Ze,"","\\pi",!0);x(N,P,Ze,"","\\rho",!0);x(N,P,Ze,"","\\sigma",!0);x(N,P,Ze,"","\\tau",!0);x(N,P,Ze,"","\\upsilon",!0);x(N,P,Ze,"","\\phi",!0);x(N,P,Ze,"","\\chi",!0);x(N,P,Ze,"","\\psi",!0);x(N,P,Ze,"","\\omega",!0);x(N,P,Ze,"","\\varepsilon",!0);x(N,P,Ze,"","\\vartheta",!0);x(N,P,Ze,"","\\varpi",!0);x(N,P,Ze,"","\\varrho",!0);x(N,P,Ze,"","\\varsigma",!0);x(N,P,Ze,"","\\varphi",!0);x(N,P,Ve,"","*",!0);x(N,P,Ve,"+","+");x(N,P,Ve,"","-",!0);x(N,P,Ve,"","\\cdot",!0);x(N,P,Ve,"","\\circ",!0);x(N,P,Ve,"","\\div",!0);x(N,P,Ve,"","\\pm",!0);x(N,P,Ve,"","\\times",!0);x(N,P,Ve,"","\\cap",!0);x(N,P,Ve,"","\\cup",!0);x(N,P,Ve,"","\\setminus",!0);x(N,P,Ve,"","\\land");x(N,P,Ve,"","\\lor");x(N,P,Ve,"","\\wedge",!0);x(N,P,Ve,"","\\vee",!0);x(N,P,oe,"","\\surd");x(N,P,ti,"","\\langle",!0);x(N,P,ti,"","\\lvert");x(N,P,ti,"","\\lVert");x(N,P,_r,"?","?");x(N,P,_r,"!","!");x(N,P,_r,"","\\rangle",!0);x(N,P,_r,"","\\rvert");x(N,P,_r,"","\\rVert");x(N,P,J,"=","=");x(N,P,J,":",":");x(N,P,J,"","\\approx",!0);x(N,P,J,"","\\cong",!0);x(N,P,J,"","\\ge");x(N,P,J,"","\\geq",!0);x(N,P,J,"","\\gets");x(N,P,J,">","\\gt",!0);x(N,P,J,"","\\in",!0);x(N,P,J,"","\\@not");x(N,P,J,"","\\subset",!0);x(N,P,J,"","\\supset",!0);x(N,P,J,"","\\subseteq",!0);x(N,P,J,"","\\supseteq",!0);x(N,W,J,"","\\nsubseteq",!0);x(N,W,J,"","\\nsupseteq",!0);x(N,P,J,"","\\models");x(N,P,J,"","\\leftarrow",!0);x(N,P,J,"","\\le");x(N,P,J,"","\\leq",!0);x(N,P,J,"<","\\lt",!0);x(N,P,J,"","\\rightarrow",!0);x(N,P,J,"","\\to");x(N,W,J,"","\\ngeq",!0);x(N,W,J,"","\\nleq",!0);x(N,P,ws,"","\\ ");x(N,P,ws,"","\\space");x(N,P,ws,"","\\nobreakspace");x(Re,P,ws,"","\\ ");x(Re,P,ws,""," ");x(Re,P,ws,"","\\space");x(Re,P,ws,"","\\nobreakspace");x(N,P,ws,null,"\\nobreak");x(N,P,ws,null,"\\allowbreak");x(N,P,l1,",",",");x(N,P,l1,";",";");x(N,W,Ve,"","\\barwedge",!0);x(N,W,Ve,"","\\veebar",!0);x(N,P,Ve,"","\\odot",!0);x(N,P,Ve,"","\\oplus",!0);x(N,P,Ve,"","\\otimes",!0);x(N,P,oe,"","\\partial",!0);x(N,P,Ve,"","\\oslash",!0);x(N,W,Ve,"","\\circledcirc",!0);x(N,W,Ve,"","\\boxdot",!0);x(N,P,Ve,"","\\bigtriangleup");x(N,P,Ve,"","\\bigtriangledown");x(N,P,Ve,"","\\dagger");x(N,P,Ve,"","\\diamond");x(N,P,Ve,"","\\star");x(N,P,Ve,"","\\triangleleft");x(N,P,Ve,"","\\triangleright");x(N,P,ti,"{","\\{");x(Re,P,oe,"{","\\{");x(Re,P,oe,"{","\\textbraceleft");x(N,P,_r,"}","\\}");x(Re,P,oe,"}","\\}");x(Re,P,oe,"}","\\textbraceright");x(N,P,ti,"{","\\lbrace");x(N,P,_r,"}","\\rbrace");x(N,P,ti,"[","\\lbrack",!0);x(Re,P,oe,"[","\\lbrack",!0);x(N,P,_r,"]","\\rbrack",!0);x(Re,P,oe,"]","\\rbrack",!0);x(N,P,ti,"(","\\lparen",!0);x(N,P,_r,")","\\rparen",!0);x(Re,P,oe,"<","\\textless",!0);x(Re,P,oe,">","\\textgreater",!0);x(N,P,ti,"","\\lfloor",!0);x(N,P,_r,"","\\rfloor",!0);x(N,P,ti,"","\\lceil",!0);x(N,P,_r,"","\\rceil",!0);x(N,P,oe,"\\","\\backslash");x(N,P,oe,"","|");x(N,P,oe,"","\\vert");x(Re,P,oe,"|","\\textbar",!0);x(N,P,oe,"","\\|");x(N,P,oe,"","\\Vert");x(Re,P,oe,"","\\textbardbl");x(Re,P,oe,"~","\\textasciitilde");x(Re,P,oe,"\\","\\textbackslash");x(Re,P,oe,"^","\\textasciicircum");x(N,P,J,"","\\uparrow",!0);x(N,P,J,"","\\Uparrow",!0);x(N,P,J,"","\\downarrow",!0);x(N,P,J,"","\\Downarrow",!0);x(N,P,J,"","\\updownarrow",!0);x(N,P,J,"","\\Updownarrow",!0);x(N,P,qn,"","\\coprod");x(N,P,qn,"","\\bigvee");x(N,P,qn,"","\\bigwedge");x(N,P,qn,"","\\biguplus");x(N,P,qn,"","\\bigcap");x(N,P,qn,"","\\bigcup");x(N,P,qn,"","\\int");x(N,P,qn,"","\\intop");x(N,P,qn,"","\\iint");x(N,P,qn,"","\\iiint");x(N,P,qn,"","\\prod");x(N,P,qn,"","\\sum");x(N,P,qn,"","\\bigotimes");x(N,P,qn,"","\\bigoplus");x(N,P,qn,"","\\bigodot");x(N,P,qn,"","\\oint");x(N,P,qn,"","\\oiint");x(N,P,qn,"","\\oiiint");x(N,P,qn,"","\\bigsqcup");x(N,P,qn,"","\\smallint");x(Re,P,_c,"","\\textellipsis");x(N,P,_c,"","\\mathellipsis");x(Re,P,_c,"","\\ldots",!0);x(N,P,_c,"","\\ldots",!0);x(N,P,_c,"","\\@cdots",!0);x(N,P,_c,"","\\ddots",!0);x(N,P,oe,"","\\varvdots");x(Re,P,oe,"","\\varvdots");x(N,P,sn,"","\\acute");x(N,P,sn,"","\\grave");x(N,P,sn,"","\\ddot");x(N,P,sn,"~","\\tilde");x(N,P,sn,"","\\bar");x(N,P,sn,"","\\breve");x(N,P,sn,"","\\check");x(N,P,sn,"^","\\hat");x(N,P,sn,"","\\vec");x(N,P,sn,"","\\dot");x(N,P,sn,"","\\mathring");x(N,P,Ze,"","\\@imath");x(N,P,Ze,"","\\@jmath");x(N,P,oe,"","");x(N,P,oe,"","");x(Re,P,oe,"","\\i",!0);x(Re,P,oe,"","\\j",!0);x(Re,P,oe,"","\\ss",!0);x(Re,P,oe,"","\\ae",!0);x(Re,P,oe,"","\\oe",!0);x(Re,P,oe,"","\\o",!0);x(Re,P,oe,"","\\AE",!0);x(Re,P,oe,"","\\OE",!0);x(Re,P,oe,"","\\O",!0);x(Re,P,sn,"","\\'");x(Re,P,sn,"","\\`");x(Re,P,sn,"","\\^");x(Re,P,sn,"","\\~");x(Re,P,sn,"","\\=");x(Re,P,sn,"","\\u");x(Re,P,sn,"","\\.");x(Re,P,sn,"","\\c");x(Re,P,sn,"","\\r");x(Re,P,sn,"","\\v");x(Re,P,sn,"",'\\"');x(Re,P,sn,"","\\H");x(Re,P,sn,"","\\textcircled");var Tk={"--":!0,"---":!0,"``":!0,"''":!0};x(Re,P,oe,"","--",!0);x(Re,P,oe,"","\\textendash");x(Re,P,oe,"","---",!0);x(Re,P,oe,"","\\textemdash");x(Re,P,oe,"","`",!0);x(Re,P,oe,"","\\textquoteleft");x(Re,P,oe,"","'",!0);x(Re,P,oe,"","\\textquoteright");x(Re,P,oe,"","``",!0);x(Re,P,oe,"","\\textquotedblleft");x(Re,P,oe,"","''",!0);x(Re,P,oe,"","\\textquotedblright");x(N,P,oe,"","\\degree",!0);x(Re,P,oe,"","\\degree");x(Re,P,oe,"","\\textdegree",!0);x(N,P,oe,"","\\pounds");x(N,P,oe,"","\\mathsterling",!0);x(Re,P,oe,"","\\pounds");x(Re,P,oe,"","\\textsterling",!0);x(N,W,oe,"","\\maltese");x(Re,W,oe,"","\\maltese");var eS='0123456789/@."';for(var gv=0;gv<eS.length;gv++){var tS=eS.charAt(gv);x(N,P,oe,tS,tS)}var nS='0123456789!@*()-=+";:?/.,';for(var vv=0;vv<nS.length;vv++){var rS=nS.charAt(vv);x(Re,P,oe,rS,rS)}var _m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var yv=0;yv<_m.length;yv++){var Id=_m.charAt(yv);x(N,P,Ze,Id,Id),x(Re,P,oe,Id,Id)}x(N,W,oe,"C","");x(Re,W,oe,"C","");x(N,W,oe,"H","");x(Re,W,oe,"H","");x(N,W,oe,"N","");x(Re,W,oe,"N","");x(N,W,oe,"P","");x(Re,W,oe,"P","");x(N,W,oe,"Q","");x(Re,W,oe,"Q","");x(N,W,oe,"R","");x(Re,W,oe,"R","");x(N,W,oe,"Z","");x(Re,W,oe,"Z","");x(N,P,Ze,"h","");x(Re,P,Ze,"h","");var nt="";for(var pr=0;pr<_m.length;pr++){var bn=_m.charAt(pr);nt=String.fromCharCode(55349,56320+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56372+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56424+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56580+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56684+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56736+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56788+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56840+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56944+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),pr<26&&(nt=String.fromCharCode(55349,56632+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt),nt=String.fromCharCode(55349,56476+pr),x(N,P,Ze,bn,nt),x(Re,P,oe,bn,nt))}nt="";x(N,P,Ze,"k",nt);x(Re,P,oe,"k",nt);for(var _l=0;_l<10;_l++){var co=_l.toString();nt=String.fromCharCode(55349,57294+_l),x(N,P,Ze,co,nt),x(Re,P,oe,co,nt),nt=String.fromCharCode(55349,57314+_l),x(N,P,Ze,co,nt),x(Re,P,oe,co,nt),nt=String.fromCharCode(55349,57324+_l),x(N,P,Ze,co,nt),x(Re,P,oe,co,nt),nt=String.fromCharCode(55349,57334+_l),x(N,P,Ze,co,nt),x(Re,P,oe,co,nt)}var R6="";for(var _v=0;_v<R6.length;_v++){var Nd=R6.charAt(_v);x(N,P,Ze,Nd,Nd),x(Re,P,oe,Nd,Nd)}var Md=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],iS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],dY=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,l=n==="math"?0:1;if(119808<=s&&s<120484){var c=Math.floor((s-119808)/26);return[Md[c][2],Md[c][l]]}else if(120782<=s&&s<=120831){var h=Math.floor((s-120782)/10);return[iS[h][2],iS[h][l]]}else{if(s===120485||s===120486)return[Md[0][2],Md[0][l]];if(120486<s&&s<120782)return["",""];throw new Ne("Unsupported character: "+e)}},u1=function(e,n,r){return Kt[r][e]&&Kt[r][e].replace&&(e=Kt[r][e].replace),{value:e,metrics:R_(e,n,r)}},Pi=function(e,n,r,i,s){var l=u1(e,n,r),c=l.metrics;e=l.value;var h;if(c){var f=c.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),h=new Si(e,c.height,c.depth,f,c.skew,c.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),h=new Si(e,0,0,0,0,0,s);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},mY=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&u1(e,"Main-Bold",n).metrics?Pi(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Kt[n][e].font==="main"?Pi(e,"Main-Regular",n,r,i):Pi(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},pY=function(e,n,r,i,s){return s!=="textord"&&u1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},gY=function(e,n,r){var i=e.mode,s=e.text,l=["mord"],c=i==="math"||i==="text"&&n.font,h=c?n.font:n.fontFamily,f="",m="";if(s.charCodeAt(0)===55349&&([f,m]=dY(s,i)),f.length>0)return Pi(s,f,i,n,l.concat(m));if(h){var p,v;if(h==="boldsymbol"){var b=pY(s,i,n,l,r);p=b.fontName,v=[b.fontClass]}else c?(p=Rk[h].fontName,v=[h]):(p=kd(h,n.fontWeight,n.fontShape),v=[h,n.fontWeight,n.fontShape]);if(u1(s,p,i).metrics)return Pi(s,p,i,n,l.concat(v));if(Tk.hasOwnProperty(s)&&p.slice(0,10)==="Typewriter"){for(var w=[],S=0;S<s.length;S++)w.push(Pi(s[S],p,i,n,l.concat(v)));return Ck(w)}}if(r==="mathord")return Pi(s,"Math-Italic",i,n,l.concat(["mathnormal"]));if(r==="textord"){var E=Kt[i][s]&&Kt[i][s].font;if(E==="ams"){var C=kd("amsrm",n.fontWeight,n.fontShape);return Pi(s,C,i,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(E==="main"||!E){var O=kd("textrm",n.fontWeight,n.fontShape);return Pi(s,O,i,n,l.concat(n.fontWeight,n.fontShape))}else{var A=kd(E,n.fontWeight,n.fontShape);return Pi(s,A,i,n,l.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},vY=(t,e)=>{if(Io(t.classes)!==Io(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},yY=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Si&&r instanceof Si&&vY(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},N_=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var l=e.children[s];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Nr=function(e,n,r,i){var s=new Mh(e,n,r,i);return N_(s),s},Ak=(t,e,n,r)=>new Mh(t,e,n,r),_Y=function(e,n,r){var i=Nr([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},bY=function(e,n,r,i){var s=new I_(e,n,r,i);return N_(s),s},Ck=function(e){var n=new Nh(e);return N_(n),n},wY=function(e,n){return e instanceof Nh?Nr([],[e],n):e},xY=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,l=1;l<n.length;l++){var c=-n[l].shift-s-n[l].elem.depth,h=c-(n[l-1].elem.height+n[l-1].elem.depth);s=s+c,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var v=e.children[p];m-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},SY=function(e,n){for(var{children:r,depth:i}=xY(e),s=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var h=c.elem;s=Math.max(s,h.maxFontSize,h.height)}}s+=2;var f=Nr(["pstrut"],[]);f.style.height=ke(s);for(var m=[],p=i,v=i,b=i,w=0;w<r.length;w++){var S=r[w];if(S.type==="kern")b+=S.size;else{var E=S.elem,C=S.wrapperClasses||[],O=S.wrapperStyle||{},A=Nr(C,[f,E],void 0,O);A.style.top=ke(-s-b-E.depth),S.marginLeft&&(A.style.marginLeft=S.marginLeft),S.marginRight&&(A.style.marginRight=S.marginRight),m.push(A),b+=E.height+E.depth}p=Math.min(p,b),v=Math.max(v,b)}var z=Nr(["vlist"],m);z.style.height=ke(v);var U;if(p<0){var q=Nr([],[]),R=Nr(["vlist"],[q]);R.style.height=ke(-p);var k=Nr(["vlist-s"],[new Si("")]);U=[Nr(["vlist-r"],[z,k]),Nr(["vlist-r"],[R])]}else U=[Nr(["vlist-r"],[z])];var D=Nr(["vlist-t"],U);return U.length===2&&D.classes.push("vlist-t2"),D.height=v,D.depth=-p,D},EY=(t,e)=>{var n=Nr(["mspace"],[],e),r=cn(t,e);return n.style.marginRight=ke(r),n},kd=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},Rk={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ik={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},TY=function(e,n){var[r,i,s]=Ik[e],l=new No(r),c=new ds([l],{width:ke(i),height:ke(s),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),h=Ak(["overlay"],[c],n);return h.height=s,h.style.height=ke(s),h.style.width=ke(i),h},de={fontMap:Rk,makeSymbol:Pi,mathsym:mY,makeSpan:Nr,makeSvgSpan:Ak,makeLineSpan:_Y,makeAnchor:bY,makeFragment:Ck,wrapFragment:wY,makeVList:SY,makeOrd:gY,makeGlue:EY,staticSvg:TY,svgData:Ik,tryCombineChars:yY},un={number:3,unit:"mu"},bl={number:4,unit:"mu"},rs={number:5,unit:"mu"},AY={mord:{mop:un,mbin:bl,mrel:rs,minner:un},mop:{mord:un,mop:un,mrel:rs,minner:un},mbin:{mord:bl,mop:bl,mopen:bl,minner:bl},mrel:{mord:rs,mop:rs,mopen:rs,minner:rs},mopen:{},mclose:{mop:un,mbin:bl,mrel:rs,minner:un},mpunct:{mord:un,mop:un,mrel:rs,mopen:un,mclose:un,mpunct:un,minner:un},minner:{mord:un,mop:un,mbin:bl,mrel:rs,mopen:un,mpunct:un,minner:un}},CY={mord:{mop:un},mop:{mord:un,mop:un},mbin:{},mrel:{},mopen:{},mclose:{mop:un},mpunct:{},minner:{mop:un}},Nk={},bm={},wm={};function ze(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},h=0;h<n.length;++h)Nk[n[h]]=c;e&&(s&&(bm[e]=s),l&&(wm[e]=l))}function jl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var xm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},An=function(e){return e.type==="ordgroup"?e.body:[e]},ms=de.makeSpan,RY=["leftmost","mbin","mopen","mrel","mop","mpunct"],IY=["rightmost","mrel","mclose","mpunct"],NY={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},MY={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Fn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],l=0;l<e.length;l++){var c=Rt(e[l],n);if(c instanceof Nh){var h=c.children;s.push(...h)}else s.push(c)}if(de.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var m=e[0];m.type==="sizing"?f=n.havingSize(m.size):m.type==="styling"&&(f=n.havingStyle(NY[m.style]))}var p=ms([i[0]||"leftmost"],[],n),v=ms([i[1]||"rightmost"],[],n),b=r==="root";return aS(s,(w,S)=>{var E=S.classes[0],C=w.classes[0];E==="mbin"&&IY.includes(C)?S.classes[0]="mord":C==="mbin"&&RY.includes(E)&&(w.classes[0]="mord")},{node:p},v,b),aS(s,(w,S)=>{var E=I6(S),C=I6(w),O=E&&C?w.hasClass("mtight")?CY[E][C]:AY[E][C]:null;if(O)return de.makeGlue(O,f)},{node:p},v,b),s},aS=function t(e,n,r,i,s){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=Mk(c);if(h){t(h.children,n,r,null,s);continue}var f=!c.hasClass("mspace");if(f){var m=n(c,r.node);m&&(r.insertAfter?r.insertAfter(m):(e.unshift(m),l++))}f?r.node=c:s&&c.hasClass("newline")&&(r.node=ms(["leftmost"])),r.insertAfter=(p=>v=>{e.splice(p+1,0,v),l++})(l)}i&&e.pop()},Mk=function(e){return e instanceof Nh||e instanceof I_||e instanceof Mh&&e.hasClass("enclosing")?e:null},kY=function t(e,n){var r=Mk(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},I6=function(e,n){return e?(n&&(e=kY(e,n)),MY[e.classes[0]]||null):null},ch=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ms(n.concat(r))},Rt=function(e,n,r){if(!e)return ms();if(bm[e.type]){var i=bm[e.type](e,n);if(r&&n.size!==r.size){i=ms(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function Dd(t,e){var n=ms(["base"],t,e),r=ms(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function N6(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Fn(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var h=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(h=!0);h||(s.push(Dd(l,e)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(s.push(Dd(l,e)),l=[]),s.push(r[c]));l.length>0&&s.push(Dd(l,e));var f;n?(f=Dd(Fn(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var m=ms(["katex-html"],s);if(m.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=ke(m.height+m.depth),m.depth&&(p.style.verticalAlign=ke(-m.depth))}return m}function kk(t){return new Nh(t)}let Kr=class{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Io(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ma&&this.children[r+1]instanceof ma){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ma;)i+=this.children[++r].toText();e.appendChild(new ma(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=kt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+kt.escape(Io(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}};class ma{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return kt.escape(this.toText())}toText(){return this.text}}class DY{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:Kr,TextNode:ma,SpaceNode:DY,newDocumentFragment:kk},Ei=function(e,n,r){return Kt[n][e]&&Kt[n][e].replace&&e.charCodeAt(0)!==55349&&!(Tk.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Kt[n][e].replace),new Ie.TextNode(e)},M_=function(e){return e.length===1?e[0]:new Ie.MathNode("mrow",e)},k_=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;Kt[i][s]&&Kt[i][s].replace&&(s=Kt[i][s].replace);var l=de.fontMap[r].fontName;return R_(s,l,i)?de.fontMap[r].variant:null};function bv(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ma&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof ma&&n.text===","}else return!1}var zr=function(e,n,r){if(e.length===1){var i=Yt(e[0],n);return r&&i instanceof Kr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],l,c=0;c<e.length;c++){var h=Yt(e[c],n);if(h instanceof Kr&&l instanceof Kr){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(bv(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&bv(l))h.children=[...l.children,...h.children],s.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||bv(l))){var f=h.children[0];f instanceof Kr&&f.type==="mn"&&(f.children=[...l.children,...f.children],s.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof ma&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof ma&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),s.pop())}}}s.push(h),l=h}return s},Mo=function(e,n,r){return M_(zr(e,n,r))},Yt=function(e,n){if(!e)return new Ie.MathNode("mrow");if(wm[e.type]){var r=wm[e.type](e,n);return r}else throw new Ne("Got group of unknown type: '"+e.type+"'")};function sS(t,e,n,r,i){var s=zr(t,n),l;s.length===1&&s[0]instanceof Kr&&["mrow","mtable"].includes(s[0].type)?l=s[0]:l=new Ie.MathNode("mrow",s);var c=new Ie.MathNode("annotation",[new Ie.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ie.MathNode("semantics",[l,c]),f=new Ie.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var m=i?"katex":"katex-mathml";return de.makeSpan([m],[f])}var Dk=function(e){return new is({style:e.displayMode?We.DISPLAY:We.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Ok=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=de.makeSpan(r,[e])}return e},OY=function(e,n,r){var i=Dk(r),s;if(r.output==="mathml")return sS(e,n,i,r.displayMode,!0);if(r.output==="html"){var l=N6(e,i);s=de.makeSpan(["katex"],[l])}else{var c=sS(e,n,i,r.displayMode,!1),h=N6(e,i);s=de.makeSpan(["katex"],[c,h])}return Ok(s,r)},zY=function(e,n,r){var i=Dk(r),s=N6(e,i),l=de.makeSpan(["katex"],[s]);return Ok(l,r)},LY={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},VY=function(e){var n=new Ie.MathNode("mo",[new Ie.TextNode(LY[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},qY={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},PY=function(e){return e.type==="ordgroup"?e.body.length:1},BY=function(e,n){function r(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var f=e,m=PY(f.base),p,v,b;if(m>5)h==="widehat"||h==="widecheck"?(p=420,c=2364,b=.42,v=h+"4"):(p=312,c=2340,b=.34,v="tilde4");else{var w=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][w],p=[0,239,300,360,420][w],b=[0,.24,.3,.3,.36,.42][w],v=h+w):(c=[0,600,1033,2339,2340][w],p=[0,260,286,306,312][w],b=[0,.26,.286,.3,.306,.34][w],v="tilde"+w)}var S=new No(v),E=new ds([S],{width:"100%",height:ke(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[E],n),minWidth:0,height:b}}else{var C=[],O=qY[h],[A,z,U]=O,q=U/1e3,R=A.length,k,D;if(R===1){var H=O[3];k=["hide-tail"],D=[H]}else if(R===2)k=["halfarrow-left","halfarrow-right"],D=["xMinYMin","xMaxYMin"];else if(R===3)k=["brace-left","brace-center","brace-right"],D=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var V=0;V<R;V++){var j=new No(A[V]),B=new ds([j],{width:"400em",height:ke(q),viewBox:"0 0 "+c+" "+U,preserveAspectRatio:D[V]+" slice"}),K=de.makeSvgSpan([k[V]],[B],n);if(R===1)return{span:K,minWidth:z,height:q};K.style.height=ke(q),C.push(K)}return{span:de.makeSpan(["stretchy"],C,n),minWidth:z,height:q}}}var{span:i,minWidth:s,height:l}=r();return i.height=l,i.style.height=ke(l),s>0&&(i.style.minWidth=ke(s)),i},jY=function(e,n,r,i,s){var l,c=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(l=de.makeSpan(["stretchy",n],[],s),n==="fbox"){var h=s.color&&s.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new C6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new C6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ds(f,{width:"100%",height:ke(c)});l=de.makeSvgSpan([],[m],s)}return l.height=c,l.style.height=ke(c),l},ps={encloseSpan:jY,mathMLnode:VY,svgSpan:BY};function dt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function D_(t){var e=c1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function c1(t){return t&&(t.type==="atom"||fY.hasOwnProperty(t.type))?t:null}var O_=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=dt(t.base,"accent"),n=r.base,t.base=n,i=cY(Rt(t,e)),t.base=r):(r=dt(t,"accent"),n=r.base);var s=Rt(n,e.havingCrampedStyle()),l=r.isShifty&&kt.isCharacterBox(n),c=0;if(l){var h=kt.getBaseElem(n),f=Rt(h,e.havingCrampedStyle());c=Jx(f).skew}var m=r.label==="\\c",p=m?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),v;if(r.isStretchy)v=ps.svgSpan(r,e),v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},e);else{var b,w;r.label==="\\vec"?(b=de.staticSvg("vec",e),w=de.svgData.vec[1]):(b=de.makeOrd({mode:r.mode,text:r.label},e,"textord"),b=Jx(b),b.italic=0,w=b.width,m&&(p+=b.depth)),v=de.makeSpan(["accent-body"],[b]);var S=r.label==="\\textcircled";S&&(v.classes.push("accent-full"),p=s.height);var E=c;S||(E-=w/2),v.style.left=ke(E),r.label==="\\textcircled"&&(v.style.top=".2em"),v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-p},{type:"elem",elem:v}]},e)}var C=de.makeSpan(["mord","accent"],[v],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},zk=(t,e)=>{var n=t.isStretchy?ps.mathMLnode(t.label):new Ie.MathNode("mo",[Ei(t.label,t.mode)]),r=new Ie.MathNode("mover",[Yt(t.base,e),n]);return r.setAttribute("accent","true"),r},UY=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=xm(e[0]),r=!UY.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:O_,mathmlBuilder:zk});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:O_,mathmlBuilder:zk});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Rt(t.base,e),r=ps.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ps.mathMLnode(t.label),r=new Ie.MathNode("munder",[Yt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Od=t=>{var e=new Ie.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=de.wrapFragment(Rt(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var l;t.below&&(r=e.havingStyle(n.sub()),l=de.wrapFragment(Rt(t.below,r,e),e),l.classes.push(s+"-arrow-pad"));var c=ps.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:p}]},e)}else m=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=ps.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Od(Yt(t.body,e));if(t.below){var s=Od(Yt(t.below,e));r=new Ie.MathNode("munderover",[n,s,i])}else r=new Ie.MathNode("mover",[n,i])}else if(t.below){var l=Od(Yt(t.below,e));r=new Ie.MathNode("munder",[n,l])}else r=Od(),r=new Ie.MathNode("mover",[n,r]);return r}});var HY=de.makeSpan;function Lk(t,e){var n=Fn(t.body,e,!0);return HY([t.mclass],n,e)}function Vk(t,e){var n,r=zr(t.body,e);return t.mclass==="minner"?n=new Ie.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ie.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ie.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:An(i),isCharacterBox:kt.isCharacterBox(i)}},htmlBuilder:Lk,mathmlBuilder:Vk});var h1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:h1(e[0]),body:An(e[1]),isCharacterBox:kt.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],l;r!=="\\stackrel"?l=h1(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:An(i)},h={type:"supsub",mode:s.mode,base:c,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:kt.isCharacterBox(h)}},htmlBuilder:Lk,mathmlBuilder:Vk});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:h1(e[0]),body:An(e[0])}},htmlBuilder(t,e){var n=Fn(t.body,e,!0),r=de.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=zr(t.body,e),r=new Ie.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var FY={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},oS=()=>({type:"styling",body:[],mode:"math",style:"display"}),lS=t=>t.type==="textord"&&t.text==="@",GY=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function $Y(t,e,n){var r=FY[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[s],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function YY(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var l=e[s],c=oS(),h=0;h<l.length;h++)if(!lS(l[h]))c.body.push(l[h]);else{r.push(c),h+=1;var f=D_(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var v=!0,b=h+1;b<l.length;b++){if(GY(l[b],f)){v=!1,h=b;break}if(lS(l[b]))throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(v)throw new Ne("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new Ne('Expected one of "<>AV=|." after @',l[h]);var w=$Y(f,m,t),S={type:"styling",body:[w],mode:"math",style:"display"};r.push(S),c=oS()}s%2===0?r.push(c):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=de.wrapFragment(Rt(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ie.MathNode("mrow",[Yt(t.label,e)]);return n=new Ie.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ie.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=de.wrapFragment(Rt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ie.MathNode("mrow",[Yt(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=dt(e[0],"ordgroup"),i=r.body,s="",l=0;l<i.length;l++){var c=dt(i[l],"textord");s+=c.text}var h=parseInt(s),f;if(isNaN(h))throw new Ne("\\@char has non-numeric argument "+s);if(h<0||h>=1114111)throw new Ne("\\@char with invalid code point "+s);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var qk=(t,e)=>{var n=Fn(t.body,e.withColor(t.color),!1);return de.makeFragment(n)},Pk=(t,e)=>{var n=zr(t.body,e.withColor(t.color)),r=new Ie.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=dt(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:An(i)}},htmlBuilder:qk,mathmlBuilder:Pk});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=dt(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:qk,mathmlBuilder:Pk});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&dt(i,"size").value}},htmlBuilder(t,e){var n=de.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(cn(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ie.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(cn(t.size,e)))),n}});var M6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Bk=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ne("Expected a control sequence",t);return e},XY=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},jk=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(M6[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=M6[r.text]),dt(e.parseFunction(),"internal");throw new Ne("Invalid token after macro prefix",r)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ne("Expected a control sequence",r);for(var s=0,l,c=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Ne('Argument number "'+r.text+'" out of order');s++,c.push([])}else{if(r.text==="EOF")throw new Ne("Expected a macro definition");c[s].push(r.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:s,delimiters:c},n===M6[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Bk(e.gullet.popToken());e.gullet.consumeSpaces();var i=XY(e);return jk(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Bk(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return jk(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var O0=function(e,n,r){var i=Kt.math[e]&&Kt.math[e].replace,s=R_(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},z_=function(e,n,r,i){var s=r.havingBaseStyle(n),l=de.makeSpan(i.concat(s.sizingClasses(r)),[e],r),c=s.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=s.sizeMultiplier,l},Uk=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(s),e.height-=s,e.depth+=s},KY=function(e,n,r,i,s,l){var c=de.makeSymbol(e,"Main-Regular",s,i),h=z_(c,n,i,l);return r&&Uk(h,i,n),h},QY=function(e,n,r,i){return de.makeSymbol(e,"Size"+n+"-Regular",r,i)},Hk=function(e,n,r,i,s,l){var c=QY(e,n,s,i),h=z_(de.makeSpan(["delimsizing","size"+n],[c],i),We.TEXT,i,l);return r&&Uk(h,i,We.TEXT),h},wv=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=de.makeSpan(["delimsizinginner",i],[de.makeSpan([],[de.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},xv=function(e,n,r){var i=da["Size4-Regular"][e.charCodeAt(0)]?da["Size4-Regular"][e.charCodeAt(0)][4]:da["Size1-Regular"][e.charCodeAt(0)][4],s=new No("inner",tY(e,Math.round(1e3*n))),l=new ds([s],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=de.makeSvgSpan([],[l],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},k6=.008,zd={type:"kern",size:-1*k6},ZY=["|","\\lvert","\\rvert","\\vert"],WY=["\\|","\\lVert","\\rVert","\\Vert"],Fk=function(e,n,r,i,s,l){var c,h,f,m,p="",v=0;c=f=m=e,h=null;var b="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",m="\\Downarrow"):ZY.includes(e)?(f="",p="vert",v=333):WY.includes(e)?(f="",p="doublevert",v=556):e==="["||e==="\\lbrack"?(c="",f="",m="",b="Size4-Regular",p="lbrack",v=667):e==="]"||e==="\\rbrack"?(c="",f="",m="",b="Size4-Regular",p="rbrack",v=667):e==="\\lfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="lfloor",v=667):e==="\\lceil"||e===""?(c="",f=m="",b="Size4-Regular",p="lceil",v=667):e==="\\rfloor"||e===""?(f=c="",m="",b="Size4-Regular",p="rfloor",v=667):e==="\\rceil"||e===""?(c="",f=m="",b="Size4-Regular",p="rceil",v=667):e==="("||e==="\\lparen"?(c="",f="",m="",b="Size4-Regular",p="lparen",v=875):e===")"||e==="\\rparen"?(c="",f="",m="",b="Size4-Regular",p="rparen",v=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",f="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",f="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",f="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",f="",b="Size4-Regular");var w=O0(c,b,s),S=w.height+w.depth,E=O0(f,b,s),C=E.height+E.depth,O=O0(m,b,s),A=O.height+O.depth,z=0,U=1;if(h!==null){var q=O0(h,b,s);z=q.height+q.depth,U=2}var R=S+A+z,k=Math.max(0,Math.ceil((n-R)/(U*C))),D=R+k*U*C,H=i.fontMetrics().axisHeight;r&&(H*=i.sizeMultiplier);var V=D/2-H,j=[];if(p.length>0){var B=D-S-A,K=Math.round(D*1e3),ie=nY(p,Math.round(B*1e3)),$=new No(p,ie),Z=(v/1e3).toFixed(3)+"em",re=(K/1e3).toFixed(3)+"em",le=new ds([$],{width:Z,height:re,viewBox:"0 0 "+v+" "+K}),_e=de.makeSvgSpan([],[le],i);_e.height=K/1e3,_e.style.width=Z,_e.style.height=re,j.push({type:"elem",elem:_e})}else{if(j.push(wv(m,b,s)),j.push(zd),h===null){var X=D-S-A+2*k6;j.push(xv(f,X,i))}else{var te=(D-S-A-z)/2+2*k6;j.push(xv(f,te,i)),j.push(zd),j.push(wv(h,b,s)),j.push(zd),j.push(xv(f,te,i))}j.push(zd),j.push(wv(c,b,s))}var ve=i.havingBaseStyle(We.TEXT),Q=de.makeVList({positionType:"bottom",positionData:V,children:j},ve);return z_(de.makeSpan(["delimsizing","mult"],[Q],ve),We.TEXT,i,l)},Sv=80,Ev=.08,Tv=function(e,n,r,i,s){var l=eY(e,i,r),c=new No(e,l),h=new ds([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[h],s)},JY=function(e,n){var r=n.havingBaseSizing(),i=Xk("\\surd",e*r.sizeMultiplier,Yk,r),s=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,h=0,f=0,m=0,p;return i.type==="small"?(m=1e3+1e3*l+Sv,e<1?s=1:e<1.4&&(s=.7),h=(1+l+Ev)/s,f=(1+l)/s,c=Tv("sqrtMain",h,m,l,n),c.style.minWidth="0.853em",p=.833/s):i.type==="large"?(m=(1e3+Sv)*F0[i.size],f=(F0[i.size]+l)/s,h=(F0[i.size]+l+Ev)/s,c=Tv("sqrtSize"+i.size,h,m,l,n),c.style.minWidth="1.02em",p=1/s):(h=e+l+Ev,f=e+l,m=Math.floor(1e3*e+l)+Sv,c=Tv("sqrtTall",h,m,l,n),c.style.minWidth="0.742em",p=1.056),c.height=f,c.style.height=ke(h),{span:c,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*s}},Gk=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],eX=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],$k=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],F0=[0,1.2,1.8,2.4,3],tX=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Gk.includes(e)||$k.includes(e))return Hk(e,n,!1,r,i,s);if(eX.includes(e))return Fk(e,F0[n],!1,r,i,s);throw new Ne("Illegal delimiter: '"+e+"'")},nX=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],rX=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],Yk=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],iX=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Xk=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),l=s;l<r.length&&r[l].type!=="stack";l++){var c=O0(e,iX(r[l]),"math"),h=c.height+c.depth;if(r[l].type==="small"){var f=i.havingBaseStyle(r[l].style);h*=f.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},Kk=function(e,n,r,i,s,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;$k.includes(e)?c=nX:Gk.includes(e)?c=Yk:c=rX;var h=Xk(e,n,c,i);return h.type==="small"?KY(e,h.style,r,i,s,l):h.type==="large"?Hk(e,h.size,r,i,s,l):Fk(e,n,r,i,s,l)},aX=function(e,n,r,i,s,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,f=5/i.fontMetrics().ptPerEm,m=Math.max(n-c,r+c),p=Math.max(m/500*h,2*m-f);return Kk(e,p,!0,i,s,l)},cs={sqrtImage:JY,sizedDelim:tX,sizeToMaxHeight:F0,customSizedDelim:Kk,leftRightDelim:aX},uS={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},sX=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function f1(t,e){var n=c1(t);if(n&&sX.includes(n.text))return n;throw n?new Ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ne("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=f1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:uS[t.funcName].size,mclass:uS[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?de.makeSpan([t.mclass]):cs.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ei(t.delim,t.mode));var n=new Ie.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(cs.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function cS(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:f1(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=f1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=dt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{cS(t);for(var n=Fn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,l=0;l<n.length;l++)n[l].isMiddle?s=!0:(r=Math.max(n[l].height,r),i=Math.max(n[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=ch(e,["mopen"]):c=cs.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(c),s)for(var h=1;h<n.length;h++){var f=n[h],m=f.isMiddle;m&&(n[h]=cs.leftRightDelim(m.delim,r,i,m.options,t.mode,[]))}var p;if(t.right===".")p=ch(e,["mclose"]);else{var v=t.rightColor?e.withColor(t.rightColor):e;p=cs.leftRightDelim(t.right,r,i,v,t.mode,["mclose"])}return n.push(p),de.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{cS(t);var n=zr(t.body,e);if(t.left!=="."){var r=new Ie.MathNode("mo",[Ei(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ie.MathNode("mo",[Ei(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return M_(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=f1(e[0],t);if(!t.parser.leftrightDepth)throw new Ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=ch(e,[]);else{n=cs.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Ei("|","text"):Ei(t.delim,t.mode),r=new Ie.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var L_=(t,e)=>{var n=de.wrapFragment(Rt(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,l=0,c=kt.isCharacterBox(t.body);if(r==="sout")s=de.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var h=cn({number:.6,unit:"pt"},e),f=cn({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var p=n.height+n.depth+h+f;n.style.paddingLeft=ke(p/2+h);var v=Math.floor(1e3*p*i),b=W$(v),w=new ds([new No("phase",b)],{width:"400em",height:ke(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});s=de.makeSvgSpan(["hide-tail"],[w],e),s.style.height=ke(p),l=n.depth+h+f}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,E=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),E=S):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*C,E=Math.max(0,.25-n.depth)):(S=c?.2:0,E=S),s=ps.encloseSpan(n,r,S,E,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=ke(C)):r==="angl"&&C!==.049&&(s.style.borderTopWidth=ke(C),s.style.borderRightWidth=ke(C)),l=n.depth+E,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var O;if(t.backgroundColor)O=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];O=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(O.height=n.height,O.depth=n.depth),/cancel/.test(r)&&!c?de.makeSpan(["mord","cancel-lap"],[O],e):de.makeSpan(["mord"],[O],e)},V_=(t,e)=>{var n=0,r=new Ie.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Yt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=dt(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:l}},htmlBuilder:L_,mathmlBuilder:V_});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=dt(e[0],"color-token").color,l=dt(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:s,body:c}},htmlBuilder:L_,mathmlBuilder:V_});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:L_,mathmlBuilder:V_});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var Qk={};function Ta(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=t,c={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<n.length;++h)Qk[n[h]]=c;s&&(bm[e]=s),l&&(wm[e]=l)}var Zk={};function G(t,e){Zk[t]=e}function hS(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var d1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ne("{"+t.envName+"} can be used only in display mode.")};function q_(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Po(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:f,emptySingleRow:m,maxNumCols:p,leqno:v}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Ne("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var w=[],S=[w],E=[],C=[],O=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function z(){O&&(t.gullet.macros.get("\\df@tag")?(O.push(t.subparse([new Wr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):O.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),C.push(hS(t));;){var U=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),w.push(U);var q=t.fetch().text;if(q==="&"){if(p&&w.length===p){if(f||c)throw new Ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(q==="\\end"){z(),w.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(S.length>1||!m)&&S.pop(),C.length<S.length+1&&C.push([]);break}else if(q==="\\\\"){t.consume();var R=void 0;t.gullet.future().text!==" "&&(R=t.parseSizeGroup(!0)),E.push(R?R.value:null),z(),C.push(hS(t)),w=[],S.push(w),A()}else throw new Ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:S,cols:s,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:c,tags:O,leqno:v}}function P_(t){return t.slice(0,1)==="d"?"display":"text"}var Aa=function(e,n){var r,i,s=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(s),f=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,v=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(We.SCRIPT).sizeMultiplier;v=.2778*(b/n.sizeMultiplier)}var w=e.colSeparationType==="CD"?cn({number:3,unit:"ex"},n):12*p,S=3*p,E=e.arraystretch*w,C=.7*E,O=.3*E,A=0;function z(Xt){for(var lt=0;lt<Xt.length;++lt)lt>0&&(A+=.25),f.push({pos:A,isDashed:Xt[lt]})}for(z(l[0]),r=0;r<e.body.length;++r){var U=e.body[r],q=C,R=O;c<U.length&&(c=U.length);var k=new Array(U.length);for(i=0;i<U.length;++i){var D=Rt(U[i],n);R<D.depth&&(R=D.depth),q<D.height&&(q=D.height),k[i]=D}var H=e.rowGaps[r],V=0;H&&(V=cn(H,n),V>0&&(V+=O,R<V&&(R=V),V=0)),e.addJot&&(R+=S),k.height=q,k.depth=R,A+=q,k.pos=A,A+=R+V,h[r]=k,z(l[r+1])}var j=A/2+n.fontMetrics().axisHeight,B=e.cols||[],K=[],ie,$,Z=[];if(e.tags&&e.tags.some(Xt=>Xt))for(r=0;r<s;++r){var re=h[r],le=re.pos-j,_e=e.tags[r],X=void 0;_e===!0?X=de.makeSpan(["eqn-num"],[],n):_e===!1?X=de.makeSpan([],[],n):X=de.makeSpan([],Fn(_e,n,!0),n),X.depth=re.depth,X.height=re.height,Z.push({type:"elem",elem:X,shift:le})}for(i=0,$=0;i<c||$<B.length;++i,++$){for(var te=B[$]||{},ve=!0;te.type==="separator";){if(ve||(ie=de.makeSpan(["arraycolsep"],[]),ie.style.width=ke(n.fontMetrics().doubleRuleSep),K.push(ie)),te.separator==="|"||te.separator===":"){var Q=te.separator==="|"?"solid":"dashed",ae=de.makeSpan(["vertical-separator"],[],n);ae.style.height=ke(A),ae.style.borderRightWidth=ke(m),ae.style.borderRightStyle=Q,ae.style.margin="0 "+ke(-m/2);var ce=A-j;ce&&(ae.style.verticalAlign=ke(-ce)),K.push(ae)}else throw new Ne("Invalid separator type: "+te.separator);$++,te=B[$]||{},ve=!1}if(!(i>=c)){var pe=void 0;(i>0||e.hskipBeforeAndAfter)&&(pe=kt.deflt(te.pregap,v),pe!==0&&(ie=de.makeSpan(["arraycolsep"],[]),ie.style.width=ke(pe),K.push(ie)));var be=[];for(r=0;r<s;++r){var Ce=h[r],Le=Ce[i];if(Le){var He=Ce.pos-j;Le.depth=Ce.depth,Le.height=Ce.height,be.push({type:"elem",elem:Le,shift:He})}}be=de.makeVList({positionType:"individualShift",children:be},n),be=de.makeSpan(["col-align-"+(te.align||"c")],[be]),K.push(be),(i<c-1||e.hskipBeforeAndAfter)&&(pe=kt.deflt(te.postgap,v),pe!==0&&(ie=de.makeSpan(["arraycolsep"],[]),ie.style.width=ke(pe),K.push(ie)))}}if(h=de.makeSpan(["mtable"],K),f.length>0){for(var Ue=de.makeLineSpan("hline",n,m),Pe=de.makeLineSpan("hdashline",n,m),Ge=[{type:"elem",elem:h,shift:0}];f.length>0;){var Be=f.pop(),st=Be.pos-j;Be.isDashed?Ge.push({type:"elem",elem:Pe,shift:st}):Ge.push({type:"elem",elem:Ue,shift:st})}h=de.makeVList({positionType:"individualShift",children:Ge},n)}if(Z.length===0)return de.makeSpan(["mord"],[h],n);var $e=de.makeVList({positionType:"individualShift",children:Z},n);return $e=de.makeSpan(["tag"],[$e],n),de.makeFragment([h,$e])},oX={c:"center ",l:"left ",r:"right "},Ca=function(e,n){for(var r=[],i=new Ie.MathNode("mtd",[],["mtr-glue"]),s=new Ie.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],f=0;f<c.length;f++)h.push(new Ie.MathNode("mtd",[Yt(c[f],n)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(s):h.push(s)),r.push(new Ie.MathNode("mtr",h))}var m=new Ie.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ke(p));var v="",b="";if(e.cols&&e.cols.length>0){var w=e.cols,S="",E=!1,C=0,O=w.length;w[0].type==="separator"&&(v+="top ",C=1),w[w.length-1].type==="separator"&&(v+="bottom ",O-=1);for(var A=C;A<O;A++)w[A].type==="align"?(b+=oX[w[A].align],E&&(S+="none "),E=!0):w[A].type==="separator"&&E&&(S+=w[A].separator==="|"?"solid ":"dashed ",E=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(S)&&m.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var z=e.cols||[],U="",q=1;q<z.length;q++)U+=q%2?"0em ":"1em ";m.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var R="",k=e.hLinesBeforeRow;v+=k[0].length>0?"left ":"",v+=k[k.length-1].length>0?"right ":"";for(var D=1;D<k.length-1;D++)R+=k[D].length===0?"none ":k[D][0]?"dashed ":"solid ";return/[sd]/.test(R)&&m.setAttribute("rowlines",R.trim()),v!==""&&(m=new Ie.MathNode("menclose",[m]),m.setAttribute("notation",v.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ie.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},Wk=function(e,n){e.envName.indexOf("ed")===-1&&d1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",l=Po(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:q_(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",p=0;p<n[0].body.length;p++){var v=dt(n[0].body[p],"textord");m+=v.text}c=Number(m),h=c*2}var b=!h;l.body.forEach(function(C){for(var O=1;O<C.length;O+=2){var A=dt(C[O],"styling"),z=dt(A.body[0],"ordgroup");z.body.unshift(f)}if(b)h<C.length&&(h=C.length);else{var U=C.length/2;if(c<U)throw new Ne("Too many math in a row: "+("expected "+c+", but got "+U),C[0])}});for(var w=0;w<h;++w){var S="r",E=0;w%2===1?S="l":w>0&&b&&(E=1),r[w]={type:"align",align:S,pregap:E,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};Ta({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=c1(e[0]),r=n?[e[0]]:dt(e[0],"ordgroup").body,i=r.map(function(l){var c=D_(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Ne("Unknown column alignment: "+h,l)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Po(t.parser,s,P_(t.envName))},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Po(t.parser,r,P_(t.envName)),l=Math.max(0,...s.body.map(c=>c.length));return s.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Po(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=c1(e[0]),r=n?[e[0]]:dt(e[0],"ordgroup").body,i=r.map(function(l){var c=D_(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Ne("Unknown column alignment: "+h,l)});if(i.length>1)throw new Ne("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Po(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Ne("{subarray} can contain only one column");return s},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Po(t.parser,e,P_(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Wk,htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&d1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:q_(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Po(t.parser,e,"display")},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Wk,htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){d1(t);var e={autoTag:q_(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Po(t.parser,e,"display")},htmlBuilder:Aa,mathmlBuilder:Ca});Ta({type:"array",names:["CD"],props:{numArgs:0},handler(t){return d1(t),YY(t.parser)},htmlBuilder:Aa,mathmlBuilder:Ca});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ne(t.funcName+" valid only within array environment")}});var fS=Qk;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ne("Invalid environment name",i);for(var s="",l=0;l<i.body.length;++l)s+=dt(i.body[l],"textord").text;if(r==="\\begin"){if(!fS.hasOwnProperty(s))throw new Ne("No such environment: "+s,i);var c=fS[s],{args:h,optArgs:f}=n.parseArguments("\\begin{"+s+"}",c),m={mode:n.mode,envName:s,parser:n},p=c.handler(m,h,f);n.expect("\\end",!1);var v=n.nextToken,b=dt(n.parseFunction(),"environment");if(b.name!==s)throw new Ne("Mismatch: \\begin{"+s+"} matched by \\end{"+b.name+"}",v);return p}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var Jk=(t,e)=>{var n=t.font,r=e.withFont(n);return Rt(t.body,r)},eD=(t,e)=>{var n=t.font,r=e.withFont(n);return Yt(t.body,r)},dS={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=xm(e[0]),s=r;return s in dS&&(s=dS[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:Jk,mathmlBuilder:eD});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=kt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:h1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,l=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:s,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:Jk,mathmlBuilder:eD});var tD=(t,e)=>{var n=e;return t==="display"?n=n.id>=We.SCRIPT.id?n.text():We.DISPLAY:t==="text"&&n.size===We.DISPLAY.size?n=We.TEXT:t==="script"?n=We.SCRIPT:t==="scriptscript"&&(n=We.SCRIPTSCRIPT),n},B_=(t,e)=>{var n=tD(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var l=Rt(t.numer,s,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}s=e.havingStyle(i);var f=Rt(t.denom,s,e),m,p,v;t.hasBarLine?(t.barSize?(p=cn(t.barSize,e),m=de.makeLineSpan("frac-line",e,p)):m=de.makeLineSpan("frac-line",e),p=m.height,v=m.height):(m=null,p=0,v=e.fontMetrics().defaultRuleThickness);var b,w,S;n.size===We.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?w=3*v:w=7*v,S=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,w=v):(b=e.fontMetrics().num3,w=3*v),S=e.fontMetrics().denom2);var E;if(m){var O=e.fontMetrics().axisHeight;b-l.depth-(O+.5*p)<w&&(b+=w-(b-l.depth-(O+.5*p))),O-.5*p-(f.height-S)<w&&(S+=w-(O-.5*p-(f.height-S)));var A=-(O-.5*p);E=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var C=b-l.depth-(f.height-S);C<w&&(b+=.5*(w-C),S+=.5*(w-C)),E=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:l,shift:-b}]},e)}s=e.havingStyle(n),E.height*=s.sizeMultiplier/e.sizeMultiplier,E.depth*=s.sizeMultiplier/e.sizeMultiplier;var z;n.size===We.DISPLAY.size?z=e.fontMetrics().delim1:n.size===We.SCRIPTSCRIPT.size?z=e.havingStyle(We.SCRIPT).fontMetrics().delim2:z=e.fontMetrics().delim2;var U,q;return t.leftDelim==null?U=ch(e,["mopen"]):U=cs.customSizedDelim(t.leftDelim,z,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?q=de.makeSpan([]):t.rightDelim==null?q=ch(e,["mclose"]):q=cs.customSizedDelim(t.rightDelim,z,!0,e.havingStyle(n),t.mode,["mclose"]),de.makeSpan(["mord"].concat(s.sizingClasses(e)),[U,de.makeSpan(["mfrac"],[E]),q],e)},j_=(t,e)=>{var n=new Ie.MathNode("mfrac",[Yt(t.numer,e),Yt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=cn(t.barSize,e);n.setAttribute("linethickness",ke(r))}var i=tD(t.size,e.style);if(i.size!==e.style.size){n=new Ie.MathNode("mstyle",[n]);var s=i.size===We.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ie.MathNode("mo",[new Ie.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var h=new Ie.MathNode("mo",[new Ie.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return M_(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],l,c=null,h=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:l,leftDelim:c,rightDelim:h,size:f,barSize:null}},htmlBuilder:B_,mathmlBuilder:j_});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var mS=["display","text","script","scriptscript"],pS=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=xm(e[0]),l=s.type==="atom"&&s.family==="open"?pS(s.text):null,c=xm(e[1]),h=c.type==="atom"&&c.family==="close"?pS(c.text):null,f=dt(e[2],"size"),m,p=null;f.isBlank?m=!0:(p=f.value,m=p.number>0);var v="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var w=dt(b.body[0],"textord");v=mS[Number(w.text)]}}else b=dt(b,"textord"),v=mS[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:h,size:v}},htmlBuilder:B_,mathmlBuilder:j_});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:dt(e[0],"size").value,token:i}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=V$(dt(e[1],"infix").size),l=e[2],c=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:B_,mathmlBuilder:j_});var nD=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Rt(t.sup,e.havingStyle(n.sup()),e):Rt(t.sub,e.havingStyle(n.sub()),e),i=dt(t.base,"horizBrace")):i=dt(t,"horizBrace");var s=Rt(i.base,e.havingBaseStyle(We.DISPLAY)),l=ps.svgSpan(i,e),c;if(i.isOver?(c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=de.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),r){var h=de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},e):c=de.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return de.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},lX=(t,e)=>{var n=ps.mathMLnode(t.label);return new Ie.MathNode(t.isOver?"mover":"munder",[Yt(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:nD,mathmlBuilder:lX});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=dt(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:An(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Fn(t.body,e,!1);return de.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Mo(t.body,e);return n instanceof Kr||(n=new Kr("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=dt(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var l=r[s];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:An(c)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:An(e[0])}},htmlBuilder(t,e){var n=Fn(t.body,e,!1);return de.makeFragment(n)},mathmlBuilder(t,e){return new Ie.MathNode("mrow",zr(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=dt(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(r){case"\\htmlClass":h.class=s,c={command:"\\htmlClass",class:s};break;case"\\htmlId":h.id=s,c={command:"\\htmlId",id:s};break;case"\\htmlStyle":h.style=s,c={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),m=0;m<f.length;m++){var p=f[m],v=p.indexOf("=");if(v<0)throw new Ne("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,v),w=p.slice(v+1);h["data-"+b.trim()]=w}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:h,body:An(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Fn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=de.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Mo(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:An(e[0]),mathml:An(e[1])}},htmlBuilder:(t,e)=>{var n=Fn(t.html,e,!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>Mo(t.mathml,e)});var Av=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!wk(r))throw new Ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var h=dt(n[0],"raw").string,f=h.split(","),m=0;m<f.length;m++){var p=f[m].split("=");if(p.length===2){var v=p[1].trim();switch(p[0].trim()){case"alt":c=v;break;case"width":i=Av(v);break;case"height":s=Av(v);break;case"totalheight":l=Av(v);break;default:throw new Ne("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=dt(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:s,totalheight:l,src:b}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=cn(t.height,e),r=0;t.totalheight.number>0&&(r=cn(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=cn(t.width,e));var s={height:ke(n+r)};i>0&&(s.width=ke(i)),r>0&&(s.verticalAlign=ke(-r));var l=new lY(t.src,t.alt,s);return l.height=n,l.depth=r,l},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=cn(t.height,e),i=0;if(t.totalheight.number>0&&(i=cn(t.totalheight,e)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),t.width.number>0){var s=cn(t.width,e);n.setAttribute("width",ke(s))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=dt(e[0],"size");if(n.settings.strict){var s=r[1]==="m",l=i.value.unit==="mu";s?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return de.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=cn(t.dimension,e);return new Ie.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=de.makeSpan([],[Rt(t.body,e)]),n=de.makeSpan(["inner"],[n],e)):n=de.makeSpan(["inner"],[Rt(t.body,e)]);var r=de.makeSpan(["fix"],[]),i=de.makeSpan([t.alignment],[n,r],e),s=de.makeSpan(["strut"]);return s.style.height=ke(i.height+i.depth),i.depth&&(s.style.verticalAlign=ke(-i.depth)),i.children.unshift(s),i=de.makeSpan(["thinbox"],[i],e),de.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Yt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",l=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ne("Mismatched "+t.funcName)}});var gS=(t,e)=>{switch(e.style.size){case We.DISPLAY.size:return t.display;case We.TEXT.size:return t.text;case We.SCRIPT.size:return t.script;case We.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:An(e[0]),text:An(e[1]),script:An(e[2]),scriptscript:An(e[3])}},htmlBuilder:(t,e)=>{var n=gS(t,e),r=Fn(n,e,!1);return de.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=gS(t,e);return Mo(n,e)}});var rD=(t,e,n,r,i,s,l)=>{t=de.makeSpan([],[t]);var c=n&&kt.isCharacterBox(n),h,f;if(e){var m=Rt(e,r.havingStyle(i.sup()),r);f={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var p=Rt(n,r.havingStyle(i.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var v;if(f&&h){var b=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;v=de.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-s)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var w=t.height-l;v=de.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:ke(-s)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+l;v=de.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:ke(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var E=[v];if(h&&s!==0&&!c){var C=de.makeSpan(["mspace"],[],r);C.style.marginRight=ke(s),E.unshift(C)}return de.makeSpan(["mop","op-limits"],E,r)},iD=["\\smallint"],bc=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=dt(t.base,"op"),i=!0):s=dt(t,"op");var l=e.style,c=!1;l.size===We.DISPLAY.size&&s.symbol&&!iD.includes(s.name)&&(c=!0);var h;if(s.symbol){var f=c?"Size2-Regular":"Size1-Regular",m="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(m=s.name.slice(1),s.name=m==="oiint"?"\\iint":"\\iiint"),h=de.makeSymbol(s.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=h.italic,v=de.staticSvg(m+"Size"+(c?"2":"1"),e);h=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},e),s.name="\\"+m,h.classes.unshift("mop"),h.italic=p}}else if(s.body){var b=Fn(s.body,e,!0);b.length===1&&b[0]instanceof Si?(h=b[0],h.classes[0]="mop"):h=de.makeSpan(["mop"],b,e)}else{for(var w=[],S=1;S<s.name.length;S++)w.push(de.mathsym(s.name[S],s.mode,e));h=de.makeSpan(["mop"],w,e)}var E=0,C=0;return(h instanceof Si||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(E=(h.height-h.depth)/2-e.fontMetrics().axisHeight,C=h.italic),i?rD(h,n,r,e,l,C,E):(E&&(h.style.position="relative",h.style.top=ke(E)),h)},kh=(t,e)=>{var n;if(t.symbol)n=new Kr("mo",[Ei(t.name,t.mode)]),iD.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Kr("mo",zr(t.body,e));else{n=new Kr("mi",[new ma(t.name.slice(1))]);var r=new Kr("mo",[Ei("","text")]);t.parentIsSupSub?n=new Kr("mrow",[n,r]):n=kk([n,r])}return n},uX={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=uX[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:bc,mathmlBuilder:kh});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:An(r)}},htmlBuilder:bc,mathmlBuilder:kh});var cX={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:bc,mathmlBuilder:kh});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:bc,mathmlBuilder:kh});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=cX[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:bc,mathmlBuilder:kh});var aD=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=dt(t.base,"operatorname"),i=!0):s=dt(t,"operatorname");var l;if(s.body.length>0){for(var c=s.body.map(p=>{var v=p.text;return typeof v=="string"?{type:"textord",mode:p.mode,text:v}:p}),h=Fn(c,e.withFont("mathrm"),!0),f=0;f<h.length;f++){var m=h[f];m instanceof Si&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=de.makeSpan(["mop"],h,e)}else l=de.makeSpan(["mop"],[],e);return i?rD(l,n,r,e,e.style,0,0):l},hX=(t,e)=>{for(var n=zr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof Ie.SpaceNode))if(s instanceof Ie.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=s.children[0];s.children.length===1&&l instanceof Ie.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(m=>m.toText()).join("");n=[new Ie.TextNode(c)]}var h=new Ie.MathNode("mi",n);h.setAttribute("mathvariant","normal");var f=new Ie.MathNode("mo",[Ei("","text")]);return t.parentIsSupSub?new Ie.MathNode("mrow",[h,f]):Ie.newDocumentFragment([h,f])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:An(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:aD,mathmlBuilder:hX});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");jl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?de.makeFragment(Fn(t.body,e,!1)):de.makeSpan(["mord"],Fn(t.body,e,!0),e)},mathmlBuilder(t,e){return Mo(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Rt(t.body,e.havingCrampedStyle()),r=de.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return de.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("mover",[Yt(t.body,e),n]);return r.setAttribute("accent","true"),r}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:An(r)}},htmlBuilder:(t,e)=>{var n=Fn(t.body,e.withPhantom(),!1);return de.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=zr(t.body,e);return new Ie.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[Rt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),de.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=zr(An(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=de.makeSpan(["inner"],[Rt(t.body,e.withPhantom())]),r=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=zr(An(t.body),e),r=new Ie.MathNode("mphantom",n),i=new Ie.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=dt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Rt(t.body,e),r=cn(t.dy,e);return de.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mpadded",[Yt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=dt(e[0],"size"),l=dt(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&dt(i,"size").value,width:s.value,height:l.value}},htmlBuilder(t,e){var n=de.makeSpan(["mord","rule"],[],e),r=cn(t.width,e),i=cn(t.height,e),s=t.shift?cn(t.shift,e):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=cn(t.width,e),r=cn(t.height,e),i=t.shift?cn(t.shift,e):0,s=e.color&&e.getColor()||"black",l=new Ie.MathNode("mspace");l.setAttribute("mathbackground",s),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(r));var c=new Ie.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function sD(t,e,n){for(var r=Fn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var l=r[s].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[l+1]==="reset-size"+e.size&&(r[s].classes[l+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return de.makeFragment(r)}var vS=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],fX=(t,e)=>{var n=e.havingSize(t.size);return sD(t.body,n,e)};ze({type:"sizing",names:vS,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:vS.indexOf(r)+1,body:s}},htmlBuilder:fX,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=zr(t.body,n),i=new Ie.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,l=n[0]&&dt(n[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var f=l.body[h];if(c=f.text,c==="t")i=!0;else if(c==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var m=e[0];return{type:"smash",mode:r.mode,body:m,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=de.makeSpan([],[Rt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return de.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new Ie.MathNode("mpadded",[Yt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Rt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=de.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<We.TEXT.id&&(s=e.fontMetrics().xHeight);var l=i+s/4,c=n.height+n.depth+l+i,{span:h,ruleWidth:f,advanceWidth:m}=cs.sqrtImage(c,e),p=h.height-f;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var v=h.height-n.height-l-f;n.style.paddingLeft=ke(m);var b=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+v)},{type:"elem",elem:h},{type:"kern",size:f}]},e);if(t.index){var w=e.havingStyle(We.SCRIPTSCRIPT),S=Rt(t.index,w,e),E=.6*(b.height-b.depth),C=de.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:S}]},e),O=de.makeSpan(["root"],[C]);return de.makeSpan(["mord","sqrt"],[O,b],e)}else return de.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ie.MathNode("mroot",[Yt(n,e),Yt(r,e)]):new Ie.MathNode("msqrt",[Yt(n,e)])}});var yS={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:s}},htmlBuilder(t,e){var n=yS[t.style],r=e.havingStyle(n).withFont("");return sD(t.body,r,e)},mathmlBuilder(t,e){var n=yS[t.style],r=e.havingStyle(n),i=zr(t.body,r),s=new Ie.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return s.setAttribute("scriptlevel",c[0]),s.setAttribute("displaystyle",c[1]),s}});var dX=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===We.DISPLAY.size||r.alwaysHandleSupSub);return i?bc:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===We.DISPLAY.size||r.limits);return s?aD:null}else{if(r.type==="accent")return kt.isCharacterBox(r.base)?O_:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?nD:null}else return null}else return null};jl({type:"supsub",htmlBuilder(t,e){var n=dX(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,l=Rt(r,e),c,h,f=e.fontMetrics(),m=0,p=0,v=r&&kt.isCharacterBox(r);if(i){var b=e.havingStyle(e.style.sup());c=Rt(i,b,e),v||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(s){var w=e.havingStyle(e.style.sub());h=Rt(s,w,e),v||(p=l.depth+w.fontMetrics().subDrop*w.sizeMultiplier/e.sizeMultiplier)}var S;e.style===We.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var E=e.sizeMultiplier,C=ke(.5/f.ptPerEm/E),O=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof Si||A)&&(O=ke(-l.italic))}var z;if(c&&h){m=Math.max(m,S,c.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var U=f.defaultRuleThickness,q=4*U;if(m-c.depth-(h.height-p)<q){p=q-(m-c.depth)+h.height;var R=.8*f.xHeight-(m-c.depth);R>0&&(m+=R,p-=R)}var k=[{type:"elem",elem:h,shift:p,marginRight:C,marginLeft:O},{type:"elem",elem:c,shift:-m,marginRight:C}];z=de.makeVList({positionType:"individualShift",children:k},e)}else if(h){p=Math.max(p,f.sub1,h.height-.8*f.xHeight);var D=[{type:"elem",elem:h,marginLeft:O,marginRight:C}];z=de.makeVList({positionType:"shift",positionData:p,children:D},e)}else if(c)m=Math.max(m,S,c.depth+.25*f.xHeight),z=de.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var H=I6(l,"right")||"mord";return de.makeSpan([H],[l,de.makeSpan(["msupsub"],[z])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Yt(t.base,e)];t.sub&&s.push(Yt(t.sub,e)),t.sup&&s.push(Yt(t.sup,e));var l;if(n)l=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===We.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===We.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===We.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===We.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===We.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===We.DISPLAY)?l="mover":l="msup"}return new Ie.MathNode(l,s)}});jl({type:"atom",htmlBuilder(t,e){return de.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[Ei(t.text,t.mode)]);if(t.family==="bin"){var r=k_(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var oD={mi:"italic",mn:"normal",mtext:"normal"};jl({type:"mathord",htmlBuilder(t,e){return de.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ie.MathNode("mi",[Ei(t.text,t.mode,e)]),r=k_(t,e)||"italic";return r!==oD[n.type]&&n.setAttribute("mathvariant",r),n}});jl({type:"textord",htmlBuilder(t,e){return de.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Ei(t.text,t.mode,e),r=k_(t,e)||"normal",i;return t.mode==="text"?i=new Ie.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ie.MathNode("mn",[n]):t.text==="\\prime"?i=new Ie.MathNode("mo",[n]):i=new Ie.MathNode("mi",[n]),r!==oD[i.type]&&i.setAttribute("mathvariant",r),i}});var Cv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Rv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};jl({type:"spacing",htmlBuilder(t,e){if(Rv.hasOwnProperty(t.text)){var n=Rv[t.text].className||"";if(t.mode==="text"){var r=de.makeOrd(t,e,"textord");return r.classes.push(n),r}else return de.makeSpan(["mspace",n],[de.mathsym(t.text,t.mode,e)],e)}else{if(Cv.hasOwnProperty(t.text))return de.makeSpan(["mspace",Cv[t.text]],[],e);throw new Ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Rv.hasOwnProperty(t.text))n=new Ie.MathNode("mtext",[new Ie.TextNode("")]);else{if(Cv.hasOwnProperty(t.text))return new Ie.MathNode("mspace");throw new Ne('Unknown type of space "'+t.text+'"')}return n}});var _S=()=>{var t=new Ie.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};jl({type:"tag",mathmlBuilder(t,e){var n=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[_S(),new Ie.MathNode("mtd",[Mo(t.body,e)]),_S(),new Ie.MathNode("mtd",[Mo(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var bS={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},wS={"\\textbf":"textbf","\\textmd":"textmd"},mX={"\\textit":"textit","\\textup":"textup"},xS=(t,e)=>{var n=t.font;if(n){if(bS[n])return e.withTextFontFamily(bS[n]);if(wS[n])return e.withTextFontWeight(wS[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(mX[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:An(i),font:r}},htmlBuilder(t,e){var n=xS(t,e),r=Fn(t.body,n,!0);return de.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=xS(t,e);return Mo(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Rt(t.body,e),r=de.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=de.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return de.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new Ie.MathNode("mo",[new Ie.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ie.MathNode("munder",[Yt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Rt(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return de.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ie.MathNode("mpadded",[Yt(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=SS(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var l=n[s];l==="~"&&(l="\\textasciitilde"),r.push(de.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(i.sizingClasses(e)),de.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ie.TextNode(SS(t)),r=new Ie.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var SS=t=>t.body.replace(/ /g,t.star?"":""),bo=Nk,lD=`[ \r
	]`,pX="\\\\[a-zA-Z@]+",gX="\\\\[^\uD800-\uDFFF]",vX="("+pX+")"+lD+"*",yX=`\\\\(
|[ \r	]+
?)[ \r	]*`,D6="[-]",_X=new RegExp(D6+"+$"),bX="("+lD+"+)|"+(yX+"|")+"([!-\\[\\]---]"+(D6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(D6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+vX)+("|"+gX+")");class ES{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(bX,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Wr("EOF",new kr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ne("Unexpected character: '"+e[n]+"'",new Wr(e[n],new kr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Wr(i,new kr(this,n,this.tokenRegex.lastIndex))}}class wX{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var xX=Zk;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var TS={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=TS[e.text],r==null||r>=n)throw new Ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=TS[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var U_=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ne("\\newcommand's first argument must be a macro name");var s=i[0].text,l=t.isDefined(s);if(l&&!e)throw new Ne("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!l&&!n)throw new Ne("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Ne("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&r||t.macros.set(s,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>U_(t,!1,!0,!1));G("\\renewcommand",t=>U_(t,!0,!1,!1));G("\\providecommand",t=>U_(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});G("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),bo[n],Kt.math[n],Kt.text[n]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var AS={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in AS?e=AS[n]:(n.slice(0,4)==="\\not"||n in Kt.math&&["bin","rel"].includes(Kt.math[n].group))&&(e="\\dotsb"),e});var H_={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in H_?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in H_&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in H_?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var uD=ke(da["Main-Regular"][84][1]-.7*da["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+uD+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+uD+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var cD=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=p=>v=>{t&&(v.macros.set("|",l),i.length&&v.macros.set("\\|",c));var b=p;if(!p&&i.length){var w=v.future();w.text==="|"&&(v.popToken(),b=!0)}return{tokens:b?i:r,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",cD(!1));G("\\bra@set",cD(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var hD={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class SX{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new wX(xX,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new ES(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Wr("EOF",r.loc)),this.pushTokens(i),new Wr("",kr.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,l=0,c=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++l;else if(s.text==="}"){if(--l,l===-1)throw new Ne("Extra }",s)}else if(s.text==="EOF")throw new Ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[c]:"}")+"'",s);if(e&&r)if((l===0||l===1&&e[c]==="{")&&s.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Ne("Use of the macro doesn't match its definition",s)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ne("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ne("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var c=s.length-1;c>=0;--c){var h=s[c];if(h.text==="#"){if(c===0)throw new Ne("Incomplete placeholder at end of macro body",h);if(h=s[--c],h.text==="#")s.splice(c+1,1);else if(/^[1-9]$/.test(h.text))s.splice(c,2,...l[+h.text-1]);else throw new Ne("Not a valid argument number",h)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Wr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(s+1))!==-1;)++s;for(var c=new ES(i,this.settings),h=[],f=c.lex();f.text!=="EOF";)h.push(f),f=c.lex();h.reverse();var m={tokens:h,numArgs:s};return m}return i}isDefined(e){return this.macros.has(e)||bo.hasOwnProperty(e)||Kt.math.hasOwnProperty(e)||Kt.text.hasOwnProperty(e)||hD.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:bo.hasOwnProperty(e)&&!bo[e].primitive}}var CS=/^[]/,Ld=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Iv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},RS={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class m1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new SX(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Wr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(m1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&bo[i.text]&&bo[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,l,c=e.slice(0,n),h=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],l],[]):f=this.callFunction(r,[s,l],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new Ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var l=s.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new Ne("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Ne("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Ne("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Ne("Double superscript",s);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(Ld[s.text]){var f=CS.test(s.text),m=[];for(m.push(new Wr(Ld[s.text])),this.consume();;){var p=this.fetch().text;if(!Ld[p]||CS.test(p)!==f)break;m.unshift(new Wr(Ld[p])),this.consume()}var v=this.subparse(m);f?i={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=bo[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new Ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Ne("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(i,s);return this.callFunction(i,l,c,r,e)}callFunction(e,n,r,i,s){var l={funcName:e,parser:this,token:i,breakOnTokenText:s},c=bo[e];if(c&&c.handler)return c.handler(l,n,r);throw new Ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&s[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)s.push(f);else if(f!=null)i.push(f);else throw new Ne("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Ne("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Ne("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",l;(l=this.fetch()).text!=="EOF"&&e.test(s+l.text);)i=l,s+=i.text,this.consume();if(s==="")throw new Ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ne("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!wk(s))throw new Ne("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),l}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:kr.range(r,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!hD.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ne("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:kr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:kr.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:kr.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}RS.hasOwnProperty(n[0])&&!Kt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=RS[n[0]]+n.slice(1));var s=_X.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Kt[this.mode][n]){this.settings.strict&&this.mode==="math"&&R6.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=Kt[this.mode][n].group,h=kr.range(e),f;if(hY.hasOwnProperty(c)){var m=c;f={type:"atom",mode:this.mode,family:m,loc:h,text:n}}else f={type:c,mode:this.mode,loc:h,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(bk(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:kr.range(e),text:n};else return null;if(this.consume(),s)for(var p=0;p<s[0].length;p++){var v=s[0][p];if(!Iv[v])throw new Ne("Unknown accent ' "+v+"'",e);var b=Iv[v][this.mode]||Iv[v].text;if(!b)throw new Ne("Accent "+v+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:kr.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}m1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var F_=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new m1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Wr("\\df@tag")])}]}return i},fD=function(e,n,r){n.textContent="";var i=G_(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),fD=function(){throw new Ne("KaTeX doesn't work in quirks mode.")});var EX=function(e,n){var r=G_(e,n).toMarkup();return r},TX=function(e,n){var r=new A_(n);return F_(e,r)},dD=function(e,n,r){if(r.throwOnError||!(e instanceof Ne))throw e;var i=de.makeSpan(["katex-error"],[new Si(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},G_=function(e,n){var r=new A_(n);try{var i=F_(e,r);return OY(i,e,r)}catch(s){return dD(s,e,r)}},AX=function(e,n){var r=new A_(n);try{var i=F_(e,r);return zY(i,e,r)}catch(s){return dD(s,e,r)}},CX="0.16.27",RX={Span:Mh,Anchor:I_,SymbolNode:Si,SvgNode:ds,PathNode:No,LineNode:C6},IX={version:CX,render:fD,renderToString:EX,ParseError:Ne,SETTINGS_SCHEMA:Kd,__parse:TX,__renderToDomTree:G_,__renderToHTMLTree:AX,__setFontMetrics:rY,__defineSymbol:x,__defineFunction:ze,__defineMacro:G,__domTree:RX};const Un=({latex:t})=>{const e=ee.useRef(null);return ee.useEffect(()=>{if(e.current)try{IX.render(t,e.current,{throwOnError:!1,displayMode:!1})}catch{e.current.innerText="Invalid LaTeX"}},[t]),I.jsx("span",{ref:e})},NX=({structureName:t="Algebraic Structure (Alpha)"})=>I.jsxs("div",{className:Xx.overlay,children:[I.jsx("h2",{children:I.jsx(Un,{latex:t})}),I.jsxs("div",{className:Xx.legend,children:[I.jsxs("p",{children:[" ",mv.verified.label,": Green"]}),I.jsxs("p",{children:[" ",mv.deprecated.label,": Flashing Yellow"]}),I.jsx("p",{children:" Duplicate Link: Dashed Blue Line"}),I.jsxs("p",{children:[" ",mv.unverified.label,": Red"]})]})]}),MX=({nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:s,nodeTypes:l,title:c="Mathverse Explorer"})=>I.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[I.jsxs(ZG,{nodes:t,edges:e,onNodesChange:n,onEdgesChange:r,onNodeClick:i,onPaneClick:s,nodeTypes:l,fitView:!0,panOnScroll:!0,selectionOnDrag:!1,panOnDrag:!0,children:[I.jsx(i$,{gap:20,color:"#333"}),I.jsx(h$,{}),I.jsx(E$,{nodeColor:h=>T_[h.data?.status]||"#eee"})]}),I.jsx(NX,{structureName:c})]}),kX=()=>{};var IS={};const mD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DX=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},pD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(v=64)),r.push(n[m],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new OX;const v=s<<2|c>>4;if(r.push(v),f!==64){const b=c<<4&240|f>>2;if(r.push(b),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zX=function(t){const e=mD(t);return pD.encodeByteArray(e,!0)},Sm=function(t){return zX(t).replace(/\./g,"")},gD=function(t){try{return pD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VX=()=>LX().__FIREBASE_DEFAULTS__,qX=()=>{if(typeof process>"u"||typeof IS>"u")return;const t=IS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gD(t[1]);return e&&JSON.parse(e)},p1=()=>{try{return kX()||VX()||qX()||PX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vD=t=>p1()?.emulatorHosts?.[t],BX=t=>{const e=vD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yD=()=>p1()?.config,_D=t=>p1()?.[`_${t}`];class jX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function wc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bD(t){return(await fetch(t,{credentials:"include"})).ok}function UX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sm(JSON.stringify(n)),Sm(JSON.stringify(l)),""].join(".")}const G0={};function HX(){const t={prod:[],emulator:[]};for(const e of Object.keys(G0))G0[e]?t.emulator.push(e):t.prod.push(e);return t}function FX(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let NS=!1;function wD(t,e){if(typeof window>"u"||typeof document>"u"||!wc(window.location.host)||G0[t]===e||G0[t]||NS)return;G0[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=HX().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{NS=!0,l()},v}function m(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=FX(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const A=v.element;c(A),m(E,S);const z=f();h(O,C),A.append(O,w,E,z),document.body.appendChild(A)}s?(w.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function $X(){const t=p1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XX(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QX(){const t=hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZX(){return!$X()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WX(){try{return typeof indexedDB=="object"}catch{return!1}}function JX(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const eK="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eK,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dh.prototype.create)}}class Dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?tK(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new xs(i,c,r)}}function tK(t,e){return t.replace(nK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nK=/\{\$([^}]+)}/g;function rK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(MS(s)&&MS(l)){if(!Ll(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MS(t){return t!==null&&typeof t=="object"}function Oh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iK(t,e){const n=new aK(t,e);return n.subscribe.bind(n)}class aK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nv),i.error===void 0&&(i.error=Nv),i.complete===void 0&&(i.complete=Nv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nv(){}function Ln(t){return t&&t._delegate?t._delegate:t}class Vl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xl="[DEFAULT]";class oK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jX;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uK(e))try{this.getOrInitializeService({instanceIdentifier:xl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xl){return this.instances.has(e)}getOptions(e=xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xl){return this.component?this.component.multipleInstances?e:xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lK(t){return t===xl?void 0:t}function uK(t){return t.instantiationMode==="EAGER"}class cK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const hK={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},fK=bt.INFO,dK={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},mK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $_{constructor(e){this.name=e,this._logLevel=fK,this._logHandler=mK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const pK=(t,e)=>e.some(n=>t instanceof n);let kS,DS;function gK(){return kS||(kS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vK(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xD=new WeakMap,O6=new WeakMap,SD=new WeakMap,Mv=new WeakMap,Y_=new WeakMap;function yK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(So(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xD.set(n,t)}).catch(()=>{}),Y_.set(e,t),e}function _K(t){if(O6.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});O6.set(t,e)}let z6={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return O6.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return So(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bK(t){z6=t(z6)}function wK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kv(this),e,...n);return SD.set(r,e.sort?e.sort():[e]),So(r)}:vK().includes(t)?function(...e){return t.apply(kv(this),e),So(xD.get(this))}:function(...e){return So(t.apply(kv(this),e))}}function xK(t){return typeof t=="function"?wK(t):(t instanceof IDBTransaction&&_K(t),pK(t,gK())?new Proxy(t,z6):t)}function So(t){if(t instanceof IDBRequest)return yK(t);if(Mv.has(t))return Mv.get(t);const e=xK(t);return e!==t&&(Mv.set(t,e),Y_.set(e,t)),e}const kv=t=>Y_.get(t);function SK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=So(l);return r&&l.addEventListener("upgradeneeded",h=>{r(So(l.result),h.oldVersion,h.newVersion,So(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const EK=["get","getKey","getAll","getAllKeys","count"],TK=["put","add","delete","clear"],Dv=new Map;function OS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dv.get(e))return Dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EK.includes(n)))return;const s=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return Dv.set(e,s),s}bK(t=>({...t,get:(e,n,r)=>OS(e,n)||t.get(e,n,r),has:(e,n)=>!!OS(e,n)||t.has(e,n)}));class AK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CK(t){return t.getComponent()?.type==="VERSION"}const L6="@firebase/app",zS="0.14.6";const gs=new $_("@firebase/app"),RK="@firebase/app-compat",IK="@firebase/analytics-compat",NK="@firebase/analytics",MK="@firebase/app-check-compat",kK="@firebase/app-check",DK="@firebase/auth",OK="@firebase/auth-compat",zK="@firebase/database",LK="@firebase/data-connect",VK="@firebase/database-compat",qK="@firebase/functions",PK="@firebase/functions-compat",BK="@firebase/installations",jK="@firebase/installations-compat",UK="@firebase/messaging",HK="@firebase/messaging-compat",FK="@firebase/performance",GK="@firebase/performance-compat",$K="@firebase/remote-config",YK="@firebase/remote-config-compat",XK="@firebase/storage",KK="@firebase/storage-compat",QK="@firebase/firestore",ZK="@firebase/ai",WK="@firebase/firestore-compat",JK="firebase",eQ="12.6.0";const V6="[DEFAULT]",tQ={[L6]:"fire-core",[RK]:"fire-core-compat",[NK]:"fire-analytics",[IK]:"fire-analytics-compat",[kK]:"fire-app-check",[MK]:"fire-app-check-compat",[DK]:"fire-auth",[OK]:"fire-auth-compat",[zK]:"fire-rtdb",[LK]:"fire-data-connect",[VK]:"fire-rtdb-compat",[qK]:"fire-fn",[PK]:"fire-fn-compat",[BK]:"fire-iid",[jK]:"fire-iid-compat",[UK]:"fire-fcm",[HK]:"fire-fcm-compat",[FK]:"fire-perf",[GK]:"fire-perf-compat",[$K]:"fire-rc",[YK]:"fire-rc-compat",[XK]:"fire-gcs",[KK]:"fire-gcs-compat",[QK]:"fire-fst",[WK]:"fire-fst-compat",[ZK]:"fire-vertex","fire-js":"fire-js",[JK]:"fire-js-all"};const Em=new Map,nQ=new Map,q6=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cc(t){const e=t.name;if(q6.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;q6.set(e,t);for(const n of Em.values())LS(n,t);for(const n of nQ.values())LS(n,t);return!0}function X_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t==null?!1:t.settings!==void 0}const rQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Dh("app","Firebase",rQ);class iQ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}const xc=eQ;function ED(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:V6,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=yD()),!n)throw Eo.create("no-options");const s=Em.get(i);if(s){if(Ll(n,s.options)&&Ll(r,s.config))return s;throw Eo.create("duplicate-app",{appName:i})}const l=new cK(i);for(const h of q6.values())l.addComponent(h);const c=new iQ(n,r,l);return Em.set(i,c),c}function TD(t=V6){const e=Em.get(t);if(!e&&t===V6&&yD())return ED();if(!e)throw Eo.create("no-app",{appName:t});return e}function To(t,e,n){let r=tQ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(l.join(" "));return}cc(new Vl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const aQ="firebase-heartbeat-database",sQ=1,hh="firebase-heartbeat-store";let Ov=null;function AD(){return Ov||(Ov=SK(aQ,sQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),Ov}async function oQ(t){try{const n=(await AD()).transaction(hh),r=await n.objectStore(hh).get(CD(t));return await n.done,r}catch(e){if(e instanceof xs)gs.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e?.message});gs.warn(n.message)}}}async function VS(t,e){try{const r=(await AD()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,CD(t)),await r.done}catch(n){if(n instanceof xs)gs.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n?.message});gs.warn(r.message)}}}function CD(t){return`${t.name}!${t.options.appId}`}const lQ=1024,uQ=30;class cQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>uQ){const i=dQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qS(),{heartbeatsToSend:n,unsentEntries:r}=hQ(this._heartbeatsCache.heartbeats),i=Sm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return gs.warn(e),""}}}function qS(){return new Date().toISOString().substring(0,10)}function hQ(t,e=lQ){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),PS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WX()?JX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oQ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function PS(t){return Sm(JSON.stringify({version:2,heartbeats:t})).length}function dQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function mQ(t){cc(new Vl("platform-logger",e=>new AK(e),"PRIVATE")),cc(new Vl("heartbeat",e=>new cQ(e),"PRIVATE")),To(L6,zS,t),To(L6,zS,"esm2020"),To("fire-js","")}mQ("");var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ao,RD;(function(){var t;function e(R,k){function D(){}D.prototype=k.prototype,R.F=k.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(H,V,j){for(var B=Array(arguments.length-2),K=2;K<arguments.length;K++)B[K-2]=arguments[K];return k.prototype[V].apply(H,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,k,D){D||(D=0);const H=Array(16);if(typeof k=="string")for(var V=0;V<16;++V)H[V]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(V=0;V<16;++V)H[V]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=R.g[0],D=R.g[1],V=R.g[2];let j=R.g[3],B;B=k+(j^D&(V^j))+H[0]+3614090360&4294967295,k=D+(B<<7&4294967295|B>>>25),B=j+(V^k&(D^V))+H[1]+3905402710&4294967295,j=k+(B<<12&4294967295|B>>>20),B=V+(D^j&(k^D))+H[2]+606105819&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(k^V&(j^k))+H[3]+3250441966&4294967295,D=V+(B<<22&4294967295|B>>>10),B=k+(j^D&(V^j))+H[4]+4118548399&4294967295,k=D+(B<<7&4294967295|B>>>25),B=j+(V^k&(D^V))+H[5]+1200080426&4294967295,j=k+(B<<12&4294967295|B>>>20),B=V+(D^j&(k^D))+H[6]+2821735955&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(k^V&(j^k))+H[7]+4249261313&4294967295,D=V+(B<<22&4294967295|B>>>10),B=k+(j^D&(V^j))+H[8]+1770035416&4294967295,k=D+(B<<7&4294967295|B>>>25),B=j+(V^k&(D^V))+H[9]+2336552879&4294967295,j=k+(B<<12&4294967295|B>>>20),B=V+(D^j&(k^D))+H[10]+4294925233&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(k^V&(j^k))+H[11]+2304563134&4294967295,D=V+(B<<22&4294967295|B>>>10),B=k+(j^D&(V^j))+H[12]+1804603682&4294967295,k=D+(B<<7&4294967295|B>>>25),B=j+(V^k&(D^V))+H[13]+4254626195&4294967295,j=k+(B<<12&4294967295|B>>>20),B=V+(D^j&(k^D))+H[14]+2792965006&4294967295,V=j+(B<<17&4294967295|B>>>15),B=D+(k^V&(j^k))+H[15]+1236535329&4294967295,D=V+(B<<22&4294967295|B>>>10),B=k+(V^j&(D^V))+H[1]+4129170786&4294967295,k=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(k^D))+H[6]+3225465664&4294967295,j=k+(B<<9&4294967295|B>>>23),B=V+(k^D&(j^k))+H[11]+643717713&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^k&(V^j))+H[0]+3921069994&4294967295,D=V+(B<<20&4294967295|B>>>12),B=k+(V^j&(D^V))+H[5]+3593408605&4294967295,k=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(k^D))+H[10]+38016083&4294967295,j=k+(B<<9&4294967295|B>>>23),B=V+(k^D&(j^k))+H[15]+3634488961&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^k&(V^j))+H[4]+3889429448&4294967295,D=V+(B<<20&4294967295|B>>>12),B=k+(V^j&(D^V))+H[9]+568446438&4294967295,k=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(k^D))+H[14]+3275163606&4294967295,j=k+(B<<9&4294967295|B>>>23),B=V+(k^D&(j^k))+H[3]+4107603335&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^k&(V^j))+H[8]+1163531501&4294967295,D=V+(B<<20&4294967295|B>>>12),B=k+(V^j&(D^V))+H[13]+2850285829&4294967295,k=D+(B<<5&4294967295|B>>>27),B=j+(D^V&(k^D))+H[2]+4243563512&4294967295,j=k+(B<<9&4294967295|B>>>23),B=V+(k^D&(j^k))+H[7]+1735328473&4294967295,V=j+(B<<14&4294967295|B>>>18),B=D+(j^k&(V^j))+H[12]+2368359562&4294967295,D=V+(B<<20&4294967295|B>>>12),B=k+(D^V^j)+H[5]+4294588738&4294967295,k=D+(B<<4&4294967295|B>>>28),B=j+(k^D^V)+H[8]+2272392833&4294967295,j=k+(B<<11&4294967295|B>>>21),B=V+(j^k^D)+H[11]+1839030562&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^k)+H[14]+4259657740&4294967295,D=V+(B<<23&4294967295|B>>>9),B=k+(D^V^j)+H[1]+2763975236&4294967295,k=D+(B<<4&4294967295|B>>>28),B=j+(k^D^V)+H[4]+1272893353&4294967295,j=k+(B<<11&4294967295|B>>>21),B=V+(j^k^D)+H[7]+4139469664&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^k)+H[10]+3200236656&4294967295,D=V+(B<<23&4294967295|B>>>9),B=k+(D^V^j)+H[13]+681279174&4294967295,k=D+(B<<4&4294967295|B>>>28),B=j+(k^D^V)+H[0]+3936430074&4294967295,j=k+(B<<11&4294967295|B>>>21),B=V+(j^k^D)+H[3]+3572445317&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^k)+H[6]+76029189&4294967295,D=V+(B<<23&4294967295|B>>>9),B=k+(D^V^j)+H[9]+3654602809&4294967295,k=D+(B<<4&4294967295|B>>>28),B=j+(k^D^V)+H[12]+3873151461&4294967295,j=k+(B<<11&4294967295|B>>>21),B=V+(j^k^D)+H[15]+530742520&4294967295,V=j+(B<<16&4294967295|B>>>16),B=D+(V^j^k)+H[2]+3299628645&4294967295,D=V+(B<<23&4294967295|B>>>9),B=k+(V^(D|~j))+H[0]+4096336452&4294967295,k=D+(B<<6&4294967295|B>>>26),B=j+(D^(k|~V))+H[7]+1126891415&4294967295,j=k+(B<<10&4294967295|B>>>22),B=V+(k^(j|~D))+H[14]+2878612391&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~k))+H[5]+4237533241&4294967295,D=V+(B<<21&4294967295|B>>>11),B=k+(V^(D|~j))+H[12]+1700485571&4294967295,k=D+(B<<6&4294967295|B>>>26),B=j+(D^(k|~V))+H[3]+2399980690&4294967295,j=k+(B<<10&4294967295|B>>>22),B=V+(k^(j|~D))+H[10]+4293915773&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~k))+H[1]+2240044497&4294967295,D=V+(B<<21&4294967295|B>>>11),B=k+(V^(D|~j))+H[8]+1873313359&4294967295,k=D+(B<<6&4294967295|B>>>26),B=j+(D^(k|~V))+H[15]+4264355552&4294967295,j=k+(B<<10&4294967295|B>>>22),B=V+(k^(j|~D))+H[6]+2734768916&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~k))+H[13]+1309151649&4294967295,D=V+(B<<21&4294967295|B>>>11),B=k+(V^(D|~j))+H[4]+4149444226&4294967295,k=D+(B<<6&4294967295|B>>>26),B=j+(D^(k|~V))+H[11]+3174756917&4294967295,j=k+(B<<10&4294967295|B>>>22),B=V+(k^(j|~D))+H[2]+718787259&4294967295,V=j+(B<<15&4294967295|B>>>17),B=D+(j^(V|~k))+H[9]+3951481745&4294967295,R.g[0]=R.g[0]+k&4294967295,R.g[1]=R.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,k){k===void 0&&(k=R.length);const D=k-this.blockSize,H=this.C;let V=this.h,j=0;for(;j<k;){if(V==0)for(;j<=D;)i(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<k;)if(H[V++]=R.charCodeAt(j++),V==this.blockSize){i(this,H),V=0;break}}else for(;j<k;)if(H[V++]=R[j++],V==this.blockSize){i(this,H),V=0;break}}this.h=V,this.o+=k},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var k=1;k<R.length-8;++k)R[k]=0;k=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=k&255,k/=256;for(this.v(R),R=Array(16),k=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)R[k++]=this.g[D]>>>H&255;return R};function s(R,k){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=k(R)}function l(R,k){this.h=k;const D=[];let H=!0;for(let V=R.length-1;V>=0;V--){const j=R[V]|0;H&&j==k||(D[V]=j,H=!1)}this.g=D}var c={};function h(R){return-128<=R&&R<128?s(R,function(k){return new l([k|0],k<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return E(f(-R));const k=[];let D=1;for(let H=0;R>=D;H++)k[H]=R/D|0,D*=4294967296;return new l(k,0)}function m(R,k){if(R.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(R.charAt(0)=="-")return E(m(R.substring(1),k));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(k,8));let H=p;for(let j=0;j<R.length;j+=8){var V=Math.min(8,R.length-j);const B=parseInt(R.substring(j,j+V),k);V<8?(V=f(Math.pow(k,V)),H=H.j(V).add(f(B))):(H=H.j(D),H=H.add(f(B)))}return H}var p=h(0),v=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let R=0,k=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);R+=(H>=0?H:4294967296+H)*k,k*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(S(this))return"-"+E(this).toString(R);const k=f(Math.pow(R,6));var D=this;let H="";for(;;){const V=z(D,k).g;D=C(D,V.j(k));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=V,w(D))return j+H;for(;j.length<6;)j="0"+j;H=j+H}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(let k=0;k<R.g.length;k++)if(R.g[k]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=C(this,R),S(R)?-1:w(R)?0:1};function E(R){const k=R.g.length,D=[];for(let H=0;H<k;H++)D[H]=~R.g[H];return new l(D,~R.h).add(v)}t.abs=function(){return S(this)?E(this):this},t.add=function(R){const k=Math.max(this.g.length,R.g.length),D=[];let H=0;for(let V=0;V<=k;V++){let j=H+(this.i(V)&65535)+(R.i(V)&65535),B=(j>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);H=B>>>16,j&=65535,B&=65535,D[V]=B<<16|j}return new l(D,D[D.length-1]&-2147483648?-1:0)};function C(R,k){return R.add(E(k))}t.j=function(R){if(w(this)||w(R))return p;if(S(this))return S(R)?E(this).j(E(R)):E(E(this).j(R));if(S(R))return E(this.j(E(R)));if(this.l(b)<0&&R.l(b)<0)return f(this.m()*R.m());const k=this.g.length+R.g.length,D=[];for(var H=0;H<2*k;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let V=0;V<R.g.length;V++){const j=this.i(H)>>>16,B=this.i(H)&65535,K=R.i(V)>>>16,ie=R.i(V)&65535;D[2*H+2*V]+=B*ie,O(D,2*H+2*V),D[2*H+2*V+1]+=j*ie,O(D,2*H+2*V+1),D[2*H+2*V+1]+=B*K,O(D,2*H+2*V+1),D[2*H+2*V+2]+=j*K,O(D,2*H+2*V+2)}for(R=0;R<k;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=k;R<2*k;R++)D[R]=0;return new l(D,0)};function O(R,k){for(;(R[k]&65535)!=R[k];)R[k+1]+=R[k]>>>16,R[k]&=65535,k++}function A(R,k){this.g=R,this.h=k}function z(R,k){if(w(k))throw Error("division by zero");if(w(R))return new A(p,p);if(S(R))return k=z(E(R),k),new A(E(k.g),E(k.h));if(S(k))return k=z(R,E(k)),new A(E(k.g),k.h);if(R.g.length>30){if(S(R)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var D=v,H=k;H.l(R)<=0;)D=U(D),H=U(H);var V=q(D,1),j=q(H,1);for(H=q(H,2),D=q(D,2);!w(H);){var B=j.add(H);B.l(R)<=0&&(V=V.add(D),j=B),H=q(H,1),D=q(D,1)}return k=C(R,V.j(k)),new A(V,k)}for(V=p;R.l(k)>=0;){for(D=Math.max(1,Math.floor(R.m()/k.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),j=f(D),B=j.j(k);S(B)||B.l(R)>0;)D-=H,j=f(D),B=j.j(k);w(j)&&(j=v),V=V.add(j),R=C(R,B)}return new A(V,R)}t.B=function(R){return z(this,R).h},t.and=function(R){const k=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<k;H++)D[H]=this.i(H)&R.i(H);return new l(D,this.h&R.h)},t.or=function(R){const k=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<k;H++)D[H]=this.i(H)|R.i(H);return new l(D,this.h|R.h)},t.xor=function(R){const k=Math.max(this.g.length,R.g.length),D=[];for(let H=0;H<k;H++)D[H]=this.i(H)^R.i(H);return new l(D,this.h^R.h)};function U(R){const k=R.g.length+1,D=[];for(let H=0;H<k;H++)D[H]=R.i(H)<<1|R.i(H-1)>>>31;return new l(D,R.h)}function q(R,k){const D=k>>5;k%=32;const H=R.g.length-D,V=[];for(let j=0;j<H;j++)V[j]=k>0?R.i(j+D)>>>k|R.i(j+D+1)<<32-k:R.i(j+D);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Ao=l}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ID,z0,ND,Zd,P6,MD,kD,DD;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var T=0;T<g.length;++T){var L=g[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var L=r;g=g.split(".");for(var Y=0;Y<g.length-1;Y++){var he=g[Y];if(!(he in L))break e;L=L[he]}g=g[g.length-1],Y=L[g],T=T(Y),T!=Y&&T!=null&&e(L,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var L=[],Y;for(Y in T)Object.prototype.hasOwnProperty.call(T,Y)&&L.push([Y,T[Y]]);return L}});var s=s||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function h(g,T,L){return g.call.apply(g.bind,arguments)}function f(g,T,L){return f=h,f.apply(null,arguments)}function m(g,T){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),g.apply(this,Y)}}function p(g,T){function L(){}L.prototype=T.prototype,g.Z=T.prototype,g.prototype=new L,g.prototype.constructor=g,g.Ob=function(Y,he,ye){for(var Me=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)Me[ut-2]=arguments[ut];return T.prototype[he].apply(Y,Me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const T=g.length;if(T>0){const L=Array(T);for(let Y=0;Y<T;Y++)L[Y]=g[Y];return L}return[]}function w(g,T){for(let Y=1;Y<arguments.length;Y++){const he=arguments[Y];var L=typeof he;if(L=L!="object"?L:he?Array.isArray(he)?"array":L:"null",L=="array"||L=="object"&&typeof he.length=="number"){L=g.length||0;const ye=he.length||0;g.length=L+ye;for(let Me=0;Me<ye;Me++)g[L+Me]=he[Me]}else g.push(he)}}class S{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(g){l.setTimeout(()=>{throw g},0)}function C(){var g=R;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class O{constructor(){this.h=this.g=null}add(T,L){const Y=A.get();Y.set(T,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var A=new S(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let U,q=!1,R=new O,k=()=>{const g=Promise.resolve(void 0);U=()=>{g.then(D)}};function D(){for(var g;g=C();){try{g.h.call(g.g)}catch(L){E(L)}var T=A;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}q=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};l.addEventListener("test",L,T),l.removeEventListener("test",L,T)}catch{}return g})();function B(g){return/^[\s\xa0]*$/.test(g)}function K(g,T){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(K,V),K.prototype.init=function(g,T){const L=this.type=g.type,Y=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(L=="mouseover"?T=g.fromElement:L=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),$=0;function Z(g,T,L,Y,he){this.listener=g,this.proxy=null,this.src=T,this.type=L,this.capture=!!Y,this.ha=he,this.key=++$,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function le(g,T,L){for(const Y in g)T.call(L,g[Y],Y,g)}function _e(g,T){for(const L in g)T.call(void 0,g[L],L,g)}function X(g){const T={};for(const L in g)T[L]=g[L];return T}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(g,T){let L,Y;for(let he=1;he<arguments.length;he++){Y=arguments[he];for(L in Y)g[L]=Y[L];for(let ye=0;ye<te.length;ye++)L=te[ye],Object.prototype.hasOwnProperty.call(Y,L)&&(g[L]=Y[L])}}function Q(g){this.src=g,this.g={},this.h=0}Q.prototype.add=function(g,T,L,Y,he){const ye=g.toString();g=this.g[ye],g||(g=this.g[ye]=[],this.h++);const Me=ce(g,T,Y,he);return Me>-1?(T=g[Me],L||(T.fa=!1)):(T=new Z(T,this.src,ye,!!Y,he),T.fa=L,g.push(T)),T};function ae(g,T){const L=T.type;if(L in g.g){var Y=g.g[L],he=Array.prototype.indexOf.call(Y,T,void 0),ye;(ye=he>=0)&&Array.prototype.splice.call(Y,he,1),ye&&(re(T),g.g[L].length==0&&(delete g.g[L],g.h--))}}function ce(g,T,L,Y){for(let he=0;he<g.length;++he){const ye=g[he];if(!ye.da&&ye.listener==T&&ye.capture==!!L&&ye.ha==Y)return he}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),be={};function Ce(g,T,L,Y,he){if(Array.isArray(T)){for(let ye=0;ye<T.length;ye++)Ce(g,T[ye],L,Y,he);return null}return L=Xt(L),g&&g[ie]?g.J(T,L,c(Y)?!!Y.capture:!1,he):Le(g,T,L,!1,Y,he)}function Le(g,T,L,Y,he,ye){if(!T)throw Error("Invalid event type");const Me=c(he)?!!he.capture:!!he;let ut=st(g);if(ut||(g[pe]=ut=new Q(g)),L=ut.add(T,L,Y,Me,ye),L.proxy)return L;if(Y=He(),L.proxy=Y,Y.src=g,Y.listener=L,g.addEventListener)j||(he=Me),he===void 0&&(he=!1),g.addEventListener(T.toString(),Y,he);else if(g.attachEvent)g.attachEvent(Ge(T.toString()),Y);else if(g.addListener&&g.removeListener)g.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function He(){function g(L){return T.call(g.src,g.listener,L)}const T=Be;return g}function Ue(g,T,L,Y,he){if(Array.isArray(T))for(var ye=0;ye<T.length;ye++)Ue(g,T[ye],L,Y,he);else Y=c(Y)?!!Y.capture:!!Y,L=Xt(L),g&&g[ie]?(g=g.i,ye=String(T).toString(),ye in g.g&&(T=g.g[ye],L=ce(T,L,Y,he),L>-1&&(re(T[L]),Array.prototype.splice.call(T,L,1),T.length==0&&(delete g.g[ye],g.h--)))):g&&(g=st(g))&&(T=g.g[T.toString()],g=-1,T&&(g=ce(T,L,Y,he)),(L=g>-1?T[g]:null)&&Pe(L))}function Pe(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[ie])ae(T.i,g);else{var L=g.type,Y=g.proxy;T.removeEventListener?T.removeEventListener(L,Y,g.capture):T.detachEvent?T.detachEvent(Ge(L),Y):T.addListener&&T.removeListener&&T.removeListener(Y),(L=st(T))?(ae(L,g),L.h==0&&(L.src=null,T[pe]=null)):re(g)}}}function Ge(g){return g in be?be[g]:be[g]="on"+g}function Be(g,T){if(g.da)g=!0;else{T=new K(T,this);const L=g.listener,Y=g.ha||g.src;g.fa&&Pe(g),g=L.call(Y,T)}return g}function st(g){return g=g[pe],g instanceof Q?g:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xt(g){return typeof g=="function"?g:(g[$e]||(g[$e]=function(T){return g.handleEvent(T)}),g[$e])}function lt(){H.call(this),this.i=new Q(this),this.M=this,this.G=null}p(lt,H),lt.prototype[ie]=!0,lt.prototype.removeEventListener=function(g,T,L,Y){Ue(this,g,T,L,Y)};function zt(g,T){var L,Y=g.G;if(Y)for(L=[];Y;Y=Y.G)L.push(Y);if(g=g.M,Y=T.type||T,typeof T=="string")T=new V(T,g);else if(T instanceof V)T.target=T.target||g;else{var he=T;T=new V(Y,g),ve(T,he)}he=!0;let ye,Me;if(L)for(Me=L.length-1;Me>=0;Me--)ye=T.g=L[Me],he=Bn(ye,Y,!0,T)&&he;if(ye=T.g=g,he=Bn(ye,Y,!0,T)&&he,he=Bn(ye,Y,!1,T)&&he,L)for(Me=0;Me<L.length;Me++)ye=T.g=L[Me],he=Bn(ye,Y,!1,T)&&he}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const L=g.g[T];for(let Y=0;Y<L.length;Y++)re(L[Y]);delete g.g[T],g.h--}}this.G=null},lt.prototype.J=function(g,T,L,Y){return this.i.add(String(g),T,!1,L,Y)},lt.prototype.K=function(g,T,L,Y){return this.i.add(String(g),T,!0,L,Y)};function Bn(g,T,L,Y){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let he=!0;for(let ye=0;ye<T.length;++ye){const Me=T[ye];if(Me&&!Me.da&&Me.capture==L){const ut=Me.listener,wn=Me.ha||Me.src;Me.fa&&ae(g.i,Me),he=ut.call(wn,Y)!==!1&&he}}return he&&!Y.defaultPrevented}function Gn(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Qt(g){g.g=Gn(()=>{g.g=null,g.i&&(g.i=!1,Qt(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class en extends H{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qn(g){H.call(this),this.h=g,this.g={}}p(Qn,H);var br=[];function wr(g){le(g.g,function(T,L){this.g.hasOwnProperty(L)&&Pe(T)},g),g.g={}}Qn.prototype.N=function(){Qn.Z.N.call(this),wr(this)},Qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=l.JSON.stringify,As=l.JSON.parse,Ci=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Cs(){}function Ia(){}var dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){V.call(this,"d")}p(Gt,V);function xr(){V.call(this,"c")}p(xr,V);var ln={},Xl=null;function Rs(){return Xl=Xl||new lt}ln.Ia="serverreachability";function Kl(g){V.call(this,ln.Ia,g)}p(Kl,V);function ni(g){const T=Rs();zt(T,new Kl(T))}ln.STAT_EVENT="statevent";function Na(g,T){V.call(this,ln.STAT_EVENT,g),this.stat=T}p(Na,V);function mn(g){const T=Rs();zt(T,new Na(T,g))}ln.Ja="timingevent";function ri(g,T){V.call(this,ln.Ja,g),this.size=T}p(ri,V);function ii(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Lr(){this.g=!0}Lr.prototype.ua=function(){this.g=!1};function Lc(g,T,L,Y,he,ye){g.info(function(){if(g.g)if(ye){var Me="",ut=ye.split("&");for(let Dt=0;Dt<ut.length;Dt++){var wn=ut[Dt].split("=");if(wn.length>1){const tn=wn[0];wn=wn[1];const di=tn.split("_");Me=di.length>=2&&di[1]=="type"?Me+(tn+"="+wn+"&"):Me+(tn+"=redacted&")}}}else Me=null;else Me=ye;return"XMLHTTP REQ ("+Y+") [attempt "+he+"]: "+T+`
`+L+`
`+Me})}function Ql(g,T,L,Y,he,ye,Me){g.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+he+"]: "+T+`
`+L+`
`+ye+" "+Me})}function ai(g,T,L,Y){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Vc(g,L)+(Y?" "+Y:"")})}function Ma(g,T){g.info(function(){return"TIMEOUT: "+T})}Lr.prototype.info=function(){};function Vc(g,T){if(!g.g)return T;if(!T)return null;try{const ye=JSON.parse(T);if(ye){for(g=0;g<ye.length;g++)if(Array.isArray(ye[g])){var L=ye[g];if(!(L.length<2)){var Y=L[1];if(Array.isArray(Y)&&!(Y.length<1)){var he=Y[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Me=1;Me<Y.length;Me++)Y[Me]=""}}}}return $n(ye)}catch{return T}}var ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Da(){}p(Da,Cs),Da.prototype.g=function(){return new XMLHttpRequest},Fo=new Da;function Ri(g){return encodeURIComponent(String(g))}function Zl(g){var T=1;g=g.split(":");const L=[];for(;T>0&&g.length;)L.push(g.shift()),T--;return g.length&&L.push(g.join(":")),L}function Vr(g,T,L,Y){this.j=g,this.i=T,this.l=L,this.S=Y||1,this.V=new Qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qr}function qr(){this.i=null,this.g="",this.h=!1}var pn={},Cn={};function Pr(g,T,L){g.M=1,g.A=za(vn(T)),g.u=L,g.R=!0,Oa(g,null)}function Oa(g,T){g.F=Date.now(),si(g),g.B=vn(g.A);var L=g.B,Y=g.S;Array.isArray(Y)||(Y=[String(Y)]),ru(L.i,"t",Y),g.C=0,L=g.j.L,g.h=new qr,g.g=cf(g.j,L?T:null,!g.u),g.P>0&&(g.O=new en(f(g.Y,g,g.g),g.P)),T=g.V,L=g.g,Y=g.ba;var he="readystatechange";Array.isArray(he)||(he&&(br[0]=he.toString()),he=br);for(let ye=0;ye<he.length;ye++){const Me=Ce(L,he[ye],Y||T.handleEvent,!1,T.h||T);if(!Me)break;T.g[Me.key]=Me}T=g.J?X(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),ni(),Lc(g.i,g.v,g.B,g.l,g.S,g.u)}Vr.prototype.ba=function(g){g=g.target;const T=this.O;T&&ki(g)==3?T.j():this.Y(g)},Vr.prototype.Y=function(g){try{if(g==this.g)e:{const ut=ki(this.g),wn=this.g.ya(),Dt=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||Zn(this.g)))){this.K||ut!=4||wn==7||(wn==8||Dt<=0?ni(3):ni(2)),oi(this);var T=this.g.ca();this.X=T;var L=Wl(this);if(this.o=T==200,Ql(this.i,this.v,this.B,this.l,this.S,ut,T),this.o){if(this.U&&!this.L){t:{if(this.g){var Y,he=this.g;if((Y=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Y)){var ye=Y;break t}}ye=null}if(g=ye)ai(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,g);else{this.o=!1,this.m=3,mn(12),ar(this),Sr(this);break e}}if(this.R){g=!0;let tn;for(;!this.K&&this.C<L.length;)if(tn=eu(this,L),tn==Cn){ut==4&&(this.m=4,mn(14),g=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==pn){this.m=4,mn(15),ai(this.i,this.l,L,"[Invalid Chunk]"),g=!1;break}else ai(this.i,this.l,tn,null),li(this,tn);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||L.length!=0||this.h.h||(this.m=1,mn(16),g=!1),this.o=this.o&&g,!g)ai(this.i,this.l,L,"[Invalid Chunked Response]"),ar(this),Sr(this);else if(L.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Gc(Me),Me.P=!0,mn(11))}}else ai(this.i,this.l,L,null),li(this,L);ut==4&&ar(this),this.o&&!this.K&&(ut==4?sf(this.j,this):(this.o=!1,si(this)))}else qa(this.g),T==400&&L.indexOf("Unknown SID")>0?(this.m=3,mn(12)):(this.m=0,mn(13)),ar(this),Sr(this)}}}catch{}};function Wl(g){if(!Jl(g))return g.g.la();const T=Zn(g.g);if(T==="")return"";let L="";const Y=T.length,he=ki(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ar(g),Sr(g),"";g.h.i=new l.TextDecoder}for(let ye=0;ye<Y;ye++)g.h.h=!0,L+=g.h.i.decode(T[ye],{stream:!(he&&ye==Y-1)});return T.length=0,g.h.g+=L,g.C=0,g.h.g}function Jl(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function eu(g,T){var L=g.C,Y=T.indexOf(`
`,L);return Y==-1?Cn:(L=Number(T.substring(L,Y)),isNaN(L)?pn:(Y+=1,Y+L>T.length?Cn:(T=T.slice(Y,Y+L),g.C=Y+L,T)))}Vr.prototype.cancel=function(){this.K=!0,ar(this)};function si(g){g.T=Date.now()+g.H,Is(g,g.H)}function Is(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ii(f(g.aa,g),T)}function oi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Vr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ma(this.i,this.B),this.M!=2&&(ni(),mn(17)),ar(this),this.m=2,Sr(this)):Is(this,this.T-g)};function Sr(g){g.j.I==0||g.K||sf(g.j,g)}function ar(g){oi(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,wr(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function li(g,T){try{var L=g.j;if(L.I!=0&&(L.g==g||ci(L.h,g))){if(!g.L&&ci(L.h,g)&&L.I==3){try{var Y=L.Ba.g.parse(T)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var he=Y;if(he[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<g.F)lu(L),Vs(L);else break e;nl(L),mn(18)}}else L.xa=he[1],0<L.xa-L.K&&he[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=ii(f(L.Va,L),6e3));ui(L.h)<=1&&L.ta&&(L.ta=void 0)}else ra(L,11)}else if((g.L||L.g==g)&&lu(L),!B(T))for(he=L.Ba.g.parse(T),T=0;T<he.length;T++){let Dt=he[T];const tn=Dt[0];if(!(tn<=L.K))if(L.K=tn,Dt=Dt[1],L.I==2)if(Dt[0]=="c"){L.M=Dt[1],L.ba=Dt[2];const di=Dt[3];di!=null&&(L.ka=di,L.j.info("VER="+L.ka));const ia=Dt[4];ia!=null&&(L.za=ia,L.j.info("SVER="+L.za));const Di=Dt[5];Di!=null&&typeof Di=="number"&&Di>0&&(Y=1.5*Di,L.O=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const Oi=g.g;if(Oi){const rl=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var ye=Y.h;ye.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Yo(ye,ye.h),ye.h=null))}if(Y.G){const uu=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(Y.wa=uu,It(Y.J,Y.G,uu))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-g.F,L.j.info("Handshake RTT: "+L.T+"ms")),Y=L;var Me=g;if(Y.na=uf(Y,Y.L?Y.ba:null,Y.W),Me.L){Ns(Y.h,Me);var ut=Me,wn=Y.O;wn&&(ut.H=wn),ut.D&&(oi(ut),si(ut)),Y.g=Me}else rf(Y);L.i.length>0&&na(L)}else Dt[0]!="stop"&&Dt[0]!="close"||ra(L,7);else L.I==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?ra(L,7):Hc(L):Dt[0]!="noop"&&L.l&&L.l.qa(Dt),L.A=0)}}ni(4)}catch{}}var gn=class{constructor(g,T){this.g=g,this.map=T}};function Go(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ui(g){return g.h?1:g.g?g.g.size:0}function ci(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Yo(g,T){g.g?g.g.add(T):g.h=T}function Ns(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Xo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const L of g.g.values())T=T.concat(L.G);return T}return b(g.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(g,T){if(g){g=g.split("&");for(let L=0;L<g.length;L++){const Y=g[L].indexOf("=");let he,ye=null;Y>=0?(he=g[L].substring(0,Y),ye=g[L].substring(Y+1)):he=g[L],T(he,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function fr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof fr?(this.l=g.l,Rn(this,g.j),this.o=g.o,this.g=g.g,Zi(this,g.u),this.h=g.h,Ko(this,tf(g.i)),this.m=g.m):g&&(T=String(g).match(tu))?(this.l=!1,Rn(this,T[1]||"",!0),this.o=Br(T[2]||""),this.g=Br(T[3]||"",!0),Zi(this,T[4]),this.h=Br(T[5]||"",!0),Ko(this,T[6]||"",!0),this.m=Br(T[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}fr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(La(T,Wi,!0),":");var L=this.g;return(L||T=="file")&&(g.push("//"),(T=this.o)&&g.push(La(T,Wi,!0),"@"),g.push(Ri(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&g.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(La(L,L.charAt(0)=="/"?Qo:nu,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",La(L,Jh)),g.join("")},fr.prototype.resolve=function(g){const T=vn(this);let L=!!g.j;L?Rn(T,g.j):L=!!g.o,L?T.o=g.o:L=!!g.g,L?T.g=g.g:L=g.u!=null;var Y=g.h;if(L)Zi(T,g.u);else if(L=!!g.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var he=T.h.lastIndexOf("/");he!=-1&&(Y=T.h.slice(0,he+1)+Y)}if(he=Y,he==".."||he==".")Y="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){Y=he.lastIndexOf("/",0)==0,he=he.split("/");const ye=[];for(let Me=0;Me<he.length;){const ut=he[Me++];ut=="."?Y&&Me==he.length&&ye.push(""):ut==".."?((ye.length>1||ye.length==1&&ye[0]!="")&&ye.pop(),Y&&Me==he.length&&ye.push("")):(ye.push(ut),Y=!0)}Y=ye.join("/")}else Y=he}return L?T.h=Y:L=g.i.toString()!=="",L?Ko(T,tf(g.i)):L=!!g.m,L&&(T.m=g.m),T};function vn(g){return new fr(g)}function Rn(g,T,L){g.j=L?Br(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Zi(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Ko(g,T,L){T instanceof ks?(g.i=T,iu(g.i,g.l)):(L||(T=La(T,Ii)),g.i=new ks(T,g.l))}function It(g,T,L){g.i.set(T,L)}function za(g){return It(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Br(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function La(g,T,L){return typeof g=="string"?(g=encodeURI(g).replace(T,sr),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function sr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Wi=/[#\/\?@]/g,nu=/[#\?:]/g,Qo=/[#\?]/g,Ii=/[#\?@]/g,Jh=/#/g;function ks(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Er(g){g.g||(g.g=new Map,g.h=0,g.i&&Ms(g.i,function(T,L){g.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}t=ks.prototype,t.add=function(g,T){Er(this),this.i=null,g=Ds(this,g);let L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(T),this.h+=1,this};function ef(g,T){Er(g),T=Ds(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function qc(g,T){return Er(g),T=Ds(g,T),g.g.has(T)}t.forEach=function(g,T){Er(this),this.g.forEach(function(L,Y){L.forEach(function(he){g.call(T,he,Y,this)},this)},this)};function Pc(g,T){Er(g);let L=[];if(typeof T=="string")qc(g,T)&&(L=L.concat(g.g.get(Ds(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)L=L.concat(g[T]);return L}t.set=function(g,T){return Er(this),this.i=null,g=Ds(this,g),qc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=Pc(this,g),g.length>0?String(g[0]):T):T};function ru(g,T,L){ef(g,T),L.length>0&&(g.i=null,g.g.set(Ds(g,T),b(L)),g.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let Y=0;Y<T.length;Y++){var L=T[Y];const he=Ri(L);L=Pc(this,L);for(let ye=0;ye<L.length;ye++){let Me=he;L[ye]!==""&&(Me+="="+Ri(L[ye])),g.push(Me)}}return this.i=g.join("&")};function tf(g){const T=new ks;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Ds(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function iu(g,T){T&&!g.j&&(Er(g),g.i=null,g.g.forEach(function(L,Y){const he=Y.toLowerCase();Y!=he&&(ef(this,Y),ru(this,he,L))},g)),g.j=T}function Ni(g,T){const L=new Lr;if(l.Image){const Y=new Image;Y.onload=m(hi,L,"TestLoadImage: loaded",!0,T,Y),Y.onerror=m(hi,L,"TestLoadImage: error",!1,T,Y),Y.onabort=m(hi,L,"TestLoadImage: abort",!1,T,Y),Y.ontimeout=m(hi,L,"TestLoadImage: timeout",!1,T,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=g}else T(!1)}function Bc(g,T){const L=new Lr,Y=new AbortController,he=setTimeout(()=>{Y.abort(),hi(L,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:Y.signal}).then(ye=>{clearTimeout(he),ye.ok?hi(L,"TestPingServer: ok",!0,T):hi(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(he),hi(L,"TestPingServer: error",!1,T)})}function hi(g,T,L,Y,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),Y(L)}catch{}}function Os(){this.g=new Ci}function Ji(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Ji,Cs),Ji.prototype.g=function(){return new Zo(this.i,this.h)};function Zo(g,T){lt.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Zo,lt),t=Zo.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Mi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;au(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function au(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?zs(this):Mi(this),this.readyState==3&&au(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,zs(this))},t.Na=function(g){this.g&&(this.response=g,zs(this))},t.ga=function(){this.g&&zs(this)};function zs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Mi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=T.next();return g.join(`\r
`)};function Mi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function fi(g){let T="";return le(g,function(L,Y){T+=Y,T+=":",T+=L,T+=`\r
`}),T}function Wo(g,T,L){e:{for(Y in L){var Y=!1;break e}Y=!0}Y||(L=fi(L),typeof g=="string"?L!=null&&Ri(L):It(g,T,L))}function Pt(g){lt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Pt,lt);var ea=/^https?$/i,jc=["POST","PUT"];t=Pt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(ye){Jo(this,ye);return}if(g=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var he in Y)L.set(he,Y[he]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ye of Y.keys())L.set(ye,Y.get(ye));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(ye=>ye.toLowerCase()=="content-type"),he=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(jc,T,void 0)>=0)||Y||he||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Me]of L)this.g.setRequestHeader(ye,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ye){Jo(this,ye)}};function Jo(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,Uc(g),Va(g)}function Uc(g){g.A||(g.A=!0,zt(g,"complete"),zt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,zt(this,"complete"),zt(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?el(this):this.Xa())},t.Xa=function(){el(this)};function el(g){if(g.h&&typeof s<"u"){if(g.v&&ki(g)==4)setTimeout(g.Ca.bind(g),0);else if(zt(g,"readystatechange"),ki(g)==4){g.h=!1;try{const ye=g.ca();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var Y;if(Y=ye===0){let Me=String(g.D).match(tu)[1]||null;!Me&&l.self&&l.self.location&&(Me=l.self.location.protocol.slice(0,-1)),Y=!ea.test(Me?Me.toLowerCase():"")}L=Y}if(L)zt(g,"complete"),zt(g,"success");else{g.o=6;try{var he=ki(g)>2?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.ca()+"]",Uc(g)}}finally{Va(g)}}}}function Va(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const L=g.g;g.g=null,T||zt(g,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(g){return g.g?g.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),As(T)}};function Zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function qa(g){const T={};g=(g.g&&ki(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<g.length;Y++){if(B(g[Y]))continue;var L=Zl(g[Y]);const he=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ye=T[he]||[];T[he]=ye,ye.push(L)}_e(T,function(Y){return Y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(g,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||T}function Ls(g){this.za=0,this.i=[],this.j=new Lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ta("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ta("baseRetryDelayMs",5e3,g),this.Za=ta("retryDelaySeedMs",1e4,g),this.Ta=ta("forwardChannelMaxRetries",2,g),this.va=ta("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(g&&g.concurrentRequestLimit),this.Ba=new Os,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ls.prototype,t.ka=8,t.I=1,t.connect=function(g,T,L,Y){mn(0),this.W=g,this.H=T||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.J=uf(this,null,this.W),na(this)};function Hc(g){if(su(g),g.I==3){var T=g.V++,L=vn(g.J);if(It(L,"SID",g.M),It(L,"RID",T),It(L,"TYPE","terminate"),tl(g,L),T=new Vr(g,g.j,T),T.M=2,T.A=za(vn(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!L&&l.Image&&(new Image().src=T.A,L=!0),L||(T.g=cf(T.j,null),T.g.ea(T.A)),T.F=Date.now(),si(T)}lf(g)}function Vs(g){g.g&&(Gc(g),g.g.cancel(),g.g=null)}function su(g){Vs(g),g.v&&(l.clearTimeout(g.v),g.v=null),lu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function na(g){if(!$o(g.h)&&!g.m){g.m=!0;var T=g.Ea;U||k(),q||(U(),q=!0),R.add(T,g),g.D=0}}function ou(g,T){return ui(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ii(f(g.Ea,g,T),of(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const he=new Vr(this,this.j,g);let ye=this.o;if(this.U&&(ye?(ye=X(ye),ve(ye,this.U)):ye=this.U),this.u!==null||this.R||(he.J=ye,ye=null),this.S)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(T+=Y,T>4096){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=nf(this,he,T),L=vn(this.J),It(L,"RID",g),It(L,"CVER",22),this.G&&It(L,"X-HTTP-Session-Id",this.G),tl(this,L),ye&&(this.R?T="headers="+Ri(fi(ye))+"&"+T:this.u&&Wo(L,this.u,ye)),Yo(this.h,he),this.Ra&&It(L,"TYPE","init"),this.S?(It(L,"$req",T),It(L,"SID","null"),he.U=!0,Pr(he,L,null)):Pr(he,L,T),this.I=2}}else this.I==3&&(g?Fc(this,g):this.i.length==0||$o(this.h)||Fc(this))};function Fc(g,T){var L;T?L=T.l:L=g.V++;const Y=vn(g.J);It(Y,"SID",g.M),It(Y,"RID",L),It(Y,"AID",g.K),tl(g,Y),g.u&&g.o&&Wo(Y,g.u,g.o),L=new Vr(g,g.j,L,g.D+1),g.u===null&&(L.J=g.o),T&&(g.i=T.G.concat(g.i)),T=nf(g,L,1e3),L.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Yo(g.h,L),Pr(L,Y,T)}function tl(g,T){g.H&&le(g.H,function(L,Y){It(T,Y,L)}),g.l&&le({},function(L,Y){It(T,Y,L)})}function nf(g,T,L){L=Math.min(g.i.length,L);const Y=g.l?f(g.l.Ka,g.l,g):null;e:{var he=g.i;let ut=-1;for(;;){const wn=["count="+L];ut==-1?L>0?(ut=he[0].g,wn.push("ofs="+ut)):ut=0:wn.push("ofs="+ut);let Dt=!0;for(let tn=0;tn<L;tn++){var ye=he[tn].g;const di=he[tn].map;if(ye-=ut,ye<0)ut=Math.max(0,he[tn].g-100),Dt=!1;else try{ye="req"+ye+"_"||"";try{var Me=di instanceof Map?di:Object.entries(di);for(const[ia,Di]of Me){let Oi=Di;c(Di)&&(Oi=$n(Di)),wn.push(ye+ia+"="+encodeURIComponent(Oi))}}catch(ia){throw wn.push(ye+"type="+encodeURIComponent("_badmap")),ia}}catch{Y&&Y(di)}}if(Dt){Me=wn.join("&");break e}}Me=void 0}return g=g.i.splice(0,L),T.G=g,Me}function rf(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;U||k(),q||(U(),q=!0),R.add(T,g),g.A=0}}function nl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ii(f(g.Da,g),of(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,af(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ii(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mn(10),Vs(this),af(this))};function Gc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function af(g){g.g=new Vr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=vn(g.na);It(T,"RID","rpc"),It(T,"SID",g.M),It(T,"AID",g.K),It(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&It(T,"TO",g.ia),It(T,"TYPE","xmlhttp"),tl(g,T),g.u&&g.o&&Wo(T,g.u,g.o),g.O&&(g.g.H=g.O);var L=g.g;g=g.ba,L.M=1,L.A=za(vn(T)),L.u=null,L.R=!0,Oa(L,g)}t.Va=function(){this.C!=null&&(this.C=null,Vs(this),nl(this),mn(19))};function lu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function sf(g,T){var L=null;if(g.g==T){lu(g),Gc(g),g.g=null;var Y=2}else if(ci(g.h,T))L=T.G,Ns(g.h,T),Y=1;else return;if(g.I!=0){if(T.o)if(Y==1){L=T.u?T.u.length:0,T=Date.now()-T.F;var he=g.D;Y=Rs(),zt(Y,new ri(Y,L)),na(g)}else rf(g);else if(he=T.m,he==3||he==0&&T.X>0||!(Y==1&&ou(g,T)||Y==2&&nl(g)))switch(L&&L.length>0&&(T=g.h,T.i=T.i.concat(L)),he){case 1:ra(g,5);break;case 4:ra(g,10);break;case 3:ra(g,6);break;default:ra(g,2)}}}function of(g,T){let L=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(L*=2),L*T}function ra(g,T){if(g.j.info("Error code "+T),T==2){var L=f(g.bb,g),Y=g.Ua;const he=!Y;Y=new fr(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rn(Y,"https"),za(Y),he?Ni(Y.toString(),L):Bc(Y.toString(),L)}else mn(2);g.I=0,g.l&&g.l.pa(T),lf(g),su(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function lf(g){if(g.I=0,g.ja=[],g.l){const T=Xo(g.h);(T.length!=0||g.i.length!=0)&&(w(g.ja,T),w(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function uf(g,T,L){var Y=L instanceof fr?vn(L):new fr(L);if(Y.g!="")T&&(Y.g=T+"."+Y.g),Zi(Y,Y.u);else{var he=l.location;Y=he.protocol,T=T?T+"."+he.hostname:he.hostname,he=+he.port;const ye=new fr(null);Y&&Rn(ye,Y),T&&(ye.g=T),he&&Zi(ye,he),L&&(ye.h=L),Y=ye}return L=g.G,T=g.wa,L&&T&&It(Y,L,T),It(Y,"VER",g.ka),tl(g,Y),Y}function cf(g,T,L){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Pt(new Ji({ab:L})):new Pt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hf(){}t=hf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qs(){}qs.prototype.g=function(g,T){return new dr(g,T)};function dr(g,T){lt.call(this),this.g=new Ls(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!B(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Pa(this)}p(dr,lt),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){Hc(this.g)},dr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.v&&(L={},L.__data__=$n(g),g=L);T.i.push(new gn(T.Ya++,g)),T.I==3&&na(T)},dr.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,dr.Z.N.call(this)};function ff(g){Gt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const L in T){g=L;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(ff,Gt);function df(){xr.call(this),this.status=1}p(df,xr);function Pa(g){this.g=g}p(Pa,hf),Pa.prototype.ra=function(){zt(this.g,"a")},Pa.prototype.qa=function(g){zt(this.g,new ff(g))},Pa.prototype.pa=function(g){zt(this.g,new df)},Pa.prototype.oa=function(){zt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,DD=function(){return new qs},kD=function(){return Rs()},MD=ln,P6={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Zd=ka,Ho.COMPLETE="complete",ND=Ho,Ia.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",lt.prototype.listen=lt.prototype.J,z0=Ia,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,ID=Pt}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});const jS="@firebase/firestore",US="4.9.3";class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let Sc="12.7.0";const ql=new $_("@firebase/firestore");function ju(){return ql.logLevel}function qe(t,...e){if(ql.logLevel<=bt.DEBUG){const n=e.map(K_);ql.debug(`Firestore (${Sc}): ${t}`,...n)}}function vs(t,...e){if(ql.logLevel<=bt.ERROR){const n=e.map(K_);ql.error(`Firestore (${Sc}): ${t}`,...n)}}function hc(t,...e){if(ql.logLevel<=bt.WARN){const n=e.map(K_);ql.warn(`Firestore (${Sc}): ${t}`,...n)}}function K_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OD(t,r,n)}function OD(t,e,n){let r=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vs(r),new Error(r)}function Tt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OD(e,i,r)}function it(t,e){return t}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ur.UNAUTHENTICATED)))}shutdown(){}}class gQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vQ{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new zD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new ur(e)}}class yQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _Q{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Q_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function wt(t,e){return t<e?-1:t>e?1:0}function B6(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return zv(i)===zv(s)?wt(i,s):zv(i)?1:-1}return wt(t.length,e.length)}const xQ=55296,SQ=57343;function zv(t){const e=t.charCodeAt(0);return e>=xQ&&e<=SQ}function fc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const FS="__name__";class ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ua.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return wt(e.length,n.length)}static compareSegments(e,n){const r=ua.isNumericId(e),i=ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ua.extractNumericId(e).compare(ua.extractNumericId(n)):B6(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ao.fromString(e.substring(4,e.length-2))}}class Ft extends ua{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ft(n)}static emptyPath(){return new Ft([])}}const EQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends ua{construct(e,n,r){return new rr(e,n,r)}static isValidIdentifier(e){return EQ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FS}static keyField(){return new rr([FS])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new De(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new De(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Ft.fromString(e))}static fromName(e){return new Xe(Ft.fromString(e).popFirst(5))}static empty(){return new Xe(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Ft(e.slice()))}}function LD(t,e,n){if(!n)throw new De(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TQ(t,e,n,r){if(e===!0&&r===!0)throw new De(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GS(t){if(!Xe.isDocumentKey(t))throw new De(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $S(t){if(Xe.isDocumentKey(t))throw new De(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function g1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g1(t);throw new De(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function zh(t,e){if(!VD(t))throw new De(Se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new De(Se.INVALID_ARGUMENT,n);return!0}const YS=-62135596800,XS=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*XS);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YS)throw new De(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XS}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zh(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:zn("string",Jt._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Jt(0,0))}static max(){return new tt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fh=-1;function AQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new ko(i,Xe.empty(),e)}function CQ(t){return new ko(t.readTime,t.key,fh)}class ko{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ko(tt.min(),Xe.empty(),fh)}static max(){return new ko(tt.max(),Xe.empty(),fh)}}function RQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:wt(t.largestBatchId,e.largestBatchId))}const IQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ec(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==IQ)throw t;qe("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(h=>r(h)))})),l=!0,s===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function MQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(t){return t.name==="IndexedDbTransactionError"}class v1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}v1.ce=-1;const Z_=-1;function Lh(t){return t==null}function Tm(t){return t===0&&1/t==-1/0}function kQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qD="";function DQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KS(e)),e=OQ(t.get(n),e);return KS(e)}function OQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case qD:n+="";break;default:n+=s}}return n}function KS(t){return t+qD+""}function QS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zQ(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function PD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class fn{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nr.RED,this.left=i??nr.EMPTY,this.right=s??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZS(this.data.getIterator())}getIteratorFrom(e){return new ZS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Hn(this.comparator);return n.data=e,n}}class ZS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zr{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Hn(rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class BD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BD("Invalid base64 string: "+s):s}})(e);return new ir(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const LQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=LQ.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oo(t){return typeof t=="string"?ir.fromBase64String(t):ir.fromUint8Array(t)}const jD="server_timestamp",UD="__type__",HD="__previous_value__",FD="__local_write_time__";function W_(t){return(t?.mapValue?.fields||{})[UD]?.stringValue===jD}function y1(t){const e=t.mapValue.fields[HD];return W_(e)?y1(e):e}function dh(t){const e=Do(t.mapValue.fields[FD].timestampValue);return new Jt(e.seconds,e.nanos)}class VQ{constructor(e,n,r,i,s,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Am="(default)";class mh{constructor(e,n){this.projectId=e,this.database=n||Am}static empty(){return new mh("","")}get isDefaultDatabase(){return this.database===Am}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}const GD="__type__",qQ="__max__",Pd={mapValue:{}},$D="__vector__",Cm="value";function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W_(t)?4:BQ(t)?9007199254740991:PQ(t)?10:11:Qe(28295,{value:t})}function wa(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dh(t).isEqual(dh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Do(i.timestampValue),c=Do(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Oo(i.bytesValue).isEqual(Oo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return En(i.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return En(i.integerValue)===En(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=En(i.doubleValue),c=En(s.doubleValue);return l===c?Tm(l)===Tm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(QS(l)!==QS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!wa(l[h],c[h])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function ph(t,e){return(t.values||[]).find((n=>wa(n,e)))!==void 0}function dc(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=En(s.integerValue||s.doubleValue),h=En(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return WS(t.timestampValue,e.timestampValue);case 4:return WS(dh(t),dh(e));case 5:return B6(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Oo(s),h=Oo(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=wt(c[f],h[f]);if(m!==0)return m}return wt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=wt(En(s.latitude),En(l.latitude));return c!==0?c:wt(En(s.longitude),En(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return JS(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},h=l.fields||{},f=c[Cm]?.arrayValue,m=h[Cm]?.arrayValue,p=wt(f?.values?.length||0,m?.values?.length||0);return p!==0?p:JS(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Pd.mapValue&&l===Pd.mapValue)return 0;if(s===Pd.mapValue)return 1;if(l===Pd.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const v=B6(h[p],m[p]);if(v!==0)return v;const b=dc(c[h[p]],f[m[p]]);if(b!==0)return b}return wt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function WS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const n=Do(t),r=Do(e),i=wt(n.seconds,r.seconds);return i!==0?i:wt(n.nanos,r.nanos)}function JS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=dc(n[i],r[i]);if(s)return s}return wt(n.length,r.length)}function mc(t){return j6(t)}function j6(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Oo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=j6(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${j6(n.fields[l])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Wd(t){switch(zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=y1(t);return e?16+Wd(e):16;case 5:return 2*t.stringValue.length;case 6:return Oo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Wd(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bo(r.fields,((s,l)=>{i+=s.length+Wd(l)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function eE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function U6(t){return!!t&&"integerValue"in t}function J_(t){return!!t&&"arrayValue"in t}function tE(t){return!!t&&"nullValue"in t}function nE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jd(t){return!!t&&"mapValue"in t}function PQ(t){return(t?.mapValue?.fields||{})[GD]?.stringValue===$D}function $0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$0(t.arrayValue.values[n]);return e}return{...t}}function BQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qQ}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$0(n)}setAll(e){let n=rr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=$0(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new gr($0(this.value))}}function YD(t){const e=[];return Bo(t.fields,((n,r)=>{const i=new rr([n]);if(Jd(r)){const s=YD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Zr(e)}class Kn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Kn(e,0,tt.min(),tt.min(),tt.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,tt.min(),tt.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,tt.min(),tt.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rm{constructor(e,n){this.position=e,this.inclusive=n}}function rE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=dc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wa(t.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function jQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class XD{}class On extends XD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HQ(e,n,r):n==="array-contains"?new $Q(e,r):n==="in"?new YQ(e,r):n==="not-in"?new XQ(e,r):n==="array-contains-any"?new KQ(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FQ(e,r):new GQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends XD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yi(e,n)}matches(e){return KD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KD(t){return t.op==="and"}function QD(t){return UQ(t)&&KD(t)}function UQ(t){for(const e of t.filters)if(e instanceof Yi)return!1;return!0}function H6(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(QD(t))return t.filters.map((e=>H6(e))).join(",");{const e=t.filters.map((n=>H6(n))).join(",");return`${t.op}(${e})`}}function ZD(t,e){return t instanceof On?(function(r,i){return i instanceof On&&r.op===i.op&&r.field.isEqual(i.field)&&wa(r.value,i.value)})(t,e):t instanceof Yi?(function(r,i){return i instanceof Yi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&ZD(l,i.filters[c])),!0):!1})(t,e):void Qe(19439)}function WD(t){return t instanceof On?(function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`})(t):t instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(WD).join(" ,")+"}"})(t):"Filter"}class HQ extends On{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class FQ extends On{constructor(e,n){super(e,"in",n),this.keys=JD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GQ extends On{constructor(e,n){super(e,"not-in",n),this.keys=JD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JD(t,e){return(e.arrayValue?.values||[]).map((n=>Xe.fromName(n.referenceValue)))}class $Q extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return J_(n)&&ph(n.arrayValue,this.value)}}class YQ extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ph(this.value.arrayValue,n)}}class XQ extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ph(this.value.arrayValue,n)}}class KQ extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!J_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ph(this.value.arrayValue,r)))}}class QQ{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function aE(t,e=null,n=[],r=[],i=null,s=null,l=null){return new QQ(t,e,n,r,i,s,l)}function e7(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>H6(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),e.Te=n}return e.Te}function t7(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function F6(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ac{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZQ(t,e,n,r,i,s,l,c){return new Ac(t,e,n,r,i,s,l,c)}function _1(t){return new Ac(t)}function sE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eO(t){return t.collectionGroup!==null}function Y0(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Hn(rr.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new gh(s,r))})),n.has(rr.keyField().canonicalString())||e.Ie.push(new gh(rr.keyField(),r))}return e.Ie}function ga(t){const e=it(t);return e.Ee||(e.Ee=tO(e,Y0(t))),e.Ee}function WQ(t){const e=it(t);return e.de||(e.de=tO(e,t.explicitOrderBy)),e.de}function tO(t,e){if(t.limitType==="F")return aE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new gh(i.field,s)}));const n=t.endAt?new Rm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rm(t.startAt.position,t.startAt.inclusive):null;return aE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function G6(t,e){const n=t.filters.concat([e]);return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Im(t,e,n){return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function b1(t,e){return t7(ga(t),ga(e))&&t.limitType===e.limitType}function nO(t){return`${e7(ga(t))}|lt:${t.limitType}`}function Uu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>WD(i))).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>mc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>mc(i))).join(",")),`Target(${r})`})(ga(t))}; limitType=${t.limitType})`}function w1(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Y0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=rE(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,Y0(r),i)||r.endAt&&!(function(l,c,h){const f=rE(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,Y0(r),i))})(t,e)}function JQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rO(t){return(e,n)=>{let r=!1;for(const i of Y0(t)){const s=eZ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eZ(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(s,l,c){const h=l.data.field(s),f=c.data.field(s);return h!==null&&f!==null?dc(h,f):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return PD(this.inner)}size(){return this.innerSize}}const tZ=new fn(Xe.comparator);function ys(){return tZ}const iO=new fn(Xe.comparator);function L0(...t){let e=iO;for(const n of t)e=e.insert(n.key,n);return e}function aO(t){let e=iO;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function El(){return X0()}function sO(){return X0()}function X0(){return new Ul((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nZ=new fn(Xe.comparator),rZ=new Hn(Xe.comparator);function xt(...t){let e=rZ;for(const n of t)e=e.add(n);return e}const iZ=new Hn(wt);function aZ(){return iZ}function n7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function oO(t){return{integerValue:""+t}}function lO(t,e){return kQ(e)?oO(e):n7(t,e)}class x1{constructor(){this._=void 0}}function sZ(t,e,n){return t instanceof vh?(function(i,s){const l={fields:{[UD]:{stringValue:jD},[FD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&W_(s)&&(s=y1(s)),s&&(l.fields[HD]=s),{mapValue:l}})(n,e):t instanceof yh?cO(t,e):t instanceof _h?hO(t,e):(function(i,s){const l=uO(i,s),c=oE(l)+oE(i.Ae);return U6(l)&&U6(i.Ae)?oO(c):n7(i.serializer,c)})(t,e)}function oZ(t,e,n){return t instanceof yh?cO(t,e):t instanceof _h?hO(t,e):n}function uO(t,e){return t instanceof bh?(function(r){return U6(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class vh extends x1{}class yh extends x1{constructor(e){super(),this.elements=e}}function cO(t,e){const n=fO(e);for(const r of t.elements)n.some((i=>wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class _h extends x1{constructor(e){super(),this.elements=e}}function hO(t,e){let n=fO(e);for(const r of t.elements)n=n.filter((i=>!wa(i,r)));return{arrayValue:{values:n}}}class bh extends x1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oE(t){return En(t.integerValue||t.doubleValue)}function fO(t){return J_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dO{constructor(e,n){this.field=e,this.transform=n}}function lZ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yh&&i instanceof yh||r instanceof _h&&i instanceof _h?fc(r.elements,i.elements,wa):r instanceof bh&&i instanceof bh?wa(r.Ae,i.Ae):r instanceof vh&&i instanceof vh})(t.transform,e.transform)}class uZ{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class S1{}function mO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E1(t.key,cr.none()):new Vh(t.key,t.data,cr.none());{const n=t.data,r=gr.empty();let i=new Hn(rr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new jo(t.key,r,new Zr(i.toArray()),cr.none())}}function cZ(t,e,n){t instanceof Vh?(function(i,s,l){const c=i.value.clone(),h=uE(i.fieldTransforms,s,l.transformResults);c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof jo?(function(i,s,l){if(!em(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=uE(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(pO(i)),h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function K0(t,e,n,r){return t instanceof Vh?(function(s,l,c,h){if(!em(s.precondition,l))return c;const f=s.value.clone(),m=cE(s.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof jo?(function(s,l,c,h){if(!em(s.precondition,l))return c;const f=cE(s.fieldTransforms,h,l),m=l.data;return m.setAll(pO(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return em(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function hZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uO(r.transform,i||null);s!=null&&(n===null&&(n=gr.empty()),n.set(r.field,s))}return n||null}function lE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fc(r,i,((s,l)=>lZ(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vh extends S1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jo extends S1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function uE(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,oZ(l,c,n[i]))}return r}function cE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,sZ(s,l,e))}return r}class E1 extends S1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gO extends S1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fZ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cZ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=K0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=K0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sO();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const h=mO(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xt())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,((n,r)=>lE(n,r)))&&fc(this.baseMutations,e.baseMutations,((n,r)=>lE(n,r)))}}class r7{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return nZ})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new r7(e,n,r,i)}}class dZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mZ{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class pZ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dn,At;function vO(t){switch(t){case Se.OK:return Qe(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function yO(t){if(t===void 0)return vs("GRPC error has no .code"),Se.UNKNOWN;switch(t){case Dn.OK:return Se.OK;case Dn.CANCELLED:return Se.CANCELLED;case Dn.UNKNOWN:return Se.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return Se.INTERNAL;case Dn.UNAVAILABLE:return Se.UNAVAILABLE;case Dn.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Dn.NOT_FOUND:return Se.NOT_FOUND;case Dn.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Dn.ABORTED:return Se.ABORTED;case Dn.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Dn.DATA_LOSS:return Se.DATA_LOSS;default:return Qe(39323,{code:t})}}(At=Dn||(Dn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function gZ(){return new TextEncoder}const vZ=new Ao([4294967295,4294967295],0);function hE(t){const e=gZ().encode(t),n=new RD;return n.update(e),new Uint8Array(n.digest())}function fE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ao([n,r],0),new Ao([i,s],0)]}class i7{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new V0(`Invalid padding: ${n}`);if(r<0)throw new V0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new V0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new V0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ao.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ao.fromNumber(r)));return i.compare(vZ)===1&&(i=new Ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hE(e),[r,i]=fE(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new i7(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=hE(e),[r,i]=fE(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class V0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class T1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T1(tt.min(),i,new fn(wt),ys(),xt())}}class qh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qh(r,n,xt(),xt(),xt())}}class tm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _O{constructor(e,n){this.targetId=e,this.Ce=n}}class bO{constructor(e,n,r=ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dE{constructor(){this.ve=0,this.Fe=mE(),this.Me=ir.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),n=xt(),r=xt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:s})}})),new qh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=mE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yZ{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=Bd(),this.He=Bd(),this.Ye=new fn(wt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(F6(s))if(r===0){const l=new Xe(s.path);this.et(n,l,Kn.newNoDocument(l,tt.min()))}else Tt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Oo(r).toUint8Array()}catch(h){if(h instanceof BD)return hc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new i7(l,i,s)}catch(h){return hc(h instanceof V0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&F6(c.target)){const h=new Xe(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Kn.newNoDocument(h,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=xt();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new T1(e,n,this.Ye,this.je,r);return this.je=ys(),this.Je=Bd(),this.He=Bd(),this.Ye=new fn(wt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Hn(wt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Hn(wt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bd(){return new fn(Xe.comparator)}function mE(){return new fn(Xe.comparator)}const _Z={asc:"ASCENDING",desc:"DESCENDING"},bZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wZ={and:"AND",or:"OR"};class xZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $6(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function Nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SZ(t,e){return Nm(t,e.toTimestamp())}function Jr(t){return Tt(!!t,49232),tt.fromTimestamp((function(n){const r=Do(n);return new Jt(r.seconds,r.nanos)})(t))}function a7(t,e){return Y6(t,e).canonicalString()}function Y6(t,e){const n=(function(i){return new Ft(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function xO(t){const e=Ft.fromString(t);return Tt(IO(e),10190,{key:e.toString()}),e}function Mm(t,e){return a7(t.databaseId,e.path)}function Q0(t,e){const n=xO(e);if(n.get(1)!==t.databaseId.projectId)throw new De(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(EO(n))}function SO(t,e){return a7(t.databaseId,e)}function EZ(t){const e=xO(t);return e.length===4?Ft.emptyPath():EO(e)}function X6(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EO(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pE(t,e,n){return{name:Mm(t,e),fields:n.value.mapValue.fields}}function TZ(t,e){return"found"in e?(function(r,i){Tt(!!i.found,43571),i.found.name,i.found.updateTime;const s=Q0(r,i.found.name),l=Jr(i.found.updateTime),c=i.found.createTime?Jr(i.found.createTime):tt.min(),h=new gr({mapValue:{fields:i.found.fields}});return Kn.newFoundDocument(s,l,c,h)})(t,e):"missing"in e?(function(r,i){Tt(!!i.missing,3894),Tt(!!i.readTime,22933);const s=Q0(r,i.missing),l=Jr(i.readTime);return Kn.newNoDocument(s,l)})(t,e):Qe(7234,{result:e})}function AZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Tt(m===void 0||typeof m=="string",58123),ir.fromBase64String(m||"")):(Tt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ir.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?Se.UNKNOWN:yO(f.code);return new De(m,f.message||"")})(l);n=new bO(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Q0(t,r.document.name),s=Jr(r.document.updateTime),l=r.document.createTime?Jr(r.document.createTime):tt.min(),c=new gr({mapValue:{fields:r.document.fields}}),h=Kn.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new tm(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Q0(t,r.document),s=r.readTime?Jr(r.readTime):tt.min(),l=Kn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new tm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Q0(t,r.document),s=r.removedTargetIds||[];n=new tm([],s,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new pZ(i,s),c=r.targetId;n=new _O(c,l)}}return n}function TO(t,e){let n;if(e instanceof Vh)n={update:pE(t,e.key,e.value)};else if(e instanceof E1)n={delete:Mm(t,e.key)};else if(e instanceof jo)n={update:pE(t,e.key,e.data),updateMask:zZ(e.fieldMask)};else{if(!(e instanceof gO))return Qe(16599,{Vt:e.type});n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof vh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:SZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Qe(27497)})(t,e.precondition)),n}function CZ(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Jr(i.updateTime):Jr(s);return l.isEqual(tt.min())&&(l=Jr(s)),new uZ(l,i.transformResults||[])})(n,e)))):[]}function RZ(t,e){return{documents:[SO(t,e.path)]}}function AO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SO(t,i);const s=(function(f){if(f.length!==0)return RO(Yi.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:go(v.field),direction:kZ(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=$6(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function IZ(t,e,n,r){const{ft:i,parent:s}=AO(t,e),l={},c=[];let h=0;return n.forEach((f=>{const m="aggregate_"+h++;l[m]=f.alias,f.aggregateType==="count"?c.push({alias:m,count:{}}):f.aggregateType==="avg"?c.push({alias:m,avg:{field:go(f.fieldPath)}}):f.aggregateType==="sum"&&c.push({alias:m,sum:{field:go(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},gt:l,parent:s}}function NZ(t){let e=EZ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const v=CO(p);return v instanceof Yi&&QD(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(w){return new gh(Hu(w.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,Lh(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(p){const v=!!p.before,b=p.values||[];return new Rm(b,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,b=p.values||[];return new Rm(b,v)})(n.endAt)),ZQ(e,i,l,s,c,"F",h,f)}function MZ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hu(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hu(n.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hu(n.unaryFilter.field);return On.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Hu(n.unaryFilter.field);return On.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return On.create(Hu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((r=>CO(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function kZ(t){return _Z[t]}function DZ(t){return bZ[t]}function OZ(t){return wZ[t]}function go(t){return{fieldPath:t.canonicalString()}}function Hu(t){return rr.fromServerFormat(t.fieldPath)}function RO(t){return t instanceof On?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:DZ(n.op),value:n.value}}})(t):t instanceof Yi?(function(n){const r=n.getFilters().map((i=>RO(i)));return r.length===1?r[0]:{compositeFilter:{op:OZ(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function zZ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class wo{constructor(e,n,r,i,s=tt.min(),l=tt.min(),c=ir.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LZ{constructor(e){this.yt=e}}function VZ(t){const e=NZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Im(e,e.limit,"L"):e}class qZ{constructor(){this.Cn=new PZ}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(ko.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class PZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Hn(Ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hn(Ft.comparator)).toArray()}}const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NO=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(NO,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class pc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pc(0)}static cr(){return new pc(-1)}}const vE="LruGarbageCollector",BZ=1048576;function yE([t,e],[n,r]){const i=wt(t,n);return i===0?wt(e,r):i}class jZ{constructor(e){this.Ir=e,this.buffer=new Hn(yE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){qe(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tc(n)?qe(vE,"Ignoring IndexedDB error during garbage collection: ",n):await Ec(n)}await this.Vr(3e5)}))}}class HZ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(v1.ce);const r=new jZ(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(gE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),ju()<=bt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function FZ(t,e){return new HZ(t,e)}class GZ{constructor(){this.changes=new Ul((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $Z{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class YZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&K0(r.mutation,i,Zr.empty(),Jt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,xt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=xt()){const i=El();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=L0();return s.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=El();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,xt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ys();const l=X0(),c=(function(){return X0()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof jo)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),K0(m.mutation,f,m.mutation.getFieldMask(),Jt.now())):l.set(f.key,Zr.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new $Z(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=X0();let i=new fn(((l,c)=>l-c)),s=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Zr.empty();m=c.applyToLocalView(f,m),r.set(h,m);const p=(i.get(c.batchId)||xt()).add(h);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,p=sO();m.forEach((v=>{if(!s.has(v)){const b=mO(n.get(v),r.get(v));b!==null&&p.set(v,b),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ae.resolve(El());let c=fh,h=s;return l.next((f=>Ae.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,h,f,xt()))).next((m=>({batchId:c,changes:aO(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let i=L0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=L0();return this.indexManager.getCollectionParents(e,s).next((c=>Ae.forEach(c,(h=>{const f=(function(p,v){return new Ac(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Kn.newInvalidDocument(m)))}));let c=L0();return l.forEach(((h,f)=>{const m=s.get(h);m!==void 0&&K0(m.mutation,f,Zr.empty(),Jt.now()),w1(n,f)&&(c=c.insert(h,f))})),c}))}}class XZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:VZ(i.bundledQuery),readTime:Jr(i.readTime)}})(n)),Ae.resolve()}}class KZ{constructor(){this.overlays=new fn(Xe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=El();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=El(),s=n.length+1,l=new Xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new fn(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=El(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=El(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Ae.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new dZ(n,r));let s=this.qr.get(n);s===void 0&&(s=xt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class QZ{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class s7{constructor(){this.Qr=new Hn(Xn.$r),this.Ur=new Hn(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new Ft([])),r=new Xn(n,e),i=new Xn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new Ft([])),r=new Xn(n,e),i=new Xn(n,e+1);let s=xt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Xn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||wt(e.Yr,n.Yr)}static Kr(e,n){return wt(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}class ZZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Hn(Xn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new fZ(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Xn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?Z_:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),i=new Xn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(wt);return n.forEach((i=>{const s=new Xn(i,0),l=new Xn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Xe.isDocumentKey(s)||(s=s.child(""));const l=new Xn(new Xe(s),0);let c=new Hn(wt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const s=new Xn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xn(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WZ{constructor(e){this.ri=e,this.docs=(function(){return new fn(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kn.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ys();const l=n.path,c=new Xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||RQ(CQ(m),r)<=0||(i.has(m.key)||w1(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JZ(this)}getSize(e){return Ae.resolve(this.size)}}class JZ extends GZ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class eW{constructor(e){this.persistence=e,this.si=new Ul((n=>e7(n)),t7),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new s7,this.targetCount=0,this.ai=pc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(s).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class MO{constructor(e,n){this.ui={},this.overlays={},this.ci=new v1(0),this.li=!1,this.li=!0,this.hi=new QZ,this.referenceDelegate=e(this),this.Pi=new eW(this),this.indexManager=new qZ,this.remoteDocumentCache=(function(i){return new WZ(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new LZ(n),this.Ii=new XZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ZZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new tW(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tW extends NQ{constructor(e){super(),this.currentSequenceNumber=e}}class o7{constructor(e){this.persistence=e,this.Ri=new s7,this.Vi=null}static mi(e){return new o7(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=Xe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class km{constructor(e,n){this.persistence=e,this.pi=new Ul((r=>DQ(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=FZ(this,n)}static mi(e,n){return new km(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,tt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wd(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class l7{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xt(),i=xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new l7(e,n.fromCache,r,i)}}class nW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZX()?8:MQ(hr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new nW;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ju()<=bt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(ju()<=bt.DEBUG&&qe("QueryEngine","Query:",Uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ju()<=bt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ga(n))):Ae.resolve())}ys(e,n){if(sE(n))return Ae.resolve(null);let r=ga(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Im(n,null,"F"),r=ga(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=xt(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,Im(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return sE(n)||i.isEqual(tt.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Ae.resolve(null):(ju()<=bt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uu(n)),this.vs(e,l,n,AQ(i,fh)).next((c=>c)))}))}Ds(e,n){let r=new Hn(rO(e));return n.forEach(((i,s)=>{w1(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ju()<=bt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Uu(n)),this.ps.getDocumentsMatchingQuery(e,n,ko.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const u7="LocalStore",iW=3e8;class aW{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new fn(wt),this.xs=new Ul((s=>e7(s)),t7),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sW(t,e,n,r){return new aW(t,e,n,r)}async function kO(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let h=xt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function oW(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const p=f.batch,v=p.keys();let b=Ae.resolve();return v.forEach((w=>{b=b.next((()=>m.getEntry(h,w))).next((S=>{const E=f.docVersions.get(w);Tt(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=xt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function DO(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lW(t,e){const n=it(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(ir.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=iW?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,b,m)&&c.push(n.Pi.updateTargetData(s,b))}));let h=ys(),f=xt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(uW(s,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(tt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,h,f))).next((()=>h))})).then((s=>(n.Ms=i,s)))}function uW(t,e,n){let r=xt(),i=xt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ys();return n.forEach(((c,h)=>{const f=s.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):qe(u7,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function cW(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Z_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hW(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new wo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function K6(t,e,n){const r=it(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Tc(l))throw l;qe(u7,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _E(t,e,n){const r=it(t);let i=tt.min(),s=xt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const p=it(h),v=p.xs.get(m);return v!==void 0?Ae.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,m)})(r,l,ga(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:tt.min(),n?s:xt()))).next((c=>(fW(r,JQ(e),c),{documents:c,Qs:s})))))}function fW(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class bE{constructor(){this.activeTargetIds=aZ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dW{constructor(){this.Mo=new bE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mW{Oo(e){}shutdown(){}}const wE="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qe(wE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){qe(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jd=null;function Q6(){return jd===null?jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():jd++,"0x"+jd.toString(16)}const Lv="RestConnection",pW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Am?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Q6(),c=this.zo(e,n.toUriEncodedString());qe(Lv,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,s);const{host:f}=new URL(c),m=wc(f);return this.Jo(e,c,h,r,m).then((p=>(qe(Lv,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw hc(Lv,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=pW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class vW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const lr="WebChannelConnection";class yW extends gW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Q6();return new Promise(((c,h)=>{const f=new ID;f.setWithCredentials(!0),f.listenOnce(ND.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Zd.NO_ERROR:const p=f.getResponseJson();qe(lr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Zd.TIMEOUT:qe(lr,`RPC '${e}' ${l} timed out`),h(new De(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const v=f.getStatus();if(qe(lr,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const S=(function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(O)>=0?O:Se.UNKNOWN})(w.status);h(new De(S,w.message))}else h(new De(Se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new De(Se.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{qe(lr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);qe(lr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Q6(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DD(),c=kD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");qe(lr,`Creating RPC '${e}' stream ${i}: ${m}`,h);const p=l.createWebChannel(m,h);this.I_(p);let v=!1,b=!1;const w=new vW({Yo:E=>{b?qe(lr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(qe(lr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),qe(lr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),S=(E,C,O)=>{E.listen(C,(A=>{try{O(A)}catch(z){setTimeout((()=>{throw z}),0)}}))};return S(p,z0.EventType.OPEN,(()=>{b||(qe(lr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),S(p,z0.EventType.CLOSE,(()=>{b||(b=!0,qe(lr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),S(p,z0.EventType.ERROR,(E=>{b||(b=!0,hc(lr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new De(Se.UNAVAILABLE,"The operation could not be completed")))})),S(p,z0.EventType.MESSAGE,(E=>{if(!b){const C=E.data[0];Tt(!!C,16349);const O=C,A=O?.error||O[0]?.error;if(A){qe(lr,`RPC '${e}' stream ${i} received error:`,A);const z=A.status;let U=(function(k){const D=Dn[k];if(D!==void 0)return yO(D)})(z),q=A.message;U===void 0&&(U=Se.INTERNAL,q="Unknown error status: "+z+" with message "+A.message),b=!0,w.a_(new De(U,q)),p.close()}else qe(lr,`RPC '${e}' stream ${i} received:`,C),w.u_(C)}})),S(c,MD.STAT_EVENT,(E=>{E.stat===P6.PROXY?qe(lr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===P6.NOPROXY&&qe(lr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vv(){return typeof document<"u"?document:null}function A1(t){return new xZ(t,!0)}class c7{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const SE="PersistentStream";class OO{constructor(e,n,r,i,s,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c7(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return qe(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(qe(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _W extends OO{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AZ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return tt.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Jr(l.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=X6(this.serializer),n.addTarget=(function(s,l){let c;const h=l.target;if(c=F6(h)?{documents:RZ(s,h)}:{query:AO(s,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=wO(s,l.resumeToken);const f=$6(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=Nm(s,l.snapshotVersion.toTimestamp());const f=$6(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=MZ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=X6(this.serializer),n.removeTarget=e,this.q_(n)}}class bW extends OO{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CZ(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=X6(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TO(this.serializer,r)))};this.q_(n)}}class wW{}class xW extends wW{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Y6(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(Se.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Y6(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(Se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pl="RemoteStore";class EW{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Hl(this)&&(qe(Pl,"Restarting streams for network reachability change."),await(async function(h){const f=it(h);f.Ea.add(4),await Ph(f),f.Ra.set("Unknown"),f.Ea.delete(4),await C1(f)})(this))}))})),this.Ra=new SW(r,i)}}async function C1(t){if(Hl(t))for(const e of t.da)await e(!0)}async function Ph(t){for(const e of t.da)await e(!1)}function zO(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),m7(n)?d7(n):Cc(n).O_()&&f7(n,e))}function h7(t,e){const n=it(t),r=Cc(n);n.Ia.delete(e),r.O_()&&LO(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hl(n)&&n.Ra.set("Unknown"))}function f7(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cc(t).Y_(e)}function LO(t,e){t.Va.Ue(e),Cc(t).Z_(e)}function d7(t){t.Va=new yZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cc(t).start(),t.Ra.ua()}function m7(t){return Hl(t)&&!Cc(t).x_()&&t.Ia.size>0}function Hl(t){return it(t).Ea.size===0}function VO(t){t.Va=void 0}async function TW(t){t.Ra.set("Online")}async function AW(t){t.Ia.forEach(((e,n)=>{f7(t,e)}))}async function CW(t,e){VO(t),m7(t)?(t.Ra.ha(e),d7(t)):t.Ra.set("Unknown")}async function RW(t,e,n){if(t.Ra.set("Online"),e instanceof bO&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){qe(Pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dm(t,r)}else if(e instanceof tm?t.Va.Ze(e):e instanceof _O?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await DO(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(ir.EMPTY_BYTE_STRING,m.snapshotVersion)),LO(s,h);const p=new wo(m.target,h,f,m.sequenceNumber);f7(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){qe(Pl,"Failed to raise snapshot:",r),await Dm(t,r)}}async function Dm(t,e,n){if(!Tc(e))throw e;t.Ea.add(1),await Ph(t),t.Ra.set("Offline"),n||(n=()=>DO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe(Pl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await C1(t)}))}function qO(t,e){return e().catch((n=>Dm(t,n,e)))}async function R1(t){const e=it(t),n=Lo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Z_;for(;IW(e);)try{const i=await cW(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,NW(e,i)}catch(i){await Dm(e,i)}PO(e)&&BO(e)}function IW(t){return Hl(t)&&t.Ta.length<10}function NW(t,e){t.Ta.push(e);const n=Lo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PO(t){return Hl(t)&&!Lo(t).x_()&&t.Ta.length>0}function BO(t){Lo(t).start()}async function MW(t){Lo(t).ra()}async function kW(t){const e=Lo(t);for(const n of t.Ta)e.ea(n.mutations)}async function DW(t,e,n){const r=t.Ta.shift(),i=r7.from(r,e,n);await qO(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await R1(t)}async function OW(t,e){e&&Lo(t).X_&&await(async function(r,i){if((function(l){return vO(l)&&l!==Se.ABORTED})(i.code)){const s=r.Ta.shift();Lo(r).B_(),await qO(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await R1(r)}})(t,e),PO(t)&&BO(t)}async function EE(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),qe(Pl,"RemoteStore received new credentials");const r=Hl(n);n.Ea.add(3),await Ph(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await C1(n)}async function zW(t,e){const n=it(t);e?(n.Ea.delete(2),await C1(n)):e||(n.Ea.add(2),await Ph(n),n.Ra.set("Unknown"))}function Cc(t){return t.ma||(t.ma=(function(n,r,i){const s=it(n);return s.sa(),new _W(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:TW.bind(null,t),t_:AW.bind(null,t),r_:CW.bind(null,t),H_:RW.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),m7(t)?d7(t):t.Ra.set("Unknown")):(await t.ma.stop(),VO(t))}))),t.ma}function Lo(t){return t.fa||(t.fa=(function(n,r,i){const s=it(n);return s.sa(),new bW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:MW.bind(null,t),r_:OW.bind(null,t),ta:kW.bind(null,t),na:DW.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await R1(t)):(await t.fa.stop(),t.Ta.length>0&&(qe(Pl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class p7{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new p7(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g7(t,e){if(vs("AsyncQueue",`${e}: ${t}`),Tc(t))return new De(Se.UNAVAILABLE,`${e}: ${t}`);throw t}class Zu{static emptySet(e){return new Zu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=L0(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class TE{constructor(){this.ga=new fn(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gc{constructor(e,n,r,i,s,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new gc(e,n,Zu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class LW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VW{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),s=i.queries;i.queries=AE(),s.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new De(Se.ABORTED,"Firestore shutting down"))}}function AE(){return new Ul((t=>nO(t)),b1)}async function v7(t,e){const n=it(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new LW,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=g7(l,`Initialization of query '${Uu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&_7(n)}async function y7(t,e){const n=it(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qW(t,e){const n=it(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&_7(n)}function PW(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function _7(t){t.Ca.forEach((e=>{e.next()}))}var Z6,CE;(CE=Z6||(Z6={})).Ma="default",CE.Cache="cache";class b7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Z6.Cache}}class jO{constructor(e){this.key=e}}class UO{constructor(e){this.key=e}}class BW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=rO(e),this.tu=new Zu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new TE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),b=w1(this.query,p)?p:null,w=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?w!==S&&(r.track({type:3,doc:b}),E=!0):this.su(v,b)||(r.track({type:2,doc:b}),E=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(c=!0)):!v&&b?(r.track({type:0,doc:b}),E=!0):v&&!b&&(r.track({type:1,doc:v}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(b,w){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:E})}};return S(b)-S(w)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new gc(this.query,e.tu,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new UO(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new jO(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=xt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w7="SyncEngine";class jW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UW{constructor(e){this.key=e,this.hu=!1}}class HW{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ul((c=>nO(c)),b1),this.Iu=new Map,this.Eu=new Set,this.du=new fn(Xe.comparator),this.Au=new Map,this.Ru=new s7,this.Vu={},this.mu=new Map,this.fu=pc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FW(t,e,n=!0){const r=XO(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await HO(r,e,n,!0),i}async function GW(t,e){const n=XO(t);await HO(n,e,!0,!1)}async function HO(t,e,n,r){const i=await hW(t.localStore,ga(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await $W(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&zO(t.remoteStore,i),c}async function $W(t,e,n,r,i){t.pu=(p,v,b)=>(async function(S,E,C,O){let A=E.view.ru(C);A.Cs&&(A=await _E(S.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,A))));const z=O&&O.targetChanges.get(E.targetId),U=O&&O.targetMismatches.get(E.targetId)!=null,q=E.view.applyChanges(A,S.isPrimaryClient,z,U);return IE(S,E.targetId,q.au),q.snapshot})(t,p,v,b);const s=await _E(t.localStore,e,!0),l=new BW(e,s.Qs),c=l.ru(s.documents),h=qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);IE(t,n,f.au);const m=new jW(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function YW(t,e,n){const r=it(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!b1(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K6(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&h7(r.remoteStore,i.targetId),W6(r,i.targetId)})).catch(Ec)):(W6(r,i.targetId),await K6(r.localStore,i.targetId,!0))}async function XW(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h7(n.remoteStore,r.targetId))}async function KW(t,e,n){const r=nJ(t);try{const i=await(function(l,c){const h=it(l),f=Jt.now(),m=c.reduce(((b,w)=>b.add(w.key)),xt());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=ys(),S=xt();return h.Ns.getEntries(b,m).next((E=>{w=E,w.forEach(((C,O)=>{O.isValidDocument()||(S=S.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,w))).next((E=>{p=E;const C=[];for(const O of c){const A=hZ(O,p.get(O.key).overlayedDocument);A!=null&&C.push(new jo(O.key,A,YD(A.value.mapValue),cr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,c)})).next((E=>{v=E;const C=E.applyToLocalDocumentSet(p,S);return h.documentOverlayCache.saveOverlays(b,E.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:aO(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new fn(wt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Bh(r,i.changes),await R1(r.remoteStore)}catch(i){const s=g7(i,"Failed to persist write");n.reject(s)}}async function FO(t,e){const n=it(t);try{const r=await lW(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Tt(l.hu,14607):i.removedDocuments.size>0&&(Tt(l.hu,42227),l.hu=!1))})),await Bh(n,r,e)}catch(r){await Ec(r)}}function RE(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=it(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(c)&&(f=!0)})),f&&_7(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QW(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new fn(Xe.comparator);l=l.insert(s,Kn.newNoDocument(s,tt.min()));const c=xt().add(s),h=new T1(tt.min(),new Map,new fn(wt),l,c);await FO(r,h),r.du=r.du.remove(s),r.Au.delete(e),x7(r)}else await K6(r.localStore,e,!1).then((()=>W6(r,e,n))).catch(Ec)}async function ZW(t,e){const n=it(t),r=e.batch.batchId;try{const i=await oW(n.localStore,e);$O(n,r,null),GO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bh(n,i)}catch(i){await Ec(i)}}async function WW(t,e,n){const r=it(t);try{const i=await(function(l,c){const h=it(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((p=>(Tt(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);$O(r,e,n),GO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bh(r,i)}catch(i){await Ec(i)}}function GO(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $O(t,e,n){const r=it(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function W6(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||YO(t,r)}))}function YO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(h7(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),x7(t))}function IE(t,e,n){for(const r of n)r instanceof jO?(t.Ru.addReference(r.key,e),JW(t,r)):r instanceof UO?(qe(w7,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YO(t,r.key)):Qe(19791,{wu:r})}function JW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(qe(w7,"New document in limbo: "+n),t.Eu.add(r),x7(t))}function x7(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(Ft.fromString(e)),r=t.fu.next();t.Au.set(r,new UW(n)),t.du=t.du.insert(n,r),zO(t.remoteStore,new wo(ga(_1(n.path)),r,"TargetPurposeLimboResolution",v1.ce))}}async function Bh(t,e,n){const r=it(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=l7.As(h.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=it(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(f,(v=>Ae.forEach(v.Es,(b=>m.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Ae.forEach(v.ds,(b=>m.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!Tc(p))throw p;qe(u7,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=m.Ms.get(v),w=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(v,S)}}})(r.localStore,s))}async function eJ(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){qe(w7,"User change. New user:",e.toKey());const r=await kO(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((h=>{h.reject(new De(Se.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bh(n,r.Ls)}}function tJ(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return xt().add(r.key);{let i=xt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function XO(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QW.bind(null,e),e.Pu.H_=qW.bind(null,e.eventManager),e.Pu.yu=PW.bind(null,e.eventManager),e}function nJ(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WW.bind(null,e),e}class Om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=A1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sW(this.persistence,new rW,e.initialUser,this.serializer)}Cu(e){return new MO(o7.mi,this.serializer)}Du(e){return new dW}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Om.provider={build:()=>new Om};class rJ extends Om{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tt(this.persistence.referenceDelegate instanceof km,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UZ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new MO((r=>km.mi(r,n)),this.serializer)}}class J6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eJ.bind(null,this.syncEngine),await zW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VW})()}createDatastore(e){const n=A1(e.databaseInfo.databaseId),r=(function(s){return new yW(s)})(e.databaseInfo);return(function(s,l,c,h){return new xW(s,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new EW(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>RE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new mW})())}createSyncEngine(e,n){return(function(i,s,l,c,h,f,m){const p=new HW(i,s,l,c,h,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=it(n);qe(Pl,"RemoteStore shutting down."),r.Ea.add(5),await Ph(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}J6.provider={build:()=>new J6};class S7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class iJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new De(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const l=it(i),c={documents:s.map((p=>Mm(l.serializer,p)))},h=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Ft.emptyPath(),c,s.length),f=new Map;h.forEach((p=>{const v=TZ(l.serializer,p);f.set(v.key.toString(),v)}));const m=[];return s.forEach((p=>{const v=f.get(p.toString());Tt(!!v,55234,{key:p}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new E1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Xe.fromPath(r);this.mutations.push(new gO(i,this.precondition(i)))})),await(async function(r,i){const s=it(r),l={writes:i.map((c=>TO(s.serializer,c)))};await s.Go("Commit",s.serializer.databaseId,Ft.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Qe(50498,{Gu:e.constructor.name});n=tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new De(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(tt.min())?cr.exists(!1):cr.updateTime(n):cr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(tt.min()))throw new De(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(n)}return cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aJ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new c7(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new iJ(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Lh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vO(n)}return!1}}const Vo="FirestoreClient";class sJ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=Q_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{qe(Vo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(qe(Vo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g7(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qv(t,e){t.asyncQueue.verifyOperationInProgress(),qe(Vo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await kO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function NE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oJ(t);qe(Vo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>EE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>EE(e.remoteStore,i))),t._onlineComponents=e}async function oJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(Vo,"Using user provided OfflineComponentProvider");try{await qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await qv(t,new Om)}}else qe(Vo,"Using default OfflineComponentProvider"),await qv(t,new rJ(void 0));return t._offlineComponents}async function E7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(Vo,"Using user provided OnlineComponentProvider"),await NE(t,t._uninitializedComponentsProvider._online)):(qe(Vo,"Using default OnlineComponentProvider"),await NE(t,new J6))),t._onlineComponents}function lJ(t){return E7(t).then((e=>e.syncEngine))}function KO(t){return E7(t).then((e=>e.datastore))}async function zm(t){const e=await E7(t),n=e.eventManager;return n.onListen=FW.bind(null,e.syncEngine),n.onUnlisten=YW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XW.bind(null,e.syncEngine),n}function uJ(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,h,f){const m=new S7({next:v=>{m.Nu(),l.enqueueAndForget((()=>y7(s,p)));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new De(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?f.reject(new De(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new b7(_1(c.path),m,{includeMetadataChanges:!0,qa:!0});return v7(s,p)})(await zm(t),t.asyncQueue,e,n,r))),r.promise}function cJ(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,h,f){const m=new S7({next:v=>{m.Nu(),l.enqueueAndForget((()=>y7(s,p))),v.fromCache&&h.source==="server"?f.reject(new De(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new b7(c,m,{includeMetadataChanges:!0,qa:!0});return v7(s,p)})(await zm(t),t.asyncQueue,e,n,r))),r.promise}function hJ(t,e,n){const r=new Gi;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await KO(t);r.resolve((async function(l,c,h){const f=it(l),{request:m,gt:p,parent:v}=IZ(f.serializer,WQ(c),h);f.connection.$o||delete m.parent;const b=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,v,m,1)).filter((S=>!!S.result));Tt(b.length===1,64727);const w=b[0].result?.aggregateFields;return Object.keys(w).reduce(((S,E)=>(S[p[E]]=w[E],S)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function QO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ME=new Map;const ZO="firestore.googleapis.com",kE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZO,this.ssl=kE}else this.host=e.host,this.ssl=e.ssl??kE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BZ)throw new De(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pQ;switch(r.type){case"firstParty":return new _Q(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ME.get(n);r&&(qe("ComponentProvider","Removing Datastore"),ME.delete(n),r.terminate())})(this),Promise.resolve()}}function fJ(t,e,n,r={}){t=yr(t,I1);const i=wc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(bD(`https://${c}`),wD("Firestore",!0)),s.host!==ZO&&s.host!==c&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:c,ssl:i,emulatorOptions:r};if(!Ll(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=ur.MOCK_USER;else{f=UX(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ur(p)}t._authCredentials=new gQ(new zD(f,m))}}class Ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zh(n,hn._jsonSchema))return new hn(e,r||null,new Xe(Ft.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:zn("string",hn._jsonSchemaVersion),referencePath:zn("string")};class Co extends Ss{constructor(e,n,r){super(e,n,_1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Xe(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function Rl(t,e,...n){if(t=Ln(t),LD("collection","path",e),t instanceof I1){const r=Ft.fromString(e,...n);return $S(r),new Co(t,null,r)}{if(!(t instanceof hn||t instanceof Co))throw new De(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return $S(r),new Co(t.firestore,null,r)}}function Tn(t,e,...n){if(t=Ln(t),arguments.length===1&&(e=Q_.newId()),LD("doc","path",e),t instanceof I1){const r=Ft.fromString(e,...n);return GS(r),new hn(t,null,new Xe(r))}{if(!(t instanceof hn||t instanceof Co))throw new De(Se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return GS(r),new hn(t.firestore,t instanceof Co?t.converter:null,new Xe(r))}}const OE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c7(this,"async_queue_retry"),this._c=()=>{const r=Vv();r&&qe(OE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tc(e))throw e;qe(OE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",LE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=p7.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function VE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class xa extends I1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function dJ(t,e){const n=typeof t=="object"?t:TD(),r=typeof t=="string"?t:Am,i=X_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BX("firestore");s&&fJ(i,...s)}return i}function Rc(t){if(t._terminated)throw new De(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mJ(t),t._firestoreClient}function mJ(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new VQ(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class pJ{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class gJ{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(ir.fromBase64String(e))}catch(n){throw new De(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zh(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:zn("string",Qr._jsonSchemaVersion),bytes:zn("string")};class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uh{constructor(e){this._methodName=e}}class va{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:va._jsonSchemaVersion}}static fromJSON(e){if(zh(e,va._jsonSchema))return new va(e.latitude,e.longitude)}}va._jsonSchemaVersion="firestore/geoPoint/1.0",va._jsonSchema={type:zn("string",va._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};class ya{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ya._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zh(e,ya._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ya(e.vectorValues);throw new De(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ya._jsonSchemaVersion="firestore/vectorValue/1.0",ya._jsonSchema={type:zn("string",ya._jsonSchemaVersion),vectorValues:zn("object")};const vJ=/^__.*__$/;class yJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vh(e,this.data,n,this.fieldTransforms)}}class WO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class T7{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T7({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JO(this.Ac)&&vJ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _J{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||A1(e)}Cc(e,n,r,i=!1){return new T7({Ac:e,methodName:n,Dc:r,path:rr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N1(t){const e=t._freezeSettings(),n=A1(t._databaseId);return new _J(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ez(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);R7("Data must be an object, but it was:",l,r);const c=rz(r,l);let h,f;if(s.merge)h=new Zr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const v=e_(e,p,n);if(!l.contains(v))throw new De(Se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);az(m,v)||m.push(v)}h=new Zr(m),f=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=l.fieldTransforms;return new yJ(new gr(c),h,f)}class M1 extends Uh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof M1}}class A7 extends Uh{_toFieldTransform(e){return new dO(e.path,new vh)}isEqual(e){return e instanceof A7}}class C7 extends Uh{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new bh(e.serializer,lO(e.serializer,this.Fc));return new dO(e.path,n)}isEqual(e){return e instanceof C7&&this.Fc===e.Fc}}function tz(t,e,n,r){const i=t.Cc(1,e,n);R7("Data must be an object, but it was:",i,r);const s=[],l=gr.empty();Bo(r,((h,f)=>{const m=I7(e,h,n);f=Ln(f);const p=i.yc(m);if(f instanceof M1)s.push(m);else{const v=Hh(f,p);v!=null&&(s.push(m),l.set(m,v))}}));const c=new Zr(s);return new WO(l,c,i.fieldTransforms)}function nz(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[e_(e,r,n)],h=[i];if(s.length%2!=0)throw new De(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(e_(e,s[v])),h.push(s[v+1]);const f=[],m=gr.empty();for(let v=c.length-1;v>=0;--v)if(!az(f,c[v])){const b=c[v];let w=h[v];w=Ln(w);const S=l.yc(b);if(w instanceof M1)f.push(b);else{const E=Hh(w,S);E!=null&&(f.push(b),m.set(b,E))}}const p=new Zr(f);return new WO(m,p,l.fieldTransforms)}function bJ(t,e,n,r=!1){return Hh(n,t.Cc(r?4:3,e))}function Hh(t,e){if(iz(t=Ln(t)))return R7("Unsupported field value:",e,t),rz(t,e);if(t instanceof Uh)return(function(r,i){if(!JO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let h=Hh(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Jt.fromDate(r);return{timestampValue:Nm(i.serializer,s)}}if(r instanceof Jt){const s=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nm(i.serializer,s)}}if(r instanceof va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:wO(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:a7(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ya)return(function(l,c){return{mapValue:{fields:{[GD]:{stringValue:$D},[Cm]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return n7(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${g1(r)}`)})(t,e)}function rz(t,e){const n={};return PD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,((r,i)=>{const s=Hh(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function iz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof va||t instanceof Qr||t instanceof hn||t instanceof Uh||t instanceof ya)}function R7(t,e,n){if(!iz(n)||!VD(n)){const r=g1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function e_(t,e,n){if((e=Ln(e))instanceof jh)return e._internalPath;if(typeof e=="string")return I7(t,e);throw Lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const wJ=new RegExp("[~\\*/\\[\\]]");function I7(t,e,n){if(e.search(wJ)>=0)throw Lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw Lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lm(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new De(Se.INVALID_ARGUMENT,c+t+h)}function az(t,e){return t.some((n=>n.isEqual(e)))}class Vm{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xJ extends Vm{data(){return super.data()}}function k1(t,e){return typeof e=="string"?I7(t,e):e instanceof jh?e._internalPath:e._delegate._internalPath}function sz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N7{}class M7 extends N7{}function D1(t,e,...n){let r=[];e instanceof N7&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((h=>h instanceof k7)).length,c=s.filter((h=>h instanceof O1)).length;if(l>1||l>0&&c>0)throw new De(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class O1 extends M7{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O1(e,n,r)}_apply(e){const n=this._parse(e);return uz(e._query,n),new Ss(e.firestore,e.converter,G6(e._query,n))}_parse(e){const n=N1(e.firestore);return(function(s,l,c,h,f,m,p){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new De(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){PE(p,m);const w=[];for(const S of p)w.push(qE(h,s,S));v={arrayValue:{values:w}}}else v=qE(h,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||PE(p,m),v=bJ(c,l,p,m==="in"||m==="not-in");return On.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oz(t,e,n){const r=e,i=k1("where",t);return O1._create(i,r,n)}class k7 extends N7{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k7(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const h of c)uz(l,h),l=G6(l,h)})(e._query,n),new Ss(e.firestore,e.converter,G6(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D7 extends M7{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D7(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new De(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gh(s,l)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Ac(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function lz(t,e="asc"){const n=e,r=k1("orderBy",t);return D7._create(r,n)}class O7 extends M7{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new O7(e,n,r)}_apply(e){return new Ss(e.firestore,e.converter,Im(e._query,this._limit,this._limitType))}}function SJ(t){return O7._create("limit",t,"F")}function qE(t,e,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new De(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eO(e)&&n.indexOf("/")!==-1)throw new De(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ft.fromString(n));if(!Xe.isDocumentKey(r))throw new De(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(t,new Xe(r))}if(n instanceof hn)return eE(t,n._key);throw new De(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g1(n)}.`)}function PE(t,e){if(!Array.isArray(t)||t.length===0)throw new De(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uz(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cz{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Cm].arrayValue?.values?.map((r=>En(r.doubleValue)));return new ya(n)}convertGeoPoint(e){return new va(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=y1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);Tt(IO(r),9688,{name:e});const i=new mh(r.get(1),r.get(3)),s=new Xe(r.popFirst(5));return i.isEqual(n)||vs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function hz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class EJ extends cz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function TJ(){return new pJ("count")}class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ro extends Vm{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ro._jsonSchema={type:zn("string",Ro._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class nm extends Ro{data(e={}){return super.data(e)}}class Il{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nm(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new nm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $u(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const h=new nm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $u(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:AJ(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}function CJ(t){t=yr(t,hn);const e=yr(t.firestore,xa);return uJ(Rc(e),t._key).then((n=>dz(e,t,n)))}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:zn("string",Il._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};class Fh extends cz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function fz(t){t=yr(t,Ss);const e=yr(t.firestore,xa),n=Rc(e),r=new Fh(e);return sz(t._query),cJ(n,t._query).then((i=>new Il(e,r,t,i)))}function Nl(t,e,n){t=yr(t,hn);const r=yr(t.firestore,xa),i=hz(t.converter,e,n);return z7(r,[ez(N1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function vc(t,e,n,...r){t=yr(t,hn);const i=yr(t.firestore,xa),s=N1(i);let l;return l=typeof(e=Ln(e))=="string"||e instanceof jh?nz(s,"updateDoc",t._key,e,n,r):tz(s,"updateDoc",t._key,e),z7(i,[l.toMutation(t._key,cr.exists(!0))])}function z1(t){return z7(yr(t.firestore,xa),[new E1(t._key,cr.none())])}function Yu(t,...e){t=Ln(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||VE(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VE(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let s,l,c;if(t instanceof hn)l=yr(t.firestore,xa),c=_1(t._key.path),s={next:h=>{e[r]&&e[r](dz(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=yr(t,Ss);l=yr(h.firestore,xa),c=h._query;const f=new Fh(l);s={next:m=>{e[r]&&e[r](new Il(l,f,h,m))},error:e[r+1],complete:e[r+2]},sz(t._query)}return(function(f,m,p,v){const b=new S7(v),w=new b7(m,b,p);return f.asyncQueue.enqueueAndForget((async()=>v7(await zm(f),w))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>y7(await zm(f),w)))}})(Rc(l),c,i,s)}function z7(t,e){return(function(r,i){const s=new Gi;return r.asyncQueue.enqueueAndForget((async()=>KW(await lJ(r),i,s))),s.promise})(Rc(t),e)}function dz(t,e,n){const r=n.docs.get(e._key),i=new Fh(t);return new Ro(t,i,e._key,r,new $u(n.hasPendingWrites,n.fromCache),e.converter)}function RJ(t){return IJ(t,{count:TJ()})}function IJ(t,e){const n=yr(t.firestore,xa),r=Rc(n),i=zQ(e,((s,l)=>new mZ(l,s.aggregateType,s._internalFieldPath)));return hJ(r,t._query,i).then((s=>(function(c,h,f){const m=new Fh(c);return new gJ(h,m,f)})(n,t,s)))}const NJ={maxAttempts:5};function q0(t,e){if((t=Ln(t)).firestore!==e)throw new De(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class MJ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=N1(e)}get(e){const n=q0(e,this._firestore),r=new EJ(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Qe(24041);const s=i[0];if(s.isFoundDocument())return new Vm(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Vm(this._firestore,r,n._key,null,n.converter);throw Qe(18433,{doc:s})}))}set(e,n,r){const i=q0(e,this._firestore),s=hz(i.converter,n,r),l=ez(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const s=q0(e,this._firestore);let l;return l=typeof(n=Ln(n))=="string"||n instanceof jh?nz(this._dataReader,"Transaction.update",s._key,n,r,i):tz(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,l),this}delete(e){const n=q0(e,this._firestore);return this._transaction.delete(n._key),this}}class kJ extends MJ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=q0(e,this._firestore),r=new Fh(this._firestore);return super.get(e).then((i=>new Ro(this._firestore,r,n._key,i._document,new $u(!1,!1),n.converter)))}}function DJ(t,e,n){t=yr(t,xa);const r={...NJ,...n};return(function(s){if(s.maxAttempts<1)throw new De(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,l,c){const h=new Gi;return s.asyncQueue.enqueueAndForget((async()=>{const f=await KO(s);new aJ(s.asyncQueue,f,c,l,h).ju()})),h.promise})(Rc(t),(i=>e(new kJ(t,i))),r)}function OJ(){return new A7("serverTimestamp")}function zJ(t){return new C7("increment",t)}(function(e,n=!0){(function(i){Sc=i})(xc),cc(new Vl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new xa(new vQ(r.getProvider("auth-internal")),new bQ(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),To(jS,US,e),To(jS,US,"esm2020")})();var LJ="firebase",VJ="12.7.0";To(LJ,VJ,"app");function mz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qJ=mz,pz=new Dh("auth","Firebase",mz());const qm=new $_("@firebase/auth");function PJ(t,...e){qm.logLevel<=bt.WARN&&qm.warn(`Auth (${xc}): ${t}`,...e)}function rm(t,...e){qm.logLevel<=bt.ERROR&&qm.error(`Auth (${xc}): ${t}`,...e)}function Sa(t,...e){throw V7(t,...e)}function $i(t,...e){return V7(t,...e)}function L7(t,e,n){const r={...qJ(),[e]:n};return new Dh("auth","Firebase",r).create(e,{appName:t.name})}function Ml(t){return L7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sa(t,"argument-error"),L7(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function V7(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pz.create(t,...e)}function at(t,e,...n){if(!t)throw V7(e,...n)}function os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rm(e),new Error(e)}function _s(t,e){t||os(e)}function t_(){return typeof self<"u"&&self.location?.href||""}function jJ(){return BE()==="http:"||BE()==="https:"}function BE(){return typeof self<"u"&&self.location?.protocol||null}function UJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jJ()||XX()||"connection"in navigator)?navigator.onLine:!0}function HJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=GX()||KX()}get(){return UJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function q7(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$J=new Gh(3e4,6e4);function P7(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ic(t,e,n,r,i={}){return vz(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Oh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...s};return YX()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&wc(t.emulatorConfig.host)&&(f.credentials="include"),gz.fetch()(await yz(t,t.config.apiHost,n,c),f)})}async function vz(t,e,n){t._canInitEmulator=!1;const r={...FJ,...e};try{const i=new XJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ud(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ud(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ud(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw L7(t,m,f);Sa(t,m)}}catch(i){if(i instanceof xs)throw i;Sa(t,"network-request-failed",{message:String(i)})}}async function YJ(t,e,n,r,i={}){const s=await Ic(t,e,n,r,i);return"mfaPendingCredential"in s&&Sa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function yz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?q7(t.config,i):`${t.config.apiScheme}://${i}`;return GJ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class XJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),$J.get())})}}function Ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$i(t,e,r);return i.customData._tokenResponse=n,i}async function KJ(t,e){return Ic(t,"POST","/v1/accounts:delete",e)}async function Pm(t,e){return Ic(t,"POST","/v1/accounts:lookup",e)}function Z0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QJ(t,e=!1){const n=Ln(t),r=await n.getIdToken(e),i=B7(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Z0(Pv(i.auth_time)),issuedAtTime:Z0(Pv(i.iat)),expirationTime:Z0(Pv(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Pv(t){return Number(t)*1e3}function B7(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const i=gD(n);return i?JSON.parse(i):(rm("Failed to decode base64 JWT payload"),null)}catch(i){return rm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jE(t){const e=B7(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&ZJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class WJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class n_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z0(this.lastLoginAt),this.creationTime=Z0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bm(t){const e=t.auth,n=await t.getIdToken(),r=await wh(t,Pm(e,{idToken:n}));at(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?_z(i.providerUserInfo):[],l=eee(t.providerData,s),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new n_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function JJ(t){const e=Ln(t);await Bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _z(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tee(t,e){const n=await vz(t,{},async()=>{const r=Oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await yz(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&wc(t.emulatorConfig.host)&&(h.credentials="include"),gz.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nee(t,e){return Ic(t,"POST","/v2/accounts:revokeToken",P7(t,e))}class Wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=jE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tee(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Wu;return r&&(at(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wu,this.toJSON())}_performRefresh(){return os("not implemented")}}function ho(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new WJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new n_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wh(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QJ(this,e)}reload(){return JJ(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Ml(this.auth));const e=await this.getIdToken();return await wh(this,KJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:w,stsTokenManager:S}=n;at(p&&S,e,"internal-error");const E=Wu.fromJSON(this.name,S);at(typeof p=="string",e,"internal-error"),ho(r,e.name),ho(i,e.name),at(typeof v=="boolean",e,"internal-error"),at(typeof b=="boolean",e,"internal-error"),ho(s,e.name),ho(l,e.name),ho(c,e.name),ho(h,e.name),ho(f,e.name),ho(m,e.name);const C=new Fi({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:E,createdAt:f,lastLoginAt:m});return w&&Array.isArray(w)&&(C.providerData=w.map(O=>({...O}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wu;i.updateFromServerResponse(n);const s=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_z(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Wu;c.updateFromIdToken(r);const h=new Fi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new n_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,f),h}}const UE=new Map;function ls(t){_s(t instanceof Function,"Expected a class definition");let e=UE.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UE.set(t,e),e)}class bz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bz.type="NONE";const HE=bz;function im(t,e,n){return`firebase:${t}:${e}:${n}`}class Ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=im(this.userKey,i.apiKey,s),this.fullPersistenceKey=im("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pm(this.auth,{idToken:e}).catch(()=>{});return n?Fi._fromGetAccountInfoResponse(this.auth,n,e):null}return Fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ju(ls(HE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ls(HE);const l=im(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const v=await Pm(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Fi._fromGetAccountInfoResponse(e,v,m)}else p=Fi._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Ju(s,e,r):(s=h[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Ju(s,e,r))}}function FE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ez(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Az(e))return"Blackberry";if(Cz(e))return"Webos";if(xz(e))return"Safari";if((e.includes("chrome/")||Sz(e))&&!e.includes("edge/"))return"Chrome";if(Tz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wz(t=hr()){return/firefox\//i.test(t)}function xz(t=hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sz(t=hr()){return/crios\//i.test(t)}function Ez(t=hr()){return/iemobile/i.test(t)}function Tz(t=hr()){return/android/i.test(t)}function Az(t=hr()){return/blackberry/i.test(t)}function Cz(t=hr()){return/webos/i.test(t)}function j7(t=hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ree(t=hr()){return j7(t)&&!!window.navigator?.standalone}function iee(){return QX()&&document.documentMode===10}function Rz(t=hr()){return j7(t)||Tz(t)||Cz(t)||Az(t)||/windows phone/i.test(t)||Ez(t)}function Iz(t,e=[]){let n;switch(t){case"Browser":n=FE(hr());break;case"Worker":n=`${FE(hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xc}/${r}`}class aee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const h=e(s);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function see(t,e={}){return Ic(t,"GET","/v2/passwordPolicy",P7(t,e))}const oee=6;class lee{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oee,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class uee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new aee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pm(this,{idToken:e}),r=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ji(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(Ml(this));const n=e?Ln(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Ml(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(Ml(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await see(this),n=new lee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nee(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await Ju.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PJ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function L1(t){return Ln(t)}class GE{constructor(e){this.auth=e,this.observer=null,this.addObserver=iK(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let U7={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cee(t){U7=t}function hee(t){return U7.loadJS(t)}function fee(){return U7.gapiScript}function dee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function mee(t,e){const n=X_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ll(s,e??{}))return i;Sa(i,"already-initialized")}return n.initialize({options:e})}function pee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gee(t,e,n){const r=L1(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Nz(e),{host:l,port:c}=vee(e),h=c===null?"":`:${c}`,f={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(Ll(f,r.config.emulator)&&Ll(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,wc(l)?(bD(`${s}//${l}${h}`),wD("Auth",!0)):yee()}function Nz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vee(t){const e=Nz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$E(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:$E(l)}}}function $E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Mz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function ec(t,e){return YJ(t,"POST","/v1/accounts:signInWithIdp",P7(t,e))}const _ee="http://localhost";class Bl extends Mz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Bl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ec(e,n)}buildRequest(){const e={requestUri:_ee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oh(n)}return e}}class H7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $h extends H7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vo extends $h{constructor(){super("facebook.com")}static credential(e){return Bl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";class as extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bl._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class yo extends $h{constructor(){super("github.com")}static credential(e){return Bl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";class _o extends $h{constructor(){super("twitter.com")}static credential(e,n){return Bl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";class yc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fi._fromIdTokenResponse(e,r,i),l=YE(r);return new yc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=YE(r);return new yc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function YE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class jm extends xs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jm(e,n,r,i)}}function kz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(t,s,e,r):s})}async function bee(t,e,n=!1){const r=await wh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yc._forOperation(t,"link",r)}async function wee(t,e,n=!1){const{auth:r}=t;if(ji(r.app))return Promise.reject(Ml(r));const i="reauthenticate";try{const s=await wh(t,kz(r,i,e,t),n);at(s.idToken,r,"internal-error");const l=B7(s.idToken);at(l,r,"internal-error");const{sub:c}=l;return at(t.uid===c,r,"user-mismatch"),yc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Sa(r,"user-mismatch"),s}}async function xee(t,e,n=!1){if(ji(t.app))return Promise.reject(Ml(t));const r="signIn",i=await kz(t,r,e),s=await yc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function See(t,e,n,r){return Ln(t).onIdTokenChanged(e,n,r)}function Eee(t,e,n){return Ln(t).beforeAuthStateChanged(e,n)}function Tee(t,e,n,r){return Ln(t).onAuthStateChanged(e,n,r)}function Aee(t){return Ln(t).signOut()}const Um="__sak";class Dz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cee=1e3,Ree=10;class Oz extends Dz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);iee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ree):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Cee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oz.type="LOCAL";const Iee=Oz;class zz extends Dz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zz.type="SESSION";const Lz=zz;function Nee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class V1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new V1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),h=await Nee(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}V1.receivers=[];function F7(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Mee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,h)=>{const f=F7("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function _a(){return window}function kee(t){_a().location.href=t}function Vz(){return typeof _a().WorkerGlobalScope<"u"&&typeof _a().importScripts=="function"}async function Dee(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oee(){return navigator?.serviceWorker?.controller||null}function zee(){return Vz()?self:null}const qz="firebaseLocalStorageDb",Lee=1,Hm="firebaseLocalStorage",Pz="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function q1(t,e){return t.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function Vee(){const t=indexedDB.deleteDatabase(qz);return new Yh(t).toPromise()}function r_(){const t=indexedDB.open(qz,Lee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hm,{keyPath:Pz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await Vee(),e(await r_()))})})}async function XE(t,e,n){const r=q1(t,!0).put({[Pz]:e,value:n});return new Yh(r).toPromise()}async function qee(t,e){const n=q1(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function KE(t,e){const n=q1(t,!0).delete(e);return new Yh(n).toPromise()}const Pee=800,Bee=3;class Bz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Bee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=V1._getInstance(zee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Dee(),!this.activeServiceWorker)return;this.sender=new Mee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Oee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r_();return await XE(e,Um,"1"),await KE(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=q1(i,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bz.type="LOCAL";const jee=Bz;new Gh(3e4,6e4);function jz(t,e){return e?ls(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class G7 extends Mz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ec(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uee(t){return xee(t.auth,new G7(t),t.bypassAuthState)}function Hee(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),wee(n,new G7(t),t.bypassAuthState)}async function Fee(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),bee(n,new G7(t),t.bypassAuthState)}class Uz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uee;case"linkViaPopup":case"linkViaRedirect":return Fee;case"reauthViaPopup":case"reauthViaRedirect":return Hee;default:Sa(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gee=new Gh(2e3,1e4);async function $ee(t,e,n){if(ji(t.app))return Promise.reject($i(t,"operation-not-supported-in-this-environment"));const r=L1(t);BJ(t,e,H7);const i=jz(r,n);return new Tl(r,"signInViaPopup",e,i).executeNotNull()}class Tl extends Uz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=F7();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gee.get())};e()}}Tl.currentPopupAction=null;const Yee="pendingRedirect",am=new Map;class Xee extends Uz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=am.get(this.auth._key());if(!e){try{const r=await Kee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}am.set(this.auth._key(),e)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kee(t,e){const n=Wee(e),r=Zee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qee(t,e){am.set(t._key(),e)}function Zee(t){return ls(t._redirectPersistence)}function Wee(t){return im(Yee,t.config.apiKey,t.name)}async function Jee(t,e,n=!1){if(ji(t.app))return Promise.reject(Ml(t));const r=L1(t),i=jz(r,e),l=await new Xee(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const ete=600*1e3;class tte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hz(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError($i(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ete&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hz(t);default:return!1}}async function rte(t,e={}){return Ic(t,"GET","/v1/projects",e)}const ite=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ate=/^https?/;async function ste(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rte(t);for(const n of e)try{if(ote(n))return}catch{}Sa(t,"unauthorized-domain")}function ote(t){const e=t_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!ate.test(n))return!1;if(ite.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lte=new Gh(3e4,6e4);function ZE(){const t=_a().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ute(t){return new Promise((e,n)=>{function r(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n($i(t,"network-request-failed"))},timeout:lte.get()})}if(_a().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_a().gapi?.load)r();else{const i=dee("iframefcb");return _a()[i]=()=>{gapi.load?r():n($i(t,"network-request-failed"))},hee(`${fee()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw sm=null,e})}let sm=null;function cte(t){return sm=sm||ute(t),sm}const hte=new Gh(5e3,15e3),fte="__/auth/iframe",dte="emulator/auth/iframe",mte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gte(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?q7(e,dte):`https://${t.config.authDomain}/${fte}`,r={apiKey:e.apiKey,appName:t.name,v:xc},i=pte.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oh(r).slice(1)}`}async function vte(t){const e=await cte(t),n=_a().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:gte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mte,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=$i(t,"network-request-failed"),c=_a().setTimeout(()=>{s(l)},hte.get());function h(){_a().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(l)})}))}const yte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_te=500,bte=600,wte="_blank",xte="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ste(t,e,n,r=_te,i=bte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...yte,width:r.toString(),height:i.toString(),top:s,left:l},f=hr().toLowerCase();n&&(c=Sz(f)?wte:n),wz(f)&&(e=e||xte,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[b,w])=>`${v}${b}=${w},`,"");if(ree(f)&&c!=="_self")return Ete(e||"",c),new WE(null);const p=window.open(e||"",c,m);at(p,t,"popup-blocked");try{p.focus()}catch{}return new WE(p)}function Ete(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Tte="__/auth/handler",Ate="emulator/auth/handler",Cte=encodeURIComponent("fac");async function JE(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xc,eventId:i};if(e instanceof H7){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",rK(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof $h){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${Cte}=${encodeURIComponent(h)}`:"";return`${Rte(t)}?${Oh(c).slice(1)}${f}`}function Rte({config:t}){return t.emulator?q7(t,Ate):`https://${t.authDomain}/${Tte}`}const Bv="webStorageSupport";class Ite{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lz,this._completeRedirectFn=Jee,this._overrideRedirectResult=Qee}async _openPopup(e,n,r,i){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await JE(e,n,r,t_(),i);return Ste(e,s,F7())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await JE(e,n,r,t_(),i);return kee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vte(e),r=new tte(e);return n.register("authEvent",i=>(at(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bv,{type:Bv},i=>{const s=i?.[0]?.[Bv];s!==void 0&&n(!!s),Sa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ste(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rz()||xz()||j7()}}const Nte=Ite;var eT="@firebase/auth",tT="1.12.0";class Mte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dte(t){cc(new Vl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;at(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iz(t)},f=new uee(r,i,s,h);return pee(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cc(new Vl("auth-internal",e=>{const n=L1(e.getProvider("auth").getImmediate());return(r=>new Mte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(eT,tT,kte(t)),To(eT,tT,"esm2020")}const Ote=300,zte=_D("authIdTokenMaxAge")||Ote;let nT=null;const Lte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zte)return;const i=n?.token;nT!==i&&(nT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vte(t=TD()){const e=X_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mee(t,{popupRedirectResolver:Nte,persistence:[jee,Iee,Lz]}),r=_D("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Lte(s.toString());Eee(n,l,()=>l(n.currentUser)),See(n,c=>l(c))}}const i=vD("auth");return i&&gee(n,`http://${i}`),n}function qte(){return document.getElementsByTagName("head")?.[0]??document}cee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dte("Browser");const Pte={apiKey:"AIzaSyAIyve7JZp_0E3MNutgFkX0cAm9DqzfqC4",authDomain:"algebraic-structure-explorer.firebaseapp.com",projectId:"algebraic-structure-explorer",storageBucket:"algebraic-structure-explorer.firebasestorage.app",messagingSenderId:"195740710356",appId:"1:195740710356:web:132e427e9790fdc2705241",measurementId:"G-J5YLN1TFLL"},Fz=ED(Pte),qt=dJ(Fz),jv=Vte(Fz),Bte=new as,Fm={async syncUser(t){const e=Tn(qt,"users",t.uid);try{const n=await CJ(e);if(n.exists())return n.data();const r={uid:t.uid,email:t.email,displayName:t.displayName,role:"citizen",reputation:{creation:0,contributor:1},createdAt:OJ()};return await Nl(e,r),console.log(`[UserService] Created new profile for ${t.uid}`),r}catch(n){throw console.error("UserService: Sync failed",n),n}},async updateUserRole(t,e){const n=Tn(qt,"users",t);try{await vc(n,{role:e}),console.log(`[UserService] Role updated for ${t} -> ${e}`)}catch(r){throw console.error("UserService: Failed to update role",r),r}},async adjustReputation(t,e,n){const r=Tn(qt,"users",t),i=`reputation.${e}`;try{await vc(r,{[i]:zJ(n)})}catch(s){throw console.error("UserService: Failed to adjust reputation",s),s}}},Gz=ee.createContext(void 0),Nc=()=>{const t=ee.useContext(Gz);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},jte=({children:t})=>{const[e,n]=ee.useState(null),[r,i]=ee.useState(null),[s,l]=ee.useState(!0);ee.useEffect(()=>Tee(jv,async p=>{if(n(p),p)try{const v=await Fm.syncUser(p);i(v)}catch(v){console.error("AuthContext: Failed to sync user profile",v)}else i(null);l(!1)}),[]);const f={user:e,profile:r,loading:s,signInWithGoogle:async()=>{try{await $ee(jv,Bte)}catch(m){throw console.error("Login Failed:",m),m}},logout:()=>Aee(jv)};return I.jsx(Gz.Provider,{value:f,children:!s&&t})},Ute={async castVote(t,e,n,r){const i=Tn(qt,t,e),s=Tn(qt,t,e,"votes",n);try{await DJ(qt,async l=>{const c=await l.get(i),h=await l.get(s);if(!c.exists())throw new Error("Target document does not exist.");const f=c.data().stats||{greenVotes:0,blackVotes:0},m=h.exists()?h.data().choice:null;let p=f.greenVotes,v=f.blackVotes;m===r?(l.delete(s),r==="green"?p--:v--):(l.set(s,{choice:r,timestamp:Date.now()}),m==="green"&&p--,m==="black"&&v--,r==="green"?p++:v++),l.update(i,{stats:{greenVotes:Math.max(0,p),blackVotes:Math.max(0,v)}})})}catch(l){throw console.error("Governance Service: Vote Transaction failed",l),l}}},$z=(t,e,n,r)=>{const{user:i}=Nc(),[s,l]=ee.useState({greenVotes:n,blackVotes:r}),[c,h]=ee.useState(null),[f,m]=ee.useState(!1);ee.useEffect(()=>{l({greenVotes:n,blackVotes:r})},[n,r]),ee.useEffect(()=>{if(!i||!t){h(null);return}const v=Tn(qt,e,t,"votes",i.uid),b=Yu(v,w=>{if(w.exists()){const S=w.data();S.choice==="green"?h("up"):S.choice==="black"&&h("down")}else h(null)});return()=>b()},[i,t,e]);const p=ee.useCallback(async v=>{if(!i){rt.error("Please sign in to vote");return}m(!0);const b=v==="up"?"green":"black";try{await Ute.castVote(e,t,i.uid,b)}catch(w){console.error("Voting Failed:",w),rt.error("Vote failed. Please check your connection.")}finally{m(!1)}},[i,t,e]);return{stats:s,userVote:c,handleVote:p,isLoading:f}},Hte=10,Fte=-10,Yz=t=>{if(t.status==="deprecated")return"deprecated";if(t.status==="deadend")return"deadend";const e=t.stats?.greenVotes||0,n=t.stats?.blackVotes||0,r=e-n;return r>=Hte&&t.status==="unverified"?"verified":r<=Fte?"trash":t.status},Gte=({data:t})=>{const{stats:e,userVote:n,handleVote:r,isLoading:i}=$z(t.id,"nodes",t.stats?.greenVotes||0,t.stats?.blackVotes||0),l=`math-node-container status-${Yz({...t,stats:e})}`,c=`vote-btn ${n==="up"?"active-up":""}`,h=`vote-btn ${n==="down"?"active-down":""}`;return I.jsxs("div",{className:l,children:[I.jsx(lc,{type:"target",position:Ye.Top,style:{bottom:"0px"}}),I.jsx("div",{className:"math-display-area",children:I.jsx(Un,{latex:t.displayLatex})}),I.jsxs("div",{className:"math-node-stats",children:[I.jsxs("button",{className:c,onClick:f=>{f.stopPropagation(),r("up")},disabled:i,title:"Vote Valid (Green)",children:[" ",e.greenVotes]}),I.jsxs("button",{className:h,onClick:f=>{f.stopPropagation(),r("down")},disabled:i,title:"Vote Invalid (Black)",children:[" ",e.blackVotes]})]}),I.jsx(lc,{type:"source",position:Ye.Bottom,style:{bottom:"-25px"}})]})},$te="_panel_1lxn4_4",Yte="_sectionInherited_1lxn4_25",Xte="_sectionCurrent_1lxn4_32",Kte="_headerRow_1lxn4_38",Qte="_headerTitle_1lxn4_47",Zte="_closeBtn_1lxn4_52",Wte="_sectionTitle_1lxn4_67",Jte="_localPropHeader_1lxn4_83",ene="_collapsibleCard_1lxn4_94",tne="_sectionCollapsible_1lxn4_99",nne="_collapsibleHeader_1lxn4_102",rne="_collapsibleBody_1lxn4_110",ine="_listSection_1lxn4_119",ane="_listSectionTitle_1lxn4_123",sne="_inheritedItem_1lxn4_141",one="_toggleArrow_1lxn4_151",lne="_expanded_1lxn4_161",une="_headerContent_1lxn4_167",cne="_simpleHeader_1lxn4_175",hne="_theoremHeaderContent_1lxn4_182",fne="_inheritedList_1lxn4_209",dne="_inheritedLabel_1lxn4_215",mne="_localItemWrapper_1lxn4_223",pne="_proofToggleContainer_1lxn4_228",gne="_proofToggleBtn_1lxn4_232",vne="_latexBlock_1lxn4_243",yne="_proofBlock_1lxn4_248",_ne="_theoremName_1lxn4_258",bne="_statsContainer_1lxn4_266",wne="_miniDeleteBtn_1lxn4_275",xne="_inlineDisplay_1lxn4_294",Sne="_editIconBtn_1lxn4_300",Ene="_inlineEditContainer_1lxn4_318",Tne="_inlineInput_1lxn4_324",Ane="_saveBtn_1lxn4_337",Cne="_cancelBtn_1lxn4_337",Rne="_proposeBtn_1lxn4_366",Ine="_adminZone_1lxn4_383",Nne="_deleteBtn_1lxn4_392",Mne="_toggleContent_1lxn4_414",kne="_emptyState_1lxn4_421",et={panel:$te,sectionInherited:Yte,sectionCurrent:Xte,headerRow:Kte,headerTitle:Qte,closeBtn:Zte,sectionTitle:Wte,localPropHeader:Jte,collapsibleCard:ene,sectionCollapsible:tne,collapsibleHeader:nne,collapsibleBody:rne,listSection:ine,listSectionTitle:ane,inheritedItem:sne,toggleArrow:one,expanded:lne,headerContent:une,simpleHeader:cne,theoremHeaderContent:hne,inheritedList:fne,inheritedLabel:dne,localItemWrapper:mne,proofToggleContainer:pne,proofToggleBtn:gne,latexBlock:vne,proofBlock:yne,theoremName:_ne,statsContainer:bne,miniDeleteBtn:wne,inlineDisplay:xne,editIconBtn:Sne,inlineEditContainer:Ene,inlineInput:Tne,saveBtn:Ane,cancelBtn:Cne,proposeBtn:Rne,adminZone:Ine,deleteBtn:Nne,toggleContent:Mne,emptyState:kne},Dne=(t,e,n,r)=>{const i=e.find(c=>c.id===t),s={inheritedAxioms:[],inheritedTheorems:[],localTheorems:r.filter(c=>c.structureNodeId===t),localAxiom:void 0};if(!i)return s;s.localAxiom=n.find(c=>c.id===i.axiomId);let l=i.parentId;for(;l;){const c=e.find(m=>m.id===l);if(!c)break;const h=n.find(m=>m.id===c.axiomId);h&&s.inheritedAxioms.unshift(h);const f=r.filter(m=>m.structureNodeId===c.id);s.inheritedTheorems.unshift(...f),l=c.parentId}return s},One="_overlay_1snfz_2",zne="_container_1snfz_16",Lne="_header_1snfz_28",Vne="_closeButton_1snfz_43",qne="_body_1snfz_51",Pne="_description_1snfz_61",Bne="_contextBox_1snfz_68",jne="_contextLabel_1snfz_76",Une="_separator_1snfz_84",Hne="_group_1snfz_93",Fne="_label_1snfz_99",Gne="_input_1snfz_105",$ne="_textarea_1snfz_105",Yne="_preview_1snfz_113",Xne="_footer_1snfz_125",Kne="_cancelBtn_1snfz_134",Qne="_submitBtn_1snfz_142",Zne="_drawerOverlay_1snfz_158",Wne="_drawer_1snfz_158",Jne="_drawerHeader_1snfz_184",ere="_drawerSearch_1snfz_199",tre="_drawerBody_1snfz_205",nre="_libraryItem_1snfz_214",rre="_libraryItemHeader_1snfz_231",ire="_libraryItemTag_1snfz_240",are="_inputGroupRow_1snfz_260",sre="_browseBtn_1snfz_267",ore="_inputLocked_1snfz_286",lre="_suggestionsDropdown_1snfz_298",ure="_suggestionItem_1snfz_312",cre="_suggestionDetail_1snfz_328",Oe={overlay:One,container:zne,header:Lne,closeButton:Vne,body:qne,description:Pne,contextBox:Bne,contextLabel:jne,separator:Une,group:Hne,label:Fne,input:Gne,textarea:$ne,preview:Yne,footer:Xne,cancelBtn:Kne,submitBtn:Qne,drawerOverlay:Zne,drawer:Wne,drawerHeader:Jne,drawerSearch:ere,drawerBody:tre,libraryItem:nre,libraryItemHeader:rre,libraryItemTag:ire,inputGroupRow:are,browseBtn:sre,inputLocked:ore,suggestionsDropdown:lre,suggestionItem:ure,suggestionDetail:cre},hre=({isOpen:t,onClose:e,onSelect:n,availableTheorems:r})=>{const[i,s]=ee.useState(""),l=ee.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.name.toLowerCase().includes(c)||h.statementLatex.toLowerCase().includes(c))},[r,i]);return t?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:Oe.drawerOverlay,onClick:e}),I.jsxs("div",{className:Oe.drawer,children:[I.jsxs("div",{className:Oe.drawerHeader,children:[I.jsx("h3",{children:"Theorem Library"}),I.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),I.jsx("div",{className:Oe.drawerSearch,children:I.jsx("input",{className:Oe.input,placeholder:"Search theorems (e.g. 'Identity')...",value:i,onChange:c=>s(c.target.value),autoFocus:!0})}),I.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>I.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to use this theorem as a template",children:[I.jsxs("div",{className:Oe.libraryItemHeader,children:[I.jsx("strong",{children:c.name}),I.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),I.jsx("div",{className:Oe.preview,style:{marginBottom:"5px"},children:I.jsx(Un,{latex:c.statementLatex})}),I.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Proof: ",c.proofLatex]})]},c.id)):I.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No theorems found matching "',i,'"']})})]})]}):null},fre=({structureName:t,availableTheorems:e,onClose:n,onSubmit:r})=>{const[i,s]=ee.useState(""),[l,c]=ee.useState(""),[h,f]=ee.useState(""),[m,p]=ee.useState(!1),[v,b]=ee.useState(!1),w=ee.useMemo(()=>{if(!i)return[];const C=i.toLowerCase();return e.filter(O=>O.name.toLowerCase().includes(C)).slice(0,5)},[i,e]),S=C=>{s(C.name),c(C.statementLatex),f(C.proofLatex),b(!1),p(!1)},E=()=>{!i||!l||!h||(r({name:i,statementLatex:l,proofLatex:h}),n())};return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:Oe.overlay,children:I.jsxs("div",{className:Oe.container,children:[I.jsxs("div",{className:Oe.header,children:[I.jsx("h2",{children:"Propose Theorem"}),I.jsx("button",{className:Oe.closeButton,onClick:n,children:""})]}),I.jsxs("div",{className:Oe.body,children:[I.jsxs("p",{className:Oe.description,children:["Add a new property or theorem to ",I.jsx("strong",{children:t}),"."]}),I.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[I.jsx("label",{className:Oe.label,children:"1. Theorem Name"}),I.jsxs("div",{className:Oe.inputGroupRow,children:[I.jsx("input",{className:Oe.input,placeholder:"e.g. Uniqueness of Identity",value:i,onChange:C=>{s(C.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),autoComplete:"off"}),I.jsx("button",{className:Oe.browseBtn,onClick:()=>p(!0),title:"Browse Theorem Library",children:""})]}),v&&w.length>0&&I.jsx("div",{className:Oe.suggestionsDropdown,children:w.map(C=>I.jsx("div",{className:Oe.suggestionItem,onClick:()=>S(C),children:I.jsx("strong",{children:C.name})},C.id))})]}),I.jsxs("div",{className:Oe.group,children:[I.jsx("label",{className:Oe.label,children:"Statement (LaTeX)"}),I.jsx("textarea",{className:Oe.textarea,rows:2,value:l,onChange:C=>c(C.target.value),placeholder:"\\forall g \\in G, ..."}),I.jsx("div",{className:Oe.preview,children:I.jsx(Un,{latex:l||"Preview..."})})]}),I.jsxs("div",{className:Oe.group,children:[I.jsx("label",{className:Oe.label,children:"Proof (LaTeX)"}),I.jsx("textarea",{className:Oe.textarea,rows:4,value:h,onChange:C=>f(C.target.value),placeholder:"Suppose e and e' are identities..."}),I.jsx("div",{className:Oe.preview,children:I.jsx(Un,{latex:h||"Preview..."})})]})]}),I.jsxs("div",{className:Oe.footer,children:[I.jsx("button",{className:Oe.cancelBtn,onClick:n,children:"Cancel"}),I.jsx("button",{className:Oe.submitBtn,onClick:E,children:"Propose Theorem"})]})]})}),I.jsx(hre,{isOpen:m,onClose:()=>p(!1),onSelect:S,availableTheorems:e})]})},i_={async createStructure(t,e){const n=Date.now();let r=t.existingAxiomId;if(!r){if(!t.axiomName||!t.axiomLatex)throw new Error("Missing axiom definition.");r=`ax-${n}`;const l={id:r,canonicalName:t.axiomName,aliases:[],defaultLatex:t.axiomLatex,authorId:e,createdAt:n};try{await Nl(Tn(qt,"axioms",l.id),l)}catch(c){throw console.error("Service Error: Failed to create new Axiom",c),c}}const s={id:`struct-${n}`,type:"algebraic structure",parentId:t.parentId,axiomId:r,authorId:e,displayLatex:t.structureName,status:"unverified",rootContextId:t.rootContextId,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:n};try{await Nl(Tn(qt,"nodes",s.id),s)}catch(l){throw console.error("Service Error: Failed to create Structure Node",l),l}},async deleteStructure(t){try{await z1(Tn(qt,"nodes",t))}catch(e){throw console.error("Service Error: Failed to delete Structure Node",e),e}},async updateStructure(t,e){try{await vc(Tn(qt,"nodes",t),e)}catch(n){throw console.error("Service Error: Failed to update Structure Node",n),n}}},Gm={async createTheorem(t,e,n){const r=Date.now(),i=`th-${r}`,s={id:i,structureNodeId:t,name:e.name,aliases:[],statementLatex:e.statementLatex,proofLatex:e.proofLatex,authorId:n,createdAt:r,status:"unverified",stats:{greenVotes:0,blackVotes:0}};try{await Nl(Tn(qt,"theorems",i),s)}catch(l){throw console.error("Service Error: Failed to create Theorem",l),l}},async deleteTheorem(t){try{await z1(Tn(qt,"theorems",t))}catch(e){throw console.error("Service Error: Failed to delete Theorem",e),e}},async updateTheorem(t,e){try{await vc(Tn(qt,"theorems",t),e)}catch(n){throw console.error("Service Error: Failed to update Theorem",n),n}}},a_={async updateAxiom(t,e){try{await vc(Tn(qt,"axioms",t),e)}catch(n){throw console.error("Service Error: Failed to update Axiom",n),n}},async deleteAxiom(t){try{await z1(Tn(qt,"axioms",t))}catch(e){throw console.error("Service Error: Failed to delete Axiom",e),e}}},$7=({value:t,onSave:e,isAdmin:n,className:r})=>{const[i,s]=ee.useState(!1),[l,c]=ee.useState(t),h=async m=>{if(m.stopPropagation(),l.trim()===t){s(!1);return}try{await e(l),rt.success("Update saved"),s(!1)}catch(p){console.error("Inline Edit Failed:",p),rt.error("Update failed")}},f=m=>{m.stopPropagation(),c(t),s(!1)};return i?I.jsxs("div",{className:et.inlineEditContainer,onClick:m=>m.stopPropagation(),children:[I.jsx("input",{className:et.inlineInput,value:l,onChange:m=>c(m.target.value),autoFocus:!0}),I.jsx("button",{onClick:h,className:et.saveBtn,title:"Save",children:""}),I.jsx("button",{onClick:f,className:et.cancelBtn,title:"Cancel",children:""})]}):I.jsxs("div",{className:`${et.inlineDisplay} ${r||""}`,children:[t.trim().startsWith("\\")?I.jsx(Un,{latex:t}):t,n&&I.jsx("button",{onClick:m=>{m.stopPropagation(),s(!0)},className:et.editIconBtn,title:"Edit Name",children:""})]})},W0=({header:t,children:e,defaultOpen:n=!1,className:r=""})=>{const[i,s]=ee.useState(n);return I.jsxs("div",{className:`${et.collapsibleCard} ${r}`,children:[I.jsxs("div",{className:`${et.collapsibleHeader} ${i?et.expanded:""}`,onClick:()=>s(!i),children:[I.jsx("span",{className:et.toggleArrow,children:""}),I.jsx("div",{className:et.headerContent,children:t})]}),i&&I.jsx("div",{className:et.collapsibleBody,children:e})]})},Uv=({label:t,name:e,latex:n,proof:r,isAdmin:i,onSaveName:s})=>{const[l,c]=ee.useState(!1);return I.jsxs(W0,{className:et.inheritedItem,header:I.jsxs("div",{className:et.simpleHeader,children:[I.jsxs("span",{className:et.inheritedLabel,children:[t,":"]}),I.jsx($7,{value:e,onSave:s,isAdmin:i})]}),children:[I.jsx("div",{className:et.latexBlock,children:I.jsx(Un,{latex:n})}),r&&I.jsxs("div",{className:et.proofToggleContainer,children:[I.jsx("button",{onClick:h=>{h.stopPropagation(),c(!l)},className:et.proofToggleBtn,children:l?"Hide Proof":"Show Proof"}),l&&I.jsxs("div",{className:et.proofBlock,children:[I.jsx("strong",{children:"Proof:"})," ",I.jsx(Un,{latex:r})]})]})]})},dre=({theorem:t,onDelete:e})=>{const{profile:n}=Nc(),r=n?.role==="admin",{stats:i,userVote:s,handleVote:l,isLoading:c}=$z(t.id,"theorems",t.stats.greenVotes,t.stats.blackVotes),f=`theorem-item status-${Yz({...t,stats:i})}`,m=async p=>{await Gm.updateTheorem(t.id,{name:p})};return I.jsxs(W0,{className:f,header:I.jsxs("div",{className:et.theoremHeaderContent,children:[I.jsx("div",{className:et.theoremName,children:I.jsx($7,{value:t.name,onSave:m,isAdmin:r})}),I.jsxs("div",{className:`math-node-stats ${et.statsContainer}`,onClick:p=>p.stopPropagation(),children:[I.jsxs("button",{className:`vote-btn ${s==="up"?"active-up":""}`,onClick:p=>{p.stopPropagation(),l("up")},disabled:c,title:"Vote Valid",children:[" ",i.greenVotes]}),I.jsxs("button",{className:`vote-btn ${s==="down"?"active-down":""}`,onClick:p=>{p.stopPropagation(),l("down")},disabled:c,title:"Vote Invalid",children:[" ",i.blackVotes]}),r&&e&&I.jsx("button",{onClick:p=>{p.stopPropagation(),e(t.id)},className:et.miniDeleteBtn,title:"Delete Theorem",children:""})]})]}),children:[I.jsx("div",{className:et.latexBlock,children:I.jsx(Un,{latex:t.statementLatex})}),t.proofLatex&&I.jsxs("div",{className:et.proofBlock,children:[I.jsx("strong",{children:"Proof:"})," ",I.jsx(Un,{latex:t.proofLatex})]})]})},mre=t=>{const{profile:e}=Nc(),n=e?.role==="admin",{node:r,allNodes:i,allAxioms:s,allTheorems:l,onClose:c,onAddTheorem:h,onDelete:f,onDeleteTheorem:m}=t,p=Dne(r.id,i,s,l),[v,b]=ee.useState(!1),w=async S=>{await i_.updateStructure(r.id,{displayLatex:S})};return I.jsxs("div",{className:et.panel,children:[I.jsxs("div",{className:et.headerRow,children:[I.jsx("h3",{className:et.headerTitle,children:"Structure Details"}),I.jsx("button",{onClick:c,className:et.closeBtn,children:"Close "})]}),I.jsx("section",{className:et.sectionInherited,children:I.jsx(W0,{header:I.jsx("h4",{className:et.sectionTitle,style:{margin:0,border:"none"},children:"Heritage"}),defaultOpen:!0,className:et.sectionCollapsible,children:I.jsxs("div",{className:et.toggleContent,children:[I.jsx(W0,{header:I.jsx("h5",{className:et.listSectionTitle,children:"Inherited Axioms"}),defaultOpen:!0,className:et.listSection,children:p.inheritedAxioms.length>0?I.jsx("div",{className:et.inheritedList,children:p.inheritedAxioms.map(S=>I.jsx(Uv,{label:"Axiom",name:S.canonicalName,latex:S.defaultLatex,isAdmin:n,onSaveName:async E=>{await a_.updateAxiom(S.id,{canonicalName:E})}},S.id))}):I.jsx("span",{className:et.emptyState,children:"None"})}),I.jsx(W0,{header:I.jsx("h5",{className:et.listSectionTitle,children:"Inherited Theorems"}),defaultOpen:!1,className:et.listSection,children:p.inheritedTheorems&&p.inheritedTheorems.length>0?I.jsx("div",{className:et.inheritedList,children:p.inheritedTheorems.map(S=>I.jsx(Uv,{label:"Theorem",name:S.name,latex:S.statementLatex,proof:S.proofLatex,isAdmin:n,onSaveName:async E=>{await Gm.updateTheorem(S.id,{name:E})}},S.id))}):I.jsx("span",{className:et.emptyState,children:"None"})})]})})}),I.jsxs("section",{className:et.sectionCurrent,children:[I.jsx("h3",{children:I.jsx($7,{value:r.displayLatex,onSave:w,isAdmin:n})}),p.localAxiom&&I.jsx("div",{className:et.localItemWrapper,children:I.jsx(Uv,{label:"Local Axiom",name:p.localAxiom.canonicalName,latex:p.localAxiom.defaultLatex,isAdmin:n,onSaveName:async S=>{await a_.updateAxiom(p.localAxiom.id,{canonicalName:S})}})}),I.jsxs("div",{className:et.localPropHeader,children:[I.jsx("h4",{children:"Local Theorems:"}),I.jsx("button",{onClick:()=>b(!0),className:et.proposeBtn,children:"+ Add Theorem"})]}),p.localTheorems.length>0?I.jsx("div",{className:et.inheritedList,children:p.localTheorems.map(S=>I.jsx(dre,{theorem:S,onDelete:m},S.id))}):I.jsx("p",{className:et.emptyState,children:"No properties defined locally."})]}),v&&I.jsx(fre,{structureName:r.displayLatex,availableTheorems:l,onClose:()=>b(!1),onSubmit:h}),n&&I.jsx("div",{className:et.adminZone,children:I.jsx("button",{onClick:()=>f(r.id),className:et.deleteBtn,children:"DELETE STRUCTURE"})})]})};function Y7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hv,rT;function pre(){if(rT)return Hv;rT=1;function t(){this.__data__=[],this.size=0}return Hv=t,Hv}var Fv,iT;function Mc(){if(iT)return Fv;iT=1;function t(e,n){return e===n||e!==e&&n!==n}return Fv=t,Fv}var Gv,aT;function P1(){if(aT)return Gv;aT=1;var t=Mc();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Gv=e,Gv}var $v,sT;function gre(){if(sT)return $v;sT=1;var t=P1(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():n.call(s,l,1),--this.size,!0}return $v=r,$v}var Yv,oT;function vre(){if(oT)return Yv;oT=1;var t=P1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Yv=e,Yv}var Xv,lT;function yre(){if(lT)return Xv;lT=1;var t=P1();function e(n){return t(this.__data__,n)>-1}return Xv=e,Xv}var Kv,uT;function _re(){if(uT)return Kv;uT=1;var t=P1();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Kv=e,Kv}var Qv,cT;function B1(){if(cT)return Qv;cT=1;var t=pre(),e=gre(),n=vre(),r=yre(),i=_re();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Qv=s,Qv}var Zv,hT;function bre(){if(hT)return Zv;hT=1;var t=B1();function e(){this.__data__=new t,this.size=0}return Zv=e,Zv}var Wv,fT;function wre(){if(fT)return Wv;fT=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Wv=t,Wv}var Jv,dT;function xre(){if(dT)return Jv;dT=1;function t(e){return this.__data__.get(e)}return Jv=t,Jv}var ey,mT;function Sre(){if(mT)return ey;mT=1;function t(e){return this.__data__.has(e)}return ey=t,ey}var ty,pT;function Xz(){if(pT)return ty;pT=1;var t=typeof vd=="object"&&vd&&vd.Object===Object&&vd;return ty=t,ty}var ny,gT;function Qi(){if(gT)return ny;gT=1;var t=Xz(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return ny=n,ny}var ry,vT;function kc(){if(vT)return ry;vT=1;var t=Qi(),e=t.Symbol;return ry=e,ry}var iy,yT;function Ere(){if(yT)return iy;yT=1;var t=kc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var c=n.call(l,i),h=l[i];try{l[i]=void 0;var f=!0}catch{}var m=r.call(l);return f&&(c?l[i]=h:delete l[i]),m}return iy=s,iy}var ay,_T;function Tre(){if(_T)return ay;_T=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return ay=n,ay}var sy,bT;function Fl(){if(bT)return sy;bT=1;var t=kc(),e=Ere(),n=Tre(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:s&&s in Object(c)?e(c):n(c)}return sy=l,sy}var oy,wT;function Ti(){if(wT)return oy;wT=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return oy=t,oy}var ly,xT;function Xh(){if(xT)return ly;xT=1;var t=Fl(),e=Ti(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var h=t(c);return h==r||h==i||h==n||h==s}return ly=l,ly}var uy,ST;function Are(){if(ST)return uy;ST=1;var t=Qi(),e=t["__core-js_shared__"];return uy=e,uy}var cy,ET;function Cre(){if(ET)return cy;ET=1;var t=Are(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return cy=n,cy}var hy,TT;function Kz(){if(TT)return hy;TT=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return hy=n,hy}var fy,AT;function Rre(){if(AT)return fy;AT=1;var t=Xh(),e=Cre(),n=Ti(),r=Kz(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,f=c.hasOwnProperty,m=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||e(v))return!1;var b=t(v)?m:s;return b.test(r(v))}return fy=p,fy}var dy,CT;function Ire(){if(CT)return dy;CT=1;function t(e,n){return e?.[n]}return dy=t,dy}var my,RT;function Gl(){if(RT)return my;RT=1;var t=Rre(),e=Ire();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return my=n,my}var py,IT;function X7(){if(IT)return py;IT=1;var t=Gl(),e=Qi(),n=t(e,"Map");return py=n,py}var gy,NT;function j1(){if(NT)return gy;NT=1;var t=Gl(),e=t(Object,"create");return gy=e,gy}var vy,MT;function Nre(){if(MT)return vy;MT=1;var t=j1();function e(){this.__data__=t?t(null):{},this.size=0}return vy=e,vy}var yy,kT;function Mre(){if(kT)return yy;kT=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return yy=t,yy}var _y,DT;function kre(){if(DT)return _y;DT=1;var t=j1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return r.call(l,s)?l[s]:void 0}return _y=i,_y}var by,OT;function Dre(){if(OT)return by;OT=1;var t=j1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return by=r,by}var wy,zT;function Ore(){if(zT)return wy;zT=1;var t=j1(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return wy=n,wy}var xy,LT;function zre(){if(LT)return xy;LT=1;var t=Nre(),e=Mre(),n=kre(),r=Dre(),i=Ore();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,xy=s,xy}var Sy,VT;function Lre(){if(VT)return Sy;VT=1;var t=zre(),e=B1(),n=X7();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Sy=r,Sy}var Ey,qT;function Vre(){if(qT)return Ey;qT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Ey=t,Ey}var Ty,PT;function U1(){if(PT)return Ty;PT=1;var t=Vre();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ty=e,Ty}var Ay,BT;function qre(){if(BT)return Ay;BT=1;var t=U1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Ay=e,Ay}var Cy,jT;function Pre(){if(jT)return Cy;jT=1;var t=U1();function e(n){return t(this,n).get(n)}return Cy=e,Cy}var Ry,UT;function Bre(){if(UT)return Ry;UT=1;var t=U1();function e(n){return t(this,n).has(n)}return Ry=e,Ry}var Iy,HT;function jre(){if(HT)return Iy;HT=1;var t=U1();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Iy=e,Iy}var Ny,FT;function K7(){if(FT)return Ny;FT=1;var t=Lre(),e=qre(),n=Pre(),r=Bre(),i=jre();function s(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var f=l[c];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ny=s,Ny}var My,GT;function Ure(){if(GT)return My;GT=1;var t=B1(),e=X7(),n=K7(),r=200;function i(s,l){var c=this.__data__;if(c instanceof t){var h=c.__data__;if(!e||h.length<r-1)return h.push([s,l]),this.size=++c.size,this;c=this.__data__=new n(h)}return c.set(s,l),this.size=c.size,this}return My=i,My}var ky,$T;function H1(){if($T)return ky;$T=1;var t=B1(),e=bre(),n=wre(),r=xre(),i=Sre(),s=Ure();function l(c){var h=this.__data__=new t(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,ky=l,ky}var Dy,YT;function Q7(){if(YT)return Dy;YT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return Dy=t,Dy}var Oy,XT;function Qz(){if(XT)return Oy;XT=1;var t=Gl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Oy=e,Oy}var zy,KT;function F1(){if(KT)return zy;KT=1;var t=Qz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return zy=e,zy}var Ly,QT;function G1(){if(QT)return Ly;QT=1;var t=F1(),e=Mc(),n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c){var h=s[l];(!(r.call(s,l)&&e(h,c))||c===void 0&&!(l in s))&&t(s,l,c)}return Ly=i,Ly}var Vy,ZT;function Kh(){if(ZT)return Vy;ZT=1;var t=G1(),e=F1();function n(r,i,s,l){var c=!s;s||(s={});for(var h=-1,f=i.length;++h<f;){var m=i[h],p=l?l(s[m],r[m],m,s,r):void 0;p===void 0&&(p=r[m]),c?e(s,m,p):t(s,m,p)}return s}return Vy=n,Vy}var qy,WT;function Hre(){if(WT)return qy;WT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return qy=t,qy}var Py,JT;function Ra(){if(JT)return Py;JT=1;function t(e){return e!=null&&typeof e=="object"}return Py=t,Py}var By,eA;function Fre(){if(eA)return By;eA=1;var t=Fl(),e=Ra(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return By=r,By}var jy,tA;function Qh(){if(tA)return jy;tA=1;var t=Fre(),e=Ra(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return jy=s,jy}var Uy,nA;function Pn(){if(nA)return Uy;nA=1;var t=Array.isArray;return Uy=t,Uy}var P0={exports:{}},Hy,rA;function Gre(){if(rA)return Hy;rA=1;function t(){return!1}return Hy=t,Hy}P0.exports;var iA;function Dc(){return iA||(iA=1,(function(t,e){var n=Qi(),r=Gre(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,c=l?n.Buffer:void 0,h=c?c.isBuffer:void 0,f=h||r;t.exports=f})(P0,P0.exports)),P0.exports}var Fy,aA;function $1(){if(aA)return Fy;aA=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Fy=n,Fy}var Gy,sA;function Z7(){if(sA)return Gy;sA=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Gy=e,Gy}var $y,oA;function $re(){if(oA)return $y;oA=1;var t=Fl(),e=Z7(),n=Ra(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",w="[object String]",S="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",z="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",R="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",H="[object Uint32Array]",V={};V[O]=V[A]=V[z]=V[U]=V[q]=V[R]=V[k]=V[D]=V[H]=!0,V[r]=V[i]=V[E]=V[s]=V[C]=V[l]=V[c]=V[h]=V[f]=V[m]=V[p]=V[v]=V[b]=V[w]=V[S]=!1;function j(B){return n(B)&&e(B.length)&&!!V[t(B)]}return $y=j,$y}var Yy,lA;function Y1(){if(lA)return Yy;lA=1;function t(e){return function(n){return e(n)}}return Yy=t,Yy}var B0={exports:{}};B0.exports;var uA;function W7(){return uA||(uA=1,(function(t,e){var n=Xz(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,c=(function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(B0,B0.exports)),B0.exports}var Xy,cA;function Zh(){if(cA)return Xy;cA=1;var t=$re(),e=Y1(),n=W7(),r=n&&n.isTypedArray,i=r?e(r):t;return Xy=i,Xy}var Ky,hA;function Zz(){if(hA)return Ky;hA=1;var t=Hre(),e=Qh(),n=Pn(),r=Dc(),i=$1(),s=Zh(),l=Object.prototype,c=l.hasOwnProperty;function h(f,m){var p=n(f),v=!p&&e(f),b=!p&&!v&&r(f),w=!p&&!v&&!b&&s(f),S=p||v||b||w,E=S?t(f.length,String):[],C=E.length;for(var O in f)(m||c.call(f,O))&&!(S&&(O=="length"||b&&(O=="offset"||O=="parent")||w&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,C)))&&E.push(O);return E}return Ky=h,Ky}var Qy,fA;function X1(){if(fA)return Qy;fA=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Qy=e,Qy}var Zy,dA;function Wz(){if(dA)return Zy;dA=1;function t(e,n){return function(r){return e(n(r))}}return Zy=t,Zy}var Wy,mA;function Yre(){if(mA)return Wy;mA=1;var t=Wz(),e=t(Object.keys,Object);return Wy=e,Wy}var Jy,pA;function J7(){if(pA)return Jy;pA=1;var t=X1(),e=Yre(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))r.call(s,c)&&c!="constructor"&&l.push(c);return l}return Jy=i,Jy}var e4,gA;function Es(){if(gA)return e4;gA=1;var t=Xh(),e=Z7();function n(r){return r!=null&&e(r.length)&&!t(r)}return e4=n,e4}var t4,vA;function Uo(){if(vA)return t4;vA=1;var t=Zz(),e=J7(),n=Es();function r(i){return n(i)?t(i):e(i)}return t4=r,t4}var n4,yA;function Xre(){if(yA)return n4;yA=1;var t=Kh(),e=Uo();function n(r,i){return r&&t(i,e(i),r)}return n4=n,n4}var r4,_A;function Kre(){if(_A)return r4;_A=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return r4=t,r4}var i4,bA;function Qre(){if(bA)return i4;bA=1;var t=Ti(),e=X1(),n=Kre(),r=Object.prototype,i=r.hasOwnProperty;function s(l){if(!t(l))return n(l);var c=e(l),h=[];for(var f in l)f=="constructor"&&(c||!i.call(l,f))||h.push(f);return h}return i4=s,i4}var a4,wA;function $l(){if(wA)return a4;wA=1;var t=Zz(),e=Qre(),n=Es();function r(i){return n(i)?t(i,!0):e(i)}return a4=r,a4}var s4,xA;function Zre(){if(xA)return s4;xA=1;var t=Kh(),e=$l();function n(r,i){return r&&t(i,e(i),r)}return s4=n,s4}var j0={exports:{}};j0.exports;var SA;function Jz(){return SA||(SA=1,(function(t,e){var n=Qi(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function h(f,m){if(m)return f.slice();var p=f.length,v=c?c(p):new f.constructor(p);return f.copy(v),v}t.exports=h})(j0,j0.exports)),j0.exports}var o4,EA;function eL(){if(EA)return o4;EA=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return o4=t,o4}var l4,TA;function tL(){if(TA)return l4;TA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[s++]=c)}return l}return l4=t,l4}var u4,AA;function nL(){if(AA)return u4;AA=1;function t(){return[]}return u4=t,u4}var c4,CA;function eb(){if(CA)return c4;CA=1;var t=tL(),e=nL(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return c4=s,c4}var h4,RA;function Wre(){if(RA)return h4;RA=1;var t=Kh(),e=eb();function n(r,i){return t(r,e(r),i)}return h4=n,h4}var f4,IA;function tb(){if(IA)return f4;IA=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return f4=t,f4}var d4,NA;function K1(){if(NA)return d4;NA=1;var t=Wz(),e=t(Object.getPrototypeOf,Object);return d4=e,d4}var m4,MA;function rL(){if(MA)return m4;MA=1;var t=tb(),e=K1(),n=eb(),r=nL(),i=Object.getOwnPropertySymbols,s=i?function(l){for(var c=[];l;)t(c,n(l)),l=e(l);return c}:r;return m4=s,m4}var p4,kA;function Jre(){if(kA)return p4;kA=1;var t=Kh(),e=rL();function n(r,i){return t(r,e(r),i)}return p4=n,p4}var g4,DA;function iL(){if(DA)return g4;DA=1;var t=tb(),e=Pn();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return g4=n,g4}var v4,OA;function aL(){if(OA)return v4;OA=1;var t=iL(),e=eb(),n=Uo();function r(i){return t(i,n,e)}return v4=r,v4}var y4,zA;function eie(){if(zA)return y4;zA=1;var t=iL(),e=rL(),n=$l();function r(i){return t(i,n,e)}return y4=r,y4}var _4,LA;function tie(){if(LA)return _4;LA=1;var t=Gl(),e=Qi(),n=t(e,"DataView");return _4=n,_4}var b4,VA;function nie(){if(VA)return b4;VA=1;var t=Gl(),e=Qi(),n=t(e,"Promise");return b4=n,b4}var w4,qA;function sL(){if(qA)return w4;qA=1;var t=Gl(),e=Qi(),n=t(e,"Set");return w4=n,w4}var x4,PA;function rie(){if(PA)return x4;PA=1;var t=Gl(),e=Qi(),n=t(e,"WeakMap");return x4=n,x4}var S4,BA;function Oc(){if(BA)return S4;BA=1;var t=tie(),e=X7(),n=nie(),r=sL(),i=rie(),s=Fl(),l=Kz(),c="[object Map]",h="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",b=l(t),w=l(e),S=l(n),E=l(r),C=l(i),O=s;return(t&&O(new t(new ArrayBuffer(1)))!=v||e&&O(new e)!=c||n&&O(n.resolve())!=f||r&&O(new r)!=m||i&&O(new i)!=p)&&(O=function(A){var z=s(A),U=z==h?A.constructor:void 0,q=U?l(U):"";if(q)switch(q){case b:return v;case w:return c;case S:return f;case E:return m;case C:return p}return z}),S4=O,S4}var E4,jA;function iie(){if(jA)return E4;jA=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return E4=n,E4}var T4,UA;function oL(){if(UA)return T4;UA=1;var t=Qi(),e=t.Uint8Array;return T4=e,T4}var A4,HA;function nb(){if(HA)return A4;HA=1;var t=oL();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return A4=e,A4}var C4,FA;function aie(){if(FA)return C4;FA=1;var t=nb();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return C4=e,C4}var R4,GA;function sie(){if(GA)return R4;GA=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return R4=e,R4}var I4,$A;function oie(){if($A)return I4;$A=1;var t=kc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return I4=r,I4}var N4,YA;function lL(){if(YA)return N4;YA=1;var t=nb();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return N4=e,N4}var M4,XA;function lie(){if(XA)return M4;XA=1;var t=nb(),e=aie(),n=sie(),r=oie(),i=lL(),s="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",z="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",R="[object Uint32Array]";function k(D,H,V){var j=D.constructor;switch(H){case b:return t(D);case s:case l:return new j(+D);case w:return e(D,V);case S:case E:case C:case O:case A:case z:case U:case q:case R:return i(D,V);case c:return new j;case h:case p:return new j(D);case f:return n(D);case m:return new j;case v:return r(D)}}return M4=k,M4}var k4,KA;function uL(){if(KA)return k4;KA=1;var t=Ti(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return k4=n,k4}var D4,QA;function cL(){if(QA)return D4;QA=1;var t=uL(),e=K1(),n=X1();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return D4=r,D4}var O4,ZA;function uie(){if(ZA)return O4;ZA=1;var t=Oc(),e=Ra(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return O4=r,O4}var z4,WA;function cie(){if(WA)return z4;WA=1;var t=uie(),e=Y1(),n=W7(),r=n&&n.isMap,i=r?e(r):t;return z4=i,z4}var L4,JA;function hie(){if(JA)return L4;JA=1;var t=Oc(),e=Ra(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return L4=r,L4}var V4,eC;function fie(){if(eC)return V4;eC=1;var t=hie(),e=Y1(),n=W7(),r=n&&n.isSet,i=r?e(r):t;return V4=i,V4}var q4,tC;function hL(){if(tC)return q4;tC=1;var t=H1(),e=Q7(),n=G1(),r=Xre(),i=Zre(),s=Jz(),l=eL(),c=Wre(),h=Jre(),f=aL(),m=eie(),p=Oc(),v=iie(),b=lie(),w=cL(),S=Pn(),E=Dc(),C=cie(),O=Ti(),A=fie(),z=Uo(),U=$l(),q=1,R=2,k=4,D="[object Arguments]",H="[object Array]",V="[object Boolean]",j="[object Date]",B="[object Error]",K="[object Function]",ie="[object GeneratorFunction]",$="[object Map]",Z="[object Number]",re="[object Object]",le="[object RegExp]",_e="[object Set]",X="[object String]",te="[object Symbol]",ve="[object WeakMap]",Q="[object ArrayBuffer]",ae="[object DataView]",ce="[object Float32Array]",pe="[object Float64Array]",be="[object Int8Array]",Ce="[object Int16Array]",Le="[object Int32Array]",He="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ge="[object Uint32Array]",Be={};Be[D]=Be[H]=Be[Q]=Be[ae]=Be[V]=Be[j]=Be[ce]=Be[pe]=Be[be]=Be[Ce]=Be[Le]=Be[$]=Be[Z]=Be[re]=Be[le]=Be[_e]=Be[X]=Be[te]=Be[He]=Be[Ue]=Be[Pe]=Be[Ge]=!0,Be[B]=Be[K]=Be[ve]=!1;function st($e,Xt,lt,zt,Bn,Gn){var Qt,en=Xt&q,Qn=Xt&R,br=Xt&k;if(lt&&(Qt=Bn?lt($e,zt,Bn,Gn):lt($e)),Qt!==void 0)return Qt;if(!O($e))return $e;var wr=S($e);if(wr){if(Qt=v($e),!en)return l($e,Qt)}else{var $n=p($e),As=$n==K||$n==ie;if(E($e))return s($e,en);if($n==re||$n==D||As&&!Bn){if(Qt=Qn||As?{}:w($e),!en)return Qn?h($e,i(Qt,$e)):c($e,r(Qt,$e))}else{if(!Be[$n])return Bn?$e:{};Qt=b($e,$n,en)}}Gn||(Gn=new t);var Ci=Gn.get($e);if(Ci)return Ci;Gn.set($e,Qt),A($e)?$e.forEach(function(dn){Qt.add(st(dn,Xt,lt,dn,$e,Gn))}):C($e)&&$e.forEach(function(dn,Gt){Qt.set(Gt,st(dn,Xt,lt,Gt,$e,Gn))});var Cs=br?Qn?m:f:Qn?U:z,Ia=wr?void 0:Cs($e);return e(Ia||$e,function(dn,Gt){Ia&&(Gt=dn,dn=$e[Gt]),n(Qt,Gt,st(dn,Xt,lt,Gt,$e,Gn))}),Qt}return q4=st,q4}var P4,nC;function die(){if(nC)return P4;nC=1;var t=hL(),e=4;function n(r){return t(r,e)}return P4=n,P4}var B4,rC;function rb(){if(rC)return B4;rC=1;function t(e){return function(){return e}}return B4=t,B4}var j4,iC;function mie(){if(iC)return j4;iC=1;function t(e){return function(n,r,i){for(var s=-1,l=Object(n),c=i(n),h=c.length;h--;){var f=c[e?h:++s];if(r(l[f],f,l)===!1)break}return n}}return j4=t,j4}var U4,aC;function ib(){if(aC)return U4;aC=1;var t=mie(),e=t();return U4=e,U4}var H4,sC;function ab(){if(sC)return H4;sC=1;var t=ib(),e=Uo();function n(r,i){return r&&t(r,i,e)}return H4=n,H4}var F4,oC;function pie(){if(oC)return F4;oC=1;var t=Es();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var l=i.length,c=r?l:-1,h=Object(i);(r?c--:++c<l)&&s(h[c],c,h)!==!1;);return i}}return F4=e,F4}var G4,lC;function Q1(){if(lC)return G4;lC=1;var t=ab(),e=pie(),n=e(t);return G4=n,G4}var $4,uC;function Yl(){if(uC)return $4;uC=1;function t(e){return e}return $4=t,$4}var Y4,cC;function fL(){if(cC)return Y4;cC=1;var t=Yl();function e(n){return typeof n=="function"?n:t}return Y4=e,Y4}var X4,hC;function dL(){if(hC)return X4;hC=1;var t=Q7(),e=Q1(),n=fL(),r=Pn();function i(s,l){var c=r(s)?t:e;return c(s,n(l))}return X4=i,X4}var K4,fC;function mL(){return fC||(fC=1,K4=dL()),K4}var Q4,dC;function gie(){if(dC)return Q4;dC=1;var t=Q1();function e(n,r){var i=[];return t(n,function(s,l,c){r(s,l,c)&&i.push(s)}),i}return Q4=e,Q4}var Z4,mC;function vie(){if(mC)return Z4;mC=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Z4=e,Z4}var W4,pC;function yie(){if(pC)return W4;pC=1;function t(e){return this.__data__.has(e)}return W4=t,W4}var J4,gC;function pL(){if(gC)return J4;gC=1;var t=K7(),e=vie(),n=yie();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new t;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,J4=r,J4}var e2,vC;function _ie(){if(vC)return e2;vC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return e2=t,e2}var t2,yC;function gL(){if(yC)return t2;yC=1;function t(e,n){return e.has(n)}return t2=t,t2}var n2,_C;function vL(){if(_C)return n2;_C=1;var t=pL(),e=_ie(),n=gL(),r=1,i=2;function s(l,c,h,f,m,p){var v=h&r,b=l.length,w=c.length;if(b!=w&&!(v&&w>b))return!1;var S=p.get(l),E=p.get(c);if(S&&E)return S==c&&E==l;var C=-1,O=!0,A=h&i?new t:void 0;for(p.set(l,c),p.set(c,l);++C<b;){var z=l[C],U=c[C];if(f)var q=v?f(U,z,C,c,l,p):f(z,U,C,l,c,p);if(q!==void 0){if(q)continue;O=!1;break}if(A){if(!e(c,function(R,k){if(!n(A,k)&&(z===R||m(z,R,h,f,p)))return A.push(k)})){O=!1;break}}else if(!(z===U||m(z,U,h,f,p))){O=!1;break}}return p.delete(l),p.delete(c),O}return n2=s,n2}var r2,bC;function bie(){if(bC)return r2;bC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return r2=t,r2}var i2,wC;function sb(){if(wC)return i2;wC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return i2=t,i2}var a2,xC;function wie(){if(xC)return a2;xC=1;var t=kc(),e=oL(),n=Mc(),r=vL(),i=bie(),s=sb(),l=1,c=2,h="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",A=t?t.prototype:void 0,z=A?A.valueOf:void 0;function U(q,R,k,D,H,V,j){switch(k){case O:if(q.byteLength!=R.byteLength||q.byteOffset!=R.byteOffset)return!1;q=q.buffer,R=R.buffer;case C:return!(q.byteLength!=R.byteLength||!V(new e(q),new e(R)));case h:case f:case v:return n(+q,+R);case m:return q.name==R.name&&q.message==R.message;case b:case S:return q==R+"";case p:var B=i;case w:var K=D&l;if(B||(B=s),q.size!=R.size&&!K)return!1;var ie=j.get(q);if(ie)return ie==R;D|=c,j.set(q,R);var $=r(B(q),B(R),D,H,V,j);return j.delete(q),$;case E:if(z)return z.call(q)==z.call(R)}return!1}return a2=U,a2}var s2,SC;function xie(){if(SC)return s2;SC=1;var t=aL(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c,h,f,m){var p=c&e,v=t(s),b=v.length,w=t(l),S=w.length;if(b!=S&&!p)return!1;for(var E=b;E--;){var C=v[E];if(!(p?C in l:r.call(l,C)))return!1}var O=m.get(s),A=m.get(l);if(O&&A)return O==l&&A==s;var z=!0;m.set(s,l),m.set(l,s);for(var U=p;++E<b;){C=v[E];var q=s[C],R=l[C];if(h)var k=p?h(R,q,C,l,s,m):h(q,R,C,s,l,m);if(!(k===void 0?q===R||f(q,R,c,h,m):k)){z=!1;break}U||(U=C=="constructor")}if(z&&!U){var D=s.constructor,H=l.constructor;D!=H&&"constructor"in s&&"constructor"in l&&!(typeof D=="function"&&D instanceof D&&typeof H=="function"&&H instanceof H)&&(z=!1)}return m.delete(s),m.delete(l),z}return s2=i,s2}var o2,EC;function Sie(){if(EC)return o2;EC=1;var t=H1(),e=vL(),n=wie(),r=xie(),i=Oc(),s=Pn(),l=Dc(),c=Zh(),h=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function w(S,E,C,O,A,z){var U=s(S),q=s(E),R=U?m:i(S),k=q?m:i(E);R=R==f?p:R,k=k==f?p:k;var D=R==p,H=k==p,V=R==k;if(V&&l(S)){if(!l(E))return!1;U=!0,D=!1}if(V&&!D)return z||(z=new t),U||c(S)?e(S,E,C,O,A,z):n(S,E,R,C,O,A,z);if(!(C&h)){var j=D&&b.call(S,"__wrapped__"),B=H&&b.call(E,"__wrapped__");if(j||B){var K=j?S.value():S,ie=B?E.value():E;return z||(z=new t),A(K,ie,C,O,z)}}return V?(z||(z=new t),r(S,E,C,O,A,z)):!1}return o2=w,o2}var l2,TC;function yL(){if(TC)return l2;TC=1;var t=Sie(),e=Ra();function n(r,i,s,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,l,n,c)}return l2=n,l2}var u2,AC;function Eie(){if(AC)return u2;AC=1;var t=H1(),e=yL(),n=1,r=2;function i(s,l,c,h){var f=c.length,m=f,p=!h;if(s==null)return!m;for(s=Object(s);f--;){var v=c[f];if(p&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++f<m;){v=c[f];var b=v[0],w=s[b],S=v[1];if(p&&v[2]){if(w===void 0&&!(b in s))return!1}else{var E=new t;if(h)var C=h(w,S,b,s,l,E);if(!(C===void 0?e(S,w,n|r,h,E):C))return!1}}return!0}return u2=i,u2}var c2,CC;function _L(){if(CC)return c2;CC=1;var t=Ti();function e(n){return n===n&&!t(n)}return c2=e,c2}var h2,RC;function Tie(){if(RC)return h2;RC=1;var t=_L(),e=Uo();function n(r){for(var i=e(r),s=i.length;s--;){var l=i[s],c=r[l];i[s]=[l,c,t(c)]}return i}return h2=n,h2}var f2,IC;function bL(){if(IC)return f2;IC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return f2=t,f2}var d2,NC;function Aie(){if(NC)return d2;NC=1;var t=Eie(),e=Tie(),n=bL();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||t(l,i,s)}}return d2=r,d2}var m2,MC;function zc(){if(MC)return m2;MC=1;var t=Fl(),e=Ra(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return m2=r,m2}var p2,kC;function ob(){if(kC)return p2;kC=1;var t=Pn(),e=zc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return p2=i,p2}var g2,DC;function Cie(){if(DC)return g2;DC=1;var t=K7(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var l=arguments,c=i?i.apply(this,l):l[0],h=s.cache;if(h.has(c))return h.get(c);var f=r.apply(this,l);return s.cache=h.set(c,f)||h,f};return s.cache=new(n.Cache||t),s}return n.Cache=t,g2=n,g2}var v2,OC;function Rie(){if(OC)return v2;OC=1;var t=Cie(),e=500;function n(r){var i=t(r,function(l){return s.size===e&&s.clear(),l}),s=i.cache;return i}return v2=n,v2}var y2,zC;function Iie(){if(zC)return y2;zC=1;var t=Rie(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(l,c,h,f){s.push(h?f.replace(n,"$1"):c||l)}),s});return y2=r,y2}var _2,LC;function Z1(){if(LC)return _2;LC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return _2=t,_2}var b2,VC;function Nie(){if(VC)return b2;VC=1;var t=kc(),e=Z1(),n=Pn(),r=zc(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return b2=l,b2}var w2,qC;function wL(){if(qC)return w2;qC=1;var t=Nie();function e(n){return n==null?"":t(n)}return w2=e,w2}var x2,PC;function W1(){if(PC)return x2;PC=1;var t=Pn(),e=ob(),n=Iie(),r=wL();function i(s,l){return t(s)?s:e(s,l)?[s]:n(r(s))}return x2=i,x2}var S2,BC;function Wh(){if(BC)return S2;BC=1;var t=zc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return S2=e,S2}var E2,jC;function J1(){if(jC)return E2;jC=1;var t=W1(),e=Wh();function n(r,i){i=t(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[e(i[s++])];return s&&s==l?r:void 0}return E2=n,E2}var T2,UC;function Mie(){if(UC)return T2;UC=1;var t=J1();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return T2=e,T2}var A2,HC;function kie(){if(HC)return A2;HC=1;function t(e,n){return e!=null&&n in Object(e)}return A2=t,A2}var C2,FC;function xL(){if(FC)return C2;FC=1;var t=W1(),e=Qh(),n=Pn(),r=$1(),i=Z7(),s=Wh();function l(c,h,f){h=t(h,c);for(var m=-1,p=h.length,v=!1;++m<p;){var b=s(h[m]);if(!(v=c!=null&&f(c,b)))break;c=c[b]}return v||++m!=p?v:(p=c==null?0:c.length,!!p&&i(p)&&r(b,p)&&(n(c)||e(c)))}return C2=l,C2}var R2,GC;function SL(){if(GC)return R2;GC=1;var t=kie(),e=xL();function n(r,i){return r!=null&&e(r,i,t)}return R2=n,R2}var I2,$C;function Die(){if($C)return I2;$C=1;var t=yL(),e=Mie(),n=SL(),r=ob(),i=_L(),s=bL(),l=Wh(),c=1,h=2;function f(m,p){return r(m)&&i(p)?s(l(m),p):function(v){var b=e(v,m);return b===void 0&&b===p?n(v,m):t(p,b,c|h)}}return I2=f,I2}var N2,YC;function EL(){if(YC)return N2;YC=1;function t(e){return function(n){return n?.[e]}}return N2=t,N2}var M2,XC;function Oie(){if(XC)return M2;XC=1;var t=J1();function e(n){return function(r){return t(r,n)}}return M2=e,M2}var k2,KC;function zie(){if(KC)return k2;KC=1;var t=EL(),e=Oie(),n=ob(),r=Wh();function i(s){return n(s)?t(r(s)):e(s)}return k2=i,k2}var D2,QC;function Ts(){if(QC)return D2;QC=1;var t=Aie(),e=Die(),n=Yl(),r=Pn(),i=zie();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return D2=s,D2}var O2,ZC;function TL(){if(ZC)return O2;ZC=1;var t=tL(),e=gie(),n=Ts(),r=Pn();function i(s,l){var c=r(s)?t:e;return c(s,n(l,3))}return O2=i,O2}var z2,WC;function Lie(){if(WC)return z2;WC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return z2=n,z2}var L2,JC;function AL(){if(JC)return L2;JC=1;var t=Lie(),e=xL();function n(r,i){return r!=null&&e(r,i,t)}return L2=n,L2}var V2,eR;function Vie(){if(eR)return V2;eR=1;var t=J7(),e=Oc(),n=Qh(),r=Pn(),i=Es(),s=Dc(),l=X1(),c=Zh(),h="[object Map]",f="[object Set]",m=Object.prototype,p=m.hasOwnProperty;function v(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||s(b)||c(b)||n(b)))return!b.length;var w=e(b);if(w==h||w==f)return!b.size;if(l(b))return!t(b).length;for(var S in b)if(p.call(b,S))return!1;return!0}return V2=v,V2}var q2,tR;function CL(){if(tR)return q2;tR=1;function t(e){return e===void 0}return q2=t,q2}var P2,nR;function RL(){if(nR)return P2;nR=1;var t=Q1(),e=Es();function n(r,i){var s=-1,l=e(r)?Array(r.length):[];return t(r,function(c,h,f){l[++s]=i(c,h,f)}),l}return P2=n,P2}var B2,rR;function IL(){if(rR)return B2;rR=1;var t=Z1(),e=Ts(),n=RL(),r=Pn();function i(s,l){var c=r(s)?t:n;return c(s,e(l,3))}return B2=i,B2}var j2,iR;function qie(){if(iR)return j2;iR=1;function t(e,n,r,i){var s=-1,l=e==null?0:e.length;for(i&&l&&(r=e[++s]);++s<l;)r=n(r,e[s],s,e);return r}return j2=t,j2}var U2,aR;function Pie(){if(aR)return U2;aR=1;function t(e,n,r,i,s){return s(e,function(l,c,h){r=i?(i=!1,l):n(r,l,c,h)}),r}return U2=t,U2}var H2,sR;function NL(){if(sR)return H2;sR=1;var t=qie(),e=Q1(),n=Ts(),r=Pie(),i=Pn();function s(l,c,h){var f=i(l)?t:r,m=arguments.length<3;return f(l,n(c,4),h,m,e)}return H2=s,H2}var F2,oR;function Bie(){if(oR)return F2;oR=1;var t=Fl(),e=Pn(),n=Ra(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return F2=i,F2}var G2,lR;function jie(){if(lR)return G2;lR=1;var t=EL(),e=t("length");return G2=e,G2}var $2,uR;function Uie(){if(uR)return $2;uR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+s+"]");function h(f){return c.test(f)}return $2=h,$2}var Y2,cR;function Hie(){if(cR)return Y2;cR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",h="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+h+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=f+"?",S="["+s+"]?",E="(?:"+b+"(?:"+[m,p,v].join("|")+")"+S+w+")*",C=S+w+E,O="(?:"+[m+c+"?",c,p,v,l].join("|")+")",A=RegExp(h+"(?="+h+")|"+O+C,"g");function z(U){for(var q=A.lastIndex=0;A.test(U);)++q;return q}return Y2=z,Y2}var X2,hR;function Fie(){if(hR)return X2;hR=1;var t=jie(),e=Uie(),n=Hie();function r(i){return e(i)?n(i):t(i)}return X2=r,X2}var K2,fR;function Gie(){if(fR)return K2;fR=1;var t=J7(),e=Oc(),n=Es(),r=Bie(),i=Fie(),s="[object Map]",l="[object Set]";function c(h){if(h==null)return 0;if(n(h))return r(h)?i(h):h.length;var f=e(h);return f==s||f==l?h.size:t(h).length}return K2=c,K2}var Q2,dR;function $ie(){if(dR)return Q2;dR=1;var t=Q7(),e=uL(),n=ab(),r=Ts(),i=K1(),s=Pn(),l=Dc(),c=Xh(),h=Ti(),f=Zh();function m(p,v,b){var w=s(p),S=w||l(p)||f(p);if(v=r(v,4),b==null){var E=p&&p.constructor;S?b=w?new E:[]:h(p)?b=c(E)?e(i(p)):{}:b={}}return(S?t:n)(p,function(C,O,A){return v(b,C,O,A)}),b}return Q2=m,Q2}var Z2,mR;function Yie(){if(mR)return Z2;mR=1;var t=kc(),e=Qh(),n=Pn(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return Z2=i,Z2}var W2,pR;function lb(){if(pR)return W2;pR=1;var t=tb(),e=Yie();function n(r,i,s,l,c){var h=-1,f=r.length;for(s||(s=e),c||(c=[]);++h<f;){var m=r[h];i>0&&s(m)?i>1?n(m,i-1,s,l,c):t(c,m):l||(c[c.length]=m)}return c}return W2=n,W2}var J2,gR;function Xie(){if(gR)return J2;gR=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return J2=t,J2}var e3,vR;function ML(){if(vR)return e3;vR=1;var t=Xie(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,h=e(l.length-i,0),f=Array(h);++c<h;)f[c]=l[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=l[c];return m[i]=s(f),t(r,this,m)}}return e3=n,e3}var t3,yR;function Kie(){if(yR)return t3;yR=1;var t=rb(),e=Qz(),n=Yl(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return t3=r,t3}var n3,_R;function Qie(){if(_R)return n3;_R=1;var t=800,e=16,n=Date.now;function r(i){var s=0,l=0;return function(){var c=n(),h=e-(c-l);if(l=c,h>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return n3=r,n3}var r3,bR;function kL(){if(bR)return r3;bR=1;var t=Kie(),e=Qie(),n=e(t);return r3=n,r3}var i3,wR;function ep(){if(wR)return i3;wR=1;var t=Yl(),e=ML(),n=kL();function r(i,s){return n(e(i,s,t),i+"")}return i3=r,i3}var a3,xR;function DL(){if(xR)return a3;xR=1;function t(e,n,r,i){for(var s=e.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(e[l],l,e))return l;return-1}return a3=t,a3}var s3,SR;function Zie(){if(SR)return s3;SR=1;function t(e){return e!==e}return s3=t,s3}var o3,ER;function Wie(){if(ER)return o3;ER=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return o3=t,o3}var l3,TR;function Jie(){if(TR)return l3;TR=1;var t=DL(),e=Zie(),n=Wie();function r(i,s,l){return s===s?n(i,s,l):t(i,e,l)}return l3=r,l3}var u3,AR;function eae(){if(AR)return u3;AR=1;var t=Jie();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return u3=e,u3}var c3,CR;function tae(){if(CR)return c3;CR=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return c3=t,c3}var h3,RR;function nae(){if(RR)return h3;RR=1;function t(){}return h3=t,h3}var f3,IR;function rae(){if(IR)return f3;IR=1;var t=sL(),e=nae(),n=sb(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return f3=i,f3}var d3,NR;function iae(){if(NR)return d3;NR=1;var t=pL(),e=eae(),n=tae(),r=gL(),i=rae(),s=sb(),l=200;function c(h,f,m){var p=-1,v=e,b=h.length,w=!0,S=[],E=S;if(m)w=!1,v=n;else if(b>=l){var C=f?null:i(h);if(C)return s(C);w=!1,v=r,E=new t}else E=f?[]:S;e:for(;++p<b;){var O=h[p],A=f?f(O):O;if(O=m||O!==0?O:0,w&&A===A){for(var z=E.length;z--;)if(E[z]===A)continue e;f&&E.push(A),S.push(O)}else v(E,A,m)||(E!==S&&E.push(A),S.push(O))}return S}return d3=c,d3}var m3,MR;function OL(){if(MR)return m3;MR=1;var t=Es(),e=Ra();function n(r){return e(r)&&t(r)}return m3=n,m3}var p3,kR;function aae(){if(kR)return p3;kR=1;var t=lb(),e=ep(),n=iae(),r=OL(),i=e(function(s){return n(t(s,1,r,!0))});return p3=i,p3}var g3,DR;function sae(){if(DR)return g3;DR=1;var t=Z1();function e(n,r){return t(r,function(i){return n[i]})}return g3=e,g3}var v3,OR;function zL(){if(OR)return v3;OR=1;var t=sae(),e=Uo();function n(r){return r==null?[]:t(r,e(r))}return v3=n,v3}var y3,zR;function Ai(){if(zR)return y3;zR=1;var t;if(typeof Y7=="function")try{t={clone:die(),constant:rb(),each:mL(),filter:TL(),has:AL(),isArray:Pn(),isEmpty:Vie(),isFunction:Xh(),isUndefined:CL(),keys:Uo(),map:IL(),reduce:NL(),size:Gie(),transform:$ie(),union:aae(),values:zL()}}catch{}return t||(t=window._),y3=t,y3}var _3,LR;function ub(){if(LR)return _3;LR=1;var t=Ai();_3=i;var e="\0",n="\0",r="";function i(m){this._isDirected=t.has(m,"directed")?m.directed:!0,this._isMultigraph=t.has(m,"multigraph")?m.multigraph:!1,this._isCompound=t.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(m){return this._label=m,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultNodeLabelFn=m,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._in[p])})},i.prototype.sinks=function(){var m=this;return t.filter(this.nodes(),function(p){return t.isEmpty(m._out[p])})},i.prototype.setNodes=function(m,p){var v=arguments,b=this;return t.each(m,function(w){v.length>1?b.setNode(w,p):b.setNode(w)}),this},i.prototype.setNode=function(m,p){return t.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=p),this):(this._nodes[m]=arguments.length>1?p:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=n,this._children[m]={},this._children[n][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},i.prototype.node=function(m){return this._nodes[m]},i.prototype.hasNode=function(m){return t.has(this._nodes,m)},i.prototype.removeNode=function(m){var p=this;if(t.has(this._nodes,m)){var v=function(b){p.removeEdge(p._edgeObjs[b])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],t.each(this.children(m),function(b){p.setParent(b)}),delete this._children[m]),t.each(t.keys(this._in[m]),v),delete this._in[m],delete this._preds[m],t.each(t.keys(this._out[m]),v),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},i.prototype.setParent=function(m,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(p))p=n;else{p+="";for(var v=p;!t.isUndefined(v);v=this.parent(v))if(v===m)throw new Error("Setting "+p+" as parent of "+m+" would create a cycle");this.setNode(p)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=p,this._children[p][m]=!0,this},i.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},i.prototype.parent=function(m){if(this._isCompound){var p=this._parent[m];if(p!==n)return p}},i.prototype.children=function(m){if(t.isUndefined(m)&&(m=n),this._isCompound){var p=this._children[m];if(p)return t.keys(p)}else{if(m===n)return this.nodes();if(this.hasNode(m))return[]}},i.prototype.predecessors=function(m){var p=this._preds[m];if(p)return t.keys(p)},i.prototype.successors=function(m){var p=this._sucs[m];if(p)return t.keys(p)},i.prototype.neighbors=function(m){var p=this.predecessors(m);if(p)return t.union(p,this.successors(m))},i.prototype.isLeaf=function(m){var p;return this.isDirected()?p=this.successors(m):p=this.neighbors(m),p.length===0},i.prototype.filterNodes=function(m){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;t.each(this._nodes,function(S,E){m(E)&&p.setNode(E,S)}),t.each(this._edgeObjs,function(S){p.hasNode(S.v)&&p.hasNode(S.w)&&p.setEdge(S,v.edge(S))});var b={};function w(S){var E=v.parent(S);return E===void 0||p.hasNode(E)?(b[S]=E,E):E in b?b[E]:w(E)}return this._isCompound&&t.each(p.nodes(),function(S){p.setParent(S,w(S))}),p},i.prototype.setDefaultEdgeLabel=function(m){return t.isFunction(m)||(m=t.constant(m)),this._defaultEdgeLabelFn=m,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(m,p){var v=this,b=arguments;return t.reduce(m,function(w,S){return b.length>1?v.setEdge(w,S,p):v.setEdge(w,S),S}),this},i.prototype.setEdge=function(){var m,p,v,b,w=!1,S=arguments[0];typeof S=="object"&&S!==null&&"v"in S?(m=S.v,p=S.w,v=S.name,arguments.length===2&&(b=arguments[1],w=!0)):(m=S,p=arguments[1],v=arguments[3],arguments.length>2&&(b=arguments[2],w=!0)),m=""+m,p=""+p,t.isUndefined(v)||(v=""+v);var E=c(this._isDirected,m,p,v);if(t.has(this._edgeLabels,E))return w&&(this._edgeLabels[E]=b),this;if(!t.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(p),this._edgeLabels[E]=w?b:this._defaultEdgeLabelFn(m,p,v);var C=h(this._isDirected,m,p,v);return m=C.v,p=C.w,Object.freeze(C),this._edgeObjs[E]=C,s(this._preds[p],m),s(this._sucs[m],p),this._in[p][E]=C,this._out[m][E]=C,this._edgeCount++,this},i.prototype.edge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return this._edgeLabels[b]},i.prototype.hasEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v);return t.has(this._edgeLabels,b)},i.prototype.removeEdge=function(m,p,v){var b=arguments.length===1?f(this._isDirected,arguments[0]):c(this._isDirected,m,p,v),w=this._edgeObjs[b];return w&&(m=w.v,p=w.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[p],m),l(this._sucs[m],p),delete this._in[p][b],delete this._out[m][b],this._edgeCount--),this},i.prototype.inEdges=function(m,p){var v=this._in[m];if(v){var b=t.values(v);return p?t.filter(b,function(w){return w.v===p}):b}},i.prototype.outEdges=function(m,p){var v=this._out[m];if(v){var b=t.values(v);return p?t.filter(b,function(w){return w.w===p}):b}},i.prototype.nodeEdges=function(m,p){var v=this.inEdges(m,p);if(v)return v.concat(this.outEdges(m,p))};function s(m,p){m[p]?m[p]++:m[p]=1}function l(m,p){--m[p]||delete m[p]}function c(m,p,v,b){var w=""+p,S=""+v;if(!m&&w>S){var E=w;w=S,S=E}return w+r+S+r+(t.isUndefined(b)?e:b)}function h(m,p,v,b){var w=""+p,S=""+v;if(!m&&w>S){var E=w;w=S,S=E}var C={v:w,w:S};return b&&(C.name=b),C}function f(m,p){return c(m,p.v,p.w,p.name)}return _3}var b3,VR;function oae(){return VR||(VR=1,b3="2.1.8"),b3}var w3,qR;function lae(){return qR||(qR=1,w3={Graph:ub(),version:oae()}),w3}var x3,PR;function uae(){if(PR)return x3;PR=1;var t=Ai(),e=ub();x3={write:n,read:s};function n(l){var c={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return t.isUndefined(l.graph())||(c.value=t.clone(l.graph())),c}function r(l){return t.map(l.nodes(),function(c){var h=l.node(c),f=l.parent(c),m={v:c};return t.isUndefined(h)||(m.value=h),t.isUndefined(f)||(m.parent=f),m})}function i(l){return t.map(l.edges(),function(c){var h=l.edge(c),f={v:c.v,w:c.w};return t.isUndefined(c.name)||(f.name=c.name),t.isUndefined(h)||(f.value=h),f})}function s(l){var c=new e(l.options).setGraph(l.value);return t.each(l.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),t.each(l.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}return x3}var S3,BR;function cae(){if(BR)return S3;BR=1;var t=Ai();S3=e;function e(n){var r={},i=[],s;function l(c){t.has(r,c)||(r[c]=!0,s.push(c),t.each(n.successors(c),l),t.each(n.predecessors(c),l))}return t.each(n.nodes(),function(c){s=[],l(c),s.length&&i.push(s)}),i}return S3}var E3,jR;function LL(){if(jR)return E3;jR=1;var t=Ai();E3=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var s=this._arr,l=s.length;return i[n]=l,s.push({key:n,priority:r}),this._decrease(l),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,s<r.length&&(l=r[s].priority<r[l].priority?s:l),l!==n&&(this._swap(n,l),this._heapify(l)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},e.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,l=i[n],c=i[r];i[n]=c,i[r]=l,s[c.key]=n,s[l.key]=r},E3}var T3,UR;function VL(){if(UR)return T3;UR=1;var t=Ai(),e=LL();T3=r;var n=t.constant(1);function r(s,l,c,h){return i(s,String(l),c||n,h||function(f){return s.outEdges(f)})}function i(s,l,c,h){var f={},m=new e,p,v,b=function(w){var S=w.v!==p?w.v:w.w,E=f[S],C=c(w),O=v.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+C);O<E.distance&&(E.distance=O,E.predecessor=p,m.decrease(S,O))};for(s.nodes().forEach(function(w){var S=w===l?0:Number.POSITIVE_INFINITY;f[w]={distance:S},m.add(w,S)});m.size()>0&&(p=m.removeMin(),v=f[p],v.distance!==Number.POSITIVE_INFINITY);)h(p).forEach(b);return f}return T3}var A3,HR;function hae(){if(HR)return A3;HR=1;var t=VL(),e=Ai();A3=n;function n(r,i,s){return e.transform(r.nodes(),function(l,c){l[c]=t(r,c,i,s)},{})}return A3}var C3,FR;function qL(){if(FR)return C3;FR=1;var t=Ai();C3=e;function e(n){var r=0,i=[],s={},l=[];function c(h){var f=s[h]={onStack:!0,lowlink:r,index:r++};if(i.push(h),n.successors(h).forEach(function(v){t.has(s,v)?s[v].onStack&&(f.lowlink=Math.min(f.lowlink,s[v].index)):(c(v),f.lowlink=Math.min(f.lowlink,s[v].lowlink))}),f.lowlink===f.index){var m=[],p;do p=i.pop(),s[p].onStack=!1,m.push(p);while(h!==p);l.push(m)}}return n.nodes().forEach(function(h){t.has(s,h)||c(h)}),l}return C3}var R3,GR;function fae(){if(GR)return R3;GR=1;var t=Ai(),e=qL();R3=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return R3}var I3,$R;function dae(){if($R)return I3;$R=1;var t=Ai();I3=n;var e=t.constant(1);function n(i,s,l){return r(i,s||e,l||function(c){return i.outEdges(c)})}function r(i,s,l){var c={},h=i.nodes();return h.forEach(function(f){c[f]={},c[f][f]={distance:0},h.forEach(function(m){f!==m&&(c[f][m]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(m){var p=m.v===f?m.w:m.v,v=s(m);c[f][p]={distance:v,predecessor:f}})}),h.forEach(function(f){var m=c[f];h.forEach(function(p){var v=c[p];h.forEach(function(b){var w=v[f],S=m[b],E=v[b],C=w.distance+S.distance;C<E.distance&&(E.distance=C,E.predecessor=S.predecessor)})})}),c}return I3}var N3,YR;function PL(){if(YR)return N3;YR=1;var t=Ai();N3=e,e.CycleException=n;function e(r){var i={},s={},l=[];function c(h){if(t.has(s,h))throw new n;t.has(i,h)||(s[h]=!0,i[h]=!0,t.each(r.predecessors(h),c),delete s[h],l.push(h))}if(t.each(r.sinks(),c),t.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,N3}var M3,XR;function mae(){if(XR)return M3;XR=1;var t=PL();M3=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return M3}var k3,KR;function BL(){if(KR)return k3;KR=1;var t=Ai();k3=e;function e(r,i,s){t.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),c=[],h={};return t.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,s==="post",h,l,c)}),c}function n(r,i,s,l,c,h){t.has(l,i)||(l[i]=!0,s||h.push(i),t.each(c(i),function(f){n(r,f,s,l,c,h)}),s&&h.push(i))}return k3}var D3,QR;function pae(){if(QR)return D3;QR=1;var t=BL();D3=e;function e(n,r){return t(n,r,"post")}return D3}var O3,ZR;function gae(){if(ZR)return O3;ZR=1;var t=BL();O3=e;function e(n,r){return t(n,r,"pre")}return O3}var z3,WR;function vae(){if(WR)return z3;WR=1;var t=Ai(),e=ub(),n=LL();z3=r;function r(i,s){var l=new e,c={},h=new n,f;function m(v){var b=v.v===f?v.w:v.v,w=h.priority(b);if(w!==void 0){var S=s(v);S<w&&(c[b]=f,h.decrease(b,S))}}if(i.nodeCount()===0)return l;t.each(i.nodes(),function(v){h.add(v,Number.POSITIVE_INFINITY),l.setNode(v)}),h.decrease(i.nodes()[0],0);for(var p=!1;h.size()>0;){if(f=h.removeMin(),t.has(c,f))l.setEdge(f,c[f]);else{if(p)throw new Error("Input graph is not connected: "+i);p=!0}i.nodeEdges(f).forEach(m)}return l}return z3}var L3,JR;function yae(){return JR||(JR=1,L3={components:cae(),dijkstra:VL(),dijkstraAll:hae(),findCycles:fae(),floydWarshall:dae(),isAcyclic:mae(),postorder:pae(),preorder:gae(),prim:vae(),tarjan:qL(),topsort:PL()}),L3}var V3,eI;function _ae(){if(eI)return V3;eI=1;var t=lae();return V3={Graph:t.Graph,json:uae(),alg:yae(),version:t.version},V3}var q3,tI;function Xi(){if(tI)return q3;tI=1;var t;if(typeof Y7=="function")try{t=_ae()}catch{}return t||(t=window.graphlib),q3=t,q3}var P3,nI;function bae(){if(nI)return P3;nI=1;var t=hL(),e=1,n=4;function r(i){return t(i,e|n)}return P3=r,P3}var B3,rI;function tp(){if(rI)return B3;rI=1;var t=Mc(),e=Es(),n=$1(),r=Ti();function i(s,l,c){if(!r(c))return!1;var h=typeof l;return(h=="number"?e(c)&&n(l,c.length):h=="string"&&l in c)?t(c[l],s):!1}return B3=i,B3}var j3,iI;function wae(){if(iI)return j3;iI=1;var t=ep(),e=Mc(),n=tp(),r=$l(),i=Object.prototype,s=i.hasOwnProperty,l=t(function(c,h){c=Object(c);var f=-1,m=h.length,p=m>2?h[2]:void 0;for(p&&n(h[0],h[1],p)&&(m=1);++f<m;)for(var v=h[f],b=r(v),w=-1,S=b.length;++w<S;){var E=b[w],C=c[E];(C===void 0||e(C,i[E])&&!s.call(c,E))&&(c[E]=v[E])}return c});return j3=l,j3}var U3,aI;function xae(){if(aI)return U3;aI=1;var t=Ts(),e=Es(),n=Uo();function r(i){return function(s,l,c){var h=Object(s);if(!e(s)){var f=t(l,3);s=n(s),l=function(p){return f(h[p],p,h)}}var m=i(s,l,c);return m>-1?h[f?s[m]:m]:void 0}}return U3=r,U3}var H3,sI;function Sae(){if(sI)return H3;sI=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return H3=e,H3}var F3,oI;function Eae(){if(oI)return F3;oI=1;var t=Sae(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return F3=n,F3}var G3,lI;function Tae(){if(lI)return G3;lI=1;var t=Eae(),e=Ti(),n=zc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=s.test(f);return p||l.test(f)?c(f.slice(2),p?2:8):i.test(f)?r:+f}return G3=h,G3}var $3,uI;function jL(){if(uI)return $3;uI=1;var t=Tae(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return $3=r,$3}var Y3,cI;function Aae(){if(cI)return Y3;cI=1;var t=jL();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Y3=e,Y3}var X3,hI;function Cae(){if(hI)return X3;hI=1;var t=DL(),e=Ts(),n=Aae(),r=Math.max;function i(s,l,c){var h=s==null?0:s.length;if(!h)return-1;var f=c==null?0:n(c);return f<0&&(f=r(h+f,0)),t(s,e(l,3),f)}return X3=i,X3}var K3,fI;function Rae(){if(fI)return K3;fI=1;var t=xae(),e=Cae(),n=t(e);return K3=n,K3}var Q3,dI;function UL(){if(dI)return Q3;dI=1;var t=lb();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return Q3=e,Q3}var Z3,mI;function Iae(){if(mI)return Z3;mI=1;var t=ib(),e=fL(),n=$l();function r(i,s){return i==null?i:t(i,e(s),n)}return Z3=r,Z3}var W3,pI;function Nae(){if(pI)return W3;pI=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return W3=t,W3}var J3,gI;function Mae(){if(gI)return J3;gI=1;var t=F1(),e=ab(),n=Ts();function r(i,s){var l={};return s=n(s,3),e(i,function(c,h,f){t(l,h,s(c,h,f))}),l}return J3=r,J3}var e5,vI;function cb(){if(vI)return e5;vI=1;var t=zc();function e(n,r,i){for(var s=-1,l=n.length;++s<l;){var c=n[s],h=r(c);if(h!=null&&(f===void 0?h===h&&!t(h):i(h,f)))var f=h,m=c}return m}return e5=e,e5}var t5,yI;function kae(){if(yI)return t5;yI=1;function t(e,n){return e>n}return t5=t,t5}var n5,_I;function Dae(){if(_I)return n5;_I=1;var t=cb(),e=kae(),n=Yl();function r(i){return i&&i.length?t(i,n,e):void 0}return n5=r,n5}var r5,bI;function HL(){if(bI)return r5;bI=1;var t=F1(),e=Mc();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return r5=n,r5}var i5,wI;function Oae(){if(wI)return i5;wI=1;var t=Fl(),e=K1(),n=Ra(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,h=l.call(Object);function f(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var v=c.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==h}return i5=f,i5}var a5,xI;function FL(){if(xI)return a5;xI=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return a5=t,a5}var s5,SI;function zae(){if(SI)return s5;SI=1;var t=Kh(),e=$l();function n(r){return t(r,e(r))}return s5=n,s5}var o5,EI;function Lae(){if(EI)return o5;EI=1;var t=HL(),e=Jz(),n=lL(),r=eL(),i=cL(),s=Qh(),l=Pn(),c=OL(),h=Dc(),f=Xh(),m=Ti(),p=Oae(),v=Zh(),b=FL(),w=zae();function S(E,C,O,A,z,U,q){var R=b(E,O),k=b(C,O),D=q.get(k);if(D){t(E,O,D);return}var H=U?U(R,k,O+"",E,C,q):void 0,V=H===void 0;if(V){var j=l(k),B=!j&&h(k),K=!j&&!B&&v(k);H=k,j||B||K?l(R)?H=R:c(R)?H=r(R):B?(V=!1,H=e(k,!0)):K?(V=!1,H=n(k,!0)):H=[]:p(k)||s(k)?(H=R,s(R)?H=w(R):(!m(R)||f(R))&&(H=i(k))):V=!1}V&&(q.set(k,H),z(H,k,A,U,q),q.delete(k)),t(E,O,H)}return o5=S,o5}var l5,TI;function Vae(){if(TI)return l5;TI=1;var t=H1(),e=HL(),n=ib(),r=Lae(),i=Ti(),s=$l(),l=FL();function c(h,f,m,p,v){h!==f&&n(f,function(b,w){if(v||(v=new t),i(b))r(h,f,w,m,c,p,v);else{var S=p?p(l(h,w),b,w+"",h,f,v):void 0;S===void 0&&(S=b),e(h,w,S)}},s)}return l5=c,l5}var u5,AI;function qae(){if(AI)return u5;AI=1;var t=ep(),e=tp();function n(r){return t(function(i,s){var l=-1,c=s.length,h=c>1?s[c-1]:void 0,f=c>2?s[2]:void 0;for(h=r.length>3&&typeof h=="function"?(c--,h):void 0,f&&e(s[0],s[1],f)&&(h=c<3?void 0:h,c=1),i=Object(i);++l<c;){var m=s[l];m&&r(i,m,l,h)}return i})}return u5=n,u5}var c5,CI;function Pae(){if(CI)return c5;CI=1;var t=Vae(),e=qae(),n=e(function(r,i,s){t(r,i,s)});return c5=n,c5}var h5,RI;function GL(){if(RI)return h5;RI=1;function t(e,n){return e<n}return h5=t,h5}var f5,II;function Bae(){if(II)return f5;II=1;var t=cb(),e=GL(),n=Yl();function r(i){return i&&i.length?t(i,n,e):void 0}return f5=r,f5}var d5,NI;function jae(){if(NI)return d5;NI=1;var t=cb(),e=Ts(),n=GL();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return d5=r,d5}var m5,MI;function Uae(){if(MI)return m5;MI=1;var t=Qi(),e=function(){return t.Date.now()};return m5=e,m5}var p5,kI;function Hae(){if(kI)return p5;kI=1;var t=G1(),e=W1(),n=$1(),r=Ti(),i=Wh();function s(l,c,h,f){if(!r(l))return l;c=e(c,l);for(var m=-1,p=c.length,v=p-1,b=l;b!=null&&++m<p;){var w=i(c[m]),S=h;if(w==="__proto__"||w==="constructor"||w==="prototype")return l;if(m!=v){var E=b[w];S=f?f(E,w,b):void 0,S===void 0&&(S=r(E)?E:n(c[m+1])?[]:{})}t(b,w,S),b=b[w]}return l}return p5=s,p5}var g5,DI;function Fae(){if(DI)return g5;DI=1;var t=J1(),e=Hae(),n=W1();function r(i,s,l){for(var c=-1,h=s.length,f={};++c<h;){var m=s[c],p=t(i,m);l(p,m)&&e(f,n(m,i),p)}return f}return g5=r,g5}var v5,OI;function Gae(){if(OI)return v5;OI=1;var t=Fae(),e=SL();function n(r,i){return t(r,i,function(s,l){return e(r,l)})}return v5=n,v5}var y5,zI;function $ae(){if(zI)return y5;zI=1;var t=UL(),e=ML(),n=kL();function r(i){return n(e(i,void 0,t),i+"")}return y5=r,y5}var _5,LI;function Yae(){if(LI)return _5;LI=1;var t=Gae(),e=$ae(),n=e(function(r,i){return r==null?{}:t(r,i)});return _5=n,_5}var b5,VI;function Xae(){if(VI)return b5;VI=1;var t=Math.ceil,e=Math.max;function n(r,i,s,l){for(var c=-1,h=e(t((i-r)/(s||1)),0),f=Array(h);h--;)f[l?h:++c]=r,r+=s;return f}return b5=n,b5}var w5,qI;function Kae(){if(qI)return w5;qI=1;var t=Xae(),e=tp(),n=jL();function r(i){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),c=c===void 0?s<l?1:-1:n(c),t(s,l,c,i)}}return w5=r,w5}var x5,PI;function Qae(){if(PI)return x5;PI=1;var t=Kae(),e=t();return x5=e,x5}var S5,BI;function Zae(){if(BI)return S5;BI=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return S5=t,S5}var E5,jI;function Wae(){if(jI)return E5;jI=1;var t=zc();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,c=t(n),h=r!==void 0,f=r===null,m=r===r,p=t(r);if(!f&&!p&&!c&&n>r||c&&h&&m&&!f&&!p||s&&h&&m||!i&&m||!l)return 1;if(!s&&!c&&!p&&n<r||p&&i&&l&&!s&&!c||f&&i&&l||!h&&l||!m)return-1}return 0}return E5=e,E5}var T5,UI;function Jae(){if(UI)return T5;UI=1;var t=Wae();function e(n,r,i){for(var s=-1,l=n.criteria,c=r.criteria,h=l.length,f=i.length;++s<h;){var m=t(l[s],c[s]);if(m){if(s>=f)return m;var p=i[s];return m*(p=="desc"?-1:1)}}return n.index-r.index}return T5=e,T5}var A5,HI;function ese(){if(HI)return A5;HI=1;var t=Z1(),e=J1(),n=Ts(),r=RL(),i=Zae(),s=Y1(),l=Jae(),c=Yl(),h=Pn();function f(m,p,v){p.length?p=t(p,function(S){return h(S)?function(E){return e(E,S.length===1?S[0]:S)}:S}):p=[c];var b=-1;p=t(p,s(n));var w=r(m,function(S,E,C){var O=t(p,function(A){return A(S)});return{criteria:O,index:++b,value:S}});return i(w,function(S,E){return l(S,E,v)})}return A5=f,A5}var C5,FI;function tse(){if(FI)return C5;FI=1;var t=lb(),e=ese(),n=ep(),r=tp(),i=n(function(s,l){if(s==null)return[];var c=l.length;return c>1&&r(s,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return C5=i,C5}var R5,GI;function nse(){if(GI)return R5;GI=1;var t=wL(),e=0;function n(r){var i=++e;return t(r)+i}return R5=n,R5}var I5,$I;function rse(){if($I)return I5;$I=1;function t(e,n,r){for(var i=-1,s=e.length,l=n.length,c={};++i<s;){var h=i<l?n[i]:void 0;r(c,e[i],h)}return c}return I5=t,I5}var N5,YI;function ise(){if(YI)return N5;YI=1;var t=G1(),e=rse();function n(r,i){return e(r||[],i||[],t)}return N5=n,N5}var M5,XI;function on(){if(XI)return M5;XI=1;var t;if(typeof Y7=="function")try{t={cloneDeep:bae(),constant:rb(),defaults:wae(),each:mL(),filter:TL(),find:Rae(),flatten:UL(),forEach:dL(),forIn:Iae(),has:AL(),isUndefined:CL(),last:Nae(),map:IL(),mapValues:Mae(),max:Dae(),merge:Pae(),min:Bae(),minBy:jae(),now:Uae(),pick:Yae(),range:Qae(),reduce:NL(),sortBy:tse(),uniqueId:nse(),values:zL(),zipObject:ise()}}catch{}return t||(t=window._),M5=t,M5}var k5,KI;function ase(){if(KI)return k5;KI=1,k5=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,s=i._prev;s!==i;)r.push(JSON.stringify(s,n)),s=s._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return k5}var D5,QI;function sse(){if(QI)return D5;QI=1;var t=on(),e=Xi().Graph,n=ase();D5=i;var r=t.constant(1);function i(f,m){if(f.nodeCount()<=1)return[];var p=c(f,m||r),v=s(p.graph,p.buckets,p.zeroIdx);return t.flatten(t.map(v,function(b){return f.outEdges(b.v,b.w)}),!0)}function s(f,m,p){for(var v=[],b=m[m.length-1],w=m[0],S;f.nodeCount();){for(;S=w.dequeue();)l(f,m,p,S);for(;S=b.dequeue();)l(f,m,p,S);if(f.nodeCount()){for(var E=m.length-2;E>0;--E)if(S=m[E].dequeue(),S){v=v.concat(l(f,m,p,S,!0));break}}}return v}function l(f,m,p,v,b){var w=b?[]:void 0;return t.forEach(f.inEdges(v.v),function(S){var E=f.edge(S),C=f.node(S.v);b&&w.push({v:S.v,w:S.w}),C.out-=E,h(m,p,C)}),t.forEach(f.outEdges(v.v),function(S){var E=f.edge(S),C=S.w,O=f.node(C);O.in-=E,h(m,p,O)}),f.removeNode(v.v),w}function c(f,m){var p=new e,v=0,b=0;t.forEach(f.nodes(),function(E){p.setNode(E,{v:E,in:0,out:0})}),t.forEach(f.edges(),function(E){var C=p.edge(E.v,E.w)||0,O=m(E),A=C+O;p.setEdge(E.v,E.w,A),b=Math.max(b,p.node(E.v).out+=O),v=Math.max(v,p.node(E.w).in+=O)});var w=t.range(b+v+3).map(function(){return new n}),S=v+1;return t.forEach(p.nodes(),function(E){h(w,S,p.node(E))}),{graph:p,buckets:w,zeroIdx:S}}function h(f,m,p){p.out?p.in?f[p.out-p.in+m].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return D5}var O5,ZI;function ose(){if(ZI)return O5;ZI=1;var t=on(),e=sse();O5={run:n,undo:i};function n(s){var l=s.graph().acyclicer==="greedy"?e(s,c(s)):r(s);t.forEach(l,function(h){var f=s.edge(h);s.removeEdge(h),f.forwardName=h.name,f.reversed=!0,s.setEdge(h.w,h.v,f,t.uniqueId("rev"))});function c(h){return function(f){return h.edge(f).weight}}}function r(s){var l=[],c={},h={};function f(m){t.has(h,m)||(h[m]=!0,c[m]=!0,t.forEach(s.outEdges(m),function(p){t.has(c,p.w)?l.push(p):f(p.w)}),delete c[m])}return t.forEach(s.nodes(),f),l}function i(s){t.forEach(s.edges(),function(l){var c=s.edge(l);if(c.reversed){s.removeEdge(l);var h=c.forwardName;delete c.reversed,delete c.forwardName,s.setEdge(l.w,l.v,c,h)}})}return O5}var z5,WI;function Or(){if(WI)return z5;WI=1;var t=on(),e=Xi().Graph;z5={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:s,predecessorWeights:l,intersectRect:c,buildLayerMatrix:h,normalizeRanks:f,removeEmptyRanks:m,addBorderNode:p,maxRank:v,partition:b,time:w,notime:S};function n(E,C,O,A){var z;do z=t.uniqueId(A);while(E.hasNode(z));return O.dummy=C,E.setNode(z,O),z}function r(E){var C=new e().setGraph(E.graph());return t.forEach(E.nodes(),function(O){C.setNode(O,E.node(O))}),t.forEach(E.edges(),function(O){var A=C.edge(O.v,O.w)||{weight:0,minlen:1},z=E.edge(O);C.setEdge(O.v,O.w,{weight:A.weight+z.weight,minlen:Math.max(A.minlen,z.minlen)})}),C}function i(E){var C=new e({multigraph:E.isMultigraph()}).setGraph(E.graph());return t.forEach(E.nodes(),function(O){E.children(O).length||C.setNode(O,E.node(O))}),t.forEach(E.edges(),function(O){C.setEdge(O,E.edge(O))}),C}function s(E){var C=t.map(E.nodes(),function(O){var A={};return t.forEach(E.outEdges(O),function(z){A[z.w]=(A[z.w]||0)+E.edge(z).weight}),A});return t.zipObject(E.nodes(),C)}function l(E){var C=t.map(E.nodes(),function(O){var A={};return t.forEach(E.inEdges(O),function(z){A[z.v]=(A[z.v]||0)+E.edge(z).weight}),A});return t.zipObject(E.nodes(),C)}function c(E,C){var O=E.x,A=E.y,z=C.x-O,U=C.y-A,q=E.width/2,R=E.height/2;if(!z&&!U)throw new Error("Not possible to find intersection inside of the rectangle");var k,D;return Math.abs(U)*q>Math.abs(z)*R?(U<0&&(R=-R),k=R*z/U,D=R):(z<0&&(q=-q),k=q,D=q*U/z),{x:O+k,y:A+D}}function h(E){var C=t.map(t.range(v(E)+1),function(){return[]});return t.forEach(E.nodes(),function(O){var A=E.node(O),z=A.rank;t.isUndefined(z)||(C[z][A.order]=O)}),C}function f(E){var C=t.min(t.map(E.nodes(),function(O){return E.node(O).rank}));t.forEach(E.nodes(),function(O){var A=E.node(O);t.has(A,"rank")&&(A.rank-=C)})}function m(E){var C=t.min(t.map(E.nodes(),function(U){return E.node(U).rank})),O=[];t.forEach(E.nodes(),function(U){var q=E.node(U).rank-C;O[q]||(O[q]=[]),O[q].push(U)});var A=0,z=E.graph().nodeRankFactor;t.forEach(O,function(U,q){t.isUndefined(U)&&q%z!==0?--A:A&&t.forEach(U,function(R){E.node(R).rank+=A})})}function p(E,C,O,A){var z={width:0,height:0};return arguments.length>=4&&(z.rank=O,z.order=A),n(E,"border",z,C)}function v(E){return t.max(t.map(E.nodes(),function(C){var O=E.node(C).rank;if(!t.isUndefined(O))return O}))}function b(E,C){var O={lhs:[],rhs:[]};return t.forEach(E,function(A){C(A)?O.lhs.push(A):O.rhs.push(A)}),O}function w(E,C){var O=t.now();try{return C()}finally{console.log(E+" time: "+(t.now()-O)+"ms")}}function S(E,C){return C()}return z5}var L5,JI;function lse(){if(JI)return L5;JI=1;var t=on(),e=Or();L5={run:n,undo:i};function n(s){s.graph().dummyChains=[],t.forEach(s.edges(),function(l){r(s,l)})}function r(s,l){var c=l.v,h=s.node(c).rank,f=l.w,m=s.node(f).rank,p=l.name,v=s.edge(l),b=v.labelRank;if(m!==h+1){s.removeEdge(l);var w,S,E;for(E=0,++h;h<m;++E,++h)v.points=[],S={width:0,height:0,edgeLabel:v,edgeObj:l,rank:h},w=e.addDummyNode(s,"edge",S,"_d"),h===b&&(S.width=v.width,S.height=v.height,S.dummy="edge-label",S.labelpos=v.labelpos),s.setEdge(c,w,{weight:v.weight},p),E===0&&s.graph().dummyChains.push(w),c=w;s.setEdge(c,f,{weight:v.weight},p)}}function i(s){t.forEach(s.graph().dummyChains,function(l){var c=s.node(l),h=c.edgeLabel,f;for(s.setEdge(c.edgeObj,h);c.dummy;)f=s.successors(l)[0],s.removeNode(l),h.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),l=f,c=s.node(l)})}return L5}var V5,eN;function $m(){if(eN)return V5;eN=1;var t=on();V5={longestPath:e,slack:n};function e(r){var i={};function s(l){var c=r.node(l);if(t.has(i,l))return c.rank;i[l]=!0;var h=t.min(t.map(r.outEdges(l),function(f){return s(f.w)-r.edge(f).minlen}));return(h===Number.POSITIVE_INFINITY||h===void 0||h===null)&&(h=0),c.rank=h}t.forEach(r.sources(),s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return V5}var q5,tN;function $L(){if(tN)return q5;tN=1;var t=on(),e=Xi().Graph,n=$m().slack;q5=r;function r(c){var h=new e({directed:!1}),f=c.nodes()[0],m=c.nodeCount();h.setNode(f,{});for(var p,v;i(h,c)<m;)p=s(h,c),v=h.hasNode(p.v)?n(c,p):-n(c,p),l(h,c,v);return h}function i(c,h){function f(m){t.forEach(h.nodeEdges(m),function(p){var v=p.v,b=m===v?p.w:v;!c.hasNode(b)&&!n(h,p)&&(c.setNode(b,{}),c.setEdge(m,b,{}),f(b))})}return t.forEach(c.nodes(),f),c.nodeCount()}function s(c,h){return t.minBy(h.edges(),function(f){if(c.hasNode(f.v)!==c.hasNode(f.w))return n(h,f)})}function l(c,h,f){t.forEach(c.nodes(),function(m){h.node(m).rank+=f})}return q5}var P5,nN;function use(){if(nN)return P5;nN=1;var t=on(),e=$L(),n=$m().slack,r=$m().longestPath,i=Xi().alg.preorder,s=Xi().alg.postorder,l=Or().simplify;P5=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=m,c.leaveEdge=b,c.enterEdge=w,c.exchangeEdges=S;function c(A){A=l(A),r(A);var z=e(A);p(z),h(z,A);for(var U,q;U=b(z);)q=w(z,A,U),S(z,A,U,q)}function h(A,z){var U=s(A,A.nodes());U=U.slice(0,U.length-1),t.forEach(U,function(q){f(A,z,q)})}function f(A,z,U){var q=A.node(U),R=q.parent;A.edge(U,R).cutvalue=m(A,z,U)}function m(A,z,U){var q=A.node(U),R=q.parent,k=!0,D=z.edge(U,R),H=0;return D||(k=!1,D=z.edge(R,U)),H=D.weight,t.forEach(z.nodeEdges(U),function(V){var j=V.v===U,B=j?V.w:V.v;if(B!==R){var K=j===k,ie=z.edge(V).weight;if(H+=K?ie:-ie,C(A,U,B)){var $=A.edge(U,B).cutvalue;H+=K?-$:$}}}),H}function p(A,z){arguments.length<2&&(z=A.nodes()[0]),v(A,{},1,z)}function v(A,z,U,q,R){var k=U,D=A.node(q);return z[q]=!0,t.forEach(A.neighbors(q),function(H){t.has(z,H)||(U=v(A,z,U,H,q))}),D.low=k,D.lim=U++,R?D.parent=R:delete D.parent,U}function b(A){return t.find(A.edges(),function(z){return A.edge(z).cutvalue<0})}function w(A,z,U){var q=U.v,R=U.w;z.hasEdge(q,R)||(q=U.w,R=U.v);var k=A.node(q),D=A.node(R),H=k,V=!1;k.lim>D.lim&&(H=D,V=!0);var j=t.filter(z.edges(),function(B){return V===O(A,A.node(B.v),H)&&V!==O(A,A.node(B.w),H)});return t.minBy(j,function(B){return n(z,B)})}function S(A,z,U,q){var R=U.v,k=U.w;A.removeEdge(R,k),A.setEdge(q.v,q.w,{}),p(A),h(A,z),E(A,z)}function E(A,z){var U=t.find(A.nodes(),function(R){return!z.node(R).parent}),q=i(A,U);q=q.slice(1),t.forEach(q,function(R){var k=A.node(R).parent,D=z.edge(R,k),H=!1;D||(D=z.edge(k,R),H=!0),z.node(R).rank=z.node(k).rank+(H?D.minlen:-D.minlen)})}function C(A,z,U){return A.hasEdge(z,U)}function O(A,z,U){return U.low<=z.lim&&z.lim<=U.lim}return P5}var B5,rN;function cse(){if(rN)return B5;rN=1;var t=$m(),e=t.longestPath,n=$L(),r=use();B5=i;function i(h){switch(h.graph().ranker){case"network-simplex":c(h);break;case"tight-tree":l(h);break;case"longest-path":s(h);break;default:c(h)}}var s=e;function l(h){e(h),n(h)}function c(h){r(h)}return B5}var j5,iN;function hse(){if(iN)return j5;iN=1;var t=on();j5=e;function e(i){var s=r(i);t.forEach(i.graph().dummyChains,function(l){for(var c=i.node(l),h=c.edgeObj,f=n(i,s,h.v,h.w),m=f.path,p=f.lca,v=0,b=m[v],w=!0;l!==h.w;){if(c=i.node(l),w){for(;(b=m[v])!==p&&i.node(b).maxRank<c.rank;)v++;b===p&&(w=!1)}if(!w){for(;v<m.length-1&&i.node(b=m[v+1]).minRank<=c.rank;)v++;b=m[v]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,s,l,c){var h=[],f=[],m=Math.min(s[l].low,s[c].low),p=Math.max(s[l].lim,s[c].lim),v,b;v=l;do v=i.parent(v),h.push(v);while(v&&(s[v].low>m||p>s[v].lim));for(b=v,v=c;(v=i.parent(v))!==b;)f.push(v);return{path:h.concat(f.reverse()),lca:b}}function r(i){var s={},l=0;function c(h){var f=l;t.forEach(i.children(h),c),s[h]={low:f,lim:l++}}return t.forEach(i.children(),c),s}return j5}var U5,aN;function fse(){if(aN)return U5;aN=1;var t=on(),e=Or();U5={run:n,cleanup:l};function n(c){var h=e.addDummyNode(c,"root",{},"_root"),f=i(c),m=t.max(t.values(f))-1,p=2*m+1;c.graph().nestingRoot=h,t.forEach(c.edges(),function(b){c.edge(b).minlen*=p});var v=s(c)+1;t.forEach(c.children(),function(b){r(c,h,p,v,m,f,b)}),c.graph().nodeRankFactor=p}function r(c,h,f,m,p,v,b){var w=c.children(b);if(!w.length){b!==h&&c.setEdge(h,b,{weight:0,minlen:f});return}var S=e.addBorderNode(c,"_bt"),E=e.addBorderNode(c,"_bb"),C=c.node(b);c.setParent(S,b),C.borderTop=S,c.setParent(E,b),C.borderBottom=E,t.forEach(w,function(O){r(c,h,f,m,p,v,O);var A=c.node(O),z=A.borderTop?A.borderTop:O,U=A.borderBottom?A.borderBottom:O,q=A.borderTop?m:2*m,R=z!==U?1:p-v[b]+1;c.setEdge(S,z,{weight:q,minlen:R,nestingEdge:!0}),c.setEdge(U,E,{weight:q,minlen:R,nestingEdge:!0})}),c.parent(b)||c.setEdge(h,S,{weight:0,minlen:p+v[b]})}function i(c){var h={};function f(m,p){var v=c.children(m);v&&v.length&&t.forEach(v,function(b){f(b,p+1)}),h[m]=p}return t.forEach(c.children(),function(m){f(m,1)}),h}function s(c){return t.reduce(c.edges(),function(h,f){return h+c.edge(f).weight},0)}function l(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,t.forEach(c.edges(),function(f){var m=c.edge(f);m.nestingEdge&&c.removeEdge(f)})}return U5}var H5,sN;function dse(){if(sN)return H5;sN=1;var t=on(),e=Or();H5=n;function n(i){function s(l){var c=i.children(l),h=i.node(l);if(c.length&&t.forEach(c,s),t.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var f=h.minRank,m=h.maxRank+1;f<m;++f)r(i,"borderLeft","_bl",l,h,f),r(i,"borderRight","_br",l,h,f)}}t.forEach(i.children(),s)}function r(i,s,l,c,h,f){var m={width:0,height:0,rank:f,borderType:s},p=h[s][f-1],v=e.addDummyNode(i,"border",m,l);h[s][f]=v,i.setParent(v,c),p&&i.setEdge(p,v,{weight:1})}return H5}var F5,oN;function mse(){if(oN)return F5;oN=1;var t=on();F5={adjust:e,undo:n};function e(f){var m=f.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&r(f)}function n(f){var m=f.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&s(f),(m==="lr"||m==="rl")&&(c(f),r(f))}function r(f){t.forEach(f.nodes(),function(m){i(f.node(m))}),t.forEach(f.edges(),function(m){i(f.edge(m))})}function i(f){var m=f.width;f.width=f.height,f.height=m}function s(f){t.forEach(f.nodes(),function(m){l(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,l),t.has(p,"y")&&l(p)})}function l(f){f.y=-f.y}function c(f){t.forEach(f.nodes(),function(m){h(f.node(m))}),t.forEach(f.edges(),function(m){var p=f.edge(m);t.forEach(p.points,h),t.has(p,"x")&&h(p)})}function h(f){var m=f.x;f.x=f.y,f.y=m}return F5}var G5,lN;function pse(){if(lN)return G5;lN=1;var t=on();G5=e;function e(n){var r={},i=t.filter(n.nodes(),function(f){return!n.children(f).length}),s=t.max(t.map(i,function(f){return n.node(f).rank})),l=t.map(t.range(s+1),function(){return[]});function c(f){if(!t.has(r,f)){r[f]=!0;var m=n.node(f);l[m.rank].push(f),t.forEach(n.successors(f),c)}}var h=t.sortBy(i,function(f){return n.node(f).rank});return t.forEach(h,c),l}return G5}var $5,uN;function gse(){if(uN)return $5;uN=1;var t=on();$5=e;function e(r,i){for(var s=0,l=1;l<i.length;++l)s+=n(r,i[l-1],i[l]);return s}function n(r,i,s){for(var l=t.zipObject(s,t.map(s,function(v,b){return b})),c=t.flatten(t.map(i,function(v){return t.sortBy(t.map(r.outEdges(v),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),h=1;h<s.length;)h<<=1;var f=2*h-1;h-=1;var m=t.map(new Array(f),function(){return 0}),p=0;return t.forEach(c.forEach(function(v){var b=v.pos+h;m[b]+=v.weight;for(var w=0;b>0;)b%2&&(w+=m[b+1]),b=b-1>>1,m[b]+=v.weight;p+=v.weight*w})),p}return $5}var Y5,cN;function vse(){if(cN)return Y5;cN=1;var t=on();Y5=e;function e(n,r){return t.map(r,function(i){var s=n.inEdges(i);if(s.length){var l=t.reduce(s,function(c,h){var f=n.edge(h),m=n.node(h.v);return{sum:c.sum+f.weight*m.order,weight:c.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return Y5}var X5,hN;function yse(){if(hN)return X5;hN=1;var t=on();X5=e;function e(i,s){var l={};t.forEach(i,function(h,f){var m=l[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:f};t.isUndefined(h.barycenter)||(m.barycenter=h.barycenter,m.weight=h.weight)}),t.forEach(s.edges(),function(h){var f=l[h.v],m=l[h.w];!t.isUndefined(f)&&!t.isUndefined(m)&&(m.indegree++,f.out.push(l[h.w]))});var c=t.filter(l,function(h){return!h.indegree});return n(c)}function n(i){var s=[];function l(f){return function(m){m.merged||(t.isUndefined(m.barycenter)||t.isUndefined(f.barycenter)||m.barycenter>=f.barycenter)&&r(f,m)}}function c(f){return function(m){m.in.push(f),--m.indegree===0&&i.push(m)}}for(;i.length;){var h=i.pop();s.push(h),t.forEach(h.in.reverse(),l(h)),t.forEach(h.out,c(h))}return t.map(t.filter(s,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function r(i,s){var l=0,c=0;i.weight&&(l+=i.barycenter*i.weight,c+=i.weight),s.weight&&(l+=s.barycenter*s.weight,c+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=l/c,i.weight=c,i.i=Math.min(s.i,i.i),s.merged=!0}return X5}var K5,fN;function _se(){if(fN)return K5;fN=1;var t=on(),e=Or();K5=n;function n(s,l){var c=e.partition(s,function(S){return t.has(S,"barycenter")}),h=c.lhs,f=t.sortBy(c.rhs,function(S){return-S.i}),m=[],p=0,v=0,b=0;h.sort(i(!!l)),b=r(m,f,b),t.forEach(h,function(S){b+=S.vs.length,m.push(S.vs),p+=S.barycenter*S.weight,v+=S.weight,b=r(m,f,b)});var w={vs:t.flatten(m,!0)};return v&&(w.barycenter=p/v,w.weight=v),w}function r(s,l,c){for(var h;l.length&&(h=t.last(l)).i<=c;)l.pop(),s.push(h.vs),c++;return c}function i(s){return function(l,c){return l.barycenter<c.barycenter?-1:l.barycenter>c.barycenter?1:s?c.i-l.i:l.i-c.i}}return K5}var Q5,dN;function bse(){if(dN)return Q5;dN=1;var t=on(),e=vse(),n=yse(),r=_se();Q5=i;function i(c,h,f,m){var p=c.children(h),v=c.node(h),b=v?v.borderLeft:void 0,w=v?v.borderRight:void 0,S={};b&&(p=t.filter(p,function(U){return U!==b&&U!==w}));var E=e(c,p);t.forEach(E,function(U){if(c.children(U.v).length){var q=i(c,U.v,f,m);S[U.v]=q,t.has(q,"barycenter")&&l(U,q)}});var C=n(E,f);s(C,S);var O=r(C,m);if(b&&(O.vs=t.flatten([b,O.vs,w],!0),c.predecessors(b).length)){var A=c.node(c.predecessors(b)[0]),z=c.node(c.predecessors(w)[0]);t.has(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+A.order+z.order)/(O.weight+2),O.weight+=2}return O}function s(c,h){t.forEach(c,function(f){f.vs=t.flatten(f.vs.map(function(m){return h[m]?h[m].vs:m}),!0)})}function l(c,h){t.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}return Q5}var Z5,mN;function wse(){if(mN)return Z5;mN=1;var t=on(),e=Xi().Graph;Z5=n;function n(i,s,l){var c=r(i),h=new e({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(f){return i.node(f)});return t.forEach(i.nodes(),function(f){var m=i.node(f),p=i.parent(f);(m.rank===s||m.minRank<=s&&s<=m.maxRank)&&(h.setNode(f),h.setParent(f,p||c),t.forEach(i[l](f),function(v){var b=v.v===f?v.w:v.v,w=h.edge(b,f),S=t.isUndefined(w)?0:w.weight;h.setEdge(b,f,{weight:i.edge(v).weight+S})}),t.has(m,"minRank")&&h.setNode(f,{borderLeft:m.borderLeft[s],borderRight:m.borderRight[s]}))}),h}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return Z5}var W5,pN;function xse(){if(pN)return W5;pN=1;var t=on();W5=e;function e(n,r,i){var s={},l;t.forEach(i,function(c){for(var h=n.parent(c),f,m;h;){if(f=n.parent(h),f?(m=s[f],s[f]=h):(m=l,l=h),m&&m!==h){r.setEdge(m,h);return}h=f}})}return W5}var J5,gN;function Sse(){if(gN)return J5;gN=1;var t=on(),e=pse(),n=gse(),r=bse(),i=wse(),s=xse(),l=Xi().Graph,c=Or();J5=h;function h(v){var b=c.maxRank(v),w=f(v,t.range(1,b+1),"inEdges"),S=f(v,t.range(b-1,-1,-1),"outEdges"),E=e(v);p(v,E);for(var C=Number.POSITIVE_INFINITY,O,A=0,z=0;z<4;++A,++z){m(A%2?w:S,A%4>=2),E=c.buildLayerMatrix(v);var U=n(v,E);U<C&&(z=0,O=t.cloneDeep(E),C=U)}p(v,O)}function f(v,b,w){return t.map(b,function(S){return i(v,S,w)})}function m(v,b){var w=new l;t.forEach(v,function(S){var E=S.graph().root,C=r(S,E,w,b);t.forEach(C.vs,function(O,A){S.node(O).order=A}),s(S,w,C.vs)})}function p(v,b){t.forEach(b,function(w){t.forEach(w,function(S,E){v.node(S).order=E})})}return J5}var e6,vN;function Ese(){if(vN)return e6;vN=1;var t=on(),e=Xi().Graph,n=Or();e6={positionX:w,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:c,verticalAlignment:h,horizontalCompaction:f,alignCoordinates:v,findSmallestWidthAlignment:p,balance:b};function r(C,O){var A={};function z(U,q){var R=0,k=0,D=U.length,H=t.last(q);return t.forEach(q,function(V,j){var B=s(C,V),K=B?C.node(B).order:D;(B||V===H)&&(t.forEach(q.slice(k,j+1),function(ie){t.forEach(C.predecessors(ie),function($){var Z=C.node($),re=Z.order;(re<R||K<re)&&!(Z.dummy&&C.node(ie).dummy)&&l(A,$,ie)})}),k=j+1,R=K)}),q}return t.reduce(O,z),A}function i(C,O){var A={};function z(q,R,k,D,H){var V;t.forEach(t.range(R,k),function(j){V=q[j],C.node(V).dummy&&t.forEach(C.predecessors(V),function(B){var K=C.node(B);K.dummy&&(K.order<D||K.order>H)&&l(A,B,V)})})}function U(q,R){var k=-1,D,H=0;return t.forEach(R,function(V,j){if(C.node(V).dummy==="border"){var B=C.predecessors(V);B.length&&(D=C.node(B[0]).order,z(R,H,j,k,D),H=j,k=D)}z(R,H,R.length,D,q.length)}),R}return t.reduce(O,U),A}function s(C,O){if(C.node(O).dummy)return t.find(C.predecessors(O),function(A){return C.node(A).dummy})}function l(C,O,A){if(O>A){var z=O;O=A,A=z}var U=C[O];U||(C[O]=U={}),U[A]=!0}function c(C,O,A){if(O>A){var z=O;O=A,A=z}return t.has(C[O],A)}function h(C,O,A,z){var U={},q={},R={};return t.forEach(O,function(k){t.forEach(k,function(D,H){U[D]=D,q[D]=D,R[D]=H})}),t.forEach(O,function(k){var D=-1;t.forEach(k,function(H){var V=z(H);if(V.length){V=t.sortBy(V,function($){return R[$]});for(var j=(V.length-1)/2,B=Math.floor(j),K=Math.ceil(j);B<=K;++B){var ie=V[B];q[H]===H&&D<R[ie]&&!c(A,H,ie)&&(q[ie]=H,q[H]=U[H]=U[ie],D=R[ie])}}})}),{root:U,align:q}}function f(C,O,A,z,U){var q={},R=m(C,O,A,U),k=U?"borderLeft":"borderRight";function D(j,B){for(var K=R.nodes(),ie=K.pop(),$={};ie;)$[ie]?j(ie):($[ie]=!0,K.push(ie),K=K.concat(B(ie))),ie=K.pop()}function H(j){q[j]=R.inEdges(j).reduce(function(B,K){return Math.max(B,q[K.v]+R.edge(K))},0)}function V(j){var B=R.outEdges(j).reduce(function(ie,$){return Math.min(ie,q[$.w]-R.edge($))},Number.POSITIVE_INFINITY),K=C.node(j);B!==Number.POSITIVE_INFINITY&&K.borderType!==k&&(q[j]=Math.max(q[j],B))}return D(H,R.predecessors.bind(R)),D(V,R.successors.bind(R)),t.forEach(z,function(j){q[j]=q[A[j]]}),q}function m(C,O,A,z){var U=new e,q=C.graph(),R=S(q.nodesep,q.edgesep,z);return t.forEach(O,function(k){var D;t.forEach(k,function(H){var V=A[H];if(U.setNode(V),D){var j=A[D],B=U.edge(j,V);U.setEdge(j,V,Math.max(R(C,H,D),B||0))}D=H})}),U}function p(C,O){return t.minBy(t.values(O),function(A){var z=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY;return t.forIn(A,function(q,R){var k=E(C,R)/2;z=Math.max(q+k,z),U=Math.min(q-k,U)}),z-U})}function v(C,O){var A=t.values(O),z=t.min(A),U=t.max(A);t.forEach(["u","d"],function(q){t.forEach(["l","r"],function(R){var k=q+R,D=C[k],H;if(D!==O){var V=t.values(D);H=R==="l"?z-t.min(V):U-t.max(V),H&&(C[k]=t.mapValues(D,function(j){return j+H}))}})})}function b(C,O){return t.mapValues(C.ul,function(A,z){if(O)return C[O.toLowerCase()][z];var U=t.sortBy(t.map(C,z));return(U[1]+U[2])/2})}function w(C){var O=n.buildLayerMatrix(C),A=t.merge(r(C,O),i(C,O)),z={},U;t.forEach(["u","d"],function(R){U=R==="u"?O:t.values(O).reverse(),t.forEach(["l","r"],function(k){k==="r"&&(U=t.map(U,function(j){return t.values(j).reverse()}));var D=(R==="u"?C.predecessors:C.successors).bind(C),H=h(C,U,A,D),V=f(C,U,H.root,H.align,k==="r");k==="r"&&(V=t.mapValues(V,function(j){return-j})),z[R+k]=V})});var q=p(C,z);return v(z,q),b(z,C.graph().align)}function S(C,O,A){return function(z,U,q){var R=z.node(U),k=z.node(q),D=0,H;if(D+=R.width/2,t.has(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":H=-R.width/2;break;case"r":H=R.width/2;break}if(H&&(D+=A?H:-H),H=0,D+=(R.dummy?O:C)/2,D+=(k.dummy?O:C)/2,D+=k.width/2,t.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":H=k.width/2;break;case"r":H=-k.width/2;break}return H&&(D+=A?H:-H),H=0,D}}function E(C,O){return C.node(O).width}return e6}var t6,yN;function Tse(){if(yN)return t6;yN=1;var t=on(),e=Or(),n=Ese().positionX;t6=r;function r(s){s=e.asNonCompoundGraph(s),i(s),t.forEach(n(s),function(l,c){s.node(c).x=l})}function i(s){var l=e.buildLayerMatrix(s),c=s.graph().ranksep,h=0;t.forEach(l,function(f){var m=t.max(t.map(f,function(p){return s.node(p).height}));t.forEach(f,function(p){s.node(p).y=h+m/2}),h+=m+c})}return t6}var n6,_N;function Ase(){if(_N)return n6;_N=1;var t=on(),e=ose(),n=lse(),r=cse(),i=Or().normalizeRanks,s=hse(),l=Or().removeEmptyRanks,c=fse(),h=dse(),f=mse(),m=Sse(),p=Tse(),v=Or(),b=Xi().Graph;n6=w;function w(Q,ae){var ce=ae&&ae.debugTiming?v.time:v.notime;ce("layout",function(){var pe=ce("  buildLayoutGraph",function(){return D(Q)});ce("  runLayout",function(){S(pe,ce)}),ce("  updateInputGraph",function(){E(Q,pe)})})}function S(Q,ae){ae("    makeSpaceForEdgeLabels",function(){H(Q)}),ae("    removeSelfEdges",function(){le(Q)}),ae("    acyclic",function(){e.run(Q)}),ae("    nestingGraph.run",function(){c.run(Q)}),ae("    rank",function(){r(v.asNonCompoundGraph(Q))}),ae("    injectEdgeLabelProxies",function(){V(Q)}),ae("    removeEmptyRanks",function(){l(Q)}),ae("    nestingGraph.cleanup",function(){c.cleanup(Q)}),ae("    normalizeRanks",function(){i(Q)}),ae("    assignRankMinMax",function(){j(Q)}),ae("    removeEdgeLabelProxies",function(){B(Q)}),ae("    normalize.run",function(){n.run(Q)}),ae("    parentDummyChains",function(){s(Q)}),ae("    addBorderSegments",function(){h(Q)}),ae("    order",function(){m(Q)}),ae("    insertSelfEdges",function(){_e(Q)}),ae("    adjustCoordinateSystem",function(){f.adjust(Q)}),ae("    position",function(){p(Q)}),ae("    positionSelfEdges",function(){X(Q)}),ae("    removeBorderNodes",function(){re(Q)}),ae("    normalize.undo",function(){n.undo(Q)}),ae("    fixupEdgeLabelCoords",function(){$(Q)}),ae("    undoCoordinateSystem",function(){f.undo(Q)}),ae("    translateGraph",function(){K(Q)}),ae("    assignNodeIntersects",function(){ie(Q)}),ae("    reversePoints",function(){Z(Q)}),ae("    acyclic.undo",function(){e.undo(Q)})}function E(Q,ae){t.forEach(Q.nodes(),function(ce){var pe=Q.node(ce),be=ae.node(ce);pe&&(pe.x=be.x,pe.y=be.y,ae.children(ce).length&&(pe.width=be.width,pe.height=be.height))}),t.forEach(Q.edges(),function(ce){var pe=Q.edge(ce),be=ae.edge(ce);pe.points=be.points,t.has(be,"x")&&(pe.x=be.x,pe.y=be.y)}),Q.graph().width=ae.graph().width,Q.graph().height=ae.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],z=["width","height"],U={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],R={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function D(Q){var ae=new b({multigraph:!0,compound:!0}),ce=ve(Q.graph());return ae.setGraph(t.merge({},O,te(ce,C),t.pick(ce,A))),t.forEach(Q.nodes(),function(pe){var be=ve(Q.node(pe));ae.setNode(pe,t.defaults(te(be,z),U)),ae.setParent(pe,Q.parent(pe))}),t.forEach(Q.edges(),function(pe){var be=ve(Q.edge(pe));ae.setEdge(pe,t.merge({},R,te(be,q),t.pick(be,k)))}),ae}function H(Q){var ae=Q.graph();ae.ranksep/=2,t.forEach(Q.edges(),function(ce){var pe=Q.edge(ce);pe.minlen*=2,pe.labelpos.toLowerCase()!=="c"&&(ae.rankdir==="TB"||ae.rankdir==="BT"?pe.width+=pe.labeloffset:pe.height+=pe.labeloffset)})}function V(Q){t.forEach(Q.edges(),function(ae){var ce=Q.edge(ae);if(ce.width&&ce.height){var pe=Q.node(ae.v),be=Q.node(ae.w),Ce={rank:(be.rank-pe.rank)/2+pe.rank,e:ae};v.addDummyNode(Q,"edge-proxy",Ce,"_ep")}})}function j(Q){var ae=0;t.forEach(Q.nodes(),function(ce){var pe=Q.node(ce);pe.borderTop&&(pe.minRank=Q.node(pe.borderTop).rank,pe.maxRank=Q.node(pe.borderBottom).rank,ae=t.max(ae,pe.maxRank))}),Q.graph().maxRank=ae}function B(Q){t.forEach(Q.nodes(),function(ae){var ce=Q.node(ae);ce.dummy==="edge-proxy"&&(Q.edge(ce.e).labelRank=ce.rank,Q.removeNode(ae))})}function K(Q){var ae=Number.POSITIVE_INFINITY,ce=0,pe=Number.POSITIVE_INFINITY,be=0,Ce=Q.graph(),Le=Ce.marginx||0,He=Ce.marginy||0;function Ue(Pe){var Ge=Pe.x,Be=Pe.y,st=Pe.width,$e=Pe.height;ae=Math.min(ae,Ge-st/2),ce=Math.max(ce,Ge+st/2),pe=Math.min(pe,Be-$e/2),be=Math.max(be,Be+$e/2)}t.forEach(Q.nodes(),function(Pe){Ue(Q.node(Pe))}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.has(Ge,"x")&&Ue(Ge)}),ae-=Le,pe-=He,t.forEach(Q.nodes(),function(Pe){var Ge=Q.node(Pe);Ge.x-=ae,Ge.y-=pe}),t.forEach(Q.edges(),function(Pe){var Ge=Q.edge(Pe);t.forEach(Ge.points,function(Be){Be.x-=ae,Be.y-=pe}),t.has(Ge,"x")&&(Ge.x-=ae),t.has(Ge,"y")&&(Ge.y-=pe)}),Ce.width=ce-ae+Le,Ce.height=be-pe+He}function ie(Q){t.forEach(Q.edges(),function(ae){var ce=Q.edge(ae),pe=Q.node(ae.v),be=Q.node(ae.w),Ce,Le;ce.points?(Ce=ce.points[0],Le=ce.points[ce.points.length-1]):(ce.points=[],Ce=be,Le=pe),ce.points.unshift(v.intersectRect(pe,Ce)),ce.points.push(v.intersectRect(be,Le))})}function $(Q){t.forEach(Q.edges(),function(ae){var ce=Q.edge(ae);if(t.has(ce,"x"))switch((ce.labelpos==="l"||ce.labelpos==="r")&&(ce.width-=ce.labeloffset),ce.labelpos){case"l":ce.x-=ce.width/2+ce.labeloffset;break;case"r":ce.x+=ce.width/2+ce.labeloffset;break}})}function Z(Q){t.forEach(Q.edges(),function(ae){var ce=Q.edge(ae);ce.reversed&&ce.points.reverse()})}function re(Q){t.forEach(Q.nodes(),function(ae){if(Q.children(ae).length){var ce=Q.node(ae),pe=Q.node(ce.borderTop),be=Q.node(ce.borderBottom),Ce=Q.node(t.last(ce.borderLeft)),Le=Q.node(t.last(ce.borderRight));ce.width=Math.abs(Le.x-Ce.x),ce.height=Math.abs(be.y-pe.y),ce.x=Ce.x+ce.width/2,ce.y=pe.y+ce.height/2}}),t.forEach(Q.nodes(),function(ae){Q.node(ae).dummy==="border"&&Q.removeNode(ae)})}function le(Q){t.forEach(Q.edges(),function(ae){if(ae.v===ae.w){var ce=Q.node(ae.v);ce.selfEdges||(ce.selfEdges=[]),ce.selfEdges.push({e:ae,label:Q.edge(ae)}),Q.removeEdge(ae)}})}function _e(Q){var ae=v.buildLayerMatrix(Q);t.forEach(ae,function(ce){var pe=0;t.forEach(ce,function(be,Ce){var Le=Q.node(be);Le.order=Ce+pe,t.forEach(Le.selfEdges,function(He){v.addDummyNode(Q,"selfedge",{width:He.label.width,height:He.label.height,rank:Le.rank,order:Ce+ ++pe,e:He.e,label:He.label},"_se")}),delete Le.selfEdges})})}function X(Q){t.forEach(Q.nodes(),function(ae){var ce=Q.node(ae);if(ce.dummy==="selfedge"){var pe=Q.node(ce.e.v),be=pe.x+pe.width/2,Ce=pe.y,Le=ce.x-be,He=pe.height/2;Q.setEdge(ce.e,ce.label),Q.removeNode(ae),ce.label.points=[{x:be+2*Le/3,y:Ce-He},{x:be+5*Le/6,y:Ce-He},{x:be+Le,y:Ce},{x:be+5*Le/6,y:Ce+He},{x:be+2*Le/3,y:Ce+He}],ce.label.x=ce.x,ce.label.y=ce.y}})}function te(Q,ae){return t.mapValues(t.pick(Q,ae),Number)}function ve(Q){var ae={};return t.forEach(Q,function(ce,pe){ae[pe.toLowerCase()]=ce}),ae}return n6}var r6,bN;function Cse(){if(bN)return r6;bN=1;var t=on(),e=Or(),n=Xi().Graph;r6={debugOrdering:r};function r(i){var s=e.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(c){l.setNode(c,{label:c}),l.setParent(c,"layer"+i.node(c).rank)}),t.forEach(i.edges(),function(c){l.setEdge(c.v,c.w,{},c.name)}),t.forEach(s,function(c,h){var f="layer"+h;l.setNode(f,{rank:"same"}),t.reduce(c,function(m,p){return l.setEdge(m,p,{style:"invis"}),p})}),l}return r6}var i6,wN;function Rse(){return wN||(wN=1,i6="0.8.5"),i6}var a6,xN;function Ise(){return xN||(xN=1,a6={graphlib:Xi(),layout:Ase(),debug:Cse(),util:{time:Or().time,notime:Or().notime},version:Rse()}),a6}var Nse=Ise();const SN=Ym(Nse),Mse=(t,e)=>({id:`e-${t}-${e}`,source:t,target:e,type:"smoothstep",markerEnd:{type:ah.ArrowClosed},style:{stroke:T_.parentLine}}),kse=(t,e)=>({id:`dup-${t}-${e}`,source:t,target:e,type:"straight",animated:!0,style:{stroke:T_.duplicateLine,strokeDasharray:5},label:"Duplicate"}),s6=300,o6=120,Dse=(t,e)=>{const n=new SN.graphlib.Graph;n.setGraph({rankdir:"TB",nodesep:50,ranksep:80}),n.setDefaultEdgeLabel(()=>({}));const r=[],i=[];return t.forEach(l=>{const c=l.displayLatex;let h="";if(l.axiomId){const p=e.find(v=>v.id===l.axiomId);p&&(h=`\\\\ \\text{\\small{Axiom: ${p.canonicalName}}} \\\\ {\\tiny ${p.defaultLatex}}`)}const f=`\\begin{matrix} \\text{\\textbf{${c}}} ${h} \\end{matrix}`;n.setNode(l.id,{width:s6,height:o6});const m={...l,displayLatex:f,stats:l.stats||{greenVotes:0,blackVotes:0}};r.push({id:l.id,type:"mathNode",data:m,position:{x:0,y:0},targetPosition:Ye.Top,sourcePosition:Ye.Bottom}),l.parentId&&(i.push(Mse(l.parentId,l.id)),n.setEdge(l.parentId,l.id)),l.duplicateOfId&&i.push(kse(l.id,l.duplicateOfId))}),SN.layout(n),{nodes:r.map(l=>{const c=n.node(l.id);return{...l,position:{x:c.x-s6/2,y:c.y-o6/2},style:{width:s6,height:o6}}}),edges:i}},Ose=({isOpen:t,onClose:e,onSelect:n,availableAxioms:r})=>{const[i,s]=ee.useState(""),l=ee.useMemo(()=>{if(!i.trim())return r;const c=i.toLowerCase();return r.filter(h=>h.canonicalName.toLowerCase().includes(c)||h.defaultLatex.toLowerCase().includes(c))},[r,i]);return t?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:Oe.drawerOverlay,onClick:e}),I.jsxs("div",{className:Oe.drawer,children:[I.jsxs("div",{className:Oe.drawerHeader,children:[I.jsx("h3",{children:"Axiom Library"}),I.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),I.jsx("div",{className:Oe.drawerSearch,children:I.jsx("input",{className:Oe.input,placeholder:"Search axioms (e.g. 'Commutativity' or '\\forall')...",value:i,onChange:c=>s(c.target.value),autoFocus:!0})}),I.jsx("div",{className:Oe.drawerBody,children:l.length>0?l.map(c=>I.jsxs("div",{className:Oe.libraryItem,onClick:()=>n(c),title:"Click to select this axiom",children:[I.jsxs("div",{className:Oe.libraryItemHeader,children:[I.jsx("strong",{children:c.canonicalName}),I.jsxs("span",{className:Oe.libraryItemTag,children:["ID: ",c.id]})]}),I.jsx("div",{className:Oe.preview,children:I.jsx(Un,{latex:c.defaultLatex})})]},c.id)):I.jsxs("div",{style:{textAlign:"center",color:"#888",marginTop:"20px"},children:['No axioms found matching "',i,'"']})})]})]}):null},zse=({parentName:t,rootEnvironment:e,availableAxioms:n,onClose:r,onSubmit:i})=>{const[s,l]=ee.useState(""),[c,h]=ee.useState(""),[f,m]=ee.useState(`\\forall a, b \\in ${e.sets[0]}...`),[p,v]=ee.useState(!1),[b,w]=ee.useState(null),[S,E]=ee.useState(!1),C=ee.useMemo(()=>{if(!c||b)return[];const q=c.toLowerCase();return n.filter(R=>R.canonicalName.toLowerCase().includes(q)).slice(0,5)},[c,n,b]),O=q=>{h(q.canonicalName),m(q.defaultLatex),w(q.id),E(!1),v(!1)},A=q=>{h(q),E(!0),b&&w(null)},z=()=>{!s||!c||(i({structureName:s,axiomName:c,axiomLatex:f,existingAxiomId:b||void 0}),r())},U=`\\text{Sets: } \\{ ${e.sets.join(", ")} \\} \\quad \\text{Operators: } \\{ ${e.operators.join(", ")} \\}`;return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:Oe.overlay,children:I.jsxs("div",{className:Oe.container,children:[I.jsxs("div",{className:Oe.header,children:[I.jsxs("h2",{children:["Extend: ",t]}),I.jsx("button",{className:Oe.closeButton,onClick:r,children:""})]}),I.jsxs("div",{className:Oe.body,children:[I.jsxs("p",{className:Oe.description,children:["Add an axiom to ",I.jsx("strong",{children:t})," to create a new Structure."]}),I.jsxs("div",{className:Oe.contextBox,children:[I.jsx("div",{className:Oe.contextLabel,children:"Defined Context (Immutable)"}),I.jsx(Un,{latex:U})]}),I.jsxs("div",{className:Oe.group,style:{position:"relative"},children:[I.jsx("label",{className:Oe.label,children:"1. Select or Name New Axiom"}),I.jsxs("div",{className:Oe.inputGroupRow,children:[I.jsx("input",{className:Oe.input,placeholder:"Type to search (e.g. 'Commutativity')...",value:c,onChange:q=>A(q.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),autoComplete:"off"}),I.jsx("button",{className:Oe.browseBtn,onClick:()=>v(!0),title:"Browse Axiom Library",children:""})]}),S&&C.length>0&&I.jsx("div",{className:Oe.suggestionsDropdown,children:C.map(q=>I.jsxs("div",{className:Oe.suggestionItem,onClick:()=>O(q),children:[I.jsx("strong",{children:q.canonicalName}),I.jsxs("span",{className:Oe.suggestionDetail,children:["- ",I.jsx(Un,{latex:q.defaultLatex})]})]},q.id))})]}),I.jsxs("div",{className:Oe.group,children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[I.jsx("label",{className:Oe.label,children:"Axiom Formula (LaTeX)"}),b&&I.jsx("span",{style:{fontSize:"0.75rem",color:"#2e7d32",fontWeight:"bold"},children:" Linked to Library"})]}),I.jsx("input",{className:b?Oe.inputLocked:Oe.input,value:f,onChange:q=>!b&&m(q.target.value),readOnly:!!b,title:b?"This formula is locked because it is linked to a library axiom.":""}),I.jsx("div",{className:Oe.preview,children:I.jsx(Un,{latex:f||"Preview..."})})]}),I.jsx("hr",{className:Oe.separator}),I.jsxs("div",{className:Oe.group,children:[I.jsx("label",{className:Oe.label,children:"2. Resulting Structure Name"}),I.jsx("input",{className:Oe.input,placeholder:"e.g. Abelian Group",value:s,onChange:q=>l(q.target.value)})]})]}),I.jsxs("div",{className:Oe.footer,children:[I.jsx("button",{className:Oe.cancelBtn,onClick:r,children:"Cancel"}),I.jsx("button",{className:Oe.submitBtn,onClick:z,children:"Create Structure"})]})]})}),I.jsx(Ose,{isOpen:p,onClose:()=>v(!1),onSelect:O,availableAxioms:n})]})},Lse="_overlay_srt9h_3",Vse="_modal_srt9h_23",qse="_header_srt9h_42",Pse="_title_srt9h_51",Bse="_closeBtn_srt9h_58",jse="_toolbar_srt9h_70",Use="_tabs_srt9h_79",Hse="_tab_srt9h_79",Fse="_activeTab_srt9h_101",Gse="_searchInput_srt9h_106",$se="_listContainer_srt9h_121",Yse="_list_srt9h_121",Xse="_item_srt9h_133",Kse="_itemInfo_srt9h_147",Qse="_itemName_srt9h_152",Zse="_itemLatex_srt9h_162",Wse="_deleteBtn_srt9h_178",Jse="_disabled_srt9h_197",eoe="_empty_srt9h_208",Ht={overlay:Lse,modal:Vse,header:qse,title:Pse,closeBtn:Bse,toolbar:jse,tabs:Use,tab:Hse,activeTab:Fse,searchInput:Gse,listContainer:$se,list:Yse,item:Xse,itemInfo:Kse,itemName:Qse,itemLatex:Zse,deleteBtn:Wse,disabled:Jse,empty:eoe},toe=({axioms:t,theorems:e,onClose:n,onDeleteAxiom:r,onDeleteTheorem:i})=>{const[s,l]=ee.useState("axioms"),[c,h]=ee.useState(""),[f,m]=ee.useState(null),p=t.filter(S=>S.canonicalName.toLowerCase().includes(c.toLowerCase())||S.defaultLatex.includes(c)),v=e.filter(S=>S.name.toLowerCase().includes(c.toLowerCase())||S.statementLatex.includes(c)),b=async S=>{m(S.id);try{const E=Rl(qt,"nodes"),C=D1(E,oz("axiomId","==",S.id)),A=(await RJ(C)).data().count;if(A>0){alert(` CANVAS INTEGRITY PROTECTION 

Cannot delete axiom "${S.canonicalName}".
It is currently the foundation for ${A} structure(s) across the system.

You must delete those structures first.`);return}confirm(`Are you sure you want to delete the axiom "${S.canonicalName}"?
This cannot be undone.`)&&r(S.id)}catch(E){console.error("Integrity check failed:",E),alert("Failed to verify axiom usage. Please check your connection.")}finally{m(null)}},w=S=>{confirm(`Are you sure you want to delete the theorem "${S.name}"?`)&&i(S.id)};return I.jsx("div",{className:Ht.overlay,children:I.jsxs("div",{className:Ht.modal,children:[I.jsxs("div",{className:Ht.header,children:[I.jsx("h2",{className:Ht.title,children:"System Library"}),I.jsx("button",{onClick:n,className:Ht.closeBtn,children:""})]}),I.jsxs("div",{className:Ht.toolbar,children:[I.jsxs("div",{className:Ht.tabs,children:[I.jsxs("button",{className:`${Ht.tab} ${s==="axioms"?Ht.activeTab:""}`,onClick:()=>l("axioms"),children:["Axioms (",t.length,")"]}),I.jsxs("button",{className:`${Ht.tab} ${s==="theorems"?Ht.activeTab:""}`,onClick:()=>l("theorems"),children:["Theorems (",e.length,")"]})]}),I.jsx("input",{type:"text",placeholder:"Search library...",value:c,onChange:S=>h(S.target.value),className:Ht.searchInput})]}),I.jsxs("div",{className:Ht.listContainer,children:[s==="axioms"&&I.jsxs("ul",{className:Ht.list,children:[p.map(S=>{const E=f===S.id;return I.jsxs("li",{className:Ht.item,children:[I.jsxs("div",{className:Ht.itemInfo,children:[I.jsx("div",{className:Ht.itemName,children:S.canonicalName}),I.jsx("div",{className:Ht.itemLatex,children:I.jsx(Un,{latex:S.defaultLatex})})]}),I.jsx("button",{onClick:()=>b(S),className:`${Ht.deleteBtn} ${E?Ht.disabled:""}`,disabled:E,title:"Delete Axiom",children:E?"":""})]},S.id)}),p.length===0&&I.jsx("div",{className:Ht.empty,children:"No axioms found."})]}),s==="theorems"&&I.jsxs("ul",{className:Ht.list,children:[v.map(S=>I.jsxs("li",{className:Ht.item,children:[I.jsxs("div",{className:Ht.itemInfo,children:[I.jsx("div",{className:Ht.itemName,children:S.name}),I.jsx("div",{className:Ht.itemLatex,children:I.jsx(Un,{latex:S.statementLatex})})]}),I.jsx("button",{onClick:()=>w(S),className:Ht.deleteBtn,title:"Delete Theorem",children:""})]},S.id)),v.length===0&&I.jsx("div",{className:Ht.empty,children:"No theorems found."})]})]})]})})},noe="_explorerRoot_1yxa0_3",roe="_extendBtnContainer_1yxa0_11",ioe="_extendBtn_1yxa0_11",aoe="_plusIcon_1yxa0_46",soe="_backBtnContainer_1yxa0_53",ooe="_backBtn_1yxa0_53",fo={explorerRoot:noe,extendBtnContainer:roe,extendBtn:ioe,plusIcon:aoe,backBtnContainer:soe,backBtn:ooe},loe=t=>{const[e,n]=ee.useState([]),[r,i]=ee.useState([]),[s,l]=ee.useState([]),[c,h]=ee.useState(null),[f,m]=ee.useState(!0);return ee.useEffect(()=>{if(!t)return;m(!0);const p=Tn(qt,"environments",t),v=Yu(p,C=>{C.exists()&&h(C.data()),m(!1)},C=>{console.error("Error fetching environment:",C),m(!1)}),b=D1(Rl(qt,"nodes"),oz("rootContextId","==",t)),w=Yu(b,C=>{const O=C.docs.map(A=>A.data());n(O)},C=>console.error("Error fetching nodes:",C)),S=Yu(Rl(qt,"axioms"),C=>{const O=C.docs.map(A=>A.data());i(O)},C=>console.error("Error fetching axioms:",C)),E=Yu(Rl(qt,"theorems"),C=>{const O=C.docs.map(A=>A.data());l(O)},C=>console.error("Error fetching theorems:",C));return()=>{v(),w(),S(),E()}},[t]),{nodes:e,axioms:r,theorems:s,activeEnvironment:c,isLoading:f}},uoe=({universeId:t,onExit:e})=>{const{user:n,profile:r}=Nc(),i=r?.role==="admin",{nodes:s,axioms:l,theorems:c,activeEnvironment:h,isLoading:f}=loe(t),{nodes:m,edges:p}=ee.useMemo(()=>Dse(s,l),[s,l]),[v,b,w]=WG(m),[S,E,C]=JG(p);ee.useEffect(()=>{b(m),E(p)},[m,p,b,E]);const[O,A]=ee.useState(null),[z,U]=ee.useState(!1),[q,R]=ee.useState(!1),k=ee.useMemo(()=>({mathNode:Gte}),[]),D=ee.useMemo(()=>s.find(Z=>Z.id===O),[O,s]),H=ee.useCallback((Z,re)=>{A(re.id)},[]),V=ee.useCallback(()=>{A(null)},[]),j=async Z=>{if(!(!O||!D||!n)&&!(D.status==="deprecated"||D.status==="deadend"))try{await i_.createStructure({parentId:O,rootContextId:t,structureName:Z.structureName,existingAxiomId:Z.existingAxiomId,axiomName:Z.axiomName,axiomLatex:Z.axiomLatex},n.uid),rt.success("Structure created successfully"),U(!1)}catch(re){console.error("Failed to create structure:",re),rt.error("Error creating structure")}},B=async Z=>{if(s.some(le=>le.parentId===Z)){rt.error("Cannot delete node: It has children");return}if(confirm(` ADMIN WARNING 

Permanently delete this node?`))try{await i_.deleteStructure(Z),rt.success("Node deleted"),A(null)}catch(le){console.error("Delete failed:",le),rt.error("Failed to delete node")}},K=async Z=>{if(confirm(` ADMIN WARNING 

Permanently delete this theorem?`))try{await Gm.deleteTheorem(Z),rt.success("Theorem deleted")}catch(re){console.error(re),rt.error("Failed to delete theorem")}},ie=async Z=>{try{await a_.deleteAxiom(Z),rt.success("Axiom deleted")}catch(re){console.error(re),rt.error("Failed to delete axiom")}},$=async Z=>{if(!(!O||!n))try{await Gm.createTheorem(O,{name:Z.name,statementLatex:Z.statementLatex,proofLatex:Z.proofLatex},n.uid),rt.success("Theorem proposed successfully")}catch(re){console.error(re),rt.error("Failed to create theorem")}};return f?I.jsx("div",{className:fo.explorerRoot,children:"Loading Universe..."}):I.jsxs("div",{className:fo.explorerRoot,children:[I.jsxs("div",{className:fo.backBtnContainer,children:[I.jsx("button",{onClick:e,className:fo.backBtn,children:" Exit to Lobby"}),i&&I.jsx("button",{onClick:()=>R(!0),className:fo.backBtn,children:" Library"})]}),O&&D?.status!=="deprecated"&&D?.status!=="deadend"&&I.jsx("div",{className:fo.extendBtnContainer,children:I.jsxs("button",{onClick:()=>U(!0),className:fo.extendBtn,children:[I.jsx("span",{className:fo.plusIcon,children:"+"})," Extend Structure"]})}),I.jsx(MX,{nodes:v,edges:S,onNodesChange:w,onEdgesChange:C,onNodeClick:H,onPaneClick:V,nodeTypes:k,title:`\\text{${h?.name||"Universe"}}`}),D&&I.jsx(mre,{node:D,allNodes:s,allAxioms:l,allTheorems:c,onClose:()=>A(null),onAddTheorem:$,onDelete:B,onDeleteTheorem:K}),z&&D&&h&&I.jsx(zse,{parentId:D.id,parentName:D.displayLatex,rootEnvironment:h,availableAxioms:l,onClose:()=>U(!1),onSubmit:j}),q&&I.jsx(toe,{axioms:l,theorems:c,onClose:()=>R(!1),onDeleteAxiom:ie,onDeleteTheorem:K})]})},coe=()=>{const[t,e]=ee.useState([]),[n,r]=ee.useState(!0),[i,s]=ee.useState(null);return ee.useEffect(()=>{r(!0);const l=Yu(Rl(qt,"environments"),c=>{try{const h=c.docs.map(f=>({id:f.id,...f.data()}));e(h),r(!1),s(null)}catch(h){console.error("Error processing environments data:",h),s(h),r(!1)}},c=>{console.error("Error fetching environments:",c),s(c),r(!1)});return()=>l()},[]),{environments:t,isLoading:n,error:i}},l6={async createUniverse(t,e){const n=Date.now(),r=`env-${n}`,i=`ax-${n}`,s=`node-${n}`,l={id:r,name:t.envName,sets:t.sets,operators:t.operators},c={id:i,canonicalName:t.rootAxiomName,aliases:[],defaultLatex:t.rootAxiomLatex,authorId:e,createdAt:n},h={id:s,type:"algebraic structure",parentId:null,axiomId:i,authorId:e,displayLatex:`\\text{${t.rootNodeName}}`,status:"verified",rootContextId:r,toBeDeleted:!1,stats:{greenVotes:0,blackVotes:0},createdAt:n};try{await Nl(Tn(qt,"environments",r),l),await Nl(Tn(qt,"axioms",i),c),await Nl(Tn(qt,"nodes",s),h),console.log(`Universe '${t.envName}' created successfully.`)}catch(f){throw console.error("Service Error: Create Universe failed",f),f}},async renameUniverse(t,e){if(!e.trim())throw new Error("Name cannot be empty");try{await vc(Tn(qt,"environments",t),{name:e.trim()})}catch(n){throw console.error("Service Error: Rename Universe failed",n),n}},async deleteUniverse(t){try{await z1(Tn(qt,"environments",t))}catch(e){throw console.error("Service Error: Delete Universe failed",e),e}}},hoe="_overlay_1waj4_3",foe="_modal_1waj4_23",doe="_header_1waj4_42",moe="_title_1waj4_52",poe="_closeBtn_1waj4_59",goe="_form_1waj4_76",voe="_errorBanner_1waj4_81",yoe="_sectionLabel_1waj4_91",_oe="_formGroup_1waj4_101",boe="_row_1waj4_105",woe="_label_1waj4_114",xoe="_input_1waj4_122",Soe="_textarea_1waj4_122",Eoe="_divider_1waj4_151",Toe="_previewBox_1waj4_159",Aoe="_previewLabel_1waj4_170",Coe="_previewContent_1waj4_177",Roe="_footer_1waj4_183",Ioe="_cancelBtn_1waj4_192",Noe="_createBtn_1waj4_208",Et={overlay:hoe,modal:foe,header:doe,title:moe,closeBtn:poe,form:goe,errorBanner:voe,sectionLabel:yoe,formGroup:_oe,row:boe,label:woe,input:xoe,textarea:Soe,divider:Eoe,previewBox:Toe,previewLabel:Aoe,previewContent:Coe,footer:Roe,cancelBtn:Ioe,createBtn:Noe},Moe=({onClose:t,onSubmit:e})=>{const[n,r]=ee.useState(""),[i,s]=ee.useState(""),[l,c]=ee.useState(""),[h,f]=ee.useState(""),[m,p]=ee.useState(""),[v,b]=ee.useState(""),[w,S]=ee.useState(null),E=C=>{if(C.preventDefault(),S(null),!n.trim())return S("Universe Name is required.");if(!i.trim())return S("At least one Set is required.");if(!h.trim())return S("Root Node Name is required.");if(!m.trim())return S("Initial Axiom Name is required.");if(!v.trim())return S("Initial Axiom LaTeX is required.");const O=i.split(",").map(z=>z.trim()).filter(z=>z.length>0),A=l.split(",").map(z=>z.trim()).filter(z=>z.length>0);if(O.length===0)return S("Please enter valid set notation.");e({envName:n.trim(),sets:O,operators:A,rootNodeName:h.trim(),rootAxiomName:m.trim(),rootAxiomLatex:v.trim()})};return I.jsx("div",{className:Et.overlay,children:I.jsxs("div",{className:Et.modal,children:[I.jsxs("div",{className:Et.header,children:[I.jsx("h2",{className:Et.title,children:"Create New Universe"}),I.jsx("button",{onClick:t,className:Et.closeBtn,children:""})]}),I.jsxs("form",{onSubmit:E,className:Et.form,children:[w&&I.jsx("div",{className:Et.errorBanner,children:w}),I.jsx("div",{className:Et.sectionLabel,children:"1. Environment Context"}),I.jsxs("div",{className:Et.formGroup,children:[I.jsx("label",{className:Et.label,children:"Universe Name"}),I.jsx("input",{type:"text",value:n,onChange:C=>r(C.target.value),placeholder:"e.g. Group Theory",className:Et.input,autoFocus:!0})]}),I.jsxs("div",{className:Et.row,children:[I.jsxs("div",{className:Et.formGroup,children:[I.jsx("label",{className:Et.label,children:"Sets (comma sep.)"}),I.jsx("input",{type:"text",value:i,onChange:C=>s(C.target.value),placeholder:"e.g. G",className:Et.input})]}),I.jsxs("div",{className:Et.formGroup,children:[I.jsx("label",{className:Et.label,children:"Operators"}),I.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"e.g. *",className:Et.input})]})]}),I.jsx("hr",{className:Et.divider}),I.jsx("div",{className:Et.sectionLabel,children:"2. Genesis Node (Root)"}),I.jsxs("div",{className:Et.formGroup,children:[I.jsx("label",{className:Et.label,children:"Root Structure Name"}),I.jsx("input",{type:"text",value:h,onChange:C=>f(C.target.value),placeholder:"e.g. Magma",className:Et.input})]}),I.jsxs("div",{className:Et.formGroup,children:[I.jsx("label",{className:Et.label,children:"Initial Axiom Name"}),I.jsx("input",{type:"text",value:m,onChange:C=>p(C.target.value),placeholder:"e.g. Closure",className:Et.input})]}),I.jsxs("div",{className:Et.formGroup,children:[I.jsx("label",{className:Et.label,children:"Initial Axiom Definition (LaTeX)"}),I.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"\\forall a, b \\in G, a * b \\in G",className:Et.textarea,rows:3}),v&&I.jsxs("div",{className:Et.previewBox,children:[I.jsx("span",{className:Et.previewLabel,children:"Preview:"}),I.jsx("div",{className:Et.previewContent,children:I.jsx(Un,{latex:v})})]})]}),I.jsxs("div",{className:Et.footer,children:[I.jsx("button",{type:"button",onClick:t,className:Et.cancelBtn,children:"Cancel"}),I.jsx("button",{type:"submit",className:Et.createBtn,children:"Initialize Universe"})]})]})]})})},koe="_overlay_1mq3z_3",Doe="_modal_1mq3z_23",Ooe="_header_1mq3z_42",zoe="_title_1mq3z_51",Loe="_closeBtn_1mq3z_58",Voe="_tabs_1mq3z_70",qoe="_tab_1mq3z_70",Poe="_activeTab_1mq3z_93",Boe="_content_1mq3z_99",joe="_profileContainer_1mq3z_106",Uoe="_avatarLarge_1mq3z_114",Hoe="_initials_1mq3z_134",Foe="_userName_1mq3z_140",Goe="_badgeContainer_1mq3z_146",$oe="_roleBadge_1mq3z_150",Yoe="_admin_1mq3z_158",Xoe="_citizen_1mq3z_163",Koe="_statsRow_1mq3z_168",Qoe="_statBox_1mq3z_176",Zoe="_statValue_1mq3z_186",Woe="_statLabel_1mq3z_192",Joe="_footer_1mq3z_199",ele="_logoutBtn_1mq3z_204",tle="_leaderboardContainer_1mq3z_222",nle="_leaderboardList_1mq3z_226",rle="_leaderboardItem_1mq3z_232",ile="_rank_1mq3z_240",ale="_playerInfo_1mq3z_250",sle="_playerName_1mq3z_256",ole="_youTag_1mq3z_261",lle="_playerScore_1mq3z_274",ule="_loading_1mq3z_285",mt={overlay:koe,modal:Doe,header:Ooe,title:zoe,closeBtn:Loe,tabs:Voe,tab:qoe,activeTab:Poe,content:Boe,profileContainer:joe,avatarLarge:Uoe,initials:Hoe,userName:Foe,badgeContainer:Goe,roleBadge:$oe,admin:Yoe,citizen:Xoe,statsRow:Koe,statBox:Qoe,statValue:Zoe,statLabel:Woe,footer:Joe,logoutBtn:ele,leaderboardContainer:tle,leaderboardList:nle,leaderboardItem:rle,rank:ile,playerInfo:ale,playerName:sle,youTag:ole,playerScore:lle,loading:ule},cle=({onClose:t})=>{const{user:e,profile:n,logout:r}=Nc(),[i,s]=ee.useState("profile"),[l,c]=ee.useState([]),[h,f]=ee.useState(!1);return ee.useEffect(()=>{i==="leaderboard"&&(async()=>{f(!0);try{const p=D1(Rl(qt,"users"),lz("reputation.contributor","desc"),SJ(10)),b=(await fz(p)).docs.map(w=>({uid:w.id,...w.data()}));c(b)}catch(p){console.error("Failed to fetch leaderboard:",p)}finally{f(!1)}})()},[i]),I.jsx("div",{className:mt.overlay,children:I.jsxs("div",{className:mt.modal,children:[I.jsxs("div",{className:mt.header,children:[I.jsx("h2",{className:mt.title,children:"Citizen Hub"}),I.jsx("button",{onClick:t,className:mt.closeBtn,children:""})]}),I.jsxs("div",{className:mt.tabs,children:[I.jsx("button",{className:`${mt.tab} ${i==="profile"?mt.activeTab:""}`,onClick:()=>s("profile"),children:"My Profile"}),I.jsx("button",{className:`${mt.tab} ${i==="leaderboard"?mt.activeTab:""}`,onClick:()=>s("leaderboard"),children:"Leaderboard"})]}),I.jsxs("div",{className:mt.content,children:[i==="profile"&&I.jsxs("div",{className:mt.profileContainer,children:[I.jsx("div",{className:mt.avatarLarge,children:e?.photoURL?I.jsx("img",{src:e.photoURL,alt:"Avatar"}):I.jsx("span",{className:mt.initials,children:n?.displayName?.charAt(0).toUpperCase()||"?"})}),I.jsx("h3",{className:mt.userName,children:n?.displayName||e?.email||"Anonymous"}),I.jsx("div",{className:mt.badgeContainer,children:I.jsx("span",{className:`${mt.roleBadge} ${n?.role==="admin"?mt.admin:mt.citizen}`,children:n?.role==="admin"?" Administrator":" Citizen"})}),I.jsxs("div",{className:mt.statsRow,children:[I.jsxs("div",{className:mt.statBox,children:[I.jsx("span",{className:mt.statValue,children:n?.reputation?.creation||0}),I.jsx("span",{className:mt.statLabel,children:" Creation Point"})]}),I.jsxs("div",{className:mt.statBox,children:[I.jsx("span",{className:mt.statValue,children:n?.reputation?.contributor||0}),I.jsx("span",{className:mt.statLabel,children:" Contribution Point"})]})]}),I.jsx("div",{className:mt.footer,children:I.jsx("button",{onClick:r,className:mt.logoutBtn,children:"Sign Out"})})]}),i==="leaderboard"&&I.jsx("div",{className:mt.leaderboardContainer,children:h?I.jsx("div",{className:mt.loading,children:"Loading rankings..."}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:mt.tableHeader,children:[I.jsx("span",{style:{width:"40px"},children:"#"}),I.jsx("span",{style:{flex:1},children:"Citizen"}),I.jsx("span",{style:{width:"50px",textAlign:"center"},children:""}),I.jsx("span",{style:{width:"50px",textAlign:"center"},children:""})]}),I.jsx("ul",{className:mt.leaderboardList,children:l.map((m,p)=>I.jsxs("li",{className:mt.leaderboardItem,children:[I.jsxs("span",{className:mt.rank,children:["#",p+1]}),I.jsx("div",{className:mt.playerInfo,children:I.jsxs("span",{className:mt.playerName,children:[m.displayName||"Anonymous",m.uid===e?.uid&&I.jsx("span",{className:mt.youTag,children:"(You)"})]})}),I.jsx("span",{className:mt.playerScoreSecondary,title:"Creation Score",children:m.reputation?.creation||0}),I.jsx("span",{className:mt.playerScore,title:"Contributor Score",children:m.reputation?.contributor||0})]},m.uid))})]})})]})]})})},hle="_overlay_jx4lg_4",fle="_modal_jx4lg_18",dle="_header_jx4lg_33",mle="_closeBtn_jx4lg_48",ple="_toolbar_jx4lg_65",gle="_searchInput_jx4lg_73",vle="_batchBtn_jx4lg_89",yle="_content_jx4lg_113",_le="_loading_jx4lg_119",ble="_userTable_jx4lg_129",wle="_row_jx4lg_148",xle="_adminRow_jx4lg_157",Sle="_eligibleRow_jx4lg_161",Ele="_emptySearch_jx4lg_171",Tle="_identityCell_jx4lg_178",Ale="_userInfo_jx4lg_182",Cle="_avatar_jx4lg_188",Rle="_meta_jx4lg_201",Ile="_name_jx4lg_206",Nle="_email_jx4lg_214",Mle="_uid_jx4lg_219",kle="_eligibleBadge_jx4lg_226",Dle="_roleSelect_jx4lg_238",Ole="_novice_jx4lg_251",zle="_citizen_jx4lg_255",Lle="_admin_jx4lg_157",Vle="_disabled_jx4lg_264",qle="_lockMsg_jx4lg_270",Ple="_scoreCell_jx4lg_278",Ble="_scoreControl_jx4lg_282",jle="_currentScore_jx4lg_288",Ule="_adjustWrapper_jx4lg_294",Hle="_deltaInput_jx4lg_299",Fle="_applyBtn_jx4lg_314",pt={overlay:hle,modal:fle,header:dle,closeBtn:mle,toolbar:ple,searchInput:gle,batchBtn:vle,content:yle,loading:_le,userTable:ble,row:wle,adminRow:xle,eligibleRow:Sle,emptySearch:Ele,identityCell:Tle,userInfo:Ale,avatar:Cle,meta:Rle,name:Ile,email:Nle,uid:Mle,eligibleBadge:kle,roleSelect:Dle,novice:Ole,citizen:zle,admin:Lle,disabled:Vle,lockMsg:qle,scoreCell:Ple,scoreControl:Ble,currentScore:jle,adjustWrapper:Ule,deltaInput:Hle,applyBtn:Fle},Gle=({user:t,onRefresh:e})=>{const[n,r]=ee.useState(!1),[i,s]=ee.useState(""),[l,c]=ee.useState(""),h=(t.reputation?.creation||0)+(t.reputation?.contributor||0),f=t.role==="novice"&&h>=50,m=t.role==="admin",p=async b=>{if(b!==t.role){if(m){rt.error("Cannot modify another Admin");return}if(confirm(`Change role of ${t.displayName} to ${b}?`)){r(!0);try{await Fm.updateUserRole(t.uid,b),rt.success(`Role updated to ${b}`),e()}catch(w){console.error(w),rt.error("Failed to update role")}finally{r(!1)}}}},v=async(b,w,S)=>{if(m){rt.error("Cannot modify Admin reputation");return}const E=parseInt(w,10);if(!(isNaN(E)||E===0)){r(!0);try{await Fm.adjustReputation(t.uid,b,E),rt.success(`${b} adjusted by ${E>0?"+":""}${E}`),S(""),e()}catch(C){console.error(C),rt.error("Adjustment failed")}finally{r(!1)}}};return I.jsxs("tr",{className:`
      ${pt.row} 
      ${f?pt.eligibleRow:""}
      ${m?pt.adminRow:""}
    `,children:[I.jsx("td",{className:pt.identityCell,children:I.jsxs("div",{className:pt.userInfo,children:[I.jsx("div",{className:pt.avatar,children:t.displayName?.charAt(0).toUpperCase()||"?"}),I.jsxs("div",{className:pt.meta,children:[I.jsxs("span",{className:pt.name,children:[t.displayName||"Anonymous",m&&I.jsx("span",{title:"Protected User",children:" "})]}),I.jsx("span",{className:pt.email,children:t.email}),I.jsxs("span",{className:pt.uid,children:["ID: ",t.uid]}),f&&I.jsx("span",{className:pt.eligibleBadge,children:" Promotion Ready"})]})]})}),I.jsxs("td",{children:[I.jsxs("select",{value:t.role,onChange:b=>p(b.target.value),disabled:n||m,className:`${pt.roleSelect} ${pt[t.role]} ${m?pt.disabled:""}`,children:[I.jsx("option",{value:"novice",children:"Novice"}),I.jsx("option",{value:"citizen",children:"Citizen"}),I.jsx("option",{value:"admin",children:"Admin"})]}),m&&I.jsx("div",{className:pt.lockMsg,children:"Locked"})]}),I.jsx("td",{className:pt.scoreCell,children:I.jsxs("div",{className:pt.scoreControl,children:[I.jsxs("span",{className:pt.currentScore,children:[" ",t.reputation?.creation||0]}),!m&&I.jsxs("div",{className:pt.adjustWrapper,children:[I.jsx("input",{type:"number",className:pt.deltaInput,placeholder:"",value:i,onChange:b=>s(b.target.value)}),I.jsx("button",{onClick:()=>v("creation",i,s),disabled:!i||n,className:pt.applyBtn,children:"Apply"})]})]})}),I.jsx("td",{className:pt.scoreCell,children:I.jsxs("div",{className:pt.scoreControl,children:[I.jsxs("span",{className:pt.currentScore,children:[" ",t.reputation?.contributor||0]}),!m&&I.jsxs("div",{className:pt.adjustWrapper,children:[I.jsx("input",{type:"number",className:pt.deltaInput,placeholder:"",value:l,onChange:b=>c(b.target.value)}),I.jsx("button",{onClick:()=>v("contributor",l,c),disabled:!l||n,className:pt.applyBtn,children:"Apply"})]})]})})]})},$le=({onClose:t})=>{const[e,n]=ee.useState([]),[r,i]=ee.useState(!0),[s,l]=ee.useState(""),[c,h]=ee.useState(!1),f=async()=>{i(!0);try{const b=D1(Rl(qt,"users"),lz("createdAt","desc")),S=(await fz(b)).docs.map(E=>E.data());n(S)}catch(b){console.error("Failed to fetch users:",b),rt.error("Could not load user list")}finally{i(!1)}};ee.useEffect(()=>{f()},[]);const m=ee.useMemo(()=>{if(!s.trim())return e;const b=s.toLowerCase();return e.filter(w=>w.displayName?.toLowerCase().includes(b)||w.email?.toLowerCase().includes(b)||w.uid.includes(b))},[e,s]),p=ee.useMemo(()=>e.filter(b=>{const w=(b.reputation?.creation||0)+(b.reputation?.contributor||0);return b.role==="novice"&&w>=50}),[e]),v=async()=>{if(p.length!==0&&confirm(`Are you sure you want to promote ${p.length} eligible novices to Citizen?`)){h(!0);try{await Promise.all(p.map(b=>Fm.updateUserRole(b.uid,"citizen"))),rt.success(`Successfully promoted ${p.length} users!`),f()}catch(b){console.error("Batch failed",b),rt.error("Batch promotion encountered an error")}finally{h(!1)}}};return I.jsx("div",{className:pt.overlay,children:I.jsxs("div",{className:pt.modal,children:[I.jsxs("div",{className:pt.header,children:[I.jsx("h2",{children:"User Management"}),I.jsx("button",{onClick:t,className:pt.closeBtn,children:""})]}),I.jsxs("div",{className:pt.toolbar,children:[I.jsx("input",{type:"text",className:pt.searchInput,placeholder:"Search by name, email, or UID...",value:s,onChange:b=>l(b.target.value)}),p.length>0&&I.jsxs("button",{className:pt.batchBtn,onClick:v,disabled:c,title:`Promote ${p.length} users to Citizen`,children:[" Auto-Promote (",p.length,")"]})]}),I.jsx("div",{className:pt.content,children:r?I.jsx("div",{className:pt.loading,children:"Loading Users..."}):I.jsxs("table",{className:pt.userTable,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"User Identity"}),I.jsx("th",{children:"Role"}),I.jsx("th",{children:"Creation Score"}),I.jsx("th",{children:"Contributor Score"})]})}),I.jsx("tbody",{children:m.length>0?m.map(b=>I.jsx(Gle,{user:b,onRefresh:f},b.uid)):I.jsx("tr",{children:I.jsxs("td",{colSpan:4,className:pt.emptySearch,children:['No users found matching "',s,'"']})})})]})})]})})},Yle="_container_1d4f9_4",Xle="_headerBar_1d4f9_14",Kle="_logo_1d4f9_32",Qle="_authControls_1d4f9_41",Zle="_signInBtn_1d4f9_50",Wle="_adminIconBtn_1d4f9_66",Jle="_profileBtn_1d4f9_89",eue="_repBadge_1d4f9_118",tue="_repRow_1d4f9_125",nue="_repIcon_1d4f9_132",rue="_repValue_1d4f9_136",iue="_avatarSmall_1d4f9_143",aue="_mainContent_1d4f9_165",sue="_loading_1d4f9_179",oue="_title_1d4f9_186",lue="_subtitle_1d4f9_194",uue="_grid_1d4f9_203",cue="_card_1d4f9_212",hue="_cardHeader_1d4f9_233",fue="_titleRow_1d4f9_235",due="_cardTitle_1d4f9_242",mue="_adminControls_1d4f9_250",pue="_tagContainer_1d4f9_257",gue="_tag_1d4f9_257",vue="_description_1d4f9_274",yue="_enterBtn_1d4f9_281",_ue="_createCard_1d4f9_299",bue="_createContent_1d4f9_316",wue="_plusIcon_1d4f9_322",xue="_editContainer_1d4f9_331",Sue="_editInput_1d4f9_338",Eue="_editActions_1d4f9_342",Tue="_saveBtn_1d4f9_343",Aue="_cancelBtn_1d4f9_343",Cue="_editIconBtn_1d4f9_350",Rue="_deleteBtn_1d4f9_350",ft={container:Yle,headerBar:Xle,logo:Kle,authControls:Qle,signInBtn:Zle,adminIconBtn:Wle,profileBtn:Jle,repBadge:eue,repRow:tue,repIcon:nue,repValue:rue,avatarSmall:iue,mainContent:aue,loading:sue,title:oue,subtitle:lue,grid:uue,card:cue,cardHeader:hue,titleRow:fue,cardTitle:due,adminControls:mue,tagContainer:pue,tag:gue,description:vue,enterBtn:yue,createCard:_ue,createContent:bue,plusIcon:wue,editContainer:xue,editInput:Sue,editActions:Eue,saveBtn:Tue,cancelBtn:Aue,editIconBtn:Cue,deleteBtn:Rue},Iue=({onSelectUniverse:t})=>{const{user:e,profile:n,signInWithGoogle:r}=Nc(),i=n?.role==="admin",{environments:s,isLoading:l}=coe(),[c,h]=ee.useState(!1),[f,m]=ee.useState(!1),[p,v]=ee.useState(!1),[b,w]=ee.useState(null),[S,E]=ee.useState(""),C=(q,R)=>{q.stopPropagation(),w(R.id),E(R.name)},O=q=>{q?.stopPropagation(),w(null),E("")},A=async q=>{if(q.stopPropagation(),q.preventDefault(),!(!b||!S.trim()))try{await l6.renameUniverse(b,S),rt.success("Universe renamed successfully"),w(null)}catch(R){console.error("Failed to update name:",R),rt.error("Failed to update name")}},z=async q=>{const R=n?.uid||"system";try{await l6.createUniverse(q,R),rt.success("Universe created successfully"),h(!1)}catch(k){console.error("Failed to create universe:",k),rt.error("Error creating universe")}},U=async(q,R)=>{if(q.stopPropagation(),!!confirm(` ADMIN WARNING 
Delete this Universe? This cannot be undone.`))try{await l6.deleteUniverse(R),rt.success("Universe deleted")}catch(k){console.error("Delete failed:",k),rt.error("Failed to delete universe")}};return l?I.jsx("div",{className:ft.loading,children:"Loading Universes..."}):I.jsxs("div",{className:ft.container,children:[I.jsxs("header",{className:ft.headerBar,children:[I.jsx("div",{className:ft.logo,children:"BuildMath"}),I.jsxs("div",{className:ft.authControls,children:[i&&I.jsx("button",{className:ft.adminIconBtn,onClick:()=>v(!0),title:"Manage Users",children:""}),e?I.jsxs("button",{className:ft.profileBtn,onClick:()=>m(!0),title:"View Profile & Leaderboard",children:[I.jsxs("div",{className:ft.repBadge,children:[I.jsxs("div",{className:ft.repRow,children:[I.jsx("span",{className:ft.repIcon,children:""}),I.jsx("span",{className:ft.repValue,children:n?.reputation?.creation||0})]}),I.jsxs("div",{className:ft.repRow,children:[I.jsx("span",{className:ft.repIcon,children:""}),I.jsx("span",{className:ft.repValue,children:n?.reputation?.contributor||0})]})]}),I.jsx("div",{className:ft.avatarSmall,children:e?.photoURL?I.jsx("img",{src:e.photoURL,alt:"User"}):I.jsx("span",{children:n?.displayName?.charAt(0)||"U"})})]}):I.jsx("button",{onClick:r,className:ft.signInBtn,children:"Sign In with Google"})]})]}),I.jsxs("main",{className:ft.mainContent,children:[I.jsx("h1",{className:ft.title,children:"Algebraic Structures"}),I.jsx("p",{className:ft.subtitle,children:"Select an algebraic context to explore. Each algebraic structure defines its own sets and operators, anchoring the evolution of its structures."}),I.jsxs("div",{className:ft.grid,children:[i&&I.jsx("div",{className:`${ft.card} ${ft.createCard}`,onClick:()=>h(!0),children:I.jsxs("div",{className:ft.createContent,children:[I.jsx("div",{className:ft.plusIcon,children:"+"}),I.jsx("h3",{children:"Create Universe"})]})}),s.map(q=>I.jsxs("div",{className:ft.card,onClick:()=>t(q.id),children:[I.jsxs("div",{className:ft.cardHeader,children:[b===q.id?I.jsxs("div",{className:ft.editContainer,onClick:R=>R.stopPropagation(),children:[I.jsx("input",{type:"text",value:S,onChange:R=>E(R.target.value),className:ft.editInput,autoFocus:!0}),I.jsxs("div",{className:ft.editActions,children:[I.jsx("button",{onClick:A,className:ft.saveBtn,title:"Save",children:""}),I.jsx("button",{onClick:O,className:ft.cancelBtn,title:"Cancel",children:""})]})]}):I.jsxs("div",{className:ft.titleRow,children:[I.jsx("h2",{className:ft.cardTitle,children:q.name}),i&&I.jsxs("div",{className:ft.adminControls,children:[I.jsx("button",{className:ft.editIconBtn,onClick:R=>C(R,q),title:"Rename Universe",children:""}),I.jsx("button",{className:ft.deleteBtn,onClick:R=>U(R,q.id),title:"Delete Universe",children:""})]})]}),I.jsxs("div",{className:ft.tagContainer,children:[I.jsxs("span",{className:ft.tag,children:["Sets: ",I.jsx(Un,{latex:`\\{ ${q.sets.join(", ")} \\}`})]}),I.jsxs("span",{className:ft.tag,children:["Ops: ",I.jsx(Un,{latex:`\\{ ${q.operators.join(", ")} \\}`})]})]})]}),I.jsxs("div",{className:ft.description,children:["Contains ",I.jsxs("strong",{children:[q.sets.length," Sets"]})," and ",I.jsxs("strong",{children:[q.operators.length," Operators"]}),"."]}),I.jsx("button",{className:ft.enterBtn,children:"Enter "})]},q.id))]})]}),c&&I.jsx(Moe,{onClose:()=>h(!1),onSubmit:z}),f&&I.jsx(cle,{onClose:()=>m(!1)}),p&&I.jsx($le,{onClose:()=>v(!1)})]})};function Nue(){const[t,e]=ee.useState(null);return I.jsxs(jte,{children:[I.jsx(bP,{position:"top-center",reverseOrder:!1,toastOptions:{className:"dark-toast",duration:4e3,success:{iconTheme:{primary:"#4ade80",secondary:"black"}},error:{iconTheme:{primary:"#ef4444",secondary:"white"}}}}),I.jsx("div",{className:"app-container",children:t?I.jsx(uoe,{universeId:t,onExit:()=>e(null)}):I.jsx(Iue,{onSelectUniverse:e})})]})}kq.createRoot(document.getElementById("root")).render(I.jsx(EN.StrictMode,{children:I.jsx(Nue,{})}));
